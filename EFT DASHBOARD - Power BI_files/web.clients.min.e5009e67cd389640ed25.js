"use strict";var marker;this.parseTimeMarkers=this.parseTimeMarkers||{},(marker=this.parseTimeMarkers["web.clients.js"]||(this.parseTimeMarkers["web.clients.js"]={})).startEval=window.jsCommon&&window.jsCommon.performance&&window.jsCommon.performance.now?window.jsCommon.performance.now():Date.now(),window.perfTracking&&window.perfTracking.startBundleEval&&window.perfTracking.startBundleEval("web.clients.js"),(self.webpackChunkweb=self.webpackChunkweb||[]).push([[8],{36641:function(ve,z,e){e.d(z,{R:function(){return i},v:function(){return a}});var a=function(r){return r[r.Ready=0]="Ready",r[r.FailedAdd=1]="FailedAdd",r[r.FailedEdit=2]="FailedEdit",r[r.FailedAddLegacyOrTrustedVisualNotSupported=3]="FailedAddLegacyOrTrustedVisualNotSupported",r[r.FailedEditLegacyOrTrustedVisualNotSupported=4]="FailedEditLegacyOrTrustedVisualNotSupported",r[r.FailedAddCantParseVisualFile=5]="FailedAddCantParseVisualFile",r[r.FailedEditCantParseVisualFile=6]="FailedEditCantParseVisualFile",r[r.FailedEditVisualGuidMustMatch=7]="FailedEditVisualGuidMustMatch",r[r.FailedAddVisualAlreadyExists=8]="FailedAddVisualAlreadyExists",r[r.StartOfLockedStates=100]="StartOfLockedStates",r[r.AwaitingDelete=101]="AwaitingDelete",r[r.AwaitingAdd=102]="AwaitingAdd",r[r.AwaitingEdit=103]="AwaitingEdit",r}({}),i=function(r){return r[r.GetRequestFailed=0]="GetRequestFailed",r[r.DeleteRequestFailed=1]="DeleteRequestFailed",r[r.AddRequestFailed=2]="AddRequestFailed",r[r.EditRequestFailed=3]="EditRequestFailed",r[r.FailedAddCantParseVisualFile=4]="FailedAddCantParseVisualFile",r[r.FailedEditCantParseVisualFile=5]="FailedEditCantParseVisualFile",r[r.FailedAddLegacyOrTrustedVisualNotSupported=6]="FailedAddLegacyOrTrustedVisualNotSupported",r[r.FailedEditLegacyOrTrustedVisualNotSupported=7]="FailedEditLegacyOrTrustedVisualNotSupported",r[r.FailedEditVisualGuidMustMatch=8]="FailedEditVisualGuidMustMatch",r[r.FailedAddVisualAlreadyExists=9]="FailedAddVisualAlreadyExists",r[r.GetOutOfBoxRequestFailed=10]="GetOutOfBoxRequestFailed",r[r.AddVisualAlreadyExistsAsPrivate=11]="AddVisualAlreadyExistsAsPrivate",r}({})},565167:function(ve,z,e){e.d(z,{F7:function(){return p},FM:function(){return s},Kf:function(){return O},Pb:function(){return w},Qq:function(){return i},dw:function(){return c},g5:function(){return T},jn:function(){return N},rv:function(){return I},x5:function(){return u}});var a=e(404192),i="contentPackDirty",c=-1,s="#loading#",p="#error#",u="CannotDeleteModelPublishedToOrganizationalApp",T=!1,N="/"+(0,a.ls)()+"/images/modelPlaceholder.png",w=function(x){return x[x.Large=0]="Large",x[x.Regular=1]="Regular",x[x.Small=2]="Small",x}({}),I="1.7",O="No visual type"},858151:function(ve,z,e){e.d(z,{$u:function(){return a},Hd:function(){return i},I7:function(){return r}});var a=function(t){return t.Light="Light",t.Dark="Dark",t.ColorBlindFriendly="Color-blind friendly",t}({}),i={Light:"Light",Dark:"Dark","Color-blind friendly":"Color_Blind_Friendly",Custom:"Custom"};function r(){return{[a.Light]:{name:a.Light,foreground:"#000000",background:"#EAEAEA",dataColors:["#01B8AA","#374649","#FD625E","#F2C80F","#5F6B6D","#8AD4EB","#FE9666","#A66999"],tiles:{background:"#FFFFFF",color:"#000000"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#000000"}}}]}}}},[a.Dark]:{name:a.Dark,foreground:"#FFFFFF",background:"#484644",dataColors:["#51CFBE","#F55965","#FE9666","#92BEFF","#B577DF","#29B9EF","#3599B8","#DFBFBF"],tableAccent:"#E2A84E",tiles:{background:"#2B2B30",color:"#FFFFFF"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#FFFFFF"}}},{labelColor:{solid:{color:"#CECECE"}}}]}}}},[a.ColorBlindFriendly]:{name:a.ColorBlindFriendly,background:"#EAEAEA",foreground:"#000000",dataColors:["#074650","#009292","#FE6DB6","#FEB5DA","#480091","#B66DFF","#B5DAFE","#6DB6FF","#914800","#23FD23"],tiles:{background:"#FFFFFF",color:"#000000"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#000000"}}}]}}}}}}},6941:function(ve,z,e){e.d(z,{Ig:function(){return i},gH:function(){return r},nb:function(){return a}});var a=function(t){return t[t.composite=0]="composite",t[t.iframe=1]="iframe",t[t.image=2]="image",t[t.model=3]="model",t[t.ssrs=4]="ssrs",t[t.workbook=5]="workbook",t[t.report=6]="report",t[t.realTime=8]="realTime",t}({}),i=function(t){return t[t.NamedRange=0]="NamedRange",t[t.Parameter=1]="Parameter",t[t.Table=2]="Table",t[t.PivotTable=3]="PivotTable",t[t.Chart=4]="Chart",t[t.WebExtension=5]="WebExtension",t}({}),r=function(t){return t[t.PowerBIServiceException=0]="PowerBIServiceException",t[t.DSRException=1]="DSRException",t}({})},471212:function(ve,z,e){e.d(z,{w:function(){return a}});var a=function(i){return i.Home="home",i.Report="report",i.Dashboard="dashboard",i.GoalsHub="goalshub",i.Apps="contentprovider",i.DataHub="datahub",i}({})},301505:function(ve,z,e){e.d(z,{GU:function(){return r},y$:function(){return i}});var a=e(876082),i={name:"syncServiceDashboardEdited",type:a.U.Global},r={name:"syncServiceDashboardDeepEdited",type:a.U.Global}},598865:function(ve,z,e){e.d(z,{fv:function(){return r}});var r={color:"#374649",fontColor:"#FFF"}},504505:function(ve,z,e){e.d(z,{B:function(){return a}});var a=function(i){return i[i.Dashboard=0]="Dashboard",i[i.Report=1]="Report",i[i.Model=2]="Model",i[i.Workbook=3]="Workbook",i}({})},950989:function(ve,z,e){e.d(z,{x:function(){return o}});var a=e(594293),i=e(798553),r=e(974278);class o{constructor(n){this.contract=n,this.isEnabled=!0,this.isUsedByContentPack=!1,this.isLoaded=n&&null!=n.tiles,this.hitCount=0,this.lazyTiles=null,this.uniqueId=`${a.u9.Dashboard}_${this.contract.id}`}getPermissions(){var n;return this.getPermissionsCallback&&null!=(n=this.getPermissionsCallback())?n:this.contract&&this.contract.permissions}increaseHitCount(){this.hitCount++}get tiles(){return this.lazyTiles||(this.lazyTiles=new i.d(()=>[])),this.lazyTiles.getValue()}get id(){return this.contract.id}set id(n){this.contract.id=n}get folderId(){return this.contract.folderId}set folderId(n){this.contract.folderId=n}get objectId(){return this.contract.objectId}get canEdit(){return(0,r.mW)(this.contract)&&!(this.gridLayoutService&&this.gridLayoutService.strategy.isLayoutLocked)}get contentTileType(){return a.u9.Dashboard}isFilled(){return this.contract.tiles&&this.tiles.length===this.contract.tiles.length}calculateLayout(){this.layoutRequired=!1;var n=this.tiles;if(!_.isEmpty(n))for(var c of n)c.calculateLayout()}applyLayout(){var n=this.tiles;if(!_.isEmpty(n))for(var c of n)c.applyLayout()}runLayoutIfRequired(){this.layoutRequired&&(this.calculateLayout(),this.applyLayout())}scheduleDelayedLayout(n=!1){this.layoutRequired||(this.layoutRequired=!0,n||setTimeout(()=>{this.layoutRequired&&(this.calculateLayout(),this.applyLayout())},100))}findTile(n){return _.find(this.tiles,c=>c.id===n)}findTileByObjectIdOrOriginalObjectId(n,c){if(n||c)return _.find(this.tiles,s=>!_.isEmpty(n)&&s.contract.objectId===n||!_.isEmpty(c)&&s.contract.originalTileObjectId===c)}getTileIndex(n){return _.findIndex(this.tiles,c=>c.id===n)}getTileContractIndex(n){return _.findIndex(this.contract.tiles,c=>c.id===n)}getUniquePackageId(){var n=this.contract;return n.originalPackageId?n.originalPackageId:n.packageIds&&1===n.packageIds.length?n.packageIds[0]:void 0}hasModel(n){return _.some(this.tiles,c=>c.contract.modelId===n)}hasOwnerInfo(){return!_.isEmpty(this.ownerFullname)||!_.isEmpty(this.ownerMail)}}},467558:function(ve,z,e){e.d(z,{f:function(){return t}});var a=e(6941),i=e(328163),r=e(995417);function t(o,d){if(o&&o.type===a.nb.realTime){var n=d.tileModelConverter.convertTileConfig(o);d.tileModelConverter.convertTileLayoutConfig(o);var c=new r.N(o,d.visualPlugin,d.visualPluginOps,d.featureSwitchService,d.geolocationService,d.geocoder,d.promiseFactory,d.moduleLoader,d.telemetryService,d.themeService,d.authenticationService,d.localizationService,d.visualHostTooltipService,d.azureMapTokenCache,d.azureMapsEndpoint,d.geocoderIndexedDB);n&&n.realTimeVisual&&(c.config=n.realTimeVisual),c.displayText=o.displayText,c.subDisplayText=o.subDisplayText;var s=(0,i.mO)(o);return c.size={rowSpan:s.height,colSpan:s.width},c}}},316819:function(ve,z,e){e.d(z,{PS:function(){return M},RQ:function(){return T},hN:function(){return N},lB:function(){return I},pf:function(){return R},pr:function(){return w}});var a=e(814702),i=e(642551),r=e(698244),t=e(333129),o=e(11733),d=e(835528),n=e(318252),c=e(87866),s=e(691988),p=e(18122),l=e(454840),u=e(999904),v=e(933729),m=e(565167),g=e(6941),E=e(328163),D=e(992371),h=e(620825),C=100;function M(B,A,W){p.Y.assertValue(B,"pinData");var G=function(B,A){var W=function(B,A){var W={$visualContainer:B.visualContainer,$modelExtensions:B.modelExtensions,themeCollection:v.T.cloneThemeCollection(B.themeCollection),dataSourceVariables:B.dataSourceVariables};return function(B,A,W,G,K,q,ne,k,L){G&&(B.layoutType=G),W&&(B.elements=W),K&&(B.queryMetadata=K),ne&&(B.heading1=ne),q&&(B.heading2=q),k&&(B.heading3=k),A&&(B.transform=t.R.serializeTransformActions(t.R.serializeDataViewTransformActions(A,L&&L.objects)))}(W,B.dataTransforms,B.elements,B.tileLayoutType,B.queryMetadata,B.tileFilterDetails,B.tileHeading,B.tileSubDisplay,A),W}(B,A),G={version:m.rv},K=B.visualContainer.config.singleVisual.vcObjects?.title?.find(ne=>!ne.selector);if(G.hideTitle=!1===K?.properties?.show?.value,null!=B.realTimeDataWindow){var q=W;q.dataWindow=B.realTimeDataWindow,G.realTimeVisual=q}else G.visualContainer=W;return G}(B,A);B.tileDataType&&(G.tileDataType=B.tileDataType);var K=function(B,A,W,G,K){p.Y.assert(()=>A===g.nb.composite||A===g.nb.realTime,"Invalid type"),p.Y.assertValue(B,"tileConfig");var q=c.um,ne=c.m3;(0,D.d)(B)===s.N.card.name&&(q=c.aI,ne=c.AQ);var k=W?{modelQuery:{sq:JSON.stringify(W)}}:null,L=(0,E.Z5)({width:q,height:ne}),X={id:++C,type:A,query:k,$config:B,tileData:G?x(G.data):null,tileDataSet:G,layoutConfig:JSON.stringify(L),$layoutConfig:L},Y=B.visualContainer;return Y&&(X.displayText=Y.heading1,X.subDisplayText=Y.heading3),K&&(X.modelId=K.id),X}(G,null!=B.realTimeDataWindow?g.nb.realTime:g.nb.composite,B.query,B.dataViewSource,W);return K.publishState=a.li.Completed,B.action&&(K.action=JSON.stringify(B.action)),null!=B.utterance&&(K.query.modelQuery.utterance=B.utterance),B.name&&(K.name=B.name),K.reportId=B.reportId,B.modelId&&(K.modelId=B.modelId),B.packageId&&(K.packageId=B.packageId),K.resourcePackageIds=B.resourcePackageIds,K}function T(B,A,W,G,K,q,ne,k,L,X,Y,Q){var te,H={version:m.rv};(k||L)&&(H.reportTile={pod:k,filters:L}),X&&(te={modelQuery:{utterance:X}});var Te=Y?Y/(2*n.MW):2,He=Q?Q/(2*n.n3):2;0===Math.round(Te)&&(Te=2),0===Math.round(He)&&(Te=2);var We=Math.round(c.um*Te),ft=Math.round(c.m3*He);We=We>(0,d.D8)()?(0,d.D8)():We,ft=ft>(0,d.v7)()?(0,d.v7)():ft;var mt=(0,E.Z5)({width:We,height:ft});return{id:++C,type:g.nb.report,displayText:K,subDisplayText:q,action:JSON.stringify(ne),reportId:B,sectionId:G,modelId:A,packageId:W,publishState:a.li.Completed,query:te,config:H?JSON.stringify(H):void 0,$config:H,layoutConfig:JSON.stringify(mt),$layoutConfig:mt}}function N(B){return B.publishState===a.li.InProgress}function w(B){return B.errorCode===a.Oc.permissionLocked}function I(B,A){var W=[],G=function(B,A){var W=[{id:a.Fi.WebContent,title:A.get("AddWidgetModal_IframeOption_Title"),description:A.get("AddWidgetModal_IframeOption_Description"),iconClass:"pbi-glyph-iframe",template:"<edit-iframe-widget></edit-iframe-widget>",defaultTileContract:{type:g.nb.iframe,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{iframe:{srcUrl:"",embedCode:""},version:"1.0",widget:{id:a.Fi.WebContent,name:"webContent"}},$layoutConfig:(0,E.Z5)()},disabled:!B,tooltip:B?void 0:A.get("Dashboard_WebContentTiles_Disabled")},{id:a.Fi.Image,title:A.get("Image"),description:A.get("AddWidgetModal_ImageOption_Description"),iconClass:"pbi-glyph-image",template:"<edit-image-widget></edit-image-widget>",defaultTileContract:{type:g.nb.image,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{imageTile:{imageUrl:""},version:"1.0",widget:{id:a.Fi.Image,name:"image"}},$layoutConfig:(0,E.Z5)()}},{id:a.Fi.TextBox,title:A.get("Textbox"),description:A.get("AddWidgetModal_TextOption_Description"),iconClass:"pbi-glyph-font",template:"<edit-text-widget></edit-text-widget>",defaultTileContract:{type:g.nb.composite,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{version:"1.0",visualContainer:{layoutType:i.XO.Default,$visualContainer:{name:l.n4.generateGuid(),config:{singleVisual:{objects:{},visualType:"textbox"}}},themeCollection:{}},widget:{id:a.Fi.TextBox,name:"textbox"}},$layoutConfig:(0,E.Z5)()}},{id:a.Fi.Video,title:A.get("AddWidgetModal_VideoOption_Title"),description:A.get("AddWidgetModal_VideoOption_Description"),iconClass:"pbi-glyph-slideshow",template:"<edit-video-widget></edit-video-widget>",defaultTileContract:{type:g.nb.iframe,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{iframe:{srcUrl:"",embedCode:""},version:"1.0",widget:{id:a.Fi.Video,name:"video"}},$layoutConfig:(0,E.Z5)()},disabled:!B,tooltip:B?void 0:A.get("Dashboard_WebContentTiles_Disabled")}];return{title:A.get("Add_Widgets_Section_Title"),tiles:W}}(B,A);G&&!_.isEmpty(G.tiles)&&W.push(G);var K=function(B){var A=[];return A.push({id:a.Fi.RealtimeCard,title:B.get("Realtime_TileTitle"),description:B.get("Realtime_TileDetails"),iconClass:"pbi-glyph-streaming-data",defaultTileContract:{type:g.nb.realTime,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{realTimeVisual:{dataWindow:null,layoutType:i.XO.Default,$visualContainer:{name:l.n4.generateGuid(),config:{singleVisual:null}},themeCollection:{}},version:"1.0"},$layoutConfig:(0,E.Z5)({width:c.aI,height:c.AQ})}}),{title:B.get("Add_Realtime_Section_Title"),tiles:A}}(A);return K&&!_.isEmpty(K.tiles)&&W.push(K),_.cloneDeep(W)}function x(B){if(void 0!==B)return JSON.stringify(B,(A,W)=>A&&A.charAt&&"$"===A.charAt(0)?void 0:W)}function R(B,A,W,G){if(B){var K=_.cloneDeep(B),q=K.realTimeVisual||K.visualContainer;if(q){if(p.Y.assertValue(A,"Exploration serializer is required when serializing a composite tile"),G)q.visualContainer=A.serializeVisualContainer((B.realTimeVisual||B.visualContainer).$visualContainer);else{var ne=q.$visualContainer.config.singleVisual,k=(0,u._W)(ne.vcObjects,{objectName:"stylePreset",propertyName:"name"},void 0);k&&(0,h.VO)(k)&&k.value&&(q.stylePresetName=k.value),q.visual=ne.visualType,q.columnProperties=ne.columnProperties;var L=B.realTimeVisual||B.visualContainer,X=L.$visualContainer.config.singleVisual.objects;if(X){var Y=W.capabilities(ne.visualType);Y&&Y.objects&&(q.objects=(0,r.Eo)(X,Y.objects,void 0,!0))}var Q=B.visualContainer&&L.$visualContainer.config.singleVisual.vcObjects;Q&&(q.vcObjects=(0,r.Eo)(Q,o.Xe,void 0,!0)),K.visualContainer&&(K.visual=q,delete K.visualContainer),K.version="0.1"}q.$modelExtensions&&(q.modelExtensions=A.serializeModelExtensions(q.$modelExtensions)),delete q.$visualContainer,delete q.$modelExtensions}return JSON.stringify(K)}}},129922:function(ve,z,e){e.d(z,{O:function(){return u}});var a=e(844480),i=e(18122),r=e(893420),t=e(989417),o=e(454840),d=e(6941),n=e(364489),c=e(328163),s=e(867805),p=e(316819),l=e(344703);function u(m,g,E,D,h,C,y,f,S,b,V,M,P,T,N,w,I,O){return new v(m,g,E,D,h,C,y,f,S,b,V,M,P,T,N,w,I,O)}class v{constructor(g,E,D,h,C,y,f,S,b,V,M,P,T,N,w,I,O,x){this.geolocationService=g,this.telemetryService=E,this.visualPlugins=D,this.visualPluginOps=h,this.featureSwitchService=C,this.geocoder=y,this.promiseFactory=f,this.moduleLoader=S,this.tileConfigUpgraderService=b,this.explorationSerializer=V,this.themeService=M,this.authenticationService=P,this.localizationService=T,this.visualHostTooltipService=N,this.licenseUIManagerFactory=w,this.azureMapTokenCache=I,this.azureMapsEndpoint=O,this.geocoderIndexedDB=x}convertCompositeTile(g){if(!g||g.type!==d.nb.composite)return null;var D,E=this.convertTileConfig(g);if(this.convertTileLayoutConfig(g),!E||!E.visualContainer)return i.Y.assertFail("Invalid composite tile type"),null;(D=new l.xi(g,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geolocationService,this.geocoder,this.promiseFactory,this.moduleLoader,this.telemetryService,this.themeService,this.authenticationService,this.localizationService,this.visualHostTooltipService,this.azureMapTokenCache,this.azureMapsEndpoint,this.geocoderIndexedDB,this.licenseUIManagerFactory)).config=E.visualContainer,D.displayText=g.displayText,D.subDisplayText=g.subDisplayText;var h=(0,c.mO)(g);if(D.size={rowSpan:h.height,colSpan:h.width},D.isLoading=(0,p.hN)(g),g.queryResultError){D.isError=!0;var C=g.queryResultError;this.telemetryService.logEvent(n.tp,{tileType:d.nb[d.nb.composite],message:(0,t.G)("{0}:{1} with rootActivityId:{2}, modelId:{3} and tileId:{4}",(0,r.dI)(d.gH,C.type),C.errorDetail,C.rootActivityId,g.modelId.toString(),g.id.toString())});var y=(0,s.W9)(C,this.localizationService);y?(D.errorDetails=y,D.errorText=y.message):D.errorText=this.localizationService.get("Tile_ErrorText")}return D}convertTileData(g){if(g.tileDataSet)return g.tileDataSet;var E=this.convertTileConfig(g);try{g.tileDataSet=this.parseTileData(g,E.tileDataType)}catch(D){throw this.telemetryService.logEvent(n.tp,{tileType:d.nb[d.nb.composite],message:(0,t.G)("DsrParseError:{0} with modelId:{1} and tileId:{2}",D.message,g.modelId.toString(),g.id.toString())}),o.n4.ensureError(D)}return g.tileDataSet}convertTileConfig(g){i.Y.assertValue(g,"contract");var E=g.$config;if(!E){var D=(0,o.ni)("Parse tile config");try{var h=(E=g.$config=(0,s.Eu)(g.config)).visualContainer||E.realTimeVisual;this.deserializeVisualContainer(h),this.deserializeModelExtensions(h||E.visual),this.tileConfigUpgraderService.upgrade(g.id,E,g.query)}catch{i.Y.assertFail("Unable to parse tile config")}finally{D()}}return E}convertTileLayoutConfig(g){if(i.Y.assertValue(g,"contract"),!g.$layoutConfig){var E=(0,s.SS)(g);g.$layoutConfig=E,g.layoutConfig=JSON.stringify(E)}return g.$layoutConfig}deserializeVisualContainer(g){g&&g.visualContainer&&!g.$visualContainer&&(g.$visualContainer=this.explorationSerializer.deserializeCanvasItem(g.visualContainer))}deserializeModelExtensions(g){g&&g.modelExtensions&&!g.$modelExtensions&&(g.$modelExtensions=this.explorationSerializer.deserializeModelExtensions(g.modelExtensions))}parseTileData(g,E){var h,D=(0,o.ni)("Parse tile data");try{if(g.tileDataBinaryBase64Encoded){var C=(0,a.kU)(g.tileDataBinaryBase64Encoded);h=JSON.parse(C)}else g.tileData&&(h=JSON.parse(g.tileData));return{type:E,data:h}}finally{D()}}}},344703:function(ve,z,e){e.d(z,{xi:function(){return b}});var a=e(233390),i=e(814702),r=e(642551),t=e(709190),o=e(333129),d=e(562991),n=e(387797),c=e(729382),s=e(694398),p=e(894345),l=e(835528),u=e(87866),v=e(18122),m=e(693029),g=e(816030),E=e(999904),D=e(364489),h=e(867805),C=e(707563),y=e(620825);class f{constructor(M,P,T){this.useSmallPlotArea=!1,v.Y.assertValue(M,"contract"),v.Y.assertValue(P,"visualPlugins"),v.Y.assertValue(T,"visualPluginOps"),this.contract=M,this.visualPluginService=P,this.pluginOps=T}get type(){return v.Y.assertFail("this is an abstract property!"),null}get tileData(){return v.Y.assertFail("this is an abstract property!"),null}set tileData(M){v.Y.assertFail("this is an abstract property!")}get tileDataIsVolatile(){return v.Y.assertFail("this is an abstract function!"),!1}get isError(){return this._isError}isDataStale(M){return v.Y.assertFail("this is an abstract function!"),!1}set isError(M){this._isError=M,this.onErrorDelegate&&this.onErrorDelegate()}get heading1(){return this.config.heading1||""}setDependencies(M){this.dataProxy=M}setDataLoadEventDelegate(M){this.dataLoadEventDelegate=M}copyDependencies(M){M.dataProxy&&this.setDependencies(M.dataProxy)}}class b extends f{constructor(M,P,T,N,w,I,O,x,j,U,F,R,B,A,W,G,K){super(M,P,T),this.featureSwitchService=N,this.geolocationService=w,this.geocoder=I,this.promiseFactory=O,this.moduleLoader=x,this.telemetryService=j,this.themeService=U,this.authenticationService=F,this.localizationService=R,this.visualHostTooltipService=B,this.azureMapTokenCache=A,this.azureMapsEndpoint=W,this.geocoderIndexedDB=G,this.requiresResize=!1,v.Y.assertAnyValue(w,"geolocationService"),K&&(this.licenseUIManager=K.create()),this._visual={hostServices:this.createHostServices(K?{onNotifyLicense:ne=>this.onNotifyLicense(ne),onClearLicenseNotification:()=>this.onClearLicenseNotification(),onNotifyFeatureBlocked:ne=>this.onNotifyFeatureBlocked(ne)}:void 0),themeCollection:{}}}get type(){return i.gd.SingleVisual}get visual(){return this._visual}get themeCollection(){return this._visual&&this._visual.themeCollection}get heading1(){var M=this.config.heading1||"";if(!this.visual)return M;var P,T,N=this.visual.dataTransforms;N&&(P=N.selects);var w=this.visual.data;if(w&&(T=w.dataView),!1!==this.cachedShow&&void 0===this.cachedHeading){var I=(0,n.xC)(this.themeCollection,this.themeService,this.config.$visualContainer,this.featureSwitchService.featureSwitches,!1,T,P);if(I.dataViewObjects&&(void 0===this.cachedShow&&(this.cachedShow=(0,g._W)(I.dataViewObjects,{objectName:"title",propertyName:"show"},!0)),this.cachedShow)){var O=(0,g._W)(I.dataViewObjects,{objectName:"title",propertyName:"text"},null);null!==O?this.cachedHeading=O:_.isEmpty(M)&&(M=" ")}}return this.cachedHeading||M}setThemeName(M){this.ensureVisual();var P=this._visual.themeCollection;P.customTheme=P.customTheme||(0,d.T3)(M,t.X.RegisteredResources),P.customTheme.name=M}isDataStale(M){if(!M)return!1;var T=(0,p.t8)(this.contract.tileDataUpdatedTime),N=T&&T.getTime();return!!N&&M-N>36e5}setData(M,P,T){try{this.ensureVisual(),this._visual.data=M,this._visual.dataTransforms=P,this._visual.type=T,this.clearCache()}catch(N){this.telemetryService.logEvent(D.Tn,{visualType:T,source:N.fileName,lineNumber:N.lineNumber,columnNumber:N.columnNumber,stack:N.stack,message:N.message})}}createHostServices(M){return(0,c.H)({geocoder:this.geocoder,geolocation:this.geolocationService,localizationService:this.localizationService,moduleLoader:this.moduleLoader,promiseFactory:this.promiseFactory,visualHostTooltipService:this.visualHostTooltipService,authenticationService:this.authenticationService,getAzureMapToken:()=>this.azureMapTokenCache.getAzureMapToken(),azureMapsEndpoint:this.azureMapsEndpoint,geocoderIndexedDB:this.geocoderIndexedDB,canExpandCollapse:()=>!0,onNotifyLicense:M&&M.onNotifyLicense,onClearLicenseNotification:M&&M.onClearLicenseNotification,onNotifyFeatureBlocked:M&&M.onNotifyFeatureBlocked})}ensureVisual(){this._visual||(this._visual={hostServices:this.createHostServices(),themeCollection:{}},this.calculateLayout())}set config(M){if(v.Y.assertValue(M,"The tile config must exist while setting it in a composite tile"),this._config=M,this._visual){var P=M.$visualContainer.config.singleVisual,T=P.visualType;this._visual.type=T;var N=(0,E._W)(P.vcObjects,{objectName:"stylePreset",propertyName:"name"},void 0);this._visual.stylePresetName=N&&(0,y.VO)(N)&&N.value,this._visual.themeCollection=_.cloneDeep(M.themeCollection);var w,I,O=this.visualPluginService.capabilities(T);O&&(w=O.objects,I=P.objects);var x=(0,s.p)(M.transform);this._visual.dataTransforms=x?o.R.deserializeDataViewTransformActions(x,O):o.R.createTransformActions(M.queryMetadata,M.elements,w,I)}}get config(){return this._config}get tileData(){return this._tileData}set tileData(M){this._tileData=M,this.readDataView(!0)}get tileDataIsVolatile(){return this.contract.tileDataIsVolatile}refreshData(){this.readDataView(!1)}setDependencies(M){var P=!this.dataProxy&&this._tileData&&!this.isLoading;super.setDependencies(M),P&&this.refreshData()}readDataView(M){var P=this;return(0,a.A)(function*(){var T=P._visual.type;if(!P.visual||P.requiresData()){v.Y.assertValue(P._tileData,"tileData should be defined.");var N=P.dataProxy;if(N){if(P.contract.queryResultError){var w=(0,h.W9)(P.contract.queryResultError,P.localizationService);w?(P.isError=!0,P.errorDetails=w,P.errorText=w.message):P.errorText=P.localizationService.get("Tile_ErrorText")}if(!P._tileData||!P._tileData.data)return void(P.isLoading=!P.isError);var I=P._tileData,O={type:I.type,query:{dataSources:null,command:I.data},allowResultFromClientCache:M,perfId:T,kinds:P.pluginOps.dataViewKinds(T)},x=null;P.dataLoadEventDelegate&&(x=P.dataLoadEventDelegate(),P.dataLoadEventDelegate=null);try{var j=yield N.execute(O),F=j.dataReaderResult.error;P._visual.data={dataView:j&&j.dataReaderResult?j.dataReaderResult.dataView:null,dataViewSource:j&&j.dataViewSource?j.dataViewSource:null},P.isError=P.isError||null!=F,x&&(P.isError?x.reject():x.resolve())}catch{P.isError=!0,x&&x.reject()}}}else P._visual.data={dataView:null}})()}applyLayout(M,P){if(this.requiresResize){if(!P){var T=this.visual;T&&T.visual&&T.visual.update({viewport:T.viewport,dataViews:T.dataViews,suppressAnimations:!0,type:m.YL.Resize,resizeMode:M===l.JA.resized?m.OJ.Resized:M===l.JA.resizing?m.OJ.Resizing:void 0})}this.requiresResize=!1}}calculateLayout(M,P,T=1){if(M&&((!this.viewport||this.viewport.height!==M.height||this.viewport.width!==M.width)&&(this.requiresResize=!0),this.viewport=M),null!=P&&this.useSmallPlotArea!==P&&(this.useSmallPlotArea=P,this.requiresResize=!0),this.viewport){var N=this.viewport.height,w=this.viewport.width;(this._config&&this._config.layoutType)===r.XO.Full||(N-=this.useSmallPlotArea?C.Wo:C.Ju,w-=C.Ft),this._visual&&(this._visual.viewport={height:N,width:w,scale:T})}}canResizeTo(M){var P=this._visual&&this._visual.visual;return!!P&&(!P.canResizeTo||P.canResizeTo((0,u.$x)(M)))}getErrorLocId(M,P){return""}requiresData(){var M=this.visual,P=this.pluginOps;if(M){if(M&&M.type){if(!P)return!0;if(!P.isQueryVisual(M.type))return!1}return!0}}updateVisualInteractivityOptions(M){var P=this.visualPluginService.getInteractivityOptions(this._visual.type);typeof P.mobileTileInteractive<"u"&&(P.mobileTileInteractive=P.mobileTileInteractive&&M),this._visual.interactivityOptions=P}clearCache(){this.cachedHeading=void 0}onNotifyLicense(M){M!==m.Zb.General&&this.licenseUIManager.displayNotification(M)}onNotifyFeatureBlocked(M){this.licenseUIManager.displayFeatureBlockedBanner(M)}onClearLicenseNotification(){this.licenseUIManager.clearNotification()}}},892462:function(ve,z,e){e.d(z,{Q:function(){return i}});var a=e(87866);class i{constructor(t){this.contract=t}canResizeTo(t){return t.rowSpan===a.m3||t.colSpan===a.aI}getErrorLocId(t,o){return""}}},504781:function(ve,z,e){e.d(z,{R:function(){return r}});var a=e(87866),i=e(454840);class r{constructor(o){this.contract=o}get imageUrl(){return this._imageUrl}set imageUrl(o){this._imageUrl=o,o&&!this.isStatic&&0!==o.indexOf("data:")&&(this._imageUrl=i.n4.getAbsoluteUri(o))}canResizeTo(o){return o.rowSpan===a.m3||o.colSpan===a.aI}getErrorLocId(o,d){return""}}},57189:function(ve,z,e){e.d(z,{X:function(){return i}});var a=e(87866);class i{constructor(t){this.contract=t}canResizeTo(t){return t.rowSpan===a.AQ}getErrorLocId(t,o){return""}}},995417:function(ve,z,e){e.d(z,{N:function(){return u}});var a=e(233390),i=e(982689),r=e(136581),t=e(18122),o=e(893420),d=e(34584),n=e(337965),c=e(739732),s=e(328163),p=e(344703),l=e(689709);class u extends p.xi{constructor(m,g,E,D,h,C,y,f,S,b,V,M,P,T,N,w){super(m,g,E,D,h,C,y,f,S,b,V,M,P,T,N,w),this._visual=null,this._localizationService=M}setModelId(m){var g=this;return(0,a.A)(function*(){t.Y.assertAnyValue(m,"id"),g.contract.modelId=m,yield g.initialize()})()}getRealTimeModelId(){var m=this;return(0,a.A)(function*(){if(m.datasetStore){var g=m.contract;return m.datasetStore.findAll(g.modelId,!0).then(E=>{if(!_.isEmpty(E)){var D=_.find(E,C=>null==g.packageId||C.packageId===g.packageId);return D||(D=_.find(E,C=>(0,o.Lt)(C.permissions,i.M6.All))),D||(D=_.first(E)),{id:D.id,originalModelId:D.originalModelId,tableName:m.getSchemaTableName(),schema:m.getRealTimeConceptualSchema(),packageId:g.packageId}}})}})()}setRealTimeModelDependencies(m,g,E,D,h){super.setDependencies(m),t.Y.assertValue(g,"visualQueryGenerator"),t.Y.assertValue(E,"conceptualSchemaProxy"),t.Y.assertValue(D,"realTimeDataService"),this.visualQueryGenerator=g,this.conceptualSchemaProxy=E,this.realTimeDataService=D,this.datasetStore=h}copyRealTimeModelDependencies(m){var g=this;return(0,a.A)(function*(){if(t.Y.assertValue(m,"other"),m.schema&&(g.schema=m.schema),m.dataProxy&&m.realTimeDataService&&m.visualQueryGenerator&&m.conceptualSchemaProxy){g.setRealTimeModelDependencies(m.dataProxy,m.visualQueryGenerator,m.conceptualSchemaProxy,m.realTimeDataService,m.datasetStore),m.onErrorDelegate&&!g.onErrorDelegate&&(g.onErrorDelegate=m.onErrorDelegate);var E=yield m.getRealTimeModelId();g.realTimeDataService.replaceListener(E,m,g)}})()}onDataChanged(){var m=this;return(0,a.A)(function*(){if(t.Y.assertValue(m.visualQueryGenerator,"visualQueryGenerator"),t.Y.assertValue(m.dataProxy,"dataProxy"),m.singleVisualConfig){var g=c.t3,E=m.config;E&&E.dataWindow&&(g=E.dataWindow);var C,D=yield m.getDatasources(),h=m.visualQueryGenerator.execute({dataSources:D,schema:m.schema,config:m.singleVisualConfig,additionalFilters:null,dataWindow:g});!h||h.error?(h&&h.error&&(C=h.error.getDetails(m._localizationService)),m.onError(C)):m.dataProxy.execute(h.options).then(y=>{m.isError=!1;var f={dataView:y&&y.dataReaderResult?y.dataReaderResult.dataView:null},S=m.lastCategoryValue;try{var b=(0,l.ON)(f.dataView);if(null!=S&&null!=b&&S.valueOf()>=b.valueOf())return;m.lastCategoryValue=b}catch(V){}m.setData(f,h.transforms,m.config.$visualContainer.config.singleVisual.visualType),m.isLoading=!1},y=>{if(!(y instanceof r.$X)){var f=y&&y.getDetails(m._localizationService);m.onError(f)}})}})()}onError(m){m||(m=(new r.ND).getDetails(this._localizationService)),this.setErrorDetails(m)}getDatasources(){var m=this;return(0,a.A)(function*(){var g=yield m.getRealTimeModelId();if(g)return(0,l.hT)(g.id,g.originalModelId)})()}set singleVisualConfig(m){t.Y.assertValue(m,"config"),this.config.$visualContainer.config.singleVisual=m,this.onDataChanged()}get singleVisualConfig(){return this.config.$visualContainer.config.singleVisual}isDataStale(){return!1}initialize(){var m=this;return(0,a.A)(function*(){var g=(0,s.mO)(m.contract);return m.size={rowSpan:g.height,colSpan:g.width},m.getDatasources().then(E=>{if(E)return m.conceptualSchemaProxy.get(E).then(D=>(m.fixUpSchema(D),m.schema=D,m.getRealTimeModelId().then(h=>{m.realTimeDataService.subscribe(h,m)})))})})()}unsubscribe(){var m=this;return(0,a.A)(function*(){return m.getRealTimeModelId().then(g=>{if(g&&g.tableName)return m.realTimeDataService.unsubscribe(g,m)})})()}fixUpSchema(m){var g=m.schema(c.kU).entities;t.Y.assert(()=>g&&1===g.length,"Exactly 1 entity is expected.");var E=g[0].properties;for(var D of E)(D.type===n.eV.fromDescriptor({numeric:!0})||D.type===n.eV.fromDescriptor({integer:!0}))&&(D.kind=d.ye.Measure)}getSchemaTableName(){var m=this.getRealTimeConceptualSchema();if(m){var g=m.entities;return t.Y.assert(()=>1===g.length,"Expecting only one entity"),_.head(g).name}}getRealTimeConceptualSchema(){if(this.schema)return this.schema.schema(c.kU)}setErrorDetails(m){t.Y.assertValue(m,"errorDetails should be set"),this.errorDetails=m,this.errorText=m.message,this.isError=!0}}},980740:function(ve,z,e){e.d(z,{O:function(){return i}});var a=e(87866);class i{constructor(t){this.contract=t,this.exploration={contract:void 0,exploreCanvas:void 0,sections:[]},this.isError=!1,this.tilesUpdated=!1}canResizeTo(t){return t.rowSpan===a.m3||t.colSpan===a.aI}getErrorLocId(t,o){return""}}},847717:function(ve,z,e){e.d(z,{f:function(){return r}});var a=e(87866),i=e(454840);class r{constructor(o){this.contract=o}get imageUrl(){return this._imageUrl}set imageUrl(o){o&&(this._imageUrl=0!==o.indexOf("data:")?i.n4.getAbsoluteUri(o):o)}canResizeTo(o){return o.rowSpan===a.Ug||o.colSpan===a.pk}getErrorLocId(o,d){return""}}},707563:function(ve,z,e){e.d(z,{Bi:function(){return E},FA:function(){return B},Ft:function(){return F},Ju:function(){return U},VE:function(){return h},Wo:function(){return R},gs:function(){return w},lT:function(){return I},r4:function(){return y},vB:function(){return m},zJ:function(){return D}});var a=e(642551),i=e(316051),r=e(101751),t=e(859538),o=e(894345),d=e(579260),n=e(18122),c=e(924256),s=e(565167),p=e(858151),l=e(6941),u=e(328163),v=e(867805),m=function(k){return k[k.Dashboard=0]="Dashboard",k[k.Report=1]="Report",k[k.RdlReport=2]="RdlReport",k}({});function E(k){return!_.isEmpty(k)&&0===k.toLowerCase().indexOf(f)}function D(k){return!_.isEmpty(k)&&0===k.toLowerCase().indexOf(S)}function h(k){return!_.isEmpty(k)&&0===k.toLowerCase().indexOf(b)}function y(k){return E(k)||D(k)||h(k)||function(k){return!_.isEmpty(k)&&0===k.toLowerCase().indexOf(V)}(k)}var f="/dashboards/",S="/reports/",b="/rdlreports/",V="/workbooks/",w=65,I=55,U=20,F=20,R=8;class B{constructor(L,X,Y){this.forceOpenCustomLinksInNewTab=Y,this.isSelected=!1,this.hasConversation=!1,this.hasSpotlight=!1,this.contract=L,this.tileHeaderSize=s.Pb.Regular,this.layoutPosition={},this.localizationService=X,this.themeName=p.$u.Light,this.tileStyles={},this.tileHeaderStyles={},this.tileBackground={}}get gridLayouts(){return this.contract.$layoutConfig.layouts}get id(){return this.contract.id}set id(L){this.contract.id=L}get objectId(){return this.contract.objectId}get details(){switch(this.type){case l.nb.composite:return this.composite;case l.nb.iframe:return this.iframe;case l.nb.image:return this.image;case l.nb.model:return this.model;case l.nb.ssrs:return this.ssrs;case l.nb.workbook:return this.workbook;case l.nb.report:return this.reportTile;case l.nb.realTime:return this.realTime;default:return n.Y.assertFail("Invalid tile type"),null}}get shouldBeIncludedInTelemetryMeasurement(){return this.details&&!!this.details.shouldBeIncludedInTelemetryMeasurement}get isTemporary(){return this.id<=0}get isTileLoading(){return this.composite?this.composite.isLoading&&!this.composite.isError:this.isLoading}calculateLayout(L,X){var Y=this.getHeaderSizeByType(this.tileHeaderSize);if(!_.isNil(this.currentViewPort)&&_.isNil(L)&&!_.isNil(X)&&(L=this.currentViewPort),this.compositeTile&&L){var Q=L,H=this.tileHeaderSize===s.Pb.Small;if(_.isNil(X)||_.isNil(this.currentViewPort))H?this.hasTitle()?Q.height-=Y:(this.composite&&this.composite.config&&this.composite.config.layoutType)!==a.XO.Full&&(Q.height-=10):this.hasTitle()&&(this.hasSubtitle()?Q.height-=Y:Q.height-=Y-10),this.currentViewPort=Q;else if(X>0){var te={width:this.currentViewPort.width,height:this.currentViewPort.height};te.height-=X,te.height<=0?n.Y.assert(()=>te.height>0,"ViewPort height is zero or negative"):Q=te}this.compositeTile.calculateLayout(Q,H)}}getTileHeight(){return this.hasTitle()?this.getHeaderSizeByType(this.tileHeaderSize):0}applyLayout(L,X){this.compositeTile&&this.compositeTile.applyLayout(L,X)}invalidateLayout(){this.tryPopulateLayoutPositionValues()&&this.gridLayoutContext.onLayoutInvalidated()}tryPopulateLayoutPositionValues(){if(!this.gridLayoutContext||this.gridLayoutContext.isLayoutUpdateLocked)return!1;var L=this.gridLayoutContext.getActiveLayout(),Y=(0,d.u_)(this.contract.$layoutConfig.layouts).withId(L);return Y&&Y.position&&(this.layoutPosition=_.cloneDeep(Y.position)),!0}applyChanges(){if(this.contract&&this.gridLayoutContext){var L=_.cloneDeep(this.layoutPosition);(0,v.$X)(this.contract.$layoutConfig,L,this.gridLayoutContext.getActiveLayout()),this.contract.layoutConfig=JSON.stringify(this.contract.$layoutConfig)}}static isValidUrl(L,X){return!_.isEmpty(L)&&((0,c.U8)(L,!1)||X&&y(L))}getDisplayText(){return this.displayText?this.displayText:this.compositeTile?this.compositeTile.heading1:""}getSubDisplayText(){if(this.displayText&&this.subDisplayText)return this.subDisplayText;if(this.compositeTile){var L=this.compositeTile.config;if(!this.displayText&&L&&!_.isEmpty(L.heading3))return L.heading3}return""}shouldPlaceBulletSeperator(){return this.displayText&&this.displayText.length>0&&this.subDisplayText&&this.subDisplayText.length>0&&this.config&&this.config.lastRefreshTimeEnabled}get hrefTarget(){return this.action.openInSameTab&&!this.forceOpenCustomLinksInNewTab?"_self":"_blank"}get lastRefreshTimeInLocaleString(){var L=(0,o.t8)(this.contract.tileDataUpdatedTime),X="";return L?X=L.toLocaleString():this.datasetModel&&(X=this.datasetModel.lastRefreshTimeInLocaleString),X||""}get formattedTime(){var L;if(this.workbook){var X=this.contract.tilePackage;L=X?(0,o.t8)(X.lastRefreshTime):null}else L=(0,o.t8)(this.contract.tileDataUpdatedTime);return L?this.cachedRefreshTime&&L.getTime()===this.cachedRefreshTime.getTime()?this.cachedRefreshString:(this.cachedRefreshTime=L,this.cachedRefreshString=this.getFormattedDateString(L)):this.datasetModel?this.datasetModel.lastRefreshTimeInLocaleString:void 0}getFormattedDateString(L){var X=r.ZG,Y=(0,r.Yh)();return Y&&X(L,A,G,!1)?(0,t.xz)(L,this.localizationService):Y&&X(L,W,K,!0)?(0,r.iN)(this.localizationService.currentLanguageLocale,L):Y&&X(L,W,q,!0)?this.localizationService.format("DashboardTile_YesterdayTemplate",[(0,r.iN)(this.localizationService.currentLanguageLocale,L)]):Y&&X(L,W,ne,!0)?(0,r.KJ)(this.localizationService.currentLanguageLocale,L):(0,r.BD)(this.localizationService.currentLanguageLocale,L)}setDatasetModelAndPackageInfo(L,X){L&&(this.datasetModel=L,X&&(this.datasetModel.packagePublishStatus=X.publishOrRefreshStatus))}hasTitle(){return(!this.config||!this.config.hideTitle)&&(!_.isEmpty(this.displayText)||this.compositeTile&&!_.isEmpty(this.compositeTile.heading1))}hasSubtitle(){var L=this.config;return(!L||!L.hideTitle)&&(!_.isEmpty(this.subDisplayText)||L&&L.lastRefreshTimeEnabled)}lastRefreshTimeInLocaleWithLabel(){if(this.config&&this.config.lastRefreshTimeEnabled)return this.localizationService.format("Refreshed",[this.formattedTime])}setTileHeaderSize(L){this.tileHeaderSize!==L&&(this.tileHeaderSize=L,this.invalidateLayout())}get compositeTile(){return this.composite||this.realTime}hasLayoutDefinition(L){return!!(0,d.u_)(this.contract.$layoutConfig.layouts).withId(L)}hasLayoutPosition(L){return!!(0,u.kY)(this.contract,L)}removeLayoutPosition(L=i.v.PhonePortrait){return n.Y.assert(()=>L!==i.v.Master,"Cannot remove position for Master position"),this.hasLayoutDefinition(L)&&(this.addLayout({id:L,position:null},L),this.resetTileLayoutSizeAndPosition()),this.getCurrentTileLayoutDescriptor()}resetTileLayoutSizeAndPosition(){this.layoutPosition.x=null,this.layoutPosition.y=null,this.layoutPosition.height=null,this.layoutPosition.width=null,this.gridLayoutContext=null}removeLayoutDefinition(L=i.v.PhonePortrait,X=!0){return n.Y.assert(()=>L!==i.v.Master,"Cannot remove layout for Master position"),this.hasLayoutDefinition(L)&&(_.remove(this.contract.$layoutConfig.layouts,Y=>Y.id===L),X&&this.resetTileLayoutSizeAndPosition()),this.getCurrentTileLayoutDescriptor()}applyLayoutSize(L,X,Y){n.Y.assertValue(L,"size"),this.compositeTile&&(this.compositeTile.size={colSpan:L.colSpan,rowSpan:L.rowSpan}),this.applyLayout(X,Y)}getCurrentTileLayoutDescriptor(L,X,Y){return(0,v.XE)(this.contract,L||this.contract.$layoutConfig,X,Y)}buildLayoutDescriptor(){var L=_.cloneDeep(this.layoutPosition),X=_.cloneDeep(this.contract.$layoutConfig);(0,v.$X)(X,L,this.gridLayoutContext.getActiveLayout());var Y=this.composite&&this.composite.contract&&this.composite.contract.query,Q=Y&&(0,v.fv)(Y,L),H=null;return Y&&Q&&(this.composite.contract.query.modelQuery.sq=JSON.stringify(Q),H=JSON.stringify(this.composite.contract.query)),(0,v.XE)(this.contract,X,Y,H)}addLayout(L,X){return n.Y.assert(()=>X!==i.v.Master,"Cannot remove position for Master position"),n.Y.assertValue(L,"Cannot update with undefined"),this.removeLayoutDefinition(X),this.contract.$layoutConfig.layouts.push(L),this.getCurrentTileLayoutDescriptor()}getHeaderSizeByType(L){switch(L){case s.Pb.Large:return w;case s.Pb.Small:return 42;default:return 50}}}var A="minute",W="day",G=15,K=0,q=1,ne=6},7446:function(ve,z,e){e.d(z,{i:function(){return r}});var a=e(814702),i=e(87866);class r{constructor(o,d){this.contract=o,this.tileModel=d}canResizeTo(o){return o.rowSpan===i.m3||o.colSpan===i.aI}getErrorLocId(o,d){var n,c=[];switch(o){case a.Oc.workbookTileGeneralError:n="WorkbookTile_GeneralError";break;case a.Oc.workbookTileFileNotFound:n="WorkbookTile_FileNotFound";break;case a.Oc.workbookTileObjectNotFound:n="WorkbookTile_ObjectNotFound",c=this.contract.$config.workbookTile?[this.contract.$config.workbookTile.item]:["pinned object"];break;case a.Oc.workbookTileUnauthorized:n="WorkbookTile_Unauthorized";break;default:return""}return d.format(n,c)}hasImages(){return this.hasWorkbookTileConfig&&this.tileModel.config.workbookTile.images&&this.tileModel.config.workbookTile.images.length>0}get images(){return this.hasWorkbookTileConfig?this.tileModel.config.workbookTile.images:null}get hasWorkbookTileConfig(){return!!this.tileModel&&!!this.tileModel.config&&!!this.tileModel.config.workbookTile}}},362281:function(ve,z,e){e.d(z,{v:function(){return n}});var a=e(982689),i=e(336495),r=e(384897),t=e(594293),o=e(668983),d=e(893420);class n extends i.X{constructor(s){super(typeof s>"u"?0:s.id,r.v.Workbook,typeof s>"u"?0:s.packageId),this.contract=s}getPermissions(){var s;return this.getPermissionsCallback&&(s=this.getPermissionsCallback()),s||this.contract&&this.contract.permissions}get contentTileType(){return t.u9.Workbook}isOwner(){return(0,d.Lt)(this.getPermissions(),a.M6.All)}isPersonalized(){var s=this.getPermissions();return(0,d.Lt)(s,a.M6.ReadWrite|a.M6.Explore)&&!(0,d.Lt)(s,a.M6.All)}isEditable(){var s=this.editUrl;return this.isOwner()&&null!=s&&""!==s}get displayNameWithExtension(){var s=(0,o.Q)(this.contract.sourceFilePath);return this.displayName.concat(".").concat(s)}}},364489:function(ve,z,e){e.d(z,{Tn:function(){return r},tp:function(){return o}});var a=e(285264),i="PBI.TileDataUpdateException",r=a.Xi[i]=(0,a.Vp)(i),t="PBI.Dashboard.TileError",o=a.Xi[t]=(0,a.Vp)(t)},137494:function(ve,z,e){e.d(z,{C:function(){return v},CV:function(){return p},K_:function(){return d},Ru:function(){return c},V$:function(){return u},Y4:function(){return g},wg:function(){return l},zb:function(){return m}});var a=e(594293),i=e(647132),r=e(18122),t=e(454840),o=e(193741);function d(E){return E&&E.category===a.r8.OrganizationalApp}function c(E){return E.originalPackageId?E.originalPackageId:E.packageIds&&1===E.packageIds.length?E.packageIds[0]:void 0}function p(E,D){var h=(0,o.i)(E);return h&&h.toLocaleDateString(D.currentLanguageLocale,{month:"short",day:"numeric",year:"numeric"})}function l(E){return r.Y.assertValue(E,"AppUtils hasAppLogoImage appModel"),!(E.icon||_.isEmpty(E.iconUrl)&&_.isEmpty(E.localAppLogoImageData))}function u(E,D){if(r.Y.assertValue(E,"AppUtils getAppLogoImageUrl appModel"),r.Y.assertValue(D,"AppUtils getAppLogoImageUrl backendUri"),l(E)){if(E.localAppLogoImageData)return E.localAppLogoImageData;if(E.iconUrl)return t.n4.urlCombine(D,E.iconUrl)}}function v(E,D){if(l(E))return`url(${u(E,D)})`}function m(E){if(!E)return"inherit";var D=(0,i.IO)(E);return.299*D.R+.587*D.G+.144*D.B>125?"#000":"#FFF"}function g(E){if(E)return(0,i.KY)((0,i.IO)(E),.8,.2)}},328163:function(ve,z,e){e.d(z,{Ls:function(){return n},Th:function(){return d},Z5:function(){return c},bI:function(){return l},kY:function(){return p},mO:function(){return s}});var a=e(316051),i=e(870860),r=e(579260),t=e(18122);function d(g){var E=n(g);if(E&&E.Commands&&E.Commands.length>0){var D=E.Commands[0].SemanticQueryDataShapeCommand;return{defn:D.Query,shape:D.Binding}}return null}function n(g){if(g&&g.modelQuery&&g.modelQuery.sq){var E;try{E=JSON.parse(g.modelQuery.sq)}catch(h){}if(!E)return;var D=null;return function(g){return g.dataQuery&&g.dataQuery.Commands&&g.dataQuery.Commands.length>0}(E)?D=E.dataQuery:function(g){return g.Commands&&g.Commands.length>0}(E)?D=E:function(g){return g.defn}(E)&&(D={Commands:[{SemanticQueryDataShapeCommand:{Query:E.defn,Binding:E.shape}}]}),D}}function c(g={}){return{layouts:[{id:a.v.Master,position:g}]}}function s(g){var E=p(g,a.v.Master);return t.Y.assertValue(E,"masterLayout should always exist on tile"),E}function p(g,E){t.Y.assertValue(g,"tile"),t.Y.assertValue(g.$layoutConfig,"tile.$layoutConfig"),t.Y.assertValue(g.$layoutConfig.layouts,"tile.$layoutConfig.layouts");var h=(0,r.u_)(g.$layoutConfig.layouts).withId(E);return h?h.position:null}function l(g){switch(g){case i.nI.PowerBI:return"pbix";case i.nI.RdlReport:return"rdl";default:return"unknown"}}},974278:function(ve,z,e){e.d(z,{dV:function(){return l},s0:function(){return p},mW:function(){return c},TT:function(){return u}});var a=function(C){return C[C.Rows=0]="Rows",C[C.Columns=1]="Columns",C}({}),t=e(982689),o=e(894345),d=e(18122),n=3;function c(C){return(C.permissions&t.M6.Write)===t.M6.Write}function p(C){return!!C&&(0,o.Xc)(C)}function l(C,y){var f=[];if(!C)return f;var S=[],b=C.modelIds;if(_.isEmpty(b)||(S=b.slice(0)),_.map(C.tiles,N=>{null!=N.modelId&&S.push(N.modelId)}),_.isEmpty(S))return f;S=_.uniq(S);for(var M=0,P=S.length;M<P;M++){var T=_.filter(y,N=>N.id===S[M]);_.isEmpty(T)||f.push(T[0])}return f}function u(C,y){d.Y.assertValue(C,"items");var f=_.filter(C,X=>X.pos?.x>0&&X.pos?.y>0),S=[],V=_.sortBy(f,X=>{var Y=X.pos;return 1e3*Y.y+Y.x});for(var M of V){var P=M.pos;v(S,P.y,P.height)}var T=[],w=_.sortBy(f,X=>{var Y=X.pos;return 1e3*Y.x+Y.y});for(var I of w){var O=I.pos;v(T,O.x,O.width)}var x=function(C,y){d.Y.assertValue(C,"rowContexts"),d.Y.assertValue(y,"columnContexts");var S=_.isEmpty(C)?-1/0:_.maxBy(C,P=>P.size).size,b=_.isEmpty(y)?-1/0:_.maxBy(y,P=>P.size).size,V=_.every(C,P=>P.size===C[0].size),M=_.every(y,P=>P.size===y[0].size);return g(C,S,V)?a.Rows:g(y,b,M)?a.Columns:S<=b?a.Rows:a.Columns}(S,T),j=x===a.Rows?S:T,U=x===a.Rows?w:V,F=[],R=0;for(var B of j){for(var A=R+1;A<B.startPosition;A++)F.push(void 0);for(var W=B.startPosition;W<B.startPosition+B.size;W++)F.push(B.startPosition),R=W}var G=_.groupBy(U,X=>F[(x===a.Rows?X.pos.y:X.pos.x)-1]),K=[];for(var q of j)K=K.concat(G[q.startPosition]);var ne=_.map(K,X=>X.item);if(y){var k=_.filter(C,X=>!(X.pos?.x>0&&X.pos?.y>0)),L=_.map(k,X=>X.item);ne.push(...L)}return ne}function v(C,y,f){d.Y.assertValue(C,"contexts");var b=C[C.length-1];!_.isEmpty(C)&&y>=b.startPosition&&y<b.startPosition+b.size?y+f>b.startPosition+b.size&&(b.size=y+f-b.startPosition):C.push({startPosition:y,size:f})}function g(C,y,f){return C.length>1&&f&&y<=n}},193741:function(ve,z,e){e.d(z,{i:function(){return t}});var a=e(101751),i=e(18122),r=e(454840);function t(o){var d=r.n4.getDateFromWcfJsonString(o,!0);return d||(d=(0,a.jT)(o)),i.Y.assertValue(d,"could not parse dateTime"),d}},260275:function(ve,z,e){e.d(z,{WR:function(){return t},vk:function(){return o}});var a=e(982689),i=e(594293),r=e(893420);function t(n){return!(!n||n.packageType!==i.Rn.AppInstance||!n.contentProviderId&&!n.serviceContentProviderId)}function o(n){return(0,r.Lt)(n,a.M6.Write|a.M6.ReShare)}},992371:function(ve,z,e){function a(i){if(i){var r=i.visualContainer||i.realTimeVisual;if(r&&r.$visualContainer)return r.$visualContainer.config.singleVisual.visualType}}e.d(z,{d:function(){return a}})},867805:function(ve,z,e){e.d(z,{$X:function(){return M},Eu:function(){return w},SS:function(){return V},W9:function(){return b},Wc:function(){return g},XE:function(){return P},fv:function(){return N},if:function(){return m}});var a=e(642551),i=e(316051),r=e(827947),t=e(11733),o=e(821553),d=e(694398),n=e(44303),c=e(318252),s=e(579260),p=e(18122),l=e(316819),u=e(328163);class m{get hasScriptVisuals(){return this.rScriptCount>0||this.pythonScriptCount>0}constructor(){this.rScriptCount=0,this.pythonScriptCount=0}}function g(O,x,j,U,F,R,B,A){p.Y.assertValue(x,"singleVisualConfig"),p.Y.assertValue(j,"dataWindow"),p.Y.assertValue(U,"dataModel"),p.Y.assertValue(F,"schema"),p.Y.assertValue(R,"pinVisualService"),p.Y.assertValue(B,"visualPluginService");var W=A.execute({dataSources:O,schema:F,config:x,additionalFilters:null,dataWindow:j}),G=R.getPinData({name:"tile",config:{singleVisual:x},layouts:void 0},a.XO.Default,O,{},null,null,W,F);G.realTimeDataWindow=j;var K=B.capabilities((0,t.dP)(G));return(0,l.PS)(G,K,U)}function b(O,x){p.Y.assertValue(O,"getTileErrorDetailsFromQueryResultError: queryResultError");var j=(0,d.p)(O.errorDetail);if(j&&!_.isEmpty(j.DataShapes)){var U=j.DataShapes[0]["odata.error"];if(U)return new r.zx(U).getDetails(x)}}function V(O){if(p.Y.assertValue(O,"contract"),O.$layoutConfig)return O.$layoutConfig;var j,x={x:O.col,y:O.row,width:O.colSpan,height:O.rowSpan};if(O.layoutConfig)try{j=JSON.parse(O.layoutConfig),(0,s.u_)(j.layouts).withId(i.v.Master).position=x}catch{p.Y.assertFail("Unable to parse tile layout config")}else j={layouts:[{id:i.v.Master,position:x}]};return j}function M(O,x,j){var U=(0,s.u_)(O.layouts),F=U.withId(j);F||U.push(F={id:j,position:{}}),F.position=x}function P(O,x,j,U){return function(O){var x=O.layouts?.find(F=>F.id===i.v.Master);if(x?.position){var j=x.position;Object.assign(j,{x:j.x||void 0,y:j.y||void 0,width:j.width,height:j.height})}}(x),{id:O.id,row:null,col:null,rowSpan:null,colSpan:null,layoutConfig:JSON.stringify(x),query:U?j:null,updatedQuery:U,modelId:O.modelId,objectId:O.objectId}}function N(O,x){var j=(0,u.Ls)(O);if(j){var U=x.width*c.MW,F=x.height*c.n3,R=!1;for(var B of j.Commands){var A=B.ScriptVisualCommand;A&&(A.ViewportWidthPx!==U||A.ViewportHeightPx!==F)&&(A.ViewportWidthPx=U,A.ViewportHeightPx=F,B.ScriptVisualCommand=A,R=!0)}if(R)return j}}function w(O){var x=(0,d.p)(O),j=x?.visual?.themeCollection;return j?.baseTheme&&(j.baseTheme=I(j.baseTheme)),j?.customTheme&&(j.customTheme=I(j.customTheme)),j?.highContrastTheme&&(j.highContrastTheme=I(j.highContrastTheme)),j?.transientUserSetTheme&&(j.transientUserSetTheme=I(j.transientUserSetTheme)),null==x&&(x={version:n.e3}),x}function I(O){return(0,o.K8q)(O.version)||(O.version=(0,o.yR4)(O.version)),O}},148656:function(ve,z,e){e.d(z,{$q:function(){return s},AH:function(){return l},EP:function(){return b},F2:function(){return C},JD:function(){return T},Kt:function(){return o},Ly:function(){return W},O$:function(){return F},P5:function(){return v},Rx:function(){return f},U6:function(){return M},_Q:function(){return g},f0:function(){return r},pv:function(){return w},s3:function(){return O},tM:function(){return B},v0:function(){return j},xA:function(){return D}});var a=e(285264),i="PBI.Dashboard.RenameReport",r=a.Xi[i]=(0,a.Vp)(i),t="PBI.Dashboard.DeleteReport",o=a.Xi[t]=(0,a.Vp)(t),d="PBI.Dashboard.InitializeNavigationPaneModels",c=(a.Xi[d]=(0,a.Vp)(d),"PBI.Dashboard.RenameDataset"),s=a.Xi[c]=(0,a.Vp)(c),p="PBI.Dashboard.UpdateModelQnaFeatures",l=a.Xi[p]=(0,a.Vp)(p),u="PBI.Dashboard.UpdateFeaturedQuestions",v=a.Xi[u]=(0,a.Vp)(u),m="PBI.Dashboard.DeleteDataset",g=a.Xi[m]=(0,a.Vp)(m),E="PBI.Dashboard.AddUpdateDashboard",D=a.Xi[E]=(0,a.Vp)(E),h="PBI.Dashboard.RenameWorkbook",C=a.Xi[h]=(0,a.Vp)(h),y="PBI.Dashboard.RemoveWorkbook",f=a.Xi[y]=(0,a.Vp)(y),S="PBI.Dashboard.GetWorkbookWopiAccessInformation",b=a.Xi[S]=(0,a.Vp)(S),V="PBI.Dashboard.ImportResourcePackagesOnLoad",M=a.Xi[V]=(0,a.Vp)(V),P="PBI.Dashboard.GetNavigationPanePackage",T=a.Xi[P]=(0,a.Vp)(P),N="PBI.TileConfig.UpgradeTileConfig",w=a.Xi[N]=(0,a.Vp)(N),I="PBI.Permissions.UpdateArtifactVisibility",O=a.Xi[I]=(0,a.Vp)(I),x="PBI.Datapool.UpdateProperties",j=a.Xi[x]=(0,a.Vp)(x),U="PBI.Http.RequestThrottled",F=a.Xi[U]=(0,a.Vp)(U),R="PBI.Dataset.GetSharedDatasets",B=a.Xi[R]=(0,a.Vp)(R),A="PBI.Dataset.GetReadonlySharedDatasets",W=a.Xi[A]=(0,a.Vp)(A)},277478:function(ve,z,e){function a(i,r,t,o,d,n){var c={filtersNamesAndRestatements:[]};if(!r||_.isEmpty(r.dataFiltersUnmerged))return c;var s=o.capabilities(t.visualType);for(var p of r.dataFiltersUnmerged)if(!p.isHidden){var l=d.getFilterRestatementForOverlay(p,i,s,null,t);if(!_.isEmpty(l))for(var u of l)c.filtersNamesAndRestatements.push({displayName:u.fieldName,qualifiedDisplayName:u.fieldNameToolTip,restatement:u.restatements.join(n.get("ListJoin_Separator"))})}return c}e.d(z,{X:function(){return a}})},431129:function(ve,z,e){e.d(z,{Y:function(){return o},g:function(){return t}});var a=e(379899),i=e(18122),r=e(293444);function t(d){switch(d){case a.pe.Binary:return r.W.Binary;case a.pe.Boolean:return r.W.Boolean;case a.pe.Currency:return r.W.Decimal;case a.pe.Number:return r.W.Double;case a.pe.Date:return r.W.Date;case a.pe.DateTime:return r.W.DateTime;case a.pe.Time:return r.W.Time;case a.pe.WholeNumber:return r.W.Integer;case a.pe.Text:return r.W.Text;case a.pe.Variant:return r.W.Variant;default:i.Y.assertNever(d)}}function o(d){if(null!=d)switch(d){case r.W.Null:return;case r.W.Text:return a.pe.Text;case r.W.Decimal:return a.pe.Currency;case r.W.Double:return a.pe.Number;case r.W.Integer:return a.pe.WholeNumber;case r.W.Boolean:return a.pe.Boolean;case r.W.Date:return a.pe.Date;case r.W.DateTime:case r.W.DateTimeZone:return a.pe.DateTime;case r.W.Time:return a.pe.Time;case r.W.Duration:return a.pe.DateTime;case r.W.Binary:return a.pe.Binary;case r.W.None:return;case r.W.Variant:return a.pe.Variant;case r.W.Json:return a.pe.Text;default:i.Y.assertNever(d)}}},776766:function(ve,z,e){e.d(z,{Ae:function(){return p},E2:function(){return n},JD:function(){return o},Xf:function(){return d},w$:function(){return r},y9:function(){return c}});var a=e(18122),i=e(757406);function r(v,m){return new t(v,m)}class t{constructor(m,g){if(a.Y.assertValue(m,"plugins"),g){var E=function(h){a.Y.assert(()=>!!_.find(m,C=>C.name===g[h].extends),`plugin extension type '${h}' extends a plugin '${g[h].extends}' which doesn't exist`),a.Y.assert(()=>!_.some(m,C=>C.name===g[h].name),`Cannot register plugin extension type '${h}'. A plugin with that name already exists.`)};for(var D in g)E(D)}this.plugins=m,this.extensions=g||{}}getPlugin(m){return this.plugins[u(m)]}getExtension(m){return this.extensions[m]}}function o(v,m){return s(v,c(m))}function d(v,m){if(_.isEmpty(v))return[];var g;if(!_.isEmpty(m)){for(var E of(g=[],m))if(E instanceof i.Dw){var D=E.getTargetEntity();g.push(D.schema)}g=_.uniq(g)}return s(v,g)}function n(v){return a.Y.assertValue(v,"reference"),u(v.type)}function c(v){if(a.Y.assertAnyValue(v,"query"),v){var m=[];return new l(m).run(v),m}}function s(v,m){var g=[];for(var E of v)if(_.isEmpty(m)||_.includes(m,E.name)){var D=n(E);_.includes(g,D)||g.push(D)}return g}function p(v){return _.chain(v).map(m=>n(m)).uniq().value()}class l{constructor(m){this.schemas=m}run(m){var g=m.from();for(var E of g.keys())g.source(E).accept(this,void 0)}visitEntity(m){this.visitEntityOrPod(m)}visitPod(m){this.visitEntityOrPod(m)}visitSubquery(m){this.run(m.subquery)}visitExpr(m){}visitNativeTable(m){}visitEntityOrPod(m){a.Y.assertValue(m,"source");var g=m.schema,E=this.schemas;_.includes(E,g)||E.push(g)}}function u(v){return v||"dsr"}},719763:function(ve,z,e){e.d(z,{H:function(){return t}});var a=e(579260),i=e(18122),r=e(776766);function t(c,s){return new o(c,s)}class o{constructor(s,p){i.Y.assertValue(s,"factory"),i.Y.assertValue(p,"hostServices"),this.factory=s,this.hostServices=p,this.readers={},this.queryGen={},this.schemaReaders={}}reader(s){return i.Y.assertAnyValue(s,"typeOrTypes"),this.findSinglePropertyDefinition((0,a.eC)(s),p=>p.reader(this.hostServices),_.noop,this.readers)}readerType(s){i.Y.assertAnyValue(s,"typeOrTypes");var p=this.resolvePluginProperty((0,a.eC)(s),l=>l.reader(this.hostServices),_.noop,this.readers);return p&&p.type}queryGenerator(s){return i.Y.assertAnyValue(s,"typeOrTypes"),this.findSinglePropertyDefinition((0,a.eC)(s),p=>p.queryGenerator&&p.queryGenerator(),_.noop,this.queryGen)}queryExtensionLookup(s){i.Y.assertAnyValue(s,"referenceOrReferences");var p=(0,a.eC)(s),l=_.chain(p).map(m=>(0,r.E2)(m)).uniq().value(),u=this.findSingleBasePropertyDefinition(l,m=>m.queryExtensionProvider&&d(m.name,p,m.queryExtensionProvider));return function(c,s){if(c||s)return c?(p,l)=>c(p,l,s):s}(this.findSingleExtensionPropertyDefinition(l,m=>m.queryExtensionProvider&&d(m.name,p,m.queryExtensionProvider)),u)}schemaReader(s){return i.Y.assertAnyValue(s,"type"),this.findSinglePropertyDefinition([s],p=>p.schemaReader&&p.schemaReader(this.hostServices),p=>p.schemaReader&&p.schemaReader(this.hostServices),this.schemaReaders)}getCacheKey(s){var p=(0,a.eC)(s);return p.length<2?p[0]:"["+p.join(",")+"]"}findSinglePropertyDefinition(s,p,l,u){var v=this.getCacheKey(s),m=u[v];if(m)return m;var g=this.resolvePluginProperty(s,p,l,u);return g?u[v]=g.property:void 0}findSingleExtensionPropertyDefinition(s,p){var l,u;for(var v of s){var m=this.factory.getPlugin(v);if(m){if(u&&u!==m.name)return;u=m.name}else{var g=this.factory.getExtension(v);if(!g||u&&u!==g.extends)return;u=g.extends;var E=p(g);if(E){if(l&&E!==l)return;l=E}}}return l}findSingleBasePropertyDefinition(s,p){var l,u;for(var v of s){var m=this.factory.getPlugin(v);if(m){if(u&&u!==m.name)return;u=m.name;var g=p(m);if(g){if(l&&g!==l)return;l=g}}}return l}resolvePluginProperty(s,p,l,u){var v;for(var m of s){var g=this.resolveProperty(m,p,l,u);if(!g||v&&g.property!==v.property)return;v=g}return v}resolveProperty(s,p,l,u){var v,m;if(u&&(m=u[v=this.getCacheKey(s)]))return{type:s,property:m};var g=this.factory.getPlugin(s);if(g)return(m=p(g))?(u&&(u[v]=m),{type:s,property:m}):void 0;var E=this.factory.getExtension(s);return E?(m=l(E))?(u&&(u[v]=m),{type:s,property:m}):this.resolveProperty(E.extends,p,l,u):void 0}}function d(c,s,p){var l=[];for(var u of s){var v=(0,r.E2)(u);v===c&&l.push(u[v])}return p(l)}},919879:function(ve,z,e){e.d(z,{Eg:function(){return f},_w:function(){return C},Bv:function(){return y}});var a=e(98138),i=e(18122),r=e(454840),t=e(757406),o=e(73646),d=e(579260),n=e(382534);function m(O,x){i.Y.assertValue(O,"collection"),i.Y.assertValue(x,"toRemove");var j=O.indexOf(x);i.Y.assert(()=>j>=0,"the metadata column to be removed should exist in the collection before the removal"),j>=0&&O.splice(j,1)}function g(O,x){i.Y.assertValue(x,"dataViewCategorical");var j=x.categories;if(j)for(var U of j)U.values.splice(0),U.identity.splice(0);var F=x.values;if(F){var R=F.grouped();if(!_.isEmpty(R)){var B=R[0],A=O.columns,W=function(){var H=G.source;if(H.groupName){var te=_.find(A,ee=>!ee.groupName&&ee.index===H.index&&ee.isMeasure===H.isMeasure);te?(G.source=te,m(A,H)):delete H.groupName}};for(var G of B.values)W();var K=[{values:B.values,objects:B.objects}];if(F.grouped=()=>K,R.length>=2){var q=B.values.length;if(q>0){for(var k=q*(R.length-1),L=q,X=q+k;L<X;L++)m(A,F[L].source);F.splice(q,k)}}}for(var Q of F)Q.values.splice(0),delete Q.identity}i.Y.assert(()=>!j||_.every(j,H=>_.isEmpty(H.values)&&_.isEmpty(H.identity)),"values and identity should be cleared in all category columns"),i.Y.assert(()=>!F||_.every(F.grouped(),H=>!H.name&&!H.identity),"name and identity should be cleared in all series instances"),i.Y.assert(()=>!F||_.every(F,H=>_.isEmpty(H.values)),"All values in measure columns should be removed")}function D(O,x){if(i.Y.assertValue(O,"values"),i.Y.assertValue(x,"indicesToRemove"),i.Y.assert(()=>(0,d.zW)(x,!0),"indicesToRemove is expected to be in descending order"),i.Y.assert(()=>_.uniq(x).length===x.length,"indicesToRemove is not expected to contain any duplicate"),!_.isEmpty(x)){if(i.Y.assert(()=>0<=_.last(x)&&_.head(x)<O.length,"elements in indicesToRemove must be valid indices to the values array."),O.length===x.length)return void O.splice(0);var j,U=0;for(var F of x)void 0===j||j===F+1?(j=F,U++):(O.splice(j,U),j=F,U=1);i.Y.assertValue(j,"nextSpliceStart must be defined because this function returns early if indicesToRemove is empty."),O.splice(j,U)}}var h=e(303609);function C(O,x){if(i.Y.assertValue(O,"restrictiveFilter"),i.Y.assertValue(x,"baseFilter"),!(0,a.fB)(O,x))return!1;var j=O.condition,U=x.condition;if(j instanceof t.v6&&U instanceof t.v6){var F=I(j),R=I(U);if(F&&R&&(0,a.aI)(F.otherSide,R.otherSide))return(0,r.gR)(N(F.constantValue),N(R.constantValue))}return!1}function y(O,x){i.Y.assertNonEmpty(O,"selects"),i.Y.assertNonEmpty(x,"filters");var j=_.some(x,R=>!function(O){return i.Y.assertValue(O,"filter"),!O.target}(R));if(!j){var U=new w(O);for(var F of x)F.condition.accept(U);return U.getClientSideFiltersIfAllSupported()}}function f(O,x){if(i.Y.assertValue(O,"queryDataView"),i.Y.assertAnyValue(x,"clientSideFilters"),!_.isEmpty(x)&&!_.isEmpty(O.metadata.columns)){i.Y.assert(()=>_.every(x,R=>_.some(O.metadata.columns,B=>!B.isMeasure&&B.index===b(R))),"Client-side filtering on measure columns is not yet implemented; only attribute filters are supported at the moment.");var j=O.categorical;if(j){var U=function(O,x){if(i.Y.assertAnyValue(O,"seriesMetadataColumn"),i.Y.assertValue(x,"clientSideFilters"),O){var j=V(x,[O]);if(!_.isEmpty(j)){return F=>{if(F.identity){var B=F.name;for(var A of j)if(T(A,B))return!0}return!1}}}}(j.values&&j.values.source,x),F=function(O,x){i.Y.assertValue(O,"categories"),i.Y.assertValue(x,"clientSideFilters");var j=V(x,_.map(O,F=>F.source));if(!_.isEmpty(j)){return(F,R)=>{var A,B=function(G){if(_.every(R,q=>T(G,q.values[F])))return{v:!0}};for(var W of j)if(A=B(W))return A.v;return!1}}}(j.categories,x);!function(O,x,j,U){i.Y.assertValue(x,"dataViewCategorical"),i.Y.assertAnyValue(j,"categoryRemovalPredicate"),i.Y.assertAnyValue(U,"seriesRemovalPredicate"),U&&function(O,x,j){i.Y.assertValue(x,"dataViewCategorical"),i.Y.assertValue(j,"removalPredicate");var U=x.values&&x.values.grouped();if(!_.isEmpty(U)){var R=function(O,x,j){i.Y.assertAnyValue(O,"seriesMetadataColumn"),i.Y.assertValue(x,"seriesInstances"),i.Y.assertValue(j,"removalPredicate");for(var U=[],F=x.length-1;F>=0;F--)j(x[F],O)&&U.push(F);return U}(x.values&&x.values.source,U,j);!function(O,x,j){if(i.Y.assertValue(x&&x.values&&!_.isEmpty(x.values.grouped()),"dataViewCategorical must be defined and the grouped() function must return non-empty result"),i.Y.assertValue(j,"seriesIndicesToRemove"),i.Y.assert(()=>(0,d.zW)(j,!0),"seriesIndicesToRemove is expected to be in descending order"),i.Y.assert(()=>_.uniq(j).length===j.length,"seriesIndicesToRemove must not contain duplicate values"),!_.isEmpty(j)){var U=x.values,F=U.grouped();if(F.length===j.length)return void g(O,x);var R=F[0].values.length;if(i.Y.assert(()=>_.every(F,G=>G.values.length===R),"all series instances returned by grouped() are expected to have the same number of measure columns"),R>0){var B=O.columns,A=function(){var G=W*R;i.Y.assert(()=>G+R-1<U.length,"Verifying that the index of the last column in this series instance is a valid index to the seriesAndMeasures array.");for(var K=G,q=G+R;K<q;K++)m(B,U[K].source);U.splice(G,R)};for(var W of j)A()}D(F,j),U.grouped=()=>F}}(O,x,R)}}(O,x,U),j&&function(O,x,j){i.Y.assertValue(x,"dataViewCategorical"),i.Y.assertValue(j,"removalPredicate");var U=x.categories;if(!_.isEmpty(U)){var F=function(O,x){i.Y.assertNonEmpty(O,"categories"),i.Y.assertValue(x,"removalPredicate");var j=O[0].values.length;i.Y.assert(()=>_.every(O,R=>R.values.length===j),"Expecting all category columns to have the same number of values.");for(var U=[],F=j-1;F>=0;F--)x(F,O)&&U.push(F);return U}(U,j);!function(O,x,j){if(i.Y.assertValue(x,"dataViewCategorical"),i.Y.assertValue(j,"rowIndicesToRemove"),i.Y.assert(()=>(0,d.zW)(j,!0),"rowIndicesToRemove is expected to be in descending order"),i.Y.assert(()=>_.uniq(j).length===j.length,"rowIndicesToRemove must not contain duplicate values"),!_.isEmpty(j)){if((0,n.sN)(x)===j.length)return void g(O,x);i.Y.assert(()=>(0,n.sN)(x)>0,"If rowIndicesToRemove is non-empty, then the categorical must have at least 1 row.");var U=x.categories;if(!_.isEmpty(U))for(var F of U)D(F.values,j),D(F.identity,j);var R=x.values;if(!_.isEmpty(R))for(var B of R)D(B.values,j)}}(O,x,F)}}(O,x,j)}(O.metadata,j,F,U)}return O}}function b(O){i.Y.assertValue(O,"clientSideFilter");var x=O.Condition;if(x.Contains)return x.Contains.SelectIndex;i.Y.assertFail("Unknown filter condition type: "+JSON.stringify(x))}function V(O,x){if(i.Y.assertValue(O,"clientSideFilters"),i.Y.assertValue(x,"metadataColumns"),_.isEmpty(O)||_.isEmpty(x))return[];var j={};for(var U of x)j[U.index]=!0;return _.filter(O,F=>{var R=b(F);return!!j[R]})}function T(O,x){i.Y.assertValue(O,"filter");var j=!1,U=O.Condition;if(U.Contains)if(i.Y.assert(()=>U.Contains.LiteralValue===N(U.Contains.LiteralValue),"condition.Contains.LiteralValue is expected to have been normalized."),_.isString(x)){var F=N(x);j=!(0,r.gR)(F,U.Contains.LiteralValue)}else j=!0;else i.Y.assertFail("ClientSideFilter condition type not implemented: "+JSON.stringify(U));return j}function N(O){return O&&(0,r._k)(O)}class w extends o.nP{constructor(x){super(),i.Y.assertNonEmpty(x,"selects"),this.clientSideFilters=[],this.selects=x}visitContains(x){if(!this.hasUnsupportedFilter()){var j=!1,U=I(x);if(U){var F=U.constantValue,R=(0,h.s)(this.selects,U.otherSide);if(R>=0&&F){var B={Condition:{Contains:{SelectIndex:R,LiteralValue:N(F)}}};this.clientSideFilters.push(B),j=!0}}j||this.setUnsupportedFilter()}}visitAnd(x){this.hasUnsupportedFilter()||(x.left.accept(this),x.right.accept(this))}visitDefault(x){this.setUnsupportedFilter()}getClientSideFiltersIfAllSupported(){if(!this.hasUnsupportedFilter())return this.clientSideFilters}hasUnsupportedFilter(){return void 0===this.clientSideFilters}setUnsupportedFilter(){this.clientSideFilters=void 0}}function I(O){if(O){var x=(0,t.q7)(O.left);return x?{constantValue:x,otherSide:O.right}:{constantValue:x=(0,t.q7)(O.right),otherSide:O.left}}}},327761:function(ve,z,e){e.d(z,{BH:function(){return T},FL:function(){return w},LV:function(){return q},PO:function(){return k},X$:function(){return N}});var a=e(579260),i=e(18122),r=e(989417),t=e(693029),o=e(890741),d=e(622077),n=e(165248),c=e(448724),s=e(814691),p=e(999904),l=e(341838),u=e(476271),v=e(877723),m=e(266092),g=e(910058),E=e(258480),D=e(163252),h=e(757406),C=e(990328),y=e(858225),f=e(671825),S=e(154277),b=e(337965),V=e(620825),M=e(98138),P=e(233716);class T{columnNameFromIndex(Q){}get code(){switch(this.warningType){case n.Mr.InvalidType:return"DataBoundObjectQueryExtensionWarningInvalidType";case n.Mr.MissingReference:return"DataBoundObjectQueryExtensionWarningMissingReference";case n.Mr.InvalidValue:case n.Mr.UndefinedStylePreset:return void i.Y.assertFail("DataBoundObjectQueryExtensionWarning cannot be of invalid Value nor Undefined style preset type.");default:i.Y.assertNever(this.warningType)}}constructor(Q,H,te,ee,ue,Te,He){this.warningType=Q,this.propertyId=H,this.valueExpr=te,this.selector=ee,this.objectDiplayName=ue,this.propertyDisplayName=Te,this.expectedValueType=He}getDetails(Q,H){if(H){var te=[],ee=Q.get("NamePattern_Colon"),ue=this.warningType===n.Mr.InvalidType,He=ue?"DataBoundExprWarning_InvalidType_Message":"DataBoundExprWarning_MissingReference_Message";if(te.push((0,r.G)(Q.get(ue?"DataBoundExprWarning_InvalidType_Title":"DataBoundExprWarning_MissingReference_Title"),(0,m.M)(this.propertyDisplayName,Q))),te.push((0,r.G)(ee,Q.get("VisualWarning_PropertyEvaluation_Tooltip_Section"),(0,m.M)(this.objectDiplayName,Q))),this.valueExpr){var We=H(this.valueExpr);te.push((0,r.G)(ee,Q.get("Field_Source"),We))}return ue&&this.expectedValueType&&te.push((0,r.G)(ee,Q.get("DataBoundExprWarning_ExpectedDataType"),d.u.getPrimitiveValueType(this.expectedValueType,Q))),te.push(Q.get(He)),{message:te.join("\n"),displayableErrorInfo:[]}}i.Y.assertFail("DataBoundObjectQueryExtensionWarning - getMessages - setSQExprTranslator needed for warning message")}}function N(Y,Q,H,te,ee,ue,Te,He,We){return i.Y.assertValue(Y,"queryDefn"),i.Y.assertValue(Q,"schema"),i.Y.assertAnyValue(H,"objectDescs"),i.Y.assertAnyValue(te,"queryRefsByRole"),i.Y.assertAnyValue(ee,"projections"),i.Y.assertAnyValue(ue,"roleKindByQueryRef"),i.Y.assertAnyValue(Te,"additionalFilters"),I(Y,Q,H,te,ee,ue,Te,He,We)}function w(Y,Q){return!!I(Y,null,Q,{},{},{},void 0,void 0)}function I(Y,Q,H,te,ee,ue,Te,He,We){if(!_.isEmpty(H)){var ft=Y.select(),mt=[],At=[],Qe=[],Fe=[];for(var we of H)we.objects&&we.descriptors&&(0,p.po)(we.objects,we.descriptors,ye);for(var Ee of Qe)for(var Oe of Fe)if((0,o.aI)(Ee.selector,Oe)){O(At,Ee,ft,te);break}var he=[],xe=[],Se={},Ae=We?.dataBoundAddingQueryExprs;for(var Ie of At){var Je=Ie.selector,pe=Ae?x(Ie,Y,Se,Te,He):j(Ie,Y,Te,He);Y=pe.queryDefn,pe.objectDefinitionRewrite&&xe.push(pe.objectDefinitionRewrite);var Pe={queryName:pe.queryName,selector:Je};if(_.isEmpty(pe.relatedQueryNames)||(Pe.relatedQueryNames=pe.relatedQueryNames),_.isEmpty(Ie.targetsQueryName)||(Pe.relatedProjectionsQueryName=Ie.targetsQueryName),Ie.aggregates&&(Pe.aggregates=Ie.aggregates),Ie.relatedObjects&&(Pe.relatedObjects=Ie.relatedObjects),Je&&!_.isEmpty(Je.data)&&(Pe.joinPredicate=t.gD.None),Q){var Me=y.B.buildExprEvaluationContext(Y.from()),Ge=Ie.expr.getMetadata(Q,Me);Ge?.format&&(Pe.format=Ge.format)}he.push(Pe)}return _.isEmpty(he)&&_.isEmpty(mt)?void 0:{queryDefn:Y,warnings:mt,additionalProjections:he,objectDefinitionRewrites:xe}}function ye(De,lt,ct,vt,Vt){var Ye,It=Vt&&Vt.properties[lt],Ot=De[lt],de=It.type,Ze=null==ct?ct:(0,o.o8)(ct);if(It.rule){if(i.Y.assertValue(It.type.fillRule&&(0,S.Z$)(Ot),"Property rule descriptor is valid only for FillRule properties"),!q(It.rule.conditions,ee,ue))return;var qe=function(Y,Q,H,te){var ee=Y.inputRole;if(ee){var ue=H[ee],Te=te[ee];if(!_.isEmpty(ue)&&!_.isEmpty(Te)){var He=_.map(Te.projected(),mt=>mt.queryRef),We=_.intersection(ue,He),ft=_.chain(Q.select()).filter(mt=>_.includes(We,mt.name)).map(mt=>mt.expr).value();return ft}}}(It.rule,Y,te,ee);if(_.isEmpty(qe))return;i.Y.assert(()=>1===_.size(qe),"Property Rules supports only one input Expr"),ct={data:_.map(qe,tt=>(0,u.UQ)(tt))},Ye=(0,l.TW)(Ot,ct,ft,qe[0])}else if(de&&de.dataBars)ct&&ct.metadata&&ft.withName(ct.metadata)&&(_.isEmpty(ct.data)&&((ct=_.cloneDeep(ct)).data=[(0,v.vt)()]),Ye=(0,l.TW)(Ot,ct,ft,ft.withName(ct.metadata).expr));else{var et=(0,l.yR)(De[lt],ct,ft);It.ignoreUnreferenced?(i.Y.assert(()=>_.isEmpty(et.references),"References should be empty"),Qe.push(...et.expressions)):(Ye=et.expressions,Fe.push(...et.references.map(tt=>tt.selector)))}if(!_.isEmpty(Ye)&&(!ct||function(Y,Q){i.Y.assertValue(Y,"selector");var H=Y.metadata;if(!H)return!0;for(var te of(i.Y.assertNonEmpty(Q,"querySelects"),Q))if(te.name===H)return!0}(ct,ft))){var le=k(ct?.data,ft,te);if(void 0!==le)for(var me of Ye){var Be=!1,Ke=void 0;if(me.expr){if(Q){var Xe=y.B.buildExprEvaluationContext(Y.from());Be=null==(Ke=me.expr.getMetadata(Q,Xe))||!b.eV.isCompatibleFromAny(de,Ke.type)}}else Be=!0;if(Be){var re=Ke?n.Mr.InvalidType:n.Mr.MissingReference,fe=Ke?b.eV.fromDescriptor(de):null,ae=new T(re,{objectName:vt,propertyName:lt},me.expr,ct,Vt.displayName,It.displayName,fe);mt.push(ae)}else me.relatedObjects={[vt]:{[lt]:[Ze]}},me.scopeRefs=le,O(At,me,ft,te)}}}}function O(Y,Q,H,te){i.Y.assertValue(Q,"source");var ue=_.find(Y,Se=>((Se,Ae)=>{if(!(0,M.aI)(Se.expr,Ae.expr))return!1;var Ie=k(Se.selector?.data,H,te),Je=k(Ae.selector?.data,H,te);return _.isEmpty(_.xor(Ie,Je))})(Se,Q));if(ue){var Te=Q.targetsQueryName;if(!_.isEmpty(Te)){var He=ue.targetsQueryName;_.isEmpty(He)&&(He=ue.targetsQueryName=[]),He.push(...Te)}var We=Q.aggregates;if(null!=We){var ft=ue.aggregates;if(ft){if(We.min&&(ft.min=!0),We.max&&(ft.max=!0),We.average&&(ft.average=!0),We.median&&(ft.median=!0),We.percentiles)if(ft.percentiles){var mt=function(Se){_.find(ft.percentiles,Ae=>_.isEqual(Se,Ae))||ft.percentiles.push(Se)};for(var At of We.percentiles)mt(At)}else ft.percentiles=We.percentiles}else ue.aggregates=We}var Qe=Q.relatedObjects;if(null!=Qe){var Fe=ue.relatedObjects;if(Fe){var ye,we,Ee,Oe;for(ye in Qe){if(Oe)break;for(we in Qe[ye]){Ee=_.first(Qe[ye][we]),Oe=!0;break}}if(null!=ye&&null!=we){var he=Fe[ye]=Fe[ye]||{},xe=he[we]=he[we]||[];_.some(xe,Se=>(0,o.aI)(Se,Ee))||xe.push(Ee)}}else ue.relatedObjects=Qe}}else Y.push(Q)}function x(Y,Q,H,te,ee){var ue=Y.selector,Te=U(Y.expr,Y.context,te),He=Q.selectNamesOf(Te);for(var We of He){var ft=H[We];if(Y.aggregates&&_.isEmpty(Y.scopeRefs))return{queryName:We,queryDefn:Q,objectDefinitionRewrite:void 0};if(void 0!==ft){if(_.isEmpty(_.xor(ft,Y.scopeRefs)))return{queryName:We,queryDefn:Q,objectDefinitionRewrite:void 0}}else if(ue&&!_.isEmpty(ue.data))return H[We]=Y.scopeRefs,{queryName:We,queryDefn:Q,objectDefinitionRewrite:void 0}}Q=Q.addSelect(Te);var Qe,mt=_.last(Q.select()),At=mt.name;if(i.Y.assert(()=>(0,M.aI)(mt.expr,Te),"Incorrect queryName"),!(Y.aggregates||ue&&!_.isEmpty(ue.data))&&ee){var Fe=new D.M(Q);Q=Fe.rewrite(),Fe.didRewrite&&(Qe={from:Y.expr,to:(0,h.o4)(At),selector:Y.selector})}return H[At]=Y.scopeRefs,{queryName:At,relatedQueryNames:He,queryDefn:Q,objectDefinitionRewrite:Qe}}function j(Y,Q,H,te){var ft,At,ee=Y.aggregates,ue=Y.selector,He=Y.expr,We=U(Y.expr,Y.context,H),mt=Q.selectNameOf(We);if(ee||ue&&!_.isEmpty(ue.data))return(At=mt)?{queryName:At,queryDefn:Q,objectDefinitionRewrite:void 0}:{queryName:(Q=Q.addSelect(We)).selectNameOf(We),queryDefn:Q,objectDefinitionRewrite:void 0};Q=Q.addSelect(We);var Qe=_.last(Q.select());if(i.Y.assert(()=>(0,M.aI)(Qe.expr,We),"Incorrect queryName"),te){var Fe=new D.M(Q);Q=Fe.rewrite(),Fe.didRewrite&&(ft={from:He,to:(0,h.o4)(Qe.name),selector:Y.selector})}return{queryName:Qe.name,relatedQueryNames:_.isEmpty(mt)?void 0:[mt],queryDefn:Q,objectDefinitionRewrite:ft}}function U(Y,Q,H){if(!(0,V.b9)(Y)||!(0,V.R3)(Y.arg)||!(0,V.EP)(Y.arg.source))return Y;var te=Y.arg.source.query;if(!te)return Y;var ee=Q&&Q.filterContext;if(_.isEmpty(ee)&&!H)return Y;if(H){var ue=H.conditions(),Te=_.some(ue,mt=>(0,g.m)(mt)===c.l0.Measure);i.Y.assert(()=>!Te,"additional filters should not contain measure filters")}var ft=R(te,_.isEmpty(ee)?[H]:A(_.map(ee,mt=>mt.filter),H,!0,!1));return Y.accept(new K(ft))}function R(Y,Q){if((He=>{var We=!1,ft=He.from().sources();for(var mt in ft)if((0,f.lj)(ft[mt])){We=!0;break}return We})(Y))return function(Y,Q){if(!E.DC.willFiltersAffectQuery(Y))return Y;var te,H=E.b0.unmerge(E.b0.fromSQFromAndSQFilters(Y.from(),Y.where()));te=_.isEmpty(H)?Q:A(H,E.b0.merge(Q),!1,!0);var ee=E.b0.merge(te);return Y.where(ee.where(),ee.from())}(Y,Q);var te=Y.from().sources();for(var ee in te){var ue=te[ee];if((0,P.c)(ue)){var Te=R(ue.subquery,Q);return te[ee]=new f.m$(Te),Y.from(new f.l0(te))}}}function A(Y,Q,H,te){i.Y.assertNonEmpty(Y,"filters should not be empty"),i.Y.assertAnyValue(Q,"additionalFilters");var ee=[],ue=function(Y,Q){i.Y.assertNonEmpty(Y,"filters should not be empty"),i.Y.assertAnyValue(Q,"additionalFilters");var H=[];Q&&H.push({filters:[Q],kind:void 0});var te=function(Y){return i.Y.assertNonEmpty(Y,"filters should not be empty"),_.groupBy(Y,Q=>{var H=Q.conditions();return i.Y.assert(()=>1===_.size(H),"expecting only 1 condition in filter"),(0,g.m)(H[0])})}(Y);return te[c.l0.Column]&&H.push({filters:te[c.l0.Column],kind:c.l0.Column}),te[c.l0.Subquery]&&H.push({filters:te[c.l0.Subquery],kind:c.l0.Subquery}),te[c.l0.Exists]&&H.push({filters:te[c.l0.Exists],kind:c.l0.Exists}),te[c.l0.Measure]&&H.push({filters:te[c.l0.Measure],kind:c.l0.Measure}),H}(Y,Q);for(var Te of ue){var He=Te.filters;Te.kind===c.l0.Subquery||Te.kind===c.l0.Measure?(Te.kind===c.l0.Measure&&H&&(He=[G(Te.filters)]),te?(i.Y.assertValue(Q,"additionalFilters"),He=_.map(He,We=>(0,E.Aj)(We,[Q]))):_.isEmpty(ee)||(He=_.map(He,We=>(0,E.Aj)(We,ee))),ee.push(...He)):ee.push(...He)}return ee}function G(Y){var H,Q=E.DC.create(),te=function(){Q=Q.addSemanticFilter(ee);var ue=ee.where()[0].target;_.isEmpty(H)||i.Y.assert(()=>(0,a.RD)(ue,H,(Te,He)=>(0,M.aI)(Te,He)),"targets should be same between all measure filters"),H=H||ue||[]};for(var ee of Y)te();return i.Y.assert(()=>!_.isEmpty(H),"targets should not be empty for measure filters"),_.forEach(H,ue=>{Q=Q.addSelect(ue)}),E.b0.fromSubquery(Q,H)}class K extends C.k{constructor(Q){super(),this.query=Q}visitSubqueryRef(Q){return(0,h.a_)(this.query,Q.getAnnotations())}}function q(Y,Q,H){if(!Y)return!0;for(var te of Y){var ee=(0,s.AV)(Q,te,H);if(_.isEmpty(ee))return!0}return!1}function k(Y,Q,H){if(i.Y.assertValue(Q,"querySelects"),i.Y.assertValue(H,"queryRefsByRole"),_.isEmpty(Y))return null;var te=[];for(var ee of Y)if((0,o.jG)(ee)){var ue=L(H,ee.roles,Q);te.push(...ue||[])}else if((0,o.z2)(ee)){var Te=L(H,Object.keys(H),Q);te.push(...Te||[])}else(0,o.rh)(ee)||(0,o.pB)(ee)?te.push(...ee.exprs||[]):(0,o.fF)(ee)?te.push(ee.expr):i.Y.assertNever(ee);if(0!==te.length){var He=[];for(var We of Q){var ft=y.B.indexOfExpr(te,We.expr);if(!(ft<0)&&(te.splice(ft,1),He.push(We.name),0===te.length))break}if(!(te.length>0||0===He.length))return He}}function L(Y,Q,H){var te=[];for(var ee of Q)te.push(...Y[ee]||[]);var ue=_.filter(H,Te=>_.includes(te,Te.name));return _.map(ue,Te=>Te.expr)}},946120:function(ve,z,e){e.d(z,{$:function(){return D},e:function(){return E}});var a=e(620825),i=e(98138),r=e(579260),t=e(18122),o=e(563670),d=e(693029);class n{constructor(y,f){this.strategy=y,this.roles=f}compileMapping(y){t.Y.assertValue(y,"mapping");var f=this.compileMetadata(),S={metadata:f};return y.categorical&&(S.categorical=this.compileCategorical(y.categorical)),y.table&&(S.table=this.compileTable(y.table)),y.single&&(S.single=this.compileSingle(y.single)),y.tree&&(S.tree=this.compileTree(y.tree)),y.matrix&&(S.matrix=this.compileMatrix(y.matrix)),y.scriptResult&&(S.scriptResult=this.compileScriptResult(y.scriptResult,f)),y.usage&&(S.usage=this.compileUsage(y.usage)),S}compileMetadata(){return this.strategy.compileMetadata()}compileCategorical(y){t.Y.assertValue(y,"mapping");var f={};y.categories&&(f.categories=this.compileRoleMappingWithReduction(y.categories));var S=y.values;if(S){var b=this.compileGrouped(S),V=this.compileList(S),M=this.compileRoleMapping(S);f.values=c(b,V,M)}return y.includeEmptyGroups&&(f.includeEmptyGroups=y.includeEmptyGroups),null!=y.dataVolume&&(f.dataVolume=y.dataVolume),y.dataReductionAlgorithm&&(f.dataReductionAlgorithm=this.compileReduction(y.dataReductionAlgorithm)),f}compileTable(y){t.Y.assertValue(y,"mapping");var V={rows:c(this.compileRoleMappingWithReduction(y.rows),this.compileListWithReduction(y.rows))};return null!=y.dataVolume&&(V.dataVolume=y.dataVolume),V}compileSingle(y){return t.Y.assertValue(y,"mapping"),{role:this.compileRole(y.role)}}compileScriptResult(y,f){return t.Y.assertValue(y,"mapping"),{dataInput:this.compileMapping(y.dataInput),script:this.compileScriptDefinition(y.script,f)}}compileScriptDefinition(y,f){return this.strategy.compileScriptDefinition(y,f)}compileTree(y){t.Y.assertValue(y,"mapping");var f={};return y.nodes&&(f.nodes=this.compileForWithReduction(y.nodes)),y.values&&(f.values=this.compileFor(y.values)),null!=y.dataVolume&&(f.dataVolume=y.dataVolume),f}compileMatrix(y){t.Y.assertValue(y,"mapping");var f={};if(y.rows){var S=this.compileForWithReduction(y.rows),b=this.compileListWithCompositeWithReduction(y.rows);f.rows=c(S,b)}if(y.columns&&(f.columns=this.compileForWithReduction(y.columns)),y.values){var V=this.compileRoleMapping(y.values),M=this.compileList(y.values);f.values=c(V,M)}return null!=y.dataVolume&&(f.dataVolume=y.dataVolume),y.includeEmptyGroups&&(f.includeEmptyGroups=y.includeEmptyGroups),f}compileUsage(y){if(t.Y.assertValue(y,"usage"),y.regression||y.forecast||y.anomalyDetection)return y}compileListWithReduction(y){t.Y.assertValue(y,"mapping");var f=this.compileList(y);if(f)return y.dataReductionAlgorithm&&(f.dataReductionAlgorithm=this.compileReduction(y.dataReductionAlgorithm)),f}compileList(y){if(t.Y.assertValue(y,"mapping"),y.select)return{select:_.map(y.select,S=>this.compileRoleMapping(S))}}compileListWithCompositeWithReduction(y){t.Y.assertValue(y,"mapping");var f=this.compileListWithComposite(y);if(f){if(y.dataReductionAlgorithm&&(f.dataReductionAlgorithm=this.compileReduction(y.dataReductionAlgorithm)),y.values){var S=this.compileRoleMapping(y.values),b=this.compileList(y.values);f.values=c(S,b)}return f}}compileListWithComposite(y){if(t.Y.assertValue(y,"mapping"),y.select)return{select:_.map(y.select,(S,b)=>this.compileRoleMappingWithComposite(S,0===b))}}compileGrouped(y){if(t.Y.assertValue(y,"mapping"),y.group){var b={group:{by:this.compileRole(y.group.by),select:_.map(y.group.select,V=>this.compileRoleMapping(V))}};return y.group.dataReductionAlgorithm&&(b.group.dataReductionAlgorithm=this.compileReduction(y.group.dataReductionAlgorithm)),b}}compileRoleMapping(y){return t.Y.assertValue(y,"mapping"),c(this.compileBind(y),this.compileFor(y))}compileRoleMappingWithComposite(y,f){return t.Y.assertValue(y,"mapping"),c(this.compileBind(y),this.compileFor(y),this.compileComposite(y,f))}compileRoleMappingWithReduction(y){t.Y.assertValue(y,"mapping");var f=this.compileRoleMapping(y),S=this.compileList(y);if(f||S){var b=c(f,S);return b&&y.dataReductionAlgorithm&&(b.dataReductionAlgorithm=this.compileReduction(y.dataReductionAlgorithm)),b}}compileBind(y){if(t.Y.assertValue(y,"mapping"),y.bind)return{bind:{to:this.compileRole(y.bind.to,y.bind.aggregates)}}}compileForWithReduction(y){t.Y.assertValue(y,"mapping");var f=this.compileFor(y);if(f)return y.dataReductionAlgorithm&&(f.dataReductionAlgorithm=this.compileReduction(y.dataReductionAlgorithm)),f}compileFor(y){if(t.Y.assertValue(y,"mapping"),y.for)return{for:{in:this.compileRole(y.for.in)}}}compileComposite(y,f){if(t.Y.assertValue(y,"mapping"),y.composite){var b={composite:_.map(y.composite,V=>this.compileRoleMapping(V))};return t.Y.assert(()=>f||!(y.dataReductionAlgorithm&&y.dataReductionAlgorithm.window)||y.synchronized,"window data reduction requires synchronization except in the first mapping"),y.synchronized&&(b.synchronized=y.synchronized),y.dataReductionAlgorithm&&(b.dataReductionAlgorithm=this.compileReduction(y.dataReductionAlgorithm)),b}}compileRole(y,f){return this.strategy.compileRole(y,f)}compileReduction(y){if(t.Y.assertAnyValue(y,"algorithm"),y){var f={};if(y.top&&(f.top={},y.top.count&&(f.top.count=y.top.count)),y.bottom&&(f.bottom={},y.bottom.count&&(f.bottom.count=y.bottom.count)),y.sample&&(f.sample={},y.sample.count&&(f.sample.count=y.sample.count)),y.window&&(f.window={},y.window.count&&(f.window.count=y.window.count)),y.binnedLineSample&&(f.binnedLineSample={},y.binnedLineSample.count&&(f.binnedLineSample.count=y.binnedLineSample.count),y.binnedLineSample.warningCount&&(f.binnedLineSample.warningCount=y.binnedLineSample.warningCount)),y.overlappingPointsSample){var S=y.overlappingPointsSample;f.overlappingPointsSample={},S.count&&(f.overlappingPointsSample.count=S.count);var b=this.getCompiledRoleForCartesianRoleKind(d.Xk.X);b&&(f.overlappingPointsSample.x={role:b});var V=this.getCompiledRoleForCartesianRoleKind(d.Xk.Y);V&&(f.overlappingPointsSample.y={role:V})}return y.topNPerLevel&&(f.topNPerLevel={count:y.topNPerLevel.count,fallbackTopCount:y.topNPerLevel.fallbackTopCount}),f}}getCompiledRoleForCartesianRoleKind(y){var f=_.filter(this.roles,S=>S.cartesianKind===y);if(t.Y.assert(()=>_.size(f)<=1,"getCompiledRoleForCartesianRoleKind expects only one role mapping to a CartesianRoleKind"),1===_.size(f))return this.compileRole(f[0].name)}}function c(C,y,f){if(C||y||f)return!C||y||f?C||!y||f?C||y||!f?$.extend(C,y,f):f:y:C}var s=e(816030),p=e(443199),l=e(536022),u=e(346375),v=e(334734),m=e(31802),g=e(858225);function E(C){return t.Y.assertValue(C,"options"),new h(C.queryDefn,C.queryProjections,C.schema,C.objectDescriptors,C.objectDefinitions,C.roles||[],C.featureSwitches,C.transformPluginService).compileMetadata().columns}function D(C){t.Y.assertValue(C,"options");var y=C.mappings;if(!y)return[];var f=C.roles||[],S=new h(C.queryDefn,C.queryProjections,C.schema,C.objectDescriptors,C.objectDefinitions,C.roles||[],C.featureSwitches,C.transformPluginService),b=new n(S,f);return _.map(y,V=>b.compileMapping(V))}class h{constructor(y,f,S,b,V,M,P,T){this.featureSwitches=P,this.transformPluginService=T,t.Y.assertValue(y,"queryDefn"),t.Y.assertValue(f,"queryProjections"),t.Y.assertValue(S,"schema"),t.Y.assertAnyValue(b,"objectDescriptors"),t.Y.assertAnyValue(V,"objectDefinitions"),t.Y.assertValue(M,"roles"),t.Y.assertValue(T,"transformPluginService"),this.queryDefn=y,this.queryProjections=f,this.schema=S,this.objectDescriptors=b,this.objectDefinitions=V,this.roles=M,this.exprEvaluationContext=g.B.buildExprEvaluationContext(this.queryDefn.from())}compileRole(y,f){t.Y.assertValue(y,"role");var S,b=this.queryDefn.select(),V=this.queryProjections[y],M=(0,r.q7)(this.roles,y);if(V&&V.all().length>0){var P=!1;M&&(P=!(this.queryDefn.hasVisualCalculations()&&!this.featureSwitches.visualCalculationOnComboChart)&&(0,m.DB)(this.schema,this.queryDefn,this.queryProjections,M.name));var T=this.getScalarKeyRoleItemQueryRef(V);S=_.map(V.all(),I=>{var O=I.queryRef===T,x=b.withName(I.queryRef);return x&&this.createDataViewRoleItem(x,M,P,O,I.hidden)}),_.some(S,I=>null==I)&&(t.Y.assertFail("Some projections aren't in the query select"),S=_.filter(S,I=>null!=I)),t.Y.assert(()=>S.filter(I=>I.scalarKeyInfo&&I.scalarKeyInfo.hasScalarKey).length<=1,"We don't support multiple scalar keys in a role - visuals wouldn't know which one to select")}var N={role:y,items:S},w=this.queryProjections[y];return w&&(w.showAll&&(N.showAll=!0),w.activeProjectionRefs&&(N.activeItems=w.activeProjectionRefs)),f&&(N.aggregates=_.cloneDeep(f)),N}getScalarKeyRoleItemQueryRef(y){t.Y.assertValue(y,"projections"),t.Y.assertValue(!_.isEmpty(y.all()),"projections.all");var f=y.activeProjectionRefs;return _.isEmpty(f)?y.all()[0].queryRef:_.last(f)}createDataViewRoleItem(y,f,S,b,V){t.Y.assertValue(y,"select");var M={queryName:y.name},P=this.tryGetExprType(y.expr);if(P&&(M.type=P),f&&null!=f.joinPredicate)M.joinPredicate=f.joinPredicate;else if((0,a.VT)(y.expr)){var T=this.queryDefn.transforms();if(!_.isEmpty(T)){var N=!1;for(var w of T){var I=this.transformPluginService.getTransformPlugin(w.algorithm)?.outputRoles;if(!_.isEmpty(I))for(var O of I)if(O.algorithmRole===y.expr.role&&null!=O.joinPredicateBehavior){M.joinPredicate=O.joinPredicateBehavior,N=!0;break}if(N)break}}}return M.scalarKeyInfo={hasScalarKey:S&&b},M.hidden=V,M}tryGetExprType(y){t.Y.assertValue(y,"expr");var f=y.getMetadata(this.schema,this.exprEvaluationContext);if(f)return f.type}compileMetadata(){var y=this,f={columns:[]},S=this.queryDefn.orderBy(),b=this.getQueryRefsByRole(),V=function(U){var F=_.find(S,B=>(0,i.aI)(B.expr,U.expr)),R=g.B.getParameterMetadata(U.expr,y.schema);f.columns.push({displayName:void 0,queryName:U.name,type:y.tryGetExprType(U.expr),sort:F&&F.direction,parameter:R,roles:b[U.name]||{}})};for(var M of this.queryDefn.select())V(M);var T=this.objectDefinitions;if(!T||!this.objectDescriptors)return f;var N=(0,p.qM)(T),w=(0,u.b)(),I=(0,o.vt)();if(!_.isEmpty(N.metadataOnce)){var O=this.evaluateMetadataOnceObjects(N.metadataOnce,w,I);O&&(f.objects=O)}if(!_.isEmpty(N.metadata))for(var x of f.columns){var j=this.evaluateMetadataObjects(x,N.metadata,w,I);j&&(x.objects=j)}return f}getQueryRefsByRole(){var y,f={};for(var S in this.queryProjections||{}){var b=this.queryProjections[S];for(var V of b.all()||[])f[y=V.queryRef]??(f[y]={}),f[V.queryRef][S]=!0}return f}evaluateMetadataOnceObjects(y,f,S){var b,V=new l.q(this.featureSwitches,S);for(var M of y){var P=M.selector&&M.selector.id,T=M.selector?.order,N=(0,p.po)(V,f,this.objectDescriptors,M.objects);N&&(b||(b={}),(0,s.rL)(b,N,P,T))}return b}evaluateMetadataObjects(y,f,S,b){var V,M=new l.q(this.featureSwitches,b);for(var P of f){var T=P.selector;if(T.metadata&&T.metadata===y.queryName){var N=(0,p.po)(M,S,this.objectDescriptors,P.objects);N&&(V||(V={}),(0,s.rL)(V,N,T.id,T.order))}}return V}compileScriptDefinition(y,f){t.Y.assertValue(y,"mapping");var S=(0,v.oi)(this.queryProjections,this.queryDefn.select(),this.schema,y,f.objects);return{source:y.source,provider:y.provider,scriptInput:S,scriptSourceDefault:y.scriptSourceDefault,scriptProviderDefault:y.scriptProviderDefault,scriptOutputType:y.scriptOutputType}}}},505809:function(ve,z,e){e.d(z,{A7:function(){return t},PP:function(){return n},nj:function(){return d},p7:function(){return l},pA:function(){return p},pl:function(){return r}});var a=e(44303),i=e(18122),r="*";function t(u,v,m,g,E,D){return i.Y.assertValue(D,"dataViewObjectVersioning.getThemePropertyId - renamedObjectPropertyVersionDictionary should exist."),o(D[u],v,m,g,E)||o(D[r],v,m,g,E)||{objectName:v,propertyName:m}}function o(u,v,m,g,E){var D=u&&u[v]&&u[v][m];if(D){for(var h=D.currentId;D&&(0,a.lt)(g,p(D.version,"visual",!0,E));)h=D.previousId,D=D.previous;return h}}function d(u,v,m,g,E,D,h,C){return n(u,v,null,m,g,E,D,()=>!1,h,C)===a.e3}function n(u,v,m,g,E,D,h,C,y,f){return i.Y.assertValue(u,"dataViewObjectVersioning.getVersionForDefinition - addedObjectPropertyVersionDictionary should exist."),(0,a.T9)(c(u[r],E,D,v,m,g,h,C,y,f),c(u[g],E,D,v,m,g,h,C,y,f))}function c(u,v,m,g,E,D,h,C,y,f){var S=u&&u[v];return S?(0,a.T9)(s(S[r],g,E,D,h,C,y,f),s(S[m],g,E,D,h,C,y,f)):a.e3}function s(u,v,m,g,E,D,h,C){if(!u)return a.e3;for(var f,y=function(b){var V=u[b];if(i.Y.assert(()=>!b||!(0,a.lt)(p(V.version,g,h,C),p(u[b-1].version,g,h,C)),"We iterate through the visual object property versions in decreasing order of version,\n                    that way if we match something we know we can to stop right there.\n                    If this assert triggers it means that the object property versions are not sorted in increasing order."),!(0,a.lt)(E,p(V.version,g,h,C)))return 0;var M=V.property.matchByContents;return M&&!M(v,m)||V.property.isExprBound&&!D()?void 0:{v:p(V.version,g,h,C)}},S=u.length-1;S>=0&&0!==(f=y(S));S--)if(f)return f.v;return a.e3}function p(u,v,m,g){return m?g(u)["report"===v?"report":"page"===v?"page":"visual"]:u}function l(u,v,m){var g=u[m];if(g){var E=g[v.objectName];if(E)return _.reduce(E[v.propertyName],(h,C)=>C.property.matchByContents||C.property.isExprBound?h:(0,a.T9)(h,C.version),E["*"]?.[0].version??a.e3)}return a.e3}},567937:function(ve,z,e){e.d(z,{M:function(){return i}});var a=e(18122);function i(r){return a.Y.assertValue(r,"compiledMappings"),_.filter(r,o=>!o.usage||!o.usage.regression)}},2003:function(ve,z,e){e.d(z,{SQ:function(){return t}});var a=e(18122),i=e(693029),r=e(702794);function t(v,m){a.Y.assertValue(v,"mappings"),a.Y.assertValue(m,"indicesByName");var g=v.length;if(1===g)return{mapping:v[0]};for(var E,D=[],h=v[0].updateType,C=0;C<g;C++){var y=v[C];if(h=o(y.updateType,h),!y.categorical)return;0===C&&(E={metadata:y.metadata,categorical:{}}),d(E.categorical,y.categorical),D.push(l(m,y.categorical))}return E.updateType=h,{mapping:E,splits:D}}function o(v,m){return null===v||v===i.FU.Immediate||null===m||m===i.FU.Immediate?i.FU.Immediate:v===m?v:v===i.FU.Deferred||m===i.FU.Deferred?i.FU.Deferred:i.FU.MetadataOnly}function d(v,m){if(m.categories)if(v.categories){var g=function(v,m){if(a.Y.assertValue(v,"target"),a.Y.assertValue(m,"source"),!v&&!m)return!0;if(v&&m){if(!v.categories&&!m.categories)return!0;if(v.categories&&m.categories){var g=v.categories,E=m.categories;return!!c(g.dataReductionAlgorithm,E.dataReductionAlgorithm)&&(g.bind||E.bind?_.isEqual(g.bind,E.bind):g.for||E.for?_.isEqual(g.for,E.for):!g.select&&!E.select||_.isEqual(g.select,E.select))}}return!1}(v,m);a.Y.assert(()=>g,"target.categories & source.categories must match when multiple mappings are used.")}else v.categories=m.categories;if(null!=m.dataVolume||null!=v.dataVolume){var E=Math.max(m.dataVolume||0,v.dataVolume||0);m.dataVolume=v.dataVolume=E}if(m.dataReductionAlgorithm)if(v.dataReductionAlgorithm){var D=c(m.dataReductionAlgorithm,v.dataReductionAlgorithm);a.Y.assert(()=>D,"target.dataReductionAlgorithm & source.dataReductionAlgorithm must be compatible when multiple mappings are used.")}else v.dataReductionAlgorithm=m.dataReductionAlgorithm;if(m.values){var h=v.values;h||(h=v.values={});var C=m.values,y=C.group;if(function(v,m){(m.bind||m.for)&&(v.select||(v.select=[]),v.select.push(m))}(h,C),p(h,C.select),y){var f=v.values.group;f?p(f,y.select):v.values.group={select:y.select.concat([]),by:y.by,dataReductionAlgorithm:y.dataReductionAlgorithm}}}}function c(v,m){return!v||!m||_.isEqual(v,m)}function p(v,m){m&&(v.select||(v.select=[]),v.select.push(...m||[]))}function l(v,m){var g={selects:{}},E={visitRole:D=>function(v,m,g){a.Y.assertValue(v,"split"),a.Y.assertValue(m,"indicesByName"),a.Y.assertValue(g,"role");var E=g.items;if(!_.isEmpty(g.items)){var D=[];for(var h of E){var y=m[h.queryName];D[y]||(v.selects[y]=!0,D[y]=!0)}}}(g,v,D)};return(0,r.Ax)(m.categories,E),(0,r.Cn)(m.values,E),(0,r.AS)(m.values,E),g}},525758:function(ve,z,e){e.d(z,{Nl:function(){return l},tA:function(){return p}});var a=e(20593),i=e(579260),r=e(18122),t=e(989417),o=e(454840),d=e(848665),n=e(34584),c=e(337965),s=e(905643);function p(U){return r.Y.assertValue(U,"loc"),{kpiGoalFmt:U.get("KpiGoalDisplayName"),kpiStatusFmt:U.get("KpiStatusDisplayName"),kpiTrendFmt:U.get("KpiTrendDisplayName")}}function l(U,F,R,B){var A=new d.G4;for(var W of(A.name=F,A.cubeName=B,A.entities=(0,i.OX)(),U.canEdit&&(U.Capabilities||(U.Capabilities={}),U.Capabilities.CanEdit=U.canEdit),A.capabilities=function(U){return{canEdit:U&&U.CanEdit||!1,discourageQueryAggregateUsage:U&&U.DiscourageQueryAggregateUsage||!1,isExtendable:U&&U.IsExtendable||!1,isQnaEnabled:U&&U.IsQnaEnabled||!1,normalizedFiveStateKpiRange:U&&U.NormalizedFiveStateKpiRange||!1,supportsMedian:U&&U.SupportsMedian||!1,supportsPercentile:U&&U.SupportsPercentile||!1,supportsScopedEval:U&&U.SupportsScopedEval||!1,supportsStringMinMax:U&&U.SupportsStringMinMax||!1,supportsMultiTableTupleFilters:U&&U.SupportsMultiTableTupleFilters||!1,supportsTimeIntelligenceQuickMeasures:U&&U.SupportsTimeIntelligenceQuickMeasures||!1,supportsCalculatedColumns:U&&!1!==U.SupportsCalculatedColumns||!1,supportsGrouping:U&&!1!==U.SupportsGrouping||!1,limitMultiColumnFiltersToQueryGroupColumns:U&&U.LimitMultiColumnFiltersToQueryGroupColumns||!1,supportsBinnedLineSample:U&&U.SupportsBinnedLineSample||!1,supportsOverlappingPointsSample:U&&U.SupportsOverlappingPointsSample||!1,supportsQna:U&&U.SupportsQna||!1,supportsInstanceFilters:U&&U.SupportsInstanceFilters||!1,supportsDataSourceVariables:U&&U.SupportsDataSourceVariables||!1,insights:U?x(U.Insights):{},supportsFastRefresh:U&&U.SupportsFastRefresh||!1,supportsSubqueryRegrouping:U&&U.SupportsSubqueryRegrouping||!1,supportsTopNPerLevel:U&&U.SupportsTopNPerLevel||!1,supportsExtensionColumns:U&&U.SupportsExtensionColumns||!1,canEditChangeDetectionMeasure:U&&U.CanEditChangeDetectionMeasure||!1,supportsGroupSynchronization:U&&U.SupportsGroupSynchronization||!1,supportsScopedDataReduction:U&&U.SupportsScopedDataReduction||!1,transformCapabilities:j(U&&U.TransformCapabilities),supportChangeDetectionMeasureRefresh:U&&U.SupportChangeDetectionMeasureRefresh||!1,supportsSparklineData:U&&U.SupportsSparklineData||!1,supportsVisualCalculations:U&&U.SupportsVisualCalculations||!1}}(U.Capabilities),U.Entities))A.entities.push(u(W,A.capabilities,R));for(var G=0,K=U.Entities.length;G<K;++G)T(A.entities[G],U.Entities[G],A.entities);return A}function u(U,F,R){var B=U.Capabilities,A=U.Source,W={name:U.Name,displayName:U.DisplayName||U.Name,stableName:U.StableName,description:U.Description,visibility:P(U.Hidden,U.ShowAsVariationsOnly,U.Private),calculated:U.Calculated,queryable:U.Queryable,properties:(0,i.OX)(),hierarchies:(0,i.OX)(),displayFolders:(0,i.OX)(),navigationProperties:(0,i.OX)(),errorMessage:U.ErrorMessage,isDateTable:!0===U.IsDateTable,isCalculationGroup:U.IsCalculationGroup,source:{directQuerySourceType:A&&A.DirectQuerySourceType,directQuerySourceName:A&&A.DirectQuerySourceName},capabilities:{canRefresh:!B||!1!==B.CanRefresh,canHaveMeasures:!B||!1!==B.CanHaveMeasures,canEditSource:F.canEdit&&(!B||!1!==B.CanEditSource),canRename:F.canEdit&&(!B||!1!==B.CanRename),canDelete:F.canEdit&&(!B||!1!==B.CanDelete),canEditStorageMode:F.canEdit&&(!B||!1!==B.CanEditStorageMode),supportsClustering:F.canEdit&&(!B||!1!==B.SupportsClustering),supportsBinByCount:F.canEdit&&(!B||!1!==B.SupportsBinByCount),limitOnNumberOfGroups:B&&B.LimitOnNumberOfGroups||null,dataView:B&&B.DataView||null}};for(var G of U.Properties)W.properties.push(C(G));r.Y.assert(()=>W.properties.length===U.Properties.length,"Converted schema properties array is not the expected length.");for(var K=0,q=U.Properties.length;K<q;++K){var ne=W.properties[K],k=U.Properties[K];r.Y.assertValue(ne,"no result property for contract property"),ne.canDelete=F.canEdit&&!1!==k.CanDelete;var L=k.Column;if(L){var X=ne.column=ne.column||{};L.Keys&&(X.keys=E(L.Keys,W.properties)),L.OrderBy&&(X.orderBy=E(L.OrderBy,W.properties))}var Y=k.Measure;if(Y){var Q=ne.measure=ne.measure||{};if(Q.canEdit=!1!==Y.canEdit,Y.FormatBy&&(Q.formatBy=Y.FormatBy),Y.Kpi){var H=Q.kpi=D(Y.Kpi,W.properties,F);h(H.goal,ne,a.v7.Goal,R),h(H.status,ne,a.v7.Status,R),h(H.trend,ne,a.v7.Trend,R)}Y.Template&&(Q.template={name:Y.Template.DaxTemplateName}),Y.ChangeDetectionMetadata&&(Q.changeDetectionMetadata={refreshInterval:Y.ChangeDetectionMetadata.RefreshInterval}),null!=Y.DistributiveAggregate&&(Q.distributiveAggregate=Y.DistributiveAggregate)}}if(U.Hierarchies)for(var te of U.Hierarchies)W.hierarchies.push(m(te,W.properties));if(U.DisplayFolders)for(var ee of U.DisplayFolders)W.displayFolders.push(v(ee,W.properties,W.hierarchies));return U.DefaultLabelColumnRef&&(W.defaultLabel=W.properties.withName(U.DefaultLabelColumnRef)),U.DefaultFieldPropertyRefs&&(W.defaultFields=_.map(U.DefaultFieldPropertyRefs,ue=>W.properties.withName(ue))),W}function v(U,F,R){var B={name:U.Name,displayName:U.DisplayName||U.Name,description:U.Description,properties:(0,i.OX)(),hierarchies:(0,i.OX)(),displayFolders:(0,i.OX)()};if(U.DisplayItems)for(var A of U.DisplayItems)A.PropertyRef&&F?B.properties.push(F.withName(A.PropertyRef)):A.HierarchyRef&&R?B.hierarchies.push(R.withName(A.HierarchyRef)):A.DisplayFolder&&B.displayFolders.push(v(A.DisplayFolder,F,R));return B}function m(U,F){var R={name:U.Name,displayName:U.DisplayName||U.Name,stableName:U.StableName,description:U.Description,hidden:U.Hidden,levels:(0,i.OX)(),canDelete:!1!==U.CanDelete};for(var B of U.Levels)R.levels.push(g(B,F));return R}function g(U,F){return{name:U.Name,displayName:U.DisplayName||U.Name,stableName:U.StableName,description:U.Description,column:F.withName(U.Column),canDelete:!1!==U.CanDelete}}function E(U,F){r.Y.assertValue(U,"names"),r.Y.assertValue(F,"properties");var R=(0,i.OX)();for(var B of U)R.push(F.withName(B));return R}function D(U,F,R){var B=R.normalizedFiveStateKpiRange,A={statusMetadata:{graphic:U.StatusGraphic,normalizedFiveStateKpiRange:B},status:F.withName(U.Status),goal:F.withName(U.Goal),trend:F.withName(U.Trend)};return U.TrendGraphic&&(A.trendMetadata={graphic:U.TrendGraphic,normalizedFiveStateKpiRange:B}),A}function h(U,F,R,B){if(U){var A=F.displayName;switch(R){case a.v7.Goal:A=(0,t.G)(B.kpiGoalFmt,A);break;case a.v7.Status:A=(0,t.G)(B.kpiStatusFmt,A);break;case a.v7.Trend:A=(0,t.G)(B.kpiTrendFmt,A);break;default:r.Y.assertFail("Unsupported Kpi Type")}U.displayName=A,U.hidden=!1,U.kpiValue=F}}function C(U){return r.Y.assertValue(U,"contract"),{displayName:U.DisplayName||U.Name,stableName:U.StableName,description:U.Description,name:U.Name,type:c.eV.fromPrimitiveTypeAndCategory(U.DataType,U.DataCategory),column:U.Column?y(U.Column):null,kind:M(U),format:U.FormatString,hidden:U.Hidden,isPrivate:U.Private,queryable:U.Queryable,errorMessage:U.ErrorMessage}}function y(U){r.Y.assertValue(U,"contract");var F={defaultAggregate:U.DefaultAggregate,idOnEntityKey:U.IdOnEntityKey,calculated:U.Calculated,variations:(0,i.OX)(),aggregateBehavior:U.AggregateBehavior};return void 0!==U.DefaultValue&&(F.defaultValue=(0,s.bq)(U.DefaultValue)),F}function f(U,F){return r.Y.assertValue(U,"contract"),r.Y.assertValue(F,"entity"),{kind:null!=U.Kind?U.Kind:n.S_.WhatIf,mappedMParameterNames:U.MappedMParameterNames,supportsMultipleValues:U.SupportsMultipleValues,supportsSelectAll:U.SupportsSelectAll}}function S(U,F){r.Y.assertValue(U,"contract"),r.Y.assertValue(F,"entity");var R={groupedColumns:_.map(U.GroupedColumns,B=>B.ColumnRef&&!B.LevelRef?F.properties.withName(B.ColumnRef):B.LevelRef&&!B.ColumnRef?F.hierarchies.withName(B.LevelRef.Hierarchy).levels.withName(B.LevelRef.Level):void r.Y.assertFail("unknown ClientConceptualGroupedColumnContainer"))};return U.BinningMetadata&&(R.binningMetadata=function(U){r.Y.assertValue(U,"contract");var F={};return U.BinSize&&(F.binSize=function(U){return r.Y.assertValue(U,"contract"),{value:U.Value,unit:U.Unit}}(U.BinSize)),F}(U.BinningMetadata)),R}function M(U){return U.Measure?n.ye.Measure:n.ye.Column}function P(U,F,R){var B=n.Tg.Visible;return U&&(B|=n.Tg.Hidden),F&&(B|=n.Tg.ShowAsVariationsOnly),R&&(B|=n.Tg.IsPrivate),B}function T(U,F,R){if(r.Y.assertValue(U,"entity"),r.Y.assertValue(F,"contract"),r.Y.assertValue(R,"entities"),F.NavigationProperties)for(var B of F.NavigationProperties)U.navigationProperties.push(N(B,U,R));if(F.Properties)for(var A=0,W=F.Properties.length;A<W;++A){var G=F.Properties[A],K=G.Column;if(K&&K.Variations&&w(U.properties[A].column,K,U),K&&K.GroupingMetadata&&(U.properties[A].column.groupingMetadata=S(K.GroupingMetadata,U)),K&&K.ParameterMetadata){var q=f(K.ParameterMetadata,U);if(U.properties[A].column.parameterMetadata=q,q.kind===n.S_.Field)for(var ne of U.properties)if(ne?.column?.keys&&1===ne.column.keys.length&&null!=ne.column.keys[0].column?.parameterMetadata?.kind&&ne.column.keys[0].column.parameterMetadata.kind===n.S_.Field){ne.column.parameterMetadata=q;break}}var k=G.Measure;k&&!_.isEmpty(k.DistributiveBy)&&(U.properties[A].measure.distributiveBy=_.map(k.DistributiveBy,L=>R.withName(L)))}}function N(U,F,R){r.Y.assertValue(U,"contract");var B={name:U.Name,isActive:U.Active,sourceColumn:null,targetEntity:R.withName(U.TargetEntity),sourceMultiplicity:U.SourceMultiplicity,targetMultiplicity:U.TargetMultiplicity,behavior:U.Behavior||n.JD.Default,crossFilterDirection:o.n4.valueOrDefault(U.CrossFilterDirection,n.kD.Single)};if(U.SourceColumn){var A=F.properties.withName(U.SourceColumn);A&&(B.sourceColumn=A.column)}return B}function w(U,F,R){for(var B of(r.Y.assertValue(U,"column"),r.Y.assertValue(F,"contract"),F.Variations))U.variations.push(I(B,R))}function I(U,F){r.Y.assertValue(U,"contract");var R={name:U.Name,isDefault:U.Default,navigationProperty:null,defaultHierarchy:null,defaultProperty:null},B=F;return U.NavigationProperty&&(R.navigationProperty=F.navigationProperties.withName(U.NavigationProperty),B=R.navigationProperty.targetEntity),U.DefaultHierarchy&&(R.defaultHierarchy=B.hierarchies.withName(U.DefaultHierarchy)),U.DefaultProperty&&(R.defaultProperty=B.properties.withName(U.DefaultProperty)),R}function x(U){return U?{supportsDistributionFactors:U.SupportsDistributionFactors||!1,supportsExplainChange:U.SupportsExplainChange||!1,supportsExplore:U.SupportsExplore||!1,supportsKeyDrivers:U.SupportsKeyDrivers||!1,supportsRelatedInsights:U.SupportsRelatedInsights||!1,supportsDecomposition:U.SupportsDecomposition||!1,supportsExplainAnomalies:U.SupportsExplainAnomalies||!1,supportsCompatibleFields:U.SupportsCompatibleFields||!1,supportsQuerySuggestions:U.SupportsQuerySuggestions||!1,supportsExplainVarianceToTarget:U.SupportsExplainVarianceToTarget||!1,supportsGenerateSummaries:U.SupportsGenerateSummaries||!1}:{}}function j(U){return U?{supportedTransforms:U.SupportedTransforms}:{supportedTransforms:[]}}},556373:function(ve,z,e){e.d(z,{SO:function(){return v},ZL:function(){return u}});var a=e(345562),i=e(973809),r=e(664148),t=e(558766),o=e(280909),d=e(18122),n=e(523908),c=e(61839),s=e(914780),p=e(525758);function u(E,D,h,C,y,f,S){return new g(E,D,h,C,y,f,S)}function v(E,D,h,C,y){return new m(E,D,h,C,y)}class m{constructor(D,h,C,y,f){this.httpService=D,this.promiseFactory=h,this.uri=C,this.featureSwitches=y,this.preloadConceptualSchemaService=f}execute(D,h){var y,f,S,C=this.promiseFactory.defer(!1);return h.event.info.endPoint=this.uri,this.preloadConceptualSchemaService&&(y=this.preloadConceptualSchemaService.getPreloadedConceptualSchema(),f=this.preloadConceptualSchemaService.getPreloadConceptualSchemaUrl(),S=this.preloadConceptualSchemaService.getPreloadConceptualSchemaRequestBody()),JSON.stringify(D)===S&&this.uri===f&&y?(y.then(b=>{1!==b.schemas.length||b.schemas[0].modelId!==D.modelIds[0]||b.error?this.httpExecute(D,h,C):((0,o.aP)(this.uri,h.event.info),C.resolve({requestId:this.preloadConceptualSchemaService.getPreloadConceptualSchemaResponseRequestId(),schemas:b.schemas}))},b=>{this.httpExecute(D,h,C)}),this.preloadConceptualSchemaService.clear()):this.httpExecute(D,h,C),C.promise}httpExecute(D,h,C){this.httpService.post(this.uri,D,this.httpService.powerbiRequestOptions(h.event,"GetConceptualSchema")).then(y=>{this.setTelemetryEventInfo(h.event,y),C.resolve({requestId:y.responseRequestId||y.requestId,schemas:y.data.schemas})},y=>{var f=y||{};this.setTelemetryEventInfo(h.event,f),C.reject({requestId:f.responseRequestId||f.requestId,error:f.error,status:f.status,schemas:void 0})})}setTelemetryEventInfo(D,h){D.info.clientAndServerRequestIdMatch=(0,o.$L)(h),D.info.responseRequestId=(0,o.u_)(h),D.info.requestId=h.requestId,(0,o.aP)(this.uri,D.info)}}var g=(()=>{class E{constructor(h,C,y,f,S,b,V){this.promiseFactory=h,this.telemetryService=C,this.localeProvider=y,this.conceptualSchemaProxyCommunication=f,this.locOptions=S,this.featureSwitches=b,this.embedModeService=V,d.Y.assertValue(h,"promiseFactory"),d.Y.assertValue(f,"conceptualSchemaProxyCommunication"),d.Y.assertValue(S,"locOptions")}execute(h){d.Y.assertValue(h,"options");var C=h.dataSources;if(d.Y.assertNonEmpty(C,"dataSources"),!C||C.length>1)return this.promiseFactory.reject({},!1);var y=this.promiseFactory.defer(!1),f=_.map(C,T=>T.name),S={modelIds:_.map(C,T=>T.id),userPreferredLocale:this.localeProvider.getUserPreferredLocale()};C.some(T=>T.perspectiveId)&&(S.perspectiveIds=_.map(C,T=>T.perspectiveId));var V=JSON.stringify(S.modelIds),M=JSON.stringify(C.map(T=>T.objectId)),P=this.telemetryService.startEvent(s._Z,{endPoint:"",datasetIds:V,clientAndServerRequestIdMatch:!0,embedType:this.embedModeService&&this.embedModeService.getEmbedTypeDescription(),modelObjectIds:M});return this.conceptualSchemaProxyCommunication.execute(S,P).then(T=>this.onSuccess(T,f,y,P),T=>this.onError(T,y,P)),y.promise}transform(h){var C=h;if(!C.data)return{schema:null,error:C.error};var y=C.data;d.Y.assertValue(y,"schemaResponse");var f=y.schemas;d.Y.assertNonEmpty(f,"schemaResponses");var S=C.schemaNames;d.Y.assert(()=>S.length===f.length,"schemaNames.length === schemaResponsess.length");for(var b={},V=0,M=f.length;V<M;V++){var P=S[V];b[P]=(0,p.Nl)(f[V].schema,P,this.locOptions,f[V].cubeName)}return{schema:new c.I({schemas:b})}}onSuccess(h,C,y,f){if(_.isEmpty(h.schemas))this.onError(h,y,f);else{for(var S of h.schemas){var b=S.error;if(b){y.reject({data:null,error:{requestId:h.requestId,serviceError:b,clientError:null,ignorable:!0}});var V=(0,t.b7)(b);return V.asErrorCode=b.parameters&&b.parameters.ASErrorCode,void f.reject(V)}}y.resolve({data:h,schemaNames:C,error:null}),this.setTelemetryEventInfo(f,h),f.resolve()}}setTelemetryEventInfo(h,C){var y={measure:{count:0,descriptionCount:0,descriptionMinLength:Number.MAX_VALUE,descriptionMaxLength:0,descriptionCombinedLength:0},column:{count:0,descriptionCount:0,descriptionMinLength:Number.MAX_VALUE,descriptionMaxLength:0,descriptionCombinedLength:0}};try{C.schemas.forEach(f=>{f.schema.Entities.forEach(S=>{S.Properties.forEach(b=>{var V=null!=b.Column?"column":null!=b.Measure?"measure":null;null!=V&&(y[V].count++,y[V].descriptionCount+=b.Description?.length>0?1:0,y[V].descriptionMinLength=Math.min(y[V].descriptionMinLength,b.Description?.length||Number.MAX_VALUE),y[V].descriptionMaxLength=Math.max(y[V].descriptionMaxLength,b.Description?.length||0),y[V].descriptionCombinedLength+=b.Description?.length||0)})})}),h.event.info.measureCount=y.measure.count,h.event.info.measureDescriptionCount=y.measure.descriptionCount,h.event.info.measureDescriptionMinLength=y.measure.descriptionCount>0?y.measure.descriptionMinLength:void 0,h.event.info.measureDescriptionMaxLength=y.measure.descriptionCount>0?y.measure.descriptionMaxLength:void 0,h.event.info.measureDescriptionCombinedLength=y.measure.descriptionCount>0?y.measure.descriptionCombinedLength:void 0,h.event.info.columnCount=y.column.count,h.event.info.columnDescriptionCount=y.column.descriptionCount,h.event.info.columnDescriptionMinLength=y.column.descriptionCount>0?y.column.descriptionMinLength:void 0,h.event.info.columnDescriptionMaxLength=y.column.descriptionCount>0?y.column.descriptionMaxLength:void 0,h.event.info.columnDescriptionCombinedLength=y.column.descriptionCount>0?y.column.descriptionCombinedLength:void 0}catch{return}}onError(h,C,y){var f=h.error,S=f||h.status!==i.kG.TooManyRequests?new n.D(h.error||{code:"<no-PowerBIApiErrorObject>"}):new n.bQ;C.reject({data:null,error:{requestId:h.requestId,clientError:S,status:h.status}}),y.reject((0,t.M8)(f,h.status))}}return(0,a.__decorate)([(0,r.Xr)(s.V8),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",Object)],E.prototype,"execute",null),E})()},90259:function(ve,z,e){e.d(z,{c:function(){return i},q:function(){return r}});var a=e(18122);function i(t){return a.Y.assertValue(t,"dataQuery"),a.Y.assertNonEmpty(t.Commands,"dataQuery.Commands must not be empty"),a.Y.assertValue(t.Commands[0].SemanticQueryDataShapeCommand,"The first command must be a SemanticQuery command"),a.Y.assertValue(t.Commands.length<=3,"dataQuery.Commands can hold up to three commands"),a.Y.assertValue(1===t.Commands.length||2===t.Commands.length&&(t.Commands[1].ScriptVisualCommand||t.Commands[1].ExportDataCommand),"The additional commands should be ScriptVisualCommand or ExportDataCommand."),t.Commands[0].SemanticQueryDataShapeCommand}function r(t){return a.Y.assert(()=>t&&t.Commands&&t.Commands.length>0,"data query should not be empty"),t.Commands.length>1}},958364:function(ve,z,e){e.d(z,{I:function(){return N}});var a=e(556373),i=e(325818),r=e(18122),t=e(454840),o=e(757406),d=e(990328),n=e(20593),c=e(660683);function p(I){return(O,x,j)=>{var U={query:O,extensions:void 0,queryRewrites:x},F=new g(x,j);return U.query=O.rewrite(F),U.extensions=F.extensionSchema,U.queryRewrites=F.queryRewrites,U}}class g extends d.k{constructor(O,x){super(),this.queryRewrites=O,this.extensionSchema=x,this.existingEntityNames={},this.existingExtensionFieldNames={},r.Y.assertAnyValue(O,"queryRewrites"),r.Y.assertAnyValue(x,"extensionSchema")}visitNativeMeasure(O){this.ensureSchemaInitialized(),this.nativeMeasuresTargetEntity||(this.nativeMeasuresTargetEntity={Name:(0,t.uL)(this.existingEntityNames,"NativeMeasures_778a1d25-9ebf-4f33-a1c3-827ad532874e"),NamingBehavior:n.GH.Flexible,Measures:[]},this.extensionSchema.Entities.push(this.nativeMeasuresTargetEntity));var x=_.find(this.nativeMeasuresTargetEntity.Measures,F=>F.DataType===O.dataType&&F.Expression===O.expression);if(x)return(0,o.K6)((0,o.EG)(this.extensionSchema.Name,this.nativeMeasuresTargetEntity.Name),x.Name);var j=(0,t.uL)(this.existingExtensionFieldNames,O.proposedName||"NativeMeasure");this.existingExtensionFieldNames[j]=!0;var U=(0,o.K6)((0,o.EG)(this.extensionSchema.Name,this.nativeMeasuresTargetEntity.Name),j);return this.nativeMeasuresTargetEntity.Measures.push({Name:j,DataType:O.dataType,Expression:O.expression}),U}visitNativeColumn(O){this.ensureSchemaInitialized();var j=O.source.getTargetEntity(),U=_.find(this.extensionSchema.Entities,A=>A.Name===j.entity);U||this.extensionSchema.Entities.push(U={Name:j.entity,Extends:j.entity,Columns:[]}),U.Columns||(U.Columns=[]);var F=_.find(U.Columns,A=>A.DataType===O.dataType&&A.Expression===O.expression);if(F)return(0,o.sX)((0,o.EG)(this.extensionSchema.Name,U.Name),F.Name);var R=(0,t.uL)(this.existingExtensionFieldNames,O.proposedName||"NativeColumn");this.existingExtensionFieldNames[R]=!0;var B=(0,o.sX)((0,o.EG)(this.extensionSchema.Name,U.Name),R);return U.Columns.push({Name:R,DataType:O.dataType,Expression:O.expression,NamingBehavior:n.GH.Flexible}),this.queryRewrites||(this.queryRewrites=[]),this.queryRewrites.push({selectExprReplaced:{originalExpr:O,replacedExpr:B}}),B}ensureSchemaInitialized(){if(!this.schemaInitialized){for(var O of(this.extensionSchema?this.extensionSchema.Version=Math.max(this.extensionSchema.Version,n.fn.Version1):this.extensionSchema={Name:"NativeExpressionExtensions",Version:n.fn.Version1,Extends:c.CF},this.extensionSchema.Entities||(this.extensionSchema.Entities=[]),this.existingExtensionFieldNames={},this.extensionSchema.Entities)){if(this.existingEntityNames[O.Name]=!0,O.Measures)for(var x of O.Measures)this.existingExtensionFieldNames[x.Name]=!0;if(O.Columns)for(var j of O.Columns)this.existingExtensionFieldNames[j.Name]=!0}this.schemaInitialized=!0}}}var E=e(777621),D=e(345562),h=e(583032),C=e(664148),y=e(914780),f=e(776346),S=e(924256),b=e(540673),V=e(558766),M=e(280909),P=(()=>{class I{constructor(x,j,U,F,R,B,A,W,G=!1){this.useSynchronous=!1,r.Y.assertValue(x,"httpService"),r.Y.assertValue(U,"localeProvider"),r.Y.assertValue(j,"telemetryService"),r.Y.assertValue(F,"promiseFactory"),r.Y.assertValue(R,"uri"),this.httpService=x,this.impersonationStateProvider=B,this.promiseFactory=F,this.telemetryService=j,this.localeProvider=U,this.uri=R,this.featureSwitches=A,this.directToMwcConnectionInfoService=W,this.useSynchronous=G}execute(x){var j=this.httpService.powerbiRequestOptions(null,"ExecuteSemanticQuery",void 0,!0),U=(0,h.Fx)(x,this.localeProvider,this.impersonationStateProvider);for(var F of x.enqueueActivities)F.resolve();var R=this.featureSwitches&&this.featureSwitches().addVisualIdToQueryDataAsHttpBodyId,B=this.promiseFactory.defer(!1),A=x.cacheOptions,W=x.useSynchronous||this.useSynchronous,G=x.dataSources[0].dbName,K=!1;(!G||x.dataSources.length>1)&&(this.telemetryService.logEvent(f.$D,{message:"A direct to MWC request was missing a dbName or more then one source was used in this request. This will cause issues routing with AutoPremium"}),K=!0);var q=this.uri;if(W){var ne={};W&&(ne.synchronous="true"),q=(0,S.LF)(q,ne,!0)}if(R){var k,L,X=x.queryOptions?.[0]?.command?.Commands;X&&(k=function(ue){if(0!==ue.length){for(var Te=0,He=0;He<ue.length;He++)Te=(Te<<5)-Te+ue.charCodeAt(He),Te|=0;return Te.toString()}}(JSON.stringify(X))),L=x.queryOptions?.[0]?.applicationContext?.Sources?.[0]?.VisualId,(k||L)&&(j.params||(j.params={}),k&&(j.params.$httpBodyHash=k),L&&(j.params.$visualId=L))}var Q=q,H=j.authorizationHeaderOverride,te=U.modelId;if(!R&&this.directToMwcConnectionInfoService){var ee=this.directToMwcConnectionInfoService.checkModelConnectionInfo(te);!ee||this.impersonationStateProvider&&this.impersonationStateProvider.impersonating||K?this.sendHttpRequest(q,U,j,B,A,x.queryActivities,W):this.sendDirectToMwcRequestWithFallbackOnFailure(te,ee,q,U,j,B,te,Q,H,A,G,x.queryActivities,W)}else this.sendHttpRequest(q,U,j,B,A,x.queryActivities,W);return B.promise}sendDirectToMwcRequestWithFallbackOnFailure(x,j,U,F,R,B,A,W,G,K,q,ne,k){var L=this.telemetryService.startEvent(y.h3,{endPoint:this.uri,clientAndServerRequestIdMatch:!0,synchronous:k,cacheOptions:K});U=j.capacityUri+"query",(0,h.Zs)(R,j.mwcToken,q);var X=[];for(var Y of ne){var Q=Y.createChildActivity({name:b.n.QueryExecuting});Q&&X.push(Q)}var H=F;this.featureSwitches().disallowLongRunningQueries||(H={...H,allowLongRunningQueries:!0}),this.httpService.post(U,H,R).then(te=>{this.attachHttpMetadataToTelemetry(L.event.info,te,U),this.attachCacheMetadataToTelemetryDirectToMwc(L.event,te);var ee=te.headers("x-ms-mwc-throttling-delay");for(var ue of(_.isEmpty(ee)||this.directToMwcConnectionInfoService.notifyThrottlingOnNotificationBar(),X))this.attachHttpMetadataToContextActivity(ue,te),ue.resolve();L.resolve(),B.resolve({...this.attachHttpMetadataToResult(te),mwcModelId:x,mwcDbName:q})},te=>{for(var ee of(this.attachHttpMetadataToTelemetry(L.event.info,te,U),this.attachCacheMetadataToTelemetryDirectToMwc(L.event,te),X))this.attachHttpMetadataToContextActivity(ee,te),ee.reject();L.reject((0,V.M8)(te.error,te.status)),this.directToMwcConnectionInfoService.removeModelConnectionInfo(A),R.authorizationHeaderOverride=G,R.useMwcTokenAuthorization=null,this.sendHttpRequest(W,F,R,B,K,ne,k)})}sendHttpRequest(x,j,U,F,R,B,A){var W=this.telemetryService.startEvent(y.h3,{endPoint:this.uri,clientAndServerRequestIdMatch:!0,synchronous:A,cacheOptions:R}),G=[];for(var K of B){var q=K.createChildActivity({name:b.n.QueryExecuting});q&&G.push(q)}this.httpService.post(x,j,U).then(ne=>{for(var k of(this.attachHttpMetadataToTelemetry(W.event.info,ne,x),G))this.attachHttpMetadataToContextActivity(k,ne),k.resolve();W.resolve(),F.resolve(this.attachHttpMetadataToResult(ne))},ne=>{for(var k of(this.attachHttpMetadataToTelemetry(W.event.info,ne,x),G))this.attachHttpMetadataToContextActivity(k,ne),k.reject();W.reject((0,V.M8)(ne.error,ne.status)),F.reject(this.attachHttpMetadataToResult(ne))})}attachHttpMetadataToContextActivity(x,j){x.isRunning()&&j.performanceTimings&&(x.setProperty("transferSize",j.performanceTimings?.transferSize),x.setProperty("contentType",j.headers("content-type")),x.setProperty("httpStatus",j.status.toString()),x.setProperty("requestId",j.requestId),x.setProperty("requestStart",j.performanceTimings?.requestStart),x.setProperty("responseStart",j.performanceTimings?.responseStart),x.setProperty("start",j.performanceTimings.startTime),x.setProperty("end",j.performanceTimings.responseEnd))}attachHttpMetadataToTelemetry(x,j,U){x.endPoint=U,x.clientAndServerRequestIdMatch=(0,M.$L)(j),x.responseRequestId=(0,M.u_)(j),x.requestId=j.requestId,x.status=j.status,j.performanceTimings&&(0,M.wH)(j.performanceTimings,x)}attachCacheMetadataToTelemetryDirectToMwc(x,j){j.data.results&&(x.info.fromCache=_.reduce(j.data.results,(U,F)=>F.fromCache?++U:U,0),x.info.resultCount=j.data.results.length)}attachHttpMetadataToResult(x){if(x&&x.data){var j=x.data;return j.requestId=x.responseRequestId||x.requestId,j.httpStatusCode=x.status,j}return{jobIds:null,results:null,requestId:x.responseRequestId||x.requestId,httpStatusCode:x.status}}}return(0,D.__decorate)([(0,C.Xr)(y.EC),(0,D.__metadata)("design:type",Function),(0,D.__metadata)("design:paramtypes",[Object]),(0,D.__metadata)("design:returntype",Object)],I.prototype,"execute",null),I})();function N(I,O){var x=w(O.reader.communication)?function(I,O,x,j,U,F,R,B,A,W=!1){return new P(I,O,x,j,U,F,R,B,W)}(O.reader.communication.httpService,O.telemetryService,O.localeProvider,O.promiseFactory,O.reader.communication.uri,O.reader.communication.impersinationStateProvider,O.reader.featureSwitches,O.reader.directToMwcConnectionInfoService,0,O.useSynchronous):O.reader.communication,j=w(O.schemaReader.communication)?(0,a.SO)(O.schemaReader.communication.httpService,O.promiseFactory,O.schemaReader.communication.uri,O.reader.featureSwitches,O.schemaReader.preloadConceptualSchemaService):O.schemaReader.communication;I.dsr={name:"dsr",reader:F=>new i.Z(F,x,O.telemetryService,O.reader.featureSwitches(),O.reader.timeoutService,O.reader.delayedQueryResultResolver,O.reader.preferredMaxConnections,O.queryContextProvider,O.appContextHostDataProvider),queryGenerator:()=>(0,E.OK)(O.reader.featureSwitches()),schemaReader:()=>(0,a.ZL)(O.promiseFactory,O.telemetryService,O.localeProvider,j,O.schemaReader.localizationOptions,O.reader.featureSwitches,O.embedModeService),queryExtensionProvider:p}}function w(I){return _.isPlainObject(I)}},925364:function(ve,z,e){e.d(z,{Cx:function(){return n},Ro:function(){return s},XU:function(){return c}});var a=e(20593),i=e(293444),r=e(81825),t=e(18122),o=e(337965),d=e(905643);class n{static findAndParseCalculation(l,u){var v=this.findCalculation(l,u);if(v)return(0,d.$x)(v.Value)}static findAndParseCalculationToSQExpr(l,u){var v=this.findCalculation(l,u);if(v)return(0,d.bq)(v.Value)}static findCalculation(l,u){t.Y.assertValue(l,"calcs");for(var v=0,m=l.length;v<m;v++){var g=l[v];if(g.Id===u)return g}}static describeDataType(l,u){var v=i.W.Null;switch(l=l||r.r$.None){case r.r$.String:v=i.W.Text;break;case r.r$.Number:v=i.W.Double;break;case r.r$.Integer:v=i.W.Integer;break;case r.r$.Boolean:v=i.W.Boolean;break;case r.r$.Date:v=i.W.Date;break;case r.r$.DateTime:v=i.W.DateTime;break;case r.r$.Time:v=i.W.Time;break;case r.r$.Year:v=i.W.Integer,t.Y.assert(()=>!u||"Years"===u,"Unexpected category for Year type."),u="Years";break;case r.r$.Month:v=i.W.Integer,t.Y.assert(()=>!u||"Months"===u,"Unexpected category for Month type."),u="Months"}return o.eV.fromPrimitiveTypeAndCategory(v,u)}static getTopLevelSecondaryDynamicMember(l,u){t.Y.assertValue(l,"DsrV1.DataShape");var v=l.SecondaryHierarchy;return v?u&&u.Secondary?n.getDynamicMember(v,u.Secondary.Groupings,0):n.getDynamicMemberFallback(v):null}static getTopLevelPrimaryDynamicMember(l,u,v){t.Y.assertValue(l,"DsrV1.DataShape");var g,m=l.PrimaryHierarchy;return m?(v&&(g=void 0!==l.Calculations),u&&u.Primary?n.getDynamicMember(m,u.Primary.Groupings,0,g):n.getDynamicMemberFallback(m,g)):null}static getDynamicMember(l,u,v,m){if(t.Y.assertValue(l,"dataShapeMembers"),0===l.length)return null;if(!u||0===u.length)return n.getDynamicMemberFallback(l,m);var g=u[v].Member;if(!g)return n.getDynamicMemberFallback(l,m);for(var E of l)if(E.Id===g)return E;return null}static getDynamicMemberFallback(l,u){return 2===l.length?l[1]:void 0===u||!0===u?l[0]:null}static fillMetadataColumnAggregate(l,u,v=!0){t.Y.assertValue(u,"aggregateMetdata");var m=u.source.aggregates;switch(m||(u.source.aggregates=m={}),u.aggregateKind){case a.B8.Subtotal:return void(m.subtotal=l);case a.B8.Max:return void(m.max=l);case a.B8.Min:return void(m.min=l);case a.B8.Single:return void(v||(m.single=l));case a.B8.Count:return t.Y.assert(()=>"number"==typeof l,"unexpected count calc value"),void(m.count=l);case a.B8.Average:return void(m.average=l);case a.B8.Median:return void(m.median=l);case a.B8.Percentile:var g=u.aggregate.Percentile,E=m.percentiles;E||(E=m.percentiles=[]);var D={k:g.K,value:l};return null!=g.Exclusive&&(D.exclusive=g.Exclusive),void E.push(D);default:t.Y.assertFail("unknown AggregateKind")}}static copyAggregates(l,u){t.Y.assertValue(l,"source Aggregates"),t.Y.assertValue(u,"target Aggregates"),void 0!==l.subtotal&&(u.subtotal=l.subtotal),void 0!==l.min&&(u.min=l.min),void 0!==l.max&&(u.max=l.max),void 0!==l.minLocal&&(u.minLocal=l.minLocal),void 0!==l.maxLocal&&(u.maxLocal=l.maxLocal),void 0!==l.count&&(u.count=l.count)}static computeAggIdx(l,u,v,m){return l+(m-u)*(v+1)}}class c{get name(){return"maxLocal"}update(l){if("number"==typeof l&&!isNaN(l)){var u=this.current;this.current=void 0===u?l:Math.max(u,l)}}value(){return this.current}}class s{get name(){return"minLocal"}update(l){if("number"==typeof l&&!isNaN(l)){var u=this.current;this.current=void 0===u?l:Math.min(u||0,l)}}value(){return this.current}}},222378:function(ve,z,e){e.d(z,{y:function(){return r}});var a=e(18972),i=e(18122),r=(()=>{class t extends a.qQ{constructor(d){i.Y.assertValue(d,"jobId"),super(t.Code),this.jobId=d}getDetails(d){var n=super.getDetails(d);return n.debugErrorInfo=n.debugErrorInfo||[],n.debugErrorInfo.push({errorInfoKey:a.T5,errorInfoValue:this.jobId}),n}}return t.Code="DelayedQueryTimeoutError",t})()},827947:function(ve,z,e){e.d(z,{AE:function(){return R},AX:function(){return U},Bw:function(){return T},Es:function(){return N},Hb:function(){return y},IJ:function(){return b},IO:function(){return ne},MS:function(){return E},Qp:function(){return j},RY:function(){return W},SM:function(){return l},V9:function(){return V},WP:function(){return K},WW:function(){return P},X3:function(){return p},Xt:function(){return L},YI:function(){return w},Yl:function(){return q},_V:function(){return I},aC:function(){return s},cT:function(){return g},cl:function(){return m},eO:function(){return u},gk:function(){return G},lN:function(){return C},ly:function(){return O},nK:function(){return S},oy:function(){return f},s9:function(){return v},tX:function(){return h},v5:function(){return D},w6:function(){return M},x0:function(){return F},xL:function(){return A},yW:function(){return x},zq:function(){return B},zx:function(){return Y}});var a=e(154428),i=e(18972),r=e(155281),t=e(18122),o=e(989417),d=e(454840),n=e(153484),c=e(858807),s="DMTS_MultipleGatewaysWithAllDatasourcesToBindError",p="DMTS_DatasourceHasNoCredentialError",l="DMTS_OAuthTokenRefreshFailedError",u="DM_GWPipeline_Client_GatewayUnreachable",v="DM_GWPipeline_Client_OAuthTokenRefreshFailedError",m="DMTS_UserLostPermissionToDatasourceError",g="DMTS_UserNotFoundInADGraphError",E="DM_GWPipeline_Gateway_DataSourceAccessError",D="DM_GWPipeline_Gateway_ImpersonationError",h="DM_GWPipeline_Gateway_InvalidMashupConnectionString",C="DM_GWPipeline_Gateway_DatabaseLoginError",y="DM_GWPipeline_Gateway_SqlTimeoutException",f="DM_GWPipeline_Gateway_AdomdTimeoutException",S="DM_GWPipeline_Gateway_InvalidObjectNameException",b="DM_GWPipeline_Gateway_InvalidConnectionCredentials",V="DM_GWPipeline_Gateway_ConnectionBrokenException",M="DM_GWPipeline_Gateway_MemoryError",P="DM_GWPipeline_Gateway_MissingStructureError",T="DM_GWPipeline_Gateway_UnprocessedStructureError",N="DM_GWPipeline_Gateway_ModelLoadError",w="DM_GWPipeline_Gateway_CancellationError",I="DM_GWPipeline_Gateway_CancellationOrTimeoutError",O="DM_GWPipeline_Gateway_QueryExecutionError",x="DM_GWPipeline_Gateway_RecalculationRequiredError",j="DM_GWPipeline_Gateway_TimeoutError",U="DM_GWPipeline_Gateway_AdoNetProviderOpenConnectionTimeoutError",F="DM_GWPipeline_Gateway_AdoNetProviderExecuteQueryTimeoutError",R="DM_GWPipeline_Gateway_AdomdConnectError",B="DM_GWPipeline_Gateway_GatewayOverloadedMemory",A="DM_GWPipeline_Gateway_GatewayOverloadedConcurrency",W="DM_GWPipeline_Gateway_MashupDataAccessError",G="DM_GWPipeline_Gateway_DatabaseConnectError",K="DM_GWPipeline_Gateway_ServerUnreachable",q="DM_GWPipeline_Gateway_GatewayOverloadedProcessor",ne="rsAccessDenied",k="azure:values",L=function(Q){return Q.ComplexSlicerNotAllowedWithMeasures="ComplexSlicerNotAllowedWithMeasures",Q.ComplexHighlightsNotAllowed="ComplexHighlightsNotAllowed",Q.ExclusivePercentileOutOfRange="ExclusivePercentileOutOfRange",Q.InvalidDataShapeNoOutputData="InvalidDataShapeNoOutputData",Q.InvalidFilterComparisonIncompatibleExpressions="InvalidFilterComparisonIncompatibleExpressions",Q.InvalidFilterConditionIncompatibleDataType="InvalidFilterConditionIncompatibleDataType",Q.InvalidUnconstrainedJoin="InvalidUnconstrainedJoin",Q.ModelUnavailable="ModelUnavailable",Q.OverlappingKeysOnOppositeHierarchies="OverlappingKeysOnOppositeHierarchies",Q.OverlappingKeysOnDifferentVisualShapeAxes="OverlappingKeysOnDifferentVisualShapeAxes",Q.rsQueryMemoryLimitExceeded="rsQueryMemoryLimitExceeded",Q.rsQueryTimeoutExceeded="rsQueryTimeoutExceeded",Q.CouldNotResolveModelReferencesInSemanticQuery="CouldNotResolveModelReferencesInSemanticQuery",Q.QueryExtensionMeasureUnexpectedEndOfUserInput="QueryExtensionMeasureUnexpectedEndOfUserInput",Q.NativeVisualCalculationUnexpectedEndOfUserInput="NativeVisualCalculationUnexpectedEndOfUserInput",Q.rsAccessDenied="rsAccessDenied",Q.NoUniqueKeyForDetailTable="NoUniqueKeyForDetailTable",Q.IsRelatedToManyNotSupportedForDetailTable="IsRelatedToManyNotSupportedForDetailTable",Q.ModelMeasuresNotSupportedForDetailTable="ModelMeasuresNotSupportedForDetailTable",Q.UnsupportedDateTimeLiteral="UnsupportedDateTimeLiteral",Q.InvalidExtensionDax_UnclosedBracketIdentifier="InvalidExtensionDax_UnclosedBracketIdentifier",Q.InvalidExtensionDax_UnexpectedCloseParenthesis="InvalidExtensionDax_UnexpectedCloseParenthesis",Q.ExtensionMeasureEmptyExpression="ExtensionMeasureEmptyExpression",Q.ExtensionMeasureNameNotUniqueModel="ExtensionMeasureNameNotUniqueModel",Q.ExtensionMeasureNameNotUnique="ExtensionMeasureNameNotUnique",Q.CouldNotResolveModelReferencesInQueryExtensionSchema="CouldNotResolveModelReferencesInQueryExtensionSchema",Q.QueryExtensionMeasureError="QueryExtensionMeasureError",Q.CalculationGroupApplyToSparklineTextError="CalculationGroupApplyToSparklineTextError",Q.NativeVisualCalculationError="NativeVisualCalculationError",Q.UnsupportedDataSourceVariables="UnsupportedDataSourceVariables",Q.DataExtensionMissingResultSet="DataExtensionMissingResultSet",Q.ProxyModelChainLimitExceeded="ProxyModelChainLimitExceeded",Q.FabricThrottled="FabricThrottled",Q.AA_PowerBIScriptPayloadTooLargeError="AA_PowerBIScriptPayloadTooLargeError",Q.AA_PowerBIScriptResultTooLargeError="AA_PowerBIScriptResultTooLargeError",Q.AA_PowerBIScriptReturnedNoImageError="AA_PowerBIScriptReturnedNoImageError",Q.AA_PowerBIScriptRuntimeErrorError="AA_PowerBIScriptRuntimeErrorError",Q.RScriptVisualRenderingUnsupportedError="RScriptVisualRenderingUnsupportedError",Q.PythonScriptVisualRenderingUnsupportedError="PythonScriptVisualRenderingUnsupportedError",Q.ScriptExecutionFailedError="ScriptExecutionFailedError",Q.SparkCoreExecutionLongScriptRunningTimedOutError="SparkCoreExecutionLongScriptRunningTimedOutError",Q.AdalMultiFactorAuthRequiredErrorCode="AdalMultiFactorAuthRequiredErrorCode",Q.AdalBlockedByConditionalAccessErrorCode="AdalBlockedByConditionalAccessErrorCode",Q.AA_PowerBIScriptTimeoutError="AA_PowerBIScriptTimeoutError",Q.AA_PowerBIRequestsQueueOverflowError="AA_PowerBIRequestsQueueOverflowError",Q.AA_PowerBIScriptRuntimeMaxMemoryError="AA_PowerBIScriptRuntimeMaxMemoryError",Q.AA_PowerBIScriptRuntimeMaxDiskIOError="AA_PowerBIScriptRuntimeMaxDiskIOError",Q.AA_PowerBIScriptMissingDependencyError="AA_PowerBIScriptMissingDependencyError",Q.AA_PowerBIScriptSpecificPackageWithMissingDependencyError="AA_PowerBIScriptSpecificPackageWithMissingDependencyError",Q.AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError="AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError",Q.AA_PowerBIScriptMissingSpecificPackageError="AA_PowerBIScriptMissingSpecificPackageError",Q.OnPremiseServiceException="OnPremiseServiceException",Q.InvalidExtensionDax_UnclosedMultiLineComment="InvalidExtensionDax_UnclosedMultiLineComment",Q.InvalidExtensionDax_UnclosedParenthesis="InvalidExtensionDax_UnclosedParenthesis",Q.InvalidExtensionDax_UnclosedQuoteIdentifier="InvalidExtensionDax_UnclosedQuoteIdentifier",Q.InvalidExtensionDax_UnclosedStringLiteral="InvalidExtensionDax_UnclosedStringLiteral",Q.InvalidOrMalformedDataShapeBinding="InvalidOrMalformedDataShapeBinding",Q.InvalidOrMalformedSemanticQueryDefinition="InvalidOrMalformedSemanticQueryDefinition",Q.CannotUseMultiColumnFilteringWithMappedColumns="CannotUseMultiColumnFilteringWithMappedColumns",Q.DifferentMappingsWithinSubqueries="DifferentMappingsWithinSubqueries",Q.FilterIncompatibleWithParameter="FilterIncompatibleWithParameter",Q.FoundMultipleTargetsWithAtLeastOneMapping="FoundMultipleTargetsWithAtLeastOneMapping",Q.FoundParameterMappingOnUnsupportedFilter="FoundParameterMappingOnUnsupportedFilter",Q.InTableConditionNotSupportedWithMappedParameters="InTableConditionNotSupportedWithMappedParameters",Q.InvalidMappedParameterValueExpression="InvalidMappedParameterValueExpression",Q.MappedTargetMustMatchMappedCondition="MappedTargetMustMatchMappedCondition",Q.MixOfAssignedAndUnassignedColumnsWithinORExpression="MixOfAssignedAndUnassignedColumnsWithinORExpression",Q.MultipleParameterAssignmentsWithinORUnsupported="MultipleParameterAssignmentsWithinORUnsupported",Q.MultipleParameterMappingsUnsupported="MultipleParameterMappingsUnsupported",Q.ParameterMappingFilterConflict="ParameterMappingFilterConflict",Q.ParameterMappingsFoundWithinFilteredEvalExpressionFilter="ParameterMappingsFoundWithinFilteredEvalExpressionFilter",Q.ParameterMappingsNotSupportedOnHighlights="ParameterMappingsNotSupportedOnHighlights",Q.SingleValueParameterWithMultipleValues="SingleValueParameterWithMultipleValues",Q}({}),X={[L.ComplexSlicerNotAllowedWithMeasures]:{localizedContent:"DsrError_ComplexSlicerNotAllowedWithMeasuresValue"},[L.ComplexHighlightsNotAllowed]:{localizedContent:"DsrError_ComplexHighlightsNotAllowed_Details",localizedMessage:"DsrError_ComplexHighlightsNotAllowed_ShortMessage"},[L.CouldNotResolveModelReferencesInSemanticQuery]:{localizedMessage:"DsrError_CouldNotResolveModelRefErrorMessage",localizedTitle:"DsrError_CouldNotResolveModelRefErrorKey",localizedContent:"DsrError_CouldNotResolveModelRefErrorValNoItems",localizedContentWithAffectedItems:"DsrError_CouldNotResolveModelRefErrorValFormat",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690865"},[L.ExclusivePercentileOutOfRange]:{localizedMessage:"DsrError_ExclusivePercentileOutOfRangeMessage",localizedTitle:"DsrError_ExclusivePercentileOutOfRangeKey",localizedContent:"DsrError_ExclusivePercentileOutOfRangeValue"},[L.InvalidDataShapeNoOutputData]:{localizedContent:"DsrError_InvalidDataShapeValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690860"},[L.InvalidUnconstrainedJoin]:{localizedMessage:"DsrError_InvalidUnconstrainedJoinKey",localizedTitle:"DsrError_InvalidUnconstrainedJoinKey",localizedContent:"DsrError_InvalidUnconstrainedJoinValue",helpLink:"https://go.microsoft.com/fwlink/?linkid=2186131"},[L.IsRelatedToManyNotSupportedForDetailTable]:{localizedMessage:"DsrError_IsRelatedToManyNotSupportedForDetailTableMessage",localizedTitle:"DsrError_IsRelatedToManyNotSupportedForDetailTableKey",localizedContent:"DsrError_IsRelatedToManyNotSupportedForDetailTableValueNoItems",localizedContentWithAffectedItems:"DsrError_IsRelatedToManyNotSupportedForDetailTableValueFormat"},[L.AA_PowerBIScriptPayloadTooLargeError]:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=746290"},[L.AA_PowerBIScriptResultTooLargeError]:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=746291"},[L.AA_PowerBIScriptReturnedNoImageError]:{localizedMessage:"DsrError_ScriptReturnedNoImageMessage",localizedTitle:"DsrError_ScriptReturnedNoImageKey",localizedContent:"DsrError_ScriptReturnedNoImageContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733479"},[L.AA_PowerBIScriptRuntimeErrorError]:{localizedTitle:"DsrError_ScriptRuntimeErrorKey",localizedMessage:"DsrError_ScriptRuntimeErrorMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=733477"},[L.ScriptExecutionFailedError]:{localizedTitle:"DsrError_ScriptRuntimeErrorKey",localizedMessage:"DsrError_ScriptRuntimeErrorMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=733477"},[L.RScriptVisualRenderingUnsupportedError]:{localizedTitle:"DsrError_ScriptRenderingUnsupportedErrorTitle",localizedMessage:"DsrError_ScriptRenderingUnsupportedErrorMessage",localizedContent:"DsrError_ScriptRenderingUnsupportedErrorContent",helpLink:"https://go.microsoft.com/fwlink/?linkid=2306197"},[L.PythonScriptVisualRenderingUnsupportedError]:{localizedTitle:"DsrError_ScriptRenderingUnsupportedErrorTitle",localizedMessage:"DsrError_ScriptRenderingUnsupportedErrorMessage",localizedContent:"DsrError_ScriptRenderingUnsupportedErrorContent",helpLink:"https://go.microsoft.com/fwlink/?linkid=2303578"},[L.SparkCoreExecutionLongScriptRunningTimedOutError]:{localizedTitle:"DsrError_SparkCoreExecutionLongScriptRunningTimedOutError",localizedMessage:"DsrError_SparkCoreExecutionLongScriptRunningTimedOutError",localizedContent:"DsrError_SparkCoreExecutionLongScriptRunningTimedOutError",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733477"},[L.AdalMultiFactorAuthRequiredErrorCode]:{localizedTitle:"DsrError_ScriptRequiredMfaForUser_Title",localizedMessage:"DsrError_ScriptRequiredMfaForUser_Message",localizedContent:"DsrError_ScriptRequiredMfaForUser_Message",helpLink:"https://go.microsoft.com/fwlink/?linkid=2324700"},[L.AdalBlockedByConditionalAccessErrorCode]:{localizedTitle:"DsrError_ScriptRequiredMfaForUser_Title",localizedMessage:"DsrError_ScriptRequiredMfaForUser_Message",localizedContent:"DsrError_ScriptRequiredMfaForUser_Message",helpLink:"https://go.microsoft.com/fwlink/?linkid=2324700"},[L.AA_PowerBIScriptTimeoutError]:{localizedMessage:"DsrError_ScriptTimeoutMessage",localizedTitle:"DsrError_ScriptTimeoutKey",localizedContent:"DsrError_ScriptTimeoutContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733478"},[L.AA_PowerBIRequestsQueueOverflowError]:{localizedTitle:"DsrError_RequestsQueueOverflowKey",localizedMessage:"DsrError_RequestsQueueOverflowMessage",localizedContent:"DsrError_RequestsQueueOverflowContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799576"},[L.AA_PowerBIScriptRuntimeMaxMemoryError]:{localizedTitle:"DsrError_ScriptRuntimeMaxMemoryKey",localizedMessage:"DsrError_ScriptRuntimeMaxMemoryMessage",localizedContent:"DsrError_ScriptRuntimeMaxMemoryContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799578"},[L.AA_PowerBIScriptRuntimeMaxDiskIOError]:{localizedTitle:"DsrError_ScriptRuntimeMaxDiskIOKey",localizedMessage:"DsrError_ScriptRuntimeMaxDiskIOMessage",localizedContent:"DsrError_ScriptRuntimeMaxDiskIOContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799579"},[L.AA_PowerBIScriptMissingDependencyError]:{localizedTitle:"DsrError_ScriptRuntimeMissingDependencyKey",localizedMessage:"DsrError_ScriptRuntimeMissingDependencyMessage",localizedContent:"DsrError_ScriptRuntimeMissingDependencyContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799857"},[L.AA_PowerBIScriptSpecificPackageWithMissingDependencyError]:{localizedTitle:"DsrError_ScriptRuntimeSpecificPackageWithMissingDependencyKey",localizedMessage:"DsrError_ScriptRuntimeSpecificPackageWithMissingDependencyMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=799858"},[L.AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError]:{localizedTitle:"DsrError_ScriptRuntimeSpecificPackageMissingSpecificDependencyKey",localizedMessage:"DsrError_ScriptRuntimeSpecificPackageMissingSpecificDependencyMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=799859"},[L.AA_PowerBIScriptMissingSpecificPackageError]:{localizedTitle:"DsrError_ScriptRuntimeMissingSpecificPackageKey",localizedMessage:"DsrError_ScriptRuntimeMissingSpecificPackageMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=800225"},[L.ModelMeasuresNotSupportedForDetailTable]:{localizedMessage:"DsrError_ModelMeasuresNotSupportedForDetailTableMessage",localizedTitle:"DsrError_ModelMeasuresNotSupportedForDetailTableKey",localizedContent:"DsrError_ModelMeasuresNotSupportedForDetailTableValueNoItems",localizedContentWithAffectedItems:"DsrError_ModelMeasuresNotSupportedForDetailTableValueFormat"},[L.ModelUnavailable]:{localizedContent:"DsrError_ModelUnavailableValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690862"},[L.NoUniqueKeyForDetailTable]:{localizedContent:"DsrError_NoUniqueKeyForDetailTableValue"},[L.OverlappingKeysOnOppositeHierarchies]:{localizedTitle:"DsrError_OverlappingKeysKey",localizedContent:"DsrError_OverlappingKeysValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690863"},[L.OverlappingKeysOnDifferentVisualShapeAxes]:{localizedTitle:"DsrError_OverlappingKeysKey",localizedContent:"DsrError_OverlappingKeysValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690863"},[L.rsQueryMemoryLimitExceeded]:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690864"},[L.rsQueryTimeoutExceeded]:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690864"},[L.rsAccessDenied]:{localizedMessage:"DsrError_NoPermissionMessage",localizedTitle:"DsrError_NoPermissionKey",localizedContent:"DsrError_NoAccessForVisual",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690862"},[L.UnsupportedDateTimeLiteral]:{localizedMessage:"DsrError_UnsupportedDateTimeMessage",localizedTitle:"DsrError_UnsupportedDateTimeKey",localizedContent:"DsrError_UnsupportedDateTimeValueNoItems",localizedContentWithAffectedItems:"DsrError_UnsupportedDateTimeValueFormat"},[L.InvalidExtensionDax_UnclosedBracketIdentifier]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedBracketIdentifier"},[L.InvalidExtensionDax_UnexpectedCloseParenthesis]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnexpectedCloseParenthesis"},[L.InvalidExtensionDax_UnclosedParenthesis]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedParenthesis"},[L.InvalidExtensionDax_UnclosedQuoteIdentifier]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedQuoteIdentifier"},[L.InvalidExtensionDax_UnclosedStringLiteral]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedStringLiteral"},[L.InvalidExtensionDax_UnclosedMultiLineComment]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedMultiLineComment"},[L.InvalidFilterComparisonIncompatibleExpressions]:{localizedContent:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpression",localizedContentWithAffectedItems:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpressionWithAffectedItems"},[L.InvalidFilterConditionIncompatibleDataType]:{localizedContent:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpression",localizedContentWithAffectedItems:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpressionWithAffectedItems"},[L.ExtensionMeasureEmptyExpression]:{localizedContentWithAffectedItems:"DsrError_ExtensionMeasureEmptyExpression"},[L.ExtensionMeasureNameNotUniqueModel]:{localizedContentWithAffectedItems:"DsrError_ExtensionMeasureNameNotUniqueModel"},[L.ExtensionMeasureNameNotUnique]:{localizedContentWithAffectedItems:"DsrError_ExtensionMeasureNameNotUnique"},[L.CouldNotResolveModelReferencesInQueryExtensionSchema]:{localizedMessage:"DsrError_CouldNotResolveModelRefErrorMessage",localizedTitle:"DsrError_CouldNotResolveModelRefErrorKey",localizedContentWithAffectedItems:"DsrError_CouldNotResolveModelReferencesInQueryExtensionSchema"},[L.QueryExtensionMeasureError]:{localizedContentWithAffectedItemsAndPosition:"DsrError_QueryExtensionMeasureError",localizedContentWithAffectedItemsAndPositionAndDetails:"DsrError_QueryExtensionMeasureErrorWithDetails"},[L.QueryExtensionMeasureUnexpectedEndOfUserInput]:{localizedContentWithAffectedItems:"DsrError_QueryExtensionMeasureUnexpectedEndOfUserInput"},[L.CalculationGroupApplyToSparklineTextError]:{localizedMessage:Q=>Q.format("DsrError_CalculationGroupApplyToSparklineTextErrorMessage",[Q.get("Sparkline_CalculationGroupTarget_IndividualDataPoints")]),helpLink:"https://go.microsoft.com/fwlink/?linkid=2319531"},[L.NativeVisualCalculationError]:{localizedContentWithAffectedItemsAndPosition:"DsrError_NativeVisualCalculationError",localizedContentWithAffectedItemsAndPositionAndDetails:"DsrError_NativeVisualCalculationErrorWithDetails"},[L.NativeVisualCalculationUnexpectedEndOfUserInput]:{localizedContentWithAffectedItems:"DsrError_NativeVisualCalculationUnexpectedEndOfUserInput"},[L.UnsupportedDataSourceVariables]:{localizedMessage:"DsrError_UnsupportedDataSourceVariablesMessage",localizedTitle:"DsrError_UnsupportedDataSourceVariablesKey",localizedContent:"DsrError_UnsupportedDataSourceVariablesContent"},[L.DataExtensionMissingResultSet]:{localizedMessage:"DsrError_DataExtensionMissingResultSetMessage",localizedTitle:"DsrError_DataExtensionMissingResultSetKey",localizedContent:"DsrError_DataExtensionMissingResultSetContent"},[L.ProxyModelChainLimitExceeded]:{localizedTitle:"DsrError_ProxyModelChainLimitExceededErrorKey",localizedContent:"DsrError_ProxyModelChainLimitExceededErrorContent",helpLink:"https://go.microsoft.com/fwlink/?LinkID=2225640"},[L.CannotUseMultiColumnFilteringWithMappedColumns]:{localizedContent:"DsrError_DQP_CannotUseMultiColumnFilteringWithMappedColumns",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[L.DifferentMappingsWithinSubqueries]:{localizedContent:"DsrError_DQP_DifferentMappingsWithinSubqueries",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[L.FilterIncompatibleWithParameter]:{localizedContent:"DsrError_DQP_FilterIncompatibleWithParameter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[L.FoundMultipleTargetsWithAtLeastOneMapping]:{localizedContent:"DsrError_DQP_FoundMultipleTargetsWithAtLeastOneMapping",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[L.FoundParameterMappingOnUnsupportedFilter]:{localizedContent:"DsrError_DQP_FoundParameterMappingOnUnsupportedFilter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[L.InTableConditionNotSupportedWithMappedParameters]:{localizedContent:"DsrError_DQP_InTableConditionNotSupportedWithMappedParameters",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[L.InvalidMappedParameterValueExpression]:{localizedContent:"DsrError_DQP_InvalidMappedParameterValueExpression",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[L.MappedTargetMustMatchMappedCondition]:{localizedContent:"DsrError_DQP_MappedTargetMustMatchMappedCondition",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[L.MixOfAssignedAndUnassignedColumnsWithinORExpression]:{localizedContent:"DsrError_DQP_MixOfAssignedAndUnassignedColumnsWithinORExpression",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[L.MultipleParameterAssignmentsWithinORUnsupported]:{localizedContent:"DsrError_DQP_MultipleParameterAssignmentsWithinORUnsupported",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[L.MultipleParameterMappingsUnsupported]:{localizedContent:"DsrError_DQP_MultipleParameterMappingsUnsupported",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[L.ParameterMappingFilterConflict]:{localizedContent:"DsrError_DQP_ParameterMappingFilterConflict",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[L.ParameterMappingsFoundWithinFilteredEvalExpressionFilter]:{localizedContent:"DsrError_DQP_ParameterMappingsFoundWithinFilteredEvalExpressionFilter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[L.ParameterMappingsNotSupportedOnHighlights]:{localizedContent:"DsrError_DQP_ParameterMappingsNotSupportedOnHighlights",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[L.SingleValueParameterWithMultipleValues]:{localizedContent:"DsrError_DQP_SingleValueParameterWithMultipleValues",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[L.FabricThrottled]:{localizedContent:"FabricCapacityThrottledErrorContent",helpLink:"https://aka.ms/capacitymessages"},[c.Zpm]:{localizedMessage:"DsrError_OnPremiseServiceExceptionMessage"},[L.InvalidOrMalformedDataShapeBinding]:{localizedMessage:"DsrError_MinervaQueryError",useODataErrorMessageAsContent:!0},[L.InvalidOrMalformedSemanticQueryDefinition]:{localizedMessage:"DsrError_MinervaQueryError",useODataErrorMessageAsContent:!0}};class Y{static get maxNumberOfCommaValues(){return 9}get code(){return this.oDataCode}get oDataErrorMessage(){if(this.oDataError&&this.oDataError.message&&this.oDataError.message.value)return this.oDataError.message.value}get source(){switch(this.oDataError.source){case"PowerBI":return r.gf.PowerBI;case"External":return r.gf.External;case"Unknown":return;case"User":return Y.isCodeKnown(this.code)?r.gf.User:void 0}t.Y.assertFail(`unknown DsrClientError source: ${this.oDataError.source}`)}get ignorable(){return!1}get AdditionalErrorMessages(){if(this.oDataError){var H=this.oDataError[k];if(!_.isEmpty(H))for(var te of H)if(!_.isEmpty(te.additionalMessages))return te.additionalMessages}}get powerBiErrorDetails(){if(this.oDataError){var H=this.oDataError[k];if(!_.isEmpty(H))for(var te of H)if(!_.isEmpty(te.powerBiErrorDetails))return te.powerBiErrorDetails}}constructor(H){this.oDataError=H,this.oDataCode=this.parseCode()}getDetails(H){var te=this.oDataError[k],ee=null;if(te)for(var ue of te)if(ue.details){ee=ue.details;break}var Te=Y.getErrorDetailsFromStatusCode(this.code,this.oDataErrorMessage,ee,this.AdditionalErrorMessages,H),He=Te.displayableErrorInfo[0].errorInfoKey;if(!Y.isCodeKnown(this.code)&&ee&&(Te.displayableErrorInfo=[]),ee){var We=0===Te.displayableErrorInfo.length?He:H.get("DsrError_MoreInfo");Te.displayableErrorInfo.push({errorInfoKey:We,errorInfoValue:ee})}return(Y.isDynamicQueryParameterErrorCode(this.code)||this.code===L.CalculationGroupApplyToSparklineTextError)&&(Te.hideDebugInfo=!0),Te}static getErrorDetailsFromStatusCode(H,te,ee,ue,Te){var He=Te.get("DsrError_Key"),We=Te.get("DsrError_UnknownErrorValue"),ft=Te.get("DsrError_Key"),mt=a.So,At=H,Qe=H?.match(/^InvalidOrMalformed[^_]*/);Qe&&(At=Qe[0]);var Fe=X[At];if(Fe){He=Fe.localizedTitle?Te.get(Fe.localizedTitle):He,We=Y.getContent(H,ee,ue,Fe,Te)||We;var we=Fe.localizedMessage;we&&(ft="string"==typeof we?Te.get(we):we(Te)),mt=Fe.helpLink||mt,Fe.useODataErrorMessageAsContent&&(We=te||ft)}var Ee={message:ft,displayableErrorInfo:[{errorInfoKey:He,errorInfoValue:We}],helpLink:mt};return Ee.debugErrorInfo=[{errorInfoKey:i.O4,errorInfoValue:H}],(!Fe||!Fe.useODataErrorMessageAsContent)&&te&&Ee.debugErrorInfo.push({errorInfoKey:i.Hk,errorInfoValue:te}),Ee}static getContent(H,te,ee,ue,Te){if(ue.localizedContentWithAffectedItemsAndPosition||ue.localizedContentWithAffectedItemsAndPositionAndDetails){var He=Y.findAdditionalMessageWithAffectedItemsAndPosition(H,ee);if(ue.localizedContentWithAffectedItemsAndPositionAndDetails&&te&&He)return(0,o.G)(Te.get(ue.localizedContentWithAffectedItemsAndPositionAndDetails),(0,d.O4)(He.AffectedItems,Te,Y.maxNumberOfCommaValues),n.r9.formatValue(He.Line),n.r9.formatValue(He.Position),te);if(ue.localizedContentWithAffectedItemsAndPosition&&He)return(0,o.G)(Te.get(ue.localizedContentWithAffectedItemsAndPosition),(0,d.O4)(He.AffectedItems,Te,Y.maxNumberOfCommaValues),n.r9.formatValue(He.Line),n.r9.formatValue(He.Position))}if(ue.localizedContentWithAffectedItems){var We=Y.getAffectedItemsFromStatusCode(H,ee);if(We.length>0)return(0,o.G)(Te.get(ue.localizedContentWithAffectedItems),(0,d.O4)(We,Te,Y.maxNumberOfCommaValues))}if(ue.localizedContent)return Te.get(ue.localizedContent)}static findAdditionalMessageWithAffectedItemsAndPosition(H,te){return _.find(te,ee=>ee.Code===H&&!_.isEmpty(ee.AffectedItems)&&null!=ee.Position&&null!=ee.Line)}static getAffectedItemsFromStatusCode(H,te){for(var ee of te)if(ee.Code===H)return ee.AffectedItems||[];return[]}parseCode(){var H=this.oDataError.code,te=this.oDataError[k],ee=[];if(te)for(var ue of te)ue.additionalMessages&&(ee=ue.additionalMessages);if(ee.length>0)for(var Te of ee)if(Y.isCodeKnown(Te.Code)){H=Te.Code;break}return H}static isCodeKnown(H){return Y.isGeneralKnownErrorCode(H)||Y.isDynamicQueryParameterErrorCode(H)}static isGeneralKnownErrorCode(H){switch(H){case L.ComplexSlicerNotAllowedWithMeasures:case L.ComplexHighlightsNotAllowed:case L.ExclusivePercentileOutOfRange:case L.InvalidDataShapeNoOutputData:case L.InvalidFilterComparisonIncompatibleExpressions:case L.InvalidFilterConditionIncompatibleDataType:case L.InvalidUnconstrainedJoin:case L.ModelUnavailable:case L.OverlappingKeysOnOppositeHierarchies:case L.OverlappingKeysOnDifferentVisualShapeAxes:case L.rsQueryMemoryLimitExceeded:case L.rsQueryTimeoutExceeded:case L.CouldNotResolveModelReferencesInSemanticQuery:case L.QueryExtensionMeasureUnexpectedEndOfUserInput:case L.NativeVisualCalculationUnexpectedEndOfUserInput:case L.rsAccessDenied:case L.NoUniqueKeyForDetailTable:case L.IsRelatedToManyNotSupportedForDetailTable:case L.ModelMeasuresNotSupportedForDetailTable:case L.UnsupportedDateTimeLiteral:case L.InvalidExtensionDax_UnclosedBracketIdentifier:case L.InvalidExtensionDax_UnexpectedCloseParenthesis:case L.InvalidExtensionDax_UnclosedQuoteIdentifier:case L.InvalidExtensionDax_UnclosedParenthesis:case L.InvalidExtensionDax_UnclosedStringLiteral:case L.InvalidExtensionDax_UnclosedMultiLineComment:case L.ExtensionMeasureEmptyExpression:case L.ExtensionMeasureNameNotUniqueModel:case L.ExtensionMeasureNameNotUnique:case L.CouldNotResolveModelReferencesInQueryExtensionSchema:case L.QueryExtensionMeasureError:case L.CalculationGroupApplyToSparklineTextError:case L.NativeVisualCalculationError:case L.UnsupportedDataSourceVariables:case L.DataExtensionMissingResultSet:case L.ProxyModelChainLimitExceeded:case L.FabricThrottled:case L.AdalMultiFactorAuthRequiredErrorCode:case L.AdalBlockedByConditionalAccessErrorCode:return!0;default:return!1}}static isDynamicQueryParameterErrorCode(H){switch(H){case L.CannotUseMultiColumnFilteringWithMappedColumns:case L.DifferentMappingsWithinSubqueries:case L.FilterIncompatibleWithParameter:case L.FoundMultipleTargetsWithAtLeastOneMapping:case L.FoundParameterMappingOnUnsupportedFilter:case L.InTableConditionNotSupportedWithMappedParameters:case L.InvalidMappedParameterValueExpression:case L.MappedTargetMustMatchMappedCondition:case L.MixOfAssignedAndUnassignedColumnsWithinORExpression:case L.MultipleParameterAssignmentsWithinORUnsupported:case L.MultipleParameterMappingsUnsupported:case L.ParameterMappingFilterConflict:case L.ParameterMappingsFoundWithinFilteredEvalExpressionFilter:case L.ParameterMappingsNotSupportedOnHighlights:case L.SingleValueParameterWithMultipleValues:return!0;default:return!1}}}},325818:function(ve,z,e){e.d(z,{Z:function(){return xe}});var a=e(18122),i=e(811748),r=e(233390),t=e(540673),o=e(431575),d=e(558766),n=e(18972),c=e(523908),s=e(914780),p=e(57895);class l{constructor(Ae,Ie){this.requestId=Ae,this.errorCode=Ie}get code(){return this.errorCode}get ignorable(){return!1}getDetails(Ae){return{message:Ae.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:Ae.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:Ae.get("ServiceError_ExecuteSemanticQueryErrorValue")},{errorInfoKey:Ae.get("AdditionalErrorInfo_ErrorText"),errorInfoValue:this.code}],debugErrorInfo:[{errorInfoKey:n.JM,errorInfoValue:this.code}]}}}class u{constructor(){this._head=new v,this._tail=new v,this._head.next=this._tail,this._tail.prev=this._head,this._length=0}insertToHead(Ae){Ae.next=this._head.next,Ae.prev=this._head,this._head.next=Ae,Ae.next.prev=Ae,this._length++}head(){if(this._length>0)return this._head.next}tail(){if(this._length>0)return this._tail.prev}removeFromTail(){this._length>0&&this.remove(this._tail.prev)}remove(Ae){this._length<=0||void 0===Ae.prev||void 0===Ae.next||(Ae.prev.next=Ae.next,Ae.next.prev=Ae.prev,this._length--)}length(){return this._length}}class v{constructor(Ae=void 0){this.value=Ae}}class m{constructor(Ae){this.cache={},this.capacity=Ae,this.linkedList=new u}get(Ae){if(Ae in this.cache){var Ie=this.cache[Ae].value;return Ie?.value}}remove(Ae){this.cache[Ae]&&(this.linkedList.remove(this.cache[Ae]),delete this.cache[Ae])}put(Ae,Ie){Ae in this.cache&&this.remove(Ae);var Je=new E(Ae,Ie),pe=new v(Je);if(this.cache[Ae]=pe,this.linkedList.insertToHead(pe),this.size()>this.capacity){a.Y.assert(()=>this.size()===this.capacity+1,"cache has exceeded expected maximum capacity");var Pe=this.linkedList.tail();delete this.cache[Pe.value.key],this.linkedList.removeFromTail()}}containsKey(Ae){return Ae in this.cache}size(){return this.keys().length}keys(){return Object.keys(this.cache)}isFull(){return this.size()===this.capacity}}class g{constructor(Ae){this.cache={},this.capacity=Ae,this.linkedList=new u}get(Ae){if(Ae in this.cache){var Ie=this.cache[Ae];return this.linkedList.remove(Ie),this.linkedList.insertToHead(Ie),Ie.value.value}}remove(Ae){Ae in this.cache&&(this.linkedList.remove(this.cache[Ae]),delete this.cache[Ae])}put(Ae,Ie){Ae in this.cache&&this.remove(Ae);var Je=new E(Ae,Ie),pe=new v(Je);if(this.cache[Ae]=pe,this.linkedList.insertToHead(pe),this.size()>this.capacity){a.Y.assert(()=>this.size()===this.capacity+1,"cache has exceeded expected maximum capacity");var Pe=this.linkedList.tail();delete this.cache[Pe.value.key],this.linkedList.removeFromTail()}}containsKey(Ae){return Ae in this.cache}size(){return this.keys().length}keys(){return Object.keys(this.cache)}isFull(){return this.size()===this.capacity}}class E{constructor(Ae,Ie){this.key=Ae,this.value=Ie}}var D=function(Se){return Se[Se.FIFO=0]="FIFO",Se[Se.LRU=1]="LRU",Se}({});class C{constructor(Ae,Ie,Je){Je||(Je=500),this.cache=Ie===D.LRU?new g(Je):new m(Je),this.promiseFactory=Ae}getEntryCount(){return this.cache.size()}hasCacheEntry(Ae){return a.Y.assertValue(Ae,"cacheKey"),!!this.getCacheEntry(Ae)}createCacheEntry(Ae,Ie,Je,pe,Pe){a.Y.assertValue(Ae,"cacheKey");var Me=this.getCacheEntry(Ae);if(Ae&&!Me){var Ge=this.promiseFactory,De=this.cache,lt=Ge.defer(Pe),ct=(0,o.L)(lt),vt=Ge.defer(Pe),Vt=(0,o.Z)(vt);return this.appendCacheEntryInternal(Ae,Me={promise:Vt,refCount:0,context:Ie}),ct.then(It=>{Me.updateResult&&(It=Me.updateResult(It)),It&&Je&&(It=Je(It)),Me.result=pe?pe(It):It,vt.resolve(It)},It=>vt.reject(It)).finally(()=>{delete Me.updateResult}),Vt.finally(()=>{De.containsKey(Ae)&&(delete De.get(Ae).promise,Vt.rejected()&&this.removeCacheEntryInternal(Ae))}).catch(It=>ct.reject(It)),{deferred:lt,promise:ct}}}clearEntry(Ae,Ie){var Je=this.getCacheEntry(Ae);if(Je){var pe=Je.promise;return Ie&&pe?pe.reject():this.removeCacheEntryInternal(Ae),!0}return!1}clearAllEntries(Ae){for(var Ie of this.cache.keys())this.clearEntry(Ie,Ae)}bindCacheEntry(Ae,Ie,Je){a.Y.assertValue(Ae,"cacheKey");var pe=this.getCacheEntry(Ae);if(void 0!==pe){var Pe=this.promiseFactory.defer(Je),Me=(0,o.Z)(Pe);if(pe.result){var Ge=Ie?Ie(pe.result):pe.result;return Pe.resolve(Ge),Me}var De=pe.promise;if(!De)return Pe.reject(new Error("RejectablePromiseCache.bindCacheEntry: cache promise is not defined")),Me;pe.refCount++;var lt=ct=>{pe.refCount--,0===pe.refCount&&De.pending()&&De.reject(ct)};return Me.then(()=>lt(),ct=>lt(ct)),De.then(ct=>{var vt=Ie?Ie(ct):ct;Pe.resolve(vt)},ct=>Pe.reject(ct)),Me}}getEntryContext(Ae){a.Y.assertValue(Ae,"cacheKey");var Ie=this.getCacheEntry(Ae);if(Ie)return Ie.context}keys(){return this.cache.keys()}isFull(){return this.cache.isFull()}rewriteAllEntries(Ae){var Ie=[],Je=!!Ae.rewriteKey,pe=!!Ae.rewriteResult,Pe=this.cache,Me=function(ct){if(Je){var vt=Ae.rewriteKey(ct);vt!==ct&&Ie.push({oldKey:ct,newKey:vt})}if(pe){var Vt=Pe.get(ct);Vt&&(Vt.result&&Ae.rewriteResult?Vt.result=Ae.rewriteResult(Vt.result,ct):Vt.updateResult=It=>Ae.rewriteResult&&Ae.rewriteResult(It,ct)||It)}};for(var Ge of Pe.keys())Me(Ge);for(var De=0,lt=Ie.length;De<lt;De++)this.changeCacheKey(Ie[De].oldKey,Ie[De].newKey)}putCacheResult(Ae,Ie,Je){a.Y.assertValue(Ae,"cacheKey");var pe=this.getCacheEntry(Ae);pe?pe.result?pe.result=Je?Je(Ie):Ie:pe.updateResult=()=>Ie:a.Y.assertFail(`cannot update no-existing cacheEntry for key '${Ae}' with result '${Ie}'`)}appendCacheEntryInternal(Ae,Ie){this.cache.containsKey(Ae)&&this.removeCacheEntryInternal(Ae),this.cache.put(Ae,Ie)}removeCacheEntryInternal(Ae){this.cache.remove(Ae)}changeCacheKey(Ae,Ie){if(!Ie)return this.clearEntry(Ae,!0);if(this.hasCacheEntry(Ie)||!this.hasCacheEntry(Ae))return!1;var Je=this.getCacheEntry(Ae);return this.removeCacheEntryInternal(Ae),this.appendCacheEntryInternal(Ie,Je),!0}getCacheEntry(Ae){var Ie;if(a.Y.assertValue(Ae,"cacheKey"),Ae&&(Ie=this.cache.get(Ae))&&(Ie.promise||Ie.result))return Ie}}var y=e(223431),f=e(454840),S=e(722442),b=e(919879),V=e(690332),M=e(90259);function P(Se){return a.Y.assert(()=>Se&&Se.Commands&&Se.Commands.length>0,"data query should not be empty"),(0,M.q)(Se)?T(Se):N(Se.Commands[0].SemanticQueryDataShapeCommand)}function T(Se){if(a.Y.assert(()=>!Se||(0,M.q)(Se),"!dataQuery || isCompositeDataQuery(dataQuery)"),Se)return JSON.stringify(Se)}function N(Se){if(Se)return JSON.stringify(Se)}var w=e(977332),I=e(702852),O=e(98138),j=f.n4.generateGuid;class F{constructor(Ae,Ie,Je,pe,Pe){this.featureSwitches=Pe,a.Y.assertValue(Ae,"promiseFactory"),a.Y.assertValue(Je,"createQuery"),this.createQuery=Je,this.createCancelQuery=pe,this.promiseFactory=Ae,this.cacheByModel={},this.telemetryService=Ie}ensure(Ae){a.Y.assertValue(Ae,"options"),a.Y.assertValue(Ae.command,"options.command");var Ie=Ae.command;a.Y.assert(()=>Ie&&Ie.Commands&&Ie.Commands.length>0,"data query should not be empty");var Je=Ie.Commands[0].SemanticQueryDataShapeCommand,pe=this.ensureCache(Ae.dataSources),Pe=P(Ie);if(pe.hasCacheEntry(Pe)){if(F.allowResultFromClientCacheOrDefault(Ae))return this.telemetryService.logEvent(s.TX,{cacheHit:!0,isCacheFull:pe.isFull(),entryCount:pe.getEntryCount()}),pe.bindCacheEntry(Pe,void 0,Ae.telemetryV2Enabled);pe.clearEntry(Pe)}this.telemetryService.logEvent(s.TX,{cacheHit:!1,isCacheFull:pe.isFull(),entryCount:pe.getEntryCount()});var Me=R(Ie,this.featureSwitches,Pe),Ge=this.findEquivalentCache(Ae,pe,Me);if(Ge)return Ge;var lt,De={...Ae};De.queryId=Me.queryId,De.executionType=S.mG.Query,this.featureSwitches?.queryContext&&(lt=Vt=>{var It=this.findQueryContext(De);if(!It)return Vt;var Ot={...Vt};return Ot.queryContext=It,Ot});var ct=pe.createCacheEntry(Pe,Me,lt,F.rewriteCachedResult,Ae.telemetryV2Enabled);if(ct.promise.catch(Vt=>{(0,n.KE)(Vt)||this.featureSwitches&&this.featureSwitches.queryCancellation&&this.createCancelQuery({dataSources:De.dataSources,command:De.command,allowResultFromClientCache:De.allowResultFromClientCache,allowClientSideFilters:De.allowClientSideFilters,cacheResponseOnServer:De.cacheResponseOnServer,ignoreViewportForCache:De.ignoreViewportForCache,cacheOptions:De.cacheOptions,queryId:De.queryId,executionType:S.mG.CancelQuery},Vt&&Vt.queryCancellationSource)}),De.clientCacheOnly)return ct.promise.reject(new n.Zf),ct.promise;this.createQuery(De,ct);var vt=pe.bindCacheEntry(Pe,void 0,Ae.telemetryV2Enabled);return!1===Ae.cacheResponseOnClient&&pe.clearEntry(Pe),Je.Binding&&Je.Binding.DataReduction&&(We(Je.Binding.DataReduction.Primary)||We(Je.Binding.DataReduction.Secondary))||vt.then(Vt=>{Vt&&Vt.dsr&&function(Se,Ae){if(a.Y.assertValue(Se,"dsr"),(0,i.Sb)(Se)){if(!Ae)return!1;for(var Ie=(0,w.Ju)(Se,void 0).dataShapes(),Je=(0,i.ll)(Se);Ie.next();)if(Je&&Je>=I.sZ.MinorVersion1){if(!0!==Ie.hasAllData())return!1}else if(!Ie.complete()||Ie.limitsExceeded()||Ie.hasRestartTokens())return!1;return!0}return _.every(Se.DataShapes,pe=>pe&&pe.IsComplete&&_.isEmpty(pe.DataLimitsExceeded)&&!pe.RestartTokens)}(Vt.dsr,this.featureSwitches&&this.featureSwitches.dsrV2)&&(Me.hasAllData=!0)},()=>{}),vt}findQueryContext(Ae){var Ie=Ae.applicationContext;if(Ie)return a.Y.assert(()=>1===_.size(Ie.Sources),"Expected to have 1 ApplicationContextSource"),Ie.Sources[0].CustomProperties}clear(Ae){var Ie=this.getCache(Ae);Ie&&Ie.clearAllEntries()}rewrite(Ae,Ie){var Je=this.getCache(Ae);if(Je){var pe={};Ie.rewriteCacheKey&&Ie.rewriteDataQueryCacheKey&&(pe.rewriteKey=Pe=>{var Me=JSON.parse(Pe),Ge=Je.getEntryContext(Pe);if(Ge.compositeDataQuery){var De=Me,lt=Ie.rewriteDataQueryCacheKey(De);if(lt&&lt!==De){var ct=B(lt,this.featureSwitches);_.assign(Ge,ct)}}else{var vt=Me,Vt=Ie.rewriteCacheKey(vt);if(Vt&&Vt!==vt){var It=A(Vt,this.featureSwitches);_.assign(Ge,It)}}return Ge.key}),Ie.rewriteCacheResult&&(pe.rewriteResult=Pe=>{var Me=Pe,Ge=Ie.rewriteCacheResult({descriptor:Me.descriptor,dsr:Me.dsr});return Ge?{descriptor:Ge.descriptor,dsr:Ge.dsr}:{descriptor:Me.descriptor,dsr:Me.dsr}}),Je.rewriteAllEntries(pe)}}put(Ae,Ie,Je){var pe=this.ensureCache(Ae),Pe=Ie,Me=P(Pe);if(pe.hasCacheEntry(Me))pe.putCacheResult(Me,Je,F.rewriteCachedResult);else{var Ge=R(Pe,this.featureSwitches,Me);pe.createCacheEntry(Me,Ge,void 0,F.rewriteCachedResult).deferred.resolve(Je)}}static allowResultFromClientCacheOrDefault(Ae){return a.Y.assertValue(Ae,"options"),!1!==Ae.allowResultFromClientCache}findEquivalentCache(Ae,Ie,Je){if(a.Y.assertValue(Ae,"options"),a.Y.assertValue(Ie,"cache"),a.Y.assertValue(Je,"entryContext"),F.allowResultFromClientCacheOrDefault(Ae))if(Je.compositeDataQuery){if(Ae.ignoreViewportForCache)for(var vt of Ie.keys()){var Vt=Ie.getEntryContext(vt);if(Vt&&Vt.keyWithoutViewport&&Vt.keyWithoutViewport===Je.keyWithoutViewport)return Ie.bindCacheEntry(Vt.key,void 0,Ae.telemetryV2Enabled)}}else{var pe=Ae.command;a.Y.assert(()=>pe&&!_.isEmpty(pe.Commands),"data query should not be empty");var Pe=pe.Commands[0].SemanticQueryDataShapeCommand.Binding,Me=!!(Pe&&Pe.DataReduction&&Pe.DataReduction.Primary&&Pe.DataReduction.Primary.TopNPerLevel),Ge=!1;for(var De of Ie.keys()){var lt=Ie.getEntryContext(De);if(lt){if(!Me&&lt.hasAllData&&lt.keyWithoutReduction===Je.keyWithoutReduction)return Ie.bindCacheEntry(lt.key,void 0,Ae.telemetryV2Enabled);if(H(Ie,lt,Ae,Je,Ae.telemetryV2Enabled)){Ge=!0;break}}}Ge&&y.Cn.information("Reused cache with client side filters")}}getCache(Ae){return this.cacheByModel[this.generateModelKey(Ae)]}ensureCache(Ae){var Ie=this.generateModelKey(Ae),Je=this.cacheByModel,pe=Je[Ie];return void 0===pe&&(pe=Je[Ie]=new C(this.promiseFactory,this.featureSwitches?.lruCacheEvictionPolicy?D.LRU:D.FIFO)),pe}generateModelKey(Ae){if(!_.isEmpty(Ae))return JSON.stringify(_.map(Ae,Ie=>({dbName:Ie.dbName,vsName:Ie.vsName,schemaName:Ie.schemaName})))}static rewriteCachedResult(Ae){if(!Ae)return Ae;var Ie={...Ae};return delete Ie.metrics,Ie.fromClientCache=!0,Ie}}function R(Se,Ae,Ie){return a.Y.assertValue(Se,"dataQuery"),a.Y.assert(()=>Se&&Se.Commands&&Se.Commands.length>0,"data query should not be empty"),a.Y.assertAnyValue(Ie,"cacheKey"),(0,M.q)(Se)?B(Se,Ae,Ie):(a.Y.assert(()=>1===Se.Commands.length,"Expecting a non-empty, non-composite query to have exactly 1 command."),A(Se.Commands[0].SemanticQueryDataShapeCommand,Ae,Ie))}function B(Se,Ae,Ie){return a.Y.assertValue(Se,"dataQuery"),a.Y.assert(()=>(0,M.q)(Se),"data query should be composite"),a.Y.assertAnyValue(Ie,"cacheKey"),a.Y.assert(()=>!Ie||Ie===T(Se),"If cacheKey is specified, it is expected to be the return value of this.generateCacheKeyDataQuery(dataQuery).  The fact that cacheKey is a parameter to this function is just an optimization."),{key:Ie||T(Se),keyWithoutReduction:L(Se),keyWithoutViewport:X(Se),keyWithoutFilter:void 0,queryFilters:void 0,compositeDataQuery:!0,queryId:W(Ae)}}function A(Se,Ae,Ie){a.Y.assertAnyValue(Se,"dataShapeCommand"),a.Y.assertAnyValue(Ie,"cacheKey"),a.Y.assert(()=>!Ie||Ie===N(Se),"If cacheKey is specified, it is expected to be the return value of this.generateCacheKey(dataShapeCommand).  The fact that cacheKey is a parameter to this function is just an optimization.");var Je=function(Se){if(a.Y.assertAnyValue(Se,"command"),!Se)return!1;var Ae=Se.Binding&&Se.Binding.DataReduction,Ie=Ae&&Ae.Primary,Je=Ae&&Ae.Secondary;return!(!ft(Ie)||!ft(Je)||We(Ie)||We(Je))}(Se);return{key:Ie||N(Se),keyWithoutReduction:ne(Se),keyWithoutViewport:void 0,keyWithoutFilter:Je?k(Se):void 0,queryFilters:Je?Y(Se):void 0,compositeDataQuery:!1,queryId:W(Ae)}}function W(Se){return Se&&Se.queryCancellation?j():""}function G(Se){Se&&Se.Binding&&"object"==typeof Se.Binding&&(Se.Binding.DataReduction=void 0,Se.Binding.Limits=void 0)}function ne(Se){if(Se){var Ae=_.cloneDeep(Se);return G(Ae),JSON.stringify(Ae)}}function k(Se){if(Se){var Ae=_.cloneDeep(Se);return function(Se){Se&&Se.Query&&Se.Query.Where&&(Se.Query.Where=void 0)}(Ae),JSON.stringify(Ae)}}function L(Se){if(a.Y.assert(()=>!Se||(0,M.q)(Se),"!dataQuery || isCompositeDataQuery(dataQuery)"),Se){var Ae=_.cloneDeep(Se);return G(Ae.Commands[0].SemanticQueryDataShapeCommand),JSON.stringify(Ae)}}function X(Se){if(a.Y.assert(()=>!Se||(0,M.q)(Se),"!dataQuery || isCompositeDataQuery(dataQuery)"),Se){a.Y.assertValue(Se.Commands,"dataQuery.Commands"),a.Y.assert(()=>2===Se.Commands.length,"dataQuery.Commands must have two commands"),a.Y.assertValue(Se.Commands[1].ScriptVisualCommand,"dataQuery.Commands second element must be a ScriptVisualCommand");var Ae=_.cloneDeep(Se);return function(Se){Se&&(Se.ViewportHeightPx=void 0,Se.ViewportWidthPx=void 0)}(Ae.Commands[1].ScriptVisualCommand),JSON.stringify(Ae)}}function Y(Se){a.Y.assertAnyValue(Se,"command");var Ae=Se&&Se.Query;if(Ae&&!_.isEmpty(Ae.Where)){var Ie=At(Ae),Je=Ie&&Ie.where();if(!_.isEmpty(Je))return Je}}function H(Se,Ae,Ie,Je,pe=!1){if(a.Y.assert(()=>F.allowResultFromClientCacheOrDefault(Ie),"QueryCache.allowResultFromClientCacheOrDefault(options)"),a.Y.assertValue(Se,"cache"),a.Y.assertValue(Ae,"oldItemContext"),a.Y.assertValue(Ie,"newQueryOptions"),a.Y.assertValue(Je,"newItemContext"),Ie.allowClientSideFilters){var Pe=function(Se,Ae){if(a.Y.assertValue(Se,"oldItemContext"),a.Y.assertValue(Ae,"newItemContext"),!Ae.compositeDataQuery&&!!Ae.keyWithoutFilter&&!Se.compositeDataQuery&&Se.keyWithoutFilter&&Se.hasAllData&&Se.keyWithoutFilter===Ae.keyWithoutFilter&&function(Se,Ae){return a.Y.assertAnyValue(Se,"filters"),a.Y.assertAnyValue(Ae,"counterparts"),_.every(Se,Ie=>_.some(Ae,Je=>(0,b._w)(Je,Ie)))}(ee(Se.queryFilters,Ae.queryFilters),Ae.queryFilters)){var Pe=ee(Ae.queryFilters,Se.queryFilters);if(!_.isEmpty(Pe))return function(Se,Ae){a.Y.assert(()=>Se&&!Se.compositeDataQuery,"itemContext && !itemContext.compositeDataQuery"),a.Y.assertNonEmpty(Ae,"filtersToConvert");var Ie=JSON.parse(Se.key),Je=At(Ie&&Ie.Query);if(Je)return a.Y.assert(()=>_.every(Ae,Pe=>(0,O.i1)(Je.where(),Pe)),"expecting every item in filtersToConvert to be in the where clause of the source SemanticQuery."),(0,b.Bv)(Je.select(),Ae)}(Ae,Pe)}}(Ae,Je);if(!_.isEmpty(Pe))return Se.bindCacheEntry(Ae.key,Me=>function(Se,Ae){a.Y.assertValue(Se,"data"),a.Y.assertNonEmpty(Ae,"clientSideFilters");var Ie={...Se};return Ie.clientSideFilters=Ae,Ie}(Me,Pe),pe)}}function ee(Se,Ae){return a.Y.assertAnyValue(Se,"filters"),a.Y.assertAnyValue(Ae,"comparants"),_.isEmpty(Ae)?Se:_.filter(Se,Ie=>!(0,O.i1)(Ae,Ie))}function We(Se){return a.Y.assertAnyValue(Se,"algorithm"),Se&&Se.Window&&null!=Se.Window.RestartTokens}function ft(Se){return a.Y.assertAnyValue(Se,"algorithm"),!Se||!!Se.Window}function At(Se){if(a.Y.assertAnyValue(Se,"queryDefinition"),Se&&Se.From&&Se.Select)return V.F3.deserializeQuery(Se)}var Qe=e(583032),Fe=e(222378);class ye{resolveDelayedQuery(Ae,Ie,Je){a.Y.assertFail("Apps that want to support delayed query results need to specify an IExecuteSemanticQueryDelayedResultResolver implementation"),Je.reject(new Fe.y(Ae))}}class we extends n.qQ{constructor(Ae){a.Y.assertValue(Ae,"requestId"),super("ExecuteSemanticQueryUnknownError"),this.httpRequestId=Ae}get requestId(){return this.httpRequestId}getDetails(Ae){var Ie=super.getDetails(Ae);return Ie.debugErrorInfo=Ie.debugErrorInfo||[],Ie.debugErrorInfo.push({errorInfoKey:n.Lu,errorInfoValue:this.httpRequestId}),Ie}}class Ee{constructor(Ae,Ie,Je,pe,Pe,Me,Ge,De,lt){this.communication=Ie,this.telemetryService=pe,this.featureSwitches=Ge,this.queryContextProvider=De,this.appContextHostDataProvider=lt,a.Y.assertValue(Ae,"host"),a.Y.assertValue(pe,"telemetryService"),this.promiseFactory=Ae.promiseFactory(),this.delayedQueryResultResolver=Pe||new ye,this.batcher=new p.PI(Me??0,ct=>{for(var vt=0,Vt=ct.length;vt<Vt;++vt)this.executeBatch(ct[vt])},Je,Ge&&Ge.addVisualIdToQueryDataAsHttpBodyId),this.queryCache=function(Se,Ae,Ie,Je,pe){return a.Y.assertValue(Se,"promiseFactory"),a.Y.assertValue(Ie,"createQuery"),new F(Se,Ae,Ie,Je,pe)}(this.promiseFactory,this.telemetryService,(ct,vt)=>{var Vt={options:ct,deferred:vt.deferred,execution:vt.promise,enqueueActivity:ct.performanceActivity&&ct.performanceActivity.isRunning()&&ct.performanceActivity.createChildActivity({name:t.n.QueryPending}),queryActivity:ct.performanceActivity};this.setAppContextHostData(Vt),this.featureSwitches?.queryContext?this.setQueryContext(Vt).then(()=>{this.enqueueExecution(Vt)}):this.enqueueExecution(Vt)},(ct,vt)=>{this.telemetryService.logEvent(s.Iv,{source:vt}),this.enqueueExecution({options:ct,enqueueActivity:ct.performanceActivity&&ct.performanceActivity.isRunning()&&ct.performanceActivity.createChildActivity({name:t.n.QueryPending}),queryActivity:ct.performanceActivity})},Ge)}setAppContextHostData(Ae){if(this.appContextHostDataProvider&&Ae.options.applicationContext&&this.featureSwitches?.useEnrichedApplicationContext){var Ie=Ae.options.applicationContext,Je=this.appContextHostDataProvider.getApplicationContextHostData();Ie.Sources[0]={...Ie.Sources[0],...Je}}}setQueryContext(Ae){var Ie=this;return(0,r.A)(function*(){if(Ie.featureSwitches?.queryContext&&Ie.queryContextProvider&&Ae.options.applicationContext){a.Y.assert(()=>1===_.size(Ae.options.applicationContext.Sources),"Expected to have 1 ApplicationContextSource");var Je=Ae.options.applicationContext.Sources[0];try{var pe=yield Ie.queryContextProvider.generateQueryContext();if(!pe)return;Je.CustomProperties={...Je.CustomProperties,...pe}}catch{return}}})()}enqueueExecution(Ae){this.isCommunicationStopped?(this.pausedQueries=this.pausedQueries||[],this.pausedQueries.push(Ae)):this.batcher.enqueue(Ae)}execute(Ae){if(!_.isEmpty(Ae.dataSources))return this.queryCache.ensure(Ae);var Ie=this.promiseFactory.defer(!1),Je=(0,o.Z)(Ie);return Ie.resolve(Ae.command),Je}stopCommunication(){this.isCommunicationStopped=!0}resumeCommunication(){this.isCommunicationStopped=!1;var Se,Ae=this.pausedQueries;if(Ae){for(var Ie=0,Je=Ae.length;Ie<Je;Ie++){var pe=Ae[Ie];(0,Qe.$6)(Se=pe)&&Se.execution.pending()&&this.batcher.enqueue(pe)}this.pausedQueries=void 0}}cache(){return this.queryCache}setLocalCacheResult(Ae,Ie){this.queryCache.put(Ae.dataSources,Ae.command,Ie)}setPreferredMaxConnections(Ae){this.batcher.setMaxBatches(Ae)}executeBatch(Ae){a.Y.assertValue(Ae,"batch"),a.Y.assert(()=>Ae.queryOptions.length===Ae.promises.length,"Queries & promises sizes must match.");var Ie=Ae.promises;this.communication.execute(Ae).then(Je=>this.onSuccess(Je,Ie),Je=>this.onError(Je,Ie))}onSuccess(Ae,Ie){a.Y.assertValue(Ae,"result"),a.Y.assertValue(Ie,"executions"),this.rejectExecutionsForMissingJobs(Ae,Ie);for(var Je=Ae.jobIds,pe={},Pe=0,Me=Ie.length;Pe<Me;++Pe)pe[Je[Pe]]=Ie[Pe];for(var Ge=Ae.results,De=0,lt=Ge.length;De<lt;++De){var ct=Ge[De],vt=ct.result,Vt=ct.jobId,It=pe[Vt];delete pe[Vt];var Ot=vt.data,de=vt.error;if(Ot)It.resolve({descriptor:Ot.descriptor,dsr:Ot.dsr,metrics:Ot.metrics,requestId:Ae.requestId,timestamp:Ot.timestamp,fromCache:Ot.fromCache});else if(de){var Ye=new c.eH(de);Ye.requestId=Ae.requestId,It.reject(Ye)}else vt.asyncResult&&this.delayedQueryResultResolver.resolveDelayedQuery(ct.jobId,Ae.requestId,It,Ae)}if(!_.isEmpty(Object.keys(pe))){var qe=new l(Ae.requestId,"MissingJobResult");for(var ut in pe)pe[ut].reject(qe)}}rejectExecutionsForMissingJobs(Ae,Ie){var Je=Ae.jobIds.length,pe=Ie.length;if(pe>Je)for(var Pe=new l(Ae.requestId,"MissingJobId"),Me=Je;Me<pe;Me++)Ie[Me].reject(Pe)}onError(Ae,Ie){var Je;if(a.Y.assertValue(Ie,"executions"),Ae&&Ae.requestError&&(Je=new c.eH(Ae.requestError)),Je)Je.requestId=Ae.requestId;else{var Pe,Me,Ge,pe=Ae.error;if(pe){Pe=pe.message,Me=pe.code;var De=pe["pbi.error"]&&pe["pbi.error"].exceptionCulprit;null!=De&&(Ge=(0,d.C$)(De))}Je=Ae&&null!=Ae.httpStatusCode&&Ae.requestId?new n.Kg(Ae.httpStatusCode,Ae.requestId,Me,Pe,Ge):new we(Ae.requestId)}for(var lt=0,ct=Ie.length;lt<ct;lt++)Ie[lt].reject(Je)}}class xe{constructor(Ae,Ie,Je,pe,Pe,Me,Ge,De,lt){a.Y.assertValue(Ae,"host"),this.proxy=new Ee(Ae,Ie,Pe,Je,Me,Ge,pe,De,lt),this.featureSwitches=pe,this.telemetryService=Je}execute(Ae){return this.proxy.execute(Ae)}transform(Ae,Ie,Je,pe){return void 0===Ae?{dataView:{metadata:{columns:[]},error:{code:"UndefinedData"}}}:(0,i.LF)(Ie,Ae,this.featureSwitches,this.telemetryService,Je,pe)}stopCommunication(){this.proxy.stopCommunication()}resumeCommunication(){this.proxy.resumeCommunication()}get cache(){return this.proxy.cache()}setLocalCacheResult(Ae,Ie){this.proxy.setLocalCacheResult(Ae,Ie)}setPreferredMaxConnections(Ae){this.proxy.setPreferredMaxConnections(Ae)}}},390552:function(ve,z,e){e.d(z,{E:function(){return n}});var a=e(20593),i=e(18122),r=e(989417),t=e(905643),o=e(925364);class n{get code(){return"DsrLimitsWarning"}constructor(s,p,l){i.Y.assertValue(s,"queryBindingDescriptor"),i.Y.assert(()=>p&&p.length>0,"Expected a non-empty array of exceeded limits."),this.computeMetadata(s,l,p)}computeMetadata(s,p,l){if(this.limits={},s.Limits){var u=n.getExceededLimitsDetails(s,l),v=s.Limits,m=!!u.Primary,g=!!u.Secondary,E=!!u.Intersection;if(s.ScriptVisualBinding)return void(this.hasScriptVisualBinding=!0);var D=s.Expressions&&s.Expressions.Primary&&s.Expressions.Primary.Groupings?s.Expressions.Primary.Groupings:[],h=s.Expressions&&s.Expressions.Secondary&&s.Expressions.Secondary.Groupings?s.Expressions.Secondary.Groupings:[];m&&g?(this.groupings=D.concat(h),this.limits.Primary=n.getLimitMetadata(v.Primary,p),this.limits.Secondary=n.getLimitMetadata(v.Secondary,p)):m?(this.groupings=D,this.limits.Primary=n.getLimitMetadata(v.Primary,p)):g&&(this.groupings=h,this.limits.Secondary=n.getLimitMetadata(v.Secondary,p)),E&&(this.limits.Intersection=n.getLimitMetadata(v.Intersection,p))}}getDetails(s){var p=!!this.limits.Primary,l=!!this.limits.Secondary,u=null,v=a.gT.Unknown;return this.hasScriptVisualBinding?u=s.get("DsrLimitWarning_TooMuchDataValMultipleColumns"):p||l?p&&l?(v=this.limits.Primary.Type,u=this.getErrorInfoValue(this.groupings,s.get("DsrLimitsWarning_MultipleColumnsWithIssuesFormat"),s)):u=this.getErrorInfoValue(this.groupings,n.getDetailedMessageFormatForOneColumn(v=p?this.limits.Primary.Type:this.limits.Secondary.Type,s),s):this.limits.Intersection&&(u=n.getDetailedMessageFormatForOneColumn(v=this.limits.Intersection.Type,s)),u||(u=s.get("DsrLimitWarning_TooMuchDataValMultipleColumns")),{message:n.getMessage(v,s),displayableErrorInfo:[{errorInfoKey:n.getKey(v,s),errorInfoValue:u}],helpLink:n.getHelpLink(v)}}static getExceededLimitsDetails(s,p){var l=s.Limits,u={};for(var v of p)l.Primary&&v.Id===l.Primary.Id?u.Primary=l.Primary:l.Secondary&&v.Id===l.Secondary.Id?u.Secondary=l.Secondary:l.Intersection&&v.Id===l.Intersection.Id&&(u.Intersection=l.Intersection);return u}getErrorInfoValue(s,p,l){if(!s||0===s.length)return null;for(var u=[],v=0,m=s.length;v<m;v++){var E=this.getGroupingNameFromGroupingKeys(s[v]);E&&u.push(E)}var D,h=u.length;return 0===h?null:(D=1===h?u[0]:u.join(l.get("ListJoin_Separator")),(0,r.G)(p,D))}getGroupingNameFromGroupingKeys(s){for(var p=s.Keys,l=0,u=p.length;l<u;l++){var v=p[l];if(null!=v.Select)return this.columnNameFromIndex?this.columnNameFromIndex(v.Select):void 0}}static getMessage(s,p){switch(s){case a.gT.Sample:return p.get("DsrLimitWarning_RepresentativeSampleMessage");case a.gT.BinnedLineSample:case a.gT.OverlappingPointsSample:return p.get("DsrLimitWarning_HighDensitySampleMessage");default:return p.get("DsrLimitWarning_TooMuchDataMessage")}}static getKey(s,p){switch(s){case a.gT.Sample:return p.get("DsrLimitWarning_RepresentativeSampleKey");case a.gT.BinnedLineSample:case a.gT.OverlappingPointsSample:return p.get("DsrLimitWarning_HighDensitySampleKey");default:return p.get("DsrLimitWarning_TooMuchDataKey")}}static getDetailedMessageFormatForOneColumn(s,p){switch(s){case a.gT.Sample:return p.get("DsrLimitWarning_RepresentativeSampleVal");case a.gT.BinnedLineSample:return p.get("DsrLimitWarning_HighDensitySampleVal");case a.gT.OverlappingPointsSample:return p.get("DsrLimitWarning_OverlappingPointsDetails");default:return p.get("DsrLimitWarning_TooMuchDataVal")}}static getHelpLink(s){switch(s){case a.gT.BinnedLineSample:return"https://go.microsoft.com/fwlink/?linkid=848757";case a.gT.OverlappingPointsSample:return"https://go.microsoft.com/fwlink/?linkid=853820"}}static getLimitMetadata(s,p){return s.Top?{Type:a.gT.Top,Count:n.getLimitCount(s.Top,p)}:s.Bottom?{Type:a.gT.Bottom,Count:n.getLimitCount(s.Bottom,p)}:s.Sample?{Type:a.gT.Sample,Count:n.getLimitCount(s.Sample,p)}:s.BinnedLineSample?{Type:a.gT.BinnedLineSample,Count:n.getBinnedLineSampleCount(s.BinnedLineSample)}:s.OverlappingPointsSample?{Type:a.gT.OverlappingPointsSample,Count:n.getLimitCount(s.OverlappingPointsSample,p)}:{Type:a.gT.Unknown,Count:null}}static getLimitCount(s,p){if(s.Calc&&p){var l=o.Cx.findCalculation(p,s.Calc);if(l){var u=(0,t.$x)(l.Value);if(_.isNumber(u))return u}}return s.Count}static getBinnedLineSampleCount(s){return s.MaxTargetPointCount}}},711107:function(ve,z,e){e.d(z,{D$:function(){return t},aX:function(){return r},lE:function(){return d},xU:function(){return o}});var a=e(18122),i="Warning",r=function(n){return n[n.Warning=0]="Warning",n}({});function t(n){if(n===r.Warning)return i}var o={"ForecastErrorType.DataIsTooSmall":{localizedMessage:"DsrMessage_NotEnoughDataMessage",localizedTitle:"DsrMessage_NotEnoughDataTitle",localizedContent:"DsrMessage_NotEnoughDataContent",isTransformMessage:!0},"ForecastErrorType.TooManyMissingValues":{localizedMessage:"DsrMessage_DataIsTooRandomOrMissingValuesMessage",localizedTitle:"DsrMessage_DataIsTooRandomOrMissingValuesTitle",localizedContent:"DsrMessage_DataIsTooRandomOrMissingValuesContent",isTransformMessage:!0},"ForecastErrorType.NoDominantStepDetected":{localizedMessage:"DsrMessage_DataIsTooRandomOrMissingValuesMessage",localizedTitle:"DsrMessage_DataIsTooRandomOrMissingValuesTitle",localizedContent:"DsrMessage_DataIsTooRandomOrMissingValuesContent",isTransformMessage:!0},"ForecastErrorType.InputTimeStampsNotSorted":{localizedMessage:"DsrMessage_UnsortedDataMessage",localizedTitle:"DsrMessage_UnsortedDataTitle",localizedContent:"DsrMessage_UnsortedDataContent",isTransformMessage:!0},"ForecastErrorType.XAxisIsNull":{localizedMessage:"DsrMessage_ForecastXValueNullMessage",localizedTitle:"DsrMessage_ForecastXValueNullTitle",localizedContent:"DsrMessage_ForecastXValueNullContent",isTransformMessage:!0},"ForecastErrorType.InvalidSeasonality":{localizedMessage:"DsrMessage_ForecastInvalidSeasonalityMessage",localizedTitle:"DsrMessage_ForecastInvalidSeasonalityTitle",localizedContent:"DsrMessage_ForecastInvalidSeasonalityContent",isTransformMessage:!0},"ForecastErrorType.InvalidDataType":{localizedMessage:"DsrMessage_ForecastVariantDataTypeMessage",localizedTitle:"DsrMessage_ForecastVariantDataTypeTitle",localizedContent:"DsrMessage_ForecastVariantDataTypeContent",isTransformMessage:!0},"ForecastErrorType.Unexpected":{localizedMessage:"DsrMessage_ForecastErrorMessage",localizedTitle:"DsrMessage_ForecastErrorTitle",localizedContent:"DsrMessage_ForecastErrorContent",isTransformMessage:!0},ForecastTransformUnsupported:{localizedMessage:"DsrMessage_ForecastNotSupportedMessage",localizedTitle:"DsrMessage_ForecastNotSupportedTitle",localizedContent:"DsrMessage_ForecastNotSupportedContent",isTransformMessage:!0},"ClusteringErrorType.LessThanKDataPoints":{localizedMessage:"DsrMessage_ClusterTooManyClustersTitle",localizedTitle:"DsrMessage_ClusterTooManyClustersTitle",localizedContent:"DsrMessage_ClusterTooManyClustersContent",isTransformMessage:!0},"ClusteringErrorType.TooManyDataPoints":{localizedMessage:"DsrMessage_ClusterExceedsLimitTitle",localizedTitle:"DsrMessage_ClusterExceedsLimitTitle",localizedContent:"DsrMessage_ClusterExceedsLimitContent",isTransformMessage:!0},"ClusteringErrorType.InvalidDataType":{localizedMessage:"DsrMessage_ClusterVariantDataTypeTitle",localizedTitle:"DsrMessage_ClusterVariantDataTypeTitle",localizedContent:"DsrMessage_ClusterVariantDataTypeContent",isTransformMessage:!0}};class d{constructor(c){this.dataShapeMessage=c}get code(){return this.dataShapeMessage.Code}getDetails(c){var s=o[this.dataShapeMessage.Code];return a.Y.assertValue(s,"message to show should be a known message"),{message:c.get(s.localizedMessage),displayableErrorInfo:[{errorInfoKey:c.get(s.localizedTitle),errorInfoValue:c.get(s.localizedContent)}]}}isTransformMessage(){var c=o[this.code];return c&&c.isTransformMessage}}},258096:function(ve,z,e){e.d(z,{e5:function(){return c},Ho:function(){return v},G:function(){return s}});var a=e(20593),i=e(18122),r=e(757406),t=e(905643),o=e(660683);class d{constructor(g){i.Y.assertValue(g,"Null RestartIdentities list"),i.Y.assertNonEmpty(g,"Empty RestartIdentities list"),this.restartValuesCount=g.length,this.calcIdToRestartIdentityIndex={};for(var E=0;E<this.restartValuesCount;E++)this.calcIdToRestartIdentityIndex[g[E]]=E}getRestartValues(g){i.Y.assertValue(g,"getRestartValues called with undefined instanceParser");var E=new Array(this.restartValuesCount);for(g.restartCalcs();g.nextCalc();){var D=this.calcIdToRestartIdentityIndex[g.calcId()];void 0!==D&&(E[D]=g.calcValueAsExpr())}return i.Y.assert(()=>_.every(E,h=>!!h),"Missing calcs for RestartValues"),E}}class n{constructor(g){this.values=g,this.parsedValues=new Array(g.length),this.parsedValueExprs=new Array(g.length)}getCalcValue(g,E){if(!(g>=this.parsedValues.length)){var D=this.parsedValues[g];return void 0===D&&(D=(0,t.Gz)(this.values[g],E),this.parsedValues[g]=D),D}}getCalcValueExpr(g,E,D){if(!(E>=this.parsedValues.length)){var h=this.parsedValueExprs[E];return void 0===h&&(h=(0,t.yE)(g,this.values[E],D),this.parsedValueExprs[E]=h),h}}}class c{constructor(g){if(g)for(var E in this.resolvedValueDictionaries={},g)this.resolvedValueDictionaries[E]=new n(g[E])}getCalcValue(g,E,D){if(E&&"number"==typeof g){i.Y.assertValue(this.resolvedValueDictionaries,"this.context.resolvedValueDictionaries");var h=this.resolvedValueDictionaries[E];return i.Y.assertValue(h,"dictionary"),h.getCalcValue(g,D)}}getCalcValueExpr(g,E,D,h){if(D&&"number"==typeof E){i.Y.assertValue(this.resolvedValueDictionaries,"this.resolvedValueDictionaries");var C=this.resolvedValueDictionaries[D];return i.Y.assertValue(C,"dictionary"),C.getCalcValueExpr(g,E,h)}}}function s(m){var g=m.Select,E=m.Expressions,D=E&&E.Primary,h=D&&D.Groupings,C=D&&D.Synchronization,y=E&&E.Secondary&&E.Secondary.Groupings,f={},S=h&&[],b=y&&[];if(h)for(var V=0,M=h.length;V<M;V++)l(f,h[V],V,S,g);if(y)for(var P=0,T=y.length;P<T;P++)b[P]=[],l(f,y[P],P,b,g);var N=0,w=[];if(g&&y)for(var I=0;I<g.length;I++){var O=g[I];O&&O.Kind===o.Vt.Measure&&null==O.Depth&&null==O.SecondaryDepth&&(w[N++]=I)}var x={intersectionMeasureToSelectIndex:w,secondaryLeafDataMemberId:y&&[],dataMemberIdToMetadata:f,selects:g,maxPrimaryDepth:_.size(h),maxSecondaryDepth:_.size(y),memberInstanceCalcMetadataCache:{},calcIdToCalcMetadata:{},intersectionCalcMetadataCache:{},primaryDataMemberIdCache:S,secondaryDataMemberIdCache:b,instancesCalcCache:{},lastIntersectionCalcCache:{},locked:!1};if(C){var j=C.length;x.primarySynchronizedGroups=new Array(j);for(var U=0;U<j;U++){var F=C[U],R=_.last(F.Groupings);x.primarySynchronizedGroups[U]={groupings:F.Groupings,dataShapeId:F.DataShape,synchronizationIndexCalcId:h[R].SynchronizationIndex,context:p(m,F)}}}return x}function p(m,g){i.Y.assertValue(m.Expressions.Primary,"No primary groupings."),i.Y.assertValue(m,"synchronizedGroup");for(var E=m.Expressions.Primary.Groupings,D=m.Select,h={},C=[],y=g.Groupings,f=0;f<y.length;f++)l(h,E[y[f]].SynchronizedGroup,f,C,D,!0);return{dataMemberIdToMetadata:h,selects:D,maxPrimaryDepth:_.size(y),primaryDataMemberIdCache:C,memberInstanceCalcMetadataCache:{},calcIdToCalcMetadata:{},locked:!1,intersectionCalcMetadataCache:{},maxSecondaryDepth:0,secondaryDataMemberIdCache:void 0,instancesCalcCache:{},lastIntersectionCalcCache:{},intersectionMeasureToSelectIndex:[],secondaryLeafDataMemberId:void 0}}function l(m,g,E,D,h,C){var y=D[E]=[],f=function(m,g){for(var E=m.length,D=new Array(E),h=0;h<E;h++)D[h]=v(m[h],m[h].Select,g);return D}(g.Keys,h),S=g.Member;if(S){y.push(S);var b=m[S]={identityFields:f,axisGrouping:g,kind:a.pc.GroupMember,depth:E+1};C?b.forSynchronization=!0:g.SynchronizedGroup&&(b.isSynchronized=!0),g.RestartIdentities&&(b.restartValuesBuilder=new d(g.RestartIdentities))}var V=g.SubtotalMember;if(V){y.push(V);var M={identityFields:f,kind:a.pc.SubTotalMember,depth:E};C?M.forSynchronization=!0:g.SynchronizedGroup&&(M.isSynchronized=!0),m[V]=M}}function v(m,g,E){i.Y.assertValue(m,"key"),i.Y.assertAnyValue(g,"selectIndex"),i.Y.assertValue(E,"selectBindings");var D=m.Source;if(!D){i.Y.assert(()=>g>=0&&g<_.size(E),"selectIndex should be within range");var h=E[g].Name;return h?(0,r.o4)(h):void i.Y.assertFail("selectName should be defined")}return(0,r.sX)((0,r.EG)((0,o.l_)(D),D.Entity||D.EntitySet),D.Property)}},811748:function(ve,z,e){e.d(z,{wV:function(){return de},ll:function(){return Vt},Sb:function(){return vt},LF:function(){return It}});var a=e(343872),i=e(540673),r=e(694398),t=e(18122),o=e(865429),d=e(454840),n=e(919879),c=e(914780),s=e(13561),p=e(925364),l=e(20593);class u{constructor(le){this.context=le,this.measureValueAggregatorsBySelectIdx=[]}read(le,me=!0){for(var Be=this.context,Ke=Be.selects,Xe=new Array(Ke.length),re=new Array(Ke.length);le.nextCalc();){var fe=Be.aggregateCalcMetadata[le.calcId()];fe&&fe.aggregateKind&&(p.Cx.fillMetadataColumnAggregate(le.calcValue(),fe,!1),fe.aggregateKind===l.B8.Min&&(Xe[fe.selectIdx]=!0),fe.aggregateKind===l.B8.Max&&(re[fe.selectIdx]=!0))}me&&this.addLocalAggregators(Xe,re)}addLocalAggregators(le,me){for(var Be=this.measureValueAggregatorsBySelectIdx,Ke=this.context.measureSelectIndices,Xe=Ke.length,re=!1,fe=0;fe<Xe;fe++){var ae=Ke[fe];le[ae]||(re=!0,Be[ae]||(Be[ae]=[]),Be[ae].push(new p.Ro)),me[ae]||(re=!0,Be[ae]||(Be[ae]=[]),Be[ae].push(new p.XU))}this.hasLocalAggregators=re}update(le,me){if(this.hasLocalAggregators){var Be=this.measureValueAggregatorsBySelectIdx[me];if(Be)for(var Ke of Be)Ke.update(le)}}copyToColumns(){for(var le=this.context.measureSelectIndices,me=le.length,Be=0;Be<me;Be++){var Ke=le[Be],Xe=this.context.selectIndexToColumn[Ke],re=this.measureValueAggregatorsBySelectIdx[Ke];if(re&&re)for(var fe of re){var ae=fe.value();void 0!==ae&&(Xe.aggregates||(Xe.aggregates={}),Xe.aggregates[fe.name]=ae)}}}}var v=e(476271),m=e(757406);class g{constructor(le,me){this.context=le,this.calcIdToGroupingKeysIndex={},this.initialize(me)}initialize(le){var me=this.context,Be=me.selects,Ke=me.dataMemberIdToMetadata[le];this.identityFields=Ke.identityFields,this.identityFieldsCount=this.identityFields.length;var re=Ke.axisGrouping.Keys;t.Y.assert(()=>re.length===this.identityFieldsCount,"Mismatch in Identity Keys count");for(var fe=0;fe<this.identityFieldsCount;fe++){var ae=re[fe],tt=void 0;ae.Calc?tt=ae.Calc:null!=ae.Select&&ae.Select>=0?tt=Ke.forSynchronization?Be[ae.Select].Synchronized?.Value:Be[ae.Select].Value:t.Y.assertFail("unexpected grouping key value"),this.calcIdToGroupingKeysIndex[tt]=fe}}reset(){this.identityParts=new Array(this.identityFieldsCount)}addExpr(le,me){var Be=this.calcIdToGroupingKeysIndex[le],Ke=this.identityFields[Be];Ke&&(this.identityParts[Be]=(0,m.LC)(Ke,me))}getIdentity(){for(var Be,le=this.identityParts,me=this.identityFieldsCount,Ke=0;Ke<me;Ke++)Be=(0,m.Uo)(Be,le[Ke]);var Xe=(0,v.UQ)(Be);return t.Y.assertValue(Xe,"identity"),Xe}getIdentityFields(){return this.identityFields}}var E=e(660683),D=e(702852);class C{constructor(){}run(le,me,Be){this.metadata=Be,this.context=le,this.dsrParser=me,this.selectIndexToCategoryColumn={},this.selectIndexToPrimaryValueColumn={},this.selectIndexToDynamicFormatColumn={},this.intersectionValueColumnsMap=[],this.intersectionDynamicFormatColumnsMap=[],this.primaryMeasureCount=0,this.intersectionMeasureCount=0,this.seriesSelectIndex=-1,this.primaryMeasureSelectIndexMap=[],this.intersectionMeasuresSelectIndexMap=[],this.selectIndexToValueColumnsMap=[],me.reset(),this.aggregator=new u(le);var Ke=this.dsrParser.dataShapes();Ke.next();var Xe={};if(0===le.maxPrimaryDepth){this.readSelectsAndCreateCategoryColumns(void 0,void 0);var re=Xe.values=(0,s.zB)();this.readMeasuresWithNoGrouping(Ke,re)}else{var tt,fe=[],ae=[];Xe.categories=fe,this.readSelectsAndCreateCategoryColumns(fe,ae),(this.intersectionMeasureCount>0||this.primaryMeasureCount>0||this.seriesSelectIndex>=0)&&(Xe.values=tt=(0,s.zB)()),this.readSecondaryAndCreateValueColumns(tt);var ot={};this.readData(Ke,tt,ae,ot),void 0!==ot.value&&(Xe.lastMergeIndex=ot.value)}return Xe}static isCompatible(le){return le.maxPrimaryDepth<=1&&le.maxSecondaryDepth<=1&&!(0===le.maxPrimaryDepth&&le.maxSecondaryDepth>0)&&_.size(le.selects)>0}readSelectsAndCreateCategoryColumns(le,me){var Be=this.context,Ke=Be.selectIndexToColumn,Xe=Be.selects,re=Xe.length,fe=this.dsrParser.dataShapes().secondaryHierarchy();this.primaryMeasureSelectIndexMap=new Array(Xe.length),this.intersectionMeasuresSelectIndexMap=new Array(Xe.length);for(var ae=!!fe,tt=0;tt<re;tt++){var ot=Xe[tt];if(ot&&ot.Value)if(ot.Kind===E.Vt.Group){if(null!=ot.SecondaryDepth){this.seriesSelectIndex=tt;continue}if(null!=ot.Depth){t.Y.assert(()=>null!=me,"Expected truthy value for identities"),t.Y.assert(()=>null!=le,"Expected truthy value for categories");var Re={source:Ke[tt],values:[],identity:me};le.push(Re),this.selectIndexToCategoryColumn[tt]=Re}}else ot.Kind===E.Vt.Measure&&(ae&&null==ot.Depth?this.intersectionMeasuresSelectIndexMap[this.intersectionMeasureCount++]=tt:this.primaryMeasureSelectIndexMap[this.primaryMeasureCount++]=tt)}}readSecondaryAndCreateValueColumns(le){var me=this.dsrParser.dataShapes().secondaryHierarchy();me?(this.addIntersectionValueColumns(le,me),this.primaryMeasureCount>0&&this.addPrimaryValueColumns(le)):this.addPrimaryValueColumns(le,!0)}addIntersectionValueColumns(le,me){for(var Xe,Be=this,Ke=new Array,re=this.context,fe=function(){var ae=me.id(),tt=me.instances();if(re.dataMemberIdToMetadata[ae].kind===l.pc.SubTotalMember){for(;tt.next(););return 1}var ot=re.dataMemberIdToIdentityBuilder[ae];ot||(ot=new g(re,ae),re.dataMemberIdToIdentityBuilder[ae]=ot),Xe=ot.getIdentityFields();for(var rt=-1;tt.next();){rt++,ot.reset();for(var Re=void 0,J=void 0;tt.nextCalc();){J=tt.calcId();var ce=Be.context.calcInfo[J];ce.isGroupKeyButNotSelect||(Re=tt.calcValue()),ce.forIdentity&&ot.addExpr(J,tt.calcValueAsExpr())}Be.addIntersectionValueColumnsCore(le,Ke,J,Re,rt,ot.getIdentity()),t.Y.assert(()=>null==tt.intersections(),"unexpected secondary intersections"),t.Y.assert(()=>null==tt.members(),"unexpected secondary nested members")}0===le.length&&0===Ke.length&&Be.addIntersectionValueColumnsCore(le,Ke,void 0,void 0,0,void 0),le.grouped=()=>Ke,le.source=Be.context.selectIndexToColumn[Be.seriesSelectIndex],le.identityFields=Xe};me.next();)fe()}addIntersectionValueColumnsCore(le,me,Be,Ke,Xe,re){for(var fe=this,ae=this.context,tt=ae.selects,ot=this.intersectionMeasureCount,rt=new Array(ot),Re=this.metadata.columns,J=function(){var ze,it=fe.intersectionMeasuresSelectIndexMap[ce];void 0!==Ke?((ze=ae.createColumns(Re,it).column).groupName=Ke,ze.rootSource=ae.selectIndexToColumn[it]):ze=_.find(Re,je=>je.index===it);var yt=fe.createValueColumn(ze,re,it,!!tt[it].Highlight,!1);le.push(yt),rt[ce]=yt;var Nt=tt[it],Lt=fe.intersectionValueColumnsMap[Xe];Lt||(Lt=fe.intersectionValueColumnsMap[Xe]={}),Lt[Nt.Value]=yt;var zt=Nt.Highlight&&Nt.Highlight.Value;if(zt&&(Lt[zt]=yt),ze.formatSource&&ze.formatSource.formatString){t.Y.assertValue(Nt.DynamicFormat?.Format,"select.DynamicFormat.Format");var Yt=fe.createValueColumn(ze.formatSource.formatString,void 0,it,!!tt[it].Highlight,!0),Qt=fe.intersectionDynamicFormatColumnsMap[Xe];Qt||(Qt=fe.intersectionDynamicFormatColumnsMap[Xe]={}),Qt[Nt.DynamicFormat.Format]=Yt,le.push(Yt);var sr=Nt.Highlight?.DynamicFormat?.Format;sr&&(Qt[sr]=Yt)}},ce=0;ce<ot;ce++)J();var Ce={values:rt};void 0!==Ke&&(Ce.name=Ke),void 0!==re&&(Ce.identity=re),me.push(Ce)}addPrimaryValueColumns(le,me){for(var Be=new Array,Ke=this.context,Xe=Ke.selects,re=0;re<this.primaryMeasureCount;re++){var fe=this.primaryMeasureSelectIndexMap[re],ae=Ke.selectIndexToColumn[fe],tt=this.createValueColumn(ae,void 0,fe,!!Xe[fe].Highlight,!1);if(this.selectIndexToPrimaryValueColumn[fe]=tt,Be.push(tt),le.push(tt),ae.formatSource&&ae.formatSource.formatString){var ot=this.createValueColumn(ae.formatSource.formatString,void 0,fe,!!Xe[fe].Highlight,!0);this.selectIndexToDynamicFormatColumn[fe]=ot,le.push(ot),Be.push(ot)}}if(me&&le){var rt=[{values:Be}];le.grouped=()=>rt}}createValueColumn(le,me,Be,Ke,Xe){var re={source:le,values:[]};if(Ke&&(re.highlights=[]),me&&(re.identity=me),!Xe){var fe=this.selectIndexToValueColumnsMap[Be];fe||(fe=this.selectIndexToValueColumnsMap[Be]=[]),fe.push(re)}return re}readData(le,me,Be,Ke){var Xe=this,re=this.context,fe=le.primaryHierarchy();this.aggregator.read(le,0===this.intersectionMeasureCount);for(var ae=function(){var tt=fe.id(),ot=re.dataMemberIdToMetadata[tt];if(ot){var rt=ot.kind===l.pc.GroupMember,Re=re.dataMemberIdToIdentityBuilder[tt];!Re&&rt&&(Re=new g(re,tt),re.dataMemberIdToIdentityBuilder[tt]=Re);for(var J=fe.instances();J.next();){for(Re&&Re.reset(),J.restartFlagKind()===D.mY.Merge&&(Ke.value=J.currentIndex());J.nextCalc();)Xe.readPrimaryHierarchyCalc(J,Re);Re&&Be.push(Re.getIdentity()),Xe.parseIntersections(J),t.Y.assert(()=>null==J.members(),"unexpected nested members to parse")}if(rt)for(var ce=Re.getIdentityFields(),Ce=0;Ce<re.selects.length;Ce++){var ze=Xe.selectIndexToCategoryColumn[Ce];ze&&(ze.identityFields=ce)}}};fe.next();)ae();this.aggregator.copyToColumns(),this.copyAggregatesToValueColumns()}copyAggregatesToValueColumns(){for(var le=this.context.measureSelectIndices,me=this.context.selectIndexToColumn,Be=le.length,Ke=0;Ke<Be;Ke++){var Xe=le[Ke],re=me[Xe].aggregates;if(re){var fe=this.selectIndexToPrimaryValueColumn[Xe];fe&&p.Cx.copyAggregates(re,fe);var ae=this.selectIndexToValueColumnsMap[Xe];if(ae)for(var tt of ae)p.Cx.copyAggregates(re,tt)}}}readPrimaryHierarchyCalc(le,me){var Be=le.calcId(),Ke=this.context.aggregateCalcMetadata[Be];if(Ke&&Ke.aggregateKind===l.B8.Subtotal)p.Cx.fillMetadataColumnAggregate(le.calcValue(),Ke);else{var Xe=this.context.calcInfo[Be];if(Xe){var re=le.calcValue();if(Xe.kind===E.Vt.Group)t.Y.assert(()=>!!me,"Must have an identity builder when parsing grouping values"),Xe.isGroupKeyButNotSelect||this.selectIndexToCategoryColumn[Xe.selectIdx].values.push(re),Xe.forIdentity&&me.addExpr(Be,le.calcValueAsExpr());else if(Xe.kind===E.Vt.Measure){var fe=Xe.calcKind;fe===l._L.Value?(this.selectIndexToPrimaryValueColumn[Xe.selectIdx].values.push(re),this.aggregator.update(re,Xe.selectIdx)):fe===l._L.DynamicFormat?this.selectIndexToDynamicFormatColumn[Xe.selectIdx].values.push(re):fe===l._L.Highlight?this.selectIndexToPrimaryValueColumn[Xe.selectIdx].highlights.push(re):fe===l._L.HighlightDynamicFormat&&this.selectIndexToDynamicFormatColumn[Xe.selectIdx].highlights.push(re)}}}}parseIntersections(le){var me=le.intersections();if(me)for(var Be=this.context.calcInfo,Ke=0;me.next();){var Xe=this.intersectionValueColumnsMap[Ke],re=this.intersectionDynamicFormatColumnsMap[Ke];if(me.nextCalc()){if(!this.parseIntersectionCalc(me,Xe,re,Be))continue;for(Ke++;me.nextCalc();)this.parseIntersectionCalc(me,Xe,re,Be)}}}parseIntersectionCalc(le,me,Be,Ke){var Xe=le.calcId(),re=Ke[Xe];if(re)switch(t.Y.assert(()=>re.kind===E.Vt.Measure,"unexpected select kind found in intersection"),re.calcKind){case l._L.Value:return me[Xe].values.push(le.calcValue()),!0;case l._L.Highlight:return me[Xe].highlights.push(le.calcValue()),!0;case l._L.DynamicFormat:return Be[Xe].values.push(le.calcValue()),!0;case l._L.HighlightDynamicFormat:return Be[Xe].highlights.push(le.calcValue()),!0;case l._L.Subtotal:case l._L.SubtotalDynamicFormat:return!1}}readMeasuresWithNoGrouping(le,me){var Be=this;this.aggregator.read(le),this.aggregator.copyToColumns();var Ke=le.primaryHierarchy();if(Ke.next()){this.addPrimaryValueColumns(me,!0);for(var Xe=this.context.calcInfo,re=Ke.instances();re.next();)for(var fe=function(){var ae=re.calcId(),tt=Xe[ae];tt&&(t.Y.assert(()=>null!=tt.selectIdx,"expect a selectIdx for all measures when there is no grouping"),tt.calcKind===l._L.Value?Be.selectIndexToPrimaryValueColumn[tt.selectIdx].values.push(re.calcValue()):tt.calcKind===l._L.Highlight?Be.selectIndexToPrimaryValueColumn[tt.selectIdx].highlights.push(re.calcValue()):tt.calcKind===l._L.DynamicFormat?Be.selectIndexToDynamicFormatColumn[tt.selectIdx].values.push(re.calcValue()):tt.calcKind===l._L.HighlightDynamicFormat&&Be.selectIndexToDynamicFormatColumn[tt.selectIdx].highlights.push(re.calcValue()))};re.nextCalc();)fe()}}}var y=e(761297),f=e(943509),S=e(893420),b=e(258096);class V{get primaryAxisGroupings(){return this._primaryAxisGroupings}get secondaryAxisGroupings(){return this._secondaryAxisGroupings}get calcInfo(){return this._calcInfo}constructor(le,me,Be,Ke,Xe){t.Y.assertValue(le,"targets"),t.Y.assert(()=>null!=me.Select||null!=me.ScriptVisualBinding,"descriptor"),this.targets=le,this.descriptor=me,this.selects=me.Select,this.selectIndexToColumn={},this.aggregateCalcMetadata={},this._calcInfo={},this.calcIdToColumnIndices={},this.dataMemberIdToIdentityBuilder={};var re=me.Expressions;this._primaryAxisGroupings=re&&re.Primary&&re.Primary.Groupings,this._secondaryAxisGroupings=re&&re.Secondary&&re.Secondary.Groupings,this.measureSelectIndices=[],this.dataMemberIdToMetadata=Be.dataMemberIdToMetadata,this.maxPrimaryDepth=Be.maxPrimaryDepth,this.maxSecondaryDepth=Be.maxSecondaryDepth,this.primarySynchronizedGroups=Be.primarySynchronizedGroups,this.scopedAggregatesEnabled=Ke,this.dataShapeParser=Xe}createContextForPrimarySynchronizedGroup(le,me){var Be=new V(this.targets,this.descriptor,le.context,this.scopedAggregatesEnabled,me);return Be._primaryAxisGroupings=_.map(le.groupings,Ke=>this.primaryAxisGroupings[Ke].SynchronizedGroup),Be._secondaryAxisGroupings=void 0,Be._calcInfo=this._calcInfo,Be}includes(le){return t.Y.assertValue(le,"kind"),(0,S.Lt)(this.targets,le)}createDataViewMetadataColumns(){var le=this,me=this.selects;if(!_.isEmpty(me)){var Be=[],Ke=me.length;this.selectIndexToColumnIndex=new Array(Ke);for(var Xe=function(){var ot=me[re];if(!ot)return 1;t.Y.assert(()=>ot.Kind!==E.Vt.None,"Expecting every select never to be of SelectKind.None");var{column:rt,columnIdx:Re,dynamicFormatColumn:J}=le.createColumns(Be,re);le.selectIndexToColumn[re]=rt,le.selectIndexToColumnIndex[re]=Re,ot.Kind===E.Vt.Measure&&le.measureSelectIndices.push(re);var ce=ot.Aggregates;if(ce)for(var Ce of ce){var ze=le.getAggregateKind(Ce.Aggregate);le.createAggregateCalcMetadata(Ce.Ids,ze,rt,re,Ce.Aggregate)}var it=ot.Value;it&&(le.calcIdToColumnIndices[it]||(le.calcIdToColumnIndices[it]=[]),le.calcIdToColumnIndices[it].push(Re),(null==ot.Depth||null==ot.SecondaryDepth)&&(le.aggregateCalcMetadata[it]={source:rt,aggregateKind:l.B8.Single,selectIdx:re})),ot.Kind===E.Vt.Measure&&(ot.Subtotal&&le.createAggregateCalcMetadata(ot.Subtotal,l.B8.Subtotal,rt,re),ot.SubtotalDynamicFormat&&le.createAggregateCalcMetadata(_.map(ot.SubtotalDynamicFormat,yt=>yt&&yt.Format),l.B8.Subtotal,J,re),ot.Count&&(t.Y.assert(()=>_.size(ot.Count)<=1,"dataView cannot represent aggregates other than subtotal at different scopes yet"),le.createAggregateCalcMetadata(ot.Count,l.B8.Count,rt,re)),ot.Max&&le.createAggregateCalcMetadata(ot.Max,l.B8.Max,rt,re),ot.Min&&le.createAggregateCalcMetadata(ot.Min,l.B8.Min,rt,re))},re=0,fe=Ke;re<fe;re++)Xe();this.parseAxisGroupings(this.primaryAxisGroupings),this.parseAxisGroupings(this.secondaryAxisGroupings);var ae=function(ot){_.size(le.calcIdToColumnIndices[ot])>1&&(le.calcInfo[ot].hasDuplicateColumnIndices=!0,t.Y.assert(()=>!le.calcInfo[ot].isGroupKeyButNotSelect,"calcs which represent group keys cannot have duplicate column indices"))};for(var tt in this.calcIdToColumnIndices)ae(tt);return this.scopedAggregatesEnabled&&(this.createScopedAggregateMetadata(),this.fillDataShapeScopeAggregateValues()),Be}}parseAxisGroupings(le){if(le)for(var me of le){var Be=me.SynchronizedGroup;if(Be){this.parseGroupingKeys(Be.Keys,!0);var Ke=me.SynchronizationIndex;Ke&&(this.calcInfo[Ke]={kind:E.Vt.Measure,calcKind:l._L.SynchronizationIndex})}this.parseGroupingKeys(me.Keys,!1)}}parseGroupingKeys(le,me){var Be=this.calcInfo,Ke=this.selects;for(var Xe of le){var re=Ke[Xe.Select];null!=re?me?(t.Y.assertValue(re.Synchronized?.Value,"Key of a Synchronized AxisGrouping should refer to Select with Synchronization"),Be[re.Synchronized?.Value].forIdentity=!0):Be[re.Value].forIdentity=!0:Xe.Calc?Be[Xe.Calc]={kind:E.Vt.Group,forIdentity:!0,isGroupKeyButNotSelect:!0}:t.Y.assertFail("Unexpected DataShapeExpressionAxisGroupingKey without select or calc")}}createAggregateCalcMetadata(le,me,Be,Ke,Xe){for(var re of le){var fe=this.aggregateCalcMetadata[re]={source:Be,aggregateKind:me,selectIdx:Ke};Xe&&(fe.aggregate=Xe)}}getAggregateKind(le){return le.Average?l.B8.Average:le.Max?l.B8.Max:le.Min?l.B8.Min:le.Median?l.B8.Median:le.Percentile?l.B8.Percentile:void 0}createColumns(le,me){var Be=le.length,Ke=this.createMetadataColumn(me);le.push(Ke);var Xe=this.selects[me],re=Xe.Kind,fe=this.calcInfo;fe[Xe.Value]={kind:re,columnIndex:Be,selectIdx:me,calcKind:l._L.Value};var ae=Xe.Synchronized;if(ae&&(t.Y.assert(()=>re===E.Vt.Group,"Synchronization Auxiliary Select is expected only for Grouping Selects"),t.Y.assertValue(ae.Value,"Synchronization Auxiliary Select must have a Value"),t.Y.assertValue(ae.GroupKeys,"Synchronization Auxiliary Select must have GroupKeys"),fe[ae.Value]={kind:re,columnIndex:Be,selectIdx:me,calcKind:l._L.Value},fe[Xe.Value].isSynchronized=!0),Xe.Subtotal)for(var tt of(t.Y.assert(()=>re===E.Vt.Measure,"Subtotal SelectKind"),Xe.Subtotal))fe[tt]={columnIndex:Be,kind:re,selectIdx:me,calcKind:l._L.Subtotal};if(Xe.Highlight){t.Y.assert(()=>re===E.Vt.Measure,"Highlight SelectKind");var ot=Xe.Highlight.Value;ot&&(fe[ot]={columnIndex:Be,kind:re,selectIdx:me,calcKind:l._L.Highlight});var rt=Xe.Highlight.Subtotal;if(rt)for(var Re of rt)fe[Re]={columnIndex:Be,kind:re,selectIdx:me,calcKind:l._L.HighlightSubtotal}}if(this.scopedAggregatesEnabled){if(!_.isEmpty(Xe.Aggregates))for(var J of Xe.Aggregates)if(J.Aggregate.Scope)for(var ce of J.Ids)fe[ce]={columnIndex:Be,kind:re,selectIdx:me,calcKind:l._L.Aggregate};var Ce=Xe.Highlight;if(Ce&&!_.isEmpty(Ce.Aggregates)){var ze=Ce.Aggregates;for(var it of ze)if(it.Aggregate.Scope)for(var yt of it.Ids)fe[yt]={columnIndex:Be,kind:re,selectIdx:me,calcKind:l._L.AggregateHighlight}}}var Nt=this.tryCreateDynamicFormatColumnMetadata(me,Ke);if(Nt){t.Y.assert(()=>re===E.Vt.Measure,"Dynamic Format SelectKind");var Lt=Be+1;if(le.push(Nt),fe[Xe.DynamicFormat.Format]={columnIndex:Lt,kind:E.Vt.Measure,selectIdx:me,calcKind:l._L.DynamicFormat},Xe.SubtotalDynamicFormat)for(var zt of Xe.SubtotalDynamicFormat){var Yt=zt&&zt.Format;Yt&&(fe[Yt]={columnIndex:Lt,kind:E.Vt.Measure,selectIdx:me,calcKind:l._L.SubtotalDynamicFormat})}var Qt=Xe.Highlight&&Xe.Highlight.DynamicFormat&&Xe.Highlight.DynamicFormat.Format;Qt&&(fe[Qt]={columnIndex:Lt,kind:E.Vt.Measure,selectIdx:me,calcKind:l._L.HighlightDynamicFormat})}return{column:Ke,columnIdx:Be,dynamicFormatColumn:Nt}}createMetadataColumn(le){var me=this.selects[le],Be={displayName:"",index:le};me.Format&&(Be.format=me.Format),Be.type=p.Cx.describeDataType(me.Type,me.DataCategory),me.Kind===E.Vt.Measure&&(Be.isMeasure=!0);var Ke=me.GroupKeys;if(Ke)for(var Xe=Be.identityExprs=new Array(Ke.length),re=0;re<Ke.length;re++)Xe[re]=(0,b.Ho)(Ke[re],le,this.selects);return Be}tryCreateDynamicFormatColumnMetadata(le,me){var Be=this.selects[le];if(Be.DynamicFormat&&Be.DynamicFormat.Format){var Ke={displayName:"",isMeasure:!0};return me.formatSource={formatString:Ke},Ke}}createScopedAggregateMetadata(){for(var le=this.selects,Be=this.selectIndexToColumn,Ke=0,Xe=le.length;Ke<Xe;Ke++){var re=le[Ke];if(re){var fe=re.Aggregates,ae=Be[Ke];if(!_.isEmpty(fe))for(var tt of fe)this.createScopedAggregateCalcMetadata(tt,ae);var ot=re.Highlight;if(ot&&!_.isEmpty(ot.Aggregates)){var rt=ot.Aggregates;for(var Re of rt)this.createScopedAggregateCalcMetadata(Re,ae)}}}}createScopedAggregateCalcMetadata(le,me){var Be=le.Aggregate,Ke=Be.Scope;if(Ke){var Xe=this.selectIndexToColumn,re=Ke.PrimaryDepth;t.Y.assert(()=>void 0===Ke.SecondaryDepth,"Scoped Aggregates not supports secondary depth for now.");for(var fe=new Array(re),ae=this.primaryAxisGroupings,tt=0,ot=0;ot<re;ot++){var rt=ae[ot].Keys;for(var Re of rt){var J=Re.Select;t.Y.assertValue(J,"select");var ce=Xe[J];t.Y.assertValue(ce,"inputScopeColumn"),fe[tt++]=ce}}var Ce={column:me,inputScope:fe,respectInstanceFilters:Be.RespectInstanceFilters},ze=le.Ids,it=this.calcInfo;for(var yt of ze){var Nt=it[yt];t.Y.assertValue(Nt,"aggregateCalcInfo"),Nt.scopedAggregateCalcMetadata={metadata:Ce,aggregateKind:this.getAggregateKind(Be)}}}}fillDataShapeScopeAggregateValues(){var le=this.dataShapeParser;if(le){var me=this.calcInfo;le.reset();var Be=le.next();t.Y.assert(()=>Be,"There must be a DataShape");for(var Ke=function(){var Xe=me[le.calcId()];if(!Xe||!Xe.scopedAggregateCalcMetadata)return 1;var J,re=Xe.scopedAggregateCalcMetadata,fe=re.metadata,ae=fe.column,tt=fe.inputScope,ot=fe.respectInstanceFilters,rt={inputScope:tt,respectInstanceFilters:ot,values:{},highlight:{}};if(ae.scopedAggregates){var Re=_.find(ae.scopedAggregates,Ce=>V.sameScopedAggregatesInputScope(Ce.inputScope,tt)&&Ce.respectInstanceFilters===ot);Re?rt=Re:ae.scopedAggregates.push(rt)}else ae.scopedAggregates=[rt];switch(Xe.calcKind){case l._L.Aggregate:J=rt.values;break;case l._L.AggregateHighlight:J=rt.highlight;break;default:t.Y.assertFail("Invalid CalcKind.")}var ce=le.calcValue();switch(re.aggregateKind){case l.B8.Min:J.min=ce;break;case l.B8.Max:J.max=ce;break;case l.B8.Average:J.avg=ce;break;default:t.Y.assertFail("Invalid scoped aggregate function.")}};le.nextCalc();)Ke()}}static sameScopedAggregatesInputScope(le,me){if(le===me)return!0;if(le.length!==me.length)return!1;for(var Be=0;Be<le.length;Be++)if(le[Be]!==me[Be])return!1;return!0}}class P{constructor(le,me,Be,Ke){this.context=le,this.dsrParser=me,this.metadata=Be,t.Y.assertValue(le,"context"),t.Y.assertValue(me,"dsrParser"),t.Y.assertValue(Be,"metadata"),t.Y.assertNonEmpty(Be.columns,"metadata.columns"),this.aggregator=new u(le),this.scopedAggregatesEnabled=Ke}run(){var le=this.aggregator,me=this.dsrParser;me.reset();var Be=me.dataShapes();this.calcInfoCache={};var Ke=Be.next();t.Y.assert(()=>Ke,"There must be a DataShape"),this.createHierarchiesLevels(),this.readValueSources(Be),t.Y.assert(()=>this.context.maxPrimaryDepth>0||!_.isEmpty(this.context.measureSelectIndices),"DSR is not compatible with Matrix"),le.read(Be,1===this.context.maxPrimaryDepth&&0===this.context.maxSecondaryDepth);var Xe=Be.secondaryHierarchy(),re=this.readHierarchy(l.Tv.Secondary,Xe,Be),fe=Be.primaryHierarchy(),ae=this.readHierarchy(l.Tv.Primary,fe,Be);return le.copyToColumns(),{rows:ae,columns:re,valueSources:this.valueSources}}createHierarchiesLevels(){var le=this.context.selects,me=this.context.maxPrimaryDepth,Be=this.context.maxSecondaryDepth;this.primaryHierarchyLevels=new Array(me),this.secondaryHierarchyLevels=new Array(Be);for(var Ke=0;Ke<me;Ke++)this.primaryHierarchyLevels[Ke]={sources:[]};for(var Xe=0;Xe<Be;Xe++)this.secondaryHierarchyLevels[Xe]={sources:[]};for(var re=this.metadata.columns,fe=re.length,ae=this.columnIndexToZoneIndex=new Array(fe),tt=0;tt<fe;tt++){var ot=re[tt],rt=ot.index;if(null!=rt){var Re=le[rt],J=void 0;Re.Kind===E.Vt.Group&&(null!=Re.Depth?J=this.primaryHierarchyLevels[Re.Depth].sources:null!=Re.SecondaryDepth&&(J=this.secondaryHierarchyLevels[Re.SecondaryDepth].sources),t.Y.assertValue(J,"Grouping Select not belonging to either Hierarchy"),ae[tt]=J.length,J.push(ot))}}}readHierarchy(le,me,Be){var Ke,Xe,re=this.valueSources.length;switch(le){case l.Tv.Primary:if(Xe=this.context.maxPrimaryDepth,!(Ke=this.context.primaryAxisGroupings))return t.Y.assert(()=>0===Xe,"No primary groupings"),t.Y.assert(()=>re>0,"Matrix without groups needs at least a measure"),this.createRowHierarchyForNoGroupings(me);break;case l.Tv.Secondary:if(Xe=this.context.maxSecondaryDepth,!(Ke=this.context.secondaryAxisGroupings))return t.Y.assert(()=>0===Xe,"No secondary groupings"),0===re?{levels:[],root:{children:[]}}:this.createColumnHierarchyForNoGroupings();break;default:t.Y.assertFail("Unexpected DataShapeHierarchy")}t.Y.assert(()=>Xe===_.size(Ke),"Groupings-Hierarchy mismatch");var fe={levels:le===l.Tv.Primary?this.primaryHierarchyLevels:this.secondaryHierarchyLevels,root:{}};le===l.Tv.Secondary&&re>1&&fe.levels.push(this.createColumnHierarchyMeasuresLevel());var ae=this.context.primarySynchronizedGroups;le===l.Tv.Primary&&ae&&this.readRowsSynchronizedGroups(ae,fe,Be);var tt=this.context;return this.readNodeChildren(tt,tt.calcInfo,this.columnIndexToZoneIndex,tt.dataMemberIdToIdentityBuilder,tt.dataMemberIdToMetadata,fe.root,me,0,le,re,this.context.maxSecondaryDepth,fe.levels),!_.isEmpty(fe.root.children)&&!_.isEmpty(fe.synchronizedGroups)&&this.ensureRowNodeSynchronization(fe.root,0),fe}readRowsSynchronizedGroups(le,me,Be){var Ke=this;t.Y.assertNonEmpty(le,"No Primary Synchronized Groups"),t.Y.assertValue(me,"hierarchy");var Xe=le.length;me.synchronizedGroups=new Array(Xe),this.primarySynchronizedGroupByLevel=new Array(me.levels.length);for(var re=Be.nestedDataShapes(),fe=function(){var tt=le[ae],ot=tt.groupings;t.Y.assert(()=>!_.isEmpty(ot),"Empty synchronized group");var rt=re[tt.dataShapeId];t.Y.assertValue(rt,"no dataShapeParser for a SynchronizedGroup");var Re=rt.next();t.Y.assert(()=>Re,"Nested DataShape not found");var J=rt.primaryHierarchy();t.Y.assertValue(J,"Nested DataShape of a Synchronized Group has no Primary Hierarchy");for(var ce=me.synchronizedGroups[ae]={levels:new Array,root:{}},Ce=0;Ce<ot.length;Ce++){var ze=ot[Ce],it=ce.levels[Ce]=me.levels[ze];it.valueSources&&((me.levels[ze]=(0,y.IL)(it)).valueSources=it.valueSources,delete it.valueSources)}Ke.primarySynchronizedGroupByLevel[ot[0]]=ce;for(var Nt=Ke.metadata.columns,Lt=new Array(Nt.length),zt=function(){var sr=Nt[Yt];for(var je of ce.levels){var Tt=_.findIndex(je.sources,Kt=>Kt===sr);if(Tt>-1){Lt[Yt]=Tt;break}}},Yt=0;Yt<Nt.length;Yt++)zt();var Qt=Ke.context.createContextForPrimarySynchronizedGroup(tt,rt);Ke.readNodeChildren(Qt,Qt.calcInfo,Lt,Qt.dataMemberIdToIdentityBuilder,Qt.dataMemberIdToMetadata,ce.root,J,0,l.Tv.Primary,0,Qt.maxSecondaryDepth,ce.levels,{currentIndex:0})},ae=0;ae<Xe;ae++)fe()}readNodeChildren(le,me,Be,Ke,Xe,re,fe,ae,tt,ot,rt,Re,J){if(fe&&0!==fe.count())for(var ce;fe.next();){var Ce=fe.id(),ze=Xe[Ce];if(ze){var it=ze.kind===l.pc.SubTotalMember,yt=it&&0===ae,Nt=void 0,Lt=void 0;it||((Nt=Ke[Ce])||(Nt=Ke[Ce]=new g(le,Ce)),Lt=Nt.getIdentityFields());var zt=fe.instances();if(!zt||0===zt.count())continue;Lt&&(re.childIdentityFields=Lt),ce||(ce=re.children=[]);var Yt=this.calcInfoCache[Ce];for(null==Yt&&(Yt=this.calcInfoCache[Ce]=[]);zt.next();){var Qt=this.readNode(le,ze,Ke,Xe,me,Be,zt,ae,it,yt,Yt,tt,ot,rt,Nt,ze.restartValuesBuilder,Re,J);ce.push(Qt),J&&J.currentIndex++}}}}readNode(le,me,Be,Ke,Xe,re,fe,ae,tt,ot,rt,Re,J,ce,Ce,ze,it,yt){var Nt=this;t.Y.assert(()=>!!Ce==!tt,"Unexpected IdentityBuilder"),t.Y.assert(()=>!(tt&&ze),"Subtotal nodes should not have RestartValues");var Lt=le.aggregateCalcMetadata,zt={level:ae};me.forSynchronization&&(t.Y.assertValue(yt,"undefined synchronizedGroupLeafIndex while parsing Master List"),zt.synchronizationIndex=yt.currentIndex),fe.restartFlagKind()===D.mY.Merge&&(zt.isMerge=!0),tt?zt.isSubtotal=!0:Ce.reset();for(var Yt=[],Qt=me.isSynchronized,sr=function(){var pt=fe.calcId(),Ut=rt[Tt];if(!Ut){if(!(Ut=Xe[pt]))return 0;rt[Tt]=Ut}if(Ut.calcKind===l._L.SynchronizationIndex){var $t=fe.calcValue();return t.Y.assert(()=>"number"==typeof $t,"Synchronization Index is expected to be a number"),zt.synchronizationIndex=$t,0}var er=Ut.columnIndex;t.Y.assert(()=>!0===Ut.isGroupKeyButNotSelect==(null==er),"Unexpected columnIndex");var or=re[er];t.Y.assert(()=>!0===Ut.isGroupKeyButNotSelect==(null==or),"Unexpected zoneIndex");var mr,vr=Ut.kind;if(vr===E.Vt.Group){if(!Qt){var Mr=fe.calcValueAsExpr();mr=Mr.value,Ut.isGroupKeyButNotSelect||(Yt[or]={value:mr,levelSourceIndex:or}),Ce.addExpr(pt,Mr)}}else if(vr===E.Vt.Measure){t.Y.assertValue(Ut.selectIdx,`Measure Calc ${pt} on DataMember instances must be related to a Select`);var Ur,Yr,Lr=Nt.measuresGroupingScopeBySelectIndex[Ut.selectIdx];t.Y.assertValue(Lr,`Calc ${pt} has an undefined grouping scope`),t.Y.assert(()=>0===Lr.secondary,`Calc ${pt} is grouped by Secondary while appearing on DataMember`),t.Y.assert(()=>Re===l.Tv.Primary,"Measure Calcs cannot appear on Secondary Hierarchy DataMembers"),0===ce&&Lr.primary===it.length?(Ur=J,null==zt.values&&(Yr=zt.values={}),Yr=zt.values):(Ur=it[ae].valueSources[0].length,zt.nodeValues||(zt.nodeValues={0:{}}),Yr=zt.nodeValues[0]),t.Y.assert(()=>or<Ur,"Measure index out-of-bound");var Hr=Yr[or];Hr||(Hr=Yr[or]={},or>0&&(Hr.valueSourceIndex=or)),mr=fe.calcValue(),Nt.readNodeValueCalc(Hr,mr,Ut),Nt.scopedAggregatesEnabled&&Ut.scopedAggregateCalcMetadata&&Nt.setScopeAggregateValue(zt,mr,Ut,it[ae-1]),ot&&(Ut.calcKind===l._L.Subtotal||Ut.calcKind===l._L.SubtotalDynamicFormat)&&(t.Y.assertValue(le.aggregateCalcMetadata[pt],"Grand Total AggregateMetadata is undefined"),p.Cx.fillMetadataColumnAggregate(mr,Lt[pt]))}else t.Y.assertFail("Unexpected SelectKind");if(!Qt&&Ut.hasDuplicateColumnIndices)for(var Gr of le.calcIdToColumnIndices[pt]){var Wr=re[Gr];Yt[Wr]||(Yt[Wr]={value:mr,levelSourceIndex:Wr})}},Tt=0;fe.nextCalc();Tt++)sr();if(!tt&&!Qt){zt.levelValues=Yt,zt.value=Yt[0].value,zt.identity=Ce.getIdentity();var Kt=fe.restartKind();Kt&&(Kt===D.yt.Before?zt.restartKind=f.yt.Before:Kt===D.yt.After?zt.restartKind=f.yt.After:Kt===D.yt.BeforeAndAfter&&(zt.restartKind=f.yt.BeforeAndAfter),zt.restartKind&&(t.Y.assertValue(ze,"An instance with RestartKind must belong to a DataMember with RestartIdentity"),zt.restartValues=ze.getRestartValues(fe)))}var nr=fe.intersections(),ar=fe.members();if(nr)t.Y.assert(()=>null==ar,"non-leaf node with intersections"),this.readIntersectionsValues(Xe,re,J,zt,nr);else if(ar){if(t.Y.assert(()=>null==nr,"non-leaf node with intersections"),this.readNodeChildren(le,Xe,re,Be,Ke,zt,ar,ae+1,Re,J,ce,it,yt),me.isSynchronized&&!_.isEmpty(zt.children)){var $e=zt.children[0].synchronizationIndex;void 0!==$e&&(zt.synchronizationIndex=$e)}}else Re===l.Tv.Secondary&&J>1&&(ae===ce-1||zt.isSubtotal)&&this.createColumnHierarchyMeasuresNodes(zt);return zt}setScopeAggregateValue(le,me,Be,Ke){t.Y.assertValue(le,"node"),t.Y.assert(()=>void 0!==me,"calcValue"),t.Y.assertValue(Be,"calcInfo");var fe,Xe=Be.scopedAggregateCalcMetadata,re=this.findDataViewNodeAggregates(le,Xe.metadata);switch(Be.calcKind){case l._L.Aggregate:fe=re.values;break;case l._L.AggregateHighlight:fe=re.highlight;break;default:t.Y.assertFail("Invalid Aggregate CalcInfo.")}switch(Xe.aggregateKind){case l.B8.Max:fe.max=me;break;case l.B8.Min:fe.min=me;break;case l.B8.Average:fe.avg=me;break;default:t.Y.assertFail("Unexpected DataViewAggregateKind.")}var ae=Xe.metadata,tt=Ke.aggregates;tt?_.some(tt,rt=>rt.column===ae.column&&V.sameScopedAggregatesInputScope(rt.inputScope,ae.inputScope)&&rt.respectInstanceFilters===ae.respectInstanceFilters)||tt.push(ae):Ke.aggregates=[ae]}findDataViewNodeAggregates(le,me){var Ke,Be=le.aggregateValues;return Be?(Ke=_.find(Be,Xe=>{var re=Xe.metadata;return re.column===me.column&&V.sameScopedAggregatesInputScope(re.inputScope,me.inputScope)&&re.respectInstanceFilters===me.respectInstanceFilters}))||Be.push(Ke={metadata:me,values:{},highlight:{}}):le.aggregateValues=[Ke={metadata:me,values:{},highlight:{}}],Ke}readIntersectionsValues(le,me,Be,Ke,Xe){if(0!==Be)for(var re=Ke.values={},fe=0;Xe.next();){for(var ae=0;ae<Be;ae++){var tt=re[Be*fe+ae]={};ae>0&&(tt.valueSourceIndex=ae)}for(;Xe.nextCalc();){var ot=le[Xe.calcId()];if(ot){var rt=me[ot.columnIndex];t.Y.assertValue(rt,"Intersection calculation has no matching column index");var Re=re[Be*fe+rt];t.Y.assertValue(Re,"nodeValue not found"),this.readNodeValueCalc(Re,Xe.calcValue(),ot)}}fe++}}readNodeValueCalc(le,me,Be){switch(t.Y.assertValue(le,"nodeValue"),t.Y.assert(()=>void 0!==me,"calcValue"),t.Y.assertValue(Be,"calcInfo"),Be.calcKind){case l._L.Value:case l._L.DynamicFormat:le.value=me,this.aggregator.update(me,Be.selectIdx);break;case l._L.Subtotal:case l._L.SubtotalDynamicFormat:le.value=me;break;case l._L.Highlight:case l._L.HighlightDynamicFormat:case l._L.HighlightSubtotal:le.highlight=me;break;case l._L.Aggregate:case l._L.AggregateHighlight:case l._L.SynchronizationIndex:break;default:t.Y.assertNever(Be.calcKind)}}createRowHierarchyForNoGroupings(le){var me={level:0,values:{}},Be={levels:[],root:{children:[me]}};t.Y.assert(()=>1===le.count(),"DSR with no groupings should have one DataMember"),le.next();var Ke=le.instances();return t.Y.assertValue(Ke,"instancesParser"),this.readNodeForNoGroupings(me,Ke),Be}readNodeForNoGroupings(le,me){t.Y.assert(()=>1===me.count(),"DSR with no groupings should have one Instance");var Be=this.context.calcInfo,Ke=this.columnIndexToZoneIndex;me.next();for(var Xe=le.values={};me.nextCalc();){var fe=Be[me.calcId()];if(fe){var ae=Ke[fe.columnIndex],tt=Xe[ae];tt||(tt=Xe[ae]={},ae>0&&(tt.valueSourceIndex=ae)),this.readNodeValueCalc(tt,me.calcValue(),fe)}}}createColumnHierarchyForNoGroupings(){var le=[],me={};return this.valueSources.length>0&&(le=[this.createColumnHierarchyMeasuresLevel()],this.createColumnHierarchyMeasuresNodes(me)),{levels:le,root:me}}createColumnHierarchyMeasuresLevel(){for(var le=this.valueSources.length,me=new Array(le),Be=0;Be<le;Be++)me[Be]=this.valueSources[Be];return{sources:me}}createColumnHierarchyMeasuresNodes(le){for(var me=null==le.level?0:this.context.maxSecondaryDepth,Be=this.valueSources.length,Ke=le.children=new Array(Be),Xe=le.isSubtotal,re=0;re<Be;re++){var fe=Ke[re]={level:me};re>0&&(fe.levelSourceIndex=re),Xe&&(fe.isSubtotal=!0)}}readValueSources(le){var me=this,Be=this.context,Ke=Be.selects,Xe=Be.measureSelectIndices,re=Xe.length,fe=Be.selectIndexToColumn,ae=Be.selectIndexToColumnIndex,tt=this.columnIndexToZoneIndex;t.Y.assertValue(Xe,"measureSelectIndices"),this.valueSources=[],this.measuresGroupingScopeBySelectIndex={};var ot={};if(le.calcCount()>0){for(;le.nextCalc();)ot[le.calcId()]=!0;le.restartCalcs()}for(var rt=function(){var J=Xe[Re],ce=Ke[J];t.Y.assert(()=>ce.Kind===E.Vt.Measure,"Expected a Measure Select"),t.Y.assertValue(ce.Value,"Every Measure Select must have a Calc Id");var Ce=ae[J],ze=me.measuresGroupingScopeBySelectIndex[J]=me.getMeasureGroupingScope(ce,ot[ce.Value]);if(!ze)return 1;var Nt,it=ze.primary,yt=ze.secondary;if(it===me.context.maxPrimaryDepth&&yt===me.context.maxSecondaryDepth)Nt=me.valueSources;else{t.Y.assert(()=>0===yt,"Currently, Arbitrary-scoping of measures only supports suppresing projections on all Secondary"),t.Y.assert(()=>it<=me.primaryHierarchyLevels.length,"Arbitrary-scope cannot be more specific than inner-most scope");var Lt=me.primaryHierarchyLevels[it-1];Lt.valueSources||(Lt.valueSources={0:[]}),Nt=Lt.valueSources[0]}var zt=fe[J];if(t.Y.assertValue(zt,"Measure column not found"),tt[Ce]=Nt.length,Nt.push(zt),ce.DynamicFormat&&ce.DynamicFormat.Format){var Yt=zt.formatSource&&zt.formatSource.formatString;t.Y.assertValue(Yt,"DynamicFormat column not found"),tt[Ce+1]=Nt.length,Nt.push(Yt)}},Re=0;Re<re;Re++)rt()}getMeasureGroupingScope(le,me){return null==le.Depth&&null==le.SecondaryDepth?me?null:{primary:this.context.maxPrimaryDepth,secondary:this.context.maxSecondaryDepth}:{primary:null!=le.Depth?le.Depth+1:0,secondary:null!=le.SecondaryDepth?le.SecondaryDepth+1:0}}ensureRowNodeSynchronization(le,me){if(t.Y.assert(()=>!this.isRowLeaf(le),"Attempting to traverse Hierarchy beyond leaves"),!this.isRowLeaf(le)){var Be=this.primarySynchronizedGroupByLevel[me];if(Be)return void this.synchronizeNodeChildren(le,Be.root);var Ke=le.children;t.Y.assertNonEmpty(Ke,"Jagged hierarcy found!");var Xe=me+1;for(var re of Ke)this.ensureRowNodeSynchronization(re,Xe)}}synchronizeNodeChildren(le,me){if(!this.isRowLeaf(le)){var Be=le.level+1,Ke=me.children;if(_.isEmpty(Ke))return void this.ensureRowNodeSynchronization(le,Be);var Xe=Ke.length,re=le.children||[],fe=new Array(Xe);le.children=fe;var tt,ot,ae=0;tt=ae<re.length?re[ae]:void 0,ot=tt?.synchronizationIndex;for(var rt=0;rt<Xe;rt++){var Re=Ke[rt],J=Re.synchronizationIndex,ce=this.copyFromMasterNode(Re);ce.level=Be,fe[rt]=ce,tt&&ot===J?(t.Y.assert(()=>tt.level===Be,"A child node's level must come immediately after its parents level"),this.copyFromExistingNode(tt,ce),this.synchronizeNodeChildren(ce,Re),ae++,tt=ae<re.length?re[ae]:void 0,ot=tt?.synchronizationIndex):void 0===ot||J<ot?this.isRowLeaf(ce)||(ce.children=[],this.synchronizeNodeChildren(ce,Re)):t.Y.assertFail("Unsynchronized nodes should be a subset of master list nodes.")}}}copyFromMasterNode(le){var me={};if(me.synchronizationIndex=le.synchronizationIndex,le.identity&&(me.identity=le.identity),void 0!==le.value&&(me.value=le.value),void 0!==le.isSubtotal&&(me.isSubtotal=le.isSubtotal),le.levelValues){var Be=le.levelValues.length;me.levelValues=new Array(Be);for(var Ke=0;Ke<Be;Ke++){var Xe=le.levelValues[Ke];me.levelValues[Ke]={value:Xe.value,levelSourceIndex:Xe.levelSourceIndex}}}return void 0!==le.restartKind&&(me.restartKind=le.restartKind),void 0!==le.restartValues&&(me.restartValues=le.restartValues),me}copyFromExistingNode(le,me){le.aggregateValues&&(me.aggregateValues=le.aggregateValues),le.values&&(me.values=le.values),le.nodeValues&&(me.nodeValues=le.nodeValues),t.Y.assert(()=>!(_.isEmpty(le.children)&&!_.isEmpty(me.children)),"A non-leaf master node matches a leaf node"),le.children&&(me.children=le.children),le.childIdentityFields&&!me.childIdentityFields&&(me.childIdentityFields=le.childIdentityFields)}isRowLeaf(le){return!(le.level!==this.context.maxPrimaryDepth-1&&!le.isSubtotal||(t.Y.assert(()=>_.isEmpty(le.children),"A leaf node should not have children"),0))}}class N{constructor(le,me){this.context=le,this.dsrParser=me,this.aggregator=new u(le)}run(){return this.parseSingle()}parseSingle(){var le=this.dsrParser;le.reset();var me=le.dataShapes(),Be=me.next();return t.Y.assert(()=>Be,"There must be a DataShape"),this.aggregator.read(me,!1),this.aggregator.copyToColumns(),0===this.context.maxPrimaryDepth?this.parseMeasureValue(me.primaryHierarchy()):this.parseSubtotal(me.primaryHierarchy())}parseMeasureValue(le){for(t.Y.assert(()=>1===le.count(),"call parseMeasureValue only when there's one datamember with no grouping");le.next();)return this.parseInstance(le.instances())}parseSubtotal(le){for(;le.next();)if(this.context.dataMemberIdToMetadata[le.id()].kind===l.pc.SubTotalMember)return this.parseInstance(le.instances())}parseInstance(le){for(var Ke,Xe,me=this.context,Be=me.calcInfo;le.next();)for(;le.nextCalc();){var re=le.calcId(),fe=Be[re];if(fe){var ae=fe.calcKind,tt=ae===l._L.Subtotal;(ae===l._L.Value||tt)&&(Ke=le.calcValue(),Xe=fe.selectIdx,tt&&(t.Y.assertValue(me.aggregateCalcMetadata[re],"AggregateCalcMetadata for calc must exist."),p.Cx.fillMetadataColumnAggregate(Ke,me.aggregateCalcMetadata[re])))}}if(void 0!==Ke)return{column:me.selectIndexToColumn[Xe],value:Ke}}static isCompatible(le){return 0===le.maxSecondaryDepth&&1===le.measureSelectIndices.length}}class I{constructor(le,me,Be){this.context=le,this.dsrParser=me,this.metadata=Be,t.Y.assertValue(le,"context"),t.Y.assertValue(me,"dsrParser"),t.Y.assertValue(Be,"metadata"),this.aggregator=new u(le)}run(){if(this.isCompatible()){var me={columns:this.metadata.columns},Be=this.dsrParser;Be.reset();var Ke=Be.dataShapes(),Xe=Ke.next();t.Y.assert(()=>Xe,"There must be a DataShape");var re=this.aggregator;re.read(Ke);var fe=Ke.primaryHierarchy();return 1===this.context.maxPrimaryDepth?this.readRows(me,fe):0===this.context.maxPrimaryDepth?this.readRowWithoutGrouping(me,fe):t.Y.assert(()=>!1,"Upsupported maxPrimaryDepth value"),re.copyToColumns(),me}}readRows(le,me){var Ke,re,Be=this.context,Xe=this.getRowCellsCount(me);for(me.reset();me.next();){var fe=me.id(),ae=Be.dataMemberIdToMetadata[fe];if(ae){var tt=ae.kind,ot=me.instances(),rt=[];if(tt===l.pc.GroupMember){var Re=Be.dataMemberIdToIdentityBuilder[fe];Re||(Re=Be.dataMemberIdToIdentityBuilder[fe]=new g(Be,fe));var J=ae.axisGrouping,ce=ot.count();Ke=new Array(ce);for(var Ce=new Array(ce),ze=0;ot.next();ze++)ot.restartFlagKind()===D.mY.Merge&&(re=ze),Re.reset(),Ke[ze]=this.readRow(ot,J,rt,Xe,Re,!1),Ce[ze]=Re.getIdentity();_.isEmpty(Ce)||(le.identity=Ce),le.identityFields=Re.getIdentityFields()}else if(tt===l.pc.SubTotalMember){if(0===Xe)continue;for(;ot.next();){t.Y.assert(()=>null==le.totals,"Totals can only be assigned once.");for(var it=this.readRow(ot,null,rt,Xe,null,!0),yt=it.length,Nt=0;Nt<yt;Nt++)void 0===it[Nt]&&(it[Nt]=null);le.totals=it}}else t.Y.assert(()=>!1,"Unsupported DataMemberKind");le.rows=Ke,void 0!==re&&(le.lastMergeIndex=re)}}}readRow(le,me,Be,Ke,Xe,re){var tt,fe=this.aggregator,ae=new Array(Ke),ot=0===Be.length;ot&&me&&(t.Y.assert(()=>le.calcCount()>0,"No DataShape with a single primary DataMember should ever have a DataMember instance with no calculations."),tt=this.createCalcIdToGroupingIdentityIndexMap(me),Be.length=le.calcCount());for(var rt=this.context,Re=rt.aggregateCalcMetadata,J=0;le.nextCalc();J++){var ce=le.calcId();if(ot){var Ce=tt&&tt[ce],ze=rt.calcInfo[ce],it=ze&&ze.columnIndex;ze&&(ze.calcKind===l._L.Highlight||ze.calcKind===l._L.HighlightDynamicFormat||ze.calcKind===l._L.HighlightSubtotal)&&(it=null),Be[J]={axisGroupingIndex:Ce,columnIndex:it,hasDuplicateColumnIndices:ze&&ze.hasDuplicateColumnIndices,isGroupKeyOnly:null!=Ce&&null==it,selectIndex:ze&&ze.selectIdx,aggregateMetadata:Re[ce]}}var Nt=Be[J];if(null!=Nt.columnIndex){var Lt=le.calcValue();if(ae[Nt.columnIndex]=Lt,re?p.Cx.fillMetadataColumnAggregate(Lt,Nt.aggregateMetadata):fe.update(Lt,Nt.selectIndex),Nt.hasDuplicateColumnIndices)for(var zt of rt.calcIdToColumnIndices[ce])void 0===ae[zt]&&(ae[zt]=Lt)}Xe&&Xe.addExpr(ce,le.calcValueAsExpr())}return ae}readRowWithoutGrouping(le,me){if(t.Y.assert(()=>me.count()<=1,"There must be maximum one DataMember, because SubTotalMember are not supported without grouping."),me.next()){var Be=me.instances(),Ke=[];if(t.Y.assert(()=>Be.count()<=1,"There must be maximum one DataMemberInstance since there is no grouping."),Be.next()){for(var Xe=[];Be.nextCalc();){var re=Be.calcId(),fe=this.context.calcInfo[re];fe&&fe.calcKind!==l._L.Highlight&&(Xe[fe.columnIndex]=Be.calcValue())}Ke.push(Xe)}le.rows=Ke}}getRowCellsCount(le){for(le.reset();le.next();){var me=le.id(),Be=this.context.dataMemberIdToMetadata[me];if(Be&&Be.kind===l.pc.GroupMember){var Ke=le.instances();if(Ke.next()){for(var Xe=0;Ke.nextCalc();){var re=Ke.calcId(),fe=this.context.calcInfo[re];fe&&(fe.calcKind===l._L.Value||fe.calcKind===l._L.Subtotal)&&(fe.hasDuplicateColumnIndices?Xe+=_.size(this.context.calcIdToColumnIndices[re]):Xe++)}return Xe}}}return 0}createCalcIdToGroupingIdentityIndexMap(le){for(var me={},Be=le.Keys,Ke=this.context.selects,Xe=Be.length,re=0;re<Xe;re++){var fe=Be[re];me[fe.Calc||Ke[fe.Select].Value]=re}return me}isCompatible(){var le=this.context;return 0===le.maxSecondaryDepth&&le.maxPrimaryDepth<=1}}class x{constructor(le,me){this.context=le,this.dsrParser=me,this.calcIndexToCalcMetadataDictionary={},this.aggregator=new u(le)}run(){if(this.isCompatible()){var le={};return this.parseTree(le),{root:le}}}parseTree(le){var me=this.dsrParser;me.reset();var Be=me.dataShapes(),Ke=Be.next();t.Y.assert(()=>Ke,"There must be a DataShape");var Xe=this.context.maxPrimaryDepth;this.aggregator.read(Be,1===Xe),0===Xe?this.parseDataMembersWithNoGrouping(le,Be.primaryHierarchy()):this.parseDataMembers(le,Be.primaryHierarchy(),0),this.parseAggregates(le)}parseDataMembers(le,me,Be){for(;me.next();){var Ke=this.context,Xe=me.id(),re=Ke.dataMemberIdToMetadata[Xe];if(re){var fe=me.instances(),ae=this.calcIndexToCalcMetadataDictionary[Xe];switch(ae||(this.calcIndexToCalcMetadataDictionary[Xe]=ae=[]),re.kind){case l.pc.GroupMember:var tt=Ke.dataMemberIdToIdentityBuilder[Xe];tt||(tt=new g(Ke,Xe),Ke.dataMemberIdToIdentityBuilder[Xe]=tt);var ot=tt.getIdentityFields();ot&&(le.childIdentityFields=ot),this.parseInstances(le,fe,ae,tt,!1,Be);break;case l.pc.SubTotalMember:this.parseInstances(le,fe,ae,null,!0,Be);break;default:t.Y.assert(()=>!1,"Unsupported DataMemberKind")}}}}parseInstances(le,me,Be,Ke,Xe,re){var fe=this,ae=this.context,tt=this.aggregator,ot=ae.aggregateCalcMetadata,rt=le.children;for(Xe||(t.Y.assertValue(Ke,"identityBuilder"),!rt&&me.count()>0&&(rt=le.children=new Array(me.count())));me.next();){var Re=void 0,J=void 0,ce=void 0;Xe||Ke.reset();var Ce=0===Be.length;Ce&&(Be.length=me.calcCount());for(var ze=function(){Xe&&(Re=le.values),Re||(Re={});var Lt=me.calcId();Ce&&(Be[it]=ae.calcInfo[Lt]);var Yt=Be[it];if(!Yt)return 1;var Qt=me.calcValue(),sr=Yt.calcKind,je=Yt.kind,Tt=Yt.selectIdx;if(Xe)t.Y.assert(()=>je!==E.Vt.Group,"subtotal cannot be of grouping kind."),fe.addTreeNodeMeasureValues(Re,Tt,sr,Qt),0===re&&p.Cx.fillMetadataColumnAggregate(Qt,ot[Lt]);else{var Kt=Yt.isGroupKeyButNotSelect;Kt||fe.addTreeNodeMeasureValues(Re,Tt,sr,Qt),je===E.Vt.Group?(Kt||(ce=Qt),Ke.addExpr(Lt,me.calcValueAsExpr())):je===E.Vt.Measure&&sr===l._L.Value&&(J=Qt,t.Y.assertValue(Tt,"selectIndex"),tt.update(Qt,Tt))}},it=0;me.nextCalc();it++)ze();if(Xe)le.values=Re,me.restartFlagKind()===D.mY.Merge&&(le.isMerge=!0);else{var yt={values:Re,identity:Ke.getIdentity()};void 0!==ce&&(yt.name=ce),void 0!==J&&(yt.value=J),me.restartFlagKind()===D.mY.Merge&&(yt.isMerge=!0);var Nt=me.members();Nt&&this.parseDataMembers(yt,Nt,re+1),rt[me.currentIndex()]=yt}}}addTreeNodeMeasureValues(le,me,Be,Ke){t.Y.assertValue(me,"selectIndex");var Xe=le[me];switch(!Xe&&this.isSupportedMeasureType(Be)&&(Xe=le[me]={}),Be){case l._L.Value:Xe.value=Ke;break;case l._L.Subtotal:Xe.subtotal=Ke;break;case l._L.Highlight:Xe.highlight=Ke}}isSupportedMeasureType(le){return le===l._L.Value||le===l._L.Subtotal||le===l._L.Highlight}parseDataMembersWithNoGrouping(le,me){t.Y.assert(()=>1===me.count(),"There can only be one datamember with no grouping"),me.next();var Be=me.instances();t.Y.assert(()=>1===Be.count(),"There can only be one instance for datamember with no grouping"),Be.next();for(var Ke,Xe=this.context.calcInfo;Be.nextCalc();){le.values||(le.values=Ke={});var re=Xe[Be.calcId()];if(re){var fe=re.calcKind,ae=Be.calcValue();this.addTreeNodeMeasureValues(Ke,re.selectIdx,fe,ae),fe===l._L.Value&&(le.value=ae)}}}isCompatible(){return 0===_.size(this.context.secondaryAxisGroupings)}parseAggregates(le){var me=this.context;this.aggregator.copyToColumns();for(var Be=me.measureSelectIndices,Ke=Be.length,Xe=0;Xe<Ke;Xe++){var re=Be[Xe],fe=me.selectIndexToColumn[re].aggregates,ae=le.values;if(fe){ae||(ae=le.values={});var tt=ae[re];tt||(tt=ae[re]={}),p.Cx.copyAggregates(fe,tt)}}}}var j=e(390552),U=e(711107),B=e(187516),A=e(101751);function W(et,le){var me=[],Be={};for(var Ke of et){var Xe={id:Ke.Id,name:Ke.Name,component:Ke.Component,pageHidden:void 0,start:(0,A.jT)(Ke.Start).valueOf(),end:Ke.End?(0,A.jT)(Ke.End).valueOf():void 0,metrics:Ke.Metrics,status:B.L.Resolved,rootId:le,parentId:Ke.ParentId};Ke.ParentId?(Be[Ke.ParentId]||(Be[Ke.ParentId]=[]),Be[Ke.ParentId].push(Xe)):me.push(Xe)}return G(me,Be),me}function G(et,le){for(var me of et)le[me.id]&&(me.children=le[me.id],G(me.children,le))}var K=e(977332),q=e(814691),ne=e(905643),k=e(827947),L=function(et){return et[et.NullSelectFound=1]="NullSelectFound",et[et.DynamicFormatFound=2]="DynamicFormatFound",et}({});function Y(et,le){if(et.metadata.dataReduction={},et.categorical){var me=et.metadata.dataReduction.categorical={};le.Primary&&(me.categories=Q(le.Primary)),le.Secondary&&(me.values=Q(le.Secondary)),le.Intersection&&(me.metadata=Q(le.Intersection))}if(et.matrix){var Be=et.metadata.dataReduction.matrix={};le.Primary&&(Be.rows=Q(le.Primary))}}function Q(et){switch(et.Type){case l.gT.BinnedLineSample:return{binnedLineSample:{}};case l.gT.OverlappingPointsSample:return{overlappingPointsSample:{}};default:return{}}}function te(et,le){t.Y.assertValue(et,"node");var me=et.values;me||(me=et.values={});var Be=me[le];return Be||(Be=me[le]={}),Be}var ue=function(et){return et[et.Undetermined=0]="Undetermined",et[et.GroupDynamic=1]="GroupDynamic",et[et.MeasureStatic=2]="MeasureStatic",et[et.SubtotalStatic=3]="SubtotalStatic",et[et.Unsupported=4]="Unsupported",et}({});function Te(et,le,me,Be){t.Y.assertValue(et,"context"),t.Y.assertValue(me,"dataShape"),t.Y.assertValue(Be,"metadata"),t.Y.assert(()=>et.includes(a.k.Matrix),"context.includes(StandardDataViewKinds.Matrix)");var Ke=(0,d.ni)(`DSR.matrix(${et.perfId})`),Xe=[],re=[],fe=[];!function(et,le,me,Be,Ke){t.Y.assertValue(Ke,"metadataColumns");for(var Xe=et.selects,re=0,fe=Xe.length;re<fe;re++){var ae=Xe[re];if(ae){var tt=We(et,Ke,re);if(ae.Kind===E.Vt.Measure)Be.push(tt);else if(null!=ae.Depth){var ot=le[ae.Depth];null!=ot?ot.sources.push(tt):le[ae.Depth]=He([tt])}else if(null!=ae.SecondaryDepth){var rt=me[ae.SecondaryDepth];null!=rt?rt.sources.push(tt):me[ae.SecondaryDepth]=He([tt])}ae.DynamicFormat&&ae.DynamicFormat.Format&&(t.Y.assertValue(tt.formatSource&&tt.formatSource.formatString,"metadataColumn.formatSource.formatString"),Be.push(tt.formatSource.formatString))}}var Re=Be.length;(Re>1||Re>0&&(0===le.length||0===me.length))&&me.push(He(Be))}(et,Xe,re,fe,Be.columns);var ae=[],tt=function(et,le,me,Be,Ke,Xe){if(!Ke.SecondaryHierarchy||0===Ke.SecondaryHierarchy.length){var re={};return ye(re,me,0,!1),re}var fe;Be&&Be.Secondary&&(fe=Be.Secondary.Groupings);var ae=we(et,le,Ke.SecondaryHierarchy,fe,(tt,ot,rt,Re,J)=>{if(J<le.length)if(Re.isSubtotal){var ce=le.length-1,Ce=le[ce].sources.length;Ce>1&&ye(Re,Ce,ce,!0)}else t.Y.assert(()=>J===le.length-1,"We only support one extra level in the column hierarchy (for measures)"),ye(Re,le[J].sources.length,J,!1);Xe.push(Qe(Re)),et.stats.secondary++});return ae}(et,re,fe.length,le,me,ae),ot=function(et,le,me,Be,Ke){if(Be.PrimaryHierarchy&&0!==Be.PrimaryHierarchy.length){var Xe;me&&me.Primary&&(Xe=me.Primary.Groupings);var re=0,fe=0;me&&(re=Fe(me.Primary),fe=Fe(me.Secondary));var ae=_.filter(et.selects,ot=>ot&&ot.Kind===E.Vt.Measure),tt=we(et,le,Be.PrimaryHierarchy,Xe,(ot,rt,Re,J,ce)=>{(function(et,le,me,Be,Ke,Xe,re){t.Y.assertValue(me,"instance"),t.Y.assertValue(Be,"node"),t.Y.assertValue(Ke,"intersectionToSecondaryAggIdx");var fe=me.Intersections,ae={index:0};if(fe)for(var tt=0,ot=fe.length;tt<ot;tt++)fe[tt].Calculations&&Se(et,le,fe[tt].Calculations,Be,ae,Ke[tt],Xe,re);else Se(et,le,me.Calculations,Be,ae,0,Xe,re)})(rt,ae,Re,J,Ke,re,fe),ot.stats.primary++});return tt}}(et,Xe,le,me,ae),J={rows:{root:ot,levels:Xe},columns:{root:tt,levels:re},valueSources:fe};return Ke(),J}function He(et){t.Y.assertValue(et,"metadataColumns");for(var le={sources:[]},me=0,Be=et.length;me<Be;me++)le.sources.push(et[me]);return le}function We(et,le,me){t.Y.assertValue(le,"metadataColumns");for(var Be=0,Ke=le.length;Be<Ke;Be++){var Xe=le[Be];if(Xe&&Xe.index===me&&void 0===Xe.groupName)return Xe}return et.createColumns(le,me)}function Qe(et){return t.Y.assertValue(et,"node"),et.isSubtotal?et.level:et.level+1}function Fe(et){return t.Y.assertAnyValue(et,"axis"),et&&et.Groupings?et.Groupings.length:0}function ye(et,le,me,Be){et.children=[];for(var Ke=0;Ke<le;Ke++){var Xe={level:me};Ke>0&&(Xe.levelSourceIndex=Ke),et.children.push(Xe),Be&&(Xe.isSubtotal=!0)}}function we(et,le,me,Be,Ke){t.Y.assertValue(et,"context");var Xe={};return Ee(et,le,Xe,me,Be,0,Ke),Xe}function Ee(et,le,me,Be,Ke,Xe,re){if(t.Y.assertValue(et,"context"),t.Y.assertValue(me,"node"),t.Y.assertValue(Xe,"depth"),Be)for(var fe=et.selects,ae=function(et,le){t.Y.assertAnyValue(et,"levelSources"),t.Y.assertValue(le,"depth");var me=[],Be=et&&et[le]&&et[le].sources;if(!_.isEmpty(Be))for(var Ke=0,Xe=Be.length;Ke<Xe;Ke++){var re=Be[Ke];t.Y.assertValue(re.index,"pre-condition: sourceMetadataColumn.index is defined"),me[re.index]=Ke}return me}(le,Xe),tt=0,ot=Be.length;tt<ot;tt++)for(var rt=Be[tt],Re=ue.Undetermined,J=0,ce=rt.Instances.length;J<ce;J++){var Ce=rt.Instances[J];if(Re===ue.Undetermined&&(Re=xe(fe,Ke,Xe,rt,Ce))===ue.Unsupported)break;var ze={level:Xe};if(me.children||(me.children=[]),me.children.push(ze),Re===ue.GroupDynamic){var it=he(fe,Ce.Calculations,ae);if(!_.isEmpty(it)){ze.levelValues=it;var yt=_.last(it);ze.value=yt.value,yt.levelSourceIndex>0&&(ze.levelSourceIndex=yt.levelSourceIndex)}}else Re===ue.SubtotalStatic&&(ze.isSubtotal=!0);Ce.RestartFlag&&Ce.RestartFlag===D.mY.Merge&&(ze.isMerge=!0),Ke&&Re===ue.GroupDynamic&&(me.childIdentityFields=et.readKeys(Ke,Xe),ze.identity=et.readIdentity(Ke,Ce,Xe));var Nt=Ce.Members;Nt&&Nt.length>0?Ee(et,le,ze,Nt,Ke,Xe+1,re):re&&re(et,Re,Ce,ze,Xe+1)}}function he(et,le,me){t.Y.assertValue(et,"selects"),t.Y.assertValue(le,"calculations"),t.Y.assertNonEmpty(me,"selectIndexToLevelSourceIndexMapping should be non-empty for dynamic groups");for(var Be,Ke=0,Xe=et.length;Ke<Xe;Ke++){var re=et[Ke];if(re&&re.Value&&re.Kind===E.Vt.Group){var fe=p.Cx.findAndParseCalculation(le,re.Value);void 0!==fe&&(Be||(Be=[]),Be.push({levelSourceIndex:me[Ke],value:fe}))}}return Be}function xe(et,le,me,Be,Ke){if(t.Y.assertValue(et,"selects"),t.Y.assertValue(Be,"member"),le&&le.length>me&&null!=Be.Id){var Xe=le[me];if(Be.Id===Xe.Member)return ue.GroupDynamic;if(Be.Id===Xe.SubtotalMember)return ue.SubtotalStatic}var re=Ke.Calculations;if(re){for(var fe=!1,ae=0,tt=et.length;ae<tt;ae++){var ot=et[ae];if(ot&&p.Cx.findCalculation(re,ot.Value)){if(ot.Kind===E.Vt.Group)return ue.GroupDynamic;!fe&&ot.Kind===E.Vt.Measure&&(fe=!0)}}if(fe)return ue.MeasureStatic}return ue.Unsupported}function Se(et,le,me,Be,Ke,Xe,re,fe){if(t.Y.assertValue(le,"selects"),t.Y.assertValue(Be,"node"),me)for(var ae={index:0},tt=function(){var Re=le[ot];t.Y.assert(()=>Re.Kind===E.Vt.Measure,"measureSelects is expected to have measure select bindings only");var J=Re.Highlight,Ce=J&&J.DynamicFormat&&J.DynamicFormat.Format;if(Ae(et,me,Be,Ke,ae,Xe,re,fe,0,Re.Value,J&&J.Value,Re.Subtotal),Re.DynamicFormat&&Re.DynamicFormat.Format){var ze=_.map(Re.SubtotalDynamicFormat,it=>it&&it.Format);Ae(et,me,Be,Ke,ae,Xe,re,fe,0,Re.DynamicFormat.Format,Ce,ze)}},ot=0,rt=le.length;ot<rt;ot++)tt()}function Ae(et,le,me,Be,Ke,Xe,re,fe,ae,tt,ot,rt){t.Y.assertValue(Ke,"measureIndex");var Re=te(me,Be.index),J=null;if(et!==ue.SubtotalStatic&&(J=p.Cx.findAndParseCalculation(le,tt)),null==J){var Ce=function(et,le,me,Be,Ke,Xe){if(le){var re=p.Cx.computeAggIdx(me,Be,Ke,Xe);if(re<le.length)return p.Cx.findAndParseCalculation(et,le[re])}}(le,rt,Qe(me),Xe,re,fe);void 0!==Ce&&(J=Ce)}ot&&(Re.highlight=p.Cx.findAndParseCalculation(le,ot)),Re.value=J,Ke.index>0&&(Re.valueSourceIndex=Ke.index),Be.index++,Ke.index++}class pe{constructor(le){t.Y.assertValue(le,"context"),this._context=le}read(le,me,Be){t.Y.assertValue(me,"dataShape");var Ke={metadata:{columns:[]}};return Be.script=(0,d.Mt)(()=>{if(me.PrimaryHierarchy&&me.PrimaryHierarchy.length>0){var Xe=me.PrimaryHierarchy[0];if(Xe&&Xe.Instances.length>0){var tt=p.Cx.findCalculation(Xe.Instances[0].Calculations,this._context.scriptVisualBinding.PayloadCalculationId||this._context.scriptVisualBinding.ImageCalculationId);if(tt){var rt=(0,ne.fb)(tt.Value);rt&&(Ke.scriptResult={payloadBase64:rt})}}}}),Ke}}class Pe{constructor(le){t.Y.assertValue(le,"context"),this.context=le}read(le,me,Be){t.Y.assertValue(me,"dataShape");var Ke=this.context,Xe=this.readMetadata(me.IsComplete),re={metadata:Xe},fe=Ke.includes(a.k.Tree),ae=Ke.includes(a.k.Categorical),tt=Ke.includes(a.k.Single),ot=Ke.includes(a.k.Table);if(fe||ae||tt||ot){var rt,Re=(0,d.Mt)(()=>{rt=this.parseTree(Xe.columns,le,me),t.Y.assertValue(rt,"root")});fe&&(Be.tree=Re+(0,d.Mt)(()=>{var J=this.createTree(Xe,rt);J&&(re.tree=J)})),ae&&(Be.categorical=Re+(0,d.Mt)(()=>{var J=this.categorize(Xe,rt);J&&(re.categorical=J)})),tt&&(Be.single=Re+(0,d.Mt)(()=>{var J=this.createSingleValue(Xe,rt);J&&(re.single=J)})),ot&&(Be.table=Re+(0,d.Mt)(()=>{var J=this.createTable(Xe,rt);J&&(re.table=J)}))}return Ke.includes(a.k.Matrix)&&(Be.matrix=(0,d.Mt)(()=>{var J=Te(this.context,le,me,re.metadata);J&&(re.matrix=J)})),re}readMetadata(le){for(var me={columns:[]},Be=this.context,Ke=Be.selects,Xe=0,re=Ke.length;Xe<re;Xe++)Ke[Xe]?Be.createColumns(me.columns,Xe):Be.actionHistory|=L.NullSelectFound;return le||(me.segment={}),me}parseTree(le,me,Be){var Ke=(0,d.ni)(`DSR.tree(${this.context.perfId})`),Xe={},re=this.context.selects;this.parseRootAggregates(le,Xe);var fe=p.Cx.getTopLevelPrimaryDynamicMember(Be,me,!0);if(fe){var tt,ae=Be.PrimaryHierarchy[0];fe!==ae&&this.parseValues(re,Xe,Pe.getFirstInstanceCalcs(ae)),me&&me.Primary&&(tt=me.Primary.Groupings),this.parseRecursive(Xe,fe,tt,0,le)}else _.isEmpty(Be.PrimaryHierarchy)||this.parseValues(re,Xe,Pe.getFirstInstanceCalcs(Be.PrimaryHierarchy[0]));return Ke(),Xe}parseRecursive(le,me,Be,Ke,Xe){t.Y.assertValue(le,"node"),t.Y.assertValue(me,"dynamicMember"),t.Y.assertValue(Ke,"depth"),t.Y.assertAnyValue(Xe,"columns");var tt,re=this.context,fe=me.Instances,ae=fe.length;ae&&(le.children=[],0===Ke&&(tt=ct.create(le,re))),Be&&(le.childIdentityFields=re.readKeys(Be,Ke));for(var ot=0;ot<ae;ot++){var rt=fe[ot],Re={};le.children.push(Re),rt.RestartFlag&&rt.RestartFlag===D.mY.Merge&&(Re.isMerge=!0),this.parseValues(re.selects,Re,rt.Calculations,tt),Be&&(Re.identity=re.readIdentity(Be,rt,Ke));var J=rt.Members;if(this.parseAggregates(re.selects,Re,rt.Calculations,J,Ke+1),!_.isEmpty(J)){var ce=p.Cx.getDynamicMember(J,Be,Ke+1);ce&&this.parseRecursive(Re,ce,Be,Ke+1)}}tt&&tt.complete(Xe)}static getFirstInstanceCalcs(le){t.Y.assertValue(le,"member");var me=le.Instances;return me.length>0?me[0].Calculations:null}parseRootAggregates(le,me){t.Y.assertValue(le,"columns"),t.Y.assertValue(me,"node");for(var Be=0,Ke=le.length;Be<Ke;Be++){var re=le[Be].aggregates;re&&p.Cx.copyAggregates(re,te(me,Be))}}parseAggregates(le,me,Be,Ke,Xe){t.Y.assertValue(le,"selects"),t.Y.assertValue(me,"node"),t.Y.assertAnyValue(Be,"calculations"),t.Y.assertAnyValue(Ke,"allMembers");for(var re=0,fe=le.length;re<fe;re++){var ae=le[re];if(ae){var tt=lt(ae,Be,Ke,Xe);tt&&p.Cx.copyAggregates(tt,te(me,this.context.selectIndexToColumnIndexMap[re]))}}}parseValues(le,me,Be,Ke){if(t.Y.assertValue(le,"selects"),t.Y.assertValue(me,"node"),t.Y.assertAnyValue(Be,"calculations"),!_.isEmpty(Be))for(var Xe=0,re=0,fe=le.length;Xe<fe;Xe++){var ae=le[Xe];if(ae){if(ae.Value){var tt=p.Cx.findAndParseCalculation(Be,ae.Value);void 0!==tt&&(ae.Kind===E.Vt.Group?me.name=tt:(me.value=tt,Ke&&Ke.add(re,tt)),te(me,re).value=tt)}if(ae.Highlight){var ot=p.Cx.findAndParseCalculation(Be,ae.Highlight.Value);void 0!==ot&&(te(me,re).highlight=ot)}if(re++,ae.DynamicFormat&&ae.DynamicFormat.Format){var rt=p.Cx.findAndParseCalculation(Be,ae.DynamicFormat.Format);te(me,re).value=rt,re++}}}}categorize(le,me){if(t.Y.assertValue(le,"metadata"),!this.canCategorize())return null;for(var Xe,Be=(0,d.ni)(`DSR.categorical(${this.context.perfId})`),Ke={},re=0,fe=le.columns.length;re<fe;re++){var ae=le.columns[re];if(void 0!==ae.index){if(!ae.isMeasure){Xe||(Xe=[]),Xe.push({columnIndex:re,metadataColumn:ae});continue}var tt={source:ae,values:[]},ot=ae.aggregates;ot&&p.Cx.copyAggregates(ot,tt),Ke.values||(Ke.values=(0,s.zB)()),Ke.values.push(tt)}}if(Xe){Ke.categories=[];for(var rt,Re=0,J=Xe.length;Re<J;Re++){var ce=Xe[Re],Ce=me.children,ze={source:ce.metadataColumn,values:[]};if(Ce)for(var it=0,yt=Ce.length;it<yt;it++){var Nt=Ce[it];ze.values.push(Nt.values[ce.columnIndex].value),0===Re&&(this.writeCategoricalValues(le,Nt,Ke.values),Nt.identity&&(rt||(rt=[]),rt.push(Nt.identity))),Nt.isMerge&&(Ke.lastMergeIndex=it)}rt&&(ze.identity=rt),me.childIdentityFields&&(ze.identityFields=me.childIdentityFields),Ke.categories.push(ze)}}else this.writeCategoricalValues(le,me,Ke.values);return Be(),Ke}canCategorize(){for(var me=this.context.selects,Be=0,Ke=me.length;Be<Ke;Be++){var Xe=me[Be];if(Xe&&Xe.Depth>0)return!1}return!0}createTree(le,me){var Be=this.context;if(!(Be.actionHistory&L.DynamicFormatFound||Be.actionHistory&L.NullSelectFound))return{root:me};var Ke=(0,y.IL)(me),Xe=le.columns,re=me.values;if(re){for(var fe={},ae=0;ae<Xe.length;ae++){var tt=Xe[ae];void 0!==tt.index&&void 0!==re[ae]&&(fe[tt.index]=re[ae])}Ke.values=fe}var ot=me.children;return ot&&(Ke.children=this.removeFormatSourceFromTreeChildren(Xe,ot)),{root:Ke}}removeFormatSourceFromTreeChildren(le,me){for(var Be=me.length,Ke=_.map(me,rt=>rt),Xe=0;Xe<Be;Xe++){var re=(0,y.IL)(Ke[Xe]);Ke[Xe]=re;for(var fe={},ae=0;ae<le.length;ae++){var tt=le[ae];void 0!==tt.index&&void 0!==Ke[Xe].values[ae]&&(fe[tt.index]=Ke[Xe].values[ae])}Ke[Xe].values=fe;var ot=Ke[Xe].children;ot&&(Ke[Xe].children=this.removeFormatSourceFromTreeChildren(le,ot))}return Ke}createTable(le,me){t.Y.assertValue(le,"metadata");for(var Be,Ke=this.context.selects,Xe=0,re=Ke.length;Xe<re;Xe++)if(Ke[Xe]){var ae=Ke[Xe].Depth;ae>=0&&(Be=Math.max(ae,Be||0))}if(Be>0)return null;var ot,J,tt=(0,d.ni)(`DSR.table(${this.context.perfId})`),rt=[],Re=le.columns.length;if(Be>=0){var ce=me.children;if(ce)for(var Ce=0,ze=ce.length;Ce<ze;Ce++){var it=ce[Ce];this.toTableRow(it,Re,rt),it.isMerge&&(ot=Ce),it.identity&&(J||(J=[]),J.push(it.identity))}}else t.Y.assert(()=>0===(0,q.eq)(le.columns),"groups.length=0"),this.toTableRow(me,Re,rt);var yt=this.toTotals(me,Re),Nt={rows:rt,columns:le.columns};return J&&(Nt.identity=J),me.childIdentityFields&&(Nt.identityFields=me.childIdentityFields),yt&&(Nt.totals=yt),ot>=0&&(Nt.lastMergeIndex=ot),tt(),Nt}toTableRow(le,me,Be){for(var Ke=[],Xe=0;Xe<me;Xe++){var re=le.values[Xe];re&&Ke.push(re.value)}Be.push(Ke)}toTotals(le,me){var Be=[],Ke=le.values,Xe=!1;if(Ke)for(var re=0;re<me;re++){var fe=Ke[re],ae=fe?fe.subtotal:null;Xe=Xe||null!=ae,Be.push(ae)}return Xe?Be:null}writeCategoricalValues(le,me,Be){for(var Ke=le.columns,Xe=0,re=0,fe=Ke.length;re<fe;re++){var ae=Ke[re];if(ae.isMeasure&&void 0!==ae.index){var tt=me.values[re];if(tt){var ot=Be[Xe++];ot.values.push(tt.value),void 0!==tt.highlight&&(ot.highlights||(ot.highlights=[]),ot.highlights.push(tt.highlight))}}}}createSingleValue(le,me){if(t.Y.assertValue(le,"metadata"),t.Y.assertValue(me,"root"),me.values){for(var Xe,Be=le.columns,Ke=null,re=0,fe=Be.length;re<fe;re++)if(Be[re].isMeasure&&null!=Be[re].index){if(Ke)return null;Ke=Be[re],Xe=re}if(!Ke)return null;var ae=me.values[Xe];if(!ae)return null;var tt=0===(0,q.eq)(le.columns)?ae.value:ae.subtotal;return void 0===tt?null:{column:Ke,value:tt}}return null}}class Me{constructor(le){t.Y.assertValue(le,"context"),this._context=le,this._categoriesMetadata=[],this._primaryMeasureSelects=[],this._measureSelects=[],this._secondarySelects=[],this._seriesColumn=null}read(le,me,Be){t.Y.assertValue(me,"dataShape");var Ke=this._context,Xe={metadata:this.readMetadata(me.IsComplete)};return Ke.includes(a.k.Categorical)&&(Be.categorical=(0,d.Mt)(()=>{var re=this.categorize(me,Xe.metadata,le);re&&(Xe.categorical=re)})),Ke.includes(a.k.Matrix)&&(Be.matrix=(0,d.Mt)(()=>{var re=Te(this._context,le,me,Xe.metadata);re&&(Xe.matrix=re)})),Xe}readMetadata(le){for(var me=this,Be={columns:[]},Ke=this._context,Xe=Ke.selects,re=function(){var ot=Xe[ae];if(!ot)return 0;if(ot.Kind===E.Vt.Measure)return 0===ot.Depth?me._primaryMeasureSelects.push(ot):me._measureSelects.push(ot),0;t.Y.assert(()=>ot.Kind===E.Vt.Group,"Unexpected Select.Kind");var rt=Ke.createColumns(Be.columns,ae);ot.SecondaryDepth>=0?(me._secondarySelects.push(ot),me._secondaryDepth=Math.max(me._secondaryDepth||0,ot.SecondaryDepth),me._seriesColumn=rt):0===ot.Depth&&me._categoriesMetadata.push({select:ot,column:rt})},ae=0,tt=Xe.length;ae<tt;ae++)re();return le||(Be.segment={}),Be}categorize(le,me,Be){if(t.Y.assertValue(le,"dataShape"),t.Y.assertValue(me,"metadata"),0!==this._secondaryDepth||0===this._categoriesMetadata.length)return null;var Xe,re,Ke=(0,d.ni)(`DSR.categorical(${this._context.perfId}, secondary)`);Be&&(Be.Primary&&(Xe=Be.Primary.Groupings),Be.Secondary&&(re=Be.Secondary.Groupings));var fe=p.Cx.getTopLevelSecondaryDynamicMember(le,Be),ae=this.readColumnsFromSecondary(fe,me,re,le.Calculations),tt=p.Cx.getTopLevelPrimaryDynamicMember(le,Be),ot=this.readCategoriesAndValues(tt,me,ae,Xe),rt={categories:ot.categories,values:ae};return void 0!==ot.lastMergeIndex&&(rt.lastMergeIndex=ot.lastMergeIndex),Ke(),rt}readColumnsFromSecondary(le,me,Be,Ke){t.Y.assertValue(le,"secondaryMember"),t.Y.assertValue(me,"metadata");var Xe,re=this._context;Be&&(Xe=re.readKeys(Be,0));var fe=[],ae=re.selects,tt=this._measureSelects.length,ot=[],rt=le.Instances,Re=rt.length;if(Re)for(var J=0;J<Re;J++){var ce=rt[J],Ce=ce.Calculations,ze=void 0;Be&&(ze=re.readIdentity(Be,ce,0));for(var it=0,yt=this._secondarySelects.length;it<yt;it++){for(var Lt=p.Cx.findAndParseCalculation(Ce,this._secondarySelects[it].Value),zt=[],Yt=0;Yt<tt;Yt++){var Qt=this._measureSelects[Yt],sr=ae.indexOf(Qt),je=re.createColumns(me.columns,sr,!0);void 0!==Lt&&(je.groupName=Lt);var Tt={source:je,values:[]};ze&&(Tt.identity=ze),this.addColumnAggregates(Ke,Qt,Tt),fe.push(Tt),zt.push(Tt)}ot.push({identity:ze,name:Lt,values:zt})}}else{for(var Kt=0;Kt<tt;Kt++){var nr=this._measureSelects[Kt],ar=ae.indexOf(nr),pt={source:re.createColumns(me.columns,ar),values:[]};this.addColumnAggregates(Ke,nr,pt),fe.push(pt)}ot.push({values:[...fe||[]]})}for(var Ut=0,$t=this._primaryMeasureSelects.length;Ut<$t;Ut++){var or=ae.indexOf(this._primaryMeasureSelects[Ut]),vr=re.createColumns(me.columns,or);fe.push({source:vr,values:[]})}Xe&&(fe.identityFields=Xe);var Mr=this._seriesColumn;return Mr&&(fe.source=Mr),fe.grouped=()=>ot,fe}addColumnAggregates(le,me,Be){le&&(me.Max&&(Be.max=p.Cx.findAndParseCalculation(le,me.Max[0])),me.Min&&(Be.min=p.Cx.findAndParseCalculation(le,me.Min[0])))}readCategoriesAndValues(le,me,Be,Ke){t.Y.assertValue(le,"primaryMember"),t.Y.assertValue(Be,"values");for(var ae,Xe=[],re=this._categoriesMetadata,fe=re.length,tt=this._context,ot=0;ot<fe;ot++){var rt={source:re[ot].column,values:[]};Xe.push(rt),Ke&&(ae||(ae=[]),rt.identity=ae,rt.identityFields=tt.readKeys(Ke,0))}for(var ce,Re=le.Instances,J=this._primaryMeasureSelects,Ce=0,ze=Re.length;Ce<ze;Ce++){var it=Re[Ce];it.RestartFlag===D.mY.Merge&&(ce=Ce);for(var yt=0;yt<fe;yt++)Xe[yt].values.push(p.Cx.findAndParseCalculation(it.Calculations,re[yt].select.Value));ae&&ae.push(tt.readIdentity(Ke,it,0));for(var Lt=it.Intersections,zt=0,Yt=0,Qt=Lt.length;Yt<Qt;Yt++)for(var sr=Lt[Yt].Calculations,je=0,Tt=this._measureSelects.length;je<Tt;je++){var Kt=this._measureSelects[je],nr=p.Cx.findAndParseCalculation(sr,Kt.Value);if(void 0!==nr){var ar=Be[zt++];if(ar.values.push(nr),Kt.Highlight){ar.highlights||(ar.highlights=[]);var $e=p.Cx.findAndParseCalculation(sr,Kt.Highlight.Value);ar.highlights.push($e)}}}for(var pt=0,Ut=J.length;pt<Ut;pt++){var $t=J[pt],er=it.Calculations,or=p.Cx.findAndParseCalculation(er,$t.Value),vr=Be[zt++];if(vr.values.push(or),$t.Highlight){vr.highlights||(vr.highlights=[]);var mr=p.Cx.findAndParseCalculation(er,$t.Highlight.Value);vr.highlights.push(mr)}}}return{categories:Xe,lastMergeIndex:ce}}}class Ge{constructor(le,me,Be,Ke){t.Y.assertValue(le,"targets"),t.Y.assert(()=>null!=me.Select||null!=me.ScriptVisualBinding,"descriptor"),t.Y.assertAnyValue(Be,"perfId"),t.Y.assertValue(Ke,"aggregateReader"),this.targets=le,this.selects=me.Select,this.scriptVisualBinding=me.ScriptVisualBinding,this.perfId=Be||"",this.stats={id:Be||void 0,primary:0,secondary:0},this.aggregateReader=Ke,this.cacheItems=[],this.selectIndexToColumnIndexMap={}}createColumns(le,me,Be){var Xe=this.columnMetadata(me,le.length,Be);le.push(Xe);var fe=this.tryCreatingDynamicFormatColumnMetadata(me,le.length,Xe);return fe&&le.push(fe),Xe}columnMetadata(le,me,Be){t.Y.assertValue(le,"selectIndex"),t.Y.assertAnyValue(Be,"suppressAggregates");var Ke=this.selects[le];t.Y.assertValue(Ke,"select");var Xe={displayName:"",index:le};if(Ke.Format&&(Xe.format=Ke.Format),Xe.type=p.Cx.describeDataType(Ke.Type,Ke.DataCategory),Ke.Kind===E.Vt.Measure&&(Xe.isMeasure=!0),!Be){var re=this.aggregateReader.compute(Ke,me);re&&(Xe.aggregates=re)}var fe=Ke.GroupKeys;if(fe){var ae=Xe.identityExprs=[];for(var tt of fe){var ot=this.convertKey(tt);ae.push(ot)}}return this.selectIndexToColumnIndexMap[le]=me,Xe}tryCreatingDynamicFormatColumnMetadata(le,me,Be,Ke){var Xe=this.selects[le];if(Xe.DynamicFormat&&Xe.DynamicFormat.Format){var re={displayName:"",isMeasure:!0};Be.formatSource={formatString:re};var fe={Kind:E.Vt.Measure,Subtotal:_.map(Xe.SubtotalDynamicFormat,tt=>tt&&tt.Format)};if(!Ke){var ae=this.aggregateReader.compute(fe,me);ae&&(re.aggregates=ae)}return this.actionHistory|=L.DynamicFormatFound,re}}readIdentity(le,me,Be){t.Y.assertValue(le,"axisGroupings"),t.Y.assertValue(Be,"depth");for(var Xe,Ke=this.readKeys(le,Be),re=le[Be].Keys,fe=0,ae=re.length;fe<ae;fe++){var tt=re[fe],rt=p.Cx.findAndParseCalculationToSQExpr(me.Calculations,tt.Calc||this.selects[tt.Select].Value),Re=(0,m.LC)(Ke[fe],rt);Xe=(0,m.Uo)(Xe,Re)}return(0,v.UQ)(Xe)}readKeys(le,me){t.Y.assertValue(le,"axisGroupings"),t.Y.assertValue(me,"depth");var Be=this.getAxisCache(le),Ke=Be.exprs[me];if(void 0===Ke){Ke=Be.exprs[me]=[];for(var Xe=le[me].Keys,re=0,fe=Xe.length;re<fe;re++)Ke.push(this.convertKey(Xe[re]))}return Ke}includes(le){return t.Y.assertValue(le,"kind"),(0,S.Lt)(this.targets,le)}getAxisCache(le){t.Y.assertValue(le,"axisGroupings");for(var me=this.cacheItems,Be=0,Ke=me.length;Be<Ke;Be++){var Xe=me[Be];if(Xe.axisGroupings===le)return Xe}var re={axisGroupings:le,exprs:[]};return me.push(re),re}convertKey(le){t.Y.assertValue(le,"key");var me=le.Source;return(0,m.sX)((0,m.EG)((0,E.l_)(me),me.Entity||me.EntitySet),me.Property)}}class De{constructor(le,me){t.Y.assert(()=>null!=le.Select||null!=le.ScriptVisualBinding,"descriptor"),t.Y.assertValue(me,"dataShape"),this.dataShape=me}compute(le,me,Be){t.Y.assertValue(me,"columnIndex");var Ke=this.cache;if(Ke){var Xe=Ke[me];if(Xe)return Xe}if(le){Ke||(this.cache=Ke={});var re=this.dataShape,fe=lt(le,re.Calculations,re.PrimaryHierarchy,0);return Be&&!fe&&(fe={}),Ke[me]=fe,fe}}updateAggregates(le,me,Be,Ke){t.Y.assertValue(le,"select"),t.Y.assertValue(me,"columnIndex"),t.Y.assertValue(Be,"name"),t.Y.assertAnyValue(Ke,"value");var Xe=this.compute(le,me,!0);if(Xe)return Xe[Be]=Ke,Xe}}function lt(et,le,me,Be){t.Y.assertValue(et,"select"),t.Y.assertAnyValue(le,"calculations"),t.Y.assertAnyValue(me,"allMembers"),t.Y.assertValue(Be,"depth");var Ke=!_.isEmpty(me)&&Pe.getFirstInstanceCalcs(me[0]);if(!_.isEmpty(le)||!_.isEmpty(Ke)){var Xe;if(!_.isEmpty(Ke)&&et.Subtotal){var re=et.Subtotal[Be];if(re){var fe=p.Cx.findAndParseCalculation(Ke,re);void 0!==fe&&(Xe||(Xe={}),Xe.subtotal=fe)}}if(!_.isEmpty(le)){if(et.Max){var ae=et.Max[Be];if(ae){var tt=p.Cx.findAndParseCalculation(le,ae);void 0!==tt&&(Xe||(Xe={}),Xe.max=tt)}}if(et.Min){var ot=et.Min[Be];if(ot){var rt=p.Cx.findAndParseCalculation(le,ot);void 0!==rt&&(Xe||(Xe={}),Xe.min=rt)}}if(et.Count){var Re=et.Count[Be];if(Re){var J=p.Cx.findAndParseCalculation(le,Re);void 0!==J&&(Xe||(Xe={}),Xe.count=J)}}var ce=et.Aggregates;if(ce)for(var Ce of ce){var ze=Ce.Aggregate,it=Ce.Ids[Be];if(it){var yt=p.Cx.findAndParseCalculation(le,it);if(void 0!==yt){var Nt=ze.Percentile;if(Nt){var Lt={k:Nt.K,value:yt};Nt.Exclusive&&(Lt.exclusive=Nt.Exclusive),Xe||(Xe={});var zt=Xe.percentiles;zt||(zt=Xe.percentiles=[]),zt.push(Lt)}else ze.Average?(Xe||(Xe={}),Xe.average=yt):ze.Median&&(Xe||(Xe={}),Xe.median=yt)}}}if(0===Be){var Yt=et.Value;if(Yt){var Qt=p.Cx.findAndParseCalculation(le,Yt);void 0!==Qt&&(Xe||(Xe={}),Xe.single=Qt)}}}return Xe}}class ct{static create(le,me){for(var Be=le.values,Ke=me.selects,Xe=!1,re={},fe=0,ae=0,tt=Ke.length;fe<tt;fe++){var ot=Ke[fe];if(ot){if(ot.Kind!==E.Vt.Measure){ae++;continue}var Re=void 0,J=void 0;if(Be&&(J=Be[ae])){if(Re=[],void 0===J.min&&Re.push(new p.Ro),void 0===J.max&&Re.push(new p.XU),0===Re.length){ae++;continue}}else Re=[new p.Ro,new p.XU];re[ae]=Re,Xe=!0,ae++,ot.DynamicFormat&&ot.DynamicFormat.Format&&ae++}}if(Xe)return new ct(le,me.aggregateReader,me.selects,re)}constructor(le,me,Be,Ke){t.Y.assertValue(le,"node"),t.Y.assertValue(me,"aggregateReader"),t.Y.assertValue(Ke,"aggregators"),this.node=le,this.aggregateReader=me,this.selects=Be,this.aggregators=Ke}add(le,me){var Be=this.aggregators[le];if(Be)for(var Ke=0,Xe=Be.length;Ke<Xe;Ke++)Be[Ke].update(me)}complete(le){t.Y.assertValue(le,"columns");for(var me=this.aggregators,Be=this.node,Ke=this.aggregateReader,Xe=0,re=0,fe=this.selects.length;Xe<fe;Xe++){var ae=this.selects[Xe];if(ae){var tt=me[re];if(!tt){re++;continue}for(var ot=0,rt=tt.length;ot<rt;ot++){var Re=tt[ot],J=Re.value();if(void 0!==J){var ce=Re.name;te(Be,re)[ce]=J,le[re].aggregates=Ke.updateAggregates(ae,re,ce,J)}}re++,ae&&ae.DynamicFormat&&ae.DynamicFormat.Format&&re++}}}}function vt(et){if(t.Y.assertAnyValue(et,"dsr"),et.Version===D.tq.Version2)return!0}function Vt(et){return t.Y.assertAnyValue(et,"dsr"),et.MinorVersion}function It(et,le,me,Be,Ke,Xe){if(t.Y.assertValue(le,"arg"),!le)return null;var re;le.data&&(le=le.data),Xe&&Xe.isRunning()&&(re=Xe.createChildActivity({name:i.n.ParseQueryResult}));var fe={},ae=le,tt=(0,o.t)();_.isString(le)&&(fe.dsrLength=le.length,fe.jsonParse=(0,d.Mt)(()=>{ae=JSON.parse(le)}),re&&re.setProperty("metrics",{jsonParse:fe.jsonParse}));var ot=function(et,le,me,Be,Ke,Xe,re,fe,ae,tt,ot,rt,Re,J,ce){if(!me)return null;var Ce,ze;if(fe||(fe={}),et&a.k.Single&&(et|=a.k.Table),vt(me)){if(ze="dsr2-read",performance&&performance.mark&&performance.mark(ze+"-start"),fe.mode=c.UM.V2,1!==_.size(me.DS))return null;var it=(0,b.G)(le),yt=(0,K.Ju)(me,it);Ce=function(et,le,me,Be,Ke){var Xe={columns:et.createDataViewMetadataColumns()},re={dataView:{metadata:Xe}};if(function(et,le){et.reset();var me=et.dataShapes();t.Y.assert(()=>1===me.count(),"DSR has multiple DataShapes"),me.next(),me.complete()||(le.dataView.metadata.segment={},le.restartToken=me.restartTokens())}(le,re),et.includes(a.k.Matrix)){var fe,ae=(0,d.Mt)(()=>{fe=function(et,le,me,Be){return new P(et,le,me,Be).run()}(et,le,Xe,Ke),fe&&(re.dataView.matrix=fe,le.lockCache())});fe&&(me.matrix=ae)}if(et.includes(a.k.Categorical)){var tt,ot=(0,d.Mt)(()=>{tt=function(et,le,me){if(C.isCompatible(et))return(new C).run(et,le,me)}(et,le,Xe),tt&&(re.dataView.categorical=tt,le.lockCache())});tt&&(me.categorical=ot)}if(et.includes(a.k.Table)){var rt,Re=(0,d.Mt)(()=>{rt=function(et,le,me){return new I(et,le,me).run()}(et,le,Xe),rt&&(re.dataView.table=rt,le.lockCache())});rt&&(me.table=Re)}if(et.includes(a.k.Tree)){var J,ce=(0,d.Mt)(()=>{J=function(et,le){return new x(et,le).run()}(et,le),J&&(re.dataView.tree=J,le.lockCache())});J&&(me.tree=ce)}if(et.includes(a.k.Single)){var Ce,ze=(0,d.Mt)(()=>{Ce=function(et,le){if(N.isCompatible(et))return new N(et,le).run()}(et,le),Ce&&(re.dataView.single=Ce)});Ce&&(me.single=ze)}return re}(new V(et,le,it,J,yt.dataShapes()),yt,fe,0,J),yt.reset();var Lt=yt.dataShapes(),zt=Lt.next();if(t.Y.assert(()=>zt,"There must be a DataShape"),Lt.limitsExceeded()){Ce.warnings||(Ce.warnings=[]);var Yt=new j.E(le,function(et){for(var le=et.limits(),me=le.count(),Be=new Array(me),Ke=0;Ke<me;Ke++)le.next(),Be[Ke]={Id:le.id()};return Be}(Lt),function(et){for(var le=new Array(et.calcCount()),me=0;et.nextCalc();me++)le[me]={Id:et.calcId(),Value:et.calcValue()};return le}(Lt));Ce.warnings.push(Yt),Y(Ce.dataView,Yt.limits)}(function(et,le){var me=et.messages();if(me)for(;me.next();)U.xU[me.code()]&&me.severity()===(0,U.D$)(U.aX.Warning)&&(le.warnings||(le.warnings=[]),le.warnings.push(me.dsrMessage()))})(Lt,Ce),Ce.dataView&&!_.isEmpty(Xe)&&((0,n.Eg)(Ce.dataView,Xe),Ce.disallowPersisting=!0)}else ze="dsr1-read",performance&&performance.mark&&performance.mark(ze+"-start"),fe.mode=c.UM.V1Old,Ce=function(et,le,me,Be,Ke,Xe,re){if(t.Y.assertValue(et,"targets"),t.Y.assertAnyValue(le,"descriptor"),t.Y.assertValue(me,"dsr"),t.Y.assertAnyValue(Xe,"clientSideFilters"),!function(et){return et&&1===_.size(et.DataShapes)}(me))return null;var fe=me.DataShapes[0];if(fe["odata.error"]){var tt=new k.zx(fe["odata.error"]);return Ke&&(tt.requestId=Ke),{error:tt}}var rt=new Ge(et,le,re,new De(le,fe)),Re=function(et){if(t.Y.assertValue(et,"context"),null!=et.scriptVisualBinding)return new pe(et);for(var le=0,me=0,Be=et.selects,Ke=0,Xe=Be.length;Ke<Xe;Ke++){var re=Be[Ke];re&&(null!=re.Depth&&(le=Math.max(le,re.Depth+1)),null!=re.SecondaryDepth&&(me=Math.max(me,re.SecondaryDepth+1)))}return me>=1&&1===le?new Me(et):new Pe(et)}(rt).read(le.Expressions,fe,Be),J={dataView:Re};if(fe.RestartTokens&&(J.restartToken=fe.RestartTokens),fe.DataLimitsExceeded&&fe.DataLimitsExceeded.length>0){J.warnings||(J.warnings=[]);var ce=new j.E(le,fe.DataLimitsExceeded,fe.Calculations);J.warnings.push(ce),Y(Re,ce.limits)}if(fe.DataShapeMessages&&fe.DataShapeMessages.length>0)for(var Ce of fe.DataShapeMessages)U.xU[Ce.Code]&&Ce.Severity===(0,U.D$)(U.aX.Warning)&&(J.warnings||(J.warnings=[]),J.warnings.push(new U.lE(Ce)));return J.dataView&&!_.isEmpty(Xe)&&((0,n.Eg)(J.dataView,Xe),J.disallowPersisting=!0),t.Y.log("DSR.stats",rt.stats),J}(et,le,me,fe,Ke,Xe,re);return Ce&&(Ce.timestamp=ot,Ce.fromCache=rt,Re&&!Ce.fromCache&&(Ce.performanceActivities=W(Re.Events,ce&&ce.getProperty("rootId")))),performance&&(performance.mark&&performance.mark(ze+"-end"),performance.measure&&performance.measure(ze,ze+"-start",ze+"-end")),fe.total=(0,o.t)()-tt,ae&&ae.logEvent(c.IO,{jsonparse:fe.jsonParse,categorical:fe.categorical,table:fe.table,tree:fe.tree,matrix:fe.matrix,single:fe.single,script:fe.script,total:fe.total,mode:fe.mode,targetDataView:et,dsrLength:fe.dsrLength,id:re}),Ce}(et,ae.descriptor,ae.dsr,0,ae.requestId,ae.clientSideFilters,Ke,fe,Be,tt,ae.timestamp,ae.fromCache,ae.metrics,me.scopedAggregates,Xe);if(me?.queryContext){var rt=ae.queryContext;rt&&(ot.queryContext=rt)}return re&&re.resolve(),ot}function de(et){if(t.Y.assertAnyValue(et,"dataViewSource"),!et)return!1;var le=et.data;return _.isString(le)&&(le=(0,r.p)(le)),!_.isEmpty(le)&&function(et){if(et)if(vt(et)){for(var le=(0,K.Ju)(et,void 0).dataShapes();le.next();)if(le.hasRestartTokens())return!0}else{var me=et.DataShapes;for(var Be of me)if(!_.isEmpty(Be.RestartTokens))return!0}return!1}(le.dsr)}},20593:function(ve,z,e){e.d(z,{B8:function(){return c},GH:function(){return p},Tv:function(){return i},_L:function(){return n},fn:function(){return s},gT:function(){return t},pc:function(){return o},v7:function(){return a}});var a=function(l){return l[l.Status=0]="Status",l[l.Goal=1]="Goal",l[l.Value=2]="Value",l[l.Trend=3]="Trend",l}({}),i=function(l){return l[l.Primary=0]="Primary",l[l.Secondary=1]="Secondary",l}({}),t=function(l){return l[l.Unknown=-1]="Unknown",l[l.Top=0]="Top",l[l.Bottom=1]="Bottom",l[l.Sample=2]="Sample",l[l.BinnedLineSample=3]="BinnedLineSample",l[l.OverlappingPointsSample=4]="OverlappingPointsSample",l}({}),o=function(l){return l[l.None=0]="None",l[l.GroupMember=1]="GroupMember",l[l.SubTotalMember=2]="SubTotalMember",l}({}),n=function(l){return l[l.Value=1]="Value",l[l.Subtotal=2]="Subtotal",l[l.Highlight=3]="Highlight",l[l.DynamicFormat=4]="DynamicFormat",l[l.SubtotalDynamicFormat=5]="SubtotalDynamicFormat",l[l.HighlightDynamicFormat=6]="HighlightDynamicFormat",l[l.Aggregate=7]="Aggregate",l[l.AggregateHighlight=8]="AggregateHighlight",l[l.HighlightSubtotal=9]="HighlightSubtotal",l[l.SynchronizationIndex=10]="SynchronizationIndex",l}({}),c=function(l){return l[l.Subtotal=1]="Subtotal",l[l.Max=2]="Max",l[l.Min=3]="Min",l[l.Single=4]="Single",l[l.Count=5]="Count",l[l.Average=6]="Average",l[l.Percentile=7]="Percentile",l[l.Median=8]="Median",l}({}),s=function(l){return l[l.Version0=0]="Version0",l[l.Version1=1]="Version1",l}({}),p=function(l){return l[l.Preserve=0]="Preserve",l[l.Flexible=1]="Flexible",l}({})},57895:function(ve,z,e){e.d(z,{PI:function(){return c},bN:function(){return l}});var a=e(18122),i=e(495123),r=e(623670),t=e(722442),o=e(583032);class c{constructor(v,m,g,E){this.addVisualIdToQueryDataAsHttpBodyId=E,this.preferredMaxBatchesConfigured=v>0,this.maxBatches=this.preferredMaxBatchesConfigured?v:4,this.queryExecuteCallback=m,this.pending=[],this.timeoutService=g,this.useHttp2QueryDataEnabled=i.C.browserSupportsHttp2()}enqueue(v){if(!function(u,v){var m=v.options;if(m.executionType===t.mG.CancelQuery){a.Y.assertValue(m.queryId,"queryId");var g=_.findIndex(u,E=>E.options.queryId===m.queryId);if(g>-1)return a.Y.assert(()=>u[g].execution.rejected(),"CancelQuery should correspond to rejected queries."),!0}return!1}(this.pending,v))return this.pending.push(v),this.currentBatchDeferred||(this.currentBatchDeferred=$.Deferred(),this.timeoutService.setTimeout(-1,!1).promise.then(()=>{var g=this.createBatches();this.clearPending(),this.queryExecuteCallback(g),this.currentBatchDeferred.resolve(),this.currentBatchDeferred=void 0})),this.currentBatchDeferred.promise()}clearPending(){this.pending=[]}setMaxBatches(v){this.maxBatches=v,this.preferredMaxBatchesConfigured=v>0}createBatches(){var v=[],m=this.sortQueriesByDataSource(),g=this.maxBatches,E=!1;if(!this.preferredMaxBatchesConfigured&&this.useHttp2QueryDataEnabled&&(_.some(m,y=>_.some(y.dataSources,f=>f.isLimitedParallelQueryModel))||(g=20,E=!0)),m.length>=g)for(var h=0,C=m.length;h<C;++h)v.push(this.createBatchFromDataSourceGroup(m[h]));else v=this.splitDataSourcesIntoBatches(m,g);return E&&_.forEach(v,y=>y.useSynchronous=!0),v}sortQueriesByDataSource(){var v;v=this.addVisualIdToQueryDataAsHttpBodyId?_.groupBy(this.pending,E=>(E=>E?.applicationContext?.Sources?.[0]?.VisualId)(E.options)):{"":this.pending};var g=[];return _.forEach(v,E=>{var D=[];_.forEach(E,h=>{if(!(0,o.$6)(u=h)||!u.execution.rejected()){var C=this.findDataSourceGroup(h.options.dataSources,D,h.options.cacheResponseOnServer);C?C.queuedExecutions.push(h):D.push({dataSources:h.options.dataSources,queuedExecutions:[h],cacheResponseOnServer:h.options.cacheResponseOnServer,cacheOptions:h.options.cacheOptions})}var u}),g.push(...D)}),g}findDataSourceGroup(v,m,g){for(var E=0,D=m.length;E<D;++E){var h=m[E];if((0,r.aI)(v,h.dataSources)&&h.cacheResponseOnServer===g)return h}return null}createBatchFromDataSourceGroup(v){for(var m=[],g=[],E=[],D=v.queuedExecutions,h=[],C=[],y=function(){var b=D[f],V=D[f].options,M=D[f].enqueueActivity;(0,o.$6)(b)?(m.push(V),E.push(b.deferred),M&&h.push(M),D[f].queryActivity&&C.push(D[f].queryActivity)):(a.Y.assert(()=>V.executionType===t.mG.CancelQuery,"Only CancelQuery executions are not rejectable."),g.push(V))},f=0,S=D.length;f<S;++f)y();return{dataSources:v.dataSources,queryOptions:m,cancelQueryOptions:g,promises:E,cacheOptions:v.cacheOptions,cacheResponseOnServer:v.cacheResponseOnServer,enqueueActivities:h,queryActivities:C}}splitDataSourcesIntoBatches(v,m){for(var g=[],E=0,D=v.length;E<D;++E)g.push(this.createBatchFromDataSourceGroup(v[E]));return this.splitBatches(g,m)}splitBatches(v,m){for(var g=v.slice();g.length<m;){for(var E=void 0,D=0,h=g.length;D<h;++D){var C=g[D];C.queryOptions.length>1&&(!E||E.queryOptions.length<C.queryOptions.length)&&(E=C)}if(!E)return g;g.push(this.splitBatch(E)),E=null}return g}splitBatch(v){var m=v.queryOptions.length,g=v.queryOptions.splice(m/2),E=v.promises.splice(m/2),D=v.enqueueActivities.splice(m/2),h=v.queryActivities.splice(m/2),C=v.cancelQueryOptions.length,y=[];return C&&(y=v.cancelQueryOptions.splice(C/2)),{dataSources:v.dataSources,queryOptions:g,promises:E,cacheOptions:v.cacheOptions,cacheResponseOnServer:v.cacheResponseOnServer,cancelQueryOptions:y,enqueueActivities:D,queryActivities:h}}}function l(u,v,m,g,E){return{queryOptions:_.map(u,D=>({command:D,dataSources:v})),cancelQueryOptions:[],cacheOptions:m,dataSources:v,cacheResponseOnServer:g,promises:[],enqueueActivities:[],queryActivities:[],useSynchronous:E}}},583032:function(ve,z,e){e.d(z,{$6:function(){return c},Fx:function(){return t},Q8:function(){return o},Zs:function(){return r}});var a=e(722442),i=e(18122);function r(s,p,l){s.useMwcTokenAuthorization=!0,s.authorizationHeaderOverride=p,s.headers["x-ms-root-activity-id"]=s.headers.RequestId,s.headers["x-ms-parent-activity-id"]=s.headers.RequestId,s.headers["x-ms-workload-resource-moniker"]=l}function t(s,p,l){var u=_.map(s.queryOptions,D=>{var h=D.command,y={Query:h,CacheKey:D.cacheResponseOnServer?JSON.stringify(h):void 0,CacheOptions:s.cacheOptions,QueryId:D.queryId};return D.applicationContext&&(y.ApplicationContext=D.applicationContext),D.requestPriority===a.QK.Low&&(y.RequestPriority=a.QK.Low),y}),v=_.map(s.cancelQueryOptions,D=>({QueryId:D.queryId})),m=function(s){return i.Y.assertNonEmpty(s,"dataSources"),i.Y.assert(()=>1===s.length,"dataSources.length === 1"),_.head(s)}(s.dataSources),g={version:d,queries:u,cancelQueries:v,modelId:m.modelId,userPreferredLocale:p.getUserPreferredLocale()};if(l&&l.impersonating){var E=l.getImpersonationState();E.modelId===g.modelId&&_.extend(g,E)}return g}function o(s){return _.some(s.queries,p=>_.some(p.Query.Commands,l=>l.SemanticQueryDataShapeCommand?.Extension))}var d="1.0.0";function c(s){return null!=s&&void 0!==s.deferred&&void 0!==s.execution}},660683:function(ve,z,e){e.d(z,{CF:function(){return a},Vt:function(){return o},l_:function(){return i}});var a=void 0;function i(d){return d.Schema||a}var o=function(d){return d[d.None=0]="None",d[d.Group=1]="Group",d[d.Measure=2]="Measure",d}({})},480449:function(ve,z,e){e.d(z,{kN:function(){return s},px:function(){return i}});var a=e(18122);function i(p,l){!function(p,l,u){if(a.Y.assertValue(l,"visitor"),p){l.visitDescriptor(p,u);var v=p.Select;if(v&&v.length)for(var m=0,g=v.length;m<g;m++)l.visitSelect(v[m],u);var E=p.Expressions;E&&function(p,l,u){a.Y.assertValue(p,"expressions"),l.visitExpressions(p,u),a.Y.assertValue(p.Primary,"Primary"),o(p.Primary,l,u);var v=p.Secondary;v&&o(v,l,u)}(E,l,u)}}(p,l,void 0)}function o(p,l,u){a.Y.assertValue(p,"axis"),l.visitDataShapeExpressionsAxis(p,u);var v=p.Groupings;a.Y.assertValue(v,"groupings");for(var m=0,g=v.length;m<g;m++)d(v[m],l,u)}function d(p,l,u){a.Y.assertValue(p,"grouping"),l.visitDataShapeExpressionsAxisGrouping(p,u);var v=p.Keys;a.Y.assertValue(v,"keys");for(var m=0,g=v.length;m<g;m++)n(v[m],l,u)}function n(p,l,u){a.Y.assertValue(p,"groupingKey"),l.visitDataShapeExpressionsAxisGroupingKey(p,u),a.Y.assertValue(p.Source,"Source"),l.visitConceptualPropertyReference(p.Source,u)}class c{visitDescriptor(l,u){}visitSelect(l,u){}visitExpressions(l,u){}visitDataShapeExpressionsAxis(l,u){}visitDataShapeExpressionsAxisGrouping(l,u){}visitDataShapeExpressionsAxisGroupingKey(l,u){}visitConceptualPropertyReference(l,u){}}class s extends c{}},738241:function(ve,z,e){e.d(z,{n:function(){return t}});var a=e(579260),i=e(18122),r=e(660683);class t{constructor(d,n){i.Y.assertValue(d,"metadata"),i.Y.assertValue(d.Select,"metadata.Select"),i.Y.assertValue(n,"binding"),n.ScriptVisualBinding||(i.Y.assertValue(n.Select,"binding.Select"),i.Y.assert(()=>d.Select.length<=n.Select.length,"Metadata should have the same number or fewer select items as Binding.")),this._metadata=d,this._binding=n}getSelectRestatements(){return this.getRestatements()}getGroupRestatements(){return this.getRestatements(r.Vt.Group)}getMeasureRestatements(){return this.getRestatements(r.Vt.Measure)}getFilterRestatements(){var d=this._metadata.Filters;if(_.isEmpty(d))return null;for(var n=[],c=0,s=d.length;c<s;c++){var p=d[c];n.push(p?p.Restatement:"")}return(0,a.qR)(n)}getRestatements(d){var n=this._metadata,c=this._binding,s=[];if(!c.ScriptVisualBinding)for(var p=0,l=n.Select.length;p<l;p++){var u=c.Select[p];u&&(void 0===d||u.Kind===d)&&s.push(n.Select[p].Restatement||"")}return(0,a.qR)(s)}}},777621:function(ve,z,e){e.d(z,{OK:function(){return Pe},X:function(){return It},an:function(){return le}});var a=e(620825),i=e(98138),r=e(579260),t=e(18122),o=e(693029),d=e(140318),n=e(268989),c=e(448724),s=e(34584),p=e(702794),l=e(111199),u=e(338300),v=e(334734),m=e(910058),g=e(258480),E=e(757406),D=e(990328),h=e(327761);function C(Re){t.Y.assertValue(Re,"mapping"),Re.categorical&&function(Re){if(t.Y.assertValue(Re,"categorical"),!Re.dataReductionAlgorithm){Re.categories&&V(Re.categories);var J=Re.values;J&&J.group&&function(Re){t.Y.assertValue(Re,"mapping"),t.Y.assertValue(Re.group,"mapping.group"),Re.group.dataReductionAlgorithm||(Re.group.dataReductionAlgorithm={top:{}})}(J)}}(Re.categorical),Re.table&&function(Re){t.Y.assertValue(Re,"table"),Re.rows&&V(Re.rows)}(Re.table),Re.matrix&&function(Re){t.Y.assertValue(Re,"matrix"),Re.rows&&V(Re.rows),Re.columns&&V(Re.columns)}(Re.matrix)}function V(Re){t.Y.assertValue(Re,"mapping"),!Re.dataReductionAlgorithm&&!function(Re){var J=Re.select;return!!J&&_.some(J,ce=>!!ce.dataReductionAlgorithm)}(Re)&&(Re.dataReductionAlgorithm={top:{}})}function T(Re){t.Y.assertValue(Re,"mappings");for(var J=Re.length,ce=0;ce<J;ce++)C(Re[ce])}var N=function(Re){return Re[Re.Version0=0]="Version0",Re}({}),w=e(671825),I=e(690332);function O(Re,J){if(t.Y.assertValue(Re,"expansionState"),t.Y.assert(()=>J>=0,"lastActiveLevelIndex >= 0"),!_.isEmpty(Re.levels)&&0!==J){t.Y.assertValue(Re.root,"expansionState.root");var ce=j(Re.root,-1,J,Re.levels);if(ce){for(var Ce=new Array(ce.depth),ze=new w.l0(null),it=0;it<ce.depth;it++)Ce[it]=x(Re.levels[it],ze);var yt=[];return I.F3.serializeFrom(ze,yt),{From:yt,Levels:Ce,Instances:ce.instance}}}}function x(Re,J){return t.Y.assertValue(Re,"level"),{Expressions:_.map(Re.identityKeys,ze=>{var it=g.O8.rewrite(ze,J,J);return I.F3.serializeExprWithRef(it)}),Default:Re.isCollapsed?s.Wy.Collapsed:s.Wy.Expanded}}function j(Re,J,ce,Ce){t.Y.assertValue(Re,"node");var ze=-1===J,it=J+1===ce,yt=!ze&&!!Ce[J].isCollapsed;if(Re.isToggled||!(yt||it||_.isEmpty(Re.children))){var zt,Nt=!ze&&!yt&&Re.isToggled,Yt=0;if(!it&&!_.isEmpty(Re.children)&&!Nt)for(var Qt of(zt=[],Re.children)){t.Y.assertNonEmpty(Qt.identityValues,"child.identityValues");var sr=j(Qt,J+1,ce,Ce);sr&&(Yt=Math.max(Yt,sr.depth+1),zt.push(sr.instance))}if(Re.isToggled||!_.isEmpty(zt)){var je={};return _.isEmpty(Re.identityValues)||(je.Values=_.map(Re.identityValues,Tt=>I.F3.serializeExpr(Tt))),_.isEmpty(zt)||(je.Children=zt),{depth:Yt,instance:je}}}}function U(Re){if(Re&&Re.root){var J=F(Re.root),ce=R(J),Ce=new w.l0(null);t.Y.assert(()=>ce<=_.size(Re.levels),"Missing levels in window expansion state");var ze=_.take(Re.levels,ce),it=_.map(ze,Nt=>function(Re,J){t.Y.assertValue(Re,"Level must be defined");var ce=_.map(Re.identityKeys,Ce=>{var ze=g.O8.rewrite(Ce,J,J);return I.F3.serializeExprWithRef(ze)});return{Expressions:ce,Default:s.Wy.Collapsed}}(Nt,Ce)),yt=[];return I.F3.serializeFrom(Ce,yt),{From:yt,Levels:it,WindowInstances:J}}}function F(Re){return t.Y.assertValue(Re,"Window expansion instance is not defined"),{Values:_.map(Re.identityValues,J=>I.F3.serializeExpr(J)),WindowExpansionInstanceWindowValue:_.map(Re.windowValues,J=>({Values:_.map(J.restartValues,ce=>I.F3.serializeExpr(ce)),WindowStartKind:J.windowKind})),Children:_.map(Re.children,J=>F(J))}}function R(Re){return!Re||_.isEmpty(Re.Children)?0:Math.max(..._.map(Re.Children,J=>R(J)))+1}var A=e(81825),W=e(303609);function ne(Re,J){t.Y.assertValue(Re,"item"),t.Y.assertValue(J,"newExpr"),Re.query=Re.query.addSelect(J);var ce=Re.query.select(),Ce=(0,W.s)(ce,J),ze=ce[Ce],it=Re.additionalProjections;return it||(it=Re.additionalProjections=[]),it.push({queryName:ze.name,selector:null}),{index:Ce,expr:J,queryName:ze.name}}class L{constructor(){this.queryReferencesByRole={}}static findActive(J){var ce=new L;return(0,p.o4)(J,ce),ce.queryReferencesByRole}visitRole(J){var ce=J.items;_.isEmpty(J.activeItems)||(ce=_.filter(ce,Ce=>_.includes(J.activeItems,Ce.queryName))),this.queryReferencesByRole[J.role]=_.map(ce,Ce=>Ce.queryName)}}var X=e(2003),Y=e(623670);function Q(Re,J,ce){var Ce=[],ze=Re.select(),it=ze.withName(J)?.expr;t.Y.assertValue(it,"Attempting to duplicate a non-existing Select");var yt=Re.addSelect(it),Nt=yt.select();t.Y.assert(()=>Nt.length===ze.length+1,"Expected a Select to have ben added");var Lt=Nt.length-1,zt=Nt[Lt];t.Y.assert(()=>!ze.withName(zt.name),"this code assumes that the newly added select is always the last element in updatedSelectClause");var Yt=J,Qt=zt.name;return Ce.push({selectExprAdded:{selectIndex:Lt,namedSQExpr:zt}}),void 0!==ce&&Ce.push({projectionQueryRefChanged:{role:ce,oldQueryRef:Yt,newInternalQueryRef:Qt}}),{rewriteRecords:Ce,newQuery:yt,newQueryName:Qt}}function ue(Re,J,ce,Ce){if(Re.queryName!==J.queryName)return!1;var ze=(0,h.PO)(Re.selector.data,ce,Ce),it=(0,h.PO)(J.selector.data,ce,Ce),yt=_.xor(ze,it);return!_.isEmpty(yt)}function He(Re,J,ce,Ce){var ze=ce.queryName,it=Re[ze];it||(it=Re[ze]={categoryAndValueGroup:[],categoryOnly:[]});var yt={roleName:J,roleItem:ce};Ce?it.categoryAndValueGroup.push(yt):it.categoryOnly.push(yt)}function We(Re,J){t.Y.assertValue(Re,"roles"),t.Y.assertValue(J,"role");var ce={for:{in:J}};for(var Ce of Re)if((0,Y.aI)(Ce,ce))return;Re.push(ce)}var ft=e(877723);class mt{conflictsWith(J){if(this.getQueryName()!==J.getQueryName())return!1;var ce=_.xor(this.getScopeRefs(),J.getScopeRefs());return!_.isEmpty(ce)}}class At extends mt{constructor(J,ce,Ce){super(),this.additionalProjection=J;var it=J.aggregates&&_.isEmpty(J.selector?.data)?[(0,ft.vt)()]:J.selector?.data;this.scopeRefs=(0,h.PO)(it,ce,Ce)}getQueryName(){return this.additionalProjection.queryName}getScopeRefs(){return this.scopeRefs}updateQueryName(J){this.additionalProjection.queryName=J}getRoleName(){}}class Qe extends mt{constructor(J,ce,Ce){super(),this.roleItem=J,this.roleName=ce,this.scopeRefs=Ce}getQueryName(){return this.roleItem.queryName}getScopeRefs(){return this.scopeRefs}getRoleName(){return this.roleName}updateQueryName(J){this.roleItem.queryName=J}}function we(Re,J){var ce=J.queryRewrites||[],ze=Q(J.query,Re.getQueryName(),Re.getRoleName?.());return Re.updateQueryName(ze.newQueryName),ce.push(...ze.rewriteRecords),{query:ze.newQuery,queryRewrites:ce,mappings:J.mappings,additionalProjections:J.additionalProjections}}class Oe{constructor(J){this.expectedContext=J,this.scopeRefs=[],this.queryRefsByRole={}}visitRole(J,ce){if(ce===this.expectedContext){var Ce=(0,l.$q)(J),ze=this.queryRefsByRole[J.role]=[];for(var it of Ce)this.scopeRefs.push(it.queryName),ze.push(it.queryName)}}}class he{constructor(J,ce){this.scopeRefs=J,this.expectedContext=ce,this.rolesMeasures=[]}visitRole(J,ce){if(ce===this.expectedContext){var Ce=(0,l.$q)(J);for(var ze of Ce)this.rolesMeasures.push(new Qe(ze,J.role,this.scopeRefs))}}}var xe=e(899839),Se=e(664158);class Ae{constructor(J){this.selects=J,this.referencedItems=new Set}withRestartToken(J){return this}withPrimaryWindowExpansion(J){return this}withDataVolume(J){return this}withIncludeEmptyGroups(J){return this}withHighlightFilter(J){return this}withGroupBy(J){return this}withPrimaryGrouping(J,ce,Ce,ze,it,yt){return J=this.filterItems(J,ce,yt),_.isEmpty(J)||(this.rows=this.rows??[],it&&(Nt=_.last(this.rows)),Nt||(Nt=this.createAxisGroup(),this.rows.push(Nt)),this.updateAxisGroup(Nt,J)),this;var Nt}withPrimaryGroupingNestedByRole(J,ce,Ce,ze,it,yt,Nt){return this.isRoleSupportHierachryGrouping(Nt)?this.withPrimaryGroupingNested(J,ce,Ce,ze,yt):this.withPrimaryGrouping(J,ce,Ce,ze,it,yt)}isRoleSupportHierachryGrouping(J){return this.rolesWithHierarchicalGroupingSupport&&this.rolesWithHierarchicalGroupingSupport.includes(J)}withPrimaryExpansion(J){return this}withPrimarySynchronization(J){return this}withPrimaryGroupingNested(J,ce,Ce,ze,it){return J=this.filterItems(J,ce,it),_.isEmpty(J)||_.each(J,yt=>this.withPrimaryGrouping([yt],ce,Ce,ze,!1,it)),this}withSecondaryGrouping(J,ce,Ce,ze,it){if(J=this.filterItems(J,ce,it),_.isEmpty(J))return this;this.columns=this.columns??[];var yt=this.createAxisGroup();return this.columns.push(yt),this.updateAxisGroup(yt,J),this}withSecondaryGroupingNestedByRole(J,ce,Ce,ze,it,yt){return this.isRoleSupportHierachryGrouping(yt)?this.withSecondaryGroupingNested(J,ce,Ce,ze,it):this.withSecondaryGrouping(J,ce,Ce,ze,it)}withSecondaryExpansion(J){return this}withSecondaryGroupingNested(J,ce,Ce,ze,it){return J=this.filterItems(J,ce,it),_.isEmpty(J)||_.each(J,yt=>this.withSecondaryGrouping([yt],ce,Ce,ze,it)),this}withCurrentInnermostGrouping(J,ce,Ce){return this}withCurrentInnermostPrimaryGrouping(J,ce,Ce,ze){return this}withPrimaryDataReduction(J){return this}withScopedDataReduction(J,ce){return this}withSecondaryDataReduction(J){return this}withIntersectionDataReduction(J){return this}withTopLevelAggregates(J){return this}withAdditionalProjections(J){return this}withRolesWithHierarchicalGroupingSupport(J){return t.Y.assertAnyValue(J,"rolesWithHierarchicalGroupingSupport"),_.isEmpty(J)||(this.rolesWithHierarchicalGroupingSupport=J),this}toQueryShape(J){var ce=[],Ce=this.createAxis("rows",this.rows);Ce&&ce.push(Ce);var ze=this.createAxis("columns",this.columns);return ze&&ce.push(ze),_.isEmpty(ce)?void 0:ce}createAxis(J,ce){if(this.removeEmptyAxisGroups(ce),!_.isEmpty(ce))return{Name:J,Groups:ce}}removeEmptyAxisGroups(J){_.isEmpty(J)||_.remove(J,ce=>_.isEmpty(ce.Keys))}createAxisGroup(){return{Keys:[],Subtotal:!0}}updateAxisGroup(J,ce){for(var Ce of ce)if(!this.referencedItems.has(Ce.queryName)){var ze=(0,r.q7)(this.selects,Ce.queryName);(0,Se.t)(ze.expr)||(this.referencedItems.add(Ce.queryName),J.Keys.push(I.F3.serializeExprWithRef(ze.expr)))}}filterItems(J,ce,Ce){if(t.Y.assertAnyValue(J,"items"),t.Y.assertAnyValue(ce,"activeProjection"),_.isEmpty(ce)||_.isEmpty(J))return J;var ze=J.findIndex(yt=>yt.queryName===ce[0]);return J.slice(ze)||(Ce?[]:J)}}var Ie=e(567937),Je=e(924672),pe=e(993337);function Pe(Re={}){return new De(I.F3,Re)}var Me=function(Re){return Re[Re.Default=3]="Default",Re[Re.High=6]="High",Re}({});class De{constructor(J,ce){t.Y.assertValue(J,"serializer"),this.serializer=J,this.featureSwitches=ce}execute(J){var ce=this.executeForQueryOnlyImpl(J);if(!ce||!ce.dataShapeBinding&&ce.mergedQueries&&ce.mergedQueries.mapping&&ce.mergedQueries.mapping.updateType===o.FU.MetadataOnly)return{command:void 0};var Ce=ce.mergedQueries,ze=ce.dataShapeBinding,it=ce.query;this.adjustIntersectionDataReduction(ze,Ce.mapping,it,J.highVolumeOverride),_.isEmpty(it.groupBy())||this.applyDataReductionForGroupByQuery(ze,it);var yt=ce.mergedQueries&&ce.mergedQueries.mapping&&ce.mergedQueries.mapping.updateType===o.FU.Deferred&&_.isEmpty(J.additionalProjections);return{command:this.createDataQuery(it,ce.queryExtensionSchema,J.dataSourceVariables,ze,ce.compiledDataViewMappings,J.dataWindow,J.executionMetricsKinds,J.anchorTime,ce.visualShape),splits:Ce.splits,queryRewrites:ce.queryRewrites,deferred:yt,isPivoted:ze?.isPivoted,resolvedQuery:it}}executeForQueryOnly(J){var ce=this.executeForQueryOnlyImpl(J);return ce&&ce.query}applySubquerySortOrder(J,ce){var Ce=J.from(),ze=_.pickBy(Ce.getSubquerySources(),(Kt,nr)=>null!=Kt.subquery.top()&&Kt.inheritsSorting);if(_.isEmpty(ze))return J;var it=function(Re,J){var ce=[],Ce=Re.select();return J?.Primary?.Groupings.forEach(ze=>{ze.Projections.forEach(it=>{var yt=Ce[it].expr;(0,Se.t)(yt)||ce.push(yt)})}),J?.Secondary?.Groupings.forEach(ze=>{ze.Projections.forEach(it=>{var yt=Ce[it].expr;(0,Se.t)(yt)||ce.push(yt)})}),ce}(J,ce),yt=!1;for(var Nt in ze){var Lt=ze[Nt].subquery,zt=Lt.select(),Yt=Lt.orderBy()||[],Qt=function(Kt){var nr=_.findIndex(zt,$e=>(0,i.aI)($e.expr,Kt,!1,!0));if(nr>-1&&!_.some(Yt,$e=>(0,i.aI)($e.expr,Kt,!1,!0))){var ar=zt.splice(nr,1)[0];Yt.push({expr:ar.expr,direction:Je.U.Ascending}),yt=!0}};for(var sr of it)Qt(sr);var je=function(Kt){!(0,Se.t)(Kt.expr)&&!_.some(Yt,nr=>(0,i.aI)(nr.expr,Kt.expr,!1,!0))&&(Yt.push({expr:Kt.expr,direction:Je.U.Ascending}),yt=!0)};for(var Tt of zt)je(Tt);Lt=Lt.createModified({orderBy:Yt}),yt&&(Ce.remove(Nt),Ce.ensureSource(new w.m$(Lt,!0),Nt))}return yt?J.createModified({from:Ce}):J}produceIdentities(J,ce){var Ce=new xe.D;return J.accept(Ce,ce)}executeForQueryOnlyImpl(J){t.Y.assertValue(J,"options");var zt,ce=(0,Ie.M)(J.mappings),{query:Ce,mappings:ze,queryRewrites:it,additionalProjections:yt}=this.prepareQuery(J.query,ce,J.additionalProjections),Nt=le(Ce),Lt=(0,X.SQ)(ce,Nt);T(J.mappings),J.highVolumeOverride&&(zt=Me.High),Lt.mapping.categorical&&function(Re,J){var Ce=new class{constructor(it){this.indicesByName=it}visitRole(it,yt){if(!_.isEmpty(it.items)){var Nt;for(var Lt of it.items)Lt.scalarKeyInfo&&null!=Lt.scalarKeyInfo.scalarKeyQueryName&&(t.Y.assert(()=>null==Nt,"Only a single role item with a scalar key is supported."),Nt=Lt.scalarKeyInfo.scalarKeyQueryName);Nt&&(t.Y.assert(()=>null==this.primaryScalarKey,"Only a single scalar key is supported."),this.primaryScalarKey=this.indicesByName[Nt])}}}(J);(0,p.o4)(Re,Ce),null!=Ce.primaryScalarKey&&(0,p.o4)(Re,{visitRole:()=>{},visitReduction:ze=>{ze.binnedLineSample&&(ze.binnedLineSample.primaryScalarKey=Ce.primaryScalarKey)}})}(Lt.mapping,Nt);var Qt,Tt,Yt=function(Re,J,ce,Ce,ze,it,yt,Nt,Lt,zt,Yt,Qt,sr,je,Tt,Kt){var $e,nr=it;if(it)for(var ar of fe([ce],Ce))nr=nr.rewrite(ar);return it&&($e=[Re.serializeFilter(nr)]),function(Re,J,ce,Ce,ze,it,yt,Nt,Lt,zt,Yt,Qt,sr,je,Tt,Kt){return It(()=>new re(Re,ce,Yt,je,Tt),Re,J,ce,Ce,ze,it,yt,Nt,Lt,zt,Qt,sr,Kt)}(J,ce,Ce,ze,$e,yt,Nt,Lt,zt,Re,Yt,Qt,sr,je,Tt,Kt)}(this.serializer,Nt,Lt.mapping,Ce.select(),yt,J.highlightFilter,J.restartToken,Ce.groupBy(),zt,J.expansionStates,J.keepProjectionOrder,J.noDefaultProjections,J.windowExpansion,this.featureSwitches,J.projectVisualCalculationContext,J.projectVisualCalculationContext?J.rolesWithHierarchicalGroupingSupport:[]);if((0,u.GK)(Yt,ze,Lt.mapping,Ce.select(),Me.Default,zt),this.queryHasMeasureFilter(Ce)&&Yt&&(this.processTargetsForMeasureFilters(Ce,ze,Yt),Ce=this.adjustQueryMeasureFilters(Ce,Yt)),this.featureSwitches?.visualTopN&&Yt&&(Ce=this.applySubquerySortOrder(Ce,Yt)),Ce.hasVisualCalculations()){var sr,je=J.visualShapeMappings;_.isEmpty(je)?sr=Lt.mapping:(T(je),sr=je[0]),Qt=function(Re,J,ce,Ce,ze,it,yt,Nt,Lt,zt,Yt,Qt){return It(()=>new Ae(Ce),J,ce,Ce,ze,[],it,yt,Nt,Lt,Re,zt,Yt,Qt)}(this.serializer,Nt,sr,Ce.select(),yt,J.restartToken,Ce.groupBy(),zt,J.expansionStates,J.noDefaultProjections,J.windowExpansion,J.rolesWithHierarchicalGroupingSupport)}if(J.queryExtensionLookup){var Kt=J.queryExtensionLookup(Ce,it);Ce=Kt.query,Tt=Kt.extensions,it=Kt.queryRewrites}return{query:Ce,queryExtensionSchema:Tt,mergedQueries:Lt,dataShapeBinding:Yt,compiledDataViewMappings:ze,queryRewrites:it,visualShape:Qt}}hasAmbiguousEqualitySemantics(J){return t.Y.assertValue(J,"value"),(0,i.aI)(J,(0,E.zM)(!1))||(0,i.aI)(J,(0,E.nd)(0))}prepareQuery(J,ce,Ce){for(var ze of(t.Y.assertValue(J,"query"),t.Y.assertValue(ce,"mappings"),t.Y.assertAnyValue(Ce,"additionalProjections"),fe(ce,J.select())))J=J.rewrite(ze);var it=this.rewriteQuery(J,ce,Ce);return it.query=function(Re){t.Y.assertValue(Re,"query");for(var ce,J=Re.select(),Ce=J.length-1;Ce>=0;Ce--)(0,a.VO)(J[Ce].expr)&&(J.splice(Ce,1),ce=!0);return ce?Re.select(J):Re}(it.query),it}rewriteQuery(J,ce,Ce){t.Y.assertValue(ce,"mappings");var ze={query:J,mappings:ce,additionalProjections:Ce};return function(Re,J=!1){t.Y.assertValue(Re,"rewrittenQuery");var ce=[],Ce=function(Re){if(t.Y.assertNonEmpty(Re,"mappings"),!(Re.length>1)&&Re[0].matrix){var J=Re[0].matrix,ce=new Oe(p.Oc.MatrixRowsGroup);(0,p.ms)(J.rows,ce);var Ce=new Oe(p.Oc.MatrixColumnsGroup);(0,p._y)(J.columns,Ce);var ze=[...ce.scopeRefs,...Ce.scopeRefs],it=new he(ze,p.Oc.MatrixIntersection);(0,p.fI)(J.values,it);var yt=new he(ce.scopeRefs,p.Oc.MatrixRowsScopedValue);return(0,p.ms)(J.rows,yt),{groupingRefsByRole:{...ce.queryRefsByRole,...Ce.queryRefsByRole},roleItemsInfo:[...it.rolesMeasures,...yt.rolesMeasures]}}t.Y.assert(()=>Re.length<=1||null==Re[0].matrix&&null==Re[1].matrix,"Not expected having two mappings with matrix")}(Re.mappings);if(!Ce)return Re;if(ce.push(...Ce.roleItemsInfo),J&&!_.isEmpty(Re.additionalProjections)){var ze=Re.query.select();for(var it of Re.additionalProjections)ce.push(new At(it,ze,Ce.groupingRefsByRole))}return _.isEmpty(ce)||(Re=function(Re,J){for(var ce=0;ce<Re.length;ce++)for(var Ce=Re[ce],ze=0;ze<ce;ze++)Ce.conflictsWith(Re[ze])&&(J=we(Ce,J));return J}(ce,Re)),Re}(ze=function(Re){t.Y.assertValue(Re,"item");var J=Re.mappings;if(1!==J.length)return Re;var ce=function(Re){var J,ce;if(t.Y.assertValue(Re,"mapping"),(0,p.o4)(Re,{visitRole:Ce=>{if(Ce.aggregates&&!_.isEmpty(Ce.items)){for(var ze of(J||(J={},ce=[]),Ce.items))J[ze.queryName]=Ce.aggregates;ce.push(Ce)}}}),J)return{queryNames:J,roles:ce}}(J[0]);if(!ce)return Re;var Ce=Re.queryRewrites;return Ce||(Ce=Re.queryRewrites=[]),function(Re,J,ce){t.Y.assertValue(Re,"item"),t.Y.assertValue(J,"aggregatedQueryNames"),t.Y.assertValue(ce,"queryRewrites");var Ce=Re.query.select();for(var ze in J){var it=Ce.withName(ze).expr,yt=J[ze],Nt={};yt.min&&(Nt.min=ne(Re,(0,E.QD)(it,A.Sn.Min))),yt.max&&(Nt.max=ne(Re,(0,E.QD)(it,A.Sn.Max))),ce.push({aggregatesAdded:{originalQueryRef:ze,aggregates:Nt}})}}(Re,ce.queryNames,Ce),function(Re){t.Y.assertValue(Re,"aggregatedColumns");var J=Re.queryNames;for(var ce of Re.roles)t.Y.assertValue(ce.items,"role.items"),_.remove(ce.items,Ce=>J[Ce.queryName])}(ce),Re}(ze=function(Re){t.Y.assertValue(Re,"item");var J=Re.mappings.length;if(1===J)return Re;if(J>1){var ce=function(Re){var{query:J,mappings:ce,additionalProjections:Ce,queryRewrites:ze}=Re;t.Y.assertValue(J,"query"),t.Y.assertNonEmpty(ce,"mappings");var Qt,it=[],yt=[],Nt={by:null,select:[]},Lt={categories:{select:it},values:{group:Nt,select:yt}},zt={},Yt=function(){if(!sr.categorical)return{v:void 0};var Ut=sr.categorical;(function(Re,J,ce,Ce,ze){var yt,it=Re.values;it&&((0,p.Ax)(Re.categories,{visitRole:Nt=>{We(ce,Nt)}}),(0,p.Cn)(it,{visitRole:Nt=>{if(ze.by=Nt,Nt.items)for(var Lt of Nt.items)He(J,Nt.role,Lt,!0),yt=!0}}),(0,p.AS)(it,{visitRole:(Nt,Lt)=>{if(We(Lt===p.Oc.CategoricalValueGroup?ze.select:Ce,Nt),Nt.items)for(var Yt of Nt.items)He(J,Nt.role,Yt,yt)}}))})(Ut,zt,it,yt,Nt),t.Y.assert(()=>null==Lt.dataVolume||null==Ut.dataVolume||Ut.dataVolume===Lt.dataVolume,"If multiple dataVolumes are applied, they must match identically.  Otherwise, only the first dataVolume is taken."),null!=Ut.dataVolume&&null==Lt.dataVolume&&(Lt.dataVolume=Ut.dataVolume)};for(var sr of ce)if(Qt=Yt())return Qt.v;var je=ze?[...ze]:[],Tt=J;for(var Kt in zt){var nr=zt[Kt];if(!_.isEmpty(nr.categoryAndValueGroup)&&!_.isEmpty(nr.categoryOnly))for(var ar of nr.categoryAndValueGroup){var $e=ar.roleItem,pt=Q(Tt,$e.queryName,ar.roleName);$e.queryName=pt.newQueryName,Tt=pt.newQuery,je.push(...pt.rewriteRecords)}}return{query:Tt,mappings:[{metadata:ce[0].metadata,categorical:Lt}],queryRewrites:_.isEmpty(je)?void 0:je,additionalProjections:Ce}}(Re);return ce=function(Re){if(_.isEmpty(Re.additionalProjections))return Re;var{query:J,mappings:ce,queryRewrites:Ce}=Re,ze=[...Re.additionalProjections];t.Y.assertValue(J,"query"),t.Y.assert(()=>1===ce.length,"Mappings should have been merged already");for(var it=L.findActive(ce[0]),yt=Ce?[...Ce]:[],Nt=J,Lt=0;Lt<ze.length-1;Lt++)for(var zt=ze[Lt],Yt=Lt+1;Yt<ze.length;Yt++){var Qt=ze[Yt];if(ue(zt,Qt,Nt.select(),it)){var sr=Q(Nt,Qt.queryName);Nt=sr.newQuery,yt.push(...sr.rewriteRecords??[]),ze[Yt]={...Qt,queryName:sr.newQueryName}}}return{query:Nt,mappings:ce,queryRewrites:_.isEmpty(yt)?void 0:yt,additionalProjections:ze}}(ce),ce}}(ze)),!0)}adjustIntersectionDataReduction(J,ce,Ce,ze){if(ce.categorical){var it=ce.categorical;if(it.dataReductionAlgorithm)if(J.DataReduction&&J.DataReduction.Intersection)t.Y.assert(()=>!(J.Secondary&&!J.Primary),"Should never have only a Secondary axis"),J.Primary&&!J.Secondary&&(t.Y.assert(()=>!J.DataReduction.Primary,"Should not have both Primary and Intersection data reduction"),J.DataReduction.Primary=J.DataReduction.Intersection,J.DataReduction.Intersection=void 0);else{var yt=J.Primary&&(!J.DataReduction||!J.DataReduction.Primary),Nt=J.Secondary&&(!J.DataReduction||!J.DataReduction.Secondary);if(!yt&&!Nt)return;J.DataReduction||(J.DataReduction={DataVolume:it.dataVolume||(ze?Me.High:Me.Default)}),yt&&(J.DataReduction.Primary=(0,n.R)(it.dataReductionAlgorithm,Ce.select())),Nt&&(J.DataReduction.Secondary=(0,n.R)(it.dataReductionAlgorithm,Ce.select()))}}}applyDataReductionForGroupByQuery(J,ce){J.DataReduction={},J.DataReduction.Primary=(0,n.R)({top:{count:1e3}},ce.select())}generateScriptVisualCommand(J,ce){t.Y.assertValue(J,"dataViewMappings");var Ce=(0,v.aM)(J);if(Ce||(Ce=(0,v.jG)(J)),!Ce)return null;var ze={Version:N.Version0,Script:Ce.source,RenderingEngine:Ce.provider,ScriptOutputType:Ce.outputType};ce&&ce.height&&ce.width&&(ze.ViewportWidthPx=ce.width,ze.ViewportHeightPx=ce.height);var it=(0,v.Ol)(J);return it&&it.script.scriptInput&&(ze.ScriptInput=it.script.scriptInput),{ScriptVisualCommand:ze}}queryHasMeasureFilter(J){for(var ce of J.where())if((0,m.m)(ce.condition)===c.l0.Measure)return!0;return!1}removeExprFromTargetExprs(J,ce){for(var Ce of J){var ze=Ce.target;if(null!=ze)for(var it=0,yt=ze.length;it<yt;it++)(0,i.aI)(ze[it],ce)&&ze.splice(it,1)}}processTargetsForMeasureFilters(J,ce,Ce){t.Y.assertValue(J,"query"),t.Y.assertValue(ce,"mappings"),t.Y.assertAnyValue(Ce,"binding");var ze=this.getProjectedSelectIndexMap(Ce);for(var it of ce)(0,p.o4)(it,{visitRole:yt=>{var Nt=yt.activeItems,Lt=yt.items;if(Nt&&!_.isEmpty(Nt)&&!_.isEmpty(Lt))for(var zt=_.findIndex(Lt,Kt=>_.includes(Nt,Kt.queryName)),Yt=0;Yt<zt;Yt++){var Qt=Lt[Yt].queryName,sr=J.select(),je=(0,r.i4)(sr,Qt);if(!ze[je]){var Tt=sr[je].expr;this.removeExprFromTargetExprs(J.where(),Tt)}}}})}adjustQueryMeasureFilters(J,ce){var Ce=J.where(),ze=[],it=[];if(_.isEmpty(ce.Primary.Groupings)||_.isEmpty(ce.Primary.Groupings[0].Projections)||!_.isEmpty(ce.Secondary))return J;var yt=J.select(),Nt=ce.Primary.Groupings[0].Projections;for(var Lt of Nt)if(!(0,Se.t)(yt[Lt].expr))return J;for(var Yt of Ce)_.isEmpty(Yt.target)?it.push(Yt):ze.push(Yt);if(_.isEmpty(ze))return J;var Qt=J.createModified({where:it}),sr=g.b0.fromMeasureFilters(J,ze,ce);return Qt.addSemanticFilter(sr)}getProjectedSelectIndexMap(J){return t.Y.assertAnyValue(J,"binding"),J?_.chain([J.Primary,J.Secondary]).filter(Ce=>Ce&&!_.isEmpty(Ce.Groupings)).map(Ce=>Ce.Groupings).flatten().filter(Ce=>!_.isEmpty(Ce.Projections)).map(Ce=>Ce.Projections).flatten().reduce((Ce,ze)=>(Ce[ze]=!0,Ce),{}).value():{}}createDataQuery(J,ce,Ce,ze,it,yt,Nt,Lt,zt){var Yt={Query:this.serializer.serializeQuery(J),Binding:ze,AnchorTime:Lt};ce&&(Yt.Extension=ce),Ce&&(Yt.DataSourceVariables=Ce),Nt&&(Yt.ExecutionMetricsKind=Nt);var sr={Commands:[{SemanticQueryDataShapeCommand:Yt}]},je=this.generateScriptVisualCommand(it,yt);return je&&sr.Commands.push(je),_.isEmpty(zt)||(Yt.Query.VisualShape=zt),sr}}function It(Re,J,ce,Ce,ze,it,yt,Nt,Lt,zt,Yt,Qt,sr,je){t.Y.assertValue(J,"indicesByName"),t.Y.assertValue(ce,"mapping"),t.Y.assertValue(Ce,"querySelects"),t.Y.assertAnyValue(ze,"additionalProjections"),t.Y.assertAnyValue(it,"highlightFilter"),t.Y.assertAnyValue(yt,"restartToken"),t.Y.assertAnyValue(Nt,"queryGroupBy"),t.Y.assertAnyValue(Lt,"highVolumeOverride"),t.Y.assertAnyValue(zt,"expansionStates"),t.Y.assertAnyValue(Yt,"serializer");var Tt=Re();if(Tt.withRestartToken(yt).withHighlightFilter(it).withAdditionalProjections(ze).withRolesWithHierarchicalGroupingSupport(je),ce.table?Tt=Tt.withGroupBy(Nt):t.Y.assert(()=>_.isEmpty(Nt),"GroupBy should only be used with table mapping."),ce.updateType!==o.FU.MetadataOnly)if(ce.categorical)!function(Re,J,ce){t.Y.assertValue(Re,"builder"),t.Y.assertValue(J,"mapping"),(0,p.Ax)(J.categories,{visitRole:Ce=>{Re.withPrimaryGroupingNestedByRole(Ce.items,Ce.activeItems,Ce.showAll,Ce.subtotalType,!0,ce,Ce.role)},visitReduction:Ce=>{Re.withPrimaryDataReduction(Ce)}}),(0,p.Cn)(J.values,{visitRole:Ce=>{Re.withSecondaryGroupingNestedByRole(Ce.items,Ce.activeItems,Ce.showAll,Ce.subtotalType,ce,Ce.role)},visitReduction:Ce=>{Re.withSecondaryDataReduction(Ce)}}),(0,p.AS)(J.values,{visitRole:(Ce,ze)=>{Re.withCurrentInnermostPrimaryGrouping(Ce.items,Ce.showAll,Ce.subtotalType,ze!==p.Oc.CategoricalValueGroup)}}),Re.withIntersectionDataReduction(J.dataReductionAlgorithm).withDataVolume(J.dataVolume).withIncludeEmptyGroups(J.includeEmptyGroups)}(Tt,ce.categorical,Qt);else if(ce.table)!function(Re,J){t.Y.assertValue(Re,"builder"),t.Y.assertValue(J,"mapping"),(0,p.UB)(J,{visitRole:ce=>{Re.withPrimaryGroupingNestedByRole(ce.items,ce.activeItems,ce.showAll,ce.subtotalType,!0,!1,ce.role)},visitReduction:ce=>{Re.withPrimaryDataReduction(ce)}}),Re.withDataVolume(J.dataVolume)}(Tt,ce.table);else if(ce.matrix)!function(Re,J,ce,Ce,ze){t.Y.assertValue(Re,"builder"),t.Y.assertValue(J,"mapping");var it=new ut(Re,Ce);(0,p.ms)(J.rows,it),t.Y.assert(()=>!ce||ce.length<=1,"Expected max one expansion state");var yt=function(Re,J,ce,Ce,ze){if(null!=Re&&(t.Y.assertValue(Re,"items"),t.Y.assertAnyValue(J,"activeProjections"),!(_.isEmpty(Ce)||_.isEmpty(J)&&ze))){var it=_.find(Ce,Lt=>_.isEqual(Lt.roles,ce));if(t.Y.assertValue(it,"Expansion state should have been found since only 1 is supported"),!_.isEmpty(it.levels))return Re=_.uniqBy(Re,Lt=>Lt.queryName),J=_.uniq(J),O(it,(_.isEmpty(J)?Re.length:J.length)-1)}}(it.primaryRoleItems,it.primaryActiveRoleItems,it.primaryRoles,ce,Ce);yt&&Re.withPrimaryExpansion(yt),ze&&Re.withPrimaryWindowExpansion(ze),(0,p._y)(J.columns,{visitRole:Nt=>{Re.withSecondaryGroupingNested(Nt.items,Nt.activeItems,Nt.showAll,Nt.subtotalType,Ce)},visitReduction:Nt=>{Re.withSecondaryDataReduction(Nt)}}),(0,p.fI)(J.values,{visitRole:Nt=>{Re.withCurrentInnermostGrouping(Nt.items,Nt.showAll,Nt.subtotalType)}}),Re.withDataVolume(J.dataVolume),Re.withIncludeEmptyGroups(J.includeEmptyGroups)}(Tt,ce.matrix,zt,Qt,sr);else if(ce.tree)!function(Re,J,ce){t.Y.assertValue(Re,"builder"),t.Y.assertValue(J,"mapping"),(0,p.XB)(J.nodes,{visitRole:Ce=>{Re.withPrimaryGroupingNested(Ce.items,Ce.activeItems,Ce.showAll,Ce.subtotalType,ce)},visitReduction:Ce=>{Re.withPrimaryDataReduction(Ce)}}),(0,p.gO)(J.values,{visitRole:Ce=>{Re.withCurrentInnermostPrimaryGrouping(Ce.items,Ce.showAll,Ce.subtotalType)}}),Re.withDataVolume(J.dataVolume)}(Tt,ce.tree,Qt);else if(ce.scriptResult)return It(Re,J,ce.scriptResult.dataInput,Ce,ze);return Lt&&Tt.withDataVolume(Lt),Tt.withTopLevelAggregates(ce.scopedAggregates),Tt.toQueryShape(ce)}class ut{constructor(J,ce){this.inComposite=!1,this.startedCompositeNest=!1,this.builder=J,this.noDefaultProjections=ce}visitRole(J,ce){if(ce===p.Oc.MatrixRowsScopedValue)this.builder.withCurrentInnermostPrimaryGrouping(J.items,J.showAll,J.subtotalType,!0);else if(this.inComposite){var Ce=this.startedCompositeNest;this.startedCompositeNest=!0,this.builder.withPrimaryGroupingNestedByRole(J.items,J.activeItems,J.showAll,J.subtotalType,Ce,this.noDefaultProjections,J.role)}else this.builder.withPrimaryGroupingNested(J.items,J.activeItems,J.showAll,J.subtotalType,this.noDefaultProjections);this.primaryRoleItems||(this.primaryRoleItems=[]),this.primaryRoles||(this.primaryRoles=[]),this.primaryRoles.push(J.role),this.primaryRoleItems.push(...J.items||[]),_.isEmpty(J.activeItems)||(this.primaryActiveRoleItems||(this.primaryActiveRoleItems=[]),this.primaryActiveRoleItems.push(...J.activeItems||[]))}visitReduction(J){this.builder.withPrimaryDataReduction(J)}enterComposite(J){this.inComposite=!0,this.startedCompositeNest=!1,this.compositeGroupingIndexStart=this.builder.primaryGroupingCount}exitComposite(J){if(this.inComposite=!1,this.startedCompositeNest=!1,J.dataReductionAlgorithm||J.synchronized){var ce=this.compositeGroupingIndexStart,Ce=this.builder.primaryGroupingCount;if(ce<Ce){var ze=_.range(ce,Ce);J.synchronized&&this.builder.withPrimarySynchronization({Groupings:ze}),J.dataReductionAlgorithm&&this.builder.withScopedDataReduction(J.dataReductionAlgorithm,{Primary:ze})}}}}function le(Re){t.Y.assertValue(Re,"query");for(var J={},ce=Re.select(),Ce=Re.groupBy(),ze=0,it=ce.length;ze<it;ze++)J[ce[ze].name]=ze;for(var yt=0,Nt=Ce.length;yt<Nt;yt++)J[Ce[yt].name]=yt;return J}function me(Re,J){if(t.Y.assertValue(Re,"projectionIdx"),t.Y.assertAnyValue(J,"axis"),J)for(var ce of J.Groupings)if(_.includes(ce.Projections,Re))return!0}function Ke(Re){t.Y.assertValue(Re,"percentile");var J={K:Re.k};return Re.exclusive&&(J.Exclusive=Re.exclusive),{Percentile:J}}class re{get primaryGroupingCount(){return this.primary&&this.primary.Groupings&&this.primary.Groupings.length||0}constructor(J,ce,Ce,ze,it){this.projectVisualCalculationContext=it,t.Y.assertValue(J,"indicesByName"),t.Y.assertValue(ce,"querySelects"),this.indicesByName=J,this.querySelects=ce,this.reduction={DataVolume:Me.Default},this.joinPredicateBehaviors=[],this.insertProjection=Ce?r.nO:r.h8,this.featureSwitches=ze||{},this.hiddenProjections=[]}withRestartToken(J){return t.Y.assertAnyValue(J,"restartToken"),this.restartToken=J,this}withPrimaryWindowExpansion(J){return t.Y.assertAnyValue(J,"windowExpansion"),this.reduction.Primary&&this.reduction.Primary.TopNPerLevel&&(this.reduction.Primary.TopNPerLevel.WindowExpansion=U(J)),this}withDataVolume(J){return t.Y.assertAnyValue(J,"dataVolume"),null==J||(this.reduction.DataVolume=J),this}withIncludeEmptyGroups(J){return t.Y.assertAnyValue(J,"value"),this.includeEmptyGroups=J,this}withHighlightFilter(J){return t.Y.assertAnyValue(J,"value"),this.highlightFilter=J,this}withGroupBy(J){return t.Y.assertAnyValue(J,"queryGroupBy"),_.isEmpty(J)||(this.groupByNames=_.map(J,ce=>ce.name)),this}withPrimaryGrouping(J,ce,Ce,ze,it,yt){if(t.Y.assertAnyValue(J,"items"),t.Y.assertAnyValue(ce,"activeProjection"),t.Y.assertAnyValue(Ce,"showAll"),t.Y.assertAnyValue(ze,"roleSubtotalType"),t.Y.assert(()=>!this.secondary,"DataShapeBindingBuilder is sequence dependent -- must not add primary items after secondary items."),J=this.filterItems(J,ce,yt),_.isEmpty(J))return this;var Nt;this.primary?it?Nt=_.last(this.primary.Groupings):this.primary.Groupings.push(Nt={Projections:[]}):this.primary={Groupings:[Nt={Projections:[]}]},this.updateGrouping(Nt,J,Ce,ze);var Lt=this.getAggregatesForRoleItems(J);return this.applyTopLevelAggregates(Lt),this}withPrimaryExpansion(J){return t.Y.assertAnyValue(J,"expansion"),this.ensurePrimaryAxis(),this.primary.Expansion=J,this}withPrimarySynchronization(J){return t.Y.assertValue(J,"synchronization"),this.ensurePrimaryAxis(),this.primary.Synchronization||(this.primary.Synchronization=[]),this.primary.Synchronization.push(J),this}ensurePrimaryAxis(){this.primary||(this.primary={Groupings:[]})}ensureSecondaryAxis(){this.secondary||(this.secondary={Groupings:[]})}withPrimaryGroupingNested(J,ce,Ce,ze,it){return t.Y.assertAnyValue(J,"items"),t.Y.assertAnyValue(ce,"activeProjection"),t.Y.assertAnyValue(Ce,"showAll"),t.Y.assertAnyValue(ze,"roleSubtotalType"),t.Y.assert(()=>!this.secondary,"DataShapeBindingBuilder is sequence dependent -- must not add primary items after secondary items."),J=this.filterItems(J,ce,it),_.isEmpty(J)?this:(this.primary||(this.primary={Groupings:[]}),this.withNested(this.primary.Groupings,J,Ce,ze))}withSecondaryGrouping(J,ce,Ce,ze,it){if(t.Y.assertAnyValue(J,"items"),t.Y.assertAnyValue(ce,"activeProjection"),t.Y.assertAnyValue(Ce,"showAll"),t.Y.assertAnyValue(ze,"roleSubtotalType"),J=this.filterItems(J,ce,it),_.isEmpty(J))return this;var yt;if(this.primary){var Nt=_.last(this.primary.Groupings);this.containsAll(Nt,J)?yt=Nt:(this.secondary||(this.secondary={Groupings:[]}),this.secondary.Groupings.push(yt={Projections:[]}))}else this.primary={Groupings:[yt={Projections:[]}]},this.pivotedSecondaryToPrimary=!0;this.updateGrouping(yt,J,Ce,ze);var Lt=this.getAggregatesForRoleItems(J);return this.applyTopLevelAggregates(Lt),this}withSecondaryExpansion(J){return t.Y.assertAnyValue(J,"expansion"),this.ensureSecondaryAxis(),this.secondary.Expansion=J,this}withSecondaryGroupingNested(J,ce,Ce,ze,it){return t.Y.assertAnyValue(J,"items"),t.Y.assertAnyValue(Ce,"showAll"),t.Y.assertAnyValue(ze,"roleSubtotalType"),J=this.filterItems(J,ce,it),_.isEmpty(J)?this:(this.primary?(this.secondary||(this.secondary={Groupings:[]}),yt=this.secondary.Groupings):(this.primary={Groupings:yt=[]},this.pivotedSecondaryToPrimary=!0),this.withNested(yt,J,Ce,ze));var yt}withCurrentInnermostGrouping(J,ce,Ce){return t.Y.assertAnyValue(J,"items"),t.Y.assertAnyValue(ce,"showAll"),t.Y.assertAnyValue(Ce,"roleSubtotalType"),J=this.filterItems(J,null,!1),_.isEmpty(J)||(this.secondary&&(ze=_.last(this.secondary.Groupings)),this.addValuesToGrouping(J,ce,Ce,ze)),this;var ze}withCurrentInnermostPrimaryGrouping(J,ce,Ce,ze){if(t.Y.assertAnyValue(J,"items"),t.Y.assertAnyValue(ce,"showAll"),t.Y.assertAnyValue(Ce,"roleSubtotalType"),J=this.filterItems(J,null,!1),_.isEmpty(J))return this;if(this.addValuesToGrouping(J,ce,Ce),ze)for(var it of(this.primaryOnlyProjections=this.primaryOnlyProjections||[],J))this.primaryOnlyProjections.push(this.indicesByName[it.queryName]);return this}addValuesToGrouping(J,ce,Ce,ze){ze||(ze=this.ensureInnermostPrimaryGrouping()),this.updateGrouping(ze,J,ce,Ce);var it=this.getAggregatesForRoleItems(J);this.applyTopLevelAggregates(it)}ensureInnermostPrimaryGrouping(){var J;return this.primary?J=_.last(this.primary.Groupings):this.primary={Groupings:[J={Projections:[]}]},J}withPrimaryDataReduction(J){return J&&this.primary?(this.reduction.Primary=(0,n.R)(J,this.querySelects),this):this}withScopedDataReduction(J,ce){return J?(this.reduction.Scoped||(this.reduction.Scoped=[]),this.reduction.Scoped.push({Scope:ce,Algorithm:(0,n.R)(J,this.querySelects)}),this):this}withSecondaryDataReduction(J){if(this.pivotedSecondaryToPrimary)return this.withPrimaryDataReduction(J);if(!J||!this.secondary)return this;if(this.reduction.Scoped&&!_.isEmpty(this.secondary.Groupings)){var Ce=_.range(0,this.secondary.Groupings.length);return this.withScopedDataReduction(J,{Secondary:Ce}),this}return this.reduction.Secondary=(0,n.R)(J,this.querySelects),this}withIntersectionDataReduction(J){return J?this.reduction.Primary||this.reduction.Secondary?(t.Y.assertFail("Should not have both Intersection and Primary or Secondary data reduction algorithm."),this):J.binnedLineSample?(this.reduction.Intersection=(0,n.R)(J,this.querySelects),this):this:this}withTopLevelAggregates(J){if(!this.featureSwitches.scopedAggregates)return this;if(_.isEmpty(J))return this;var Ce=this.convertDataViewMappingAggregate(J,it=>this.toAggregateScope(it,this.primary.Groupings,0)),ze=this.getDataShapeBindingAggregates(Ce);return this.applyTopLevelAggregates(ze),this}toAggregateScope(J,ce,Ce){t.Y.assertValue(J,"scopeAsQueryNames"),t.Y.assertValue(ce,"primaryGroupings");var ze=0,it=this.querySelects;for(var yt of ce){if(!_.isEmpty(yt.ShowItemsWithNoData))return;var zt,Nt=yt.Projections,Lt=function(){var Qt=it[Yt];if((0,Se.t)(Qt.expr))return 0;var sr=Qt.name;return J.some(je=>je===sr)?void 0:ze>Ce?{v:{PrimaryDepth:ze}}:{v:void 0}};for(var Yt of Nt)if(0!==(zt=Lt())&&zt)return zt.v;ze++}if(ze>Ce)return{PrimaryDepth:ze}}updateScopeAggregatesForGroupings(J,ce){if(this.featureSwitches.scopedAggregates&&ce&&J){var ze=0;for(var it of ce){var yt=it.aggregates&&it.aggregates.filter(l.C5);if(!_.isEmpty(yt)){var Nt=this.convertDataViewMappingAggregate(yt,zt=>this.toAggregateScope(zt,J,ze+1)),Lt=this.getDataShapeBindingAggregates(Nt);_.isEmpty(Lt)||(J[ze].Aggregates=Lt),ze++}}}}getDataShapeBindingAggregates(...J){var ce={};for(var Ce of J)_.forEach(Ce,(ze,it)=>{var yt=ce[it]=ce[it]||[],Nt=function(zt){yt.some(Yt=>_.isEqual(Yt,zt))||yt.push(zt)};for(var Lt of ze)Nt(Lt)});return _.map(ce,(ze,it)=>({Select:+it,Aggregations:ze}))}updateGrouping(J,ce,Ce,ze){t.Y.assertValue(J,"grouping"),t.Y.assertNonEmpty(ce,"items"),t.Y.assertAnyValue(Ce,"showAll"),t.Y.assertAnyValue(ze,"roleSubtotalType"),this.addProjections(J.Projections,ce);var it=this.indicesByName;if(Ce)for(var yt of(J.ShowItemsWithNoData||(J.ShowItemsWithNoData=[]),ce))this.insertProjection(J.ShowItemsWithNoData,it[yt.queryName]);for(var Nt=ce[0].subtotalType,Lt=1,zt=ce.length;Lt<zt;Lt++)if(ce[Lt].subtotalType!==Nt){Nt=void 0;break}var Yt=function(Re){switch(Re){case d.y.Before:return s.LV.Before;case d.y.After:return s.LV.After;case d.y.None:return}}(Nt??ze);null!=Yt?J.Subtotal=Yt:this.projectVisualCalculationContext&&(J.Subtotal=s.LV.After);var Qt=this.groupByNames;Qt&&(J.GroupBy=_.map(Qt,sr=>it[sr]))}withNested(J,ce,Ce,ze){for(var it of(t.Y.assertValue(J,"groupings"),t.Y.assertValue(ce,"items"),t.Y.assertAnyValue(Ce,"showAll"),t.Y.assertAnyValue(ze,"roleSubtotalType"),ce)){var yt={Projections:[]};this.updateGrouping(yt,[it],Ce,ze),J.push(yt)}this.updateScopeAggregatesForGroupings(J,ce);var Nt=this.getAggregatesForRoleItems(ce);return this.applyTopLevelAggregates(Nt),this}filterItems(J,ce,Ce){if(t.Y.assertAnyValue(J,"items"),t.Y.assertAnyValue(ce,"activeProjection"),!_.isEmpty(J)){J=_.uniqBy(J,Qt=>Qt.queryName);var it,ze=this.indicesByName;ce&&(it=[]);for(var yt=0,Nt=J.length;yt<Nt;yt++){var Lt=J[yt],zt=null,Yt=ce&&!_.isEmpty(ce)&&!_.includes(ce,Lt.queryName);null==ze[Lt.queryName]?zt=yt-1:(Yt||this.isReferenced(Lt))&&(zt=yt),null==zt?it&&it.push(Lt):it||(it=zt<0?[]:(0,r.y1)(J,0,zt))}return it||(Ce?[]:J)}}isReferenced(J){t.Y.assertValue(J,"item");var ce=this.indicesByName[J.queryName];return me(ce,this.primary)||me(ce,this.secondary)||_.includes(this.projections,ce)}containsAll(J,ce){t.Y.assertValue(J,"grouping"),t.Y.assertValue(ce,"items");var Ce=J.Projections,ze=this.indicesByName;for(var it of ce)if(!_.includes(Ce,ze[it.queryName]))return!1;return!0}addProjections(J,ce){t.Y.assertValue(J,"projections"),t.Y.assertValue(ce,"items");var Ce=this.indicesByName;for(var ze of ce){var it=Ce[ze.queryName];ze.hidden&&this.hiddenProjections.push({QueryReference:{ExpressionName:ze.queryName}}),this.insertProjection(J,it),this.addJoinPredicateBehavior(it,ze.joinPredicate)}}addJoinPredicateBehavior(J,ce){this.joinPredicateBehaviors[J]?void 0===ce&&!this.joinPredicateBehaviors[J].isFinalized&&(this.joinPredicateBehaviors[J].behavior=ce):this.joinPredicateBehaviors[J]={behavior:ce}}withRolesWithHierarchicalGroupingSupport(J){return t.Y.assertAnyValue(J,"rolesWithHierarchicalGroupingSupport"),_.isEmpty(J)||(this.rolesWithHierarchicalGroupingSupport=J),this}withPrimaryGroupingNestedByRole(J,ce,Ce,ze,it,yt,Nt){return this.isRoleSupportHierachryGrouping(Nt)?this.withPrimaryGroupingNested(J,ce,Ce,ze,yt):this.withPrimaryGrouping(J,ce,Ce,ze,it,yt)}isRoleSupportHierachryGrouping(J){return this.rolesWithHierarchicalGroupingSupport&&this.rolesWithHierarchicalGroupingSupport.includes(J)}withSecondaryGroupingNestedByRole(J,ce,Ce,ze,it,yt){var Nt=_.filter(J,Lt=>!Lt.hidden);return this.isRoleSupportHierachryGrouping(yt)?this.withSecondaryGroupingNested(Nt,ce,Ce,ze,it):this.withSecondaryGrouping(Nt,ce,Ce,ze,it)}withAdditionalProjections(J){return t.Y.assertAnyValue(J,"additionalProjections"),_.isEmpty(J)||(this.additionalProjections=J),this}applyAdditional(J){var ce=this,Ce=this.querySelects,ze=this.additionalProjections,it=L.findActive(J);if(!_.isEmpty(ze)){var yt=this.primary,Nt=this.secondary,Lt=this.projections,zt=function(){var sr=(0,h.PO)(Qt.selector?.data,Ce,it),je=ce.featureSwitches.rowHierarchySelector&&Qt.selector?.hierarchyMatching===pe.v.Partial;t.Y.assert(()=>void 0!==sr,"scopeRefs !== undefined");var Tt=ce.indicesByName[Qt.queryName],Kt=ce.convertProjectionAggregates(Tt,Qt.aggregates);if(Kt&&ce.applyTopLevelAggregates([Kt]),null===sr)return Qt.aggregates||(Lt||(ce.projections=Lt=[]),ce.insertProjection(Lt,Tt),ce.addJoinPredicateBehavior(Tt,Qt.joinPredicate)),0;var nr=_.map(sr,vr=>ce.indicesByName[vr]),ar=Nt&&!_.isEmpty(Nt.Groupings),$e=!!J.categorical&&ar,pt=$e?Nt:yt,Ut=$e?yt:Nt,$t=nr.length,er=yt&&ce.addAdditional(Tt,nr,pt,je);er&&ar&&pt===yt&&ce.addSuppressedProjection(_.last(Nt.Groupings),Tt);var or=nr.length;er||(er=ar&&ce.addAdditional(Tt,nr,Ut,je))&&Ut===yt&&$t===or&&ce.addSuppressedProjection(_.last(Nt.Groupings),Tt),er&&ce.addJoinPredicateBehavior(Tt,Qt.joinPredicate)};for(var Qt of ze)zt()}}addAdditional(J,ce,Ce,ze){t.Y.assertValue(J,"projectionIdx"),t.Y.assertNonEmpty(ce,"remainingScopeRefs"),t.Y.assertValue(Ce,"axis"),t.Y.assertNonEmpty(Ce.Groupings,"groupings");for(var Nt,it=Ce.Groupings,yt=!1,Lt=0;Lt<it.length;Lt++)if(Nt=it[Lt],yt)this.addSuppressedProjection(Nt,J);else if(_.remove(ce,zt=>_.includes(Nt.Projections,zt)),0===ce.length){if(!this.isProjectingOnNonLeafGrouping(Lt,Ce,ze))return this.insertProjection(_.last(it).Projections,J),!0;this.insertProjection(Nt.Projections,J),yt=!0}return yt}isProjectingOnNonLeafGrouping(J,ce,Ce){t.Y.assertValue(ce,"axis"),t.Y.assertNonEmpty(ce.Groupings,"groupings"),t.Y.assert(()=>J>=0&&J<ce.Groupings.length,"out-of-bound projection target");var it=ce.Groupings.length;return!(J===it-1||!Ce&&(2!==it||!ce.Synchronization))}addSuppressedProjection(J,ce){this.projectVisualCalculationContext&&this.featureSwitches.visualCalculationOnComboChart?this.joinPredicateBehaviors[ce]={behavior:o.gD.None,isFinalized:!0}:(t.Y.assertValue(J,"grouping"),J.SuppressedProjections||(J.SuppressedProjections=[]),this.insertProjection(J.SuppressedProjections,ce))}applyTopLevelAggregates(J){_.isEmpty(J)||(this.aggregates||(this.aggregates=[]),this.aggregates.push(...J))}getAggregatesForRoleItems(J){var ce=[];for(var Ce of J)Ce.aggregates&&ce.push(this.convertDataViewMappingAggregate(Ce.aggregates,Ce.queryName));if(!_.isEmpty(ce))return this.getDataShapeBindingAggregates(...ce)}convertDataViewMappingAggregate(J,ce){var ze,it,Ce=this;_.isFunction(ce)?t.Y.assertValue(it=ce,"Need `getAggregateScope` when aggregates are scoped"):ze=this.indicesByName[ce];var yt={},Nt=function(Yt){var Qt,sr;if((0,l.C5)(Yt)){if(!(it&&(Qt=Yt.queryName?Ce.indicesByName[Yt.queryName]:ze,sr=Yt.scope&&it(Yt.scope))))return 0}else Qt=ze;t.Y.assertValue(Qt,"aggregate must provide a queryName or a defaultQueryName must be provided");var je=yt[Qt]=yt[Qt]||[],Tt=!!sr||void 0;t.Y.assert(()=>Yt.min||Yt.max||Yt.average,"Aggregates must aggregate"),Yt.min&&je.push({Scope:sr,RespectInstanceFilters:Tt,Min:{}}),Yt.max&&je.push({Scope:sr,RespectInstanceFilters:Tt,Max:{}}),Yt.average&&je.push({Scope:sr,RespectInstanceFilters:Tt,Average:{}})};for(var zt of J)Nt(zt);return _.isEmpty(yt)?void 0:yt}convertProjectionAggregates(J,ce){if(t.Y.assertValue(J,"projectionIdx"),t.Y.assertAnyValue(ce,"aggregates"),ce){var Ce=[],ze={Select:J,Aggregations:Ce};if(ce.min&&Ce.push({Min:{}}),ce.max&&Ce.push({Max:{}}),ce.average&&Ce.push({Average:{}}),ce.median&&Ce.push({Median:{}}),ce.percentiles)for(var it of ce.percentiles)Ce.push(Ke(it));return t.Y.assert(()=>!_.isEmpty(ze.Aggregations),"Some aggregates should be added to the query if projectionAggregates will be added to the data shape binding."),ze}}suppressProjectionsIfNeeded(){if(!_.isEmpty(this.primaryOnlyProjections)&&this.secondary){var J=_.last(this.secondary.Groupings);for(var ce of this.primaryOnlyProjections)this.addSuppressedProjection(J,ce)}}toQueryShape(J){this.applyAdditional(J),this.suppressProjectionsIfNeeded();var ce=this.primary,Ce=this.projections;if(!ce){if(!Ce)return;ce={Groupings:[{Projections:Ce}]},Ce=null}var ze=this.restartToken;if(ze){var it=!1;if(this.reduction.Primary&&this.reduction.Primary.Window&&(this.reduction.Primary.Window.RestartTokens=ze,it=!0),this.reduction.Scoped){for(var yt of this.reduction.Scoped)yt.Algorithm.Window&&(t.Y.assert(()=>!it,"Only 1 scoped window is allowed at this time"),yt.Algorithm.Window.RestartTokens=ze,yt.Algorithm.Window.RestartMatchingBehavior=s.rP.IsAfter,it=!0);t.Y.assert(()=>it,"A restartToken was present but it wasn't assigned to any window.")}}var Nt={Primary:ce};this.secondary&&(Nt.Secondary=this.secondary),Ce&&(Nt.Projections=Ce),(this.reduction.Primary||this.reduction.Secondary||this.reduction.Intersection||this.reduction.Scoped)&&(Nt.DataReduction=this.reduction),this.includeEmptyGroups&&(Nt.IncludeEmptyGroups=this.includeEmptyGroups);var Lt=this.aggregates;Lt&&(Nt.Aggregates=Lt);for(var zt=[],Yt=0;Yt<this.joinPredicateBehaviors.length;Yt++)if(this.joinPredicateBehaviors[Yt]&&this.joinPredicateBehaviors[Yt].behavior===o.gD.None){var Qt=this.querySelects[Yt]?.expr;(!Qt||!(0,a.$M)(Qt))&&zt.push(Yt)}if(_.isEmpty(zt)||(Nt.SuppressedJoinPredicates=zt),!this.projectVisualCalculationContext&&!_.isEmpty(this.hiddenProjections)){var sr=_.flatMap(this.additionalProjections,je=>_.isEmpty(je.relatedQueryNames)?[je.queryName]:je.relatedQueryNames);Nt.HiddenProjections=_.filter(this.hiddenProjections,je=>!_.includes(sr,je.QueryReference.ExpressionName))}return Nt.Version=s.ES.Version1,this.highlightFilter&&(Nt.Highlights=this.highlightFilter),this.pivotedSecondaryToPrimary&&(Nt.isPivoted=this.pivotedSecondaryToPrimary),Nt}}function fe(Re,J){return[new tt,new rt(Re,J),new ot]}class tt extends D.k{visitScopedEval(J){return _.isEmpty(J.scope)?J:(0,E.bg)(J.expression,_.filter(J.scope,ce=>!(0,a.KH)(ce)))}}class ot extends D.k{visitGroupRef(J){return new E.Dw(J.source,J.ref)}}class rt extends D.k{constructor(J,ce){super(),this.mappings=J,this.selects=ce}visitScopedEval(J){var ce=this,Ce=[],ze=!1;for(var it of J.scope)if((0,a.aV)(it))for(var yt of(ze=!0,this.mappings)){var Lt=L.findActive(yt)[it.role];if(Lt){var zt=function(Qt){var sr=_.find(ce.selects,je=>je.name===Qt);sr&&Ce.push(sr.expr)};for(var Yt of Lt)zt(Yt)}}else Ce.push(it);return ze?(0,E.bg)(J.expression,_.uniqBy(Ce,Qt=>I.F3.serializeExpr(Qt))):J}}},977332:function(ve,z,e){e.d(z,{Ju:function(){return s}});var a=e(18122),i=e(757406),r=e(905643),t=e(925364),o=e(711107),d=e(258096),n=e(20593);class c{constructor(P){this.elements=P,this.currentIndex=-1}reset(P){this.currentIndex=-1,P&&(a.Y.assert(()=>this.elements!==P,"Resetting with same elements"),this.elements=P)}count(){return _.size(this.elements)}current(){return a.Y.assert(()=>this.currentIndex>=0,"Invalid Iterator index"),this.elements[this.currentIndex]}done(){return this.currentIndex===_.size(this.elements)-1}next(){return!this.done()&&(this.currentIndex++,!0)}index(){return this.currentIndex}}function s(M,P){return new p(M,P)}class p{constructor(P,T){this.dsrParserContext=T,a.Y.assertValue(P,"dsr"),a.Y.assertAnyValue(T,"dsrParserContext"),this.parser=new m(P.DS,this.dsrParserContext)}dataShapes(){return this.parser}reset(){this.parser.reset()}lockCache(){this.dsrParserContext.locked||(this.dsrParserContext.locked=!0)}}var l=function(M){return M[M.DataShape=1]="DataShape",M[M.DataMemberInstance=2]="DataMemberInstance",M[M.Intersection=3]="Intersection",M}({});class u{constructor(P){this.calculationContainerKind=P,this.nullValuesHandler=new f,this.repeatedValuesHandler=new S}initialize(P,T){this.lastContainerCalculations=T,this.repeatedValuesHandler.initialize(P&&P.R,T),this.nullValuesHandler.initialize(P&&P.\u00d8)}getCurrentCalc(P,T,N,w){return a.Y.assert(()=>P>=0,"unexpected position input"),N?void 0!==(I=this.repeatedValuesHandler.tryRead(P))?I:void 0!==(I=this.nullValuesHandler.tryRead(P))?(this.lastContainerCalculations[P]=null,I):(T?T.next()&&(I=T.current(),this.lastContainerCalculations[P]=I):(a.Y.assert(()=>!!w,"Unexpected calcId"),void 0===(I=N[w])&&(I=null),this.lastContainerCalculations[P]=I),I):(a.Y.assert(()=>this.calculationContainerKind===l.Intersection,"Unexpected Empty DataShape/DataMemberInstance as calc container"),null);var I}}class v{constructor(P,T,N){this.context=P,this.calcMetadataCacheKey=N,this.baseCalculationParser=new u(T)}setCalculations(P){a.Y.assertAnyValue(P,"calculationContainerParser:setCalculation calculationContainer can be any value"),this.calculationContainer=P;var T=this.context;if(T){var N=this.calcMetadataCacheKey,w=P.S;w&&(this.metadata=w,N&&!T.locked&&(T.memberInstanceCalcMetadataCache[N]=w),this.lastContainerCalculations||(this.lastContainerCalculations=new Array(w.length))),T.instancesCalcCache[N]&&(this.lastContainerCalculations=T.instancesCalcCache[N]),this.baseCalculationParser.initialize(P,this.lastContainerCalculations);var I=P.C;(w=this.getCalcMetadata())?this.calcMetadataIt=new c(w):this.calcMetadataIt&&this.calcMetadataIt.reset(),this.calcIt=_.size(I)>0?new c(I):void 0}}restartCalcs(){a.Y.assertValue(this.calcMetadataIt,"restartCalcs called before setCalculations"),a.Y.assertAnyValue(this.calcIt,"CalcIt is created only if Calcs are not included as properties"),this.calcIt&&this.calcIt.reset(),this.calcMetadataIt.reset(),delete this.dsrCalcValue}nextCalc(){var P=!1,T=this.calcMetadataIt;return T&&((P=T.next()||P)&&(this.dsrCalcValue=this.baseCalculationParser.getCurrentCalc(T.index(),this.calcIt,this.calculationContainer,this.calcId())),T.done()&&(this.context.instancesCalcCache[this.calcMetadataCacheKey]=this.lastContainerCalculations)),P||!1}calcId(){return this.metadata[this.calcMetadataIt.index()].N}getCalcMetadata(){var P=this.metadata;return P||(P=this.metadata=this.context.memberInstanceCalcMetadataCache[this.calcMetadataCacheKey]),P}calcValue(){var P=this.metadata[this.calcMetadataIt.index()],T=this.context.valueDictionaryHandler.getCalcValue(this.dsrCalcValue,P.DN,P.T);return void 0===T&&(T=(0,r.Gz)(this.dsrCalcValue,P.T)),T}calcValueAsExpr(){a.Y.assert(()=>void 0!==this.dsrCalcValue,"Unexpected parsedCalcValue");var P=this.calcMetadataIt.current(),T=this.calcValue(),N=this.context.valueDictionaryHandler.getCalcValueExpr(T,this.dsrCalcValue,P.DN,P.T);return N||(N=(0,r.yE)(T,this.dsrCalcValue,P.T)),N}calcCount(){return this.calcMetadataIt?this.calcMetadataIt.count():this.calcIt?this.calcIt.count():0}}class m extends v{constructor(P,T,N){super(T,l.DataShape),this.parserContext=T,this.rootDataShape=N,a.Y.assertValue(P,"dataShapes"),a.Y.assertAnyValue(T,"parserContext"),this.it=new c(P)}reset(){this.it.reset()}index(){return this.it.index()}count(){return this.it.count()}next(){this.primaryHierarchyParser=this.secondaryHierarchyParser=this.messageParser=void 0;var P=this.it.next();if(P){var T=this.it.current();this.setCalculations(T),this.context&&(this.context.valueDictionaryHandler=new d.e5(T.ValueDicts||this.rootDataShape?.ValueDicts))}return P}id(){return this.it.current().N}nestedDataShapes(){var P=this;a.Y.assertValue(this.context.primarySynchronizedGroups,"Reading Nested DataShapes other than Synchronized Groups ones is currently unsupported");var T=this.it.current(),N=T.DS;if(!_.isArray(N)||N.length<1)return{};var w={},I=function(x){var j=_.find(N,U=>U.N===x.dataShapeId);a.Y.assertValue(j,"No DataShape with ID "+x.dataShapeId),j&&(w[j.N]=new m([j],x.context,P.rootDataShape||T))};for(var O of this.context.primarySynchronizedGroups)I(O);return w}primaryHierarchy(){if(a.Y.assert(()=>null!=this.parserContext,"Parser Context is needed to parse DataShape Hierarchy"),!this.primaryHierarchyParser&&this.parserContext){var P=this.it.current().PH;this.primaryHierarchyParser=P&&new D(P,this.parserContext,n.Tv.Primary,0)}return this.primaryHierarchyParser}secondaryHierarchy(){if(a.Y.assert(()=>null!=this.parserContext,"Parser Context is needed to parse DataShape Hierarchy"),!this.secondaryHierarchyParser&&this.parserContext){var P=this.it.current().SH;this.secondaryHierarchyParser=P&&new D(P,this.parserContext,n.Tv.Secondary,0)}return this.secondaryHierarchyParser}messages(){return!this.messageParser&&_.size(this.it.current().Msg)>0&&(this.messageParser=new E(this.it.current().Msg)),this.messageParser}hasRestartTokens(){return _.size(this.restartTokens())>0}restartTokens(){var P=this.it.current(),T=P.DW;return _.isEmpty(T)?P.RT:(a.Y.assert(()=>1===T.length,"Multiple data windows are not yet handled"),T[0].RT)}complete(){var P=this.it.current(),T=P.DW;return _.isEmpty(T)?P.IC:(a.Y.assert(()=>1===T.length,"Multiple data windows are not yet handled"),T[0].IC)}hasAllData(){return this.it.current().HAD}limitsExceeded(){return _.size(this.it.current().DLEx)>0}limits(){return this.limitsParser||(this.limitsParser=new g(this.it.current().DLEx)),this.limitsParser}}class g{constructor(P){a.Y.assertValue(P,"limits"),this.it=new c(P)}next(){return this.it.next()}id(){return this.it.current().N}count(){return this.it.count()}}class E{constructor(P){a.Y.assertValue(P,"dataShapeMessage"),this.it=new c(P)}next(){return this.it.next()}code(){return this.it.current().Code}severity(){return this.it.current().Severity}dsrMessage(){return new o.lE(this.it.current())}}class D{constructor(P,T,N,w){this.context=T,this.hierarchy=N,this.depth=w,a.Y.assertValue(P,"dataMembers"),this.it=new c(P)}count(){return this.it.count()}reset(){this.it.reset(),this.dataMemberId=void 0}next(){this.instancesParser&&(this.instancesParser=void 0),this.dataMemberId&&(this.dataMemberId=void 0);var P=this.it.next();if(P){var T=this.dataMemberIdCache();if(_.size(T)>0){var N=this.it.current();for(var w of T[this.depth])N[w]&&(this.dataMemberId=w)}if(void 0===this.dataMemberId){var I=Object.keys(this.it.current());1===_.size(I)?this.dataMemberId=I[0]:a.Y.assertFail("Unexpected DataMember with multiple properties. Cannot infer DataMemberId")}}return P}id(){return this.dataMemberId}dataMemberIdCache(){return this.hierarchy===n.Tv.Primary?this.context.primaryDataMemberIdCache:this.context.secondaryDataMemberIdCache}instances(){if(!this.instancesParser){var P=this.it.current()[this.dataMemberId];this.instancesParser=P&&new h(P,this.context,this.id(),this.hierarchy,this.depth)}return this.instancesParser}}class h extends v{constructor(P,T,N,w,I){super(T,l.DataMemberInstance,N),this.parentDataMemberId=N,this.hierarchy=w,this.depth=I,a.Y.assertValue(P,"instances"),this.it=new c(P)}next(){var P=this.it.next();if(P){var T=this.it.current();!this.context.locked&&!T.M&&this.hierarchy===n.Tv.Secondary&&this.context.secondaryLeafDataMemberId.push(this.parentDataMemberId),this.setCalculations(T),this.dataMemberIt=void 0,this.intersectionParserDirty=!0,a.Y.assert(()=>this.hierarchy!==n.Tv.Secondary||!T.Intersections,"secondary hierarchy should not have any intersections")}return P}count(){return this.it.count()}currentIndex(){return this.it.index()}intersections(){if(!this.intersectionParser){this.intersectionParserDirty=!1;var P=this.it.current().X;return this.intersectionParser=P&&new C(P,this.context,this.parentDataMemberId)}return this.intersectionParserDirty?(this.intersectionParserDirty=!1,this.intersectionParser.reset(this.it.current().X),this.intersectionParser):this.intersectionParser}restartFlagKind(){return this.it.current().RF}restartKind(){return this.it.current().RK}members(){if(!this.dataMemberIt){var P=this.it.current().M;this.dataMemberIt=P&&new D(P,this.context,this.hierarchy,this.depth+1)}return this.dataMemberIt}}class C{constructor(P,T,N){this.context=T,this.parentDataMemberId=N,a.Y.assertValue(P,"intersections"),this.it=new c(null),this.reset(P),this.baseCalculationParser=new u(l.Intersection),this.intersectionMeasureCount=_.size(this.context.intersectionMeasureToSelectIndex),this.expectedIntersectionCount=_.size(this.context.secondaryLeafDataMemberId);var w=T.dataMemberIdToMetadata[N];this.primaryMemberIsGroupMember=w.kind===n.pc.GroupMember,this.primaryDataMemberDepth=w.depth,a.Y.assertValue(T.intersectionCalcMetadataCache,"context.intersectionCalcMetadataCache"),this.calcMetadataCache=T.intersectionCalcMetadataCache[N],!this.calcMetadataCache&&!T.locked&&(this.calcMetadataCache=T.intersectionCalcMetadataCache[N]=new Array(this.expectedIntersectionCount))}reset(P){this.it.reset(P),this.logicalIntersectionIndex=-1,this.physicalIntersectionIndex=-1,this.hasIntersectionElements=P.length>0}next(){if(this.resetCalcIt(),this.logicalIntersectionIndex++,this.logicalIntersectionIndex>=this.expectedIntersectionCount)return!1;if(this.setIntersectionId(),this.it.count()===this.expectedIntersectionCount){var P=this.it.next();return P&&this.initialize(this.it.current()),P}var T;return this.hasIntersectionElements&&((0===this.logicalIntersectionIndex||this.physicalIntersectionIndex<this.logicalIntersectionIndex)&&this.it.next()&&((T=this.it.current()).I||0===this.logicalIntersectionIndex?this.physicalIntersectionIndex=T.I||0:this.physicalIntersectionIndex++),this.physicalIntersectionIndex===this.logicalIntersectionIndex)?(T||(T=this.it.current()),this.initialize(T),!0):(this.initialize(),!0)}setIntersectionId(){this.intersectionId=this.parentDataMemberId+this.context.secondaryLeafDataMemberId[this.logicalIntersectionIndex]}resetCalcIt(P){var T=P&&P.C;this.currentCalcIndex=-1,this.currentCalc=void 0,this.calcIt=T?new c(T):void 0}initialize(P){if(a.Y.assert(()=>this.logicalIntersectionIndex>=0,"Unexpected call to initialize IntersectionParser"),this.resetCalcIt(P),P){var T=P.S;if(T&&!this.context.locked){void 0===this.intersectionCalcCount&&(this.intersectionCalcCount=T.length),a.Y.assert(()=>null==this.calcMetadataCache[this.logicalIntersectionIndex],"unexpected schema present for current logical intersection"),this.calcMetadataCache[this.logicalIntersectionIndex]=T;var N=this.context.calcIdToCalcMetadata;for(var w of T)N[w.N]=T}}this.calculationContainer=P;var I=this.context.lastIntersectionCalcCache[this.intersectionId];!I&&this.intersectionId&&(I=this.context.lastIntersectionCalcCache[this.intersectionId]=new Array(this.intersectionCalcCount)),this.baseCalculationParser.initialize(P,I);var O=this.getCalcMetadata();O&&(this.currentCalcMetadata=O,void 0===this.intersectionCalcCount&&(this.intersectionCalcCount=this.intersectionMeasureCount>0?this.currentCalcMetadata.length:0))}restartCalcs(){this.calcIt&&this.calcIt.reset(),this.currentCalcIndex=-1,delete this.currentCalc}nextCalc(){var P=++this.currentCalcIndex;return P<this.intersectionCalcCount?(this.currentCalc=this.baseCalculationParser.getCurrentCalc(P,this.calcIt,this.calculationContainer,this.calcId()),!0):(this.currentCalc=void 0,!1)}calcId(){return this.currentCalcMetadata[this.currentCalcIndex].N}getCalcMetadata(){a.Y.assert(()=>this.logicalIntersectionIndex>=0,"getCalcMetadata can return metadata only for valid logical intersection");var P=this.calcMetadataCache[this.logicalIntersectionIndex];if(!P&&!this.context.locked){var T=this.getExpectedCalcId();T&&(P=this.calcMetadataCache[this.logicalIntersectionIndex]=this.context.calcIdToCalcMetadata[T])}return P}getExpectedCalcId(){if(0!==this.intersectionMeasureCount){var P=this.context,T=P.dataMemberIdToMetadata[P.secondaryLeafDataMemberId[this.logicalIntersectionIndex]],I=P.selects[this.currentCalcIndex<0?P.intersectionMeasureToSelectIndex[0]:P.intersectionMeasureToSelectIndex[this.currentCalcIndex]];if(T.kind===n.pc.GroupMember&&this.primaryMemberIsGroupMember)return I.Value;if(I.Subtotal){var O=t.Cx.computeAggIdx(this.primaryDataMemberDepth,T.depth,P.maxPrimaryDepth,P.maxSecondaryDepth);return I.Subtotal.length>O&&I.Subtotal[O]}}}calcValue(){return null!=this.currentCalc?this.parseCalcValue(this.currentCalc):null}parseCalcValue(P){var T=this.calcMetadataCache[this.logicalIntersectionIndex][this.currentCalcIndex],N=this.context.valueDictionaryHandler.getCalcValue(P,T.DN,T.T);return void 0===N&&(N=(0,r.Gz)(P,T.T)),N}calcValueAsExpr(){if(void 0!==this.currentCalc)return this.parseCalcValueExpr(this.currentCalc,this.calcValue());if(this.it.index()===this.logicalIntersectionIndex){var P=this.calcValue();return null===P?(0,i.gN)():this.parseCalcValueExpr(this.it.current()[this.calcId()],P)}return(0,i.gN)()}parseCalcValueExpr(P,T){var N=this.calcMetadataCache[this.logicalIntersectionIndex][this.currentCalcIndex],w=this.context.valueDictionaryHandler.getCalcValueExpr(T,P,N.DN,N.T);return void 0===w&&(w=(0,r.yE)(T,P,N.T)),w}calcCount(){return this.calcIt?this.calcIt.count():0}}var y=(()=>{class M{initialize(T){this.value=T,this.overflowValue=T>M.MaxSignedNumberFor32Bits?function(M){var P=M.toString(2),T=P.substr(0,P.length-b);return parseInt(T,2)}(T):0}hasBitAtPosition(T){if(a.Y.assert(()=>T>=0,"expected positive integer for position"),T>52)return!1;if(this.value>0){var N=0,w=this.value;return T<31?N=1<<T:(N=1<<T-31,w=this.overflowValue),(w&N)>0}}}return M.MaxSignedNumberFor32Bits=Math.pow(2,31)-1,M})();class f{constructor(){this.bitSequenceHandler=new y}initialize(P){this.bitSequenceHandler.initialize(P)}tryRead(P){if(this.bitSequenceHandler.hasBitAtPosition(P))return null}}class S{constructor(){this.bitSequenceHandler=new y}initialize(P,T){this.bitSequenceHandler.initialize(P),this.lastContainerCalculations=T}tryRead(P){if(this.bitSequenceHandler.hasBitAtPosition(P))return this.lastContainerCalculations[P]}}var b=31},899839:function(ve,z,e){e.d(z,{D:function(){return t}});var a=e(18122),i=e(757406),r=e(73646);class t extends r.Li{visitColumnRef(d,n){if(d.hasGroupOnKeys(n)){var c=d.getConceptualProperty(n),s=d.getTargetEntity();return _.map(c.column.keys,p=>(0,i.sX)(s,p.name))}return[d]}visitHierarchyLevel(d,n){var c=d.arg.getTargetEntity();if(!c)return[d];if(d.arg instanceof i.t9){var s,p=c.schema,l=d.arg;if(l.arg instanceof i.P0){var u=l.arg,v=n.schema(p).findTargetEntityOfVariation(c.entity,u.property,u.name);if(!v)return[d];s=(0,i.EG)(p,v.name)}else s=c,a.Y.assert(()=>l.arg instanceof i.BO,".visitHierarchyLevel hierarchy should not contain anything other entity/variation source");var m=n.schema(p).findHierarchyLevel(s.entity,l.hierarchy,d.level);return this.visitColumnRef((0,i.sX)(s,m.column.name),n)}return[d]}visitGroupRef(d,n){var c=[];for(var s of d.groupedExprs){var p=s.accept(this,n);c.push(...p)}return c}visitDefault(d){return a.Y.assertFail("SelectToIdentityExpressionsVisitor should not have any other expressions to visit"),[d]}}},702852:function(ve,z,e){e.d(z,{mY:function(){return r},sZ:function(){return i},tq:function(){return a},yt:function(){return t}});var a=function(o){return o[o.Version1=1]="Version1",o[o.Version2=2]="Version2",o}({}),i=function(o){return o[o.MinorVersion1=1]="MinorVersion1",o}({}),r=function(o){return o[o.Append=0]="Append",o[o.Merge=1]="Merge",o}({}),t=function(o){return o[o.None=0]="None",o[o.Before=1]="Before",o[o.After=2]="After",o[o.BeforeAndAfter=3]="BeforeAndAfter",o}({})},291010:function(ve,z,e){e.d(z,{r:function(){return r}});var a=e(18122),i="noQueryName";class r{constructor(o,d,n,c){this.deepestNodeLevelInPath=-1,this.measures=d||[],this.dataMap=o||null,this.nodeIsCollapsed=n??null,this.nodeIndexes=c??[]}withCategory(o,d,n=!1){var c,s;return o&&o.source&&o.identity&&o.identity[d]&&(c=o.identity[d],s=o.source.queryName||i),this.addItemToDataMap(s,c),this}withSeries(o,d,n=!1){var c,s;return o&&o.source&&d&&(c=d.identity,s=o.source.queryName||i),this.addItemToDataMap(s,c),this}withMeasure(o){return this.measures.push(o),this}withMatrixNode(o,d,n=!1){if(!o)return this;var c,s,{isCollapsed:p,level:l,nodeIndex:u}=o;return o.identity&&d&&d[l]&&d[l].sources&&d[l].sources[0]&&(c=o.identity,s=d[l].sources[0].queryName||i),this.addItemToDataMap(s,c,p,l,u),this}withTable(o,d,n=!1){var c,s;return o&&o.identity&&null!=d&&(s=(c=o.identity[d])?JSON.stringify(c):i),this.addItemToDataMap(s,c),this}equals(o){var d=o;return!!(this.compareMeasures(this.measures,d.measures)&&this.compareMetadata(this.getSelector(),d.getSelector())&&this.compareMetadata(d.getSelector(),this.getSelector()))}createSelectionId(o){return this.key=JSON.stringify(this.dataMap)+JSON.stringify(this.measures),this}getKey(){return this.key}includes(o,d=!1){var n=o;return!!(!this.dataMap&&this.compareMeasures(this.measures,n.measures)||this.dataMap&&n.dataMap&&this.compareMetadata(this.getSelector(),n.getSelector()))}hasIdentity(){return!!this.dataMap}compareMeasures(o,d){if(o.length!==d.length)return!1;for(var n of d)if(-1===o.indexOf(n))return!1;return!0}compareMetadata(o,d){if(!o.data&&d.data||o.data&&!d.data)return!1;if(!o.data&&!d.data)return!0;var c,n=function(p){if(!d.data.some(l=>JSON.stringify(l)===JSON.stringify(p)))return{v:!1}};for(var s of o.data)if(c=n(s))return c.v;return!0}addItemToDataMap(o,d,n,c,s){if(d){this.dataMap||(this.dataMap={});var p=this.dataMap,l=p[o];if(null==l)return p[o]=[d],null!=n&&null!=c&&c>this.deepestNodeLevelInPath&&(this.nodeIsCollapsed=n,this.deepestNodeLevelInPath=c),void(null!=s&&this.nodeIndexes.push(s));l.push(d)}}getSelector(){var o=this,d={data:void 0,metadata:_.head(this.measures)};if(this.dataMap){d.data=[];var n=function(s){a.Y.assert(()=>o.dataMap[s].length<=1,"dataMap can only have one selector per column"),d.data.push(o.dataMap[s][0])};for(var c in this.dataMap)n(c)}return d}getSelectorsByColumn(){return null}}},905643:function(ve,z,e){e.d(z,{$x:function(){return l},Gz:function(){return m},bq:function(){return u},fb:function(){return v},yE:function(){return g}});var a=e(293444),i=e(101751),r=e(18122),t=e(744524),o=e(545414),d=e(757406),n=e(337965),c=/''/g,s="base64'",p=/\.000'$/;function l(h){return E(h)}function u(h){return E(h,!0)}function v(h){if(!h)return null;if(_.startsWith(h,s)){var C=h.substring(s.length,h.length-1);try{return btoa(atob(C))}catch{return null}}return null}function m(h,C){if(r.Y.assert(()=>void 0!==h,"Undefined dsrValue indicates a DSR parsing bug"),null===h)return null;switch(C){case a.W.Integer:return r.Y.assert(()=>"string"==typeof h||"number"==typeof h,`Expected only string or number values for type ${C}`),"number"==typeof h?h:parseInt(h,10);case a.W.Decimal:case a.W.Double:return r.Y.assert(()=>"string"==typeof h||"number"==typeof h,`Expected only string or number values for type ${C}`),"number"==typeof h?h:D(h);case a.W.DateTime:case a.W.Date:if(r.Y.assert(()=>"string"==typeof h||"number"==typeof h,`Expected only string or number values for type ${C}`),"number"==typeof h){r.Y.assert(()=>h>=0,`Expected positive miliseconds since UNIX epoch for type ${C}`);var y=new Date(h),f=new Date(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate(),y.getUTCHours(),y.getUTCMinutes(),y.getUTCSeconds(),y.getUTCMilliseconds()),S=new Date(y.getTime()+6e4*f.getTimezoneOffset());return S.epochTimeStamp=h,S}var b=(0,i.jT)(h);return b&&(0,t.IG)(b);case a.W.Text:return r.Y.assert(()=>"string"==typeof h,`Expected only string values for type ${C}`),h;case a.W.Boolean:return r.Y.assert(()=>"number"==typeof h||"boolean"==typeof h,`Expected number or boolean values for type ${C}`),"number"==typeof h?1===h:h;case a.W.Variant:return r.Y.assert(()=>"string"==typeof h||"boolean"==typeof h,`Expected only string or boolean values for type ${C}`),E(h);default:r.Y.assertFail(`unsupported dsrValue for type ${C}`)}}function g(h,C,y){if(null===h)return(0,d.gN)();switch(y){case a.W.Integer:return"number"==typeof C?(0,d.nd)(+h):(0,d.G3)(o.K.Integer,+h,C.toString());case a.W.Decimal:return"number"==typeof C?(0,d._)(+h):(0,d.G3)(o.K.Decimal,+h,C.toString());case a.W.Double:return"number"==typeof C?(0,d.gd)(+h):(0,d.G3)(o.K.Double,+h,C.toString());case a.W.DateTime:case a.W.Date:return"number"==typeof C?new d.wy(n.eV.fromExtendedType(o.K.DateTime),h):(0,d.G3)(o.K.DateTime,h,C.toString());case a.W.Text:return(0,d.Qq)(h.toString());case a.W.Boolean:return(0,d.zM)(!!h);case a.W.Variant:return E(C,!0);default:r.Y.assertFail(`unsupported dsrValue for type ${y}`)}}function E(h,C){var y=typeof h;if("string"===y){if(_.endsWith(h,"L")){var f=parseInt(h,10);return C?(0,d.nd)(f,h):f}if(_.endsWith(h,"D")){var S=D(h);return C?(0,d.gd)(S,h):S}if(_.endsWith(h,"M")){var b=D(h);return C?(0,d._)(b,h):b}if(_.endsWith(h,"'")){if("'"===h.charAt(0)){var V=h.substring(1,h.length-1).replace(c,"'");return C?(0,d.Qq)(V,h):V}if(0===h.indexOf("datetime'")){var M=h.replace(p,"'"),P=h.substring(9,M.length-1),T=(0,i.jT)(P);return C?(0,d.KQ)(T,M):T}}if("null"===h)return C?(0,d.gN)():null;if("true"===h)return!C||(0,d.zM)(!0);if("false"===h)return!!C&&(0,d.zM)(!1)}return"boolean"===y?C?(0,d.zM)(h):h:null===h?C?(0,d.gN)():null:h}function D(h){var C=parseFloat(h);return isNaN(C)?parseFloat(h.replace("INF","Infinity")):C}},932896:function(ve,z,e){e.d(z,{B:function(){return t},U:function(){return r}});var a=e(18122),i=e(293444);function r(o){switch(o){case i.W.Null:return"Null";case i.W.Text:return"Text";case i.W.Decimal:return"Decimal";case i.W.Double:return"Double";case i.W.Integer:return"Integer";case i.W.Boolean:return"Boolean";case i.W.Date:return"Date";case i.W.DateTime:return"DateTime";case i.W.DateTimeZone:return"DateTimeZone";case i.W.Time:return"Time";case i.W.Duration:return"Duration";case i.W.Binary:return"Binary";case i.W.None:return"None";case i.W.Variant:return"Variant";case i.W.Json:return"Json";default:throw a.Y.assertNever(o)}}function t(o){switch(o){case"Null":return i.W.Null;case"Text":return i.W.Text;case"Decimal":return i.W.Decimal;case"Double":return i.W.Double;case"Integer":return i.W.Integer;case"Boolean":return i.W.Boolean;case"Date":return i.W.Date;case"DateTime":return i.W.DateTime;case"DateTimeZone":return i.W.DateTimeZone;case"Time":return i.W.Time;case"Duration":return i.W.Duration;case"Binary":return i.W.Binary;case"None":return i.W.None;case"Variant":return i.W.Variant;case"Json":return i.W.Json;default:throw a.Y.assertNever(o)}}},692405:function(ve,z,e){e.d(z,{Fw:function(){return c},Mc:function(){return u},el:function(){return p},iX:function(){return s},kw:function(){return v},y0:function(){return l}});var a=e(620825),i=e(18122),r=e(335128),t=e(188076),o=e(757406),d=e(990328),n=e(858225);function c(C){i.Y.assertValue(C,"changes");for(var y=[],f=0,S=C.length;f<S;f++){var b=C[f];b.measureMove&&y.push(s(b.measureMove)),b.entityRename&&y.push(p(b.entityRename)),b.propertyRename&&y.push(l(b.propertyRename)),b.hierarchyLevelRename&&y.push(u(b.hierarchyLevelRename))}return y}function s(C){return i.Y.assertValue(C,"measureMove"),new g(C)}function p(C){return i.Y.assertValue(C,"entityRename"),new m(C)}function l(C){return i.Y.assertValue(C,"propertyRename"),new E(C)}function u(C){return i.Y.assertValue(C,"hierarchyLevelRename"),new D(C)}function v(C){return i.Y.assertValue(C,"setSchemaMeasure"),new h(C)}class m extends d.k{constructor(y){i.Y.assertValue(y,"change"),super(),this.change=y}visitColumnRef(y){if(i.Y.assertValue(y,"expr"),(0,a.Qg)(y.source)||(0,a.EP)(y.source)){var f=y.source.accept(this);return f!==y.source?new o.Dw(f,y.ref):y}return y}visitEntity(y){var f=this.change;return y.schema===f.schema&&y.entity===f.before?new o.BO(y.schema,f.after,y.variable):y}visitSubqueryRef(y){if(i.Y.assertValue(y,"expr"),y.query){var f=y.query.rewrite(this);return f!==y.query?new o.nS(f):y}return y}}class g extends d.k{constructor(y){i.Y.assertValue(y,"change"),super(),this.change=y}visitMeasureRef(y){var f=this.change,S=(0,r.vG)((0,t.F)(y));if(i.Y.assertValue(S,"fieldPattern"),S.schema===f.schema&&S.entity===f.source&&y.ref===f.property){var b=new o.BO(S.schema,f.destination);return new o.hR(b,f.property)}return y}visitSubqueryRef(y){if(y.query){var f=y.query.rewrite(this);return f!==y.query?new o.nS(f):y}return y}}class E extends d.k{constructor(y){i.Y.assertValue(y,"change"),super(),this.change=y}visitColumnRef(y){if(i.Y.assertValue(y,"expr"),(0,a.EP)(y.source)){var f=y.source.accept(this);return f!==y.source?new o.Dw(f,y.ref):y}if((0,a.eN)(y.source))return y;var S=this.change;return this.matches(S,y)?new o.Dw(y.source,S.after):y}visitMeasureRef(y){var f=this.change;return this.matches(f,y)?new o.hR(y.source,f.after):y}visitGroupRef(y){var f=y,S=this.change;this.matches(S,y)&&(f=new o.CH(S.after,y.source,y.groupedExprs));var b=_.map(y.groupedExprs,V=>V.accept(this));return n.B.sequenceEqual(b,y.groupedExprs)||(f=new o.CH(f.ref,f.source,b)),f}visitHierarchy(y){i.Y.assertValue(y,"expr"),i.Y.assertValue(y.arg,"expr.arg");var f=y.arg.accept(this);if(f!==y.arg)return new o.t9(f,y.hierarchy);var S=this.change;return this.hierarchyMatches(S,y)?new o.t9(y.arg,S.after):y}visitPropertyVariationSource(y){i.Y.assertValue(y,"expr");var f=this.change;return this.variationMatches(f,y)?new o.P0(y.arg,y.name,f.after):y}visitSubqueryRef(y){if(i.Y.assertValue(y,"expr"),y.query){var f=y.query.rewrite(this);return f!==y.query?new o.nS(f):y}return y}variationMatches(y,f){i.Y.assertValue(y,"change"),i.Y.assertValue(f,"expr");var S=f.arg;return i.Y.assert(()=>S instanceof o.BO,"entityExpr"),S.schema===y.schema&&S.entity===y.entity&&f.property===y.before}hierarchyMatches(y,f){i.Y.assertValue(y,"change"),i.Y.assertValue(f,"expr");var S=f.arg;if((0,a.Qg)(S))return"Hierarchy"===y.objectType&&S.schema===y.schema&&S.entity===y.entity&&f.hierarchy===y.before}matches(y,f){i.Y.assertValue(y,"change"),i.Y.assertValue(f,"expr");var S=(0,r.vG)((0,t.F)(f));return i.Y.assertValue(S,"fieldPattern"),S.schema===y.schema&&S.entity===y.entity&&f.ref===y.before}}class D extends d.k{constructor(y){i.Y.assertValue(y,"change"),super(),this.change=y}visitHierarchyLevel(y){i.Y.assertValue(y,"expr"),i.Y.assertValue(y.arg,"expr.arg");var f=this.change;return this.matches(f,y)?new o.LV(y.arg,f.after):y}matches(y,f){i.Y.assertValue(y,"change"),i.Y.assertValue(f,"expr");var S=(0,t.F)(f);if(i.Y.assertValue(S,"fieldPattern"),!S.columnHierarchyLevelVariation){var b=(0,r.vG)(S);i.Y.assertValue(b,"fieldEntityPattern");var V=f.arg;return i.Y.assertValue(V,"hierarchyExpr"),b.schema===y.schema&&b.entity===y.entity&&V.hierarchy===y.hierarchy&&f.level===y.before}}}class h extends d.k{constructor(y){i.Y.assertValue(y,"change"),super(),this.change=y}visitMeasureRef(y){var f=this.change,S=(0,r.vG)((0,t.F)(y));if(i.Y.assertValue(S,"fieldPattern"),S.schema!==f.schema&&S.entity===f.entity&&y.ref===f.name){var b=new o.BO(f.schema,f.entity);return new o.hR(b,f.name)}return y}}},384827:function(ve,z,e){e.d(z,{O:function(){return a}});var a=function(i){return i[i.Version0=0]="Version0",i[i.Version1=1]="Version1",i[i.Version2=2]="Version2",i}({})},203e3:function(ve,z,e){e.d(z,{ae:function(){return v},k_:function(){return m}});var a=e(233390),i=e(18972),r=e(18122),t=e(523908),o=e(893420),d=e(34584),n=e(61839),c=e(776766),s=e(914780),u=e(454840);function v(h,C,y,f,S){return new E(h,C,y,f,S)}function m(h){return h&&(0,i.ju)(h.clientError)}class g extends Error{constructor(C){super(C),this.name="ConceptualSchemaCacheExistsError"}}class E{constructor(C,y,f,S,b){this.stopCommunicationHandlers=[],this.resumeCommunicationHandlers=[],r.Y.assertValue(C,"promiseFactory"),r.Y.assertValue(y,"dataReaderProvider"),r.Y.assertValue(f,"featureSwitchService"),this.promiseFactory=C,this.dataReaderProvider=y,this.featureSwitchService=f,this.telemetryService=S,this.validator=b,this.individualConceptualSchemaCache={},this.mergedConceptualSchemaCache={}}get(C,y){var f=this;r.Y.assertNonEmpty(C,"dataSources");var S=this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.telemetryV2;if(!C)return this.promiseFactory.reject({clientError:{code:"DataSourcesUndefined"}},S);var b=this.generateSchemaKey(C),V=this.mergedConceptualSchemaCache[b];if(this.isSchemaPaused(V))return this.promiseFactory.reject(this.getPauseReason(V),S);if(V&&V.promise)return y&&y.setProperty("isConceptualSchemaCached",!0),u.n4.ensurePromiseError(V.promise,"ConceptualSchemaProxy.execute {{status}}");var M=this.promiseFactory.defer(S),P={deferred:M,promise:M.promise};this.mergedConceptualSchemaCache[b]=P,P.promise.then(()=>delete P.deferred,()=>delete this.mergedConceptualSchemaCache[b]);var T=[],N=D(C),w=function(){var x=N[O],j=f.generateSchemaKey(x),U=f.individualConceptualSchemaCache[j];if(f.isSchemaPaused(U))return T.push(f.promiseFactory.reject(f.getPauseReason(U),S)),0;if(U)return T.push(U.promise),0;var F=f.promiseFactory.defer(S),R=F.promise;T.push(R),f.individualConceptualSchemaCache[j]={deferred:F,promise:R},R.finally(()=>{f.individualConceptualSchemaCache[j]&&delete f.individualConceptualSchemaCache[j].deferred}).catch(_.noop);var B=f.dataReaderProvider.schemaReader(O);if(!B)return r.Y.assertFail(`No schema reader exists for data source type: ${O}`),F.reject({clientError:{code:"SchemaReaderUndefined"}}),0;B.execute({dataSources:x}).then(A=>f.onSuccess(B,A,j,F),A=>f.onError(B,A,j,F))};for(var O in N)w();return this.promiseFactory.all(T,S).then(x=>{var j=n.I.merge(x);this.validator&&this.validator.validate(j),P.result=j,M.resolve(j)}).catch(x=>{M.reject(x)}),u.n4.ensurePromiseError(P.promise,"ConceptualSchemaProxy.execute {{status}}")}preloadCache(C,y){var f=D(C),S=[];for(var b in f){var M=this.dataReaderProvider.schemaReader(b).transform(y);S.push(M.schema)}var P=this.generateSchemaKey(C);if(this.mergedConceptualSchemaCache[P])throw new g("Schema already exists in cache");var T=this.promiseFactory.defer(!1),N={deferred:T,promise:T.promise},w=n.I.merge(S);N.result=w,T.resolve(w),this.mergedConceptualSchemaCache[P]=N}getWithWireContract(C){return C&&_.uniqBy(C,y=>(0,c.E2)(y)).length>1?(r.Y.assertFail("Cannot look up wire contract data across multiple data source types"),this.promiseFactory.reject()):this.get(C).then(y=>{var f=this.individualConceptualSchemaCache[this.generateSchemaKey(C)];if(f)return{data:f.data,contract:y}})}getLatestCapabilities(C,y){var f=D(C);for(var S in f){var V=this.generateSchemaKey(f[S]),M=this.individualConceptualSchemaCache[V];if(M&&M.result){var P=M.result.schema(y);if(P)return P.capabilities}}}clearCache(C,y){if(!y)return this.rejectPendingDeferred(C),this.individualConceptualSchemaCache={},void(this.mergedConceptualSchemaCache={});var f=D(y);for(var S in f){var b=f[S],V=this.generateSchemaKey(b),M=JSON.stringify(_.map(b,P=>P.id));this.telemetryService.logEvent(s.jg,{datasetIds:M,requestId:C&&C.requestId,reason:C&&C.clientError.code}),this.forSchemasContainingKey(this.individualConceptualSchemaCache,V,P=>{this.rejectPendingDeferred(C,P),delete this.individualConceptualSchemaCache[P]}),this.forSchemasContainingKey(this.mergedConceptualSchemaCache,V,P=>{delete this.mergedConceptualSchemaCache[P]})}}stopCommunication(C,y){var f,S,b={clientError:C};if(y){var V=D(y);for(var M in V)f=this.generateSchemaKey(V[M]),(S=this.individualConceptualSchemaCache[f])||(this.individualConceptualSchemaCache[f]=S={}),S.pauseReason=b,this.rejectPendingDeferred(b,f)}else this.pauseAllSchemasReason=b||{clientError:null},this.rejectPendingDeferred(b);for(var N of this.stopCommunicationHandlers)N()}resumeCommunication(C){var y;for(var f of(C?y=_.map(D(C),V=>this.generateSchemaKey(V)):(this.pauseAllSchemasReason=void 0,y=Object.keys(this.individualConceptualSchemaCache)),y))this.isSchemaPaused(this.individualConceptualSchemaCache[f])&&(delete this.individualConceptualSchemaCache[f],this.forSchemasContainingKey(this.mergedConceptualSchemaCache,f,V=>delete this.mergedConceptualSchemaCache[V]));for(var b of this.resumeCommunicationHandlers)b()}registerStopCommunicationHandlers(C){return this.stopCommunicationHandlers.push(C),()=>_.pull(this.stopCommunicationHandlers,C)}registerResumeCommunicationHandlers(C){return this.resumeCommunicationHandlers.push(C),()=>_.pull(this.resumeCommunicationHandlers,C)}isEmpty(C){var y=this;return(0,a.A)(function*(){var f=yield y.get(C);return _.every(f.schemas,S=>_.isEmpty(S.entities)||y.isSystemEntity(S.entities))})()}isSystemEntity(C){return _.every(C,y=>(0,o.Lt)(y.visibility,d.Tg.IsPrivate)||(0,o.Lt)(y.visibility,d.Tg.ShowAsVariationsOnly))}isSchemaPaused(C){return!!this.pauseAllSchemasReason||C&&!C.promise}getPauseReason(C){return C&&C.pauseReason?C.pauseReason:this.pauseAllSchemasReason}rejectPendingDeferred(C,y){var f,S;for(var b in y?(f={})[y]=null:f=this.individualConceptualSchemaCache,f)(S=this.individualConceptualSchemaCache[b])&&(S.deferred&&S.deferred.reject(C),delete S.promise,delete S.deferred,this.forSchemasContainingKey(this.mergedConceptualSchemaCache,b,(V,M)=>{M.deferred&&M.deferred.reject(C),delete M.promise,delete M.deferred}))}onSuccess(C,y,f,S){var b=C.transform(y);if(b.error)this.onErrorCore(b,f,S);else{var V=this.individualConceptualSchemaCache[f];V&&(V.result=b.schema,V.data=y.data);var M=this.tryGetAdditionalIndividualCacheKey(f,b);M&&(this.individualConceptualSchemaCache[M]=V),S.resolve(b.schema)}}onError(C,y,f,S){var b=C.transform(y);this.onErrorCore(b,f,S)}onErrorCore(C,y,f){delete this.individualConceptualSchemaCache[y],C.error&&C.error.serviceError&&(C.error.clientError=new t.eH(C.error.serviceError),C.error.clientError.requestId=C.error.requestId),f.reject(C.error),this.forSchemasContainingKey(this.mergedConceptualSchemaCache,y,S=>{delete this.mergedConceptualSchemaCache[S]})}tryGetAdditionalIndividualCacheKey(C,y){var f=y.schema.schemas;if(f){r.Y.assert(()=>1===f.length,"schemas should be length 1");var S=f[0];if(S.cubeName){var b=JSON.parse(C);r.Y.assert(()=>1===b.length,"key is length 1");var V=b[0];if(r.Y.assert(()=>S.name===V.name,"names should be same"),!V.perspectiveId)return V.perspectiveId=S.cubeName,this.generateSchemaKey([V])}}}forSchemasContainingKey(C,y,f){var S=JSON.parse(y);for(var b of S)for(var V in C){var M=JSON.parse(V);for(var P of M)b.id===P.id&&b.name===P.name&&b.type===P.type&&f(V,C[V])}}generateSchemaKey(C){return r.Y.assertValue(C,"dataSources"),JSON.stringify(_.chain(C).map(y=>({id:y.id,name:y.name,type:(0,c.E2)(y),perspectiveId:y.perspectiveId,objectId:y.objectId})).orderBy(["type","name","id","perspectiveId"]).value())}}function D(h){return _.groupBy(h,C=>(0,c.E2)(C))}},886334:function(ve,z,e){e.d(z,{Pv:function(){return l},Vn:function(){return v},bu:function(){return u}});var a=e(343872),i=e(431575),r=e(38361),t=e(18972),o=e(155281),d=e(136581),n=e(18122),c=e(623670),s=e(914780),p=e(223431);function l(h,C){return!(!h.query||!C.query)&&h.type===C.type&&h.kinds===C.kinds&&h.perfId===C.perfId&&h.query.allowResultFromClientCache===C.query.allowResultFromClientCache&&h.query.allowClientSideFilters===C.query.allowClientSideFilters&&h.query.cacheResponseOnServer===C.query.cacheResponseOnServer&&h.query.ignoreViewportForCache===C.query.ignoreViewportForCache&&(0,c.aI)(h.query.cacheOptions,C.query.cacheOptions)&&(0,c.aI)(h.query.command,C.query.command)&&(0,c.aI)(h.query.dataSources,C.query.dataSources)}function u(h,C,y){return new g(h,C,y)}var v=(h,C,y,f)=>new E(h,C,y);class g{constructor(C,y,f){this.promiseFactory=C,this.dataReaderProvider=y,this.dataReaders={},this.telemetryService=f}execute(C){return n.Y.assertValue(C,"options"),this.getReader(C.type).execute(C.query,C.kinds,C.perfId)}getReader(C){var y=this.dataReaders[C];if(y)return y;var f=this.dataReaderProvider.reader(C);return n.Y.assertValue(f,`Could not find data reader for type: ${C}`),this.dataReaders[C]=new D(C,f,this.promiseFactory,this.telemetryService)}stopCommunication(C){this.getReader(C).stopCommunication()}resumeCommunication(C){this.getReader(C).resumeCommunication()}clearCache(C,y){this.getReader(C).clearCache(y)}rewriteCacheEntries(C,y,f){this.getReader(C).rewriteCacheEntries(y,f)}setLocalCacheResult(C,y){return this.getReader(C.type).setLocalCacheResult(C.query,y)}}class E{constructor(C,y,f){this.proxy=C,this.promiseFactory=y,this.timeoutService=f}execute(C){var y=this.lastExecute;if(y&&y.promise.pending()){if(l(C,y.query)){var f=(0,i.Z)(y.deferred);return f.matchesLastExecuteQuery=!0,f}this.lastExecute.ended=!0,this.lastExecute.promise.reject(new t.F9(o.pG.NewQuery))}var S=C&&C.query&&C.query.telemetryV2Enabled,b=this.promiseFactory.defer(S),V=(0,i.Z)(b),M=this.lastExecute={query:C,deferred:b,promise:V,ended:!1};if(!this.queuedExecution){this.queuedExecution=!0;var P=0,T=()=>{this.queuedExecution=!1;var w=this.lastExecute;if(w&&!w.ended){var I=this.proxy.execute(w.query);I.then(O=>{w.ended?w.deferred.reject():w.deferred.resolve(O)},O=>{if(O instanceof d.Ux){if(P<3)return++P,void T();p.Cn.information("Async query returned not-found three times - giving up")}w.deferred.reject(O)}),w.promise.catch(O=>I.reject(O))}};this.timeoutService.setTimeout(!0===C.isColdLoad?-1:0,S).promise.then(T).catch(()=>{})}return V.finally(()=>{M.ended=!0,M===this.lastExecute&&(this.lastExecute=void 0)}).catch(()=>{}),V}cancelQuery(C){var y=this.lastExecute;y&&y.promise.pending()&&(y.ended=!0,y.promise.reject(C===o.pG.PausedQuery?new t.Zf:new t.F9(C)))}}class D{constructor(C,y,f,S){n.Y.assertAnyValue(C,"pluginName"),n.Y.assertValue(y,"reader"),n.Y.assertValue(f,"promiseFactory"),n.Y.assertValue(S,"telemetryService"),this.name=C,this.reader=y,this.promiseFactory=f,this.telemetryService=S}execute(C,y,f){n.Y.assertValue(C,"options"),n.Y.assertAnyValue(f,"perfId");var S=this.promiseFactory.defer(C.telemetryV2Enabled),b=this.reader;if(b.execute){var V=b.execute(C,f);V.then(P=>{if(P){var T=this.transform(P,y,f,C.performanceActivity),N=T.error;if(T.performanceActivities&&N&&(N.performanceActivities=T.performanceActivities),N)return S.reject(N),void this.telemetryService.logEvent(s.gT,{requestId:P.requestId,isError:!0,errorSource:r.gf.PowerBI,errorCode:N.code});S.resolve({dataReaderResult:T,dataViewSource:{data:P}})}else S.reject(new d.$X),this.telemetryService.logEvent(s.gT,{isError:!0,errorSource:r.gf.PowerBI,errorCode:"DataProxy_EmptyData"})},P=>{S.reject(P),(!P||!P.ignorable)&&this.telemetryService.logEvent(s.gT,{requestId:P?.requestId,isError:!0,errorSource:r.gf.PowerBI,errorCode:P?P.code:"DataProxy_ProviderError"})}).catch(P=>{S.reject(P)});var M=(0,i.Z)(S);return M.catch(P=>{P=P||new d.Kz,V.reject(P)}),M}return C.command?S.resolve({dataReaderResult:this.transform(C.command,y,f)}):S.reject(),(0,i.Z)(S)}stopCommunication(){var C=this.reader;C.stopCommunication&&C.stopCommunication()}resumeCommunication(){var C=this.reader;C.resumeCommunication&&C.resumeCommunication()}clearCache(C){var y=this.reader.cache;y&&y.clear(C)}rewriteCacheEntries(C,y){var f=this.reader.cache;f&&f.rewrite(C,y)}setLocalCacheResult(C,y){var f=this.reader;f.setLocalCacheResult&&f.setLocalCacheResult(C,y)}transform(C,y,f,S){var b=this.reader;if(b.transform)return b.transform(C,y||a.k.All,f,S);var V={metadata:{columns:[]}};return V[this.name]=C,{dataView:V}}}},136581:function(ve,z,e){e.d(z,{$X:function(){return o},Kz:function(){return d},ND:function(){return t},RG:function(){return r},Ux:function(){return n},YY:function(){return c}});var a=e(776346),i=e(18972);class r{constructor(p){this.innerError=p,this.code="QueryPipelineError",this.eventFactory=a.U2,this.ignorable=!!p?.ignorable}getDetails(p){return{message:"",displayableErrorInfo:[]}}}class t{get code(){return"FailedRealTimeUpdate"}get ignorable(){return!1}getDetails(p){return{message:p.get("Realtime_UpdateFailedValue"),displayableErrorInfo:[{errorInfoKey:p.get("Realtime_UpdateFailedKey"),errorInfoValue:p.get("Realtime_UpdateFailedValue")}],debugErrorInfo:[{errorInfoKey:i.JM,errorInfoValue:this.code}]}}}class o{get code(){return"EmptyData"}get ignorable(){return!1}getDetails(p){return{message:p.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:p.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:p.get("InvalidDataFormat_DataFormatIsInvalid")}],debugErrorInfo:[{errorInfoKey:i.JM,errorInfoValue:this.code}]}}}class d{get code(){return"InvalidDataResponse"}get ignorable(){return!1}getDetails(p){return{message:p.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:p.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:p.get("InvalidDataResponse_ServerError")}],debugErrorInfo:[{errorInfoKey:i.JM,errorInfoValue:this.code}]}}}var n=(()=>{class s{get code(){return s.Code}get ignorable(){return!1}getDetails(l){return{message:l.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:l.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:l.get("ServerError_DM_GWPipeline_Gateway_GenericTimeoutException_Title")}],debugErrorInfo:[{errorInfoKey:i.JM,errorInfoValue:this.code}]}}}return s.Code="AsyncResultNotFound",s})(),c=(()=>{class s{get code(){return n.Code}get ignorable(){return!1}getDetails(l){return{message:l.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:l.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:l.get("ServerError_DM_GWPipeline_Gateway_GenericTimeoutException_Title")}],debugErrorInfo:[{errorInfoKey:i.JM,errorInfoValue:this.code}]}}}return s.Code="AsyncResultTimedOut",s})()},132409:function(ve,z,e){e.d(z,{Ab:function(){return u},WZ:function(){return c},gF:function(){return v}});var a=e(343872),i=e(18122),r=e(893420),t=e(890741),o=e(103203),d=e(476271),n=e(358719);class c{static getDataPointsDescription(D,h){if(D&&!_.isEmpty(h)){var C=this.getDataViewKind(D),y=[];for(var f of h){var S=this.query([D],f,C,[],!0),b=(0,t.j9)(f);y.push({selector:b,values:S})}return y}}static getDataViewKind(D){var h=a.k.None;if(D.matrix)h=a.k.Matrix;else if(D.table)h=a.k.Table;else{if(!D.categorical)return void i.Y.assertFail("DataViewQueryEngine for this call doesnt support dataView other than categorical/table/matrix");h=a.k.Categorical}return h}static query(D,h,C,y,f){if(_.isEmpty(D)||!h)return[];var b,S=(0,t.Bz)(h);if(_.some(S,O=>!(0,t.fF)(O)))return[];b=y&&!f?y:h.metadata;var V=[];if((0,r.Lt)(C,a.k.Table))for(var M of D){var P=new l(h,b,f);m(M.table,P),V.push(...P.valueDetails||[])}else if((0,r.Lt)(C,a.k.Categorical))for(var T of D){var N=new s(h,b,f);v(T,N),V.push(...N.valueDetails||[])}else if((0,r.Lt)(C,a.k.Matrix))for(var w of D){var I=new p(h);g(w.matrix,I),V.push(...I.valueDetails||[])}return V}}class s{constructor(D,h,C){this.ignoreQueryName=C,this.requestedValues=h,this.identities=(0,t.Bz)(D),this.valueDetails=[]}visitCategoryColumns(D,h){var C=this;if(!_.isEmpty(D)){var y=function(S){if(C.ignoreQueryName||_.includes(C.requestedValues,S.source.queryName))for(var b=0;b<S.identity.length;b++){var V=S.identity[b];if(_.includes(C.identities,V)){var M=_.find(h.columns,P=>P.index===S.source.index);C.valueDetails.push({identity:V,value:S.values[b],expr:M.expr,formattedValue:(0,n.GP)(S.values[b],S.source.format)});break}}};for(var f of D)y(f)}}visitValueColumnGroups(D,h){if(!_.isEmpty(D)&&h&&(this.ignoreQueryName||_.includes(this.requestedValues,h.queryName)))for(var C of D)if(_.includes(this.identities,C.identity))return void this.valueDetails.push({value:C.name,formattedValue:(0,n.GP)(C.name,h.format),expr:h.expr,identity:C.identity})}visitValueColumn(D){return!!_.isEmpty(this.requestedValues)||_.includes(this.requestedValues,D.source.queryName)}visitValue(D,h,C,y,f){u(this.identities,h.data)||this.valueDetails.push({expr:C.expr,value:D,formattedValue:(0,n.GP)(D,C.format),identity:_.head(h.data)})}}class p{constructor(D){this.valueDetails=[],this.identitiesToSearch=(0,t.Bz)(D)}visitHierarchy(D){for(var h=D.root;h&&h.children&&this.identitiesToSearch.length>0;)h=this.searchNode(h,D.levels)}searchNode(D,h){for(var C of this.identitiesToSearch)for(var y of D.children)if(y.identity===C){var f=y.levelValues,S=h[y.level||0];if(!_.isEmpty(f))for(var b of f){var V=S.sources[b.levelSourceIndex||0];this.valueDetails.push({expr:V.expr,identity:C,value:b.value,formattedValue:(0,n.GP)(b.value,V.format)})}return _.remove(this.identitiesToSearch,C),y}}}class l{constructor(D,h,C){this.ignoreQueryName=C,this.requestedValues=h,this.identities=(0,t.Bz)(D),this.valueDetails=[],this.requestedColumnsIndices=[]}visitColumn(D,h){(this.ignoreQueryName||D.isMeasure&&(_.isEmpty(this.requestedValues)||_.includes(this.requestedValues,D.queryName)))&&this.requestedColumnsIndices.push(h)}visitRow(D,h){if(i.Y.assertAnyValue(D.rows[h],"A row for this rowIndex does not exist"),!D.identity||!u(this.identities,[D.identity[h]]))for(var y of this.requestedColumnsIndices){var f=D.rows[h][y],S=D.columns[y];this.valueDetails.push({expr:S.expr,value:f,formattedValue:(0,n.GP)(f,S.format),identity:D.identity&&D.identity[h]})}}}function u(E,D){if(E){var C,h=function(f){if(!_.some(D,S=>(0,d.aI)(f,S)))return{v:!0}};for(var y of E)if(C=h(y))return C.v}return!1}function v(E,D){var h=E.categorical;if(i.Y.assertAnyValue(D,"visitor should be defined"),h&&!_.isEmpty(h.values)){var C=(0,o.T$)(h);D.visitCategoryColumns(C,E.metadata);var y=_.head(h.categories),f=y&&_.clone(y.identity),S=h.values.grouped();for(var b of(D.visitValueColumnGroups(S,h.values.source),S)){var V=b.identity;for(var M of b.values)if(D.visitValueColumn(M))for(var P=Object.keys(M.values),T=0;T<P.length;T++){var w=M.values[P[T]],O={data:f?[f[T]]:[],metadata:M.source.queryName};V&&O.data.push(V),D.visitValue(w,O,M.source,h.categories,T)}}}}function m(E,D){if(i.Y.assertAnyValue(D,"visitor should be defined"),E&&!_.isEmpty(E.rows)){for(var h=E.columns,C=0;C<h.length;C++)D.visitColumn(h[C],C);for(var y=0;y<E.rows.length;y++)D.visitRow(E,y)}}function g(E,D){E&&(E.rows&&D.visitHierarchy(E.rows),E.columns&&D.visitHierarchy(E.columns))}},778122:function(ve,z,e){e.d(z,{V:function(){return r},_:function(){return t}});var a=e(476271),i=e(690332);function r(o){return{scopeId:i.F3.serializeExpr(o.expr)}}function t(o){if(o.scopeId){var d=i.F3.deserializeExpr(o.scopeId);if(d)return(0,a.UQ)(d)}}},482458:function(ve,z,e){e.d(z,{At:function(){return l},Z_:function(){return p},iu:function(){return n},lK:function(){return d}});var a=e(18122),i=e(266092),r=e(904143),t=e(337965),o={get:h=>h,getOptional:h=>h,format:h=>h};function d(h,C){a.Y.assertValue(h,"objectDescriptors");var y={};for(var f in h)y[f]=c(h[f],C||o);return y}function n(h){a.Y.assertValue(h,"wireObjectDescriptors");var C={};for(var y in h)C[y]=s(h[y]);return C}function c(h,C){if(h){var y={properties:{}};for(var f in h.displayName&&(y.displayName=(0,i.M)(h.displayName,C)),h.description&&(y.description=(0,i.M)(h.description,C)),h.properties)y.properties[f]=p(h.properties[f],C);return y}}function s(h){var C={properties:{}};for(var y in h.displayName&&(C.displayName=(0,i.D)(h.displayName)),h.description&&(C.description=(0,i.D)(h.description)),h.properties)C.properties[y]=l(h.properties[y]);return C}function p(h,C){var y={type:u(h.type,C)};return h.rule&&(y.rule=h.rule),h.displayName&&(y.displayName=(0,i.M)(h.displayName,C)),h.description&&(y.description=(0,i.M)(h.description,C)),h.placeHolderText&&(y.placeHolderText=(0,i.M)(h.placeHolderText,C)),y}function l(h){var C={type:v(h.type)};return h.displayName&&(C.displayName=(0,i.D)(h.displayName)),h.description&&(C.description=(0,i.D)(h.description)),h.placeHolderText&&(C.placeHolderText=(0,i.D)(h.placeHolderText)),h.rule&&(C.rule=h.rule),C}function u(h,C){var y=t.eV.fromDescriptor(h);return y&&y.enum?{enumeration:g(y.enum,C)}:y?.flagsEnum?{flagsEnumeration:g(y.flagsEnum,C)}:h}function v(h){return t.eV.fromDescriptor(h)?function(h){var C;if(h.enumeration)C={enumeration:E(h.enumeration)};else if(h.flagsEnumeration)C={flagsEnumeration:E(h.flagsEnumeration)};else for(var f in C={},h)C[f]=h[f];return C}(h):h}function g(h,C){return _.map(h.members(),y=>function(h,C){return{displayName:(0,i.M)(h.displayName,C),value:h.value}}(y,C))}function E(h){return(0,r.s)(h)}},698244:function(ve,z,e){e.d(z,{QC:function(){return he},EP:function(){return H},NK:function(){return Q},H3:function(){return At},Cf:function(){return Ke},BE:function(){return We},mV:function(){return te},bZ:function(){return Qe},ZC:function(){return Te},kv:function(){return we},Gs:function(){return W},E6:function(){return K},U6:function(){return ne},ae:function(){return me},Xy:function(){return tt},Eo:function(){return qe},g$:function(){return mt},bF:function(){return Be},Gq:function(){return et},zl:function(){return ee},MG:function(){return le},Iu:function(){return ue},fU:function(){return Xe}});var a=e(761297),i=e(293444),r=e(579260),t=e(18122),o=e(223431),d=e(178748),n=e(53069),c=e(890741),s=e(999904),p=e(688555),l=e(619895),u=e(735183),v=e(877723),m=e(258480),g=e(757406),E=e(641509),D=e(816078),h=e(927574),C=e(312185),y=e(154277),f=e(153920),S=e(337965),b=e(778122),V=function($e){return $e.Callout="callout",$e.Highlight="highlight",$e}({});function M($e){var pt=$e.kind;if(!pt)return!1;switch(pt){case d.P.AnnotationTemplate:case d.P.Icon:case d.P.ExprList:case d.P.ErrorRange:case d.P.ItemLocation:return!0;default:t.Y.assertNever(pt)}return!1}var X,N=e(673319),w=e(654316),I=e(690332),O=S.eV.fromDescriptor({bool:!0}),x=S.eV.fromDescriptor({numeric:!0}),j=S.eV.fromDescriptor({integer:!0}),U=S.eV.fromDescriptor({text:!0}),F=S.eV.fromDescriptor({dateTime:!0}),R={fill:{solid:{color:!0}}},A=e(171494);function W($e,pt){var Ut=$e&&$e[pt];if(Ut){for(var $t,er=0,or=Ut.length;er<or;er++){var vr=Ut[er];if(null==vr.selector){$t=vr;break}}if($t)return $t.properties}}function K($e){return $e&&"ExprContext"===$e.propertyDefinitionKind}function ne($e){return _.isArray($e)&&!!$e[0].dataMap}function Q($e,pt,Ut,$t="objects"){if(null!=$e)if(!_.isEmpty($e)||(0,a.cH)($e)){var er=pt();if(er)Ut[$t]=H($e,er);else{var vr,or=!1;Object.defineProperty(Ut,$t,{enumerable:!0,get:()=>(or||(or=!0,vr=H($e,pt())),vr),set:mr=>{or=!0,vr=mr}})}}else Ut[$t]={};else Ut[$t]=void 0}function H($e,pt){if(t.Y.assertAnyValue($e,"input"),t.Y.assertAnyValue(pt,"descriptors"),$e){!X&&!pt&&(X=!0,o.Cn.error("deserializeObjects called with no descriptors - ",!0));var Ut={};for(var $t in $e){var er=void 0;if(!pt||(er=pt[$t]))for(var or=$e[$t],vr=Ut[$t]=[],mr=0,Mr=or.length;mr<Mr;mr++)vr.push(He(or[mr],er,!pt))}return Ut}}function te($e){if($e)return _.map($e,We)}function ee($e){if($e)return _.map($e,et)}function ue($e){if($e)return{category:$e.categoryString,underlyingType:$e.extendedType}}function Te($e){if($e)return new S.eV($e.underlyingType,$e.category)}function He($e,pt,Ut){if(t.Y.assertAnyValue($e,"input"),t.Y.assertAnyValue(pt,"descriptor"),$e){var $t={properties:Oe($e.properties,pt?pt.properties:null,Ut)},er=We($e.selector);return er&&($t.selector=er),$t}}function We($e){if(t.Y.assertAnyValue($e,"input"),null===$e)return null;if($e){var pt={};return $e.data&&(pt.data=_.chain($e.data).map(Ut=>Ee(Ut)).filter(Ut=>null!=Ut).value()),$e.metadata&&(pt.metadata=$e.metadata),$e.id&&(pt.id=$e.id),void 0!==$e.highlightMatching&&(pt.highlightMatching=$e.highlightMatching),void 0!==$e.hierarchyMatching&&(pt.hierarchyMatching=$e.hierarchyMatching),null!=$e.order&&(pt.order=$e.order),pt}}function ft($e,pt){return t.Y.assertAnyValue($e,"relatedObjects"),$e?Object.fromEntries(Object.entries($e).map(([Ut,$t])=>[Ut,Object.fromEntries(Object.entries($t).map(([er,or])=>[er,or.map(pt)]))])):{}}function mt($e){return ft($e,pt=>et(pt))}function At($e){return ft($e,pt=>We(pt))}function Qe($e){if(t.Y.assertAnyValue($e,"input"),$e){var pt={};if($e.dataMap)for(var Ut in pt.dataMap={},$e.dataMap)pt.dataMap[Ut]=_.chain($e.dataMap[Ut]).map($t=>Ee($t)).filter($t=>null!=$t).value();return $e.metadata&&(pt.metadata=$e.metadata),$e.id&&(pt.id=$e.id),pt}}function Fe($e,pt,Ut){$e.decomposedIdentities&&(pt.decomposedIdentities=Ut($e.decomposedIdentities)),$e.queryNames&&(pt.queryNames=$e.queryNames),$e.queryNameMap&&(pt.queryNameMap=$e.queryNameMap),$e.metadata&&(pt.metadata=$e.metadata),$e.id&&(pt.id=$e.id)}function we($e){if($e)return _.map($e,pt=>({objectName:pt.objectName,selectorsByColumn:Qe(pt.selectorsByColumn)}))}function Ee($e){return t.Y.assertValue($e,"input"),$e.scopeId?(0,b._)($e):$e.wildcard?(0,u.Hg)(_.map($e.wildcard,I.F3.deserializeExpr)):$e.roles?(0,p.WV)($e.roles):$e.total?(0,l.Hg)(_.map($e.total,I.F3.deserializeExpr)):$e.dataViewWildcard?(0,v.vt)($e.dataViewWildcard.matchingOption):void 0}function Oe($e,pt,Ut){if(t.Y.assertAnyValue($e,"input"),t.Y.assertAnyValue(pt,"propertyDescriptors"),$e){var $t={};for(var er in $e){var or=he($e[er],pt?pt[er]:null,Ut);void 0!==or&&($t[er]=or)}return $t}}function he($e,pt,Ut){if(t.Y.assertAnyValue($e,"input"),t.Y.assertAnyValue(pt,"propertyDescriptor"),pt){var $t=nr(pt.type);return K($e)?{propertyDefinitionKind:"ExprWithContext",value:xe($e.value,$t.value),context:Ie($e.context)}:function($e,pt){return!!pt.value}(0,$t)?xe($e,$t.value):Se($e,$t.structural)}if(Ut&&$e){if(K($e))return{propertyDefinitionKind:"ExprWithContext",value:I.F3.deserializeExpr($e.value.expr),context:Ie($e.context)};var er=$e;if(er.expr)return I.F3.deserializeExpr(er.expr);if(er.solid)return Se(er,R);if(er.filter)return I.F3.deserializeFilter(er.filter);if(M(er))return Ae(er)}}function xe($e,pt){if(t.Y.assertValue(pt,"type"),void 0!==pt.primitiveType&&$e?.expr)return I.F3.deserializeExpr($e.expr)}function Se($e,pt){if(t.Y.assertValue(pt,"type"),pt.fill&&pt.fill.solid&&pt.fill.solid.color&&$e)return $e.solid&&$e.solid.color?{solid:{color:xe($e.solid.color,S.eV.fromPrimitiveTypeAndCategory(i.W.Text))}}:void 0;if(pt.fillRule){var er=ar($e,xe);if(er)return er}var or=$e;return pt.filter&&or&&or.filter?I.F3.deserializeFilter(or.filter):pt.image&&or&&or.image?function($e){t.Y.assertValue($e,"input");var pt={name:xe($e.name,U),url:xe($e.url,S.eV.fromDescriptor(E.c))};return $e.scaling&&(pt.scaling=xe($e.scaling,U)),pt}(or.image):pt.geoJson&&or&&or.geoJson?function($e){return t.Y.assertValue($e,"input"),{type:xe($e.type,U),name:xe($e.name,U),content:xe($e.content,U)}}(or.geoJson):pt.paragraphs&&$e?function($e){return t.Y.assertValue($e,"input"),_.map($e,pt=>{var Ut={textRuns:_.map(pt.textRuns,$t=>(0,C.PG)($t)?Me($t):(0,C.Nr)($t)?function($e){var pt={cases:_.map($e.cases,Ut=>{var $t={pattern:xe(Ut.pattern,U),textRuns:_.map(Ut.textRuns,er=>Me(er))};return $t}),defaultCase:{textRuns:_.map($e.defaultCase.textRuns,Ut=>Me(Ut))},expression:lt($e.expression)};return pt}($t):void 0)};return pt.horizontalTextAlignment&&(Ut.horizontalTextAlignment=pt.horizontalTextAlignment),pt.listType&&(Ut.listType=pt.listType),pt.indent&&(Ut.indent=pt.indent),Ut})}($e):pt.queryTransform&&$e?function($e){return t.Y.assertValue($e,"input"),{algorithm:$e.algorithm,parameters:_.map($e.parameters,Ut=>({name:Ut.Name,expr:I.F3.deserializeExpr(Ut)}))}}($e):pt.dataBars&&$e?function($e){return t.Y.assertValue($e,"input"),{minValue:$e.minValue?xe($e.minValue,x):void 0,maxValue:$e.maxValue?xe($e.maxValue,x):void 0,positiveColor:Se($e.positiveColor,R),negativeColor:Se($e.negativeColor,R),axisColor:Se($e.axisColor,R),reverseDirection:xe($e.reverseDirection,O),hideText:xe($e.hideText,O),totalMatchingOption:$e.totalMatchingOption?xe($e.totalMatchingOption,j):void 0}}($e):pt.qnaVisualLink&&$e?function($e){t.Y.assertValue($e,"input");var pt={};return $e.suggestedUtterances&&(pt.suggestedUtterances=_.map($e.suggestedUtterances,Ut=>({utterance:Ut.Utterance}))),_.isEmpty(pt)?void 0:pt}($e):M($e)?Ae($e,pt):void t.Y.assertFail("Deserializing a structural type failed")}function Ae($e,pt){t.Y.assertValue($e,"input");var Ut=$e.kind;switch(Ut){case d.P.AnnotationTemplate:return(!pt||pt.annotationTemplate)&&function($e){if(t.Y.assertValue($e,"input"),function($e){return $e.annotationType===V.Callout}($e)){var pt=$e,Ut={kind:d.P.AnnotationTemplate,annotationType:h.x.Callout,text:I.F3.deserializeExpr(pt.text.expr)};return null!=pt.offsetX&&(Ut.offsetX=I.F3.deserializeExpr(pt.offsetX.expr)),null!=pt.offsetY&&(Ut.offsetY=I.F3.deserializeExpr(pt.offsetY.expr)),null!=pt.width&&(Ut.width=I.F3.deserializeExpr(pt.width.expr)),null!=pt.height&&(Ut.height=I.F3.deserializeExpr(pt.height.expr)),null!=pt.lastEditUTCTimestamp&&(Ut.lastEditUTCTimestamp=I.F3.deserializeExpr(pt.lastEditUTCTimestamp.expr)),Ut}var $t=$e,er={kind:d.P.AnnotationTemplate,annotationType:h.x.Highlight,color:I.F3.deserializeExpr($t.color.expr)};return null!=$t.fontColor&&(er.fontColor=I.F3.deserializeExpr($t.fontColor.expr)),null!=$t.backgroundColor&&(er.backgroundColor=I.F3.deserializeExpr($t.backgroundColor.expr)),null!=$t.emphasizeText&&(er.emphasizeText=I.F3.deserializeExpr($t.emphasizeText.expr)),null!=$t.strokeDasharray&&(er.strokeDasharray=I.F3.deserializeExpr($t.strokeDasharray.expr)),null!=$t.shouldOffsetVisibleOutlinesInbound&&(er.shouldOffsetVisibleOutlinesInbound=I.F3.deserializeExpr($t.shouldOffsetVisibleOutlinesInbound.expr)),null!=$t.targets&&(er.targets=_.map($t.targets,or=>I.F3.deserializeExpr(or.expr))),er}($e);case d.P.Icon:return(!pt||pt.icon)&&function($e){t.Y.assertValue($e,"input");var pt={kind:d.P.Icon};return $e.layout&&(pt.layout=xe($e.layout,U)),$e.verticalAlignment&&(pt.verticalAlignment=xe($e.verticalAlignment,O)),$e.value&&(pt.value=xe($e.value,U)),pt}($e);case d.P.ExprList:return(!pt||pt.exprList||pt.selectedValues)&&function($e){t.Y.assertValue($e,"input");var pt={exprs:[],kind:d.P.ExprList};return pt.exprs=_.map($e.exprs,Ut=>I.F3.deserializeExpr(Ut.expr)),pt}($e);case d.P.ErrorRange:return(!pt||pt.errorRange)&&function($e){t.Y.assertValue($e,"input");var pt={kind:d.P.ErrorRange};if($e.explicit){var Ut=$e.explicit;pt.explicit={isRelative:I.F3.deserializeExpr(Ut.isRelative.expr)},Ut.lowerBound&&(pt.explicit.lowerBound=I.F3.deserializeExpr(Ut.lowerBound.expr)),Ut.upperBound&&(pt.explicit.upperBound=I.F3.deserializeExpr(Ut.upperBound.expr))}else if($e.symmetricalExplicit)pt.symmetricalExplicit={delta:I.F3.deserializeExpr($e.symmetricalExplicit.delta.expr)};else if($e.standardDeviation){var er=$e.standardDeviation;pt.standardDeviation={value:I.F3.deserializeExpr(er.value.expr),multiplier:I.F3.deserializeExpr(er.multiplier.expr)}}else if($e.percentage){var or=$e.percentage;pt.percentage={lowerBoundDelta:I.F3.deserializeExpr(or.lowerBoundDelta.expr),upperBoundDelta:I.F3.deserializeExpr(or.upperBoundDelta.expr)}}else if($e.percentile){var vr=$e.percentile;t.Y.assertValue(vr.lowerBound.expr.Percentile,"Percentile lowerBound must be a Percentile expression"),t.Y.assertValue(vr.upperBound.expr.Percentile,"Percentile lowerBound must be a Percentile expression"),pt.percentile={lowerBound:I.F3.deserializeExpr(vr.lowerBound.expr),upperBound:I.F3.deserializeExpr(vr.upperBound.expr)}}return pt}($e);case d.P.ItemLocation:return(!pt||pt.itemLocation)&&function($e){var pt;if(t.Y.assertValue($e,"input"),$e.byReference&&(pt={kind:d.P.ItemLocation,byReference:{itemId:xe($e.byReference.itemId,U)}},null!=$e.byReference.workspaceId&&(pt.byReference.workspaceId=xe($e.byReference.workspaceId,U)),null!=$e.byReference.folderId&&(pt.byReference.folderId=xe($e.byReference.folderId,U))),pt&&$e.metadata){pt.metadata={};var $t=$e.metadata.dataFunction;$t&&(pt.metadata.dataFunction={name:$t.name,autoRefresh:$t.autoRefresh,parameters:$t.parameters.map(er=>{switch(er.type){case"SlicerParameter":return{...er};case"ValueParameter":return{...er,value:I.F3.deserializeExpr(er.value.expr)}}})})}return pt}($e);default:t.Y.assertNever(Ut)}}function Ie($e){t.Y.assertValue($e,"input");var pt={};return _.isEmpty($e.filterContext)||(pt.filterContext=_.map($e.filterContext,Ut=>({filter:I.F3.deserializeFilter(Ut.filter),metadata:Ut.metadata?(0,w.jH)(Ut.metadata):void 0}))),pt}function Me($e){var pt={value:Ge($e.value)};return $e.textStyle&&(pt.textStyle=$e.textStyle),$e.url&&(pt.url=$e.url),$e.mentionEmail&&(pt.mentionEmail=$e.mentionEmail),$e.mentionKey&&(pt.mentionKey=$e.mentionKey),pt}function Ge($e){var pt;if(_.isString($e))pt=$e;else if(!(pt=xe($e,U))){var Ut=$e;(0,f.p)(Ut)&&(pt=Ut)}return pt}function lt($e){var pt;if(!(pt=xe($e,U))){var Ut=$e;(0,f.p)(Ut)&&(pt=Ut)}return pt}function qe($e,pt,Ut,$t){if(t.Y.assertAnyValue($e,"contract"),t.Y.assertAnyValue(pt,"descriptors"),$e){var er={};for(var or in $e){var vr=void 0;if(!pt||(vr=pt[or]))for(var mr=$e[or],Mr=er[or]=[],Lr=0,Ur=mr.length;Lr<Ur;Lr++)Mr.push(ut(mr[Lr],vr,!pt,Ut,$t))}return er}}function ut($e,pt,Ut,$t,er){if(t.Y.assertAnyValue($e,"contract"),t.Y.assertAnyValue(pt,"descriptor"),$e){var or=function($e,pt,Ut,$t,er){if(t.Y.assertAnyValue($e,"contract"),t.Y.assertAnyValue(pt,"descriptors"),$e){var or={};for(var vr in $e){var mr=pt?pt[vr]:null;if(!(er&&mr?.transient||!Ut&&!mr)){var Mr=tt($e[vr],mr,Ut,$t);void 0===Mr?t.Y.assertFail("DataViewObjectSerializer: failed to serialize property: "+vr+" due to malformed property value."):or[vr]=Mr}}return or}}($e.properties,pt?pt.properties:null,Ut,$t,er);if(or){var vr={properties:or},mr=et($e.selector);return mr&&(vr.selector=mr),vr}}}function et($e){if(t.Y.assertAnyValue($e,"contract"),null===$e)return null;if($e){var pt={};return $e.data&&(pt.data=_.chain($e.data).map(Ut=>re(Ut)).filter(Ut=>null!=Ut).value()),$e.metadata&&(pt.metadata=$e.metadata),$e.id&&(pt.id=$e.id),void 0!==$e.highlightMatching&&(pt.highlightMatching=$e.highlightMatching),void 0!==$e.hierarchyMatching&&(pt.hierarchyMatching=$e.hierarchyMatching),null!=$e.order&&(pt.order=$e.order),pt}}function le($e){if(t.Y.assertAnyValue($e,"contract"),$e){var pt={};if($e.dataMap)for(var Ut in pt.dataMap={},$e.dataMap){var $t=(0,r.eC)($e.dataMap[Ut]);pt.dataMap[Ut]=_.chain($t).map(er=>re(er)).filter(er=>null!=er).value()}return $e.metadata&&(pt.metadata=$e.metadata),$e.id&&(pt.id=$e.id),pt}}function me($e){if(t.Y.assertAnyValue($e,"contract"),$e){var pt={};return Fe($e,pt,N.y4),pt}}function Be($e,pt){return pt?me((0,n.$Y)($e)):_.map($e,$t=>le($t))}function Ke($e){if(function($e){return!_.isArray($e)&&!!$e.decomposedIdentities}($e)){var pt=function($e){if(t.Y.assertAnyValue($e,"input"),$e){var pt={};return Fe($e,pt,N.Ph),pt}}($e);return(0,n.TM)(pt)}return _.map($e,Ut=>Qe(Ut))}function Xe($e){if($e)return _.map($e,pt=>({objectName:pt.objectName,selectorsByColumn:le(pt.selectorsByColumn)}))}function re($e){return t.Y.assertValue($e,"contract"),(0,c.fF)($e)&&$e.expr?(0,b.V)($e):(0,c.rh)($e)&&$e.exprs?{wildcard:_.map($e.exprs,pt=>I.F3.serializeExpr(pt))}:(0,c.jG)($e)&&$e.roles?{roles:$e.roles}:(0,c.pB)($e)&&$e.exprs?{total:_.map($e.exprs,pt=>I.F3.serializeExpr(pt))}:(0,c.z2)($e)?{dataViewWildcard:fe($e)}:void t.Y.assertFail("serializeDataRepetitionSelector - Selector did not match type and constraints.")}function fe($e){return{matchingOption:$e.matchingOption}}function tt($e,pt,Ut,$t){if(t.Y.assertAnyValue($e,"contract"),t.Y.assertAnyValue(pt,"descriptor"),pt){var er=nr(pt.type);return(0,s.JZ)($e)?{propertyDefinitionKind:"ExprContext",value:ot($e.value,er.value),context:J($e.context,$t)}:er.value?ot($e,er.value):rt($e,er.structural)}if(Ut&&$e){if((0,s.JZ)($e))return{propertyDefinitionKind:"ExprContext",value:{expr:I.F3.serializeExpr($e.value)},context:J($e.context,$t)};if($e instanceof g.yj)return{expr:I.F3.serializeExpr($e)};if($e instanceof m.b0)return{filter:I.F3.serializeFilter($e)};var or=$e;if((0,y.YK)(or))return Re(or);if(or.solid)return rt($e,R)}}function ot($e,pt){if(t.Y.assertValue(pt,"type"),void 0!==pt?.primitiveType&&$e instanceof g.yj)return{expr:I.F3.serializeExpr($e,!0)}}function rt($e,pt){if(t.Y.assertValue(pt,"type"),$e){if((0,y.YK)($e))return Re($e,pt);if(pt.fill&&pt.fill.solid&&pt.fill.solid.color)return{solid:{color:ot($e.solid.color,U)}};if(pt.fillRule){var er=ar($e,ot);if(er)return er}if(pt.filter)return{filter:I.F3.serializeFilter($e)};if(pt.image)return{image:ce($e)};if(pt.geoJson)return{geoJson:Ce($e)};if(pt.paragraphs)return function($e){return t.Y.assertValue($e,"definition"),_.map($e,pt=>{var Ut={textRuns:_.map(pt.textRuns,$t=>(0,C.OX)($t)?it($t):(0,C.k9)($t)?{cases:_.map($t.cases,or=>({pattern:ot(or.pattern,U),textRuns:_.map(or.textRuns,mr=>it(mr))})),defaultCase:{textRuns:_.map($t.defaultCase.textRuns,or=>it(or))},expression:Nt($t.expression)}:void 0)};return pt.horizontalTextAlignment&&(Ut.horizontalTextAlignment=pt.horizontalTextAlignment),pt.listType&&(Ut.listType=pt.listType),pt.indent&&(Ut.indent=pt.indent),Ut})}($e);if(pt.queryTransform)return function($e){return{algorithm:$e.algorithm,parameters:_.map($e.parameters,pt=>{var Ut=I.F3.serializeExpr(pt.expr);return Ut.Name=pt.name,Ut})}}($e);if(pt.dataBars)return function($e){return{minValue:ot($e.minValue,x),maxValue:ot($e.maxValue,x),positiveColor:rt($e.positiveColor,R),negativeColor:rt($e.negativeColor,R),axisColor:rt($e.axisColor,R),reverseDirection:ot($e.reverseDirection,O),hideText:ot($e.hideText,O),totalMatchingOption:ot($e.totalMatchingOption,j)}}($e);if(pt.qnaVisualLink)return function($e){t.Y.assertValue($e,"input");var pt={};if($e.suggestedUtterances){pt.suggestedUtterances=_.map($e.suggestedUtterances,$t=>({Version:"1.0",Utterance:$t.utterance}))}return _.isEmpty(pt)?void 0:pt}($e);t.Y.assertFail("Serializing a structural type failed")}}function Re($e,pt){var Ut=$e.kind;switch(Ut){case d.P.AnnotationTemplate:return(!pt||pt.annotationTemplate)&&function($e){if(t.Y.assertValue($e,"input"),(0,D.TV)($e)){var pt=$e,Ut={kind:d.P.AnnotationTemplate,annotationType:V.Callout,text:ot(pt.text,U)};return null!=pt.offsetX&&(Ut.offsetX=ot(pt.offsetX,x)),null!=pt.offsetY&&(Ut.offsetY=ot(pt.offsetY,x)),null!=pt.width&&(Ut.width=ot(pt.width,x)),null!=pt.height&&(Ut.height=ot(pt.height,x)),null!=pt.lastEditUTCTimestamp&&(Ut.lastEditUTCTimestamp=ot(pt.lastEditUTCTimestamp,x)),Ut}var $t=$e,er={kind:d.P.AnnotationTemplate,annotationType:V.Highlight,color:ot($t.color,U)};return null!=$t.fontColor&&(er.fontColor=ot($t.fontColor,U)),null!=$t.backgroundColor&&(er.backgroundColor=ot($t.backgroundColor,U)),null!=$t.emphasizeText&&(er.emphasizeText=ot($t.emphasizeText,O)),null!=$t.strokeDasharray&&(er.strokeDasharray=ot($t.strokeDasharray,U)),null!=$t.shouldOffsetVisibleOutlinesInbound&&(er.shouldOffsetVisibleOutlinesInbound=ot($t.shouldOffsetVisibleOutlinesInbound,O)),null!=$t.targets&&(er.targets=_.map($t.targets,or=>ot(or,U))),er}($e);case d.P.Icon:return(!pt||pt.icon)&&function($e){var pt={kind:d.P.Icon};return $e.layout&&(pt.layout=ot($e.layout,U)),$e.verticalAlignment&&(pt.verticalAlignment=ot($e.verticalAlignment,O)),$e.value&&(pt.value=ot($e.value,U)),pt}($e);case d.P.ExprList:return(!pt||pt.exprList||pt.selectedValues)&&function($e){t.Y.assertValue($e,"input");var pt={exprs:[],kind:d.P.ExprList};return pt.exprs=_.map($e.exprs,Ut=>ot(Ut,U)),pt}($e);case d.P.ErrorRange:return(!pt||pt.errorRange)&&function($e){t.Y.assertValue($e,"input");var pt={kind:d.P.ErrorRange};if($e.explicit){var Ut=$e.explicit;pt.explicit={isRelative:ot(Ut.isRelative,O)},Ut.lowerBound&&(pt.explicit.lowerBound=ot(Ut.lowerBound,x)),Ut.upperBound&&(pt.explicit.upperBound=ot(Ut.upperBound,x))}else if($e.symmetricalExplicit)pt.symmetricalExplicit={delta:ot($e.symmetricalExplicit.delta,x)};else if($e.standardDeviation){var er=$e.standardDeviation;pt.standardDeviation={value:ot(er.value,x),multiplier:ot(er.multiplier,x)}}else if($e.percentage){var or=$e.percentage;pt.percentage={lowerBoundDelta:ot(or.lowerBoundDelta,x),upperBoundDelta:ot(or.upperBoundDelta,x)}}else if($e.percentile){var vr=$e.percentile;pt.percentile={lowerBound:ot(vr.lowerBound,x),upperBound:ot(vr.upperBound,x)}}return pt}($e);case d.P.ItemLocation:return function($e){var pt;if(t.Y.assertValue($e,"input"),$e.byReference){var Ut=$e.byReference;pt={kind:d.P.ItemLocation,byReference:{itemId:ot(Ut.itemId,U)}},null!=Ut.workspaceId&&(pt.byReference.workspaceId=ot(Ut.workspaceId,U)),null!=Ut.folderId&&(pt.byReference.folderId=ot(Ut.folderId,U))}if(pt){var $t=$e.metadata;if($t){pt.metadata={};var er=$t.dataFunction;er&&(pt.metadata.dataFunction={name:er.name,autoRefresh:er.autoRefresh,parameters:er.parameters.map(or=>{switch(or.type){case"SlicerParameter":return{...or};case"ValueParameter":var mr,vr=(0,A.e)(or.dataType);switch(vr.primitive){case"boolean":mr=O;break;case"number":mr=x;break;case"string":mr=U;break;case"datetime":mr=F;break;case"any":case"void":break;default:t.Y.assertNever(vr.primitive)}return{...or,value:ot(or.value,mr)}}})})}}return pt}($e);default:t.Y.assertNever(Ut)}}function J($e,pt){t.Y.assertValue($e,"contract");var Ut={};return _.isEmpty($e.filterContext)||(Ut.filterContext=_.map($e.filterContext,$t=>({filter:I.F3.serializeFilter($t.filter),metadata:$t.metadata?(0,w.UJ)($t.metadata,pt):void 0}))),Ut}function ce($e){t.Y.assertValue($e,"definition");var pt={name:ot($e.name,U),url:ot($e.url,S.eV.fromDescriptor(E.c))};return $e.scaling&&(pt.scaling=ot($e.scaling,U)),pt}function Ce($e){return t.Y.assertValue($e,"definition"),{type:ot($e.type,U),name:ot($e.name,U),content:ot($e.content,U)}}function it($e){var pt={value:yt($e.value)};return $e.textStyle&&(pt.textStyle=$e.textStyle),$e.url&&(pt.url=$e.url),$e.mentionEmail&&(pt.mentionEmail=$e.mentionEmail),$e.mentionKey&&(pt.mentionKey=$e.mentionKey),pt}function yt($e){var pt;return $e instanceof g.yj?pt=ot($e,U):_.isString($e)||(0,f.p)($e)?pt=$e:t.Y.assertNever($e),pt}function Nt($e){var pt;return $e instanceof g.yj?pt=ot($e,U):(0,f.p)($e)?pt=$e:t.Y.assertNever($e),pt}function nr($e){t.Y.assertValue($e,"typeDescriptor");var pt=S.eV.fromDescriptor($e);return pt.primitiveType!==i.W.Null?{value:pt}:{structural:$e}}function ar($e,pt){if($e.linearGradient2){var Ut=$e.linearGradient2,$t={min:{color:pt(Ut.min.color,S.eV.fromPrimitiveTypeAndCategory(i.W.Text))},max:{color:pt(Ut.max.color,S.eV.fromPrimitiveTypeAndCategory(i.W.Text))}};return Ut.min.value&&($t.min.value=pt(Ut.min.value,S.eV.fromPrimitiveTypeAndCategory(i.W.Double))),Ut.max.value&&($t.max.value=pt(Ut.max.value,S.eV.fromPrimitiveTypeAndCategory(i.W.Double))),Ut.nullColoringStrategy&&($t.nullColoringStrategy={strategy:pt(Ut.nullColoringStrategy.strategy,S.eV.fromPrimitiveTypeAndCategory(i.W.Text))},Ut.nullColoringStrategy.color&&($t.nullColoringStrategy.color=pt(Ut.nullColoringStrategy.color,S.eV.fromPrimitiveTypeAndCategory(i.W.Text)))),{linearGradient2:$t}}if($e.linearGradient3){var er=$e.linearGradient3,or={min:{color:pt(er.min.color,S.eV.fromPrimitiveTypeAndCategory(i.W.Text))},mid:{color:pt(er.mid.color,S.eV.fromPrimitiveTypeAndCategory(i.W.Text))},max:{color:pt(er.max.color,S.eV.fromPrimitiveTypeAndCategory(i.W.Text))}};return er.min.value&&(or.min.value=pt(er.min.value,S.eV.fromPrimitiveTypeAndCategory(i.W.Double))),er.mid.value&&(or.mid.value=pt(er.mid.value,S.eV.fromPrimitiveTypeAndCategory(i.W.Double))),er.max.value&&(or.max.value=pt(er.max.value,S.eV.fromPrimitiveTypeAndCategory(i.W.Double))),er.nullColoringStrategy&&(or.nullColoringStrategy={strategy:pt(er.nullColoringStrategy.strategy,S.eV.fromPrimitiveTypeAndCategory(i.W.Text))},er.nullColoringStrategy.color&&(or.nullColoringStrategy.color=pt(er.nullColoringStrategy.color,S.eV.fromPrimitiveTypeAndCategory(i.W.Text)))),{linearGradient3:or}}return null}},333129:function(ve,z,e){e.d(z,{R:function(){return v}});var a=e(293444),i=e(81825),r=e(18122),t=e(848665),o=e(999904),d=e(827431),n=e(757406),c=e(337965),s=e(698244),l=e(641831),u=e(690332);class v{static deserializeDataViewSelectTransforms(g){return r.Y.assertValue(g,"input"),function(m){if(m)for(var g of m)g.kpiStatusGraphic&&(g.kpi={graphic:g.kpiStatusGraphic})}(g),_.map(g,E=>{var D={displayName:E.displayName,format:E.format,kpi:E.kpi,queryName:E.queryName,roles:E.roles,sort:E.sort,sortOrder:E.sortOrder,type:(0,s.ZC)(E.type)};return E.expr&&(D.expr=u.F3.deserializeExpr(E.expr)),E.aggregateSources&&(D.aggregateSources=E.aggregateSources),E.relatedSelects&&(D.relatedSelects=E.relatedSelects),E.relatedObjects&&(D.relatedObjects=(0,s.H3)(E.relatedObjects)),D})}static serializeDataViewSelectTransforms(g){return r.Y.assertValue(g,"input"),_.map(g,E=>{var D={displayName:E.displayName,format:E.format,kpi:E.kpi,queryName:E.queryName,roles:E.roles,sort:E.sort,sortOrder:E.sortOrder,type:(0,s.Iu)(E.type)};return E.expr&&(D.expr=u.F3.serializeExpr(E.expr)),E.aggregateSources&&(D.aggregateSources=E.aggregateSources),E.relatedSelects&&(D.relatedSelects=E.relatedSelects),E.relatedObjects&&(D.relatedObjects=(0,s.g$)(E.relatedObjects)),E.sourceFieldParameters&&(D.sourceFieldParameters=E.sourceFieldParameters),D})}static serializeDataViewTransformActions(g,E){r.Y.assertAnyValue(E,"objectDescriptors");var D={objects:(g=g||{}).objects,projectionOrdering:g.roles&&g.roles.ordering,projectionActiveItems:g.roles&&g.roles.activeItems,splits:g.splits,queryMetadata:null,visualElements:null};return g&&g.objects&&(D.objects=(0,s.Eo)(g.objects,E,void 0,!1)),g&&g.selects&&(D.selects=v.serializeDataViewSelectTransforms(g.selects)),g&&!_.isEmpty(g.expansionStates)&&(D.expansionStates=(0,l.K2)(g.expansionStates)),D}static deserializeDataViewTransformActions(g,E){var D=E&&E.objects;r.Y.assertValue(g,"actions"),r.Y.assertAnyValue(D,"objectDescriptors");var h=g.objects?(0,s.EP)(g.objects,D):null,C=v.createTransformActions(g.queryMetadata,g.visualElements,D,h)||{},y=g&&g.projectionActiveItems;return _.isEmpty(y)||this.upgradeActiveItemsIfNeeded(y),C.roles={ordering:g.projectionOrdering,activeItems:y},C.splits=g.splits,g.selects&&(C.selects=v.deserializeDataViewSelectTransforms(g.selects)),g.expansionStates&&(C.expansionStates=(0,l.rY)(g.expansionStates,{supportsMerge:E&&E.expandCollapse&&E.expandCollapse.supportsMerge,canCollapseRoot:E&&E.noDefaultProjections,collapseParentAfterRemovingChildLevel:E&&E.expandCollapse&&E.expandCollapse.collapseParentAfterRemovingChildLevel})),this.upgradeComboChartFromCY16SU04AndPrior(C),C}static isStringArray(g){return _.isString(g[0])}static upgradeActiveItemsIfNeeded(g){for(var E in g){var D=g[E],h=void 0;!_.isEmpty(D)&&this.isStringArray(D)&&(h=_.map(D,y=>({queryRef:y}))),g[E]=h||D}}static upgradeComboChartFromCY16SU04AndPrior(g){r.Y.assertValue(g,"transformActions");var E="Y",h=g.roles&&g.roles.ordering;if(h){var C=h[E]&&1===h[E].length&&_.includes(h.Y2,h[E][0])?h[E][0]:void 0;if(void 0!==C){var y=g.splits&&2===g.splits.length&&!g.splits[0].selects[C]&&g.splits[1].selects[C]?g.splits[0]:void 0;if(y){var f=_.chain(Object.keys(y.selects)).filter(P=>y.selects[P]).map(P=>parseInt(P,10)).maxBy(P=>P).value();if(f!==Number.NEGATIVE_INFINITY&&g.selects&&g.selects.length===f){var b=g.selects[C];if(b&&b.roles[E]&&b.roles.Y2){delete b.roles[E];var M={...b};M.roles={[E]:!0},M.queryName=b.queryName,g.selects[f]=M,g.roles.ordering[E]=[f]}}}}}}static serializeTransformActions(g){return JSON.stringify(g)}static createTransformActions(g,E,D,h){var C=this;if(r.Y.assertAnyValue(g,"queryMetadata"),r.Y.assertAnyValue(E,"visualElements"),r.Y.assertAnyValue(D,"objectDescs"),r.Y.assertAnyValue(h,"objectDefns"),g&&!_.isEmpty(g.Select)||!_.isEmpty(E)||h){var y={};if(g){var f=g.Select;if(f)for(var S=y.selects=[],b=function(){var w=f[V];if(!w)return S.push(null),1;var I=C.toTransformSelect(w,V);if(S.push(I),I.format&&D){r.Y.assert(()=>!!I.queryName,"selectTransform.queryName should be defined (or defaulted).");var O=(0,d.U9)(D);O&&(h||(h={}),(0,o.KY)(h,O,{metadata:I.queryName},(0,n.Qq)(I.format)))}},V=0,M=f.length;V<M;V++)b()}if(E){var P=(E=_.unionBy(E,w=>JSON.stringify(w))).length;P>1&&(y.splits=[]);for(var T=0;T<P;T++){var N=E[T];N.Settings&&0===T&&(h=this.upgradeSettingsToObjects(N.Settings,h)),N.DataRoles&&(y.selects||(y.selects=[]),y.roles||(y.roles={ordering:{}}),this.populateDataRoles(N.DataRoles,y.selects,y.roles.ordering)),y.splits&&y.splits.push(this.populateSplit(N.DataRoles))}}return h&&(y.objects=h),y}}static toTransformSelect(g,E){r.Y.assertValue(g,"select");var D={};return g.Restatement&&(D.displayName=g.Restatement),g.Name?D.queryName=g.Name:D.queryName||(D.queryName="$select"+E),g.Format&&(D.format=g.Format),g.Type&&(D.type=this.describeDataType(g.Type,(0,t.L4)(g.DataCategory))),g.kpi&&(D.kpi=g.kpi),g.kpiStatusGraphic&&(D.kpi={graphic:g.kpiStatusGraphic}),D}static describeDataType(g,E){var D=a.W.Null;switch(g=g||i.r$.None){case i.r$.String:D=a.W.Text;break;case i.r$.Number:D=a.W.Double;break;case i.r$.Integer:D=a.W.Integer;break;case i.r$.Boolean:D=a.W.Boolean;break;case i.r$.Date:D=a.W.Date;break;case i.r$.DateTime:D=a.W.DateTime;break;case i.r$.Time:D=a.W.Time;break;case i.r$.Year:D=a.W.Integer,r.Y.assert(()=>!E||"Year"===E,"Unexpected category for Year type."),E="Year";break;case i.r$.Month:D=a.W.Integer,r.Y.assert(()=>!E||"Month"===E,"Unexpected category for Month type."),E="Month"}return c.eV.fromPrimitiveTypeAndCategory(D,E)}static populateDataRoles(g,E,D){r.Y.assertValue(g,"roles"),r.Y.assertValue(E,"selects"),r.Y.assertValue(D,"projectionOrdering");for(var h=0,C=g.length;h<C;h++){var y=g[h],f=y.Projection,S=y.Name,b=E[f];void 0===b&&(this.fillArray(E,f),b=E[f]={});var V=b.roles;void 0===b.roles&&(V=b.roles={}),V[S]=!0;var M=D[S];void 0===M&&(M=D[S]=[]),M.push(f)}}static fillArray(g,E){r.Y.assertValue(g,"selects"),r.Y.assertValue(E,"length");for(var D=g.length;D<E;D++)g[D]={}}static populateSplit(g){r.Y.assertAnyValue(g,"roles");var E={},D={selects:E};if(g)for(var h=0,C=g.length;h<C;h++)E[g[h].Projection]=!0;return D}static upgradeSettingsToObjects(g,E){if(g){var D;for(D in E||(E={}),g){var h=g[D],C=D,y=h,f="general";switch(D){case"hasScalarCategoryAxis":f="categoryAxis",C="axisType",y=(0,n.Qq)(h?"Scalar":"Categorical");break;case"Totals":C="totals",y=(0,n.zM)(!!h);break;case"textboxSettings":C="paragraphs",h&&h.paragraphs&&(y=h.paragraphs);break;case"VisualType1":C="visualType1",y=(0,n.Qq)(h);break;case"VisualType2":C="visualType2",y=(0,n.Qq)(h);break;case"imageVisualSettings":C="imageUrl",h&&h.imageUrl&&(y=(0,n.Qq)(h.imageUrl));break;default:continue}this.setObjectDefinition(E,f,C,y)}return E}}static setObjectDefinition(g,E,D,h){r.Y.assertValue(g,"objects"),r.Y.assertValue(E,"objectName"),r.Y.assertValue(D,"propertyName");var C=g[E];void 0===C&&(C=g[E]=[]);var y=C[0];void 0===y&&(y=C[0]={properties:{}}),y.properties[D]=h}}},673319:function(ve,z,e){e.d(z,{$m:function(){return n},Ph:function(){return t},sC:function(){return d},y4:function(){return s}});var a=e(18122),i=e(690332),r=e(620825);function t(p){var l=[];for(var v of p.values){var m=[];for(var g of v){var E=_.mapValues(g,D=>_.map(D,h=>i.F3.deserializeExpr(h)));m.push(E)}l.push(m)}return{values:l,columns:_.map(p.columns,D=>o(D))}}function o(p){var l={};if(p.left&&p.right)return l.left=o(p.left),l.right=o(p.right),l;if(p.value){var u=i.F3.deserializeExpr(p.value);return(0,r.Qg)(u)||(0,r.tx)(u)||(0,r.R3)(u)||(0,r.b9)(u)?l.value=u:a.Y.assertFail("Value should be fieldRef: entity/measure/column/aggregate"),l}a.Y.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function d(p){if(a.Y.assertAnyValue(p,"input"),p){var l={expressions:_.map(p.expressions,u=>i.F3.deserializeExpr(u))};return p.decomposedIdentities&&(l.decomposedIdentities=t(p.decomposedIdentities)),p.valueMap&&(l.valueMap=p.valueMap),p.jsonFilter&&(l.jsonFilter=p.jsonFilter),l}}function n(p){if(a.Y.assertAnyValue(p,"contract"),p){var l={expressions:_.map(p.expressions,u=>i.F3.serializeExpr(u))};return p.decomposedIdentities&&(l.decomposedIdentities=s(p.decomposedIdentities)),p.valueMap&&(l.valueMap=p.valueMap),p.jsonFilter&&(l.jsonFilter=p.jsonFilter),l}}function c(p){var l={};return p.left&&p.right?(l.left=c(p.left),l.right=c(p.right),l):p.value?(l.value=i.F3.serializeExpr(p.value),l):void a.Y.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function s(p){if(a.Y.assertAnyValue(p,"contract"),p){var l=[];for(var v of p.values){var m=[];for(var g of v){var E=_.mapValues(g,D=>_.map(D,h=>i.F3.serializeExpr(h)));m.push(E)}l.push(m)}return{values:l,columns:_.map(p.columns,D=>c(D))}}}},206332:function(ve,z,e){e.d(z,{H:function(){return o},_x:function(){return t},x5:function(){return i},yV:function(){return r}});var a=e(778122);function i(d){if(d&&!(d.length<1)){var n=[];for(var c of d)if(c.identity&&c.identity.expr){var s=(0,a.V)(c.identity);s&&n.push({id:s,displayName:c.displayName})}return n}}function r(d){if(d&&!(d.length<1)){var n=[];for(var c of d)if(c.id){var s=(0,a._)(c.id);s&&n.push({identity:s,displayName:c.displayName})}return n}}function t(d){if(d&&!(d.length<1)){var n=[];for(var c of d)if(!_.isEmpty(c.identities)){var s=_.map(c.identities,p=>(0,a.V)(p));s&&n.push({identities:s,valueMap:c.valueMap})}return n}}function o(d){if(d&&!(d.length<1)){var n=[];for(var c of d)if(!_.isEmpty(c.identities)){var s=_.map(c.identities,p=>(0,a._)(p));s&&n.push({identities:s,valueMap:c.valueMap})}return n}}},641831:function(ve,z,e){e.d(z,{K2:function(){return t},rY:function(){return c}});var a=e(18122),i=e(586854),r=e(690332);function t(l){return _.filter(_.map(l,u=>function(l){if(a.Y.assertValue(l,"expansionState"),a.Y.assertValue(!_.isEmpty(l.roles),"expansionState.roles"),(0,i.ye)(l)||(0,i.qj)(l)){var u={roles:l.roles};return _.isEmpty(l.levels)||(a.Y.assertValue(l.root,"expansionState.root"),u.levels=_.map(l.levels,v=>function(l){if(a.Y.assertAnyValue(l,"level"),l){a.Y.assertNonEmpty(l.queryRefs,"level.queryRefs");var u={queryRefs:_.clone(l.queryRefs)};return l.isCollapsed&&(u.isCollapsed=!0),l.identityKeys&&(u.identityKeys=_.map(l.identityKeys,v=>r.F3.serializeExpr(v))),l.isPinned&&(u.isPinned=l.isPinned),l.isLocked&&(u.isLocked=l.isLocked),l.AIInformation&&(u.AIInformation=_.cloneDeep(l.AIInformation)),u}}(v)),u.root=n(l.root)),u}}(u)),u=>u)}function n(l){a.Y.assertValue(l,"node");var u={identityValues:l.identityValues?_.map(l.identityValues,g=>r.F3.serializeExpr(g)):null};if(l.isToggled&&(u.isToggled=!0),!_.isEmpty(l.children)){u.children=[];var v=function(g){a.Y.assert(()=>!_.isEmpty(g.identityValues),"child.identityValues");var E=n(g);u.children.push(E)};for(var m of l.children)v(m)}return u}function c(l,u){if(l){var v=[],m=function(E){if(!E)return 1;a.Y.assert(()=>!_.isEmpty(E.roles),"serializedHierarchy.roles");var D=new i.nu(E.roles,u);_.isEmpty(E.levels)||(a.Y.assertValue(E.root,"serializedHierarchy.root"),D.levels=_.map(E.levels,h=>function(l){var u={queryRefs:_.clone(l.queryRefs),isCollapsed:!!l.isCollapsed,toggledNodes:[],isPinned:l.isPinned,isLocked:l.isLocked,AIInformation:_.cloneDeep(l.AIInformation)};return l.identityKeys&&(u.identityKeys=_.map(l.identityKeys,v=>r.F3.deserializeExpr(v))),u}(h)),D.root=p(E.root,-1,null,D.levels,!!u.canCollapseRoot)),v.push(D)};for(var g of l)m(g);return v}}function p(l,u,v,m,g){a.Y.assertValue(l,"serializedNode");var E={identityValues:l.identityValues?_.map(l.identityValues,h=>r.F3.deserializeExpr(h)):null,parent:v,children:[]};if(l.isToggled&&(E.isToggled=!0,u>=0?m[u].toggledNodes.push(E):a.Y.assert(()=>g,"Collapse to root capability not enabled")),!_.isEmpty(l.children)){var D=u+1;E.children=_.map(l.children,h=>p(h,D,E,m,g))}return E}},654316:function(ve,z,e){e.d(z,{UJ:function(){return c},Ww:function(){return l},gL:function(){return v},jH:function(){return s}});var a=e(18122),i=e(53069),r=e(673319),t=e(206332),o=e(690332);function c(m,g){var E;if(a.Y.assertValue(m,"input"),!_.isEmpty(m.expressions)){if(g){var D=(0,i.VF)(m);E=(0,r.$m)(D)}else E=function(m){if(a.Y.assertValue(m,"input"),!_.isEmpty(m.expressions)){var g={expressions:_.map(m.expressions,E=>o.F3.serializeExpr(E))};return _.isEmpty(m.cachedValueItems)||(g.cachedValueItems=(0,t._x)(m.cachedValueItems)),m.jsonFilter&&(g.jsonFilter=m.jsonFilter),g}}(m);return E}}function s(m){if(a.Y.assertValue(m,"input"),!_.isEmpty(m.expressions)){if(function(m){return!!m.decomposedIdentities}(m)){var g=(0,r.sC)(m);return(0,i._D)(g)}return l(m)}}function l(m){if(a.Y.assertValue(m,"input"),!_.isEmpty(m.expressions)){var g={expressions:_.map(m.expressions,E=>o.F3.deserializeExpr(E))};return _.isEmpty(m.cachedValueItems)||(g.cachedValueItems=(0,t.H)(m.cachedValueItems)),m.jsonFilter&&(g.jsonFilter=m.jsonFilter),g}}function v(m){return!!m.cachedValueItems}},690332:function(ve,z,e){e.d(z,{F3:function(){return D}});var a=e(233716),i=e(293444),r=e(932896),t=e(81825),o=e(101751),d=e(18122),n=e(454840),c=e(910058),s=e(448724),p=e(757406),l=e(671825),u=e(905643),v=e(258480);class m{constructor(fe){d.Y.assertValue(fe,"from"),this.clauses={from:fe,select:[]}}addWhere(fe){d.Y.assertValue(fe,"filter");var ae=this.clauses;ae.where||(ae.where=[]),ae.where.push(fe)}addWheres(fe){d.Y.assertValue(fe,"filters");var ae=this.clauses;for(var tt of(ae.where||(ae.where=[]),fe))ae.where.push(tt)}addOrderBy(fe){d.Y.assertValue(fe,"sort");var ae=this.clauses;ae.orderBy||(ae.orderBy=[]),ae.orderBy.push(fe)}addSelect(fe){d.Y.assertValue(fe,"select"),this.clauses.select.push(fe)}addGroupBy(fe){d.Y.assertValue(fe,"groupBy");var ae=this.clauses;ae.groupBy||(ae.groupBy=[]),ae.groupBy.push(fe)}addTransform(fe){d.Y.assertValue(fe,"transformItem");var ae=this.clauses;ae.transforms||(ae.transforms=[]),ae.transforms.push(fe)}setTop(fe){this.clauses.top=fe}toQuery(){return v.DC.createWith(this.clauses,!0)}toFilter(){var fe=this.clauses;if(d.Y.assert(()=>!fe.orderBy&&0===fe.select.length,"toFilter must not have orderBy/select specified."),fe.from&&fe.where)return new v.b0(fe.from,fe.where)}}var g=e(384827),E=e(961564);class D{static serializeQuery(fe,ae=!1,tt=!1){d.Y.assertValue(fe,"query");var ot=[],rt=fe.from();this.serializeFrom(rt,ot);var J,Re=this.serializeQueryFilters(fe.where(),y.create,!1),ce=fe.transforms();if(!_.isEmpty(ce))for(var Ce of(J=[],ce)){var ze=_.map(Ce.input.parameters,$e=>y.createNamed($e,ae)),it={Name:Ce.name,Algorithm:Ce.algorithm,Input:{Parameters:ze},Output:void 0};if(Ce.input.table){var yt=this.serializeTransformTableColumns(Ce.input.table.columns);it.Input.Table={Name:Ce.input.table.name,Columns:yt}}if(Ce.output&&Ce.output.table){var Nt=this.serializeTransformTableColumns(Ce.output.table.columns);it.Output={Table:{Name:Ce.output.table.name,Columns:Nt}}}J.push(it)}for(var Lt=this.serializeSortDefinitions(fe.orderBy(),ae),zt=[],Yt=fe.select(),Qt=0,sr=Yt.length;Qt<sr;Qt++)zt.push(y.createNamed(Yt[Qt],ae,tt));var je,Tt=fe.groupBy();if(Tt&&Tt.length){je=[];for(var Kt=0,nr=Tt.length;Kt<nr;Kt++)je.push(y.createNamed(Tt[Kt],ae))}var ar={Version:g.O.Version2,From:ot,Select:zt};return Re&&(ar.Where=Re),J&&(ar.Transform=J),Lt&&(ar.OrderBy=Lt),je&&(ar.GroupBy=je),fe.top()&&(ar.Top=fe.top()),ar}static serializeSortDefinitions(fe,ae){var tt;if(fe&&fe.length){tt=[];for(var ot=0,rt=fe.length;ot<rt;ot++){var Re=fe[ot];tt.push({Direction:Re.direction,Expression:y.create(Re.expr,ae)})}}return tt}static tryDeserializeQuery(fe){var ae;try{ae=this.deserializeQuery(fe)}catch{}if(ae&&!this.isMalformed(ae))return ae}static isMalformed(fe){for(var ae of fe.select())if(!ae.expr)return!0;return!1}static serializeQueryFilters(fe,ae,tt){var ot;if(!_.isEmpty(fe))for(var rt of(ot=[],fe)){var Re={Condition:ae(rt.condition,tt)};if(!_.isEmpty(rt.target))for(var J of(Re.Target=[],rt.target))Re.Target.push(ae(J,tt));rt.annotations&&(Re.Annotations=rt.annotations),ot.push(Re)}return ot}static deserializeQuery(fe){d.Y.assertValue(fe,"contract");var ae=fe.Version?fe.Version:g.O.Version0,tt=ae<g.O.Version1,ot=h.from(fe.From),rt=new m(ot),Re=fe.Where;if(Re)for(var J=0,ce=Re.length;J<ce;J++){var Ce=h.filter(Re[J],ot);Ce&&(tt&&(Ce=f.Upgrade(ae,Ce)),rt.addWhere(Ce))}var ze=fe.Transform,it=ot;if(!_.isEmpty(ze)){var yt={},Nt=ot.keys();for(var Lt of Nt)yt[Lt]=ot.source(Lt);for(var zt=0,Yt=ze.length;zt<Yt;zt++){if(ze[zt].Input&&ze[zt].Input.Table){var Qt=ze[zt].Input.Table.Name;yt[Qt]=new l.tv(void 0,Qt)}if(ze[zt].Output&&ze[zt].Output.Table){var sr=ze[zt].Output.Table.Name;yt[sr]=new l.tv(void 0,sr)}}it=new l.l0(yt);for(var je=0,Tt=ze.length;je<Tt;je++)rt.addTransform(h.transform(ze[je],it))}var Kt=fe.OrderBy;if(Kt)for(var nr=0,ar=Kt.length;nr<ar;nr++)rt.addOrderBy(h.sort(Kt[nr],ot));for(var $e=fe.Select,pt={},Ut=0,$t=$e.length;Ut<$t;Ut++)rt.addSelect(h.select($e[Ut],pt,it));var er=fe.GroupBy;if(er)for(var or={},vr=0,mr=er.length;vr<mr;vr++)rt.addGroupBy(h.groupBy(er[vr],or,ot));return fe.Top&&rt.setTop(fe.Top),rt.toQuery()}static deserializeSortDefinitions(fe,ae){return _.isEmpty(fe)?[]:_.map(fe,tt=>h.sort(tt,ae))}static serializeFilter(fe){var ae=[],tt=fe.from();this.serializeFrom(tt,ae);var ot=this.serializeQueryFilters(fe.where(),y.create,!1);return{Version:g.O.Version2,From:ae,Where:ot}}static serializeFrom(fe,ae){for(var tt=fe.keys(),ot=new C(fe),rt=0,Re=tt.length;rt<Re;rt++)ae.push(fe.source(tt[rt]).accept(ot,rt))}static deserializeFrom(fe){return h.from(fe)}static deserializeFilter(fe,ae){d.Y.assertValue(fe,"contract");var tt=fe.Version?fe.Version:g.O.Version0,ot=tt<g.O.Version1,rt=h.from(fe.From),Re=new m(rt),J=fe.Where;if(J)for(var ce=0,Ce=J.length;ce<Ce;ce++){var ze=h.filter(J[ce],rt);ze?(ot&&(ze=f.Upgrade(tt,ze)),Re.addWhere(ze)):ae&&(_.isEmpty(ae.RemovedIndexes)&&(ae.RemovedIndexes=[]),ae.RemovedIndexes.push(ce))}return Re.toFilter()}static serializeExpr(fe,ae=!1){return d.Y.assertValue(fe,"contract"),y.create(fe,!0,ae)}static serializeExprWithRef(fe,ae=!1){return d.Y.assertValue(fe,"contract"),y.create(fe,!1,ae)}static deserializeExpr(fe){return d.Y.assertValue(fe,"input"),b(fe)}static deserializeExprWithRef(fe,ae){return d.Y.assertValue(fe,"input"),S(fe,ae)}static serializeTransformTableColumns(fe){return d.Y.assertValue(fe,"columns"),_.map(fe,ae=>{var tt={Expression:y.createNamed(ae.expression)};return ae.role&&(tt.Role=ae.role),tt})}}class h{static from(fe){d.Y.assertValue(fe,"contract");var ae={};if(fe)for(var tt=0,ot=fe.length;tt<ot;tt++){var rt=fe[tt];switch(rt.Type){case t.nO.Expression:if(rt.Expression.Subquery)ae[rt.Name]=new l.m$(D.deserializeQuery(rt.Expression.Subquery.Query));else if(rt.Expression.NativeTable){var Re=rt.Expression.NativeTable;ae[rt.Name]=new l.Ho(Re.Language,Re.Expression,D.deserializeExpr(Re.Type))}else ae[rt.Name]=new l.zg(b(rt.Expression));break;case t.nO.Pod:ae[rt.Name]=new l.Bo(rt.Schema,rt.Entity);break;default:ae[rt.Name]=new l.tv(rt.Schema,rt.Entity)}}return new l.l0(ae)}static filter(fe,ae){d.Y.assertValue(fe,"contract");var tt=ae?S(fe.Condition,ae):b(fe.Condition);if(tt){var ot={condition:tt};if(fe.Target)for(var rt of(ot.target=[],fe.Target)){var Re=ae?S(rt,ae):b(rt);if(!Re)return;ot.target.push(Re)}return fe.Annotations&&(ot.annotations=fe.Annotations),ot}}static sort(fe,ae){return d.Y.assertValue(fe,"contract"),{direction:fe.Direction,expr:S(fe.Expression,ae)}}static select(fe,ae,tt){return h.toNamedQueryExpression(fe,ae,tt)}static groupBy(fe,ae,tt){return h.toNamedQueryExpression(fe,ae,tt)}static transform(fe,ae){var tt=_.map(fe.Input.Parameters,J=>h.toNamedQueryExpression(J,{},ae)),ot={name:fe.Name,algorithm:fe.Algorithm,input:{parameters:tt},output:{}};if(fe.Input.Table){var rt=this.deserializeTransformTableColumns(fe.Input.Table.Columns,ae);ot.input.table={name:fe.Input.Table.Name,columns:rt}}if(fe.Output&&fe.Output.Table){var Re=this.deserializeTransformTableColumns(fe.Output.Table.Columns,ae);ot.output.table={name:fe.Output.Table.Name,columns:Re}}return ot}static toNamedQueryExpression(fe,ae,tt){d.Y.assertValue(fe,"contract"),d.Y.assertValue(tt,"from");var ot=S(fe,tt),rt=fe.Name||(0,n.uL)(ae,(0,E.Z)(ot));ae[rt]=!0;var Re={name:rt,expr:ot};return fe.NativeReferenceName&&(Re.nativeReferenceName=fe.NativeReferenceName),Re}static deserializeTransformTableColumns(fe,ae){d.Y.assertValue(fe,"columns");var tt={};return _.map(fe,ot=>({role:ot.Role,expression:h.toNamedQueryExpression(ot.Expression,tt,ae)}))}}class C{constructor(fe){this.from=fe}visitEntity(fe,ae){return{Name:this.from.keys()[ae],Entity:fe.entity,Schema:fe.schema,Type:t.nO.Table}}visitPod(fe,ae){return{Name:this.from.keys()[ae],Entity:fe.pod,Schema:fe.schema,Type:t.nO.Pod}}visitSubquery(fe,ae){return{Name:this.from.keys()[ae],Expression:{Subquery:{Query:D.serializeQuery(fe.subquery)}},Type:t.nO.Expression}}visitExpr(fe,ae){return{Name:this.from.keys()[ae],Expression:D.serializeExpr(fe.expr),Type:t.nO.Expression}}visitNativeTable(fe,ae){return{Name:this.from.keys()[ae],Expression:{NativeTable:{Language:fe.language,Expression:fe.expression,Type:D.serializeExpr(fe.type)}},Type:t.nO.Expression}}}var y=(()=>{class re{constructor(ae,tt){this.standalone=ae,this.serializeAnnotations=tt}static getInstance(ae,tt){ae||(ae=!1),tt||(tt=!1);var ot=[+ae,+tt].reduce((Re,J)=>Re<<1|J),rt=re.instances[ot];return rt||(rt=new re(ae,tt)),rt}static create(ae,tt=!1,ot=!1){return ae.accept(re.getInstance(tt,ot))}static createNamed(ae,tt=!1,ot=!1){var rt=re.getInstance(tt,ot),Re=ae.expr.accept(rt);return ae.name&&(Re.Name=ae.name),ae.nativeReferenceName&&(Re.NativeReferenceName=ae.nativeReferenceName),Re}visitColumnRef(ae){return this.addAnnotations(ae,{Column:{Expression:ae.source.accept(this),Property:ae.ref}})}visitMeasureRef(ae){return this.addAnnotations(ae,{Measure:{Expression:ae.source.accept(this),Property:ae.ref}})}visitNativeMeasure(ae){var tt={Language:ae.language,Expression:ae.expression,DataType:ae.dataType};ae.proposedName&&(tt.ProposedName=ae.proposedName),ae.format&&(tt.Format=ae.format);var ot=ae.expressionContentCache;return!ot||!ot.dependencies&&null==ot.unrecognizedIdentifiers?{NativeMeasure:tt}:(tt.ExpressionContentCache={},ot.dependencies&&(tt.ExpressionContentCache.Dependencies=this.serializeAll(ot.dependencies)),null!=ot.unrecognizedIdentifiers&&(tt.ExpressionContentCache.UnrecognizedIdentifiers=ot.unrecognizedIdentifiers),this.addAnnotations(ae,{NativeMeasure:tt}))}visitNativeColumn(ae){var tt={Language:ae.language,Expression:ae.expression,DataType:ae.dataType,Source:ae.source.accept(this)};ae.proposedName&&(tt.ProposedName=ae.proposedName),ae.format&&(tt.Format=ae.format);var ot=ae.expressionContentCache;return!ot||!ot.dependencies&&null==ot.unrecognizedIdentifiers||(tt.ExpressionContentCache={},ot.dependencies&&(tt.ExpressionContentCache.Dependencies=this.serializeAll(ot.dependencies)),null!=ot.unrecognizedIdentifiers&&(tt.ExpressionContentCache.UnrecognizedIdentifiers=ot.unrecognizedIdentifiers)),this.addAnnotations(ae,{NativeColumn:tt})}visitAggr(ae){if(!_.isNil(ae.includeAllTypes))switch(ae.func){case t.Sn.Min:return this.addAnnotations(ae,{Min:{Expression:ae.arg.accept(this),IncludeAllTypes:ae.includeAllTypes}});case t.Sn.Max:return this.addAnnotations(ae,{Max:{Expression:ae.arg.accept(this),IncludeAllTypes:ae.includeAllTypes}})}return this.addAnnotations(ae,{Aggregation:{Expression:ae.arg.accept(this),Function:ae.func}})}visitPercentile(ae){var tt=this.addAnnotations(ae,{Percentile:{Expression:ae.arg.accept(this),K:ae.k}});return ae.exclusive&&(tt.Percentile.Exclusive=ae.exclusive),tt}visitRangePercent(ae){return this.addAnnotations(ae,{RangePercent:{Min:ae.min.accept(this),Max:ae.max.accept(this),Percent:ae.percent}})}visitHierarchy(ae){return this.addAnnotations(ae,{Hierarchy:{Expression:ae.arg.accept(this),Hierarchy:ae.hierarchy}})}visitPropertyVariationSource(ae){var tt=ae.arg.accept(this);return this.addAnnotations(ae,{PropertyVariationSource:{Expression:{SourceRef:tt.SourceRef},Name:ae.name,Property:ae.property}})}visitHierarchyLevel(ae){return this.addAnnotations(ae,{HierarchyLevel:{Expression:ae.arg.accept(this),Level:ae.level}})}visitSelectRef(ae){return d.Y.assert(()=>void 0===ae.attributeKind||null==ae.attributeKind,"Serialization of expr.attributeKind is not supported."),this.addAnnotations(ae,{SelectRef:{ExpressionName:ae.expressionName}})}visitBetween(ae){return this.addAnnotations(ae,{Between:{Expression:ae.arg.accept(this),LowerBound:ae.lower.accept(this),UpperBound:ae.upper.accept(this)}})}visitIn(ae){var tt=this.serializeAll(ae.args),ot=ae.values;if(ot){for(var rt=[],Re=0,J=ot.length;Re<J;Re++)rt.push(this.serializeAll(ot[Re]));return this.addAnnotations(ae,{In:{Expressions:tt,Values:rt}})}return this.addAnnotations(ae,{In:{Expressions:this.serializeAll(ae.args),Table:ae.table.accept(this)}})}visitEntity(ae){var tt;return d.Y.assertValue(ae,"expr"),this.standalone?tt={Schema:ae.schema,Entity:ae.entity}:(d.Y.assertValue(ae.variable,"expr.variable"),tt={Source:ae.variable}),this.addAnnotations(ae,{SourceRef:tt})}visitSubqueryRef(ae){return d.Y.assertValue(ae,"expr"),ae.variable&&!ae.query?this.addAnnotations(ae,{SourceRef:{Source:ae.variable}}):this.standalone?this.addAnnotations(ae,{Subquery:{Query:D.serializeQuery(ae.query,!1,this.serializeAnnotations)}}):void d.Y.assertFail("The inlined subquery is only expected to be there in standalone mode.")}visitNativeTableRef(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{SourceRef:{Source:ae.variable}})}visitNamedQueryRef(ae){return this.standalone?this.addAnnotations(ae,{NamedQueryReference:{Name:ae.queryName}}):(d.Y.assertValue(ae.variable,"expr.variable"),this.addAnnotations(ae,{SourceRef:{Source:ae.variable}}))}visitAnd(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{And:{Left:ae.left.accept(this),Right:ae.right.accept(this)}})}visitOr(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{Or:{Left:ae.left.accept(this),Right:ae.right.accept(this)}})}visitCompare(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{Comparison:{ComparisonKind:ae.comparison,Left:ae.left.accept(this),Right:ae.right.accept(this)}})}visitConditional(ae){d.Y.assertValue(ae,"expr");var tt=this.addAnnotations(ae,{Conditional:{Cases:_.map(ae.cases,rt=>this.visitCase(rt))}}),ot=ae.defaultValue;return ot&&(tt.Conditional.DefaultValue=ot.accept(this)),tt}visitCase(ae){return{Condition:ae.condition.accept(this),Value:ae.value.accept(this)}}visitContains(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{Contains:{Left:ae.left.accept(this),Right:ae.right.accept(this)}})}visitDateAdd(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{DateAdd:{Expression:ae.arg.accept(this),Amount:ae.amount,TimeUnit:ae.unit}})}visitDateSpan(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{DateSpan:{Expression:ae.arg.accept(this),TimeUnit:ae.unit}})}visitExists(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{Exists:{Expression:ae.arg.accept(this)}})}visitNot(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{Not:{Expression:ae.arg.accept(this)}})}visitNow(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{Now:{}})}visitDefaultValue(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{DefaultValue:{}})}visitAnyValue(ae){d.Y.assertValue(ae,"expr");var tt={};return null!=ae.defaultValueOverridesAncestors&&(tt.DefaultValueOverridesAncestors=ae.defaultValueOverridesAncestors),this.addAnnotations(ae,{AnyValue:tt})}visitFillRule(ae){d.Y.assertValue(ae,"expr");var tt={},ot=ae.rule;return ot.linearGradient2&&(tt.linearGradient2=this.visitLinearGradient2(ot.linearGradient2)),ot.linearGradient3&&(tt.linearGradient3=this.visitLinearGradient3(ot.linearGradient3)),this.addAnnotations(ae,{FillRule:{Input:ae.input.accept(this),FillRule:tt}})}visitLinearGradient2(ae){d.Y.assertValue(ae,"visitLinearGradient2 - gradient");var tt={min:this.visitRuleStop(ae.min),max:this.visitRuleStop(ae.max)},ot=this.visitNullColoringStrategy(ae.nullColoringStrategy);return ot&&(tt.nullColoringStrategy=ot),tt}visitLinearGradient3(ae){d.Y.assertValue(ae,"visitLinearGradient3 - gradient");var tt={min:this.visitRuleStop(ae.min),mid:this.visitRuleStop(ae.mid),max:this.visitRuleStop(ae.max)},ot=this.visitNullColoringStrategy(ae.nullColoringStrategy);return ot&&(tt.nullColoringStrategy=ot),tt}visitRuleStop(ae){d.Y.assertValue(ae,"stop");var tt={color:ae.color.accept(this)};return ae.value&&(tt.value=ae.value.accept(this)),tt}visitNullColoringStrategy(ae){if(ae){d.Y.assertValue(ae.strategy,"visitNullColoringStrategy - input.strategy");var tt={strategy:ae.strategy.accept(this)};return ae.color&&(tt.color=ae.color.accept(this)),tt}}visitThemeDataColor(ae){return this.addAnnotations(ae,{ThemeDataColor:{ColorId:ae.colorId,Percent:ae.percent}})}visitStartsWith(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{StartsWith:{Left:ae.left.accept(this),Right:ae.right.accept(this)}})}visitGroupRef(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{GroupRef:{Expression:ae.source.accept(this),Property:ae.ref,GroupedColumns:_.map(ae.groupedExprs,tt=>tt.accept(this))}})}visitConstant(ae){switch(d.Y.assertValue(ae,"expr"),ae.type.primitiveType){case i.W.Boolean:case i.W.DateTime:case i.W.Decimal:case i.W.Integer:case i.W.Double:case i.W.Null:case i.W.Text:return this.addAnnotations(ae,{Literal:{Value:ae.valueEncoded}});default:d.Y.assertFail("Unrecognized kind: "+ae.type.primitiveType)}}visitArithmetic(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{Arithmetic:{Left:ae.left.accept(this),Right:ae.right.accept(this),Operator:ae.operator}})}visitFloor(ae){d.Y.assertValue(ae,"expr");var tt=this.addAnnotations(ae,{Floor:{Expression:ae.arg.accept(this),Size:ae.size}});return null!=ae.timeUnit&&(tt.Floor.TimeUnit=ae.timeUnit),tt}visitResourcePackageItem(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{ResourcePackageItem:{PackageName:ae.packageName,PackageType:ae.packageType,ItemName:ae.itemName}})}visitScopedEval(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{ScopedEval:{Expression:ae.expression.accept(this),Scope:this.serializeAll(ae.scope)}})}visitFilteredEval(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{FilteredEval:{Expression:ae.expression.accept(this),Filters:D.serializeQueryFilters(ae.filters,re.create,this.standalone)}})}visitWithRef(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{WithRef:{ExpressionName:ae.expressionName}})}visitTransformTableRef(ae){return this.addAnnotations(ae,{TransformTableRef:{Source:ae.source}})}visitTransformOutputRoleRef(ae){return this.addAnnotations(ae,{TransformOutputRoleRef:{Role:ae.role,Transform:ae.transform}})}visitRoleRef(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{RoleRef:{Role:ae.role}})}visitSummaryValueRef(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{SummaryValueRef:{Name:ae.name}})}visitAllRolesRef(ae){return d.Y.assertValue(ae,"expr"),this.addAnnotations(ae,{AllRolesRef:{}})}visitDiscretize(ae){return this.addAnnotations(ae,{Discretize:{Expression:ae.source.accept(this),Count:ae.count}})}visitMember(ae){return this.addAnnotations(ae,{Member:{Expression:ae.source.accept(this),Member:ae.member}})}visitSparklineData(ae){var tt={SparklineData:{Measure:ae.measure.accept(this),Groupings:this.serializeAll(ae.grouping),PointsPerSparkline:ae.pointsPerSparkline}};return"none"!==ae.applyCalculationGroupTo&&(tt.SparklineData.ApplyCalculationGroupTo=ae.applyCalculationGroupTo),ae.scalarKey&&(tt.SparklineData.ScalarKey=ae.scalarKey.accept(this)),ae.includeMinGroupingInterval&&(tt.SparklineData.IncludeMinGroupingInterval=ae.includeMinGroupingInterval),tt}visitTableTypeExpr(ae){return{TableType:{Columns:_.map(ae.columns,tt=>{var ot=tt.expr.accept(this);return ot.Name=tt.name,ot})}}}visitPrimitiveTypeExpr(ae){return{PrimitiveType:{Type:(0,r.U)(ae.type)}}}visitTypeOfTypeExpr(ae){return{TypeOf:{Expression:ae.baseExpr.accept(this)}}}serializeAll(ae){for(var tt=[],ot=0,rt=ae.length;ot<rt;ot++)tt.push(ae[ot].accept(this));return tt}visitNativeVisualCalc(ae,tt){var ot={Language:ae.language,Expression:ae.expression,Name:ae.name};return null!=ae.dataType&&(ot.DataType=(0,r.U)(ae.dataType)),this.addAnnotations(ae,{NativeVisualCalculation:ot})}visitVisualTopN(ae,tt){return{VisualTopN:{ItemCount:ae.itemCount}}}addAnnotations(ae,tt){if(this.serializeAnnotations){var ot=ae.getAnnotations();ot&&(tt.Annotations=ot)}return tt}}return re.instances=[],re})();class f{static Upgrade(fe,ae){if(!ae||!ae.condition)return null;var tt=(0,c.m)(ae.condition);return fe===g.O.Version0&&tt!==s.l0.Exists?{condition:ae.condition}:ae}}function S(re,fe){return d.Y.assertValue(re,"contract"),function(re,fe){if(re.Column){var ae=S(re.Column.Expression,fe);if(ae)return(0,p.sX)(ae,re.Column.Property,re.Annotations)}}(re,fe)||function(re,fe){if(re.Measure){var ae=S(re.Measure.Expression,fe);if(ae)return(0,p.K6)(ae,re.Measure.Property,re.Annotations)}}(re,fe)||function(re){var ae;if(re.NativeMeasure)return re.NativeMeasure.ExpressionContentCache&&(ae={unrecognizedIdentifiers:re.NativeMeasure.ExpressionContentCache.UnrecognizedIdentifiers,dependencies:V(re.NativeMeasure.ExpressionContentCache.Dependencies)}),"dax"!==re.NativeMeasure.Language&&d.Y.assertFail("QueryNativeMeasure is using unexpected language: "+re.NativeMeasure.Language),(0,p.IW)(re.NativeMeasure.Language,re.NativeMeasure.Expression,re.NativeMeasure.DataType,re.NativeMeasure.ProposedName,ae,re.NativeMeasure.Format,re.Annotations)}(re)||function(re,fe){if(re.NativeColumn){var ae;if(re.NativeColumn.ExpressionContentCache&&(ae={unrecognizedIdentifiers:re.NativeColumn.ExpressionContentCache.UnrecognizedIdentifiers,dependencies:V(re.NativeColumn.ExpressionContentCache.Dependencies)}),"dax"!==re.NativeColumn.Language)return void d.Y.assertFail("QueryNativeColumn is using unexpected language: "+re.NativeColumn.Language);if(!re.NativeColumn.Source)return void d.Y.assertFail("QueryNativeColumn should have a source");var tt=S(re.NativeColumn.Source,fe);return(0,p.Oi)(re.NativeColumn.Language,re.NativeColumn.Expression,re.NativeColumn.DataType,tt,re.NativeColumn.ProposedName,ae,re.NativeColumn.Format,re.Annotations)}}(re,fe)||function(re,fe){if(re.SourceRef){if(!fe){var rt=re.SourceRef;return(0,p.EG)(rt.Schema,rt.Entity,void 0,re.Annotations)}var tt=re.SourceRef.Source,ot=fe.source(tt);if(ot)return(0,l.lj)(ot)?(0,p.EG)(ot.schema,ot.entity,tt,re.Annotations):(0,l.T7)(ot)?(0,p.EG)(ot.schema,ot.pod,tt):(0,a.c)(ot)?(0,p.a_)(tt,re.Annotations):(0,l.BF)(ot)?(0,p.rQ)(tt,re.Annotations):(d.Y.assert(()=>(0,l.L8)(ot),"Expected an ExpressionSource"),ot.expr.as(tt))}}(re,fe)||function(re,fe){if(re.Aggregation){var ae=S(re.Aggregation.Expression,fe);if(ae)return(0,p.QD)(ae,re.Aggregation.Function,void 0,re.Annotations)}}(re,fe)||function(re,fe){if(re.Min){var ae=S(re.Min.Expression,fe);if(ae)return(0,p.QD)(ae,t.Sn.Min,re.Min.IncludeAllTypes,re.Annotations)}}(re,fe)||function(re,fe){if(re.Max){var ae=S(re.Max.Expression,fe);if(ae)return(0,p.QD)(ae,t.Sn.Max,re.Max.IncludeAllTypes,re.Annotations)}}(re,fe)||function(re){if(re.SelectRef)return(0,p.o4)(re.SelectRef.ExpressionName,void 0,re.Annotations)}(re)||function(re,fe){if(re.Percentile){var ae=S(re.Percentile.Expression,fe);if(ae)return(0,p.Ym)(ae,re.Percentile.K,re.Percentile.Exclusive||!1,re.Annotations)}}(re,fe)||function(re,fe){if(re.RangePercent){var ae=S(re.RangePercent.Min,fe),tt=S(re.RangePercent.Max,fe);if(ae&&tt)return(0,p.Lg)(ae,tt,re.RangePercent.Percent,re.Annotations)}}(re,fe)||function(re,fe){if(re.Arithmetic){var ae=S(re.Arithmetic.Left,fe),tt=S(re.Arithmetic.Right,fe);if(ae&&tt)return(0,p.Bm)(ae,tt,re.Arithmetic.Operator,re.Annotations)}}(re,fe)||function(re,fe){if(re.Floor){var ae=S(re.Floor.Expression,fe);if(ae)return(0,p.RI)(ae,re.Floor.Size,re.Floor.TimeUnit,re.Annotations)}}(re,fe)||function(re,fe){if(re.Discretize){var ae=S(re.Discretize.Expression,fe);if(ae)return(0,p.z)(ae,re.Discretize.Count,re.Annotations)}}(re,fe)||function(re,fe){if(re.Member){var ae=S(re.Member.Expression,fe);if(ae)return(0,p.Dc)(ae,re.Member.Member,re.Annotations)}}(re,fe)||function(re,fe){if(re.Hierarchy){var ae=S(re.Hierarchy.Expression,fe);if(ae)return(0,p.Sk)(ae,re.Hierarchy.Hierarchy,re.Annotations)}}(re,fe)||function(re,fe){if(re.HierarchyLevel){var ae=S(re.HierarchyLevel.Expression,fe);if(ae)return(0,p.Mw)(ae,re.HierarchyLevel.Level,re.Annotations)}}(re,fe)||function(re,fe){if(re.PropertyVariationSource){var ae=S(re.PropertyVariationSource.Expression,fe);if(ae)return(0,p.U7)(ae,re.PropertyVariationSource.Name,re.PropertyVariationSource.Property,re.Annotations)}}(re,fe)||function(re,fe){if(re.And){var ae=S(re.And.Left,fe),tt=S(re.And.Right,fe);if(ae&&tt)return(0,p.Uo)(ae,tt,re.Annotations)}}(re,fe)||function(re,fe){if(re.Between){var ae=S(re.Between.Expression,fe),tt=S(re.Between.LowerBound,fe),ot=S(re.Between.UpperBound,fe);if(ae&&tt&&ot)return(0,p.Tq)(ae,tt,ot,re.Annotations)}}(re,fe)||function(re,fe){if(re.In){if(re.In.Values)return(0,p.eu)(V(re.In.Expressions,fe),_.map(re.In.Values,tt=>V(tt,fe)));var ae=S(re.In.Table,fe);if(ae)return(0,p.Kd)(V(re.In.Expressions,fe),ae,re.Annotations)}}(re,fe)||function(re,fe){if(re.Or){var ae=S(re.Or.Left,fe),tt=S(re.Or.Right,fe);if(ae&&tt)return(0,p.or)(ae,tt,re.Annotations)}}(re,fe)||function(re,fe){if(re.Contains){var ae=S(re.Contains.Left,fe),tt=S(re.Contains.Right,fe);if(ae&&tt)return(0,p.gR)(ae,tt,re.Annotations)}}(re,fe)||function(re,fe){if(re.Comparison){var ae=S(re.Comparison.Left,fe),tt=S(re.Comparison.Right,fe);if(ae&&tt)return(0,p.UD)(re.Comparison.ComparisonKind,ae,tt,re.Annotations)}}(re,fe)||function(re){if(re.Conditional){for(var ae=re.Conditional.Cases,tt=ae.length,ot=new Array(tt),rt=0;rt<tt;rt++){var Re=ue(ae[rt]);if(!Re){ot=void 0;break}ot[rt]=Re}if(re.Conditional.DefaultValue){var J=S(re.Conditional.DefaultValue);if(ot&&J)return(0,p.Jr)(ot,J,re.Annotations)}else if(ot)return(0,p.Jr)(ot,void 0,re.Annotations)}}(re)||function(re,fe){if(re.DateAdd){var ae=S(re.DateAdd.Expression,fe);if(ae)return(0,p.El)(re.DateAdd.TimeUnit,re.DateAdd.Amount,ae,re.Annotations)}}(re,fe)||function(re,fe){if(re.DateSpan){var ae=S(re.DateSpan.Expression,fe);if(ae)return(0,p.b5)(re.DateSpan.TimeUnit,ae,re.Annotations)}}(re,fe)||function(re,fe){if(re.Exists){var ae=S(re.Exists.Expression,fe);if(ae)return(0,p.t2)(ae,re.Annotations)}}(re,fe)||function(re,fe){if(re.Not){var ae=S(re.Not.Expression,fe);if(ae)return(0,p.AU)(ae,re.Annotations)}}(re,fe)||function(re){if(re.Now)return(0,p.tB)(re.Annotations)}(re)||function(re){if(re.DefaultValue)return(0,p.Jh)(re.Annotations)}(re)||function(re){if(re.AnyValue)return(0,p.mh)(re.AnyValue.DefaultValueOverridesAncestors,re.Annotations)}(re)||function(re,fe){if(re.StartsWith){var ae=S(re.StartsWith.Left,fe),tt=S(re.StartsWith.Right,fe);if(ae&&tt)return(0,p.w1)(ae,tt,re.Annotations)}}(re,fe)||function(re,fe){if(re.FillRule){var ae=S(re.FillRule.Input,fe),tt=re.FillRule,ot={},rt=tt.FillRule.linearGradient2,Re=tt.FillRule.linearGradient3;if(rt){ot.linearGradient2={min:Ie(rt.min,fe),max:Ie(rt.max,fe)};var J=Je(rt.nullColoringStrategy,fe);J&&(ot.linearGradient2.nullColoringStrategy=J)}else if(Re){ot.linearGradient3={min:Ie(Re.min,fe),mid:Ie(Re.mid,fe),max:Ie(Re.max,fe)};var ce=Je(Re.nullColoringStrategy,fe);ce&&(ot.linearGradient3.nullColoringStrategy=ce)}return(0,p.Kf)(ae,ot,re.Annotations)}}(re,fe)||function(re){if(re.ThemeDataColor)return(0,p.Bg)(re.ThemeDataColor.ColorId,re.ThemeDataColor.Percent,re.Annotations)}(re)||function(re){if(re.ResourcePackageItem)return(0,p.SC)(re.ResourcePackageItem.PackageName,re.ResourcePackageItem.PackageType,re.ResourcePackageItem.ItemName,re.Annotations)}(re)||function(re,fe){if(re.ScopedEval){var ae=S(re.ScopedEval.Expression,fe);if(ae)return(0,p.bg)(ae,V(re.ScopedEval.Scope,fe),re.Annotations)}}(re,fe)||function(re,fe){if(re.FilteredEval){var ae=S(re.FilteredEval.Expression,fe);return(0,p.Ge)(ae,_.map(re.FilteredEval.Filters,tt=>h.filter(tt,fe)),re.Annotations)}}(re,fe)||function(re){if(re.WithRef)return(0,p.IS)(re.WithRef.ExpressionName,re.Annotations)}(re)||function(re){if(re.TransformTableRef)return(0,p.CR)(re.TransformTableRef.Source,re.Annotations)}(re)||function(re){if(re.TransformOutputRoleRef)return(0,p.Cv)(re.TransformOutputRoleRef.Role,re.TransformOutputRoleRef.Transform,re.Annotations)}(re)||function(re){if(re.Literal)return(0,u.bq)(re.Literal.Value)}(re)||function(re,fe){if(re.GroupRef){var ae=S(re.GroupRef.Expression,fe),tt=_.map(re.GroupRef.GroupedColumns,ot=>S(ot,fe));if(ae&&!_.isEmpty(tt))return(0,p.bR)(re.GroupRef.Property,ae,tt,re.Annotations)}}(re,fe)||function(re){if(re.RoleRef)return(0,p.a3)(re.RoleRef.Role,re.Annotations)}(re)||function(re){if(re.AllRolesRef)return(0,p.G9)(re.Annotations)}(re)||function(re){if(re.NamedQueryReference)return(0,p.JP)(re.NamedQueryReference.Name,void 0,re.Annotations)}(re)||function(re){if(re.Subquery)return(0,p.a_)(D.deserializeQuery(re.Subquery.Query),re.Annotations)}(re)||function(re){return function(re){if(re.Boolean)return(0,p.zM)(re.Boolean.Value,re.Annotations)}(re)||Pe(re)||function(re){if(re.DateTimeSecond){var fe=Vt(re.DateTimeSecond);return(0,p.b5)(t.yr.Second,(0,p.KQ)(fe),re.Annotations)}}(re)||Pe(re)||function(re){if(re.Decimal)return(0,p._)(re.Decimal.Value,void 0,re.Annotations)}(re)||function(re){if(re.Integer)return(0,p.nd)(re.Integer.Value,void 0,re.Annotations)}(re)||function(re){if(re.Null)return(0,p.gN)()}(re)||function(re){if(re.Number)return(0,u.bq)(re.Number.Value)}(re)||function(re){if(re.String)return(0,p.Qq)(re.String.Value,void 0,re.Annotations)}(re)}(re)||function(re){if(re.SummaryValueRef)return(0,p.ft)(re.SummaryValueRef.Name,re.Annotations)}(re)||function(re,fe){var ae=re.SparklineData;if(ae)return(0,p.yC)(S(ae.Measure,fe),V(ae.Groupings,fe),ae.ApplyCalculationGroupTo??"none",ae.ScalarKey?S(re.SparklineData.ScalarKey,fe):void 0,ae.PointsPerSparkline,ae.IncludeMinGroupingInterval)}(re,fe)||function(re){var ae=re.NativeVisualCalculation;if(ae){var tt=ae.DataType?(0,r.B)(ae.DataType):void 0;return(0,p.zy)(ae.Name,ae.Expression,tt,re.Annotations)}}(re)||function(re){var ae=re.TableType;if(ae){var tt=_.map(ae.Columns,ot=>{var rt=S(ot,undefined);return{name:ot.Name,expr:rt}});return(0,p.Gd)(tt,re.Annotations)}}(re)||function(re){var ae=re.PrimitiveType;if(null!=ae)return(0,p.s4)((0,r.B)(ae.Type),re.Annotations)}(re)||function(re){var ae=re.TypeOf;if(ae){var tt=S(ae.Expression,void 0);return(0,p.mQ)(tt,re.Annotations)}}(re)||function(re){var ae=re.VisualTopN;if(ae)return(0,p.IM)(ae.ItemCount)}(re)}function b(re){return S(re,null)}function V(re,fe){for(var ae=[],tt=0,ot=re.length;tt<ot;tt++)ae.push(S(re[tt],fe));return ae}function ue(re){if(re){var fe=S(re.Condition),ae=S(re.Value);if(fe&&ae)return{condition:fe,value:ae}}}function Ie(re,fe){if(re){var ae={color:S(re.color,fe)};return re.value&&(ae.value=S(re.value,fe)),ae}}function Je(re,fe){if(re){var ae={strategy:S(re.strategy,fe)};return re.color&&(ae.color=S(re.color,fe)),ae}}function Pe(re){var fe=re.DateTime||re.Date;if(fe){var ae=Vt(fe);if(ae)return(0,p.KQ)(ae,void 0,re.Annotations)}}function Vt(re){return d.Y.assertValue(re,"contract"),(0,o.z3)(re.Value)}},113370:function(ve,z,e){e.d(z,{N:function(){return a}});var a="tabular"},286270:function(ve,z,e){e.d(z,{ne:function(){return d},ol:function(){return o}});var a=e(101751),i=e(18122),r=e(744524),t=e(739732);function o(){return new l}function d(u){var v=[];for(var m in u=c(u))if(u.hasOwnProperty(m)){var g=u[m],E=void 0;if(!g)continue;_.isDate(g)||null!=n(g.toString().substr(0,26))?E={dateTime:!0}:isNaN(+g)?_.isString(g)&&(E={text:!0}):E={numeric:!0},E&&v.push({name:m,type:E})}return v}function n(u){var v=null,m=+u;if(isNaN(m)){var h=(0,a.jT)(u.toString());h&&(v=(0,r.IG)(h))}else{var g=new Date;g.setDate(g.getDate()-p);var E=g.getTime();(g=new Date).setDate(g.getDate()+p);var D=g.getTime();m<E&&(m*=1e3),m>E&&m<D&&(v=(0,r.S7)(m))}return v}function c(u){try{return s(u)}catch{i.Y.assertFail("Failed to flatten JSON object")}return u}function s(u,v,m){return v||(v={}),_.isObject(u)?_.forOwn(u,(g,E)=>{s(g,v,m?m+"."+E:E)}):v[m]=u,v}var p=7;class l{constructor(){this.clear()}add(v){i.Y.assertValue(v,"data");var m=this.getKey(v.modelId,v.name);return this.tabularDataMap[m]=v,m}get(v){return i.Y.assertValue(v,"key"),this.tabularDataMap[v]}remove(v){i.Y.assertValue(v,"key"),delete this.tabularDataMap[v]}clear(){this.tabularDataMap={}}getKey(v,m){return i.Y.assertValue(v,"modelId"),i.Y.assertValue(m,"tableName"),v+"_"+m}mergeRows(v,m,g,E){i.Y.assertValue(v,"modelId");var D=this.getKey(v,m),h=this.get(D);if(!h||!h.rowGroups){var C={modelId:v,name:m,rowGroups:g,lastVersion:E,columns:h&&h.columns};return this.constructColumnsMetadataIfNeeded(C),this.fixUpValues(C.rowGroups,C.columns),void this.add(C)}var y=[],f=h.rowGroups||[],S=g||[];for(this.fixUpValues(S,h.columns);!_.isEmpty(f)||!_.isEmpty(S);){var b=_.head(f),V=_.head(S);b&&!V?(this.appendRow(y,b,E),f.shift()):!b&&V?(this.appendRow(y,V,E),S.shift()):b.version<V.version?(this.appendRow(y,b,E),f.shift()):V&&(S.shift(),b.version===V.version&&f.shift(),this.appendRow(y,V,E))}h.rowGroups=y,h.lastVersion=E}constructColumnsMetadataIfNeeded(v){if(i.Y.assertValue(v,"tabularData"),!v.columns){var m=_.last(v.rowGroups);if(m){var g=_.last(m.rows);g&&(v.columns=d(g))}}}fixUpValues(v,m){if(!_.isEmpty(v)){var g={},E={};for(var D of m)g[D.name]=D.type&&D.type.dateTime,E[D.name]=D.type&&D.type.numeric;for(var h of v)if(h.rows)for(var C=0;C<h.rows.length;C++){var y=h.rows[C]=c(h.rows[C]);for(var f in y)if(y.hasOwnProperty(f)){var S=y[f];if(S)if(g[f]){var b=n(S);b&&(y[f]=b)}else if(E[f]){var V=parseFloat(S.toString());isNaN(V)||(y[f]=V)}}}}}appendRow(v,m,g){i.Y.assertValue(v,"rows"),i.Y.assertValue(m,"row"),i.Y.assert(()=>g>0,"Invalid version"),!(g-m.version>t.Xq)&&v.push(m)}}},558445:function(ve,z,e){e.d(z,{f:function(){return p},j:function(){return s}});var a=e(431575),i=e(18122),r=e(702794),t=e(987526),o=e(476271),d=e(757406),n=e(337965);function s(l){var u=_.indexOf(l,".");return u<0||u>=l.length-1?l:l.substr(u+1)}class p{constructor(u,v){i.Y.assertValue(u,"host"),i.Y.assertValue(v,"tabularData"),this.promiseFactory=u.promiseFactory(),this.tabularDataCache=v,this.columnToIndexMap={}}execute(u){i.Y.assertValue(u,"options");var v=_.head(u.dataSources),g=this.buildDataView(u.command,v.modelId),E=this.promiseFactory.defer();return E.resolve(g),(0,a.L)(E)}transform(u,v,m){return null==u?{dataView:{metadata:{columns:[]},error:{code:"UndefinedData"}}}:{dataView:u}}buildDataView(u,v){i.Y.assertValue(u,"command"),i.Y.assertValue(v,"modelId");var m=u.mappings[0],g=this.tabularDataCache,E=g.get(g.getKey(v,u.tableName));i.Y.assertValue(E,"tabularData");var D=p.getLastVersion(E)-u.dataWindow;if(E.rowGroups){var h=u&&_.head(u.Commands);if(h){var C=h.SemanticQueryDataShapeCommand;C&&C.Query&&C.Query.Select&&C.Query.Select.map((S,b)=>{this.columnToIndexMap[s(S.Name)]=b})}var y=this.filterTabularDataRowGroups(E.rowGroups,D),f=this.createDataView({rowGroups:y,columns:E.columns,modelId:E.modelId,name:E.name},m);return u.dataWindow&&(f.metadata.objects={categoryAxis:{duration:u.dataWindow}}),f}}filterTabularDataRowGroups(u,v){return i.Y.assertValue(u,"rowGroups"),i.Y.assertValue(v,"cutOff"),_.filter(u,m=>m.version>=v)}createDataView(u,v){i.Y.assertValue(u,"tabularData"),i.Y.assertValue(v,"mapping");var m={metadata:{columns:[]}},g=this.extractColumns(v),E=[];if(v.categorical){var D=this.getCategoricalDataViewInfo(g.categorical,u);m.categorical=D.dataView,_.isEmpty(m.categorical.values)&&(m.categorical.values=void 0),E.push(...D.columns||[])}if(v.table){var h=this.getSingleDataViewInfo(g.table,u);m.single=h.dataView;var C=h.columns[0];null==_.find(E,C)&&E.push(C)}return m.metadata.columns=E,m}getCategoricalDataViewInfo(u,v){i.Y.assertValue(u,"categoricalColumns"),i.Y.assertValue(v,"tabularData");var m=(0,t.P)();if(!_.isEmpty(u.categories)){var g=this.getCategoryColumnOption(u.categories,v);m.withCategory(g)}var E=this.getValueColumnOptions(u.categories,u.values,v);_.isEmpty(u.groupedValues)||u.groupedValues===u.categories?m.withValues({columns:E}):this.addGroupValues(u,v,m,E);var D=m.build();return{dataView:D.categorical,columns:D.metadata.columns}}addGroupValues(u,v,m,g){i.Y.assertValue(u,"categoricalColumns"),i.Y.assertValue(v,"tabularData"),i.Y.assertValue(u.groupedValues,"groupedValues"),i.Y.assertValue(g,"valueColumnOption");var E=s(u.groupedValues),D=this.getCategoryColumnOption(E,v),h=this.extractColumnValues(E,v),C=p.getUniqueValues(h),y=this.getValueToIndicesMap(h),f={},S=u.values;for(var b of S){var V=s(b),M=this.extractColumnValues(V,v);for(var P of C){var T=p.valueToString(P);null==f[T]&&(f[T]=[]);var w=_.at(M,y[T]);f[T].push({values:w})}}var I=_.values(f);_.isEmpty(I)||m.withGroupedValues({groupColumn:D,valueColumns:g,data:I})}getValueToIndicesMap(u){for(var v={},m=0,g=u.length;m<g;m++){var E=p.valueToString(u[m]),D=v[E];D?D.push(m):v[E]=[m]}return v}getSingleDataViewInfo(u,v){i.Y.assertValue(u,"singleColumn"),i.Y.assertValue(v,"tabularData");var m=this.getColumnMetadataAndValues(u,v);return{dataView:{value:m.values[m.values.length-1],column:m.metadataColumn},columns:[m.metadataColumn]}}extractColumns(u){i.Y.assertValue(u,"mapping");var v=(f,S)=>{var b=f.items;if(b)for(var V of b)S.push(V.queryName)},m={},g=u.categorical;if(g){var E=[];(0,r.Ax)(g.categories,{visitRole:f=>{v(f,E)}});var D=[];(0,r.AS)(g.values,{visitRole:f=>{v(f,D)}});var h=[];(0,r.Cn)(g.values,{visitRole:f=>{v(f,h)}}),i.Y.assert(()=>h.length<=1,"grouped values length should be <= 1"),i.Y.assert(()=>E.length<=1,"grouped values length should be <= 1"),m.categorical={categories:E[0],groupedValues:h[0],values:D}}var C=u.table;if(C){var y=[];(0,r.UB)(C,{visitRole:f=>{v(f,y)}}),i.Y.assert(()=>1===y.length,"The length of the single column should be one"),m.table=y[0]}return m}getCategoryColumnOption(u,v){i.Y.assertValue(u,"columnNames"),i.Y.assertValue(v,"tabularData");var m=this.getColumnMetadataAndValues(u,v),g=p.getUniqueValues(m.values),E=(0,d.sX)((0,d.EG)(null,v.name),u),D=_.map(g,h=>(0,o.UQ)((0,d.LC)(E,(0,d.Qq)(h.toString()))));return{source:m.metadataColumn,values:g,identityFrom:{fields:[E],identities:D}}}getValueColumnOptions(u,v,m){i.Y.assertAnyValue(u,"categoryColumnName"),i.Y.assertValue(v,"columnNames"),i.Y.assertValue(m,"tabularData");var g=[];for(var E of v){var D=this.getColumnMetadataAndValues(E,m,u),h=D.values;!u&&!_.isEmpty(h)&&(h=[_.last(h)]);var C={source:D.metadataColumn,values:h,minLocal:_.min(h),maxLocal:_.max(h)};g.push(C)}return g}getColumnMetadataAndValues(u,v,m){i.Y.assertValue(u,"columnName"),i.Y.assertValue(v,"tabularData"),i.Y.assertAnyValue(m,"categoryColumnName");var h,g=v.columns,E=s(u),D=this.columnToIndexMap[E];if(i.Y.assert(()=>D>=0,"The column name should exist in tabular columns"),m){var C=s(m);h=this.extractUniqueColumnValues(E,v,C)}else h=this.extractColumnValues(E,v);var y=_.find(g,S=>S.name===E);return{metadataColumn:p.createMetadataColumn(E,D,n.eV.fromDescriptor(y.type)),values:h}}extractColumnValues(u,v){i.Y.assertValue(u,"columnName"),i.Y.assertValue(v,"tabularData");var m=v.rowGroups,g=[];for(var E of m)for(var D of E.rows)g.push(D[u]);return g}extractUniqueColumnValues(u,v,m){i.Y.assertValue(u,"columnName"),i.Y.assertValue(v,"tabularData"),i.Y.assertValue(m,"categoryName");var g=v.rowGroups,E={};for(var D of g)for(var h of D.rows)E[p.valueToString(h[m])]=h[u];return _.values(E)}static getLastVersion(u){if(i.Y.assertValue(u,"tabularData"),_.isEmpty(u.rowGroups))return u.lastVersion?u.lastVersion:Number.NEGATIVE_INFINITY;var v=Number.NEGATIVE_INFINITY;if(!u.rowGroups)return v;for(var m of u.rowGroups)m.version>v&&(v=m.version);return v}static createMetadataColumn(u,v,m){i.Y.assertValue(u,"name"),i.Y.assertValue(v,"columnIndex");var g={displayName:u,queryName:u,index:v,isMeasure:!1};return null!=m&&(g.type=m,g.isMeasure=!!m.numeric),g}static getUniqueValues(u){return _.uniqBy(u,v=>p.valueToString(v))}static valueToString(u){return _.isDate(u)?u.getTime().toString():u?u.toString():""}}},941575:function(ve,z,e){e.d(z,{O:function(){return t}});var a=e(18122),i=e(858225),r=e(690332);function t(){return new o(r.F3)}class o{constructor(n){a.Y.assertValue(n,"serializer"),this.serializer=n}execute(n){a.Y.assertValue(n,"options");var c=n.query;a.Y.assertValue(c,"query");var p={SemanticQueryDataShapeCommand:{Query:this.serializer.serializeQuery(c),Binding:null}},l=i.B.getActiveTablesNames(c);a.Y.assertValue(1===l.length,"Exactly 1 entity is expected");var u=l[0];return a.Y.assertValue(u,"entity"),{command:{dataWindow:n.dataWindow,tableName:u,mappings:n.mappings,Commands:[p]}}}produceIdentities(n,c){return a.Y.assertFail("TabularDataQueryGenerator.produceIdentities should not get used. "),[n]}}},914780:function(ve,z,e){e.d(z,{EC:function(){return i},IO:function(){return E},Iv:function(){return o},TX:function(){return n},UM:function(){return m},V8:function(){return c},W8:function(){return h},_Z:function(){return s},gT:function(){return v},h3:function(){return r},jg:function(){return l}});var a=e(285264),i="PBI.Data.QueryData",r=a.Xi[i]=(0,a.Vp)(i),t="PBI.Data.QueryCancellation",o=a.Xi[t]=(0,a.Vp)(t,{logRatio:1e-4}),d="PBI.Data.ClientCacheHit",n=a.Xi[d]=(0,a.Vp)(d,{logRatio:1e-4}),c="PBI.Data.GetConceptualSchema",s=a.Xi[c]=(0,a.Vp)(c),p="PBI.Data.ClearConceptualSchemaCache",l=a.Xi[p]=(0,a.Vp)(p),u="PBI.Data.ExecuteQuery",v=a.Xi[u]=(0,a.Vp)(u),m=function(C){return C.V1Old="V1Old",C.V1="V1",C.V2="V2",C}({}),g="PBI.Data.DsrToDataView",E=a.Xi[g]=(0,a.Vp)(g,{logRatio:1e-4}),D="PBI.EX.PreloadConceptualSchema",h=a.Xi[D]=(0,a.Vp)(D)},430269:function(ve,z,e){e.d(z,{r:function(){return i}});var a=e(989395);function i(){return new r}class r{constructor(){this.plugins=a.Nx}getTransformPlugin(o){if(o)return this.plugins[o]}}},989395:function(ve,z,e){e.d(z,{Nx:function(){return p},nw:function(){return i}});var a=e(693029),i="SampleAndDetectAnomaly",t={ExpectedValue:"ExpectedValue",ExpectedLow:"ExpectedLow",ExpectedHigh:"ExpectedHigh",RawScore:"RawScore",Anomaly:"Anomaly",BatchStart:"BatchStart",BatchEnd:"BatchEnd"},o=_.mapValues(t,l=>"anomalyDetection."+l),d=_.mapValues(t,l=>l+"Role"),n={name:i,inputRoles:[{name:"TimeSeriesColumnRole",visualDataRoleMatching:{cartesianKind:a.Xk.X}},{name:"ValueColumnRole",visualDataRoleMatching:{cartesianKind:a.Xk.Y}}],outputRoles:[{name:o.ExpectedValue,algorithmRole:d.ExpectedValue,columnName:t.ExpectedValue,kind:a.Ts.Measure,joinPredicateBehavior:a.gD.None},{name:o.ExpectedLow,algorithmRole:d.ExpectedLow,columnName:t.ExpectedLow,kind:a.Ts.Measure,joinPredicateBehavior:a.gD.None},{name:o.ExpectedHigh,algorithmRole:d.ExpectedHigh,columnName:t.ExpectedHigh,kind:a.Ts.Measure,joinPredicateBehavior:a.gD.None},{name:o.RawScore,algorithmRole:d.RawScore,columnName:t.RawScore,kind:a.Ts.Measure,joinPredicateBehavior:a.gD.None},{name:o.Anomaly,algorithmRole:d.Anomaly,columnName:t.Anomaly,kind:a.Ts.Measure,joinPredicateBehavior:a.gD.None},{name:o.BatchStart,algorithmRole:d.BatchStart,columnName:t.BatchStart,kind:a.Ts.Measure,joinPredicateBehavior:a.gD.None},{name:o.BatchEnd,algorithmRole:d.BatchEnd,columnName:t.BatchEnd,kind:a.Ts.Measure,joinPredicateBehavior:a.gD.None}]},p={Forecast:{name:"Forecast",inputRoles:[{name:"X",visualDataRoleMatching:{cartesianKind:a.Xk.X}},{name:"Y",visualDataRoleMatching:{cartesianKind:a.Xk.Y}}],outputRoles:[{name:"forecast.ForecastValue",algorithmRole:"Forecast",columnName:"forecastValue",kind:a.Ts.Measure},{name:"forecast.ConfidenceHighBound",algorithmRole:"UpperBound",columnName:"confidenceHighBound",kind:a.Ts.Measure},{name:"forecast.ConfidenceLowBound",algorithmRole:"LowerBound",columnName:"confidenceLowBound",kind:a.Ts.Measure}]},KMeansClustering:{name:"KMeansClustering",inputRoles:[{name:"Attribute",visualDataRoleMatching:{matchMeasure:!0,skipJoinPredicateNone:!0}},{name:"Item",visualDataRoleMatching:{matchGrouping:!0}}],outputRoles:[{name:"Series",algorithmRole:"ClusterId",columnName:"clusterId",kind:a.Ts.Grouping}]},[i]:n}},90614:function(ve,z,e){e.d(z,{hg:function(){return c},cj:function(){return m},e1:function(){return u},VB:function(){return l}});var a=e(936409),i=e(21994),r=e(155281),t=e(96673),o=e(285264),d="PBI.Settings.EsriSaveModel",n=o.Xi[d]=(0,o.Vp)(d);function c(h,C,y=!0){return{automaticallyImport:y,sandboxProperties:[a.b.AllowSameOrigin,a.b.AllowPopups,a.b.AllowScripts,a.b.AllowForms],providers:{blocker:{blockedInCluster:_.stubTrue,blockedInTenant:_.stubTrue,blockedInHost:_.stubFalse},validator:{getErrorDetails:()=>({message:C.get("VisualContainer_EsriNotSupportedInEmbed"),errorType:r.By.VisualNotSupported,displayableErrorInfo:[],helpLink:i.sr})}},visualTypeOptions:s(),registerVisualConsentOptions:{consentDialogProvider:{showConsentDialog:()=>h.reject(t.LY)},consentPersistencyProvider:{loadConsent:()=>h.reject(t.LY),saveConsent:f=>h.reject(t.LY)}}}}function s(){return{class:t.gj,titleKey:"ArcGISMapsForPowerBI",watermarkKey:"map"}}function p(h){return{blockedInCluster:()=>!h.featureSwitches.esriEnabled,blockedInTenant:()=>!h.featureSwitches.esriVisualEnabled,blockedInHost:_.stubFalse}}function l(h,C,y,f,S,b,V,M=!0){var P=p(y),T=E(P,V,f);return{automaticallyImport:M,sandboxProperties:[a.b.AllowSameOrigin,a.b.AllowPopups,a.b.AllowScripts,a.b.AllowForms],providers:{blocker:P,validator:T},visualTypeOptions:s(),registerVisualConsentOptions:v(h,C,S,b)}}function u(h,C,y=!0){var f=p(h),S=E(f,void 0,C);return{automaticallyImport:y,sandboxProperties:[a.b.AllowSameOrigin,a.b.AllowPopups,a.b.AllowScripts,a.b.AllowForms],providers:{blocker:f,validator:S},visualTypeOptions:s()}}function v(h,C,y,f){return{consentDialogProvider:D(h,C),consentPersistencyProvider:g(h,y,f)}}function m(h,C,y,f,S,b,V=!0,M=!0){var P=p(C),T=E(P,f,y),N={automaticallyImport:V,sandboxProperties:[a.b.AllowSameOrigin,a.b.AllowPopups,a.b.AllowScripts,a.b.AllowForms],providers:{blocker:P,validator:T},visualTypeOptions:s()};return M&&(N.registerVisualConsentOptions={consentDialogProvider:{showConsentDialog:()=>h.reject("Esri consent dialog is not supported in Mobile scenario.")},consentPersistencyProvider:g(h,S,b)}),N}function g(h,C,y){return{loadConsent:()=>{var f=h.defer();return C.esriVisualEnabled.subscribe(S=>{f.resolve(S)}),f.promise},saveConsent:f=>{var S=y.startEvent(n,{esriEnabled:f});return C.setEsriVisualEnabled(f,S),h.resolve(f)}}}function E(h,C,y){return{getErrorDetails:()=>{var f;if(h.blockedInTenant()?f="SettingsEsri_OrganizationHasDisabled":C&&!C.hasConsent(t.gj)&&(f="VisualContainer_EsriNotConsented"),f)return{message:y.get(f),errorType:r.By.VisualNotSupported,displayableErrorInfo:[],helpLink:i.sr}}}}function D(h,C){return{showConsentDialog:()=>{var y=h.defer();return C.openHostDialog({dialogName:"EsriConsentDialog",componentName:"EsriConsentDialog",config:{panelClass:["esri-consent-dialog"],autoFocus:!1}}).then(S=>S.afterClosed().subscribe(b=>y.resolve(b))),y.promise}}}},531532:function(ve,z,e){e.d(z,{H:function(){return i},N:function(){return r}});var a=e(876082),i={name:"saveExploration",type:a.U.Exploration},r={name:"saveAsExploration",type:a.U.Exploration}},622502:function(ve,z,e){e.d(z,{Qd:function(){return t}});var t={type:e(876082).U.Visual,name:"topNFilterOrderByUpdate"}},631986:function(ve,z,e){e.d(z,{D4:function(){return g},ed:function(){return m}});var a=e(989917),i=e(576086),r=e(960179),t=e(850990),o=e(387797),d=e(691988),n=e(18122),c=e(693029),s=e(34584),p=e(999904),l=e(858225),u=e(664158),v=e(677126),m=function(D){return D[D.Card=0]="Card",D[D.Pane=1]="Pane",D}({}),g=(()=>{class D extends v.J{constructor(C,y,f){super(C,{expanded:!1,canToggleSingleSelect:!1,availableTypes:[],type:C.type}),this.localizationService=f,this.isInvalidForMappedColumn=!1,this.id=D.counter++,this.restatement="",this.displayName="",this.containerScope=y,this.howCreated=i.GS.Auto,this.isLinkedAsAggregation=!1,this.filterCapabilities=t.M.getFilterCapabilities(C),this.containerType=m.Pane}setServices(C,y,f){n.Y.assertAnyValue(C,"visualHostServices can be null or undefined."),this.visualHostServices=C,this.visualPlugin=y,this.viewModeState=f}isInvalid(){return this.invalid}clearDQPWarning(){this.isInvalidForMappedColumn&&(this.invalid=!1,this.readOnlyState.invalid=!1,this.isInvalidForMappedColumn=!1)}isInvalidCardType(){return this.cardType&&this.cardType.invalid}setContainerType(C){this.containerType=C}get filterContainerType(){return this.containerType}get isVisualFilter(){return this.containerScope&&this.containerScope.scopeType===r.$d.Visual}get hasDefaultValue(){return this.defaultValue&&(this.howCreated===i.GS.User||this.howCreated===i.GS.Drillthrough)}get isLinkField(){return this.howCreated===i.GS.Drillthrough&&!this.contract.isTransient}get canToggleLinkAsAggregation(){return this.isLinkField&&!this.isMeasure}get canDeleteManually(){return this.filterCapabilities.canDelete||!!this.readOnlyState.invalid}get canClearManually(){return this.filterCapabilities.canClear}get hasRestatement(){return""!==this.restatement&&null!=this.restatement}get canHideManually(){return this.filterCapabilities.canHide}get canLockManually(){return this.filterCapabilities.canLock}get canRenameManually(){return this.filterCapabilities.canRename}get canSortManually(){return this.filterCapabilities.canSort}get canExpandManually(){return this.filterCapabilities.canEdit&&t.M.canExpandManually(this.contract.howCreated,this.contract.isTransient,this.contract.expression,!this.invalid,this.contract.type)}getFilterContainerScope(){return this.containerScope}setRestatement(C){this.contract.type===this.readOnlyState.type&&(this.restatement=C)}clearRestatement(){this.restatement=""}getRestatement(){return this.restatement}updateFilterCardStyle(C,y){y&&(this.style=t.M.getFilterCardStyle(C&&C.evaluatedObjects,!!this.contract.filter,y,this.filterCardStyleArguments))}get checkboxAndApplyColor(){return this.style&&this.style.checkboxAndApplyColor}get borderColor(){return this.style&&this.style.borderColor}get backgroundColor(){return this.style&&this.style.backgroundColor}get foregroundColor(){return this.style&&this.style.foregroundColor}get inputBoxBorderColor(){return this.style&&this.style.inputBoxBorderColor}get inputBoxBackgroundColor(){return this.style&&this.style.inputBoxBackgroundColor}get inputBoxForegroundColor(){return this.style&&this.style.inputBoxForegroundColor}get fontSize(){return this.style&&this.style.fontSize}get fontFamily(){return this.style&&this.style.fontFamily}get visualContainer(){if(this.isVisualFilter)return this.containerScope.container}isFilterLocked(){return this.contract.isLockedInViewMode}isFilterHidden(){return this.contract.isHiddenInViewMode}isFilterExpanded(){return this.readOnlyState.expanded}updateFilterProperties(C,y,f){if(this.contract.expression){var S=this.contract.expression;this.isMeasure=(0,u.t)(S),this.discourageAggregation=l.B.discourageAggregation(S,C),this.valueType=t.M.getValueType(S,C),this.formatter=t.M.getFormatter(S,C),this.defaultValue=l.B.getDefaultValue(S,C),this.parameterMetadata=l.B.getConceptualParameterMetadata(S,C),this.howCreated===i.GS.Drillthrough&&!this.contract.isTransient||this.isMappedToMParameter()&&!this.supportsMultipleValues()?(this.isSingleSelectionRequired=!0,this.disableSelectionModeToggle=!0):this.contract.isTransient&&(this.isSingleSelectionRequired=!1,this.disableSelectionModeToggle=!0)}if(this.contract.objects){var M=(0,p._W)(this.contract.objects,{objectName:"general",propertyName:"isInvertedSelectionMode"},void 0);this.isInvertedSelectionMode=M&&M.value}var P=this.containerScope.container;this.hasGroupingScope=P&&(0,o.gk)(P,C),this.invalid=!_.isEmpty(t.M.validate(this.contract,C,f)),this.invalid?this.isInvalidForMappedColumn=!1:(this.isInvalidForMappedColumn=this.hasInvalidFiltersForMParameters(this.contract,C),this.invalid=this.isInvalidForMappedColumn),this.disabled=t.M.shouldDisableFilter(this.contract,C,P,f,y)}hasInvalidFiltersForMParameters(C,y){var f=C?.filter?.conditions();if(!f)return!1;for(var S of f)if(!l.B.checkExprForValidMParameters(S,y))return!0;return!1}switchType(C){this.readOnlyState.type=C}canVisualize(){var C=this.contract;return C.expression&&C.type!==a.RJ.Passthrough&&!this.isMeasure}updateViewStateCore(C){var y=this.contract;n.Y.assertValue(C.type,"Expected type to be defined for filter contract.");var f=!this.invalid;if(C.disabled=this.disabled,C.expanded=!0===y.expanded&&f,C.invalid=!f,_.some(this.availableTypes,V=>V.type===a.RJ.Categorical)&&!C.visual&&y.config){var S=y.config.singleVisual;S&&this.visualHostServices&&this.visualPlugin&&(C.visual={viewport:D.DefaultVisualViewPort,type:d.N.filterSlicer.name,dataTransforms:{objects:S.objects},hostServices:this.visualHostServices,interactivityOptions:{dragDataPoint:!1,selection:!0},allowInvalidDataView:!0,visualPlugin:this.visualPlugin,themeCollection:{}})}C.canToggleSingleSelect=!(this.howCreated===i.GS.Drillthrough&&!this.contract.isTransient||this.contract.isTransient||C.disabled||!C.expanded||!C.visual||!C.visual.data)}updateAvailableTypes(){var C=this.localizationService,y=this.readOnlyState.type;if(y!==a.RJ.Passthrough){var f=[];y===a.RJ.VisualTopN?f.push({type:a.RJ.VisualTopN,label:C.get("Data_Limit")}):(function(D,h){return D&&!D.bool&&!h}(this.valueType,this.isLinkField)&&f.push({type:a.RJ.Advanced,label:C.get("FilterPane_Advanced")}),this.isMeasure||(f.push({type:a.RJ.Categorical,label:C.get("FilterPane_Basic")}),this.valueType&&this.valueType.dateTime&&!this.isMappedToMParameter()&&(f.push({type:a.RJ.RelativeDate,label:C.get("FilterPane_RelativeDate")}),f.push({type:a.RJ.RelativeTime,label:C.get("FilterPane_RelativeTime")})),this.isVisualFilter&&!this.isMappedToMParameter()&&f.push({type:a.RJ.TopN,label:C.get("FilterPane_TopN")}))),this.availableTypes=f,this.hiddenTypes=[],this.updateCardType(y)}else this.availableTypes=[]}updateCardType(C){var y=this.availableTypes;this.readOnlyState.type=C,this.cardType=_.find(y,f=>f.type===C),!this.cardType&&this.hiddenTypes&&this.hiddenTypes.length>0?(this.cardType=_.find(this.hiddenTypes,f=>f.type===C),this.availableTypes.push(this.cardType)):!this.cardType&&this.isMappedToMParameter()&&(this.cardType={type:a.RJ.Categorical,label:this.localizationService.get("FilterPane_Basic")})}isSingleSelectDisabled(){return this.disableSelectionModeToggle||!this.viewModeState||this.viewModeState.getMode()===c.nE.View}getDisplayName(){return this.contract.displayName?this.contract.displayName:this.displayName}updateIsLinkedAsAggregation(C){this.isLinkedAsAggregation=C}getInputPlaceholder(){return this.viewModeState&&this.viewModeState.getConfig().displayOptions.enableMobileFilters?this.localizationService.get("TypeHere"):""}isMappedToMParameter(){return this.parameterMetadata&&this.parameterMetadata.kind===s.S_.MParameters}supportsMultipleValues(){return!!this.parameterMetadata?.supportsMultipleValues}supportsSelectAll(){return!!this.parameterMetadata?.supportsSelectAll}}return D.DefaultVisualViewPort={width:146,height:180,scale:1},D.counter=0,D})()},601331:function(ve,z,e){e.d(z,{dm:function(){return y},FV:function(){return f}});var a=e(989917),i=e(576086),r=e(960179),t=e(850990),o=e(18122),d=e(989417),n=e(359317),c=e(358719),s=e(335128),p=e(188076),l=e(576926),u=e(169430),v=e(400895),m=e(553115),g=e(133533),E=e(609568),h=e(631986),C=e(912186);function y(x,j,U,F,R,B,A,W,G){var K;switch(o.Y.assertValue(x,"contract"),o.Y.assertValue(x.expression||x.filter||x.type===a.RJ.Include||x.type===a.RJ.Exclude,"field or filter is required; otherwise this must be an empty include/exclude filter"),o.Y.assert(()=>!x.isTransient||!!x.filter,"We assume that if it is a transient filter, it should have semantic filter. If the assumption is wrong, please revisit implementation of getDefaultFilterType."),x.type){case a.RJ.TopN:K=T(x,W,F,j,U,A,G);break;case a.RJ.VisualTopN:K=function(x,j,U,F,R,B,A){return O(x,a.RJ.VisualTopN,j,U,F,R,B,A)}(x,F,j,U,A,W,G);break;case a.RJ.Advanced:case a.RJ.Categorical:K=P(x,W,F,j,U,A,G);break;case a.RJ.RelativeTime:K=w(n.Z7.Time,x,W,F,j,U,A,G,!1);break;case a.RJ.RelativeDate:K=w(n.Z7.Date,x,W,F,j,U,A,G,!1);break;case a.RJ.Passthrough:K=M(x,W,F,j,U,G,A);break;case a.RJ.Include:case a.RJ.Exclude:K=V(x,F,j,U,A);break;default:K=T(x,W,F,j,U,A,G)||w(n.Z7.Time,x,W,F,j,U,A,G,!0)||w(n.Z7.Date,x,W,F,j,U,A,G,!0)||P(x,W,F,j,U,A,G)||V(x,F,j,U,A)||M(x,W,F,j,U,G,A)}return o.Y.assertValue(K,"Expected to convert contract to FilterViewModel"),o.Y.assertValue(x.type,"Expected filter contract type to be assigned"),K.howCreated=x.howCreated,K.updateFilterProperties(j,R,B),K}function f(x,j,U){var F;if(x.filter){var R=x.filter.conditions();o.Y.assert(()=>1===R.length,"There should be exactly 1 filter expression.");var B=R[0];B&&(F=new E.x(j).fromFilterExpr(B,U,null,x.expression))}return!F&&x.expression&&(F=new g.s(x.expression,j)),F}function S(x,j,U,F,R,B,A){var W=(0,p.F)(x);return U.getDisplayName(x,j,F,R,A===r.$d.Visual?B:void 0,{includeVariationSource:!0})||(W?(0,s.ZO)(W):void 0)}function b(x,j,U,F,R,B,A){var W=U.getQualifiedDisplayName(x,j,R);return A===i.GS.Drillthrough||A===i.GS.CrossDrill||A===i.GS.Drill?W=F.format("FilterCard_Transient_Drill",[W]):A===i.GS.URL?W=F.format("FilterCard_Transient_URL",[W]):B&&(W=F.format("FilterCard_Transient",[W])),W}function V(x,j,U,F,R){var B=new m.y(U,F);if(!x.filter)return x.type?new h.D4(x,j,R):void 0;var A=x.filter.conditions();if(!(_.isEmpty(A)||A.length>1)&&(A[0].accept(B),B.dataPoints.length>0)){x.type=B.isExclude?a.RJ.Exclude:a.RJ.Include;var G=new h.D4(x,j,R);return G.displayName=t.M.getDisplayNameForIncludeExcludeFilters(R,x.type,B.dataPoints.length),G}}function M(x,j,U,F,R,B,A){o.Y.assert(()=>null==x.type||x.type===a.RJ.Passthrough,"Filter contract matches FilterType.Passthrough, but has differing type property: "+x.type),null==x.type&&(x.type=a.RJ.Passthrough);var W=new h.D4(x,U,A),G=x.restatement;if((!G||""===G)&&x.filter){o.Y.assert(()=>1===_.size(x.filter.where()),"expecting only 1 filter in passthrough filters");var K={includeFieldNamesInFilter:!0};if(G=R.getFilterRestatement(x.filter,F,j,K),W.tooltip=R.getQualifiedFilterRestatement(x.filter,F,j,K),_.isEmpty(G)){var q=(0,l.c)(x.filter);if(!_.isEmpty(q)){var k,L,X,Y,ne=A.get("ListJoin_Separator");B&&(Y=B.columnProperties);var Q=q.fieldsBeingFiltered.map(Te=>{var He=B&&B.query&&B.query.defn.selectNameOf(Te);return R.getDisplayName(Te,F,j,He,Y)}).join(ne),H=q.fieldsBeingFiltered.map(Te=>R.getQualifiedDisplayName(Te,F,j,K)).join(ne);if(q.isSubquery&&q.itemCount){o.Y.assert(()=>U.scopeType===r.$d.Section&&x.howCreated===i.GS.Drillthrough,"Subqueries are expected to be only within section and drillthrough context.");var te=(0,c.GP)(q.itemCount);if(q.orderByField){var ee=B&&B.query&&B.query.defn.selectNameOf(q.orderByField),ue=R.getDisplayName(q.orderByField,F,j,ee,Y);X=q.isTop?"FilterRestatement_TopNBy_Drillthrough":"FilterRestatement_BottomNBy_Drillthrough",k=[te,Q,ue],L=[te,H,ue]}}else k=[Q],L=[H],X=q.isSubquery?"FilterRestatement_Subquery":"FilterRestatement_Columns";G=(0,d.G)(A.get(X),...k||[]),W.tooltip=(0,d.G)(A.get(X),...L||[])}}}return W.setRestatement(G),W}function P(x,j,U,F,R,B,A){var W=f(x,B,F);if(W){x.expression||(x.expression=W.field),o.Y.assert(()=>null==x.type||x.type===a.RJ.Categorical||x.type===a.RJ.Visual||x.type===a.RJ.Advanced,"Filter contract matches FilterType.Advanced, FilterType.Categorical, or FilterType.Visual, but  has differing type property: "+x.type),null==x.type&&(x.filter?x.type=t.M.getFilterType(W.field,W.supportsCategorical):(o.Y.assert(()=>!x.isTransient,"We assume the FilterContainer isTransient to be false when it reaches here. If it is true, getDefaultFilterType API needs to consider isTransient."),x.type=(0,C.I_)(x.expression,F,x.howCreated))),null==x.type&&(x.type=a.RJ.Categorical);var q,ne,G=x.expression,K=new h.D4(x,U,B);return A&&(q=A.query&&A.query.defn.selectNameOf(G),ne=A.columnProperties),K.displayName=S(G,F,R,j,q,ne,U.scopeType),K.tooltip=b(G,F,R,B,j,x.isTransient,x.howCreated),K}}function T(x,j,U,F,R,B,A){if(U.scopeType===r.$d.Visual&&x.howCreated!==i.GS.Drillthrough){var W=(0,v.c$)(x.filter);return W&&I(x,a.RJ.TopN,W.fieldBeingFiltered),O(x,a.RJ.TopN,U,F,R,B,j,A)}}function w(x,j,U,F,R,B,A,W,G){var K=function(x){switch(x){case n.Z7.Time:return a.RJ.RelativeTime;case n.Z7.Date:return a.RJ.RelativeDate;default:return o.Y.assertFail("Unsupported RelativeFilterType"),null}}(x),q=(0,u.C)(j.filter,x);if(q){if(q.options&&q.options.anchorDate&&G)return;I(j,K,q.field)}return O(j,K,F,R,B,A,U,W)}function I(x,j,U){o.Y.assert(()=>null==x.type||x.type===j,"Filter contract matches FilterType."+j+" but has differing type property: "+x.type),x.type=j,x.expression=U}function O(x,j,U,F,R,B,A,W){if(x.type===j){if(j===a.RJ.VisualTopN){var G=new h.D4(x,U,B);return G.displayName=B.get("Data_Limit"),G}if(x.expression){var K=new h.D4(x,U,B),q=W&&W.query?W.query.defn.selectNameOf(x.expression):void 0;return K.displayName=S(x.expression,F,R,A,q,W?W.columnProperties:void 0,U.scopeType),K.tooltip=b(x.expression,F,R,B,A,x.isTransient,x.howCreated),K}}}},190936:function(ve,z,e){e.d(z,{Ap:function(){return q},Bz:function(){return p},Ch:function(){return H},Dw:function(){return n},ER:function(){return ue},EY:function(){return o},El:function(){return r},FL:function(){return y},GP:function(){return M},Hf:function(){return l},Ho:function(){return F},In:function(){return d},JS:function(){return g},LN:function(){return B},Po:function(){return Q},Q1:function(){return T},S:function(){return I},SG:function(){return V},Vm:function(){return N},WR:function(){return O},X:function(){return X},XB:function(){return W},Y:function(){return Y},_K:function(){return R},a:function(){return t},bv:function(){return E},c2:function(){return G},eR:function(){return w},fs:function(){return k},gC:function(){return u},hY:function(){return c},lM:function(){return K},s$:function(){return v},sQ:function(){return C},wv:function(){return A},xL:function(){return L},y4:function(){return s},yD:function(){return ee},z:function(){return j},zE:function(){return P}});var r="calloutValue",t="categoryAxis",o="categoryLabels",d="conditionalFormatting",n="dataBars",c="dataPoint",s="dropShadow",p="general",l="gradient",u="labels",v="legend",g="personalizeVisual",E="stylePreset",C="totals",y="valueAxis",V="visualTooltip",M="zoom",P="applyToAllPages",T="color",N="dynamicLabelValue",w="flagsSelection",I="innerPadding",O="numericSelection",j="revertToDefault",F="secShow",R="secShowAxisTitle",B="selection",A="show",W="showAxisTitle",G="showDynamicLabels",K="showGradientLegend",q="slider",k="textarea",L="transparency",X="x",Y="y",Q="width",H="height",ee="allowBinnedLineSample",ue="allowOverlappingPointsSample"},784859:function(ve,z,e){e.d(z,{Ht:function(){return v},Hw:function(){return N},Jr:function(){return l},Mb:function(){return u},Mo:function(){return m},Ny:function(){return n},OJ:function(){return s},O_:function(){return g},Pd:function(){return V},Xy:function(){return f},aC:function(){return w},ad:function(){return E},ah:function(){return D},b3:function(){return c},hX:function(){return d},ji:function(){return T},nT:function(){return P},ol:function(){return p},th:function(){return S},u1:function(){return M}});var d=9,n=20,c=10,s=20,p=30,l=300,u=300,v=150,m=150,g=500,E=15,D={x:1,y:1},f=8,S=50,V=558,M=324,P=18,T=180,N=3600,w=function(I){return I[I.SchemaEmpty=0]="SchemaEmpty",I[I.SchemaLoading=1]="SchemaLoading",I[I.SchemaNotEmpty=2]="SchemaNotEmpty",I}({})},428722:function(ve,z,e){e.d(z,{EG:function(){return s},Fk:function(){return u},IT:function(){return D},Zu:function(){return n},as:function(){return v},eh:function(){return m},le:function(){return l},oQ:function(){return g},tZ:function(){return h},wj:function(){return p},x9:function(){return E}});var a=e(541459),i=e(374819),r=e(576086),t=e(71712),o=e(579260),d=e(18122);function n(C,y){var f=(0,a.Zj)(y),S=(0,a.Zj)(C);d.Y.assert(()=>f.length===S.length,"permanent section count is out of sync");for(var b=f.length-1;b>=0;b--){var V=f[b],M=S[b];V.id=M.id,V.objectId=M.objectId,c(V.visualContainerGroups,M.visualContainerGroups)}}function c(C,y){for(var f=function(){var b=C[S],V=y[S];b.id=V.id,d.Y.assert(()=>(0,t.tx)(b)===(0,t.tx)(V),"visualContainerGroups items must be in sync"),(0,t.tx)(b)&&(0,t.tx)(V)&&c(b.children,V.children)},S=C.length-1;S>=0;S--)f()}function s(C,y){if(C&&C.sections){var S=_.findIndex(C.sections,b=>b.name===y);if(-1!==S)return S}}function p(C,y){var f;return y&&(f=s(C,y)),null==f&&_.isNumber(C.activeSectionIndex)&&(f=C.activeSectionIndex),(null==f||!_.inRange(f,0,C.sections.length))&&(f=0),f}function l(C,y){return C&&C.sections?_.findIndex(C.sections,b=>b===y):-1}function u(C,y){return C&&C.sections?(0,o.lz)(C.sections,y):null}function v(C,y){return C&&C.sections?_.findIndex(C.sections,b=>b.id===y):-1}function m(C,y){for(var f=1,S=y.format("Explore_Section_Page",[f.toFixed()]);_.findLastIndex(C,b=>b.displayName===S)>=0;)S=y.format("Explore_Section_Page",[(++f).toFixed()]);return S}function g(C,y){var f=C.sections;for(var S of f)S.displayName||(S.displayName=m(C.sections,y))}function E(C){return _.filter(C,y=>!D(y))}function D(C){return!!(C.visibility&i.G.HiddenInViewMode)}function h(C){return!!(C.type&r.gX.Tooltip)}},632194:function(ve,z,e){e.d(z,{HO:function(){return d},tP:function(){return o},wr:function(){return t}});var a=e(536789),i=e(690332),r=e(121756);function t(v,m,g){v.addEventListener("drop",E=>{var D=d(E);D&&m(E,D,n(v,E))}),v.addEventListener("dragover",E=>{(function(v){return!function(v){return v.dataTransfer.types.includes(a.Z0.BuildFieldWell)}(v)})(E)&&(g&&function(v,m){switch(m){case r.ST.None:s(v.previousElementSibling,r.NV.class),s(v,r.NV.class),s(v.nextElementSibling,r.NV.class);break;case r.ST.Prepend:s(v.previousElementSibling,r.dW.class),s(v,r.Zx.class),s(v.nextElementSibling,r.NV.class);break;case r.ST.Append:s(v.previousElementSibling,r.NV.class),s(v,r.dW.class),s(v.nextElementSibling,r.Zx.class);break;case r.ST.Replace:s(v.previousElementSibling,r.NV.class),s(v,r.Nt.class),s(v.nextElementSibling,r.NV.class);break;default:p(v)}}(v,g(n(v,E))),E.preventDefault())}),g&&(v.addEventListener("dragleave",()=>p(v)),v.addEventListener("dragexit",()=>p(v)),v.addEventListener("dragend",()=>p(v)))}function o(v){v.removeAllListeners("drop"),v.removeAllListeners("dragover"),v.removeAllListeners("dragleave"),v.removeAllListeners("dragexit"),v.removeAllListeners("dragend")}function d(v,m=!0){m&&(v.stopPropagation(),v.preventDefault());var g=v.dataTransfer.getData("pbi-tree-node");if(g){var E=JSON.parse(g).fieldExpr;if(E)return i.F3.deserializeExpr(E)}}function n(v,m){var g=v.getBoundingClientRect(),E=0;return(E|=g.top+g.height/2>m.pageY?r.yX.Above:r.yX.Below)|(g.left+g.width/2>m.pageX?r.yX.LeftOf:r.yX.RightOf)}function s(v,m){!v||v.classList.contains(m)||(v.classList.remove(r.dW.class),v.classList.remove(r.NV.class),v.classList.remove(r.Zx.class),v.classList.remove(r.Nt.class),v.classList.add(m))}function p(v){s(v.previousElementSibling,r.NV.class),s(v,r.NV.class),s(v.nextElementSibling,r.NV.class)}},180999:function(ve,z,e){function a(i,r){var t=(d,...n)=>r.run(d,i,n),o={getLocalizedString:(d,...n)=>i.getLocalizedString(d,...n||[]),tooltips:()=>i.tooltips(),getSectionsMetadata$:()=>i.getSectionsMetadata$(),getBookmarksMetadata$:()=>i.getBookmarksMetadata$(),getSubSelectionService:()=>i.getSubSelectionService(),alertScreenReader:d=>t(i.alertScreenReader,d),alertWithDebounce:(d,n)=>t(i.alertWithDebounce,d,n),requestFocus:d=>t(i.requestFocus,d),onDragStart:d=>t(i.onDragStart,d),getVisualLinkProperties:()=>t(i.getVisualLinkProperties),canSelect:d=>t(i.canSelect,d),onSelecting:d=>t(i.onSelecting,d),onSelect:d=>t(i.onSelect,d),onSwitchFocusModeState:d=>t(i.onSwitchFocusModeState,d),canExpandCollapse:d=>t(i.canExpandCollapse,d),setNodeExpansionState:d=>t(i.setNodeExpansionState,d),setLevelExpansionState:d=>t(i.setLevelExpansionState,d),onContextMenu:d=>t(i.onContextMenu,d),loadMoreData:()=>t(i.loadMoreData),loadWindow:d=>t(i.loadWindow,d),setShouldDeferData:d=>t(i.setShouldDeferData,d),persistProperties:(d,n)=>t(i.persistProperties,d,n),onCustomSort:d=>t(i.onCustomSort,d),getViewMode:()=>t(i.getViewMode),getEditMode:()=>t(i.getEditMode),setWarnings:d=>t(i.setWarnings,d),getWarnings$:()=>t(i.getWarnings$),setToolbar:(d,n)=>t(i.setToolbar,d,n),shouldRetainSelection:()=>t(i.shouldRetainSelection),geocoder:()=>t(i.geocoder),geolocation:()=>t(i.geolocation),locale:()=>t(i.locale),promiseFactory:()=>t(i.promiseFactory),ignoreDefaultFilter:()=>t(i.ignoreDefaultFilter),getIdentityDisplayNames:d=>t(i.getIdentityDisplayNames,d),setIdentityDisplayNames:d=>t(i.setIdentityDisplayNames,d),dropdown:()=>t(i.dropdown),telemetry:()=>t(i.telemetry),authenticationService:()=>t(i.authenticationService),localStorageService:()=>t(i.localStorageService),eventService:()=>t(i.eventService),licenseManagerService:()=>t(i.licenseManagerService),loader:()=>t(i.loader),getUIComponentFactory:()=>t(i.getUIComponentFactory),applyJsonFilter:(d,n,c,s)=>t(i.applyJsonFilter,d,n,c,s),applyIdentityFilter:(d,n,c,s)=>t(i.applyIdentityFilter,d,n,c,s),launchUrl:d=>t(i.launchUrl,d),instanceId:i.instanceId,refreshHostData:()=>t(i.refreshHostData),decompositionService:()=>t(i.decompositionService),getJSONFilter:(d,n)=>t(i.getJSONFilter,d,n),visualCapabilitiesChanged:()=>t(i.visualCapabilitiesChanged),onHyperlinkClick:(d,n)=>t(i.onHyperlinkClick,d,n),visualTimeSynchronization:()=>t(i.visualTimeSynchronization),setFilterExpressionMetadata:d=>t(i.setFilterExpressionMetadata,d),getFilterExpressionMetadata:()=>t(i.getFilterExpressionMetadata),isVisualEnabled:()=>t(i.isVisualEnabled),isVisualLoading:()=>t(i.isVisualLoading),dataMultiSelectMode:()=>t(i.dataMultiSelectMode),networkAvailability:()=>t(i.networkAvailability),downloadService:()=>t(i.downloadService),setAriaMetadata:d=>t(i.setAriaMetadata,d),artifactService:()=>t(i.artifactService),onNotifyLicense:d=>t(i.onNotifyLicense,d),onClearLicenseNotification:()=>t(i.onClearLicenseNotification),onNotifyFeatureBlocked:d=>t(i.onNotifyFeatureBlocked,d),webAccessService:()=>t(i.webAccessService),drill:d=>t(i.drill,d),getAzureMapToken:()=>t(i.getAzureMapToken),acquireAADTokenService:()=>i.acquireAADTokenService(),localStorageV2Service:()=>i.localStorageV2Service(),aiNarrativesService:()=>t(i.aiNarrativesService),azureMapsEndpoint:()=>i.azureMapsEndpoint(),geocoderIndexedDB:()=>i.geocoderIndexedDB(),triggerUpdate:()=>t(i.triggerUpdate),azureMapsHostEnvironment:()=>i.azureMapsHostEnvironment(),setCanDrill:d=>t(i.setCanDrill,d),dateTimeFormatService:()=>i.dateTimeFormatService(),visualExportService:()=>t(i.visualExportService),visualHostSubSelectionService:()=>i.visualHostSubSelectionService(),annotations:()=>i.annotations()};return i.isSelected&&i.isSelected$&&(o.isSelected=()=>i.isSelected(),o.isSelected$=()=>i.isSelected$()),o}e.d(z,{N:function(){return a}})},553115:function(ve,z,e){e.d(z,{y:function(){return o}});var a=e(850990),i=e(18122),r=e(358719),t=e(73646);class o extends t.nP{constructor(n,c,s){super(),this.schema=n,this.displayName=c,this.metadata=s,this.dataPoints=[],this.isExclude=!1}visitNot(n){this.isExclude=!0,n.arg.accept(this)}visitOr(n){n.left.accept(this),n.right.accept(this)}visitIn(n){var c=this;if(!_.isEmpty(n.values)){var s=[],p=n.args,l=_.map(p,m=>this.displayName.getDisplayName(m,this.schema,null,null,null,{includeVariationSource:!0})),u=function(m){i.Y.assert(()=>p.length===m.length,"Columns can't be different from values");var g=l,E=_.map(m,h=>h.value),D=a.M.findValuesInFilterCache(p,m,c.metadata);D&&(g=_.map(D.columns,h=>c.displayName.getDisplayName(h,c.schema,null,null,null,{includeVariationSource:!0})),E=D.values),s.push({columns:p,values:m,text:o.getDataPointText(g,E)})};for(var v of n.values)u(v);this.dataPoints.push(...s||[])}}static getDataPointText(n,c){var s="";i.Y.assert(()=>n.length>0,"getDataPointText columns cant be empty"),i.Y.assert(()=>n.length===c.length,"getDataPointText columns and values should have the same length");for(var p=0;p<n.length;p++){var u=n[p];s+=(0,r.GP)(c[p])+" ("+u+") + "}return s.slice(0,s.length-3)}}},953538:function(ve,z,e){e.d(z,{s:function(){return o}});var a=e(316051),i=e(576086),r=e(700280),t=e(693029);function o(n,c,s,p,l,u,v){return new d(n,c,p,l,u,v)}class d{constructor(c,s,p,l,u,v){this.eventBridge=c,this.explorationNavigation=s,this.formFactorProvider=p,this.visibility=l,this.viewModeState=u,this.overlayService=v,this.displayAreaScale=1,this.wallpaperScale=1}setDisplayAreaScaleFactor(c){this.displayAreaScale=c,this.eventBridge.publishToChannel(r.NlL,c)}setWallpaperScaleFactor(c){this.wallpaperScale=c}getDisplayAreaScaleFactor(){return this.displayAreaScale}getWallpaperScaleFactor(){return this.wallpaperScale}getDisplayOption(){if(this.formFactorProvider.getCurrentLayout()===a.v.PhonePortrait&&this.viewModeState.getMode()===t.nE.Edit||null!=this.canvasZoom)return i.td.ActualSize;if(this.visibility.get())return i.td.Dynamic;if(null!=this.overrideDisplayOption)return this.overrideDisplayOption;var p=this.explorationNavigation.getCurrentSection();return p?p.size.displayOption:void 0}setDisplayOption(c){var s=this.explorationNavigation.getCurrentSection();s&&(this.canvasZoom=void 0,this.overlayService.hideAllDropdowns(),s.size.displayOption=c)}setCanvasZoom(c){this.overlayService.hideAllDropdowns(),this.canvasZoom=c}getCanvasZoom(){return this.canvasZoom}}},868308:function(ve,z,e){e.d(z,{Y:function(){return E}});var a=e(620825),i=e(316051),r=e(576086),t=e(700280),o=e(483378),d=e(850990),n=e(718665),c=e(387797),s=e(579260),p=e(18122),l=e(454840),u=e(693029),m=(e(757406),e(428722)),g=function(D){return D[D.ShowTargetVisual=0]="ShowTargetVisual",D[D.ShowSourceVisual=1]="ShowSourceVisual",D}({});function E(){var D=d.M,h=o.qN,y=l.n4;class f{constructor(V,M,P,T,N){this.sourceSection=V,this.sourceVisualContainer=M,this.targetSection=P,this.targetVisualContainer=T,this.navigationState=N}toSnapshot(V){if(V.getCurrentSection()===this.targetSection){var M=V.getCurrentExploration(),P=(0,m.le)(M,this.sourceSection),T=(0,m.le)(M,this.targetSection);return{sourceSectionIndex:P,sourceVisualIndex:_.findIndex(this.sourceSection.visualContainers,I=>I===this.sourceVisualContainer),targetSectionIndex:T,targetVisualIndex:_.findIndex(this.targetSection.visualContainers,I=>I===this.targetVisualContainer)}}}static fromSnapshot(V,M){if(V){var P=M.getCurrentExploration(),T=P.sections[V.sourceSectionIndex],N=T.visualContainers[V.sourceVisualIndex],w=P.sections[V.targetSectionIndex],I=w.visualContainers[V.targetVisualIndex];return p.Y.assertValue(T,"sourceSection"),p.Y.assertValue(N,"sourceVisual"),p.Y.assertValue(w,"targetSection"),p.Y.assertValue(I,"targetVisual"),p.Y.assert(()=>M.getCurrentSection()===w,"expected to be on the drill to details section"),new f(T,N,w,I,g.ShowTargetVisual)}}}class S{constructor(V,M,P,T,N,w,I,O,x,j){this.conceptualSchemaProxy=V,this.visualAuthoringOperations=M,this.undoRedo=P,this.selectionService=T,this.explorationNavigationService=N,this.explorationSerializer=w,this.visibility=I,this.eventBridge=O,this.filterGenerator=x,this.visualPluginService=j,this.eventBridge.createChannelSubscriptionManager().subscribe(t.d$U,()=>this.onSectionChanged()).subscribe(t.j8Z,()=>this.onPopOutModeChanged()).subscribe(t.Er3,(U,F)=>this.clearContext())}drillToDetails(V,M,P,T){if(!_.isEmpty(V)){var N=_.head(V);if(N&&!_.isEmpty(N.metadata)){var w=(0,c.NU)(M);if(w&&w.defn){if(_.isEmpty(N.dataMap)){if(!w.projections)return;var I=(0,c.D_)(M,this.visualPluginService),O=_(I).filter(F=>F.kind!==u.Ts.Measure).map(F=>F.name).value();for(var x in w.projections)if(!_.isEmpty(w.projections[x])&&_.includes(O,x))return}var U,j=w.defn.select().withName(_.head(N.metadata));j&&(0,a.b9)(j.expr)&&(T&&(U=T.keepAlive()),this.conceptualSchemaProxy.get(P).then(F=>{var R=this.visualAuthoringOperations.drillToDetails(y.generateGuid(),F,[j.expr],V,M);R&&(this.addCrossFilters(M,this.explorationNavigationService.getCurrentSection(),R,!1,F),this.drillToDetailsCore(V,M,R),U&&U.resolve())},F=>{U&&U.reject(F)}))}}}}generateDetailsTable(V,M,P,T){var N=this.mockVisualContainer(V),w=this.visualAuthoringOperations.drillToDetails(y.generateGuid(),M,P,null,N,T);if(w)return w.config.singleVisual}clear(){if(this.drillToDetailsContext){p.Y.assert(()=>this.drillToDetailsContext.navigationState===g.ShowTargetVisual,"expected to be in show details mode"),this.drillToDetailsContext.navigationState=g.ShowSourceVisual;var V=(0,m.le)(this.explorationNavigationService.getCurrentExploration(),this.drillToDetailsContext.sourceSection);p.Y.assert(()=>V>=0,"source section not found"),this.eventBridge.publishToChannel(t.gNx,{index:V})}}getContext(){return this.drillToDetailsContext}setContext(V){p.Y.assert(()=>null!=V,"attempting to set a null context for drill to details service"),p.Y.assert(()=>null==this.drillToDetailsContext,"overriding existing drill to details context"),p.Y.assert(()=>V.navigationState===g.ShowTargetVisual,"drill to details state can only be restored for showing the detail visual"),this.drillToDetailsContext=V}clearContext(){this.drillToDetailsContext=null}hasContext(){return!!this.drillToDetailsContext}getDetailsTableTargetMeasures(V){var M=this.mockVisualContainer(V),P=(0,c.NU)(M);if(P&&P.defn){var T=(0,c.D_)(M,this.visualPluginService);if(!_.isEmpty(T)){var N=_(T).filter(F=>(F.kind===u.Ts.Measure||F.kind===u.Ts.GroupingOrMeasure)&&F.joinPredicate!==u.gD.None).map(F=>F.name).value(),w=[];for(var I of N){var O=P.projections[I];if(!_.isEmpty(O)){var x=O.all();for(var j of x){var U=P.defn.select().withName(j.queryRef);if(U&&(0,a.b9)(U.expr))return[U.expr];U&&(0,a.tx)(U.expr)&&w.push(U.expr)}}}return w}}}mockVisualContainer(V){var M={name:y.generateGuid(),config:{singleVisual:V},layouts:(0,s.mq)(),filters:[]};return M.layouts.push({id:i.v.Master,position:{x:0,y:0,width:0,height:0}}),M}onSectionChanged(){if(this.drillToDetailsContext){var V=this.explorationNavigationService.getCurrentSection();switch(p.Y.assert(()=>null!=V,"currentSection"),this.drillToDetailsContext.navigationState){case g.ShowTargetVisual:p.Y.assert(()=>V===this.drillToDetailsContext.targetSection,"expected to navigate to target section"),window.setTimeout(()=>{h.selectCanvasItem(this.drillToDetailsContext.targetVisualContainer,this.selectionService),this.visibility.set(this.drillToDetailsContext.targetVisualContainer,r.B8.Maximize)},0);break;case g.ShowSourceVisual:p.Y.assert(()=>V===this.drillToDetailsContext.sourceSection,"expected to navigate to source section");var M=this.explorationNavigationService.getCurrentExploration(),P=(0,m.le)(M,this.drillToDetailsContext.targetSection);p.Y.assert(()=>P>=0,"target section not found");var T=(0,m.le)(M,this.drillToDetailsContext.sourceSection),N=this.drillToDetailsContext.sourceVisualContainer;this.drillToDetailsContext=null,this.eventBridge.publishToChannel(t.tAe,{targetSectionIndex:P}),window.setTimeout(()=>{(0,m.le)(this.explorationNavigationService.getCurrentExploration(),this.explorationNavigationService.getCurrentSection())===T&&h.selectCanvasItem(N,this.selectionService),this.undoRedo.clear()},0);break;default:p.Y.assertFail("unknown drill to details navigationState")}}}onPopOutModeChanged(){if(this.drillToDetailsContext){var V=this.explorationNavigationService.getCurrentSection();p.Y.assert(()=>null!=V,"currentSection"),V!==this.drillToDetailsContext.sourceSection&&(p.Y.assert(()=>V===this.drillToDetailsContext.targetSection,"expected to be on target section"),this.visibility.get()!==this.drillToDetailsContext.targetVisualContainer&&this.clear())}}drillToDetailsCore(V,M,P){var T=this.explorationNavigationService.getCurrentSection();if(T){var N=this.explorationNavigationService.getAllSections(),w=this.explorationSerializer.serializePage(T,1),I=this.explorationSerializer.deserializePage(w),O={name:"Drill to Details",displayName:"Drill to Details",filters:I.filters,size:I.size,visualContainers:[P],visualContainerGroups:[P],transient:!0};(0,n.Ys)(O,N),this.drillToDetailsContext=new f(T,M,O,P,g.ShowTargetVisual),this.eventBridge.publishToChannel(t.hbO,O)}}addCrossFilters(V,M,P,T,N){var w=this.filterGenerator.getVisualContainerCrossFilters(M,V,N);if(w.dataFilters)for(var I of w.dataFilters)this.addVisualFilters(P,I,N,!1);if(T)for(var O of(p.Y.assertValue(w.highlightFilters,"highlight filter"),w.highlightFilters))this.addVisualFilters(P,O,N,!1)}addVisualFilters(V,M,P,T){if(M&&M.filter){var N=D.convertFilterData(M,V.filters,r.GS.Auto);D.add(V,N)}}}return{create:(b,V,M,P,T,N,w,I,O,x)=>new S(b,x,P,T,N,V,w,I,O,M),createContext:(b,V,M,P,T)=>new f(b,V,M,P,T),snapshotToContext:f.fromSnapshot}}},412530:function(ve,z,e){e.d(z,{Gl:function(){return o},Vs:function(){return r},nl:function(){return t},ns:function(){return i}});var a=e(876082),i={type:a.U.Visual,name:"visualCustomCommand"},r={type:a.U.Visual,name:"preparePersonalVisuals"},t={type:a.U.Visual,name:"copyVisualAsImage"},o={type:a.U.Visual,name:"VisualContainerAdded"}},378645:function(ve,z,e){e.d(z,{L:function(){return i}});var a=e(12155);function i(t,o){return new r(t,o)}class r{constructor(o,d){var n=!d||d.featureSwitches.contentAuthoringUIEnabled,c=!!o&&!!o.isGuestUser,p=c&&!(d&&d.featureSwitches.elevatedGuestsTenantEnabled),l=!(!o||void 0===o.userLicense)&&o.userLicense()===a.L.Free;this.options={shouldSetFocus:!d||!d.featureSwitches.globalSkipToMainContent,showAppBar:!0,showStatusBar:!1,showTaskPane:!0,showVisualizationPane:!0,showNavContentPane:!0,visualContainerOptions:{showMenu:!0,showPin:!0,showContextMenu:!0,disablePin:p||!n,disableQueryCacheUpdates:!1},showBackButtonOnAppBar:!1,disablePin:p||!n,disableSharePointEmbed:c,disableSecurePublishToWeb:c||!n,disableQRGeneration:c,disableSaveAs:p||l,disableSwitchMode:p||!n,disableAnalyzeInExcel:c,expandTaskPane:!0,expandVisualizationPane:!0,allowVisualContainerPreload:!1,allowNewLoadingExperience:!1,persistentUserStateEnabled:!1,persistentUserStateThrottlingEnabled:!1,defaultPersonalBookmarkEnabled:!1,disableEditVariables:!0,disableChangeDetectionDialog:!0,showCopyVisualImageButton:!1,allowVisualRecommendations:!!d&&d.featureSwitches.onObject}}setCapabilities(o){_.merge(this.options,o)}getCapabilities(){return this.options}}},502597:function(ve,z,e){e.d(z,{kT:function(){return x}});var a=e(233390),i=e(897510),r=e(133895),t=e(995312),o=e(698997),d=e(691988),n=e(18122),c=e(761297),s=e(223431),p=e(781267),l=e(725919),u=e(583953),v=e(219712),m=e(554109),g=e(919971),E=e(30918),D=e(266092),h=e(844015),C=e(170737),M=e(556686),P=e(708599),T=e(693029),N="dataViewer",w=(()=>{class F{constructor(B){this.visualSandbox=B}reloadAdapter(B=!1){if(this.dataViewShowing){if(B)return;this.toggleDataview(!1)}if(!p.wZ.getData("VISUAL_DEVELOPER_MODE_ENABLED")){this.toggleAutoReload(!1);var W=this.buildErrorMessage({message:this.host?.getLocalizedString("DebugVisual_Enabled_Error_Message"),moreMessage:this.host?.getLocalizedString("DebugVisual_Enabled_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247468",moreLinkText:this.host?.getLocalizedString("LearnMore"),type:"blockedsite"});return this.container.html(W),this.setCustomizeQuery(),void this.setCapabilities()}var G=p.wZ.getData("DEVELOPMENT_SERVER_URL")||"https://localhost:8080/assets/";this.statusLoading||(this.statusLoading=!0,$.get(G+"status").done(K=>{if(K&&(!B||this.lastUpdateStatus!==K)){if(this.lastUpdateStatus=K,"error"===K){var q=this.buildErrorMessage({message:this.host?.getLocalizedString("DebugVisual_Compile_Error_Message"),moreMessage:this.host?.getLocalizedString("DebugVisual_Compile_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247735",moreLinkText:this.host?.getLocalizedString("LearnMore"),type:"repair"});return this.container.html(q),this.setCustomizeQuery(),void this.setCapabilities()}$.getJSON(G+"pbiviz.json").done(ne=>{if(n.Y.assertValue(ne.capabilities,"DebugVisual - pbiviz capabilities missing"),n.Y.assertValue(ne.visual&&ne.visual.guid,"DebugVisual - pbiviz visual guid missing"),ne.capabilities&&ne.visual&&ne.visual.guid&&this.host){this.visualGuid!==ne.visual.guid&&(this.visualGuid=ne.visual.guid);var k=this.host?.locale();ne=k?(0,M.QW)(ne,k):ne;var L=(0,C.u)(ne,k);(0,P.s)(L),d.N[L.name]=L,this.setCustomizeQuery(L.customizeQuery),this.setCapabilities(L.capabilities),this.loadVisual(L)}})}}).fail(()=>{this.toggleAutoReload(!1);var K=this.buildErrorMessage({message:this.host?.getLocalizedString("DebugVisual_Server_Error_Message"),moreMessage:this.host?.getLocalizedString("DebugVisual_Server_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247488",moreLinkText:this.host?.getLocalizedString("LearnMore"),type:"error"});this.container.html(K),this.setCustomizeQuery(),this.setCapabilities()}).always(()=>{this.statusLoading=!1}))}loadVisual(B){var A=B.name!==N;this.promiseFactory=this.host?.promiseFactory(),this.visualContainer.attr("class","visual-"+B.name),this.visualContainer.empty(),this.container.empty().append(this.visualContainer),this.adapterPromise&&this.adapterPromise.reject(),this.adapter&&this.adapter.destroy(),this.host&&this.promiseFactory&&(this.adapterPromise=(0,h.o)({visualPlugin:B,promiseFactory:this.promiseFactory,moduleLoader:this.host.loader(),featureSwitches:{sandboxVisualsEnabled:A},visualSandbox:this.visualSandbox,isDebugVisual:!0})).then(G=>{if(this.adapter=G,this.sandbox=this.adapter.sandbox,G.init&&G.init(this.visualInitOptions),G.update&&this.lastUpdateOptions){var K=this.lastUpdateOptions;K.type=T.YL.All,G.update(K)}})}toggleAutoReload(B){this.autoReloadInterval&&!0!==B?(this.autoRefreshBtn.addClass("pbi-glyph-circle-play"),this.autoRefreshBtn.removeClass("pbi-glyph-circle-stop"),this.refreshBtn.show(),clearInterval(this.autoReloadInterval),this.autoReloadInterval=void 0):!this.autoReloadInterval&&!1!==B&&(this.autoRefreshBtn.removeClass("pbi-glyph-circle-play"),this.autoRefreshBtn.addClass("pbi-glyph-circle-stop"),this.refreshBtn.hide(),this.autoReloadInterval=window.setInterval(()=>this.reloadAdapter(!0),F.autoReloadPollTime))}toggleDataview(B){this.dataViewShowing&&!0!==B?(this.dataViewShowing=!1,this.dataBtn.toggleClass("active",!1),this.reloadAdapter()):!this.dataViewShowing&&!1!==B&&(this.dataViewShowing=!0,this.dataBtn.toggleClass("active",!0),this.loadVisual(d.N[N]))}flatten(B){if(B instanceof Array){for(var A=[],W=0,G=B.length;W<G;W++)A[W]=this.flatten(B[W]);return A}if("object"==typeof B){var q,K={};for(q in B)K[q]=this.flatten(B[q]);return K}return B}createAndClickAnchorTagWithJsonData(B){var A=document.createElement("a");A.href="data:"+B,A.download="dataViews.json",A.click()}exportDataViews(){var B=this.flatten(this.lastUpdateOptions.dataViews),A="text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(B));this.createAndClickAnchorTagWithJsonData(A)}createRefreshBtn(){var B=this.host?.getLocalizedString("DebugVisual_Reload_Visual_Button_Title"),A=this.refreshBtn=$(`<i title="${B}" class="controlBtn glyphicon pbi-glyph-refresh"></i>`);return A.on("click",()=>this.reloadAdapter()),A}createAutoRefreshBtn(){var B=this.host?.getLocalizedString("DebugVisual_Toggle_Auto_Reload_Button_Title"),A=this.autoRefreshBtn=$(`<i title="${B}" class="controlBtn glyphicon pbi-glyph-circle-play"></i>`);return A.on("click",()=>this.toggleAutoReload()),A}createDataBtn(){if(!d.N[N])return null;var B=this.host?.getLocalizedString("DebugVisual_Show_Dataview_Button_Title"),A=this.dataBtn=$(`<i title="${B}" class="controlBtn glyphicon pbi-glyph-seedata"></i>`);return A.on("click",()=>this.toggleDataview()),A}createHelpBtn(){var B=this.host?.getLocalizedString("DebugVisual_Help_Button_Title");return $(`<a href="https://go.microsoft.com/fwlink/?linkid=2245690" target="_blank"><i title="${B}" class="controlBtn glyphicon pbi-glyph-question"></i></a>`)}createSmilyBtn(){var B=this.host?.getLocalizedString("DebugVisual_Feedback_Button_Title");return $(`<a href="https://go.microsoft.com/fwlink/?linkid=2247381" target="_blank"><i title="${B}" class="controlBtn glyphicon pbi-glyph-smiley"></i></a>`)}createExportDataViewsBtn(){var B=this.host?.getLocalizedString("DebugVisual_Export_Data_Button_Title"),A=$(`<i title="${B}" class="controlBtn glyphicon pbi-glyph-export"></i>`);return A.on("click",()=>this.exportDataViews()),A}buildControls(){var B=$('<div class="debugVisual-controlsContainer"></div>');return B.append(this.createRefreshBtn(),this.createAutoRefreshBtn(),this.createDataBtn(),this.createExportDataViewsBtn(),this.createHelpBtn(),this.createSmilyBtn()),B}buildErrorMessage(B){return _.template(F.errorMessageTemplate)(B)}setCapabilities(B=F.defaultCapabilities){_.isEqual(B,d.N.debugVisual?.capabilities)||(d.N.debugVisual.capabilities=B,this.host?.visualCapabilitiesChanged())}setCustomizeQuery(B=A=>null){d.N.debugVisual.customizeQuery=B}init(B){this.host=B.host;var A=this.container=$('<div class="debugVisualContainer"></div>'),W=this.visualContainer=$('<div class="visual"></div>');this.dataViewShowing=!1,A.append(W),B.element.append(A),(this.visualInitOptions=B).element=W,this.host.setToolbar(this.buildControls()),this.reloadAdapter()}update(B){if(this.visualContainer){if(B.viewport){this.visualInitOptions.viewport=B.viewport;var W=B.viewport.width;this.visualContainer.height(B.viewport.height).width(W)}this.lastUpdateOptions=B,this.adapter&&this.adapter.update&&this.adapter.update(B)}}enumerateObjectInstances(B){return this.adapter&&this.adapter.enumerateObjectInstances?this.adapter.enumerateObjectInstances(B):[]}enumerateObjectInstancesAsync(B){return this.adapter&&this.adapter.enumerateObjectInstancesAsync?this.adapter.enumerateObjectInstancesAsync(B):this.promiseFactory.resolve(this.enumerateObjectInstances(B))}enumerateObjectRepetitionAsync(){return this.adapter&&this.adapter.enumerateObjectRepetitionAsync?this.adapter.enumerateObjectRepetitionAsync():this.promiseFactory.resolve([])}getFormattingModel(){if(this.adapter&&this.adapter.getFormattingModel)return this.adapter.getFormattingModel()}getFormattingModelAsync(){return this.adapter&&this.adapter.getFormattingModelAsync?this.adapter.getFormattingModelAsync():this.promiseFactory.resolve(this.getFormattingModel())}getSubSelectionStyles(B){if(this.adapter&&this.adapter.getSubSelectionStyles)return this.adapter.getSubSelectionStyles(B)}getSubSelectionStylesAsync(B){return this.adapter&&this.adapter.getSubSelectionStylesAsync?this.adapter.getSubSelectionStylesAsync(B):this.promiseFactory.resolve(this.getSubSelectionStyles(B))}getSubSelectionShortcuts(B,A){if(this.adapter&&this.adapter.getSubSelectionShortcuts)return this.adapter.getSubSelectionShortcuts(B,A)}getSubSelectionShortcutsAsync(B,A){return this.adapter&&this.adapter.getSubSelectionShortcutsAsync?this.adapter.getSubSelectionShortcutsAsync(B,A):this.promiseFactory.resolve(this.getSubSelectionShortcuts(B,A))}getSubSelectables(B){if(this.adapter&&this.adapter.getSubSelectables)return this.adapter.getSubSelectables(B)}getSubSelectablesAsync(B){return this.adapter&&this.adapter.getSubSelectablesAsync?this.adapter.getSubSelectablesAsync(B):this.promiseFactory.resolve(this.getSubSelectables(B))}onClearSelection(){if(this.adapter&&this.adapter.onClearSelection)return this.adapter.onClearSelection()}onRestoreSelection(B){if(this.adapter&&this.adapter.onRestoreSelection)return this.adapter.onRestoreSelection(B)}destroy(){this.adapter&&this.adapter.destroy&&this.adapter.destroy(),this.toggleAutoReload(!1),this.container=null,this.visualContainer=null,this.host.setToolbar(null),this.promiseFactory=null}visualHasMethod(B){return this.adapter?.visualHasMethod(B)}}return F.defaultCapabilities={dataRoles:[{displayName:"Values",name:"Values",kind:T.Ts.Measure}],dataViewMappings:[{table:{rows:{for:{in:"Values"}}}}]},F.capabilities=F.defaultCapabilities,F.autoReloadPollTime=300,F.errorMessageTemplate='\n            <div class="errorContainer">\n                <div class="errorMessage">\n                    <div ng-switch="$ctrl.errorInfo.overlayType">\n                        <div class="glyphicon pbi-glyph-<%= type %> glyph-med"></div>\n                    </div>\n                    <div>\n                        <div class="errorSpan"><%= message %></div>\n                        <span class="errorSeeMore"><%= moreMessage %></span>\n                        <a class="errorSeeMore" href="<%= moreLinkHref %>" target="_blank"><%= moreLinkText %></a>\n                    </div>\n                </div>\n            </div>\n        ',F})();(0,E.Z)("debugVisual",{name:"debugVisual",watermarkKey:"kpi",titleKey:(0,D.D)("DebugVisual_ToolTip"),capabilities:w.capabilities,create:()=>new w,createES6:()=>Promise.resolve(new w),customizeQuery:F=>{},systemVisual:!0});var I=e(371577),O=e(286509);function x(F,R,B,A,W,G){return new j(F,B,R,new U(F,A,W,G))}class j{constructor(R,B,A,W){this.asyncFeatureSwitchService=R,this.resourceLoader=B,this.promiseFactory=A,n.Y.assertValue(R,"asyncFeatureSwitchService"),n.Y.assertValue(A,"promiseFactory"),this.resourceLoader=B,this.promiseFactory=A,this.trustedConvertibleVisualTypes=[],this.customConvertibleVisualTypes=[],this.globalConvertibleVisualTypes=[],this.storage=new u.Z9,this.initBuiltInPlugins=this.asyncFeatureSwitchService.getFeatureSwitches().then(G=>(W=W||new U(R),this.getConvertibleCoreVisualTypeNames(G))).then(G=>{for(var K in this.globalConvertibleVisualTypes=G,d.N)this.storage.loadPlugin(K,W.getPlugin(K))})}getConvertibleCoreVisualTypeNames(R){var B=[d.N.barChart.name,d.N.columnChart.name,d.N.clusteredBarChart.name,d.N.clusteredColumnChart.name,d.N.hundredPercentStackedBarChart.name,d.N.hundredPercentStackedColumnChart.name,d.N.lineChart.name,d.N.areaChart.name,d.N.stackedAreaChart.name,d.N.hundredPercentStackedAreaChart.name,d.N.lineStackedColumnComboChart.name,d.N.lineClusteredColumnComboChart.name,d.N.ribbonChart.name,d.N.waterfallChart.name,d.N.funnel.name,d.N.scatterChart.name,d.N.pieChart.name,d.N.donutChart.name,d.N.treemap.name,d.N.map.name,d.N.filledMap.name];R&&R.shapeMapVisualEnabled&&B.push(d.N.shapeMap.name),(!R||!R.hideAzureMapVisual)&&B.push(d.N.azureMap.name),B.push(d.N.gauge.name,d.N.card.name,d.N.multiRowCard.name,d.N.kpi.name,d.N.slicer.name),R&&R.pivotTableVisualEnabled?(B.push(d.N.tableEx.name),B.push(d.N.pivotTable.name)):(B.push(d.N.table.name),B.push(d.N.matrix.name)),R&&R.scriptVisualEnabled&&R.scriptVisualAuthoringEnabled&&(B.push(d.N.scriptVisual.name),B.push(d.N.pythonVisual.name)),R&&R.keyDrivers&&B.push(d.N.keyDriversVisual.name),B.push(d.N.decompositionTreeVisual.name),R&&R.qnaVisual&&B.push(d.N.qnaVisual.name),R&&R.daxTransformEnabled&&!(R.aiNarrativesSingleEntryPoint&&R.aiNarrativesVisual)&&B.push(d.N.textbox.name),R&&R.aiNarrativesVisual&&B.push(d.N.aiNarratives.name),R&&R.scorecardVisual&&B.push(d.N.scorecard.name),R&&R.rdlNativeVisual&&B.push(d.N.rdlVisual.name),R&&R.newCard&&B.push(d.N.cardVisual.name),R&&R.buttonSlicer&&R.buttonSlicerAuthoring&&B.push(d.N.advancedSlicerVisual.name),R&&R.textSlicer&&B.push(d.N.textSlicer.name),R&&R.buttonSlicer&&R.buttonSlicerAuthoring&&R.advancedSlicerTypeList&&B.push(d.N.listSlicer.name),R&&R.imageVisualImprovements&&B.push(d.N.image.name),p.wZ.getData("VISUAL_DEVELOPER_MODE_ENABLED")&&B.push("debugVisual");var W=this.promiseFactory.defer();return W.resolve(B),W.promise}getNonConvertibleCoreVisualTypeNames(){var R=[d.N.actionButton.name,d.N.bookmarkNavigator.name,d.N.textbox.name,d.N.pageNavigator.name,d.N.shape.name];return this.asyncFeatureSwitchService.featureSwitches?.imageVisualImprovements||R.push(d.N.image.name),R}getVisuals(){return this.storage.getLoadedPlugins()}getConvertibleVisuals(){var R=[];for(var B of this.globalConvertibleVisualTypes)this.storage.hasPlugin(B)&&!_.includes(R,B)&&R.push(B);for(var A of this.trustedConvertibleVisualTypes)this.storage.hasPlugin(A)&&!_.includes(R,A)&&R.push(A);for(var W of this.customConvertibleVisualTypes)this.storage.hasPlugin(W)&&!_.includes(R,W)&&R.push(W);return R.map(G=>this.storage.getLoadedPlugin(G))}getConvertibleVisualsAsync(){var R=this;return(0,a.A)(function*(){return yield R.ensureBuiltInPlugins(),R.getConvertibleVisuals()})()}getCoreVisualTypes(){var R=[...this.getNonConvertibleCoreVisualTypeNames(),...this.globalConvertibleVisualTypes];return _.uniq(R)}ensureBuiltInPlugins(){return this.initBuiltInPlugins}ensureTrustedVisualPlugins(R){for(var B of((0,u.CH)(this.storage,R),R))this.addTrustedConvertibleVisualType(B.name)}ensurePlugins(R,B){var A=this;n.Y.assertValue(this.promiseFactory,"promiseFactory");var W=[];if(R&&R.length){var G=function(q){if((0,m.Ov)(q)){var ne=A.ensurePlugin(q,B).then(()=>A.addCustomConvertibleVisualType(q.name));W.push(ne)}};for(var K of R)G(K)}return Promise.allSettled(W)}ensurePlugin(R,B){return(0,u.QV)(this.storage,this.promiseFactory,this.resourceLoader,R,B)}addTrustedConvertibleVisualType(R){this.trustedConvertibleVisualTypes.indexOf(R)<0&&this.trustedConvertibleVisualTypes.push(R)}addCustomConvertibleVisualType(R){this.customConvertibleVisualTypes.indexOf(R)<0&&this.customConvertibleVisualTypes.push(R)}capabilities(R){var B=this.getPlugin(R);return B?B.capabilities:void 0}removeAllCustomVisuals(){for(var R of this.customConvertibleVisualTypes)this.storage.unloadPlugin(R);this.customConvertibleVisualTypes=[]}removePlugin(R){this.getPlugin(R)&&(this.storage.unloadPlugin(R),_.remove(this.customConvertibleVisualTypes,A=>A===R))}getTelemetryHostInformation(){return{name:"Exploration"}}isCustomVisual(R){return(0,l.g4)(this.getPlugin(R),R)}isScriptVisual(R){return(0,l.yF)(this.getPlugin(R))}isScriptVisualQueryable(R){return(0,l.IK)(R,this.asyncFeatureSwitchService.featureSwitches)}isLightWeightRenderingVisual(R){return(0,l.bL)(this.getPlugin(R))}getInteractivityOptions(){return{overflow:"hidden",isVisualInteractive:!0}}getCustomizeConvertTo(R,B){var A=this.getPlugin(B);return A.getCustomizeConvertTo?A.getCustomizeConvertTo(R,B,this.asyncFeatureSwitchService.featureSwitches):void 0}loadPluginByNameIfAny(R){if(!this.getPlugin(R)){if(this.storage.hasPlugin(R))return void this.storage.loadPlugin(R);d.N[R]&&this.storage.loadPlugin(R,d.N[R])}}getPlugin(R){return this.storage.getLoadedPlugin(R)}getStorage(){return this.storage}}class U{constructor(R,B,A,W){this.featureSwitchService=R,this.mapControlFactory=B,this.visualSandbox=A,this.timestampLoggerService=W,n.Y.assertValue(R,"featureSwitchService")}getPlugin(R){var B=this,A=this.featureSwitchService.featureSwitches?_.clone(this.featureSwitchService.featureSwitches):{},W=()=>{throw new Error("explorationVisualPluginService: 'Create' function is deprecated")},K=(()=>{switch(R){case d.N.barChart.name:return(0,v.Ne)(d.N.barChart,W,A,(0,a.A)(function*(){var{CartesianChart:L,ColumnChartAnimator:X,CartesianChartBehaviorFactory:Y,ColumnChartWebBehaviorFactory:Q}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new L({chartType:g.Bb.StackedBar,isScrollable:!0,dataPointLassoSelect:!0,animator:new X,tooltipsEnabled:!0,behaviorFactory:new Y([new Q],A),featureSwitches:A})}));case d.N.card.name:return(0,v.Ne)(d.N.card,W,A,(0,a.A)(function*(){var{createCard:L}=yield Promise.all([e.e(15),e.e("SingleValueVisuals")]).then(e.bind(e,20777));return L({isScrollable:!0,animator:new r.BY,tooltipsEnabled:!0,interactivityEnabled:!0,featureSwitches:A})}));case d.N.cardVisual.name:return(0,v.Ne)(d.N.cardVisual,W,A,(0,a.A)(function*(){var{CardVisual:L}=yield Promise.all([e.e(12),e.e(15),e.e("CardVisual")]).then(e.bind(e,904886));return new L({isScrollable:!0,animator:new r.BY,tooltipsEnabled:!0,interactivityEnabled:!0,featureSwitches:A})}));case d.N.clusteredBarChart.name:return(0,v.Ne)(d.N.clusteredBarChart,W,A,(0,a.A)(function*(){var{CartesianChart:L,ColumnChartAnimator:X,CartesianChartBehaviorFactory:Y,ColumnChartWebBehaviorFactory:Q}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new L({chartType:g.Bb.ClusteredBar,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new X,behaviorFactory:new Y([new Q],A),featureSwitches:A})}));case d.N.clusteredColumnChart.name:return(0,v.Ne)(d.N.clusteredColumnChart,W,A,(0,a.A)(function*(){var{CartesianChart:L,ColumnChartAnimator:X,CartesianChartBehaviorFactory:Y,ColumnChartWebBehaviorFactory:Q}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new L({chartType:g.Bb.ClusteredColumn,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new X,behaviorFactory:new Y([new Q],A),featureSwitches:A})}));case d.N.columnChart.name:return(0,v.Ne)(d.N.columnChart,W,A,(0,a.A)(function*(){var{CartesianChart:L,ColumnChartAnimator:X,CartesianChartBehaviorFactory:Y,ColumnChartWebBehaviorFactory:Q}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new L({chartType:g.Bb.StackedColumn,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new X,behaviorFactory:new Y([new Q],A),featureSwitches:A})}));case d.N.donutChart.name:return(0,v.Ne)(d.N.donutChart,()=>{throw new Error("explorationVisualPluginService: 'Create' function is deprecated")},A,(0,a.A)(function*(){var{DonutChart:L,DonutChartWebBehavior:X}=yield Promise.all([e.e(15),e.e("DonutChartVisuals")]).then(e.bind(e,949290));return new L({animator:new O.y,isScrollable:!0,tooltipsEnabled:!0,behavior:new X})}));case d.N.funnel.name:return(0,v.Ne)(d.N.funnel,W,A,(0,a.A)(function*(){var{FunnelChart:L,WebFunnelAnimator:X,FunnelWebBehavior:Y}=yield Promise.all([e.e(15),e.e("FunnelChartVisual")]).then(e.bind(e,308577));return new L({animator:new X,behavior:new Y,tooltipsEnabled:!0})}));case d.N.gauge.name:return(0,v.Ne)(d.N.gauge,W,A,(0,a.A)(function*(){var{Gauge:L}=yield Promise.all([e.e(15),e.e("SingleValueVisuals")]).then(e.bind(e,20777));return new L({animator:new r.BY,tooltipsEnabled:!0,behavior:new i.q},A)}));case d.N.kpi.name:return(0,v.Ne)(d.N.kpi,W,A,(0,a.A)(function*(){var{KPIStatusWithHistory:L}=yield Promise.all([e.e(15),e.e("KpiVisual")]).then(e.bind(e,743094));return new L({interactivityEnabled:!0,featureSwitches:A})}));case d.N.hundredPercentStackedBarChart.name:return(0,v.Ne)(d.N.hundredPercentStackedBarChart,W,A,(0,a.A)(function*(){var{CartesianChart:L,ColumnChartAnimator:X,CartesianChartBehaviorFactory:Y,ColumnChartWebBehaviorFactory:Q}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new L({chartType:g.Bb.HundredPercentStackedBar,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new X,behaviorFactory:new Y([new Q],A),featureSwitches:A})}));case d.N.hundredPercentStackedColumnChart.name:return(0,v.Ne)(d.N.hundredPercentStackedColumnChart,W,A,(0,a.A)(function*(){var{CartesianChart:L,ColumnChartAnimator:X,CartesianChartBehaviorFactory:Y,ColumnChartWebBehaviorFactory:Q}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new L({chartType:g.Bb.HundredPercentStackedColumn,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new X,behaviorFactory:new Y([new Q],A),featureSwitches:A})}));case d.N.lineChart.name:return(0,v.Ne)(d.N.lineChart,W,A,(0,a.A)(function*(){var{CartesianChart:L,CartesianChartBehaviorFactory:X,LineChartWebBehaviorFactory:Y}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new L({chartType:g.Bb.Line,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new r.BY,behaviorFactory:new X([new Y],A),featureSwitches:A})}));case d.N.areaChart.name:return(0,v.Ne)(d.N.areaChart,W,A,(0,a.A)(function*(){var{CartesianChart:L,CartesianChartBehaviorFactory:X,LineChartWebBehaviorFactory:Y}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new L({chartType:g.Bb.Area,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new r.BY,behaviorFactory:new X([new Y],A),featureSwitches:A})}));case d.N.stackedAreaChart.name:return(0,v.Ne)(d.N.stackedAreaChart,W,A,(0,a.A)(function*(){var{CartesianChart:L,CartesianChartBehaviorFactory:X,LineChartWebBehaviorFactory:Y}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new L({chartType:g.Bb.StackedArea,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new r.BY,behaviorFactory:new X([new Y],A),featureSwitches:A})}));case d.N.hundredPercentStackedAreaChart.name:return(0,v.Ne)(d.N.hundredPercentStackedAreaChart,W,A,(0,a.A)(function*(){var{CartesianChart:L,CartesianChartBehaviorFactory:X,LineChartWebBehaviorFactory:Y}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new L({chartType:g.Bb.HundredPercentStackedArea,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new r.BY,behaviorFactory:new X([new Y],A),featureSwitches:A})}));case d.N.lineClusteredColumnComboChart.name:return(0,v.Ne)(d.N.lineClusteredColumnComboChart,W,A,(0,a.A)(function*(){var{CartesianChart:L,ColumnChartAnimator:X,CartesianChartBehaviorFactory:Y,LineChartWebBehaviorFactory:Q,ColumnChartWebBehaviorFactory:H}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new L({chartType:g.Bb.LineClusteredColumnCombo,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new X,behaviorFactory:new Y([new H,new Q],A),featureSwitches:A})}));case d.N.lineStackedColumnComboChart.name:return(0,v.Ne)(d.N.lineStackedColumnComboChart,W,A,(0,a.A)(function*(){var{CartesianChart:L,ColumnChartAnimator:X,CartesianChartBehaviorFactory:Y,LineChartWebBehaviorFactory:Q,ColumnChartWebBehaviorFactory:H}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new L({chartType:g.Bb.LineStackedColumnCombo,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new X,behaviorFactory:new Y([new H,new Q],A),featureSwitches:A})}));case d.N.multiRowCard.name:return(0,v.Ne)(d.N.multiRowCard,W,A,(0,a.A)(function*(){var{MultiRowCard:L}=yield Promise.all([e.e(15),e.e("MultiRowCardVisual")]).then(e.bind(e,136433)),{MultiRowCardBehavior:X}=yield Promise.all([e.e(15),e.e("MultiRowCardVisual")]).then(e.bind(e,136433));return new L({interactivityEnabled:!0,behavior:new X})}));case d.N.pieChart.name:return(0,v.Ne)(d.N.pieChart,W,A,(0,a.A)(function*(){var{DonutChart:L,DonutChartWebBehavior:X}=yield Promise.all([e.e(15),e.e("DonutChartVisuals")]).then(e.bind(e,949290));return new L({isPieChart:!0,animator:new O.y,isScrollable:!0,tooltipsEnabled:!0,behavior:new X})}));case d.N.ribbonChart.name:return(0,v.Ne)(d.N.ribbonChart,W,A,(0,a.A)(function*(){var{CartesianChart:L,ColumnChartAnimator:X,CartesianChartBehaviorFactory:Y,ColumnChartWebBehaviorFactory:Q}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new L({chartType:g.Bb.RibbonChart,isScrollable:!0,tooltipsEnabled:!0,animator:new X,behaviorFactory:new Y([new Q],A),featureSwitches:A})}));case d.N.scatterChart.name:return(0,v.Ne)(d.N.scatterChart,W,A,(0,a.A)(function*(){var{CartesianChart:L,CartesianChartBehaviorFactory:X,ScatterChartWebBehaviorFactory:Y}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new L({chartType:g.Bb.Scatter,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new r.BY,behaviorFactory:new X([new Y],A),featureSwitches:A})}));case d.N.treemap.name:return(0,v.Ne)(d.N.treemap,W,A,(0,a.A)(function*(){var{Treemap:L,TreemapWebBehavior:X}=yield Promise.all([e.e(15),e.e("TreemapVisual")]).then(e.bind(e,791300));return new L({animator:new O.y,isScrollable:!0,behavior:new X,tooltipsEnabled:!0,cartesianConditionalFormatting:A.cartesianConditionalFormatting,dataPointLassoSelect:!0})}));case d.N.filterSlicer.name:return(0,v.Ne)(d.N.filterSlicer,W,A,(0,a.A)(function*(){var{Slicer:L}=yield Promise.all([e.e(15),e.e("SlicerVisual")]).then(e.bind(e,428553));return new L({lockKeyboardNavigation:!1,featureSwitches:A})}));case d.N.accessibleTable.name:return(0,v.Ne)(d.N.accessibleTable,W,A,(0,a.A)(function*(){var{AccessibleTable:L}=yield Promise.all([e.e(12),e.e(15),e.e("AccessibleTableVisual")]).then(e.bind(e,329303));return new L}));case d.N.waterfallChart.name:return(0,v.Ne)(d.N.waterfallChart,W,A,(0,a.A)(function*(){var{CartesianChart:L,CartesianChartBehaviorFactory:X,WaterfallChartWebBehaviorFactory:Y}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new L({chartType:g.Bb.Waterfall,isScrollable:!0,tooltipsEnabled:!0,behaviorFactory:new X([new Y],A),featureSwitches:A})}));case d.N.map.name:return(0,v.Ne)(d.N.map,W,A,(0,a.A)(function*(){var{Map:L,MapBehavior:X}=yield Promise.all([e.e(15),e.e("MapVisuals")]).then(e.bind(e,350540));return new L({behavior:new X,dataPointLassoSelect:!0,tooltipsEnabled:!0,isLegendScrollable:!0,mapControlFactory:B.mapControlFactory})}));case d.N.filledMap.name:return(0,v.Ne)(d.N.filledMap,W,A,(0,a.A)(function*(){var{Map:L,MapBehavior:X}=yield Promise.all([e.e(15),e.e("MapVisuals")]).then(e.bind(e,350540));return new L({filledMap:!0,behavior:new X,dataPointLassoSelect:!0,tooltipsEnabled:!0,filledMapDataLabelsEnabled:A&&A.filledMapDataLabelsEnabled,isLegendScrollable:!0,mapControlFactory:B.mapControlFactory})}));case d.N.azureMap.name:return(0,v.Ne)(d.N.azureMap,W,A,(0,a.A)(function*(){var{AzureMap:L}=yield Promise.all([e.e(12),e.e(15),e.e("AzureMapVisuals")]).then(e.bind(e,35799)),{AzureMapBehavior:X}=yield Promise.all([e.e(12),e.e(15),e.e("AzureMapVisuals")]).then(e.bind(e,35799));return new L({behavior:new X,tooltipsEnabled:!0,isLegendScrollable:!0,mapControlFactory:B.mapControlFactory,featureSwitches:A})}));case d.N.shape.name:return(0,v.Ne)(d.N.shape,W,A,(0,a.A)(function*(){var{Shape:L}=yield Promise.all([e.e(15),e.e("ShapeVisual")]).then(e.bind(e,776702));return new L}));case d.N.actionButton.name:return(0,v.Ne)(d.N.actionButton,W,A,(0,a.A)(function*(){var{ActionButton:L}=yield Promise.all([e.e(15),e.e("BasicShapeVisual")]).then(e.bind(e,753471));return new L}));case d.N.shapeMap.name:return(0,v.Ne)(d.N.shapeMap,W,A,(0,a.A)(function*(){var{ShapeMap:L}=yield Promise.all([e.e(15),e.e("ShapeMapVisual")]).then(e.bind(e,52140)),{ShapeMapBehavior:X}=yield Promise.all([e.e(15),e.e("ShapeMapVisual")]).then(e.bind(e,52140));return new L({behavior:new X,tooltipsEnabled:!0})}));case d.N.slicer.name:return(0,v.Ne)(d.N.slicer,W,A,(0,a.A)(function*(){var{Slicer:L}=yield Promise.all([e.e(15),e.e("SlicerVisual")]).then(e.bind(e,428553));return new L({featureSwitches:A,preventVirtualKeyboardOnTheFirstTap:!0,isSlicer:!0})}));case d.N.advancedSlicerVisual.name:return(0,v.Ne)(d.N.advancedSlicerVisual,W,A,(0,a.A)(function*(){var{createAdvancedSlicer:L}=yield Promise.all([e.e(15),e.e("AdvancedSlicerVisual")]).then(e.bind(e,759939));return L({featureSwitches:A,preventVirtualKeyboardOnTheFirstTap:!0,isSlicer:!0,tooltipsEnabled:!0})}));case d.N.textSlicer.name:return(0,v.Ne)(d.N.textSlicer,W,A,(0,a.A)(function*(){var{TextSlicer:L}=yield Promise.all([e.e(12),e.e("TextSlicerVisual")]).then(e.bind(e,38941));return new L}));case d.N.listSlicer.name:return(0,v.Ne)(d.N.listSlicer,W,A,(0,a.A)(function*(){var{createAdvancedSlicer:L}=yield Promise.all([e.e(15),e.e("AdvancedSlicerVisual")]).then(e.bind(e,759939));return L({featureSwitches:A,preventVirtualKeyboardOnTheFirstTap:!0,isSlicer:!0,tooltipsEnabled:!0,slicerType:I.$F.List})}));case d.N.matrix.name:return(0,v.Ne)(d.N.matrix,W,A,(0,a.A)(function*(){var{Matrix:L}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,84141));return new L}));case d.N.table.name:return(0,v.Ne)(d.N.table,W,A,(0,a.A)(function*(){var{Table:L}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,84141));return new L}));case d.N.pivotTable.name:return(0,v.Ne)(d.N.pivotTable,W,A,(0,a.A)(function*(){var{PivotTable:L}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,84141));return new L((0,t.ug)(),A)}));case d.N.tableEx.name:return(0,v.Ne)(d.N.tableEx,W,A,(0,a.A)(function*(){var{TableEx:L}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,84141));return new L((0,o.ug)(),A)}));case d.N.scriptVisual.name:return(0,v.Ne)(d.N.scriptVisual,W,A,(0,a.A)(function*(){var{ScriptVisual:L}=yield e.e("ScriptVisual").then(e.bind(e,318178));return new L}));case d.N.pythonVisual.name:return(0,v.Ne)(d.N.pythonVisual,W,A,(0,a.A)(function*(){var{ScriptVisual:L}=yield e.e("ScriptVisual").then(e.bind(e,318178));return new L}));case d.N.debugVisual?.name:return(0,v.Ne)(d.N.debugVisual,W,A,(0,a.A)(function*(){return new w(B.visualSandbox)}));case d.N.textbox.name:return(0,v.Ne)(d.N.textbox,W,A,(0,a.A)(function*(){var{Textbox:L}=yield Promise.all([e.e(12),e.e(15),e.e("TextboxVisual")]).then(e.bind(e,395603));return new L({supportsNarrativeExpressions:A.daxTransformEnabled,supportsFormattingChangeIndication:!0})}));case d.N.keyDriversVisual.name:return(0,v.Ne)(d.N.keyDriversVisual,L=>L.module.createAnalysisVisual(),A,void 0);case d.N.decompositionTreeVisual.name:return(0,v.Ne)(d.N.decompositionTreeVisual,W,A,(0,a.A)(function*(){var{DecompositionTree:L}=yield Promise.all([e.e(15),e.e("DecompositionTreeVisual")]).then(e.bind(e,773445));return new L}));case d.N.qnaVisual.name:return(0,v.Ne)(d.N.qnaVisual,L=>L.module.createQnaVisual(),A,void 0);case d.N.aiNarratives.name:return(0,v.Ne)(d.N.aiNarratives,W,A,(0,a.A)(function*(){var{AINarratives:L}=yield Promise.all([e.e(15),e.e("AINarrativesVisual")]).then(e.bind(e,540213));return new L}));default:return(0,c.IL)(d.N[R])}})(),q=this.timestampLoggerService;if(q){var ne=K.create;ne&&(ne=ne.bind(K),K.create=function(L){try{return ne(L)}catch(X){try{X instanceof Error&&(X.message+=" (in plugin.create)")}catch(Y){s.Cn.exception("plugin.create",{error:Y,maxTrace:20})}throw X}finally{q.logInitialScriptDownloadTimings()}});var k=K.createES6;k&&(k=k.bind(K),K.createES6=function(){var L=(0,a.A)(function*(X){try{return yield k(X)}catch(Y){try{Y instanceof Error&&(Y.message+=" (in plugin.createES6)")}catch(Q){s.Cn.exception("plugin.createES6",{error:Q,maxTrace:20})}throw Y}finally{q.logInitialScriptDownloadTimings()}});return function(X){return L.apply(this,arguments)}}())}return K}}},266244:function(ve,z,e){function a(){return new i(150,150)}e.d(z,{c:function(){return a}});class i{constructor(t,o){this.emptySpaceMinWidth=t,this.emptySpaceMinHeight=o}getEmptySpaces(t,o){var d=this.getNonOverlapingRects(t,o),n=this.filterWithMinimumWidth(d),c=[];for(var s of n){var p=this.extendRect(s,d);p.height>=this.emptySpaceMinHeight&&c.push(p)}return c}getNonOverlapingRects(t,o){if(!o.length)return[];var d=[t];for(var n of o){var c=[];for(var s of d)c=c.concat(this.splitRectangleOnIntersection(s,n));d=c}return d}getIntersectingRectangle(t,o){var d=Math.max(t.x,o.x),n=Math.min(t.x+t.width,o.x+o.width),c=Math.max(t.y,o.y),s=Math.min(t.y+t.height,o.y+o.height);return d<=n&&c<=s?{x:d,y:c,width:n-d,height:s-c}:null}extendRect(t,o){var n,d=!1;for(var c of o)if(c!==t){var s=!1,p=!1;if(this.doIntersect(c,t)&&(s=c.y+c.height===t.y,p=c.y===t.y+t.height),!(c.width<t.width))if(p){var l={x:t.x,y:t.y,width:t.width,height:t.height+c.height},u=this.getIntersectingRectangle(l,c);u&&u.width===l.width&&(d=!0,n=l)}else if(s){var v={x:t.x,y:c.y,width:t.width,height:t.height+c.height},m=this.getIntersectingRectangle(v,c);m&&m.width===v.width&&(d=!0,n=v)}}return d?this.extendRect(n,o):t}doIntersect(t,o){return!(o.x>t.x+t.width||o.x+o.width<t.x||o.y>t.y+t.height||o.y+o.height<t.y)}filterWithArea(t){var o=[];for(var d of t)d.width>0&&d.height>0&&o.push(d);return o}filterWithMinimumWidth(t){var o=[];for(var d of t)d.width>=this.emptySpaceMinWidth&&o.push(d);return o}splitRectangleOnIntersection(t,o){var d=this.getIntersectingRectangle(t,o);return d?this.filterWithArea([{x:t.x,y:t.y,width:t.width,height:d.y-t.y},{x:t.x,y:d.y+d.height,width:t.width,height:t.y+t.height-(d.y+d.height)},{x:t.x,y:d.y,width:d.x-t.x,height:d.height},{x:d.x+d.width,y:d.y,width:t.x+t.width-(d.x+d.width),height:d.height}]):[t]}}},321114:function(ve,z,e){e.d(z,{W:function(){return l}});var a=e(233390),i=e(770969),r=e(18122),t=e(371577),o=e(266092),d=e(335128),n=e(188076),c=e(664158),s=e(974189),p=e(796470);function l(v,m,g,E,D){return new u(v,g,E,D)}class u{constructor(m,g,E,D){this.localizationService=m,this.telemetryService=g,this.visualAuthoring=E,this.visualPlugin=D}createShowValueAsMenuItems(m,g,E){r.Y.assertValue(m,"expr"),r.Y.assertValue(g,"schema"),r.Y.assertValue(E,"visualType");var D=(0,d._w)((0,n.F)(m));if(!g.schema(D).capabilities.supportsScopedEval)return[];var h=[];if(this.aggregateSupportsShowValueAs(m,g)){var C=new p.zM(this.localizationService);h.push(this.showValueAsMenuItemBuilder(C));var y=new p.Ar(this.localizationService);h.push(this.showValueAsMenuItemBuilder(y));var f=this.visualPlugin.capabilities(E),S=f&&f.dataRoleTotals;if(!_.isEmpty(S))for(var b of S){var V=new p.gv(this.localizationService,b.roles,(0,o.M)(b.displayName,this.localizationService));h.push(this.showValueAsMenuItemBuilder(V))}}return h}applyShowValueAs(m,g,E){var D=this;return(0,a.A)(function*(){r.Y.assertValue(m,"context"),r.Y.assertValue(g,"original"),r.Y.assertValue(E,"target"),(yield D.visualAuthoring.applyShowValueAs(m,g,E))&&D.telemetryService.logEvent(s.ked,{original:D.showValueAsKindToTelemetryId(g.kind),target:D.showValueAsKindToTelemetryId(E.kind)})})()}showValueAsMenuItemBuilder(m){return{type:t.xU.Item,key:{action:i.HT.SetShowValueAsOption,showValueAs:m},text:m.name}}aggregateSupportsShowValueAs(m,g){var E=m.getMetadata(g);return E&&E.type&&E.type.numeric&&(0,c.t)(m)}showValueAsKindToTelemetryId(m){switch(m){case void 0:return"None";case p.Xi.PercentOfGrandTotal:return"PercentOfGrandTotal";case p.Xi.PercentOfRoleTotal:return"PercentOfRoleTotal"}r.Y.assertFail("Could not convert showValueAsKind "+m+" to a telemetry ID")}}},949321:function(ve,z,e){e.d(z,{d:function(){return t}});var a=e(132409),i=e(408509),r=e(387797);function t(d,n){return new o(d,n)}class o{constructor(n,c){this.visualContainer=n,this.visualPluginOps=c}getSelectedValues(n){if(n.valueDetails){var c=this.filterThroughValueDetails(n.valueDetails,n.metadata);return this.amendIdentityToValueDetails(n,c)}var p=(0,i.d)(this.visualContainer.contract),l=(0,r.NU)(this.visualContainer.contract),u=this.visualPluginOps.dataViewKinds(p,l);return a.WZ.query(this.getDataViews(),n,u)}filterThroughValueDetails(n,c){return c?_.filter(n,s=>_.includes(c,s.queryName)):n}amendIdentityToValueDetails(n,c){var s=[];for(var p of c)s.push({queryName:p.queryName,identity:p.identity||n.dataMap&&_.values(n.dataMap)[0][0],expr:p.expr,value:p.value,formattedValue:p.formattedValue});return s}getDataViews(){var n=this.visualContainer&&this.visualContainer.getRunningVisual();return n&&n.getDataViews()}}},729382:function(ve,z,e){e.d(z,{F:function(){return p},H:function(){return l}});var a=e(376302),i=e(8832),r=e(703428),t=e(18122),o=e(693029),d=e(371577),n=e(358719),c=e(95006),s={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"};class p{static initialize(v){t.Y.assertValue(v,"localize"),!p.initialized&&(p.initialized=!0,(0,n.rL)(p.createLocaleOptions(v)),r.Z.localizationOptions=p.createTooltipLocaleOptions(v),(0,c.mO)(p.createDataViewTransformLocalizationOptions(v)))}static createLocaleOptions(v){return t.Y.assertValue(v,"localize"),{null:v.get("NullValue"),true:v.get("BooleanTrue"),false:v.get("BooleanFalse"),NaN:v.get("NaNValue"),infinity:v.get("InfinityValue"),negativeInfinity:v.get("NegativeInfinityValue"),beautify:m=>p.beautify(v,m),describe:m=>p.describeUnit(v,m),restatementComma:v.get("PowerBI_TwoStrings_SeperateWithCommaAndVisualSpace"),restatementCompoundAnd:v.get("FilterRestatement_CompoundAnd"),restatementCompoundOr:v.get("Generic_Or")}}static createTooltipLocaleOptions(v){return{highlightedValueDisplayName:v.get(r.Z.highlightedValueDisplayNameResourceKey)}}static createDataViewTransformLocalizationOptions(v){return{quarterPrefix:v.get("Visual_Quarter_Abbreviated")}}constructor(v){this.services=v,this.instanceId=void 0}getLocalizedString(v,...m){return this.services.localizationService.format(v,...m||[])}requestFocus(v){a.c_.focus(v)}alertScreenReader(v){}alertWithDebounce(v,m){this.services.screenReaderService&&this.services.screenReaderService.alertWithDebounce(v,m)}onDragStart(){}getVisualLinkProperties(){}canSelect(){return!1}onSelecting(){}onSelect(){}onSwitchFocusModeState(){}canExpandCollapse(v){return!!this.services.canExpandCollapse&&this.services.canExpandCollapse(v)}setNodeExpansionState(v){}setLevelExpansionState(v){}setCanDrill(v){}onContextMenu(){}loadMoreData(){}loadWindow(v){}setShouldDeferData(){}persistProperties(v){}onCustomSort(v){}getViewMode(){return o.nE.View}getEditMode(){return o.WF.Default}setWarnings(v){}getWarnings$(){}setToolbar(v){}shouldRetainSelection(){return!1}geocoder(){return this.services.geocoder}geolocation(){return this.services.geolocation}locale(){return(0,i.VH)()}promiseFactory(){return this.services.promiseFactory}ignoreDefaultFilter(){return!1}getIdentityDisplayNames(v){}setIdentityDisplayNames(v){}setFilterExpressionMetadata(){}getFilterExpressionMetadata(){}decompositionService(){}dropdown(){}tooltips(){return this.services.visualHostTooltipService}telemetry(){}authenticationService(){return this.services.authenticationService}localStorageService(){}acquireAADTokenService(){}eventService(){}licenseManagerService(){}drill(v){}loader(){return this.services.moduleLoader}getUIComponentFactory(){}applyJsonFilter(v,m,g,E){}applyIdentityFilter(v,m,g,E){}launchUrl(v){}refreshHostData(){}getJSONFilter(v,m){return this.promiseFactory().reject()}onHyperlinkClick(v,m){}visualTimeSynchronization(){}isVisualEnabled(){return this.promiseFactory().resolve(!0)}isVisualLoading(){return this.promiseFactory().resolve(!1)}dataMultiSelectMode(){return d.fv.Single}networkAvailability(){}downloadService(){}setAriaMetadata(v){}artifactService(){}getSectionsMetadata$(){}getBookmarksMetadata$(){}visualExportService(){}onNotifyLicense(v){this.services.onNotifyLicense&&this.services.onNotifyLicense(v)}onClearLicenseNotification(){this.services.onClearLicenseNotification&&this.services.onClearLicenseNotification()}onNotifyFeatureBlocked(v){this.services.onNotifyFeatureBlocked&&this.services.onNotifyFeatureBlocked(v)}getSubSelectionService(){}webAccessService(){}getAzureMapToken(){return this.services.getAzureMapToken()}azureMapsEndpoint(){return this.services.azureMapsEndpoint}geocoderIndexedDB(){return this.services.geocoderIndexedDB}triggerUpdate(){}azureMapsHostEnvironment(){return{isPublishToWebHost:!1,isScreenshotExportHost:!1}}localStorageV2Service(){}aiNarrativesService(){}dateTimeFormatService(){}visualHostSubSelectionService(){}annotations(){}static beautify(v,m){var g=s[m];return g?((0,n.lw)(g),v.getOptional(g)||m):m}static describeUnit(v,m){var g=-1===m?"Auto":m.toString(),E=v.getOptional("DisplayUnitSystem_E"+g+"_Title"),D=m<=0?"{0}":v.getOptional("DisplayUnitSystem_E"+g+"_LabelFormat");if(E||D)return{title:E,format:D}}}function l(u){return new p(u)}},969817:function(ve,z,e){e.d(z,{P:function(){return v}});var a=e(233390),i=e(193311),r=e(387797),t=e(18122),o=e(999904),d=e(827431),n=e(258480),s=(e(757406),e(990328)),p=e(98138),l=e(620455),u=e(708589);function v(){var m=d.x_,g=n.b0,D=s.k;class C{constructor(b,V,M,P,T,N,w,I,O){this.explorationStateManager=b,this.explorationNavigation=V,this.explorationSerializer=M,this.featureSwitchService=P,this.visualPlugin=T,this.conceptualSchemaProxy=N,this.dataSources=w,this.displayNameService=I,this.visualAuthoringOperations=O}generateUniqueGroupName(b,V,M){var T,P=this.getVisualSyncField(V);T=P?this.displayNameService.getDisplayName(P,b,this.visualPlugin.capabilities(V.visualType)):"Group",t.Y.assert(()=>!_.isEmpty(T),"expected preferred name for group");for(var N=T,w=1;N in M;)N=T+w++;return N}syncFilterState(b,V){var M=this;return(0,a.A)(function*(){var P=b.config.singleVisual;if(M.canSyncVisual(P)&&P.syncGroup){var T=M.getOtherSectionsInSyncGroup(P);if(!_.isEmpty(T)){var N=yield M.conceptualSchemaProxy.get(M.dataSources.get()),w=M.explorationStateManager.captureFilterState(P);V=V&&P.syncGroup.filterChanges;var I=M.visualPlugin.capabilities(P.visualType),O={clearUnmatchedData:!1,suppressActiveSection:!0,suppressDisplay:!0,targetVisualNames:[]},x=m(I.objects),j=x&&(0,o._W)(w.objects.merge,x,null),U=[];for(var F of T)for(var R of((0,r.QZ)(F.section),F.visualContainers)){var B=V&&M.syncFilters(R,b.filters),A=w;if(j){var W=(0,o._W)(R.config.singleVisual.objects,x,null),G=M.replaceSemanticFilterField(b.config.singleVisual.query,j,R.config.singleVisual.query,W,N,P.visualType);if(j&&!G){B&&M.visualAuthoringOperations.notifyVisualContainers([R]);continue}G!==j&&((A=(0,i.Mk)(A,M.visualPlugin,M.featureSwitchService)).cachedFilterDisplayItems=void 0,A.filterExpressionMetadata=void 0,(0,o.KY)(A.objects.merge,x,null,G))}O.targetVisualNames.push(R.name),U.push({visual:R,state:A,impacted:B})}_.isEmpty(U)||M.explorationStateManager.applyFilterState(U,N)}}})()}syncVisualFiltersState(b,V=!0){t.Y.assertValue(b,"syncVisualFilterState - sourceVisual should be defined"),t.Y.assertValue(b.config,"syncVisualFilterState - sourceVisual config should be defined");var M=b.config.singleVisual,P=[];if(this.canSyncVisual(M)&&M.syncGroup.filterChanges){var T=this.getOtherSectionsInSyncGroup(M);for(var N of T)if(!_.isEmpty(N.visualContainers))for(var w of N.visualContainers)this.syncFilters(w,b.filters)&&P.push(w);V&&this.visualAuthoringOperations.notifyVisualContainers(P)}}syncFilters(b,V){var M=_.isEmpty(V);if(b.config.singleVisual.syncGroup.filterChanges){if(M&&!_.isEmpty(b.filters))return b.filters=[],!0;if(!M){var P=this.explorationSerializer.deserializeFilterCollection(this.explorationSerializer.serializeFilterCollection(V),[],!0);return b.filters=P,!0}}return!1}getVisualsAffectByFieldChanges(b){var V=b.config.singleVisual;return this.canSyncVisual(V)&&V.syncGroup.fieldChanges?_.filter(this.getOtherVisualsInSyncGroup(V),M=>M.config.singleVisual.syncGroup.fieldChanges):[]}canSyncVisual(b){if(!b.syncGroup)return!1;var V=this.visualPlugin.capabilities(b.visualType),M=V&&V.supportsSynchronizingFilterState;return t.Y.assert(()=>M,"Visual has a sync group, but does not support syncing"),M}getOtherVisualsInSyncGroup(b){return this.getVisualsInSectionsSyncGroup(this.getOtherSectionsInSyncGroup(b))}getVisualsInSectionsSyncGroup(b){var V=[];for(var M of b)V.push(...M.visualContainers||[]);return V}getOtherSectionsInSyncGroup(b){if(!b.syncGroup)return[];if(!b.syncGroup.groupName)return t.Y.assertFail("expected non-empty group name"),[];var V=this.explorationNavigation.getCurrentExploration(),M=[];for(var P of V.sections){var T=_.filter(P.visualContainers,N=>{var w=N.config.singleVisual;return w!==b&&w.syncGroup&&w.syncGroup.groupName===b.syncGroup.groupName&&w.visualType===b.visualType});_.isEmpty(T)||M.push({section:P,visualContainers:T})}return M}getVisualSyncField(b){var V=b.query.defn.select();return t.Y.assertValue(V,"fields can't be null"),0===V.length?(t.Y.assertFail("Expected sync group visual to have at least one field"),null):V[0].expr}replaceSemanticFilterField(b,V,M,P,T,N){if(!V)return V;var w=b.defn.select(),I=M.defn.select();if((N===l.U.advancedSlicerVisual||N===l.U.listSlicer)&&(w=w.filter(B=>b.getRoleNameForExpr(B.expr)===u.E0.value),I=I.filter(B=>M.getRoleNameForExpr(B.expr)===u.E0.value)),w.length===I.length){if(w.length>1)return _.differenceWith(w,I,(B,A)=>(0,p.aI)(B.expr,A.expr)).length?void 0:V;if(1!==w.length)return void t.Y.assertFail("Expected single select in source and target queries");if((0,p.aI)(w[0].expr,I[0].expr))return V;var x=y.extract(V);if(!x)return void t.Y.assertFail("could not extract a single field from the source filter expression");if(!P){var j=V.conditions();if(1!==j.length)return void t.Y.assertFail("expected single condition");var U=I[0].expr.getKeyColumns(T);if(1!==U.length)return void t.Y.assertFail("can only sync slicers on single-key columns when syncing across different fields");var F=f.replaceCondition(j[0],x,U[0]);return g.fromSQExpr(F)}var R=y.extract(P);return R?f.replace(V,x,R):void t.Y.assertFail("expected incoming and target fields for SemanticFilter rewrite")}}}class y extends D{constructor(){super()}static extract(b){var V=new y;return b.rewrite(V),V.foundSingleField&&V.fieldExpr}visitHierarchyLevel(b){return this.setFieldExpr(b),b}visitColumnRef(b){return this.setFieldExpr(b),b}setFieldExpr(b){if(!this.fieldExpr)return this.fieldExpr=b,void(this.foundSingleField=!0);(0,p.aI)(this.fieldExpr,b)||(this.foundSingleField=!1,t.Y.assertFail("found multiple fields in SemanticFilter"))}}class f extends s.k{constructor(b,V){super(),this.before=b,this.after=V}static replace(b,V,M){if((0,p.aI)(V,M))return b;var P=new f(V,M);return b.rewrite(P)}static replaceCondition(b,V,M){if((0,p.aI)(V,M))return b;var P=new f(V,M);return b.accept(P)}visitColumnRef(b){if((0,p.aI)(b,this.before))return this.after}}return{create:function(S,b,V,M,P,T,N,w,I){return new C(S,b,V,M,P,T,N,w,I)}}}},974189:function(ve,z,e){e.d(z,{$d8:function(){return o},$jI:function(){return hr},$kL:function(){return ce},$pX:function(){return wa},AkA:function(){return me},Ayl:function(){return qt},BPU:function(){return Ie},B_h:function(){return Vt},BkI:function(){return ye},CJB:function(){return K},CNs:function(){return Ne},CZU:function(){return ya},DyE:function(){return L},ENL:function(){return Le},F24:function(){return Ir},F43:function(){return jr},FxG:function(){return n},H$J:function(){return ne},HJo:function(){return Bt},HQ2:function(){return Ze},HXg:function(){return ee},Hef:function(){return g},INR:function(){return Ke},IWg:function(){return j},KIM:function(){return v},KLp:function(){return wt},Kwx:function(){return m},LZv:function(){return r},Lm0:function(){return he},MMr:function(){return si},MZT:function(){return Ot},MyE:function(){return Tr},N7D:function(){return Gr},NvW:function(){return tr},Nw5:function(){return Z},Nws:function(){return kt},O7M:function(){return ze},OST:function(){return mt},PfM:function(){return Ue},RJ5:function(){return d},Rzf:function(){return ei},SUp:function(){return ct},Tl8:function(){return D},UII:function(){return Wa},Ugt:function(){return di},VGY:function(){return Yt},Vl:function(){return ht},Wnz:function(){return Te},Wyl:function(){return $r},XM$:function(){return li},Xtl:function(){return na},YI$:function(){return M},YI7:function(){return St},YIl:function(){return ha},Z3u:function(){return Ja},ZDo:function(){return We},ZJF:function(){return B},_3z:function(){return C},_E7:function(){return ui},_Gv:function(){return Dr},adG:function(){return Ee},bUn:function(){return ci},bei:function(){return Me},dgB:function(){return b},dl4:function(){return Rt},etN:function(){return sr},fVI:function(){return F},giC:function(){return Za},hgr:function(){return O},hoM:function(){return _a},iJ5:function(){return h},iPg:function(){return i},ivQ:function(){return Pt},jYG:function(){return ii},jil:function(){return t},jup:function(){return Kr},kI$:function(){return W},ked:function(){return qe},kil:function(){return ae},lHN:function(){return ri},lij:function(){return br},mt2:function(){return $a},nE9:function(){return s},nj3:function(){return E},oQx:function(){return Ma},p4f:function(){return u},pMQ:function(){return Xr},pxf:function(){return Jt},pyy:function(){return Y},qNx:function(){return la},qWe:function(){return H},q_C:function(){return cr},r2i:function(){return oe},r3e:function(){return p},r_m:function(){return qa},rrw:function(){return Ur},sHR:function(){return w},scM:function(){return pe},tiw:function(){return se},u$J:function(){return Wt},u2D:function(){return Qe},ulR:function(){return ti},usx:function(){return De},v9I:function(){return Lt},vCt:function(){return xa},wHO:function(){return T},wWV:function(){return Mr},wrK:function(){return Se},xBz:function(){return Rr},xO0:function(){return kr},xjW:function(){return yt},xkJ:function(){return Xa},yYR:function(){return Mt},zX:function(){return Or}});var a=e(285264),i=function(ur){return ur.Dashboard="Dashboard",ur.Report="Report",ur}({}),r=function(ur){return ur.Entity="Entity",ur.ColumnRef="ColumnRef",ur.MeasureRef="MeasureRef",ur.Aggregation="Aggregation",ur.PropertyVariationSource="PropertyVariationSource",ur.Hierarchy="Hierarchy",ur.HierarchyLevel="HierarchyLevel",ur.FieldParameter="FieldParameter",ur.Other="Other",ur.Sparkline="Sparkline",ur.VisualCalculation="VisualCalculation",ur}({}),t=function(ur){return ur.Clear="Clear",ur.Delete="Delete",ur.Lock="Lock",ur.Rename="Rename",ur.Visibility="Visibility",ur}({}),o=function(ur){return ur.Visual="Visual",ur.Section="Section",ur.Exploration="Exploration",ur}({}),d=function(ur){return ur.Categorical="Categorical",ur.Range="Range",ur.Advanced="Advanced",ur.Passthrough="Passthrough",ur.Visual="Visual",ur.TopN="TopN",ur.Include="Include",ur.Exclude="Exclude",ur.RelativeDate="RelativeDate",ur.VisualTopN="VisualTopN",ur}({}),n=function(ur){return ur.CheckboxTickedInFieldList="CheckboxTickedInFieldList",ur.DraggedToVisual="DraggedToVisual",ur.DraggedToFieldWell="DraggedToFieldWell",ur.VisualCalculationMode="VisualCalculationMode",ur.EmbedAPICall="EmbedAPICall",ur}({}),s=function(ur){return ur.View="View",ur.Edit="Edit",ur}({}),p=function(ur){return ur.Ascending="Ascending",ur.Descending="Descending",ur.Custom="Custom",ur}({}),u=function(ur){return ur.ContextMenu="ContextMenu",ur.ModeOn="ModeOn",ur.TooltipActions="TooltipActions",ur}({}),v=function(ur){return ur.Add="Add",ur.Delete="Delete",ur}({}),m=function(ur){return ur.FileMenu="FileMenu",ur.Button="Button",ur.Keyboard="Keyboard",ur.DialogPrompt="DialogPrompt",ur.WorkspaceUpgradedSave="WorkspaceUpgradedSave",ur}({}),g=function(ur){return ur.Task="Task",ur.Visualization="Visualization",ur.Outspace="Outspace",ur.Bookmarks="Bookmarks",ur.SyncGroups="SyncGroups",ur.CanvasItems="CanvasItems",ur.Customize="Customize",ur}({}),E=function(ur){return ur.Get="Get",ur.Add="Add",ur.Remove="Remove",ur}({}),D=function(ur){return ur.Get="Get",ur.Unpin="Unpin",ur.Restore="Restore",ur.RestoreAll="RestoreAll",ur.RemoveFavoritePublicCustomVisual="RemoveFavoritePublicCustomVisual",ur.AddFavoritePublicCustomVisual="AddFavoritePublicCustomVisual",ur}({}),h=function(ur){return ur.ContextMenu="ContextMenu",ur.VisualHeader="VisualHeader",ur}({}),C=function(ur){return ur.Switcher="Switcher",ur.Ribbon="Ribbon",ur.WebBar="WebBar",ur}({}),y="PBI.EX.NewExploration",S=(a.Xi[y]=(0,a.Vp)(y),"PBI.EX.RefreshReport"),b=a.Xi[S]=(0,a.Vp)(S),V="PBI.EX.SaveExploration",M=a.Xi[V]=(0,a.Vp)(V),P="PBI.EX.InteractionVisualConversion",T=a.Xi[P]=(0,a.Vp)(P),N="PBI.EX.InteractionExpand",w=a.Xi[N]=(0,a.Vp)(N,{logExpAssignment:!0}),I="PBI.EX.InteractionDrill",O=a.Xi[I]=(0,a.Vp)(I,{logExpAssignment:!0}),x="PBI.EX.DrillToDetails",j=a.Xi[x]=(0,a.Vp)(x,{logExpAssignment:!0}),U="PBI.EX.AddFilter",F=a.Xi[U]=(0,a.Vp)(U),R="PBI.EX.ClearFilter",B=a.Xi[R]=(0,a.Vp)(R,{logExpAssignment:!0}),A="PBI.EX.RemoveFilter",W=a.Xi[A]=(0,a.Vp)(A),G="PBI.EX.HideFilter",K=a.Xi[G]=(0,a.Vp)(G),q="PBI.EX.LockFilter",ne=a.Xi[q]=(0,a.Vp)(q),k="PBI.EX.TogglePaneExpanded",L=a.Xi[k]=(0,a.Vp)(k),X="PBI.EX.ToggleFilterCardExpanded",Y=a.Xi[X]=(0,a.Vp)(X),Q="PBI.EX.ToggleFilterCardSort",H=a.Xi[Q]=(0,a.Vp)(Q),te="PBI.EX.FilterPaneAdvancedFilterApplied",ee=a.Xi[te]=(0,a.Vp)(te),ue="PBI.EX.FilterPaneTopNFilterApplied",Te=a.Xi[ue]=(0,a.Vp)(ue),He="PBI.EX.FilterPaneRelativeDateFilterApplied",We=a.Xi[He]=(0,a.Vp)(He),ft="PBI.EX.FilterPaneRelativeTimeFilterApplied",mt=a.Xi[ft]=(0,a.Vp)(ft),At="PBI.EX.FilterPaneBasicFilterChanged",Qe=a.Xi[At]=(0,a.Vp)(At,{logExpAssignment:!0}),Fe="PBI.EX.FilterPaneFilterDefaultRestored",ye=a.Xi[Fe]=(0,a.Vp)(Fe),we="PBI.EX.FilterPaneFilterCleared",Ee=a.Xi[we]=(0,a.Vp)(we,{logExpAssignment:!0}),Oe="PBI.EX.FilterPaneFilterDeleted",he=a.Xi[Oe]=(0,a.Vp)(Oe),xe="PBI.EX.FilterPaneInteraction",Se=a.Xi[xe]=(0,a.Vp)(xe,{logExpAssignment:!0}),Ae="PBI.EX.ImprovedFilterExperience.ToggleOutspacePaneExpansion",Ie=a.Xi[Ae]=(0,a.Vp)(Ae,{logExpAssignment:!0}),Je="PBI.EX.ImprovedFilterExperience.ToggleOutspacePaneVisibility",pe=a.Xi[Je]=(0,a.Vp)(Je),Pe="PBI.EX.ImprovedFilterExperience.ShowRestatement",Me=a.Xi[Pe]=(0,a.Vp)(Pe,{logExpAssignment:!0}),Ge="PBI.EX.LoadFilterError",De=a.Xi[Ge]=(0,a.Vp)(Ge),lt="PBI.EX.CreateVisual",ct=a.Xi[lt]=(0,a.Vp)(lt,{logExpAssignment:!0}),vt="PBI.EX.AddField",Vt=a.Xi[vt]=(0,a.Vp)(vt),It="PBI.EX.ResolveParameters",Ot=a.Xi[It]=(0,a.Vp)(It,{logRatio:.001}),de="PBI.EX.SwitchQueryParameter",Ze=a.Xi[de]=(0,a.Vp)(de),Ye="PBI.EX.ChangeQuickCalc",qe=a.Xi[Ye]=(0,a.Vp)(Ye),ut="PBI.EX.SetConditionalFormatting",le=(a.Xi[ut]=(0,a.Vp)(ut),"PBI.EX.SetDataBars"),me=a.Xi[le]=(0,a.Vp)(le),Be="PBI.EX.ExplorationRefresh",Ke=a.Xi[Be]=(0,a.Vp)(Be),Xe="PBI.EX.SnapshotEmbedCreate",fe=(a.Xi[Xe]=(0,a.Vp)(Xe),"PBI.EX.PublicEmbedCreate"),ae=a.Xi[fe]=(0,a.Vp)(fe),tt="PBI.EX.SnapshotEmbedDelete",rt=(a.Xi[tt]=(0,a.Vp)(tt),"PBI.EX.SnapshotEmbedUpdate"),J=(a.Xi[rt]=(0,a.Vp)(rt),"PBI.EX.ImportCustomViz"),ce=a.Xi[J]=(0,a.Vp)(J),Ce="PBI.EX.ImportVisuals",ze=a.Xi[Ce]=(0,a.Vp)(Ce),it="PBI.EX.CdnVisualOverride",yt=a.Xi[it]=(0,a.Vp)(it),Nt="PBI.EX.DeleteCustomViz",Lt=a.Xi[Nt]=(0,a.Vp)(Nt),zt="PBI.EX.EnableCustomViz",Yt=a.Xi[zt]=(0,a.Vp)(zt),Qt="PBI.EX.VisualRelationshipOverride",sr=a.Xi[Qt]=(0,a.Vp)(Qt),je="PBI.EX.CodePaneUserRunScript",Kt=(a.Xi[je]=(0,a.Vp)(je),"PBI.EX.CodePaneUserEditScriptWithExternalIDE"),ar=(a.Xi[Kt]=(0,a.Vp)(Kt),"PBI.EX.CodePaneUserOpenOptionsDialog"),pt=(a.Xi[ar]=(0,a.Vp)(ar),"PBI.EX.CodePaneLaunchExternalIDEFailed"),$t=(a.Xi[pt]=(0,a.Vp)(pt),"PBI.EX.CodePaneLaunchExternalIDESucceeded"),or=(a.Xi[$t]=(0,a.Vp)($t),"PBI.EX.CodePaneShowWarning"),mr=(a.Xi[or]=(0,a.Vp)(or),"PBI.EX.ExportVisualData"),Mr=a.Xi[mr]=(0,a.Vp)(mr,{logExpAssignment:!0}),Lr="PBI.EX.LoadReportWithScriptVis",Ur=a.Xi[Lr]=(0,a.Vp)(Lr),Yr="PBI.ExploreHost.ChangeReportPage",Kr=a.Xi[Yr]=(0,a.Vp)(Yr),Hr="PBI.EX.RemoveMobileCanvasVisuals",Gr=a.Xi[Hr]=(0,a.Vp)(Hr),Wr="PBI.EX.AddMobileCanvasVisual",Or=a.Xi[Wr]=(0,a.Vp)(Wr),ra="PBI.EX.ChangeMobileVisualPosition",Xr=a.Xi[ra]=(0,a.Vp)(ra),aa="PBI.EX.LoadReportContainer",jr=a.Xi[aa]=(0,a.Vp)(aa),Cr="PBI.EX.LoadReportContainerDatasetMissing",Ir=a.Xi[Cr]=(0,a.Vp)(Cr),ia="PBI.EX.InitExploration",Rr=a.Xi[ia]=(0,a.Vp)(ia),zr="PBI.EX.LoadExplorationVisuals",Tr=a.Xi[zr]=(0,a.Vp)(zr,{defaultTimeoutSec:60,logExpAssignment:!0}),Zr="PBI.EX.VisualContainerChanged",na=a.Xi[Zr]=(0,a.Vp)(Zr,{logRatio:0}),Nr="PBI.EX.RenderExplorationVisual",br=a.Xi[Nr]=(0,a.Vp)(Nr,{logRatio:.01}),Qr="PBI.EX.FetchExploration",kr=a.Xi[Qr]=(0,a.Vp)(Qr),wr="PBI.EX.ChangeCanvasLayout",Pt=a.Xi[wr]=(0,a.Vp)(wr),nt="PBI.EX.Clustering.AddClustering",ke=(a.Xi[nt]=(0,a.Vp)(nt),"PBI.EX.Clustering.EditClustering"),xt=(a.Xi[ke]=(0,a.Vp)(ke),"PBI.EX.QuickMeasures.OpenDialog"),dr=(a.Xi[xt]=(0,a.Vp)(xt),"PBI.EX.QuickMeasures.DialogResult"),fr=(a.Xi[dr]=(0,a.Vp)(dr),"PBI.EX.QuickMeasures.OnMeasureChange"),Er=(a.Xi[fr]=(0,a.Vp)(fr),"PBI.EX.Drillthrough.GotoTarget"),Le=a.Xi[Er]=(0,a.Vp)(Er,{logExpAssignment:!0}),be="PBI.EX.Drillthrough.FilterUpdate",Z=a.Xi[be]=(0,a.Vp)(be),ie="PBI.EX.RefreshHostData",Ue=a.Xi[ie]=(0,a.Vp)(ie),st="PBI.EX.BookmarkAdd",ht=a.Xi[st]=(0,a.Vp)(st),bt="PBI.EX.BookmarkUpdate",kt=a.Xi[bt]=(0,a.Vp)(bt),Ft="PBI.EX.BookmarkDelete",Jt=a.Xi[Ft]=(0,a.Vp)(Ft),lr="PBI.EX.BookmarkPlay",Wt=a.Xi[lr]=(0,a.Vp)(lr),_t="PBI.EX.BookmarkApply",Mt=a.Xi[_t]=(0,a.Vp)(_t),Dt="PBI.EX.Bookmark.IsPersistentStateCheck",wt=a.Xi[Dt]=(0,a.Vp)(Dt),Et="PBI.EX.Bookmark.LoadError",Ne=a.Xi[Et]=(0,a.Vp)(Et),at="PBI.EX.CopyPasteSyncGroup",St=a.Xi[at]=(0,a.Vp)(at),Ct="PBI.EX.CustomDateTableValidationResult",Rt=a.Xi[Ct]=(0,a.Vp)(Ct),jt="PBI.EX.UpdateActiveSection",qt=a.Xi[jt]=(0,a.Vp)(jt,{defaultTimeoutSec:10}),ir="PBI.EX.VisualContainerApplyUpdate",cr=a.Xi[ir]=(0,a.Vp)(ir,{logRatio:0}),gr="PBI.EX.VisualDataChanged",hr=a.Xi[gr]=(0,a.Vp)(gr,{logRatio:0}),yr="PBI.EX.ApplySlicer",Dr=a.Xi[yr]=(0,a.Vp)(yr,{logExpAssignment:!0}),Vr="PBI.EX.ApplyAllClicked",$r=a.Xi[Vr]=(0,a.Vp)(Vr),Br="PBI.EX.SelectDataPoint",la=a.Xi[Br]=(0,a.Vp)(Br,{logExpAssignment:!0}),qr="PBI.EX.RefreshSingleVisual",oe=a.Xi[qr]=(0,a.Vp)(qr),Ve="PBI.EX.PerformanceAnalyzerRefreshReport",se=a.Xi[Ve]=(0,a.Vp)(Ve),gt="PBI.EX.PerformanceAnalyzerExportLogs",Bt=a.Xi[gt]=(0,a.Vp)(gt),Xt="PBI.EX.PerformanceAnalyzerCopyQueries",tr=a.Xi[Xt]=(0,a.Vp)(Xt),Fr="PBI.EX.PerformanceAnalyzerRunDaxyQuery",ya=a.Xi[Fr]=(0,a.Vp)(Fr),pa="PBI.EX.PerformanceAnalyzerStopRecording",li=a.Xi[pa]=(0,a.Vp)(pa),Ha="PBI.EX.ThemeDialogClosed",Qa=(a.Xi[Ha]=(0,a.Vp)(Ha),"PBI.Settings.FavoriteResourcePackages"),Xa=a.Xi[Qa]=(0,a.Vp)(Qa),Ia="PBI.Settings.VisualPane",$a=a.Xi[Ia]=(0,a.Vp)(Ia),Ra="PBI.Settings.OutOfBoxVisuals",xa=a.Xi[Ra]=(0,a.Vp)(Ra),Pa="PBI.EX.DrillthroughButtonClicked",Ja=a.Xi[Pa]=(0,a.Vp)(Pa),Oa="PBI.EX.SmallMultiplesFirstField",Za=a.Xi[Oa]=(0,a.Vp)(Oa),Ca="PBI.EX.AnalyticsLoadSchemaError",qa=a.Xi[Ca]=(0,a.Vp)(Ca),Da="PBI.EX.ExecuteActionCommands",ei=a.Xi[Da]=(0,a.Vp)(Da),Ba="PBI.EX.UndefinedTooltipStyleInActionBar",ti=a.Xi[Ba]=(0,a.Vp)(Ba),Na="PBI.EX.ActionBarShown",ui=a.Xi[Na]=(0,a.Vp)(Na),La="PBI.EX.ScanModeKeyPressed",wa=a.Xi[La]=(0,a.Vp)(La),Fa="PBI.EX.GetInsightsMenuCommand",ci=a.Xi[Fa]=(0,a.Vp)(Fa),fa="PBI.Sparklines.Delete",di=a.Xi[fa]=(0,a.Vp)(fa),Pr="PBI.CopyVisualImage.EntryPoint",ri=a.Xi[Pr]=(0,a.Vp)(Pr),ai="PBI.EX.FontsReadyVisualUpdateTriggered",_a=a.Xi[ai]=(0,a.Vp)(ai,{logRatio:.01}),Ua="PBI.Reflex.OpenTriggerActionFromVisual",ii=a.Xi[Ua]=(0,a.Vp)(Ua),Sa="PBI.Reflex.ReflexOpenConfigPaneFromVisualToolbar",Wa=a.Xi[Sa]=(0,a.Vp)(Sa),ja="PBI.Reflex.ReflexOpenConfigPaneFromVisualContext",Ma=a.Xi[ja]=(0,a.Vp)(ja),ni="PBI.Reflex.ReflexOpenConfigPaneFromVisualFollow",ha=a.Xi[ni]=(0,a.Vp)(ni),ka="PBI.EX.ScreenShotExportDiscrepancy",si=a.Xi[ka]=(0,a.Vp)(ka)},967802:function(ve,z,e){e.d(z,{L:function(){return f}});var a=e(418626),i=e(316051),r=e(171019),t=e(930845),o=e(576086),d=e(847709),n=e(700280),c=e(200367),s=e(885653),p=e(613552),l=e(512655),u=e(18122),v=e(223431),m=e(693029),g=e(531093),E=e(999904),D=e(332603),h=e(784859),C=e(620825),y=e(98138),f=(()=>{class S{static setScrollWidth(V){this.scrollWidth=V}static fitToWidth(V,M,P,T,N,w=!1,I){null!=V.canvasOptions.overrideSectionAlignment&&(I=V.canvasOptions.overrideSectionAlignment);var O=M.get(0).getBoundingClientRect(),j=this.findParentElement(M,this.ExploreCanvasSelector).get(0).getBoundingClientRect(),U=M.find(".displayAreaViewport").get(0).getBoundingClientRect();if(O.width>U.width){var F=O.width-U.width;null!=this.scrollWidth&&Math.abs(this.scrollWidth-F)>.01&&v.Cn.error(`Multiple scroll bar widths detected, ${this.scrollWidth} -> ${F}`),this.scrollWidth=F}var R=N.getConfig(),B=2*t.NT,A=O.width-B,W=O.height-B,G=this.getFitToWidthScaledSize(V,A,T),K=M.find(this.DisplayAreaNameSelector.selector),q=V.viewModel.canvasLayout===i.v.PhonePortrait;G.height<=W&&!q?(V.canvasViewStyle=r.WZ.FitToWidthCentered,M.css(l.G6,l.ad).css(l.vo,l.ad),this.positionElement(K,U,G,I,!0,R.displayOptions.includeMobileBottomPadding)):(G=this.getFitToWidthScaledSize(V,A=O.width-(B=R.displayOptions.scaleBackgroundImageToWidth?t.NT/2+(this.scrollWidth||0):3*t.NT/2+(this.scrollWidth||8)),T,q?t.RF+t.bd:0),V.canvasViewStyle=r.WZ.FitToWidthOrigin,M.css(l.G6,l.ad).css(l.vo,l.H1),this.clearElementPosition(K));var ne=A/V.viewModel.width,L=this.getWallpaperScale(j,V.viewModel.width,V.viewModel.height,V.canvasOptions.scrollbarOffset,a.c.X);if(P.setDisplayAreaScaleFactor(ne),P.setWallpaperScaleFactor(L),this.updateCanvasSize(V,G.width,G.height),K.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(V)),this.setElementSize(K,G),!w&&!R.displayOptions.preserveScrollPositionOnResize){var X=!1,Y=V.fitToWidthScrollPosition;if(Y){var Q=V.viewModel&&V.viewModel.contract;Q&&Q.name===Y.sectionName&&Q.size&&Q.size.width===Y.sectionSize.width&&Q.size.height===Y.sectionSize.height&&(X=!0,M[0].scrollTo({top:Y.relativeScroll*ne,left:0,behavior:"instant"})),X||(V.fitToWidthScrollPosition=void 0)}X||M[0].scrollTo({top:0,left:0,behavior:"instant"})}}static getWallpaperScale(V,M,P,T,N,w,I){if(N===a.c.X)return(V.width-T)/M;var x=P;return w&&I&&(x=w.getConfig().displayOptions.hideTileMenu?V.height:V.height-I),x/P}static getFitToWidthScaledSize(V,M,P,T=0){var N=M/V.viewModel.width,w=M,I=V.viewModel.height*N+P;if(V.adjustScaleForLayout){var O=V.adjustScaleForLayout({x:N,y:N});if(O.x!==N||O.y!==N){var x=Math.min(O.x,O.y),j=x/N;w*=j,I=(I-P)*j+P,N=x}}return T>0&&(I+=T),{width:w,height:I}}static fitToPage(V,M,P,T,N,w){var I=T.getConfig();null!=V.canvasOptions.overrideSectionAlignment&&(w=V.canvasOptions.overrideSectionAlignment);var x=this.findParentElement(M,this.ExploreCanvasSelector).get(0).getBoundingClientRect(),j=V.outerViewport.width/V.viewModel.width,U=this.getFitToPageScaleY(V,T,N),F=Math.min(j,U),B=this.getWallpaperScale(x,V.viewModel.width,V.viewModel.height,V.canvasOptions.scrollbarOffset,F===j?a.c.X:a.c.Y,T,N);if(V.adjustScaleForLayout){var A=V.adjustScaleForLayout({x:F,y:F});(A.x!==F||A.y!==F)&&(F=Math.min(A.x,A.y))}P.setDisplayAreaScaleFactor(F),P.setWallpaperScaleFactor(B),I.displayOptions.preserveScrollPositionOnResize||M.scrollTop(0).scrollLeft(0);var W=V.viewModel.width*F,G=V.viewModel.height*F+N;V.canvasViewStyle=r.WZ.AbsoluteCenter,V.canvasViewStyle|=r.WZ.FitToPage,M.css(l.G6,l.ad).css(l.vo,l.ad),this.updateCanvasSize(V,W,G);var K=M.find(this.DisplayAreaNameSelector.selector);K.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(V));var q={width:W,height:G};this.setElementSize(K,q),this.positionElement(K,V.outerViewport,q,w,!1)}static getFitToPageScaleY(V,M,P){var N=M.getConfig().displayOptions.hideTileMenu?V.outerViewport.height:V.outerViewport.height-P;return(N-=this.getCanvasOutlineSize(V,M))/V.viewModel.height}static findParentElement(V,M){if(V)return V.hasClass(M.class)?V:this.findParentElement(V.parent(),M)}static getVerticalAlignmentSetting(V,M,P){var T=V.viewModel&&V.viewModel.contract&&V.viewModel.contract.evaluatedObjects&&V.viewModel.contract.evaluatedObjects.displayArea&&V.viewModel.contract.evaluatedObjects.displayArea.verticalAlignment&&V.viewModel.contract.evaluatedObjects.displayArea.verticalAlignment.toString();if(T)return d.C2[T];var N=P.getCurrentExploration(),w=N&&N.evaluatedObjects&&N.evaluatedObjects.section&&N.evaluatedObjects.section.verticalAlignment&&N.evaluatedObjects.section.verticalAlignment.toString();return w?d.C2[w]:void 0}static positionElement(V,M,P,T,N,w){var O=null!=M.height&&null!=P.height?(M.height-(w?t.RF:0)-P.height)/2:void 0,x=null!=M.width&&null!=P.width?(M.width-P.width)/2:void 0,j={position:"absolute",left:null!=x?`${x}px`:""};T===d.C2.Top?_.extend(j,{top:null!=O?`${N?t.NT:0}px`:""}):_.extend(j,{top:null!=O?`${O}px`:""}),V.css(j)}static setElementSize(V,M){V.css({height:`${M.height}px`,width:`${M.width}px`})}static clearElementPosition(V){V.css({position:"",top:"",left:""})}static clearElementSize(V){V.css({height:"",width:""})}static fitToScreen(V,M,P,T){var N=M.find(this.DisplayAreaNameSelector.selector);this.clearElementPosition(N),this.clearElementSize(N),V.canvasViewStyle=r.WZ.AbsoluteCenter|r.WZ.FitToScreen,P.setDisplayAreaScaleFactor(1),P.setWallpaperScaleFactor(1),this.updateCanvasSize(V,V.outerViewport.width,V.outerViewport.height),M.css(l.G6,l.ad).css(l.vo,l.ad),N.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(V))}static getCanvasActualSize(V,M,P){var T=S.getAutoLayoutVisualVCHeader(M,P),N=V.size;return{height:N.height+T,width:N.width}}static displayInActualSize(V,M,P,T,N,w,I=1){null!=V.canvasOptions.overrideSectionAlignment&&(w=V.canvasOptions.overrideSectionAlignment);var O=M.find(this.DisplayAreaNameSelector.selector),x=V.isCanvasBackdropVisible();V.canvasViewStyle=r.WZ.AbsoluteCenter;var j=V.viewModel.width*I,U=V.viewModel.height*I+N,F={width:x?h.u1:j,height:x?h.Pd:U};F.width>V.outerViewport.width?(V.canvasViewStyle|=r.WZ.ActualSizeAlignLeft,M.css(l.G6,l.xv)):(V.canvasViewStyle|=r.WZ.ActualSizeAlignCenter,M.css(l.G6,l.ad)),F.height>V.outerViewport.height?(V.canvasViewStyle|=r.WZ.ActualSizeAlignTop,M.css(l.vo,l.xv)):(V.canvasViewStyle|=r.WZ.ActualSizeAlignMiddle,M.css(l.vo,l.ad));var R=V.canvasViewStyle;this.positionElement(O,V.outerViewport,{width:R&r.WZ.ActualSizeAlignCenter?F.width:void 0,height:R&r.WZ.ActualSizeAlignMiddle?F.height:void 0},w,!0),V.canvasViewStyle|=R&r.WZ.ActualSizeAlignCenter&&R&r.WZ.ActualSizeAlignMiddle?r.WZ.ActualSizeCentered:r.WZ.ActualSizeOrigin,this.setElementSize(O,F),T.setDisplayAreaScaleFactor(I),T.setWallpaperScaleFactor(I),this.updateCanvasSize(V,j,U);var A=this.convertDisplayOptionToStyle(V);O.attr("class",this.DisplayAreaNameSelector.class+" "+A),x&&(u.Y.assertValue(P,"canvasBackdrop should exist (hasBackdrop() returned true)"),P.attr("class",this.CanvasBackdropSelector.class+" "+A))}static displayInActualSizeTopLeft(V,M,P,T){var N=M.find(this.DisplayAreaNameSelector.selector);V.canvasViewStyle=r.WZ.AbsoluteCenter,V.canvasViewStyle|=r.WZ.ActualSizeAlignLeft,V.canvasViewStyle|=r.WZ.ActualSizeAlignTop,V.canvasViewStyle|=r.WZ.ActualSizeOrigin,M.css(l.G6,V.viewModel.width>=V.outerViewport.width?l.xv:l.ad),M.css(l.vo,V.viewModel.height>=V.outerViewport.height?l.xv:l.ad),P.setDisplayAreaScaleFactor(1),P.setWallpaperScaleFactor(1);var w=V.viewModel.width,I=V.viewModel.height+T;N.css({width:w+"px",height:I+"px"}),this.updateCanvasSize(V,w,I),N.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(V))}static updateCanvasSize(V,M,P){var T={width:M,height:P};T.width>0&&T.height>0&&(V.size=T)}static updateAndApplyBackground(V,M,P,T,N,w,I,O,x,j,U,F,R){u.Y.assertValue(O,"promiseFactory");var K,q,ne,k,L,B=j.getConfig(),A=B.displayOptions.hideOutspaceFormatting,W=j.getMode()===m.nE.Edit&&!M.isCanvasBackdropVisible(),G=!!R.get();switch(V){case a.h.OutspaceBackground:ne=M.outspace=M.outspace||{},q="outspace",K=M.outspaceBackground,k=(0,t.KT)(),L=x.getCurrentLayoutCapabilities().canShowCanvasOutspace();break;case a.h.CanvasBackground:ne=M.background=M.background||{},q="background",K=M.canvasBackground,k=(0,t.Ml)(),L=x.getCurrentLayoutCapabilities().canShowCanvasBackground();break;default:u.Y.assertNever(V)}if(L){u.Y.assertValue(ne,"canvasDisplayUtil.updateAndApplyBackground - backgroundContract should exist.");var X=T&&T[q],Y=ne.image;G?(ne.color=t.lg,ne.transparency=0,ne.image=null):X?(ne.color=(0,g.a)(X,"color",t.lg),ne.transparency=(0,g._)(X,"transparency",t.IH),ne.image=X.image):this.setDefaultBackgroundProperties(ne,k);var Q=ne.image;Q?.name!==Y?.name&&M.backgroundImageChanging?.(V);var te=(0,E.lY)(M.viewModel.contract.objects,q,null),ee=te&&te.properties.image;ee&&(0,C.cd)(ee.url)?this.setImageFromPackage(M,K,ne,Q,ee.url,te,w,I,O,F,W,U,A,V,G):this.setImage(K,ne,Q,Q?Q.url:"",G,F,W,U,A,V,M)}else this.setDefaultBackgroundProperties(ne,k),this.setImage(K,k,null,"",G,F,W,U,A,V,M);V===a.h.CanvasBackground&&P.css(j&&B.displayOptions.extendBackgroundToWholeCanvas?{"background-color":(0,c.ND)(ne.color,(100-ne.transparency)/100)}:{"background-color":""})}static setDefaultBackgroundProperties(V,M){V.color=M.color,V.image=M.image,V.transparency=M.transparency}static setImage(V,M,P,T,N,w,I,O,x,j,U){var F=P&&P.scaling,R=N?1:(100-M.transparency)/100,B=P&&T||"";if(B!==(V.imageSource||"")&&(V.imageSource=B,U.backgroundImageChanged?.(j)),V.imageFitClass=F,V.imageStyle=F===p.hB.normal?{transform:"scale("+w.getWallpaperScaleFactor()+")"}:{},V.backgroundStyle||(V.backgroundStyle={}),V.backgroundStyle.opacity=R,V.backgroundStyle["background-color"]=x&&j===a.h.OutspaceBackground?"transparent":(0,c.ND)(M.color),j===a.h.CanvasBackground){var W=s.A.getThemeColor(O,"foregroundNeutralSecondary");V.displayAreaStyle||(V.displayAreaStyle={}),V.displayAreaStyle["box-shadow"]=x?"0 0 0":`0 0 10px rgba(200,200,200,${R})`,V.displayAreaStyle.outline=I&&R<=.5?`2px dotted ${W}`:"none",V.imageStyle=F===p.hB.normal?{transform:"scale("+w.getDisplayAreaScaleFactor()+")"}:{}}}static setImageFromPackage(V,M,P,T,N,w,I,O,x,j,U,F,R=!1,B,A){u.Y.assertValue(x,"promiseFactory");var W=O.getCurrentExploration();if(W){var G=V.viewModel.contract;(0,D.xq)(N,W.resourcePackages,I,x).then(K=>{var q=w.properties.image;G===V.viewModel.contract&&q&&(0,y.aI)(q.url,N)&&this.setImage(M,P,T,K.value||"",A,j,U,F,R,B,V)})}}static setDisplayAreaBackground(V,M,P){if(M&&M.outspace)V.canvasBackground.displayAreaStyle&&delete V.canvasBackground.displayAreaStyle["background-color"];else{V.canvasBackground.displayAreaStyle||(V.canvasBackground.displayAreaStyle={});var N=s.A.getThemeColor(P,"background");V.canvasBackground.displayAreaStyle["background-color"]=N}}static convertDisplayOptionToStyle(V){var M="";return V.useResponsiveLayout&&(M+=" responsive"),V.disableAnimations&&(M+=" disableAnimations"),(V.canvasViewStyle&r.WZ.FitToScreen)===r.WZ.FitToScreen&&(M+=" fitToScreen"),(V.canvasViewStyle&r.WZ.FitToPage)===r.WZ.FitToPage&&(M+=" fitToPage"),(V.canvasViewStyle&r.WZ.FitToWidthOrigin)===r.WZ.FitToWidthOrigin&&(M+=" fitToWidthOrigin"),(V.canvasViewStyle&r.WZ.FitToWidthCentered)===r.WZ.FitToWidthCentered&&(M+=" fitToWidthCentered"),(V.canvasViewStyle&r.WZ.ActualSizeAlignCenter)===r.WZ.ActualSizeAlignCenter&&(M+=" actualSizeAlignCenter"),(V.canvasViewStyle&r.WZ.ActualSizeAlignLeft)===r.WZ.ActualSizeAlignLeft&&(M+=" actualSizeAlignLeft"),(V.canvasViewStyle&r.WZ.ActualSizeAlignMiddle)===r.WZ.ActualSizeAlignMiddle&&(M+=" actualSizeAlignMiddle"),(V.canvasViewStyle&r.WZ.ActualSizeAlignTop)===r.WZ.ActualSizeAlignTop&&(M+=" actualSizeAlignTop"),(V.canvasViewStyle&r.WZ.ActualSizeCentered)===r.WZ.ActualSizeCentered&&(M+=" actualSizeCentered"),(V.canvasViewStyle&r.WZ.ActualSizeOrigin)===r.WZ.ActualSizeOrigin&&(M+=" actualSizeOrigin"),M.trim()}static getAutoLayoutVisualVCHeader(V,M){return M&&M.getCapabilities().visualContainerOptions.useStylableHeader||V&&V.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset()?0:h.OJ}static getCanvasOutlineSize(V,M){if(M.getMode()===m.nE.Edit){var P=V.background&&V.background.transparency;if(P&&P>=h.th)return h.Xy}return 0}static applyFitOption(V,M,P,T,N,w){if(V.viewModel&&V.viewModel.contract){var I=M.find(this.DisplayAreaContainerNameSelector.selector),O=this.findParentElement(M,this.ExploreCanvasSelector).find(this.CanvasBackdropSelector.selector),x=P.canvasScale.getDisplayOption();x!==o.td.FitToWidth&&(V.fitToWidthScrollPosition=void 0);var j=V.viewModel.contract.name,U=V.lastApplyFitContext;if(U&&(x!==U.displayOption||j!==U.sectionName)){var F=M.find(V.scrollableDivSelector);F?.[0]?.scrollTo({top:0,left:0,behavior:"instant"})}V.lastApplyFitContext={displayOption:x,sectionName:j};var R=this.getAutoLayoutVisualVCHeader(P.formFactor,P.explorationCapabilities);switch(x){case o.td.FitToWidth:this.fitToWidth(V,I,P.canvasScale,R,P.viewModeState,w,T);break;case o.td.FitToPage:this.fitToPage(V,I,P.canvasScale,P.viewModeState,R,T);break;case o.td.ActualSize:this.displayInActualSize(V,I,O,P.canvasScale,R,T,N);break;case o.td.ActualSizeTopLeft:this.displayInActualSizeTopLeft(V,I,P.canvasScale,R);break;default:this.fitToScreen(V,I,P.canvasScale,R)}P.eventBridge.publishToChannel(n.FZ1)}}static storeOverflowValuesAndChange(V,M){this.currentOverflowXCSSValue=V.css(l.G6),this.currentOverflowYCSSValue=V.css(l.vo),V.css(l.G6,M),V.css(l.vo,M)}static restoreOverflowValues(V){V.css(l.G6,this.currentOverflowXCSSValue),V.css(l.vo,this.currentOverflowYCSSValue)}static visualPositionToRect(V){return{left:V.x,top:V.y,width:V.width,height:V.height}}static rectToVisualPosition(V){return{x:V.left,y:V.top,width:V.width,height:V.height}}static isCortanaPageSize(V){return!1}}return S.DisplayAreaNameSelector=(0,l.tI)("displayArea"),S.DisplayAreaContainerNameSelector=(0,l.tI)("displayAreaContainer"),S.VisualContainerHostSelector=(0,l.tI)("visualContainerHost"),S.OutspaceContainerSelector=(0,l.tI)("outspaceContainer"),S.OutspaceImageSelector=(0,l.tI)("outspaceImage"),S.VisualBackgroundContainerSelector=(0,l.tI)("visualBackgroundContainer"),S.VisualBackgroundImageSelector=(0,l.tI)("visualBackgroundImage"),S.DefaultVisualPosition={x:100,y:100,width:300,height:300},S.CanvasBackdropSelector=(0,l.tI)("canvasBackdrop"),S.ExploreCanvasSelector=(0,l.tI)("exploreCanvas"),S.currentOverflowXCSSValue="",S.currentOverflowYCSSValue="",S})()},7569:function(ve,z,e){e.d(z,{Co:function(){return o},UU:function(){return t},lU:function(){return d},nZ:function(){return n},wd:function(){return c}});var a=e(620825),i=e(999904),r=e(190936);function t(s,p,l){var u=l&&l[s],v=r.wv;if(u)return u.hasOwnProperty(v)&&!u[v];var m=(0,i._W)(p,{objectName:s,propertyName:v},null);return void 0!==m&&(0,a.VO)(m)&&!m.value}function o(s,p,l){var u={x:s.x*p.x,y:s.y*p.y,z:s.z,width:s.width*p.x,height:s.height*p.y,angle:s.angle,tabOrder:s.tabOrder};if(!0===l){var v=Math.round(u.x),m=Math.round(u.y),g=Math.round(u.x+u.width),E=Math.round(u.y+u.height);u={x:v,y:m,z:u.z,width:g-v,height:E-m,angle:s.angle,tabOrder:s.tabOrder}}return u}function d(s,p){return{x:s.x/p.x,y:s.y/p.y,z:s.z,width:s.width/p.x,height:s.height/p.y,angle:s.angle,tabOrder:s.tabOrder}}function n(s,p){return{left:s.left*p.x,top:s.top*p.y,width:s.width*p.x,height:s.height*p.y}}function c(s,p){return{left:s.left/p.x,top:s.top/p.y,width:s.width/p.x,height:s.height/p.y}}},707705:function(ve,z,e){e.d(z,{Cq:function(){return k},E7:function(){return He},E9:function(){return ye},G7:function(){return K},GN:function(){return P},GT:function(){return O},In:function(){return j},MK:function(){return B},ND:function(){return R},Pl:function(){return F},XT:function(){return T},YS:function(){return te},_p:function(){return I},bF:function(){return A},cy:function(){return Q},j3:function(){return Oe},nl:function(){return w},oq:function(){return we},pw:function(){return We},t0:function(){return Fe},tO:function(){return Y},tf:function(){return Ee},uF:function(){return N}});var a=e(233390),i=e(316051),r=e(930845),t=e(989917),o=e(576086),d=e(960179),n=e(71712),c=e(487859),s=e(483378),p=e(222055),l=e(426544),u=e(387797),v=e(408509),m=e(482193),g=e(579260),E=e(18122),D=e(761297),h=e(495123),C=e(999904),y=e(95006),f=e(974189),S=e(831778),b=e(165648),V=e(453957),M="root";function P(he,xe){var Se=s.qN.getSelectedCanvasItems(xe);return N(he.visualContainerGroups,Se)}function T(he,xe){for(var Se of he)if(Se.contract===xe)return Se}function N(he,xe){var Se={};for(var Ae of xe)Se[Ae.name]=!0;var Ie=[];(0,b.Uu)(he,pe=>{Se[pe.name]&&Ie.push(pe)});var Je=pe=>_.findIndex(xe,Pe=>Pe.name===pe.name);return Ie.sort((pe,Pe)=>Je(pe)-Je(Pe)),Ie}function w(he,xe){E.Y.assert(()=>he.length===xe.length,"lists of viewModels and contracts should be the same length");var Se=function(Ie){var Je=(0,m.I6)(Ie.name,xe);if(!Je)return E.Y.assertValue(Je,"contract with the same name should exist"),1;(0,b.tx)(Ie)&&(0,n.tx)(Je)&&(Ie.contract!==Je&&(E.Y.assert(()=>Ie.contract.name===Je.name,"should be the same contract with same name"),Ie.contract=Je),w(Ie.children,Je.children))};for(var Ae of he)Se(Ae)}function I(he,xe){if(xe.parentGroup)for(var Se=xe.parentGroup;Se;){var Ae=Se.position;he.left+=Ae.x,he.top+=Ae.y,Se=Se.parentGroup}return he}function O(he){var xe=0;if(_.isEmpty(he))return xe;if(he[0].parentGroup)for(var Se=he[0].parentGroup;Se;)xe++,Se=Se.parentGroup;return x(he,xe)}function x(he,xe){var Se=++xe;for(var Ae of he)(0,n.tx)(Ae)&&(Se=Math.max(x(Ae.children,xe),Se));return Se}function j(he,xe,Se,Ae,Ie){Ae.hideAllDropdowns(),(0,V.o)(he);var Je=h.C.isCtrlOrMeta(he),pe=s.qN.isCanvasItemSelected(xe.contract,Se);if(Je&&pe&&s.qN.getSelectedCanvasItems(Se).length>1)s.qN.unselectCanvasItem(xe.contract,Se);else{if(!Ie){var Pe=R(xe);return Pe.parentGroup&&Pe.parentGroup.isSelected&&s.qN.unselectCanvasItem(Pe.parentGroup.contract,Se),s.qN.selectCanvasItem(Pe.contract,Se,(0,h.t)(he)),void function(he,xe){return $(he).parents(`[name="${xe}"]:first`)[0]}(he.currentTarget,Pe.contract.name)?.focus()}s.qN.selectCanvasItem(xe.contract,Se,(0,h.t)(he))}}function F(he,xe,Se){if(he.parentGroup)if(xe){var Ie=R(he);Ie!==he&&(0,u.Ji)(xe,Ie.name,Se)}else for(var Ae=he.parentGroup;Ae;)(0,u.Ji)(xe,Ae.name,Se),Ae=Ae.parentGroup}function R(he,xe=!1){for(var Se=he.parentGroup,Ae=he;Se;){if(Se.isSelected||Se.isChildSelected){xe&&Se.isSelected&&(Ae=Se);break}Ae=Se,Se=Se.parentGroup}return Ae}function B(he,xe){s.qN.isCanvasItemSelected(he,xe)||s.qN.selectCanvasItem(he,xe)}function A(he,xe,Se,Ae=!0){var Ie=[];return L(xe.getSelectedElements(),Ae,pe=>{if((0,n.tx)(pe))Ie.push(he.serializeVisualContainerGroup(pe));else{var Pe=function(he,xe){return he.filters?function(he,xe){var Se=(0,g.cd)(he.filters,Ae=>function(he,xe){var Se=he.filter;if((he.type===t.RJ.Include||he.type===t.RJ.Exclude)&&Se){var Ae=Se.rewrite(xe);if(Ae!==Se)return(0,D.IL)(he,Ie=>Ie.filter=Ae)}return he}(Ae,xe));return Se!==he.filters?(0,D.IL)(he,Ae=>Ae.filters=Se):he}(he,new l.C(xe)):he}(pe,Se);Ie.push(he.serializeVisualContainer(Pe))}}),Ie}function K(he,xe,Se,Ae,Ie,Je){var pe=he.objects,Pe=Ie.getVisualObjects(Ae,Se,void 0,xe);Pe&&(pe=(0,C.o8)(pe||{}),(0,C.X$)(pe,Pe));var Me=Ie.getVisualStyle(Ae),Ge=(0,y.Mo)(pe,xe,Me,Je.featureSwitches);he.evaluatedObjects=Ge.dataViewObjects}function k(he,xe,Se=!0){var Ae={};return L(he.getSelectedElements(),Se,pe=>(pe=>{(0,n.iA)(pe)&&(0,p.Uy)(pe.config.singleVisual.objects,void 0,xe,Ae)})(pe)),Ae}function L(he,xe,Se){if(!_.isEmpty(he)){var Ae=xe&&[];for(var Ie of he){var Je=Ie.canvasItem;Je&&(xe&&(0,n.tx)(Je)?Ae.push(Je):Se(Je))}xe&&!_.isEmpty(Ae)&&(0,n.Uu)(Ae,pe=>Se(pe))}}function Y(he,xe,Se,Ae,Ie,Je,pe,Pe,Me,Ge){return _.first(Q([he],xe,Se,Ae,Ie,Je,pe,Pe,Me,Ge))}function Q(he,xe,Se,Ae,Ie,Je,pe,Pe,Me,Ge){if(he){var De={},lt=!!pe,ct=Se.size,vt=Ge?Se.visualContainerGroups:Se.visualContainers,Vt=_.flatMap(xe.sections,re=>Ge?re.visualContainerGroups:re.visualContainers),It=[],Ot=Ie.getCurrentLayout();(0,n.Uu)(vt,re=>{if(null==re.parentGroup){var fe=re.layouts.withId(Ot);It.push(fe.position)}}),(0,n.Uu)(Vt,re=>{De[re.name]=!0});var de=Ae.deserializeCanvasItems(he,!0,Ge,()=>{var re=(0,u.E5)(De);return E.Y.assert(()=>!De[re],"New name already exists"),De[re]=!0,re});if(de){var{visualContainerGroups:Ze,visualContainers:Ye}=de,qe=function(he,xe,Se,Ae){var Ie=We(he,xe),Je=_.orderBy(Se,pe=>pe.config.layouts[xe].position.z,["asc"]);return Je.reduce((pe,Pe)=>{var{name:Me,parentGroupName:Ge}=Pe.config,De=!!Ge;return{...pe,[Me]:De&&Ae?null:Ie++}},{})}(vt,Ot,he,Ge),ut=function(he,xe,Se){var Ae=function(he,xe){var Se=0,Ae=0;if(_.isEmpty(he))return{pos:Se,neg:Ae};for(var Ie of he){var Je=Ie.layouts.withId(xe),pe=Je&&Je.position,Pe=pe&&null!=pe.tabOrder?pe.tabOrder:void 0;null!=Pe&&(Se=Math.max(Se,Pe),Ae=Math.min(Ae,Pe))}return{pos:Se+1,neg:Ae-1}}(he,xe),Ie=_.orderBy(Se,Je=>Je.config.layouts[xe].position.tabOrder,["asc"]);return Ie.reduce((Je,pe)=>{var{name:Pe,layouts:Me}=pe.config,De=Me[xe].position,lt=De.tabOrder>=0;return{...Je,[Pe]:null!=De.tabOrder?lt?Ae.pos++:Ae.neg--:null}},{})}(Se.visualContainers,Ot,he),et=(0,g.mq)(),le=[],me=re=>{var{layouts:fe,parentGroup:ae,prevName:tt}=re,ot=null!=ae,rt=fe.withId(Ot),Re=rt.position;if(E.Y.assert(()=>Ge||(0,n.iA)(re),"Should not be processing groups when grouping is disabled"),(!ot||!Ge)&&(tt&&!_.isNil(qe[tt])&&(Re.z=qe[tt]),le.push(re)),tt&&!_.isNil(ut[tt])&&null!=Re.tabOrder&&(0,n.iA)(re)&&(Re.tabOrder=ut[tt]),!ot){for(;2!==H(Re,ct)&&Te(Re,It);)Re.x+=10,Re.y+=10;It.push(Re)}if(re.layouts=(0,g.u_)([rt]),lt&&(0,n.iA)(re)){var J=(0,S.dv)(xe,Se,re,Ot);et.push(J)}};if(Ge)(0,n.Uu)(Ze,re=>me(re));else for(var Be of Ye)me(Be);if(Se.visualContainers.push(...Ye||[]),lt&&pe.visualContainers.push(...et||[]),Ge){if(Se.visualContainerGroups=(0,m.WQ)(Se.visualContainerGroups,...Ze||[]),lt){var Ke=(0,S.X8)(Ze,et,Ot);pe.visualContainerGroups=(0,m.WQ)(pe.visualContainerGroups,...Ke||[])}}else Se.visualContainerGroups=(0,m.WQ)(Se.visualContainerGroups,...Ye||[]),lt&&(pe.visualContainerGroups=(0,m.WQ)(pe.visualContainerGroups,...et||[]));if(Je.publishVisualContainerAddedEvent(),Pe&&s.qN.selectCanvasItems(le,Pe,!0),Me)for(var Xe of le)(0,n.iA)(Xe)&&Me.applyFilterOutput(Xe);return le}}}function H(he,xe){var Se=xe.width||0,Ae=xe.height||0,Ie=0;return he.x+he.width>Se&&(he.x=Math.max(Se-he.width,0),Ie++),he.y+he.height>Ae&&(he.y=Math.max(Ae-he.height,0),Ie++),Ie}function te(he,xe,Se,Ae,Ie,Je){return ee.apply(this,arguments)}function ee(){return(ee=(0,a.A)(function*(he,xe,Se,Ae,Ie,Je){var pe;return pe=he.expr?yield Ie.addVisualContainer({expr:he.expr,visualType:he.visualType,targetRole:he.targetRole,dataSources:Ae,allowAggregate:he.allowAggregate??!0,shouldSummarize:he.shouldSummarize,startAuthoringAfterAddition:he.startAuthoringAfterAddition},xe,Se):Ie.addEmptyVisualContainer(xe,Se,he.visualType,he.position,he.shouldSummarize,void 0,void 0,he.startAuthoringAfterAddition),Je.logEvent(f.SUp,{source:ue(he.telemetrySource),visualType:(0,v.d)(pe),visualName:pe.name}),pe})).apply(this,arguments)}function ue(he){switch(he){case d.V0.CheckboxTickedInFieldList:return o.S_.CheckboxTickedInFieldList;case d.V0.DraggedToFieldWell:return o.S_.DraggedToFieldWell;case d.V0.DraggedToCanvas:return o.S_.DraggedToCanvas;case d.V0.VisualTypeIconClicked:return o.S_.VisualTypeIconClicked;case d.V0.InsertVisualButton:return o.S_.InsertVisualButton;case d.V0.WhatIfParameterControl:return o.S_.WhatIfParameterControl;case d.V0.QnaAppBar:return o.S_.QnaAppBar;case d.V0.QnaDoubleClick:return o.S_.QnaDoubleClick;case d.V0.QnaKeyboardShortcut:return o.S_.QnaKeyboardShortcut;case d.V0.FieldParameterControl:return o.S_.FieldParameterControl;case d.V0.CanvasBackgroundContextMenu:return o.S_.CanvasBackgroundContextMenu;case d.V0.AssistedCreation:return o.S_.AssistedCreation;case d.V0.Copilot:return o.S_.Copilot;default:E.Y.assertFail("Unexpected enum value, update the VisualCreationSource to visualcontainer.VisualCreationType mapping")}}function Te(he,xe){return E.Y.assertValue(he,"position"),_.some(xe,Se=>he.x===Se.x&&he.y===Se.y)}function He(he,xe,Se){return{height:0,width:0,x:0,y:0,z:We(he,xe),tabOrder:Qe(Se,!0,xe)}}function We(he,xe){return _.isEmpty(he)?0:_.chain(he).map(Ae=>{var Ie=Ae.layouts.withId(xe),Je=Ie&&Ie.position;return Je&&Je.z||0}).max().value()+1}function Qe(he,xe,Se){if(!he||_.isEmpty(he.visualContainers))return 0;var Ae=xe?c.vx:c.Hr;return _.forEach(he.visualContainers,Ie=>{var Je=Ie.layouts.withId(Se),pe=Je&&Je.position;if(pe&&pe.tabOrder){var Pe=pe.tabOrder;Ae=xe?Math.max(Ae,Pe):Math.min(Ae,Pe)}}),Ae+(xe?1:-1)}function Fe(he,xe,Se){for(var Ae=0,Ie=0,Je=0,pe=0,Pe=null,Me=0,Ge=0,De=Se.length;Ge<De;Ge++){Me=Ge;var lt=Se[Ge];if(lt===he){var ct=lt.parentGroup,vt=ct&&ct.layouts.withId(xe);ct=vt?ct:void 0,Pe=(0,u.Ui)(ye(lt,xe),xe,ct);break}}if(Pe){for(var Vt of(Se.splice(Me,1),Se)){var It=Vt.parentGroup,Ot=It&&It.layouts.withId(xe);It=Ot?It:void 0;var de=(0,u.Ui)(ye(Vt,xe),xe,It),Ze=Pe.x-de.x;Ae=Ae<Ze?Ze:Ae,Ie=Ie<(Ze=de.y+de.height-(Pe.y+Pe.height))?Ze:Ie,Je=Je<(Ze=Pe.y-de.y)?Ze:Je,pe=pe<(Ze=de.x+de.width-(Pe.x+Pe.width))?Ze:pe}return{top:0-(Je>0?Je/Pe.height:0),left:0-(Ae>0?Ae/Pe.width:0),bottom:1+(Ie>0?Ie/Pe.height:0),right:1+(pe>0?pe/Pe.width:0)}}}function ye(he,xe){var Se=he.layouts.withId(xe);return E.Y.assertValue(Se,"Can't find a visual layout for the current form factor."),Se&&Se.position}function we(he){var xe=s.qN.getSelectedCanvasItems(he),Se={};for(var Ae of xe){var Ie=Ae.parentGroup?Ae.parentGroup.name:M;Se[Ie]=Se[Ie]||[],Se[Ie].push(Ae)}return Se}function Ee(he,xe){return _.filter(he,Ae=>{var Ie=ye(Ae,i.v.Master).tabOrder;return xe?void 0===Ie||Ie>=0:Ie&&Ie<0})}function Oe(he){var xe=he.getCurrentSection();return xe&&xe.evaluatedObjects&&xe.evaluatedObjects.outspacePane&&xe.evaluatedObjects.outspacePane.width||r.Mw}},662919:function(ve,z,e){e.d(z,{$7:function(){return D},$l:function(){return g},DH:function(){return u},Kv:function(){return v},XK:function(){return E},cU:function(){return c},cy:function(){return l},kG:function(){return m},oA:function(){return p},oK:function(){return s}});var a=e(81825),i=e(994131),r=e(18122),t=e(431066),o=e(178748),d=e(757406),n=e(889953);function c(h){return{solid:{color:s(h,(0,i.Rc)())}}}function s(h,C){r.Y.assertValue(C,"gradientSettings");var f,b,V,y={color:(0,d.yW)(C.minColor,"minColor")},S=C.minValue;if(null!=S&&(f=(0,d.gd)(S)),C.diverging){b={color:(0,d.yW)(C.midColor,"midColor")};var M=C.midValue;null!=M&&(V=(0,d.gd)(M))}var T,P={color:(0,d.yW)(C.maxColor,"maxColor")},N=C.maxValue;null!=N&&(T=(0,d.gd)(N));var x,w=C.nullStrategy,I=C.nullColor,O={};return x=C.diverging?O.linearGradient3={min:y,mid:b,max:P}:O.linearGradient2={min:y,max:P},f&&(x.min.value=f),V&&(x.mid.value=V),T&&(x.max.value=T),w&&(x.nullColoringStrategy={strategy:(0,d.Qq)(w)},w===n.iQ&&(x.nullColoringStrategy.color=(0,d.yW)(I,"nullColor"))),(0,d.Kf)(h,O)}function p(h,C,y){var f;switch(y){case a.rY.Number:f={condition:(0,d.UD)(a.mq.LessThan,h,(0,d.gd)(0)),value:(0,d.Qq)(C)};break;case a.rY.Text:f={condition:(0,d.UD)(a.mq.Equal,h,(0,d.Qq)("")),value:(0,d.Qq)(C)};break;default:r.Y.assertNever(y)}return{solid:{color:(0,d.Jr)([f])}}}var l="CircleHigh",u=t.a.Before,v=t.v.Top;function m(h,C=a.rY.Number){switch(C){case a.rY.Number:return{kind:o.P.Icon,value:(0,d.Jr)([g(h,67,100,!0,(0,d.Qq)("CircleHigh")),g(h,33,67,!1,(0,d.Qq)("SignMedium")),g(h,0,33,!1,(0,d.Qq)("SignLow"))]),layout:(0,d.Qq)(u),verticalAlignment:(0,d.Qq)(v)};case a.rY.Text:return{kind:o.P.Icon,value:(0,d.Jr)([E(h,(0,d.Qq)("CircleHigh")),E(h,(0,d.Qq)("SignMedium")),E(h,(0,d.Qq)("SignLow"))]),layout:(0,d.Qq)(u),verticalAlignment:(0,d.Qq)(v)};default:r.Y.assertNever(C)}}function g(h,C,y,f,S){var b,V;return C>0&&(b=(0,d.UD)(a.mq.GreaterThanOrEqual,h,d.KW.overRangeOf(h,C/100))),y<100&&(V=(0,d.UD)(f?a.mq.LessThanOrEqual:a.mq.LessThan,h,d.KW.overRangeOf(h,y/100))),{condition:b&&V?(0,d.Uo)(b,V):b||V,value:S}}function E(h,C){return{condition:(0,d.UD)(a.mq.Equal,h,(0,d.Qq)("")),value:C}}function D(h,C,y,f,S){var b,V;return null!==C&&(b=(0,d.UD)(a.mq.GreaterThanOrEqual,h,(0,d.gd)(C))),null!==y&&(V=(0,d.UD)(f?a.mq.LessThanOrEqual:a.mq.LessThan,h,(0,d.gd)(y))),{condition:b&&V?(0,d.Uo)(b,V):b||V,value:S}}},633264:function(ve,z,e){e.d(z,{KE:function(){return u},Pf:function(){return m},cm:function(){return g},eS:function(){return D},ue:function(){return l}});var a=e(293444),i=e(290408),r=e(647132),t=e(18122),o=e(747767),d=e(545414),n=e(757406),c=e(985503),s=e(337965),p={totalMatchingOption:o._.InstancesOnly,reverseDirection:!1,hideText:!1};function l(C,y){return t.Y.assertValue(C,"visual"),t.Y.assertValue(y,"repetition"),u(E(C.objects,y))}function u(C){if(!C)return p;var y,f=C.minValue;f&&(y=f.value);var S,b=C.maxValue;b&&(S=b.value);var V=o._.InstancesOnly,M=C.totalMatchingOption;return M&&(V=M.value),{minValue:y,maxValue:S,positiveColor:v(C.positiveColor),negativeColor:v(C.negativeColor),axisColor:v(C.axisColor),reverseDirection:C.reverseDirection.value,hideText:C.hideText.value,totalMatchingOption:V}}function v(C){var y=C.solid.color;return(0,r.Lo)(y.value)?{solid:{color:y.value}}:null}function m(){return g(p,s.eV.fromPrimitiveTypeAndCategory(a.W.None))}function g(C,y){var f,S,b;return t.Y.assertValue(C,"dataBars"),t.Y.assertValue(y,"valueType"),void 0!==C.minValue&&(f=h(C.minValue,y)),void 0!==C.maxValue&&(S=h(C.maxValue,y)),void 0!==C.totalMatchingOption&&(b=(0,n.nd)(C.totalMatchingOption)),{minValue:f,maxValue:S,positiveColor:(0,c.GG)(C.positiveColor&&C.positiveColor.solid.color,"maxColor"),negativeColor:(0,c.GG)(C.negativeColor&&C.negativeColor.solid.color,"minColor"),axisColor:(0,c.GG)(C.axisColor&&C.axisColor.solid.color,"foreground"),reverseDirection:(0,n.zM)(C.reverseDirection),hideText:(0,n.zM)(C.hideText),totalMatchingOption:b}}function E(C,y){return t.Y.assertValue(y,"objectRepetition"),(0,i.Ao)(C,y)}function D(C,y){return t.Y.assertValue(y,"objectRepetition"),void 0!==E(C,y)}function h(C,y){if(t.Y.assert(()=>y.integer||y.numeric,"databars only supports numeric SQExprs"),y.integer){var f=Math.round(C);return(0,n.nd)(f)}return y.primitiveType===a.W.Decimal?(0,n._)(C):(t.Y.assert(()=>y.extendedType===d.K.Double,"Unexpected data type."),(0,n.gd)(C))}},671905:function(ve,z,e){e.d(z,{x:function(){return a}});var a=function(i){return i.Field="field",i.Filter="filter",i.Bookmark="bookmark",i.Sections="sections",i.VisualContainer="visualContainer",i.VisualContainerThumbnail="visual-container-thumbnail",i}({})},418626:function(ve,z,e){e.d(z,{c:function(){return i},h:function(){return a}});var a=function(r){return r[r.OutspaceBackground=1]="OutspaceBackground",r[r.CanvasBackground=2]="CanvasBackground",r}({}),i=function(r){return r[r.X=0]="X",r[r.Y=1]="Y",r}({})},686040:function(ve,z,e){e.d(z,{BI:function(){return o},E3:function(){return r},kY:function(){return d},tk:function(){return t}});var a=e(360010),i={BlockedCustomVisual:a.N.Blocked,ScriptVisualsNotEnabled:a.N.Blocked,UnapprovedCustomVisual:a.N.Blocked,CvApiVersionNotSupported:a.N.Blocked,AzureMapUserNotSignedIn:a.N.Blocked,AzureMapNoEndpoint:a.N.Blocked,AzureMapDisabledLocalCache:a.N.Blocked,AzureMapVisualRegionalDataProcessingConsentNotEnabled:a.N.Blocked,AzureMapVisualAutoConversionNotAllowed:a.N.Blocked,CalculationGroupApplyToSparklineTextError:a.N.HelpLinkOnly};function r(n){if(!n)return!1;var c=n.displayableErrorInfo;return!_.isEmpty(c)&&!_.isEmpty(c[0].errorInfoKey)&&!_.isEmpty(c[0].errorInfoValue)}function t(n){return n in i?i[n]:a.N.Error}function o(n){var c=t(n);return c===a.N.Blocked||c===a.N.HelpLinkOnly}function d(n,c){var s=[],p=n.message,l=c;if(r(n)&&(l=n.displayableErrorInfo[0].errorInfoKey,p=n.displayableErrorInfo[0].errorInfoValue,n.displayableErrorInfo.length>1))for(var u=1;u<n.displayableErrorInfo.length;u++)s.push(n.displayableErrorInfo[u]);return{title:l,message:p,displayableErrorInfo:s,debugErrorInfo:n.debugErrorInfo,source:n.source,hideErrorHelperText:n.hideErrorHelperText}}},453957:function(ve,z,e){function a(r){if(r){var d=(r.originalEvent??r).handled;return void 0!==d&&!0===d}}function i(r){r&&((r.originalEvent??r).handled=!0)}e.d(z,{R:function(){return a},o:function(){return i}})},531898:function(ve,z,e){e.d(z,{Il:function(){return p},TE:function(){return c},_h:function(){return v},iu:function(){return s},sJ:function(){return u},uE:function(){return l}});var a=e(989917),i=e(576086),r=e(960179),t=e(18122),o=e(693029),d=e(5371),n=e(974189);function c(m,g,E,D){var h=_.filter(E.filters,C=>C.howCreated===i.GS.Drillthrough);m.logChildEvent(D&&D.event,n.Nw5,{type:g,countOfCurrentPageDrillthroughFilters:h.length})}function s(m){var g;switch(m&&(g=m.kind),g){case d.Ez.Entity:return n.LZv.Entity;case d.Ez.ColumnRef:return n.LZv.ColumnRef;case d.Ez.MeasureRef:return n.LZv.MeasureRef;case d.Ez.Aggregation:return n.LZv.Aggregation;case d.Ez.PropertyVariationSource:return n.LZv.PropertyVariationSource;case d.Ez.Hierarchy:return n.LZv.Hierarchy;case d.Ez.HierarchyLevel:return n.LZv.HierarchyLevel;case d.Ez.SparklineData:return n.LZv.Sparkline;case d.Ez.NativeVisualCalc:return n.LZv.VisualCalculation;default:return n.LZv.Other}}function p(m){switch(m){case a.RJ.Advanced:return n.RJ5.Advanced;case a.RJ.Categorical:return n.RJ5.Categorical;case a.RJ.Passthrough:return n.RJ5.Passthrough;case a.RJ.Range:return n.RJ5.Range;case a.RJ.Visual:return n.RJ5.Visual;case a.RJ.VisualTopN:return n.RJ5.VisualTopN;default:t.Y.assert(()=>!0,"unknown filterType "+m)}}function l(m){switch(m){case r.$d.Exploration:return n.$d8.Exploration;case r.$d.Section:return n.$d8.Section;case r.$d.Visual:return n.$d8.Visual;default:t.Y.assert(()=>!0,"unknown filterScopeType "+m)}}function u(m){switch(m){case o.nE.View:return n.nE9.View;case o.nE.Edit:return n.nE9.Edit}}function v(m){switch(m){case i.r3.Ascending:return n.r3e.Ascending;case i.r3.Descending:return n.r3e.Descending;case i.r3.Custom:return n.r3e.Custom}}},695949:function(ve,z,e){e.d(z,{A6:function(){return C},O0:function(){return V},O4:function(){return b},P:function(){return N},Rl:function(){return g},U2:function(){return f},VT:function(){return P},jC:function(){return D},oD:function(){return j},tA:function(){return T},w:function(){return E},xA:function(){return x}});var a=e(233390),i=e(576086),r=e(960179),t=e(700280),o=e(483378),d=e(850990),n=e(495549),c=e(534608),s=e(387797),p=e(796653),l=e(18122),u=e(454840),v=e(831778),m=e(601331);function g(U,F,R,B,A,W){if(U.scope.scopeType===r.$d.Exploration&&(l.Y.assertValue(R,"no exploration on report filter change"),(0,s.kW)(R)),U.changeType===r.ih.Add||U.changeType===r.ih.Update&&!function(U,F){for(var R of F)if(R.contract===U)return!0;return!1}(U.filter,F)){var G=(0,s.p6)(W,B.visualPlugin),K=(0,m.dm)(U.filter,A,B.displayNameService,U.scope,B.visualPlugin,B.aggrOps,B.localizationService,G,W&&W.config.singleVisual);b(K,B.explorationNavigation),U.scope.scopeType===r.$d.Visual&&U.scope.container!==W||(F.push(K),f(F,A,B.dataSources,B.visualAuthoring))}else U.changeType===r.ih.Remove&&_.remove(F,q=>q.contract===U.filter);!function(U,F){var R=U.explorationNavigation,B=R.getCurrentExploration(),A=R.getCurrentSection(),W=F.scope.scopeType,G=o.qN.getSelectedVisual(U.selection),K=(0,c.CX)(W,B,A,G,U.scriptVisuals);if(!_.isEmpty(K)){var q=F.changeType.toString();U.telemetryService.logChildEvent(F.parentActivity&&F.parentActivity.event,p.Dp,{action:q,visualIds:JSON.stringify(K)})}}(B,U)}function E(U,F,R,B,A,W,G,K,q){return U.displayName?U.displayName:(0,m.dm)(U,R,A,F,G,B,W,K,q).displayName}function D(U,F){return h.apply(this,arguments)}function h(){return(h=(0,a.A)(function*(U,F){var R=U.explorationNavigation.getCurrentSection(),B=[];if(!R)return B;var A=yield C(U.dataSources,U.conceptualSchemaProxy);return f(B=(0,v.EL)({scopeType:r.$d.Section,container:R},A,U.displayNameService,U.visualPlugin,U.aggrOps,U.localizationService,null,F),A,U.dataSources,U.visualAuthoring,!1),function(U,F){if(!_.isEmpty(U))for(var R of U)b(R,F)}(B,U.explorationNavigation),B})).apply(this,arguments)}function C(U,F){return y.apply(this,arguments)}function y(){return(y=(0,a.A)(function*(U,F){var R=U.get();if(R)return yield F.get(R)})).apply(this,arguments)}function f(U,F,R,B,A=!0){if(!_.isEmpty(U)){var W=R.get();B.addConfigToCategoricalFilters(U,F,W,A)}}function b(U,F){var R=F.getCurrentExploration(),B=F.getCurrentSection();if(B){var A=(0,n.AJ)(R,B.name);if(A&&!_.isEmpty(A.parameters)){var W=_.find(A.parameters,G=>G.boundFilter===U.contract.name);W&&U.updateIsLinkedAsAggregation(!!W.asAggregation)}}}function V(U,F,R,B,A,W,G,K){return M.apply(this,arguments)}function M(){return(M=(0,a.A)(function*(U,F,R,B,A,W,G,K){if(A){var q={scopeType:U,container:F},ne=B.get();return R?yield W.addDrillthroughFilter(A,q,ne,G):yield W.addFilter(A,q,ne,K)}})).apply(this,arguments)}function P(U,F,R,B,A,W){var G=_.find(R.filters,q=>q.name===U);return!!G&&B.removeFilter(G,{scopeType:F,container:R},A,W)}function T(U,F,R,B){if(!_.isEmpty(R)&&(B.changeType===r.ih.Clear||B.changeType===r.ih.Add||B.changeType===r.ih.Update||B.changeType===r.ih.Remove)){var A=I(B.scope.scopeType,B.filter.howCreated===i.GS.Drillthrough);for(var W of R)if(!(A<I(F,W.howCreated===i.GS.Drillthrough))&&d.M.isCategoricalFilter(W.contract.type)&&W.contract!==B.filter){var K={filter:W.contract,changeType:r.ih.RefreshData,scope:W.getFilterContainerScope(),parentActivity:B.parentActivity};U.eventBridge.publishToChannel(t.gsd,K)}}}function N(U,F,R){if(!F||/^\s*$/.test(F))return!1;var B=U.contract.displayName||U.displayName;return _.isEmpty(B)&&(B=U.getRestatement()),!(0,u.Gt)(B,F)}function I(U,F){return U===r.$d.Visual?0:U!==r.$d.Section||F?U===r.$d.Section?2:U===r.$d.Exploration?3:-1:1}function x(U,F=i.r3.Ascending,R=!0){if(!_.isEmpty(U))switch(F){case i.r3.Ascending:U.sort(v.Vj);break;case i.r3.Descending:U.sort(v.Vj).reverse();break;case i.r3.Custom:R&&U.sort(v.p$)}}function j(U,F,R){if(_.isEmpty(U))return[];var[B,A]=null==R?[[],U]:_.partition(U,W=>R(W));return x(A,F),x(B,F,!1),_.concat(A,B).map(W=>W.contract)}},330854:function(ve,z,e){function a(i){var r=$(document.activeElement);return r.is(i)||r.closest(i).length>0}e.d(z,{I:function(){return a}})},447624:function(ve,z,e){e.d(z,{E6:function(){return v},L7:function(){return s},Tp:function(){return l},W9:function(){return p},xG:function(){return c}});var a=e(930845),i=e(576086),r=e(137937),t=e(495549),o=e(358719),d=e(469967),n=e(967802),c={[r.m.Dynamic]:{displayOption:i.td.Dynamic,width:a.Im,height:a.lC},[r.m.Standard]:{displayOption:i.td.FitToPage,width:a.Im,height:a.lC},[r.m.Widescreen]:{displayOption:i.td.FitToPage,width:a.V5,height:a.Wn},[r.m.Cortana]:{displayOption:i.td.ActualSize,width:a.ED,height:a.DA},[r.m.Letter]:{displayOption:i.td.FitToPage,width:a.o6,height:a.n5},[r.m.Tooltip]:{displayOption:i.td.FitToPage,width:a.p1,height:a.EK},[r.m.Custom]:{displayOption:i.td.ActualSize,width:a.Im,height:a.lC}};function s(g,E){var D=[];for(var h of g)D.push({...h,value:`${h.value}`,displayName:(0,d.Mn)(h.displayName,E),label:h.label?(0,d.Mn)(h.label,E):null});return D}function p(g=!1){var E=(0,o.W9)(g),D=[];for(var h of E)D.push({displayName:h.title,value:h.value.toString()});return D}function l(g,E){return function(g,E,D){if(g.displayOption===i.td.Dynamic)return r.m.Dynamic;if(g.width===a.Im&&g.height===a.lC)return r.m.Standard;if(g.width===a.V5&&g.height===a.Wn)return r.m.Widescreen;if(n.L.isCortanaPageSize(g)){var h=(0,t.gm)(E,D.name);return-1!==h&&E.pods[h].cortanaEnabled?r.m.Cortana:r.m.Custom}return g.width===a.o6&&g.height===a.n5?r.m.Letter:function(g){return g.width===a.p1&&g.height===a.EK}(g)?r.m.Tooltip:r.m.Custom}(g,E.getCurrentExploration(),E.getCurrentSection())}function v(g){return c[g]}},770414:function(ve,z,e){e.d(z,{UC:function(){return d},fC:function(){return o},tq:function(){return n}});var a=e(620825),i=e(387797),r=function(c){return c.Categorical="Categorical",c.Date="Date",c.Numeric="Numeric",c}({}),t=function(c){return c.Aggregate="Aggregate",c.Measure="Measure",c}({});function o(c){return _.some((0,i.Fi)(c),s=>(0,a.AH)(s.expr))}function d(c,s,p){p.replaceSparklineDataWithMeasure(c,s)}function n(c,s){return{groupingType:(l=>{if(l)return l.dateTime||l.temporal?r.Date:l.numeric?r.Numeric:r.Categorical})(c.grouping[0].getMetadata(s)?.type),measureType:(0,a.b9)(c.measure)?t.Aggregate:t.Measure}}},176733:function(ve,z,e){e.d(z,{BG:function(){return l},lk:function(){return P},Tk:function(){return s},Jh:function(){return p},zU:function(){return c}});var a=e(18122),i=e(432262),r=e(495123);function t(T){var N=T.get(0).style,w=N.transform||N.webkitTransform;if(w){var I=w.match(/rotate\((-?\d+(?:\.\d*)?)deg\)/);if(I)return parseFloat(I[1])}return 0}var n=e(454840),c=function(T){return T[T.Parent=1]="Parent",T[T.None=2]="None",T[T.Custom=3]="Custom",T}({}),s=function(T){return T[T.Up=1]="Up",T[T.Down=2]="Down",T[T.Left=4]="Left",T[T.Right=8]="Right",T[T.UpLeft=16]="UpLeft",T[T.UpRight=32]="UpRight",T[T.DownLeft=64]="DownLeft",T[T.DownRight=128]="DownRight",T[T.All=255]="All",T}({}),p=function(T){return T[T.Up=0]="Up",T[T.Down=1]="Down",T[T.Left=2]="Left",T[T.Right=3]="Right",T}({}),l=function(T){return T.Always="always",T.Never="never",T.Auto="auto",T}({}),h="transformElement",C="dragging",y="resizing",S="resizeHandleGroup-",M={preventDefault:l.Auto,minWidth:15,minHeight:15,maxWidth:1e4,maxHeight:1e4,autoScrollParent:null,inertia:!1,disableDrawing:!1};class P{constructor(N,w,I){this.ngZone=w,this.resizeHandleDirections=s.All,this.dimensions={},this.prevDimensions={},this.restricted={},this.preserveAspectRatio=!1,this.transformDelta={},window.interact&&(interact.pointerMoveTolerance(5),this.element=N,this.rawElement=this.element.get(0),this.updateOptions(I),this.snapToGridIfNeeded(),this.resizeHandleDirections=this.options&&this.options.resizeHandleDirections?this.options.resizeHandleDirections:this.resizeHandleDirections,this.element&&this.element.length>0&&(this.element.addClass(h),this.attachDragHandler(),this.attachResizeHandles(),this.updateHandlers(),this.attachKeyHandlers()),P.pointerTrap||(P.pointerTrap=$('<div id="transformPointerTrap" style="position: absolute; width: 1px; height: 1px; top: 0; left: 0"></div>').appendTo("body").get(0)))}attachKeyHandlers(){this.element.keydown(N=>{var O,T,w=N.shiftKey,I=N.shiftKey&&N.ctrlKey;if("true"!==$(this.element).attr("drag-resize-disabled")&&(!r.C.isCtrlOrMeta(N)||I)){var x=this.getDimensionsFromElement(this.element,!0),j=w?10:1;if(I){var U=A=>A/2===Math.round(A/2);switch(N.keyCode){case i.cK.downArrowKeyCode:x.height-=1,O=p.Down,U(x.height)&&(x.y+=1);break;case i.cK.upArrowKeyCode:x.height+=1,O=p.Up,U(x.height)||(x.y-=1);break;case i.cK.leftArrowKeyCode:x.width-=1,O=p.Left,U(x.width)&&(x.x+=1);break;case i.cK.rightArrowKeyCode:x.width+=1,O=p.Right,U(x.width)||(x.x-=1);break;default:return}}else switch(N.which){case i.cK.downArrowKeyCode:O=p.Down,x.y+=j;break;case i.cK.upArrowKeyCode:O=p.Up,x.y-=j;break;case i.cK.leftArrowKeyCode:O=p.Left,x.x-=j;break;case i.cK.rightArrowKeyCode:O=p.Right,x.x+=j;break;default:return}var F=this.getRestrictionParent();if(F&&0!==F.length){var R=(T=F,{left:parseFloat(T.css("padding-left"))||0,right:parseFloat(T.css("padding-right"))||0,top:parseFloat(T.css("padding-top"))||0,bottom:parseFloat(T.css("padding-bottom"))||0}),B=this.getDimensionsFromElement(F);x=this.restrictTo(x,B,R)}this.transformRelativeDimensionFromElement(this.element,x),N.stopPropagation&&N.stopPropagation(),N.preventDefault&&N.preventDefault(),this.notifyNudge(x,{bigNudge:w,direction:O})}})}restrictTo(N,w,I){var x=-I.top||0;return{x:Math.max(-I.left||0,Math.min(N.x,w.width-N.width)),y:Math.max(x,Math.min(N.y,w.height-N.height)),width:Math.min(N.width,w.width+I.left+I.right),height:Math.min(N.height,w.height+I.top+I.bottom)}}destroy(){this.dragInteractable&&this.dragInteractable.unset(),this.resizeInteractable&&this.resizeInteractable.unset(),this.autoScrollParent&&this.autoScrollParent.off("scroll",this.autoScrollParentScrollHandlerFn)}getResizeHandleDirectionArray(){var N=[],w=this.options.resizeHandleDirections;return w&s.Up&&N.push("up"),w&s.Down&&N.push("down"),w&s.Left&&N.push("left"),w&s.Right&&N.push("right"),w&s.UpLeft&&N.push("up-left"),w&s.UpRight&&N.push("up-right"),w&s.DownLeft&&N.push("down-left"),w&s.DownRight&&N.push("down-right"),N}getRestrictionString(){var N;switch(this.options.restriction){case c.Parent:N="parent";break;case c.Custom:N=this.options.getCustomRestrictionSelector();break;default:N=""}return N}getRestrictionParent(){var N=this.getRestrictionString();switch(N){case"":return;case"parent":return this.element.parent();default:return this.element.parent().closest(N)}}getAutoScrollOptions(){var N=this.options.autoScrollParent;return null==N?void 0:{enabled:!0,container:N[0]}}updateOptions(N){this.options={...M,...this.options||{},...N},this.restrictionElement=this.options.restrictDraw&&this.options.restriction!==c.None?this.getRestrictionParent():void 0,this.updateHandlers()}updateHandlers(){if(this.dragInteractable||this.resizeInteractable){var N=this.getAutoScrollOptions();if(this.dragInteractable){var w=0===this.getRestrictionString().length?void 0:{restriction:this.getRestrictionString(),endOnly:!1,elementRect:{top:0,left:0,bottom:1,right:1}};this.dragInteractable.draggable({restrict:w,autoScroll:N})}if(this.resizeInteractable){var I={restriction:""===this.getRestrictionString()?void 0:this.getRestrictionParent().get(0),elementRect:{top:0,left:0,bottom:1,right:1}};this.resizeInteractable.draggable({restrict:I,autoScroll:N})}}}attachDragHandler(){var N=this.element.get(0),w=this.options.autoScrollParent,I=this.options.preventDefault;if(this.dragInteractable=this.ngZone.runOutsideAngular(()=>interact(N).preventDefault(I).styleCursor(!1).ignoreFrom("[draggable=true], [drag-resize-disabled=true]").draggable({inertia:!1,onstart:U=>this.ngZone.run(()=>this.onDragStart(U)),onmove:U=>this.ngZone.run(()=>this.onDragMove(U)),onend:U=>this.ngZone.run(()=>this.onDragEnd())})),this.element.on("pointerdown.transform",()=>{this.dragInteractable&&this.options.getDragRestriction&&(this.dragInteractable.options.drag.restrict.elementRect=this.options.getDragRestriction())}),w){var O=n.tw,x=0,j=0;this.autoScrollParent=w,this.autoScrollParentScrollHandlerFn=O(()=>{var U=w.scrollTop(),F=w.scrollLeft(),R=F-j,B=U-x;if(0!==R||0!==B){var A={dx:R,dy:B};this.element.hasClass(C)?this.onDragMove(A):this.element.hasClass(y)&&this.onResizeMove(A)}x=U,j=F}),w.on("scroll.transformElement",this.autoScrollParentScrollHandlerFn)}}onDragStart(N){this.dragStopped=!1,r.C.isCtrlOrMeta(N)||N.shiftKey?this.dragStopped=!0:(this.options&&this.options.supportsPointerCapture&&P.pointerTrap.setPointerCapture&&N.interaction.pointerIds.length>0&&null!=N.interaction.pointerIds[0]&&P.pointerTrap.setPointerCapture(N.interaction.pointerIds[0]),this.dimensions=this.getDimensionsFromElement(this.element),this.prevDimensions={...this.dimensions},this.element.addClass(C),this.notifyDragStart(this.dimensions))}onDragMove(N){this.dragStopped||(this.dimensions.x+=N.dx,this.dimensions.y+=N.dy,this.draw(this.dimensions),this.notifyDragMove(this.dimensions))}onDragEnd(){this.dragStopped||(this.element.removeClass(C),this.snapToGridIfNeeded(),this.notifyDragEnd(this.dimensions))}attachResizeHandles(){for(var N,w=this.getResizeHandleDirectionArray(),{customHandleClass:I,transformId:O}=this.options,x=0,j=w.length;x<j;x++){var U=$("<div></div>").addClass("resizeHandle").attr("data-direction",w[x]).appendTo(this.element);I&&U.addClass(I),O&&U.addClass(S+this.options.transformId)}var F=".resizeHandle"+(this.options.transformId?`.${S}${this.options.transformId}`:"");this.resizeInteractable=this.ngZone.runOutsideAngular(()=>interact(F,{context:this.rawElement}).styleCursor(!1).ignoreFrom("[draggable=true], [drag-resize-disabled=true]").draggable({onstart:R=>this.ngZone.run(()=>this.onResizeStart(R)),onmove:R=>this.ngZone.run(()=>{N=R,this.onResizeMove(R)}),onend:()=>this.ngZone.run(()=>{N=null,this.onResizeEnd()})})),this.element.bind("keydown","keyup",R=>{var B="keydown"===R.type;this.element.hasClass(y)&&R.keyCode===i.cK.shiftKeyCode&&N&&B!==N.shiftKey&&(N.shiftKey=B,this.onResizeMove(N))})}onResizeStart(N){this.isResizing=!0,void 0!==this.element&&(this.preserveAspectRatio="true"===this.element.attr("preserve-aspect-ratio"));var w=N.target;this.element.addClass(y),this.dimensions=this.getDimensionsFromElement(this.element),this.prevDimensions={...this.dimensions},this.resizeStartRect={left:this.dimensions.x,top:this.dimensions.y,right:this.dimensions.x+this.dimensions.width,bottom:this.dimensions.y+this.dimensions.height,width:this.dimensions.width,height:this.dimensions.height};var I=w.getAttribute("data-direction");this.resizeDirection={up:/up/.test(I),down:/down/.test(I),left:/left/.test(I),right:/right/.test(I)},this.setTransformDelta(N),this.aspectRatio=this.calculateAspectRatio(this.dimensions,this.options.aspectRatioOffset),_.extend(this.restricted,this.dimensions),this.notifyResizeStart(this.dimensions)}setTransformDelta(N){this.transformDelta.width=N.clientX-(this.resizeDirection.left?this.resizeStartRect.left:this.resizeStartRect.right),this.transformDelta.height=N.clientY-(this.resizeDirection.up?this.resizeStartRect.top:this.resizeStartRect.bottom)}calculateAspectRatio(N,w){var I=N.height,O=N.width;return w&&(I+=w.height,O+=w.width),I/O}onResizeMove(N){var w=this.options.aspectRatioOffset||{width:0,height:0},I=N.clientY-this.transformDelta.height,O=N.clientX-this.transformDelta.width,x=0;for(var j in this.resizeDirection)x+=this.resizeDirection[j];if(this.resizeDirection.left&&(this.dimensions.x=O,this.dimensions.width=this.resizeStartRect.right-O),this.resizeDirection.up&&(this.dimensions.y=N.clientY,this.dimensions.height=this.resizeStartRect.bottom-I),this.resizeDirection.right&&(this.dimensions.width=O-this.resizeStartRect.left),this.resizeDirection.down&&(this.dimensions.height=I-this.resizeStartRect.top),(this.preserveAspectRatio||N.shiftKey)&&2===x){var U,F=this.getRestrictionParent();if(F&&F.length){var R=this.rawElement.getBoundingClientRect().top-F.get(0).getBoundingClientRect().top;U=this.resizeDirection.up?this.dimensions.height+R:F.get(0).clientHeight-R}else U=void 0;P.fixDimensionsBasedOnAspectRatio(this.options,this.aspectRatio,U,w,this.dimensions),this.restricted.width=this.dimensions.width,this.restricted.height=this.dimensions.height}else this.restricted.width=Math.min(Math.max(this.dimensions.width,this.options.minWidth),this.options.maxWidth),this.restricted.height=Math.min(Math.max(this.dimensions.height,this.options.minHeight),this.options.maxHeight);this.resizeDirection.left&&(this.restricted.x=this.resizeStartRect.right-this.restricted.width),this.resizeDirection.up&&(this.restricted.y=this.resizeStartRect.bottom-this.restricted.height),this.restricted.angle=t(this.element),this.draw(this.restricted),this.notifyResizeMove(this.restricted)}static fixDimensionsBasedOnAspectRatio(N,w,I=Number.MAX_VALUE,O,x){var j=Math.min(x.width,N.maxWidth)+O.width,U=j*w;U>(I=Math.min(N.maxHeight,I)+O.height)&&(j=(U=I)/w),U<N.minHeight+O.height&&(j=(U=N.minWidth+O.height)/w),j<N.minWidth+O.width&&(U=(j=N.minWidth+O.width)*w),x.height=U-O.height,x.width=j-O.width}onResizeEnd(){this.isResizing=!1,this.element.removeClass(y),_.extend(this.dimensions,this.restricted),this.snapToGridIfNeeded(),this.notifyResizeEnd(this.dimensions)}getDimensionsFromElement(N,w=!1){var I=this.getPositionFromElement(N);if(w){var O=N.parents("."+h);O.length&&O.each((U,F)=>{var R=this.getPositionFromElement($(F));I.x+=R.x,I.y+=R.y})}var x=this.getSizeFromElement(N),j=t(N);return{x:I.x,y:I.y,width:x.width,height:x.height,angle:j}}transformRelativeDimensionFromElement(N,w){var I=N.parents("."+h);I.length&&I.each((O,x)=>{var j=this.getPositionFromElement($(x));w.x-=j.x,w.y-=j.y})}getSizeFromElement(N){return{width:N.width(),height:N.height()}}getPositionFromElement(N){return function(T){var N={x:0,y:0};if(T&&T.length){var w=T.get(0).style,I=w.transform||w.webkitTransform;if(I&&I.length>0){var O=I.match(/translate\((-?\d+(?:\.\d*)?)px, (-?\d+(?:\.\d*)?)px\)/);O?(N.x=parseFloat(O[1]),N.y=parseFloat(O[2])):(O=I.match(/translate\((-?\d+(?:\.\d*)?)px\)/))&&(N.x=parseFloat(O[1]),N.y=0)}}return N}(N)}draw(N){if(!this.options.disableDrawing){var I,w=this.prevDimensions;N=N||this.dimensions,this.options.getIntermediateDimensions&&(I=this.options.getIntermediateDimensions(N)),N=_.extend({},I||N);var O=this.element.get(0).style,x=N.angle;if(!_.isEmpty(this.restrictionElement)){var j=this.getDimensionsFromElement(this.restrictionElement);N.x=Math.max(j.x,N.x),N.y=Math.max(j.y,N.y);var U=Math.max(0,N.x+N.width-(j.x+j.width)),F=Math.max(0,N.y+N.height-(j.y+j.height));this.isResizing?(N.height=N.height-F,N.width=N.width-U):(N.x=N.x-U,N.y=N.y-F,a.Y.assert(()=>N.x>=j.x,"dimensions.x is less than restriction"),a.Y.assert(()=>N.y>=j.y,"dimensions.y is less than restriction"))}(N.x!==w.x||N.y!==w.y||N.angle!==w.angle)&&(O.webkitTransform=O.transform="translate("+N.x+"px, "+N.y+"px)"+(x?" rotate("+x+"deg)":""),w.x=N.x,w.y=N.y,w.angle=w.angle),w.width!==N.width&&(O.width=N.width+"px",w.width=N.width),w.height!==N.height&&(O.height=N.height+"px",w.height=N.height)}}snapToGridIfNeeded(){!0===this.options.snapToGrid&&this.options.gridSize&&(this.dimensions||(this.dimensions=this.getDimensionsFromElement(this.element)),this.snapToGrid(this.dimensions))}snapToGrid(N){var w=this.options.gridSize;N.x=Math.round(N.x/w.width)*w.width,N.y=Math.round(N.y/w.height)*w.height,N.width=Math.round(N.width/w.width)*w.width,N.height=Math.round(N.height/w.height)*w.height,this.draw(N)}notifyResizeStart(N){this.options&&this.options.onResizeStart&&this.options.onResizeStart(N)}notifyResizeMove(N){this.options&&this.options.onResizeMove&&this.options.onResizeMove(N)}notifyResizeEnd(N){this.options&&this.options.onResizeEnd&&this.options.onResizeEnd(N)}notifyDragStart(N){this.options&&this.options.onDragStart&&this.options.onDragStart(N)}notifyDragMove(N){this.options&&this.options.onDragMove&&this.options.onDragMove(N)}notifyDragEnd(N){this.options&&this.options.onDragEnd&&this.options.onDragEnd(N)}notifyNudge(N,w){this.options&&this.options.onNudge&&this.options.onNudge(N,w)}}},763278:function(ve,z,e){e.d(z,{Eb:function(){return E},MN:function(){return u},mI:function(){return l}});var a=e(233390),i=e(322319),r=e(601213),t=e(71712),o=e(622077),d=e(18122),n=e(693029),c=e(715068),s=e(7569),p=e(464714);function l(D,h,C,y,f,S){if(D&&h){var b=D.getAdapter();b&&y&&b.update({viewport:h,suppressAnimations:!0,dataViews:D.getDataViews(),type:C,resizeMode:S,viewMode:y.getViewMode(),editMode:f})}}function u(D,h,C,y,f,S,b,V,M,P,T){var I,N=new i.m(1),w={getType:()=>D.type,setType:I=>D.type=I,getViewport:()=>D.viewport,setViewport:(I,O)=>{D.viewport=I,O&&l(w,I,n.YL.Resize,h,C)},getData:()=>D.data,getAdapter:()=>D.visual,getDataViews:()=>D.dataViews,setDataViews:I=>D.dataViews=I,getDataTransforms:()=>D.dataTransforms,setThemeCollection:I=>D.themeCollection=I,getIsInFocus:()=>D.isInFocus,setIsInFocus:I=>D.isInFocus=I,setData:(I,O,x)=>{D.data=I,D.dataAppliedEvent&&(D.dataAppliedEvent.reject(),D.dataAppliedEvent=void 0),D.performanceActivity&&(D.performanceActivity.cancel(!0),D.performanceActivity=void 0),D.dataAppliedEvent=O,D.performanceActivity=x},setDataTransforms:I=>D.dataTransforms=I,setPendingSelection:I=>D.pendingSelection=I,hasPendingSelection:()=>!!D.pendingSelection,setAdditionalObjectUpdates:I=>D.additionalObjectUpdates=I,setIsDisabled:I=>D.isDisabled=I,getIsDisabled:()=>D.isDisabled,setIsDisabledIfUncertified:I=>D.isDisabledIfUncertified=I,getIsDisabledIfUncertified:()=>D.isDisabledIfUncertified,setReportId:I=>D.reportId=I,getErrorInfo:()=>D.errorInfo,getErrorInfo$:()=>N.asObservable(),setErrorInfo:I=>{D.errorInfo=I,N.next(I)},getWarnings:()=>m(D),getWarnings$:()=>h?h.getWarnings$():(0,r.of)({}),setWarnings:(I,O,x)=>g(D,I,O,x),getDataBoundObjectWarnings:()=>D.dataBoundObjectWarnings,resetWarnings:(I=!1)=>{I&&(D.dataBoundObjectWarnings={}),D.warnings=void 0},getHasPendingChanges:()=>D.hasPendingChanges,setHasPendingChanges:I=>D.hasPendingChanges=I,getHasUnappliedFilterChanges:()=>D.hasUnappliedFilterChanges,setHasUnappliedFilterChanges:I=>D.hasUnappliedFilterChanges=I,getSelectedDatapoints:()=>D.selectedDatapoints,setSelectedDatapoints:(I,O)=>function(D,h,C,y,f){var S=D.visual;d.Y.assert(()=>!h.pendingSelection&&!D.pendingSelection,"There should be no pending selection when setSelectedDatapoints is called"),y&&(S&&S.visualHasMethod&&S.visualHasMethod("onRestoreSelection")?S.onRestoreSelection({selection:C}):(g(D,[new p.J]),f&&f(m(D)))),D.selectedDatapoints=C}(D,y,I,O,b),clearSelectedDatapoints:I=>{D.selectedDatapoints=void 0;var O=D.visual;O&&O.onClearSelection&&O.onClearSelection(),f.selectDataPoint(S,[],void 0,I,c.v.Union)},getSubSelectionStyles:(I=(0,a.A)(function*(O){if(P){var x=yield P.getSubSelectionStyles(O);if(x)return x}return yield D.visual?.getSubSelectionStylesAsync?.(O)??D.visual?.getSubSelectionStyles?.(O)}),function(x){return I.apply(this,arguments)}),getSubSelectionShortcuts:function(){var I=(0,a.A)(function*(O,x){if(P&&!x){var j=P.getSubSelectionShortcuts(O,x);if(j)return j}return yield D.visual?.getSubSelectionShortcutsAsync?.(O,x)??D.visual?.getSubSelectionShortcuts?.(O,x)});return function(x,j){return I.apply(this,arguments)}}(),getSubSelectables:function(){var I=(0,a.A)(function*(O){var x=[],j=yield D.visual?.getSubSelectablesAsync?.(O)??D.visual?.getSubSelectables?.(O);if(j&&x.push(...j),P){var U=P.getSubSelectables(O);U&&x.push(...U)}return 0!==x.length?x:void 0});return function(x){return I.apply(this,arguments)}}(),onDataViewObjectChanged:(I,O,x)=>{if(x){if(!D.visual||!D.visual.visualHasMethod("onDataViewObjectChanged"))return I;var j=D.visual.onDataViewObjectChanged(I,O);if(j)return j}else if(T){var U=T.onDataViewObjectChanged(I,O);if(U)return U}return[]},onPaste(I){D.visual&&D.visual.visualHasMethod("onPaste")&&D.visual.onPaste(I)},getRunnableQuery:function(){var I=(0,a.A)(function*(){return V.getLastExecutedQuery()});return function(){return I.apply(this,arguments)}}()};return M&&(w.sortServices=M),w}function m(D){var h,C=D.warnings,y=D.dataBoundObjectWarnings;if(h=C?_.cloneDeep(C):{},!_.isEmpty(y))for(var f in h.visualObjectWarnings||(h.visualObjectWarnings={}),y){var S=h.visualObjectWarnings[f];S?S.push(...y[f]||[]):h.visualObjectWarnings[f]=y[f]}return h}function g(D,h,C,y){if(_.isArray(h)){var f=_.filter(h,T=>!(T instanceof o.u));if(_.isEmpty(f)){D.dataBoundObjectWarnings||(D.dataBoundObjectWarnings={});var S=_.filter(h,T=>T instanceof o.u);for(var b of S){var V=b.propertyId.objectName;if(!C||!(0,s.UU)(V,C,y)){var M={selector:b.selector,warnings:[b]},P=D.dataBoundObjectWarnings[V];P?P.push(M):D.dataBoundObjectWarnings[V]=[M]}}}else d.Y.assert(()=>f.length===h.length,"setWarnings - Received a mix of DataBoundExprWarning and non-DataBoundExprWarning warnings"),D.warnings={warnings:f}}else D.warnings=h}function E(D,h,C){if((0,t.tx)(C))return!1;var y=C?.config.singleVisual;if(y){var f=y.visualType,S=D.capabilities(f);return!(y.query||!h.isQueryVisual(f)||"debugVisual"===f||S&&S.supportsLandingPage)}return!0}},288308:function(ve,z,e){e.d(z,{v:function(){return i}});var a=e(576086);function i(){return{getFilters:()=>({dataFilter:null,dataFiltersUnmerged:null}),getDataSourceVariables:()=>{},getVisualRelationshipFilterAction:()=>a.NJ.Default,selectDataPoint:_.noop,setVisualRelationshipFilterAction:_.noop}}},223165:function(ve,z,e){e.d(z,{Gc:function(){return S}});var a=e(885653),i=e(109632),r=e(735553),t=e(581868),o=e(527956),d=e(615309),n=e(531093),c=0,s=11,p={size:t.h.titleFontProperties.size,family:t.h.titleFontProperties.family},l={size:t.h.valueFontProperties.size,family:t.h.valueFontProperties.family},u={size:t.h.titleFontProperties.size,family:d.Hx.regular.css},v=t.h.titleFontProperties.color,m=t.h.valueFontProperties.color,g=t.h.background.solid.color,E=t.h.actionFontProperties.color;function S(T,N,w,I){var{actionFontColor:O,backgroundColor:x,titleFontColor:j,valueFontColor:U}=function(T,N,w){var I,O,x,j,U=!(!T||!(T.titleFontColor||T.valueFontColor||T.background));return N&&!U?(I=V(M(T&&T.themedTitleFontColor),a.A.getThemeColor(w,o.q6)),O=V(M(T&&T.themedValueFontColor),a.A.getThemeColor(w,o.q6)),x=V(M(T&&T.themedBackground),a.A.getThemeColor(w,o.DA)),j=V(M(T&&T.actionFontColor),a.A.getThemeColor(w,o.q6))):N&&U?(I=V(V(M(T&&T.themedTitleFontColor),M(T&&T.titleFontColor)),v),O=V(V(M(T&&T.themedValueFontColor),M(T&&T.valueFontColor)),m),x=V(V(M(T&&T.themedBackground),M(T&&T.background)),g),j=V(M(T&&T.actionFontColor),I)):(I=V(M(T&&T.titleFontColor),v),O=V(M(T&&T.valueFontColor),m),x=V(M(T&&T.background),g)),{actionFontColor:j,backgroundColor:x,titleFontColor:I,valueFontColor:O}}(I,N,T);void 0===O&&w&&(O=N?E:j);var F=void 0!==O?P(I,N,w,T,u,O):void 0;return{titleFontProperties:P(I,N,w,T,p,j),valueFontProperties:P(I,N,w,T,l,U),actionFontProperties:F,discoverabilityFontProperties:N?_.clone(F):void 0,background:{solid:{color:x}},transparency:I?.transparency??(N?c:t.h.transparency),hoverColor:a.A.getThemeColor(T,o.TA),dividerColor:a.A.getThemeColor(T,o.TA)}}function V(T,N){return void 0===T?N:T}function M(T){if(T){if(null===T.solid)return null;if(T.solid)return T.solid.color}}function P(T,N,w,I,O,x){var R={size:"fontSize",family:"fontFamily",bold:(0,n._)(T,"bold")?"bold":void 0,italic:(0,n._)(T,"italic")?"italic":void 0,underline:(0,n._)(T,"underline")?"underline":void 0},B=N?(0,i.Iv)(T,R,void 0,I,void 0,"label",O):(0,i.De)(T,R,void 0,void 0,O),A=(0,i.IL)(B,{color:x});return w&&(A=(0,i.IL)(A,{size:r.Z.createFromPt(s)})),(0,i.Bq)(A)}},603630:function(ve,z,e){e.d(z,{n:function(){return i}});var a=e(75735);class i{sortEntities(t){}sortProperties(t){t&&t.sort((o,d)=>(0,a.pz)(o.displayName,d.displayName))}}},340574:function(ve,z,e){e.d(z,{C:function(){return t},i:function(){return r}});var a=e(312525),i=e(379899);class r{constructor(d){this.oldItems=d,this.newItems=[]}add(...d){return!!d&&(d=_.filter(d,n=>!!n),this.newItems.push(...d||[]),!0)}merge(d){d&&(this.newItems=_.filter(this.newItems,d));var n=this.oldItems;return n?n.splice(0,n.length,...this.newItems||[]):_.isEmpty(this.newItems)||(n=this.newItems),n}}class t{constructor(d,n){this.vmLookup=this.getPropertiesDictionary(d),this.renames=this.getRenamesDictionary(d,n)}findVms(d,n,c){var s=this.getKey(d,n,c);return this.vmLookup[this.renames[s]||s]}getPropertiesDictionary(d){var n=_.clone(d.properties);for(var c of d.columnsAndMeasures)n.push(c);for(var s of d.hierarchies)n.push(s);for(var p of d.displayFolders)n.push(p),n.push(...p.getAllChildren()||[]);return n=_.uniq(n),_.groupBy(n,u=>this.getVmKey(u))}getRenamesDictionary(d,n){var c={},s=_.filter(n,m=>m.propertyRename&&m.propertyRename.entity===d.name);for(var p of s){var l=this.getFieldType(p.propertyRename.objectType),u=this.getKey(p.propertyRename.schema,p.propertyRename.before,l);c[this.getKey(p.propertyRename.schema,p.propertyRename.after,l)]=u}return c}getVmKey(d){return this.getKey(d.schemaName,d.name,d.fieldType)}getKey(d,n,c){return n+":"+c+(d?"|"+d:"")}getFieldType(d){switch(d){default:return a.zB.Property;case i.an.KPI:return a.zB.Kpi;case i.an.Hierarchy:return a.zB.Hierarchy;case i.an.Level:return a.zB.HierarchyLevel}}}},133533:function(ve,z,e){e.d(z,{s:function(){return d}});var a=e(572920),i=e(18122),r=e(448724),t=e(858225),o=e(636752);class d{constructor(c,s){i.Y.assertValue(c,"field"),this.field=c,this.conditions=[],this.operators=[],this.logicalOperator=r.um.Undefined,this.logicalAndOperator=r.um.And,this.logicalOrOperator=r.um.Or,this.filterRestatementGenerator=new a.Qt(s),this.filterOperatorFactory=new a.JH(s)}toSQExpr(c){var s=this.field,p=s.getMetadata(c);if(i.Y.assertAnyValue(p,"metadata"),p){var l=p.type,u=t.B.hasMappedMParameter(s,c);return(0,o.lr)(s,l,this.conditions,this.logicalOperator,u)}}getRestatement(c){return this.filterRestatementGenerator.fromCondition(this.conditions,this.logicalOperator,c)}areConditionsValid(c,s){var p=this.conditions;if(_.isEmpty(p))return!1;for(var l=0,u=p.length;l<u;l++){var v=p[l];if(null!=v.operator&&v.operator!==r.tl.None){if((!c||v.value&&v.value.hasValue)&&((0,a.tk)(v.operator)&&v.value&&!v.value.hasValue||s&&!this.isConditionValid(s,v)))return!1}else if(l<u-1)return!1}return!0}loadOperators(c,s,p){var l=this.filterOperatorFactory.tryGetExprFilterOperators(this.field,c,s,p);l.hasError||(this.operators=l.operators)}ensureConditions(c,s){var p=this.operators,l=r.um.And;this.conditions||(this.conditions=[]),_.isEmpty(this.conditions)&&!_.isEmpty(p)&&this.conditions.push(new a.kW(p[0].value));var u=2;if(c){l=s?r.um.Or:r.um.Undefined,u=s?2:1;var v=!this.filterOperatorFactory.isOperatorForColumnMappedToMParameter(this.conditions[0].operator);(this.logicalOperator===r.um.And||v||this.conditions.length>1&&!s)&&(this.conditions=[new a.kW(r.tl.Is)],this.logicalOperator=l)}for(;this.conditions.length<u;)this.conditions.push(a.kW.empty()),this.logicalOperator=l}isConditionValid(c,s){return(0,o.M$)(this.field,c,s)}}},636752:function(ve,z,e){e.d(z,{M$:function(){return p},lr:function(){return s}});var a=e(293444),i=e(81825),r=e(850990),t=e(18122),o=e(448724),d=e(757406),n=e(153484),c=/[0-9]*\.?[0-9]+%/;function s(v,m,g,E=o.um.And,D=!1){var C,h=new u(v,m,E,D);for(var y of g)null==y.operator||y.operator===o.tl.None||(C=y.accept(h));return C}function p(v,m,g){if(!m)return!1;var E=r.M.getValueType(v,m);if(!E)return!1;var D=new u(v,E,void 0);return null!=g.accept(D)}class u{constructor(m,g,E,D=!1){this.propertyExpr=m,this.dataType=g,this.logicalOperator=E,this.isMappedToMParameter=D}visit(m){var g=this.expandExpr(m);return g&&(this.result?this.logicalOperator===o.um.And?this.result=(0,d.Uo)(this.result,g):this.logicalOperator===o.um.Or?this.result=(0,d.or)(this.result,g):t.Y.assertFail("Logical operator is not set for multiple conditions."):this.result=g),this.result}expandExpr(m){var g,E=m.operator!==o.tl.IsBlank&&m.operator!==o.tl.IsNotBlank&&m.operator!==o.tl.IsEmptyString&&m.operator!==o.tl.IsNotEmptyString;if(E&&(g=this.getValueExpr(m)),g||!E)switch(m.operator){case o.tl.Is:return(0,d.UD)(i.mq.Equal,this.propertyExpr,g);case o.tl.IsNot:return(0,d.AU)((0,d.UD)(i.mq.Equal,this.propertyExpr,g));case o.tl.IsBlank:return(0,d.UD)(i.mq.Equal,this.propertyExpr,(0,d.gN)());case o.tl.IsNotBlank:return(0,d.AU)((0,d.UD)(i.mq.Equal,this.propertyExpr,(0,d.gN)()));case o.tl.Contains:return(0,d.gR)(this.propertyExpr,g);case o.tl.DoesNotContain:return(0,d.AU)((0,d.gR)(this.propertyExpr,g));case o.tl.StartWith:return(0,d.w1)(this.propertyExpr,g);case o.tl.DoesNotStartWith:return(0,d.AU)((0,d.w1)(this.propertyExpr,g));case o.tl.GreaterThan:return(0,d.UD)(i.mq.GreaterThan,this.propertyExpr,g);case o.tl.GreaterThanOrEqual:return(0,d.UD)(i.mq.GreaterThanOrEqual,this.propertyExpr,g);case o.tl.LessThan:return(0,d.UD)(i.mq.LessThan,this.propertyExpr,g);case o.tl.LessThanOrEqual:return(0,d.UD)(i.mq.LessThanOrEqual,this.propertyExpr,g);case o.tl.IsEmptyString:return(0,d.UD)(i.mq.Equal,this.propertyExpr,(0,d.Qq)(""));case o.tl.IsNotEmptyString:return(0,d.AU)((0,d.UD)(i.mq.Equal,this.propertyExpr,(0,d.Qq)("")));default:t.Y.assertFail("Not valid filter operator type.")}}getValueExpr(m){return function(v,m,g=!1){if(v.value){var E=v.value.stringValue;if((m.integer||m.numeric)&&E){var D=n.r9.parseFloat(E);return isNaN(D)?void 0:(E.match(c)&&(D/=100),m.primitiveType===a.W.Decimal?(0,d._)(D):_.isInteger(D)?(0,d.nd)(D):(0,d.gd)(D))}if(m.text&&E)return(0,d.Qq)(E);if(m.dateTime){var h=v.value.dateValue;if(h)return g?(0,d.KQ)(h):(0,d.b5)(i.yr.Second,(0,d.KQ)(h))}}}(m,this.dataType,this.isMappedToMParameter)}}},712803:function(ve,z,e){e.d(z,{V4:function(){return i},j9:function(){return t}});var a=e(647479);function i(o,d,n,c,s,p){return{parentContract:o,visual:{viewport:p?n:a.h.adjustViewport(o.detailVisualLayout,n,c),themeCollection:d,allowInvalidDataView:!0,hostServices:null,visualName:o.name+"-detail"},hasData:!1}}var t=function(o){return o[o.Start=0]="Start",o[o.Stop=1]="Stop",o}({})},731934:function(ve,z,e){e.d(z,{ID:function(){return i},_5:function(){return r},u8:function(){return a}});var a=function(t){return t[t.Default=0]="Default",t[t.QuickExplore=1]="QuickExplore",t[t.DataExploration=2]="DataExploration",t}({}),i=function(t){return t[t.DuplicateSection=0]="DuplicateSection",t[t.RenameSection=1]="RenameSection",t[t.DeleteSection=2]="DeleteSection",t[t.ToggleVisibility=3]="ToggleVisibility",t[t.MoveLeft=4]="MoveLeft",t[t.MoveRight=5]="MoveRight",t[t.MoveToFront=6]="MoveToFront",t[t.MoveToEnd=7]="MoveToEnd",t[t.CopyObjectName=8]="CopyObjectName",t}({}),r=function(t){return t[t.FullScreen=0]="FullScreen",t[t.Search=1]="Search",t[t.Paste=2]="Paste",t}({})},576599:function(ve,z,e){e.d(z,{c:function(){return r},g:function(){return t}});var a=e(316051),i=e(784859),r={phoneWidth:i.u1,phoneHeight:i.Hw,phoneGridLayout:{columnCount:i.nT,rowCount:i.ji,newVisualCellCount:{width:6,height:6}}};class t{constructor(d,n=a.v.Master){this.selectedVisualOriginalPosition=-1,this.contract=d,this.canvasLayout=n}get width(){return this.canvasLayout===a.v.Master?this.contract.size&&this.contract.size.width:r.phoneWidth}get height(){return this.canvasLayout===a.v.Master?this.contract.size&&this.contract.size.height:r.phoneHeight}}},312525:function(ve,z,e){e.d(z,{HS:function(){return C},Ix:function(){return v},Oj:function(){return g},Re:function(){return y},SV:function(){return E},_r:function(){return p},cZ:function(){return D},d4:function(){return h},e5:function(){return l},kW:function(){return m},x8:function(){return s},zB:function(){return S}});var a=e(620825),i=e(20593),r=e(18122),t=e(893420),o=e(34584),d=e(335128),n=e(188076),c=e(366914),s=(b,V,M)=>{var P=V?"_paneColorRefresh":"",T=b.fieldType;if(T===S.DisplayFolder)return"fieldListFolder"+P;if(T===S.KpiMeasure)return"none";if(T===S.Hierarchy)return"fieldListHierarchy"+P;if(T===S.RowCount)return"fieldListMeasure"+P;if(b.contract.queryable===o.IW.Error)return"fieldListError"+P;if(b.kind===o.ye.Measure)return b.contract.measure&&b.contract.measure.kpi&&b.fieldType===S.Kpi?"fieldListKpi"+P:b.contract.measure&&b.contract.measure.changeDetectionMetadata?"fieldListChangeDetection"+P:"fieldListMeasure"+P;if(void 0!==b.contract.type&&void 0!==b.contract.type.geography)return"fieldListGeoData"+P;if(b.kind===o.ye.Column){var N=b.contract.column;if(N){if(N.parameterMetadata)return"fieldListParameter"+P;if(N.groupingMetadata)return"fieldListGroup"+P;if(N.calculated)return b.type&&b.type.numeric?"fieldListNumericCalculatedColumn"+P:"fieldListCalculatedColumn"+P;if(!_.isEmpty(N.variations)&&b.type.dateTime)return"fieldListCalendar"+P}if(b.idOnEntityKey)return"fieldListIdentity"+P}return b.type&&b.type.numeric&&b.defaultAggregate!==o.xx.None&&M?"fieldListNumeric"+P:"none"},p=(()=>{class b{get name(){return this.contract.name}get canEdit(){return this.contract.capabilities.canEdit&&!this.disableEditing}get canCreateColumn(){return this.canEdit&&!1!==this.contract.capabilities.supportsCalculatedColumns}constructor(M){r.Y.assertValue(M,"contract"),this.contract=M,this.showCheckboxes=!0,this.entities=[]}findEntity(M){return _.find(this.entities,P=>P.name===M)}findFields(M,P,T){var N=this.findEntity(M);if(N)return N.findFields(P,T)}findHierarchies(M,P,T){var N=this.findEntity(M);if(N)return N.findHierarchies(P,T)}findKpis(M,P,T){var N=this.findEntity(M);if(N)return N.findKpis(P,T)}findKpiMeasures(M,P,T){var N=this.findEntity(M);if(N)return N.findKpiMeasures(P,T)}findItems(M){var P=[];if((0,a.VT)(M)||(0,a.AH)(M))return P;var T=(0,n.F)(M),N=(0,d.WE)(T);if(T){var w=T.hierarchyLevel||T.hierarchyLevelAggr;if(w){r.Y.assert(()=>1===_.size(N),"hierarchy level should only have 1 underlying entity");var I=this.findHierarchies(N[0].entity,w.name,w.schema);if(I)for(var O of I)for(var x of(P.push(O),O.hierarchyLevels))x.name===w.level&&P.push(x)}else if(T.columnHierarchyLevelVariation){var j=T.columnHierarchyLevelVariation.source.name;r.Y.assert(()=>1===_.size(N),"variations should only have 1 underlying entity");var U=this.findFields(N[0].entity,j,N[0].schema);if(!U)return P;for(var F of U){P.push(F);var R=F.properties;if(R)for(var B of R)if(B instanceof D&&B.name===T.columnHierarchyLevelVariation.level.name)for(var A of(P.push(B),B.hierarchyLevels))A.name===T.columnHierarchyLevelVariation.level.level&&P.push(A)}}else{var W=(0,d.E0)(T);r.Y.assert(()=>!W||_.size(N)===_.size(W),"There should be equal number of properties and entities");for(var G=0;G<N.length;G++){var K=N[G],q=W?.[G],ne=this.findFields(K.entity,q,K.schema)||this.findKpiMeasures(K.entity,q,K.schema);if(ne)for(var k of ne)P.push(k)}}}return P}static getUniqueId(){return b._uid++}}return b._uid=0,b})();class l{get name(){return this.contract.name}get displayName(){return this.displayNameOverride||this.contract.displayName}get description(){return this.contract.description}get errorMessage(){return this.contract.errorMessage}get calculated(){return this.contract.calculated}get iconClassName(){return this.contract.queryable===o.IW.Error?"fieldListError":this.calculated?"fieldListEntityCalculated":this.isMeasureGroup?"fieldListMeasureGroup":void 0}get hidden(){return(0,t.Lt)(this.contract.visibility,o.Tg.Hidden)&&_.every(this.properties,V=>!V.isExtension||V.hidden)}set hidden(V){this.contract.visibility=V?(0,t.lA)(this.contract.visibility,o.Tg.Hidden):(0,t.wi)(this.contract.visibility,o.Tg.Hidden)}get canEdit(){return this.contractSchema.capabilities.canEdit&&!this.schema.disableEditing&&!(0,c.zI)(this.contract)}get private(){return(0,t.Lt)(this.contract.visibility,o.Tg.IsPrivate)}get showAsVariationsOnly(){return(0,t.Lt)(this.contract.visibility,o.Tg.ShowAsVariationsOnly)}get showHidden(){return this.schema.showHidden}get canRefresh(){return this.canEdit&&this.contract.capabilities.canRefresh}get canHaveMeasures(){return this.contract.capabilities.canHaveMeasures}get canEditEntity(){return this.canEdit&&!this.calculated&&this.contract.capabilities.canEditSource}get canDelete(){return this.canEdit&&this.contract.capabilities.canDelete}get canRename(){return this.canEdit&&this.contract.capabilities.canRename}constructor(V,M,P){this.hasCheckedProperties=!1,r.Y.assertValue(V,"contract"),r.Y.assertValue(M,"contractSchema"),r.Y.assertValue(P,"schema"),this.contract=V,this.contractSchema=M,this.schema=P,this.properties=[],this.columnsAndMeasures=[],this.hierarchies=[],this.displayFolders=[]}findFields(V,M){return this.findFieldsByType(V,M,S.Property)}findKpis(V,M){return this.findFieldsByType(V,M,S.Kpi)}findKpiMeasures(V,M){return this.findFieldsByType(V,M,S.KpiMeasure)}findHierarchies(V,M){return this.findFieldsByType(V,M,S.Hierarchy)}findFieldsByType(V,M,P){var T=[];for(var N of(P===S.Hierarchy?T.push(..._.filter(this.hierarchies,I=>I.name===V&&I.schema.name===M)):T.push(..._.filter(this.properties,I=>I.name===V&&I.fieldType===P&&I.schemaName===M)),this.displayFolders))for(var w of _.filter(N.getAllChildren(),I=>I.name===V&&I.fieldType===P))T.indexOf(w)<0&&T.push(w);if(!_.isEmpty(T))return T}get userEntity(){return!(this.private||this.showAsVariationsOnly)}}class u{get children(){return this._children}set children(V){this._children=V}get name(){return this.contract.name}get schemaName(){return this.schema.name}get displayName(){return this.displayNameOverride||this.contract.displayName}get description(){return this.contract.description}get errorMessage(){return null}get visible(){return!this.parent||this.parent.expanded&&this.parent.visible}get hidden(){return this.contract.hidden}set hidden(V){this.contract.hidden=V}get showHidden(){return this.entity.showHidden}get canEdit(){return!this.variation&&this.schema.capabilities.canEdit&&!this.entity.schema.disableEditing}get disableDragging(){return this.entity.schema.disableDragging}get disableSelectionOnFocus(){return this.entity.schema.disableSelectionOnFocus}get showCheckboxes(){return this.entity.schema.showCheckboxes}get isExtension(){return!1}constructor(V,M,P){this.hasCheckedChildren=!1,r.Y.assertValue(V,"contract"),r.Y.assertValue(M,"schema"),r.Y.assertValue(P,"entity"),this.contract=V,this.schema=M,this.entity=P,this.id=p.getUniqueId()}}class v extends u{get kind(){return this.contract.kind}get defaultAggregate(){return this.contract.column?this.contract.column.defaultAggregate:null}get type(){return this.contract.type}get idOnEntityKey(){return!!this.contract.column&&this.contract.column.idOnEntityKey}get errorMessage(){return this.contract.errorMessage}get canDelete(){return this.canEdit&&!1!==this.contract.canDelete}get canAddToFilter(){return!this.contract.measure||!this.schema.capabilities.limitMultiColumnFiltersToQueryGroupColumns}get properties(){return this.children}constructor(V,M,P,T,N){super(V,M,P),this.children=[],this.originalEntity=T,this.variation=N,this.expanded=!1,this.draggable=!this.disableDragging,this.fieldType=S.Property}clone(){return new v(this.contract,this.schema,this.entity)}}class m extends u{get defaultAggregate(){return o.xx.Count}get isExtension(){return!1}constructor(V,M,P){r.Y.assertValue(V,"contract"),r.Y.assertValue(M,"schema"),r.Y.assertValue(P,"entity"),super(V,M,P),this.fieldType=S.RowCount}clone(){return new m(this.contract,this.schema,this.entity)}}class g extends v{get defaultAggregate(){return o.xx.Sum}get idOnEntityKey(){return!1}get isExtension(){return!0}constructor(V,M,P){super(V,M,P)}clone(){return new g(this.contract,this.schema,this.entity)}}class E extends v{constructor(V,M,P,T,N,w){r.Y.assertValue(V,"contract"),r.Y.assertValue(P,"parent"),r.Y.assertValue(T,"entity"),super(V.column,M,T),this.originalEntity=N,this.variation=w,this.hierarchyLevelContract=V,this.parent=P,this.fieldType=S.HierarchyLevel}get hidden(){return this.parent.hidden}get name(){return this.hierarchyLevelContract.name}get displayName(){return this.displayNameOverride||this.hierarchyLevelContract.displayName}get description(){return this.hierarchyLevelContract.description}get canDelete(){return!this.variation&&this.canEdit&&!1!==this.hierarchyLevelContract.canDelete}clone(V){return new E(this.hierarchyLevelContract,this.schema,V||this.parent,this.entity)}}class D extends u{get properties(){return this.hierarchyLevels}get children(){return this.hierarchyLevels}get canDelete(){return!this.variation&&this.canEdit&&!1!==this.contract.canDelete}constructor(V,M,P,T,N){super(V,M,P),this.expanded=!1,this.hierarchyLevels=[],this.originalEntity=T,this.variation=N,this.draggable=!this.disableDragging,this.fieldType=S.Hierarchy}findLevel(V,M){return _.find(this.hierarchyLevels,P=>P.name===V)}clone(){var V=new D(this.contract,this.schema,this.entity);return V.hierarchyLevels=_.map(this.hierarchyLevels,M=>M.clone(V)),V}}class h extends u{get kind(){return this.contract.kind}get properties(){return this.kpiMeasures}get children(){return this.kpiMeasures}constructor(V,M,P){super(V,M,P),this.expanded=!1,this.kpiMeasures=[],this.fieldType=S.Kpi}clone(){var V=new h(this.contract,this.schema,this.entity);return V.kpiMeasures=_.map(this.kpiMeasures,M=>M.clone(V)),V}}class C extends v{constructor(V,M,P,T,N,w){r.Y.assertValue(V,"contract"),r.Y.assertValue(N,"entity"),r.Y.assertValue(P,"kpiType"),r.Y.assertValue(T,"kpiParent"),r.Y.assertValue(w,"locOptions"),super(V,M,N),this.kpiType=P,this.parent=T,this.locOptions=w,this.draggable=!this.disableDragging,this.fieldType=S.KpiMeasure}get displayName(){var V;switch(this.kpiType){case i.v7.Value:V=this.locOptions.KpiValueDisplayName;break;case i.v7.Goal:V=this.locOptions.KpiGoalDisplayName;break;case i.v7.Status:V=this.locOptions.KpiStatusDisplayName;break;case i.v7.Trend:V=this.locOptions.KpiTrendDisplayName;break;default:r.Y.assertFail("Unknown KpiType")}return this.displayNameOverride||V||this.contract.displayName}clone(V){return new C(this.contract,this.schema,this.kpiType,V||this.parent,this.entity,this.locOptions)}}class y extends u{get hidden(){return!_.some(this.children,V=>!V.hidden)}set hidden(V){r.Y.assertFail("Should never hide display folder directly")}constructor(V,M,P,T,N){for(var w of(super(V,T,N),this.expanded=!1,this.parent=P,this.children=M,this.fieldType=S.DisplayFolder,M))w.parent=this}clone(){r.Y.assertFail("NotImplemented")}getAllChildren(){var V=[];for(var M of this.children)V.push(M),M.fieldType===S.DisplayFolder&&V.push(...M.getAllChildren()||[]);return V}}var S=function(b){return b[b.Property=0]="Property",b[b.DisplayFolder=1]="DisplayFolder",b[b.Hierarchy=2]="Hierarchy",b[b.HierarchyLevel=3]="HierarchyLevel",b[b.Kpi=4]="Kpi",b[b.KpiMeasure=5]="KpiMeasure",b[b.RowCount=6]="RowCount",b}({})},12894:function(ve,z,e){e.d(z,{KU:function(){return o}});var a=e(930845),i=e(312525),r=e(603630),t=e(340574);function o(c,s,p,l){var u=new t.i(c.displayFolders),v=_.keyBy(c.displayFolders,h=>h.name);if(!_.isEmpty(p))for(var m of p){var g=function(h){var C=s.indexOf(s.filter(y=>y.name===h.name)[0]);C>=0?s[C]=d(s[C],h):s=s.concat(h)};for(var E of m.entity.displayFolders)g(E)}if(!_.isEmpty(s))for(var D of s)u.add(n(c,void 0,D,v,l));c.displayFolders=u.merge(),c.properties.push(...c.displayFolders||[])}function d(c,s){if(s){if(s===c)return c;var p=new Set(_.map(c.properties,g=>g.name));for(var l of s.properties)p.has(l.name)||c.properties.push(l);for(var u of s.hierarchies)c.hierarchies.push(u);var v=function(g){var E=c.displayFolders.indexOf(c.displayFolders.filter(D=>D.name===g.name)[0]);E>=0?c.displayFolders[E]=d(c.displayFolders[E],g):c.displayFolders.push(g)};for(var m of s.displayFolders)v(m)}return c}function n(c,s,p,l,u){var v=l[p.name];if(v){v.contract=p;var m=new t.i(v.children);if(p.properties){var g=_.filter(v.children,w=>w.fieldType!==i.zB.DisplayFolder&&w.fieldType!==i.zB.Hierarchy),E=_.keyBy(g,w=>w.name);for(var D of p.properties){var h=E[D.name];h||((h=(_.head(c.findFields(D.name,v.schemaName))||_.head(c.findFields(D.name,a.IW))||_.head(c.findKpis(D.name,v.schemaName))).clone()).parent=v),m.add(h)}}if(p.hierarchies){var y=_.filter(v.children,w=>w.fieldType===i.zB.Hierarchy),f=_.keyBy(y,w=>w.name);for(var S of p.hierarchies){var b=f[S.name];b||((b=_.head(c.findHierarchies(S.name,v.schemaName)).clone()).parent=v),m.add(b)}}if(p.displayFolders){var M=_.filter(v.children,w=>w.fieldType===i.zB.DisplayFolder),P=_.keyBy(M,w=>w.name);for(var T of p.displayFolders)m.add(n(c,v,T,P,u))}v.children=m.merge(),(new r.n).sortProperties(v.children)}else v=u.convertConceptualDisplayFolder(p,c.contractSchema,s,c);return v}},142164:function(ve,z,e){e.d(z,{R:function(){return c}});var a=e(20593),i=e(18122),r=e(34584),t=e(312525),o=e(12894),d=e(75735),n=e(366914);function c(p,l,u=!1){return new s(p,l,u)}class s{constructor(l,u,v=!1){this.withRowCounts=!1,i.Y.assertValue(l,"localizationService"),i.Y.assertValue(u,"featureSwitchService"),this.localizationService=l,this.withRowCounts=v}createModel(l,u,v,m){i.Y.assertValue(l,"federatedSchema");var g,E=l.schemas,D=(0,d.v5)(E);for(var h of E=(0,d.Q9)(E))g=this.convertConceptualSchema(h,g,D,u,v,m);return g}convertConceptualSchema(l,u,v,m,g,E){(u=u||new t._r(l)).disableDragging=g;var D=_.filter(l.entities,C=>!(0,n.o)(C)||(0,n.zI)(C)),h=_.map(D,C=>this.convertConceptualEntity(C,l,u,v));return u.entities.push(...h||[]),u.disableEditing=m,u.disableSelectionOnFocus=E,u}convertConceptualEntity(l,u,v,m){var y,g=new t.e5(l,u,v);if(g.properties=[],l.properties&&!(0,n.o)(l))for(var E of l.properties)if(E.measure&&E.measure.kpi){var D=this.convertConceptualKpi(E,u,g);g.columnsAndMeasures.push(D),g.properties.push(D)}else if(!E.kpiValue){var h=this.convertConceptualProperty(E,u,g);g.columnsAndMeasures.push(h),g.properties.push(h)}if(g.isMeasureGroup=(0,d.qt)(l.properties),g.expanded=!1,l.hierarchies&&l.hierarchies.length>0)for(var C of(g.hierarchies=_.map(l.hierarchies,T=>this.convertConceptualHierarchy(T,u,g)),g.hierarchies))g.properties.push(C);if(m){var f=(0,n.VL)(u.name,l.name);if(y=m.entities[f])for(var S of y)for(var b of S.entity.properties){var V=this.convertConceptualExtensionMeasure(b,S.schema,g);g.properties.push(V)}}if((0,o.KU)(g,l.displayFolders,y,this),(0,d.Oi)(g.properties),(0,d.ju)(g.properties,g.displayFolders),(0,d.S1)(g),(0,d.o4)(g),this.withRowCounts&&l.visibility===r.Tg.Visible&&!u.capabilities.discourageQueryAggregateUsage){var P=this.createConceptualRowCount(u,g);g.properties.unshift(P)}return g}convertConceptualDisplayFolder(l,u,v,m){var g={},E={};for(var D of m.properties)D.fieldType===t.zB.HierarchyLevel||D.fieldType===t.zB.Hierarchy?E[D.name]=D:g[D.name]=D;return this.convertConceptualDisplayFolderCore(l,u,v,g,E,m)}convertConceptualDisplayFolderCore(l,u,v,m,g,E){var D=[];for(var h of l.properties)if(h){var C=m[h.name];C&&D.push(C.clone())}for(var y of l.hierarchies)if(y){var f=g[y.name];f&&D.push(f.clone())}var S=new t.Re(l,D,v,u,E);for(var b of l.displayFolders)S.children.push(this.convertConceptualDisplayFolderCore(b,u,S,m,g,E));return(0,d.Oi)(S.children),S}convertConceptualHierarchy(l,u,v,m,g){var E=new t.cZ(l,u,v,m,g);for(var D of(E.hierarchyLevels=[],l.levels))E.hierarchyLevels.push(this.convertConceptualHierarchyLevel(D,u,E));return E}convertConceptualHierarchyLevel(l,u,v){return new t.SV(l,u,v,v.entity,v.originalEntity,v.variation)}convertConceptualProperty(l,u,v){var m=new t.Ix(l,u,v);for(var g of(0,d.wX)(l))m.children.push(this.convertConceptualVariationHierarchy(g,u,m));return m}convertConceptualVariationHierarchy(l,u,v){var m=this.convertConceptualHierarchy(l.defaultHierarchy,u,v.entity,l.navigationProperty.targetEntity,l.name);return m.parent=v,m}convertConceptualExtensionMeasure(l,u,v){return new t.Oj(l,u,v)}convertConceptualKpi(l,u,v){var m=new t.d4(l,u,v),g={};g.KpiValueDisplayName=this.localizationService.get("KpiValueFieldListDisplayName"),g.KpiStatusDisplayName=this.localizationService.get("KpiStatusFieldListDisplayName"),g.KpiGoalDisplayName=this.localizationService.get("KpiGoalFieldListDisplayName"),g.KpiTrendDisplayName=this.localizationService.get("KpiTrendFieldListDisplayName");var E=l.measure.kpi,D=E.goal,h=E.status,C=E.trend;return m.kpiMeasures=[],m.kpiMeasures.push(this.convertConceptualKpiMeasure(l,u,a.v7.Value,m,v,g)),D&&m.kpiMeasures.push(this.convertConceptualKpiMeasure(D,u,a.v7.Goal,m,v,g)),h&&m.kpiMeasures.push(this.convertConceptualKpiMeasure(h,u,a.v7.Status,m,v,g)),C&&m.kpiMeasures.push(this.convertConceptualKpiMeasure(C,u,a.v7.Trend,m,v,g)),m}convertConceptualKpiMeasure(l,u,v,m,g,E){return new t.HS(l,u,v,m,g,E)}createConceptualRowCount(l,u){var v={name:u.name,displayName:this.localizationService.get("QuickExplore_RowCount"),canDelete:!1,hidden:!1};return new t.kW(v,l,u)}}},231314:function(ve,z,e){e.d(z,{QR:function(){return u}});var a=e(603630),i=e(20593),r=e(18122),t=e(312525),o=e(12894),d=e(75735),n=e(366914),p=e(340574);class l{constructor(m,g,E,D,h,C){this.factory=m,this.sorter=g,this.disableEditing=E,this.disableDragging=D,this.disableSelectionOnFocus=h,this.schemaChanges=C?C.changes:[]}mergeFieldList(m,g){return(!m||!g)&&(m={schema:void 0,isLoaded:!1}),g&&_.some(g.schemas)&&(m.schema=this.mergeSchemas(m,g),m.isLoaded=!0),m}mergeSchemas(m,g){var E=m.schema;if(E){var D=(0,d.v5)(g.schemas),h=(0,d.Q9)(g.schemas);E.contract=_.find(h,b=>!(0,n.o)(b));var C=new p.i(E.entities);for(var y of h)for(var f of y.entities)if(!(0,n.o)(f)||(0,n.zI)(f)){var S=this.mergeEntity(E,y,f,D);y===E.contract&&C.add(...S||[])}E.entities=C.merge(),this.sorter.sortEntities(E.entities)}else E=this.factory.createModel(g,this.disableEditing,this.disableDragging,this.disableSelectionOnFocus);return E}mergeEntity(m,g,E,D){r.Y.assertValue(E,"entity");var h=this.findEntityVm(m,E);if(h){h.contract=E,h.contractSchema=g;var C=new p.i(h.properties),y=new p.i(h.columnsAndMeasures),f=new p.i(h.hierarchies),S=new p.C(h,this.schemaChanges);if(!(0,n.o)(E))for(var b of E.properties){var V=this.mergePropertyMeasureOrKpi(h,g,b,S);C.add(...V||[]),y.add(...V||[])}for(var M of E.hierarchies){var P=this.mergeHierarchy(h,g,M,S);C.add(...P||[]),f.add(...P||[])}var T=D.entities[(0,n.VL)(g.name,E.name)];if(T)for(var N of T)for(var w of N.entity.properties){var I=this.mergeExtensionMeasure(h,N.schema,w,S);C.add(...I||[]),y.add(...I||[])}h.columnsAndMeasures=y.merge(O=>!O.parent),h.hierarchies=f.merge(O=>!O.parent),h.properties=C.merge(O=>!O.parent),(0,o.KU)(h,E.displayFolders,T,this.factory),this.sorter.sortProperties(h.properties),(0,d.ju)(h.properties,h.displayFolders),(0,d.S1)(h),(0,d.o4)(h)}else h=this.factory.convertConceptualEntity(E,g,m,D);return[h]}findEntityVm(m,g){var E=g.name,D=_.find(this.schemaChanges,C=>C.entityRename&&C.entityRename.after===g.name);D&&(E=D.entityRename.before);var h=m.findEntity(E);return h&&(0,n.zI)(h.contract)!==(0,n.zI)(g)?null:h}mergePropertyMeasureOrKpi(m,g,E,D){if(!(0,n.o)(E)){if(r.Y.assertValue(v=E,"contract"),v.measure&&v.measure.kpi)return this.mergeKpi(m,g,E,D);if(!function(v){return r.Y.assertValue(v,"contract"),!!v.kpiValue}(E))return this.mergeProperty(m,g,E,D)}var v}mergeProperty(m,g,E,D){var h=D.findVms(g.name,E.name,t.zB.Property);if(h=_.filter(h,S=>!S.isExtension),_.isEmpty(h))h=[this.factory.convertConceptualProperty(E,g,m)];else for(var C of h){C.contract=E,C.schema=g;var y=new p.i(C.children);for(var f of(0,d.wX)(E))y.add(this.mergeVariationHierarchy(C,g,f));C.children=y.merge()}return h}mergeVariationHierarchy(m,g,E){var D=_.find(m.children,h=>h instanceof t.cZ&&h.variation===E.name);return D?this.updateHierarchyVm(m.entity,D,E.defaultHierarchy,g):D=this.factory.convertConceptualVariationHierarchy(E,g,m),D}mergeExtensionMeasure(m,g,E,D){var h=D.findVms(g.name,E.name,t.zB.Property);return h=_.filter(h,C=>C.isExtension),_.isEmpty(h)?h=[this.factory.convertConceptualExtensionMeasure(E,g,m)]:_.forEach(h,C=>{C.contract=E,C.schema=g}),h}mergeKpi(m,g,E,D){var h=D.findVms(g.name,E.name,t.zB.Kpi);if(_.isEmpty(h))h=[this.factory.convertConceptualKpi(E,g,m)];else for(var C of h){C.contract=E,C.schema=g;var y=new p.i(C.kpiMeasures);y.add(this.mergeKpiMeasure(g,C,E,i.v7.Value)),E.measure.kpi.goal&&y.add(this.mergeKpiMeasure(g,C,E.measure.kpi.goal,i.v7.Goal)),E.measure.kpi.status&&y.add(this.mergeKpiMeasure(g,C,E.measure.kpi.status,i.v7.Status)),E.measure.kpi.trend&&y.add(this.mergeKpiMeasure(g,C,E.measure.kpi.trend,i.v7.Trend)),C.kpiMeasures=_.some(y,f=>null===f)?this.factory.convertConceptualKpi(E,g,m).kpiMeasures:y.merge()}return h}mergeKpiMeasure(m,g,E,D){var h=_.find(g.kpiMeasures,C=>C.kpiType===D);return h?(h.contract=E,h.schema=m,h):null}mergeHierarchy(m,g,E,D){var h=D.findVms(g.name,E.name,t.zB.Hierarchy);if(_.isEmpty(h)){var C=this.factory.convertConceptualHierarchy(E,g,m);_.some(this.schemaChanges,f=>f.hierarchyCreate&&f.hierarchyCreate.entity===m.name&&f.hierarchyCreate.name===C.name)&&(C.expanded=!0),h=[C]}else for(var y of h)this.updateHierarchyVm(m,y,E,g);return h}updateHierarchyVm(m,g,E,D){g.contract=E,g.schema=D;var h=_.keyBy(g.hierarchyLevels,S=>S.name),C=new p.i(g.hierarchyLevels);for(var y of E.levels){var f=this.mergeHierarchyLevel(m,g,D,y,h);C.add(f)}g.hierarchyLevels=C.merge()}mergeHierarchyLevel(m,g,E,D,h){var C=this.findHierarchyLevel(m,g,E,D,h);return C?(C.contract=D.column,C.hierarchyLevelContract=D,C.schema=E):C=this.factory.convertConceptualHierarchyLevel(D,E,g),C}findHierarchyLevel(m,g,E,D,h){var C=D.name,y=_.find(this.schemaChanges,f=>f.hierarchyLevelRename&&f.hierarchyLevelRename.entity===m.contract.name&&f.hierarchyLevelRename.hierarchy===g.contract.name&&f.hierarchyLevelRename.after===C);return y&&(C=y.hierarchyLevelRename.before),h[C]}}function u(v,m,g,E,D,h,C){return new l(g,new a.n,D,h,C,E).mergeFieldList(v,m)}},75735:function(ve,z,e){e.d(z,{Oi:function(){return p},Q9:function(){return n},S1:function(){return m},ju:function(){return u},o4:function(){return c},pz:function(){return l},qt:function(){return o},v5:function(){return d},wX:function(){return h}});var a=e(18122),i=e(34584),r=e(312525),t=e(366914);function o(C){return _.find(C,y=>!y.hidden)&&!_.find(C,y=>!y.hidden&&y.kind!==i.ye.Measure&&y.kind!==i.ye.Kpi)}function d(C){var y={entities:{}};for(var f of C)if((0,t.o)(f)){var S=f.extends;for(var b of f.entities)if((0,t.o)(b)){var V={schema:f,entity:b},M=(0,t.VL)(S,b.name),P=y.entities[M];P?P.push(V):y.entities[M]=P=[V]}}return y}function n(C){var y=_.filter(C,S=>!(0,t.o)(S)),f=_.filter(C,S=>(0,t.o)(S));return _.union(y,f)}function c(C){var y=C.properties,f=[];for(var S of y)s(f,S);C.properties=f}function s(C,y){if(a.Y.assertValue(C,"properties"),a.Y.assertValue(y,"property"),C.push(y),(y instanceof r.d4||y instanceof r.cZ||y instanceof r.Ix)&&!_.isEmpty(y.properties))for(var f of y.properties)s(C,f)}function p(C){C&&C.sort((y,f)=>l(y.displayName,f.displayName))}function l(C,y){return C=(C||"").toLocaleUpperCase(),y=(y||"").toLocaleUpperCase(),C.localeCompare(y)}function u(C,y){if(!_.isEmpty(C)){var f={};v(y,f),_.remove(C,S=>S.fieldType!==r.zB.DisplayFolder&&f[S.name])}}function v(C,y){if(!_.isEmpty(C)){var f=[];for(var S of C)for(var b of S.children)b.fieldType===r.zB.DisplayFolder?f.push(b):y[b.name]=b;v(f,y)}}function m(C){var y=[];g(C.properties,y),C.properties=y}function g(C,y){for(var f of C)y.push(f),f.fieldType===r.zB.DisplayFolder&&g(f.children,y)}function h(C){var y=[];if(C.column&&C.column.variations)for(var f of C.column.variations){var S=f.navigationProperty.targetEntity,b=f.defaultHierarchy;S&&S.hierarchies&&b&&!b.hidden&&y.push(f)}return y}},366914:function(ve,z,e){function a(t,o){return JSON.stringify({e:o})}function i(t){return t.hasOwnProperty("extends")}function r(t){return t.isAbandoned}e.d(z,{VL:function(){return a},o:function(){return i},zI:function(){return r}})},459375:function(ve,z,e){e.d(z,{Og:function(){return M},dm:function(){return S}});var a=e(620825),i=e(770969),r=e(81825),t=e(576086),o=e(968888),d=e(909621),n=e(387797),c=e(290408),s=e(18122),p=e(693029),l=e(371577),u=e(34584),v=e(266092),m=e(335128),g=e(188076),E=e(158649),D=e(757406),h=e(893613),C=e(858225),y=e(683116),f=e(664158);function S(N,w,I,O,x,j,U,F,R){var B=new b(N,x,j,w,I,O,U,F,R);return(0,m.YR)((0,g.F)(N),B)??[]}class b{constructor(w,I,O,x,j,U,F,R,B){this.sqExpr=w,this.dataRoleKind=I,this.requiredTypes=O,this.schema=x,this.aggrOps=j,this.hasHierarchyLevels=U,this.localizationService=F,this.forceAggregateItems=R,this.aggregatesConstraint=B}visitEntity(w){return this.createMenuItems(this.sqExpr)}visitColumn(w){return this.createMenuItems(this.sqExpr)}visitColumnAggr(w){return this.createMenuItems(this.sqExpr)}visitGroupingColumn(w){return this.createMenuItems(this.sqExpr)}visitGroupingColumnAggr(w){return this.createMenuItems(this.sqExpr)}visitColumnHierarchyVariation(w){return this.createMenuItems(this.sqExpr)}visitColumnHierarchyLevelVariation(w){return this.createMenuItems(this.sqExpr)}visitColumnSubquery(w){return[]}visitColumnAggrSubquery(w){return[]}visitColumnNativeTable(w){return[]}visitColumnAggrNativeTable(w){return[]}visitColumnTransformRef(w){return[]}visitEntityAggr(w){return this.createMenuItems(this.sqExpr)}visitHierarchy(w){return this.createMenuItems(this.sqExpr)}visitHierarchyLevel(w){return this.createMenuItems(this.sqExpr)}visitHierarchyLevelAggr(w){return this.createMenuItems(this.sqExpr)}visitMeasure(w){return[]}visitPercentOfGrandTotal(w){return this.createMenuItemsForPercentOfTotal((0,E.to)(w.baseExpr))}visitPercentOfRoleTotal(w){return this.createMenuItemsForPercentOfTotal((0,E.to)(w.baseExpr))}visitPercentile(w){return[]}visitSelectRef(w){return[]}visitFilteredEval(w){return this.createMenuItems((0,E.to)(w.baseExpr))}visitArithmetic(w){return[]}visitConstant(w){return s.Y.assertFail("FieldWellMenuViewModelFactory - Not expecting to be called"),[]}visitSparklineData(w){return[]}visitNativeVisualCalc(w){return[]}createMenuItemsForPercentOfTotal(w){var I=(0,h.s)(w,this.schema)?.getMetadata(this.schema);if(!I)return[];var O=I.type;return this.createMenuItems(w,O.text||O.dateTime||O.duration?[r.Sn.Min,r.Sn.Max]:[])}createMenuItems(w,I=[]){var O=[];if(!this.hasHierarchyLevels&&_.isEmpty(w.validate(this.schema,this.aggrOps))&&!C.B.discourageAggregation(w,this.schema)){var j=this.dataRoleKind===p.Ts.GroupingOrMeasure,U=this.dataRoleKind!==p.Ts.Grouping||this.forceAggregateItems?this.aggrOps.getSupportedAggregates(w,this.schema,this.requiredTypes):[];for(var R of(_.isEmpty(this.aggregatesConstraint)||(U=_.intersection(U,this.aggregatesConstraint)),U=_.difference(U,I),(j&&!function(N,w){return N.getConceptualProperty(w)?.kind===u.ye.Measure}(w,this.schema)&&!function(N,w){return!!(0,g.F)(N,w)?.entityAggr}(w,this.schema)||this.forceAggregateItems&&!_.isEmpty(U))&&O.push({key:{action:i.HT.RemoveAggregate},text:this.localizationService.get("FieldWell_RemoveAggregate")}),U))O.push({key:{action:i.HT.SetAggregate,aggregate:R},text:this.localizationService.get("Aggregate_"+(0,o.D)(R,(0,h.s)(this.sqExpr,this.schema).getMetadata(this.schema)))})}return O}visitTransformOutputRoleRef(w){return[]}}class V{constructor(w,I,O,x,j,U,F,R,B,A,W,G,K,q,ne){if(this.property=w,this.bucket=I,this.buckets=O,this.dataRole=x,this.forceAggregateItems=j,this.schema=U,this.aggrOps=F,this.visual=R,this.featureSwitchService=B,this.groupingDesignStateService=A,this.showValueAsService=W,this.localizationService=G,this.visualContainer=K,this.visualCalcEagerService=q,this.explorationCapabilitiesService=ne,this.menuItems=[],this.conditionalFormattingOptions=[],this.supportedOperations=this.property.supportedOperations??i.HT.All,this.supports(i.HT.Delete)&&this.addItems([{key:{action:i.HT.Delete},text:this.localizationService.get("FieldWell_Remove")}],!1),this.property.interactivityOptions.isEditableField&&this.supports(i.HT.Rename)&&this.addItems([{key:{action:i.HT.Rename},text:this.localizationService.get("FieldWell_RenameForThisVisual")}],!1),this.supports(i.HT.SubMenu)){var k=(0,n.E8)(this.visualContainer);!k&&this.bucket.properties.length>1&&this.addItems([this.createMoveGroupMenuItem()],!1),!k&&this.buckets.length>1&&this.supports(i.HT.MoveBucket)&&this.addItems([{key:{action:i.HT.SubMenu},text:this.localizationService.get("ItemAction_MoveTo"),children:this.buckets.filter(L=>!this.bucket.equals(L)).map(L=>({type:l.xU.Item,text:L.displayName,key:{action:i.HT.MoveBucket,moveFieldBucketOptions:{role:L.role,targetIndex:L.properties?.length??0,displayName:L.displayName}},disabled:L.disabled}))}],!1)}this.visual&&(this.conditionalFormattingOptions=(this.property.conditionalFormattingRepetitions??[]).map(L=>({repetition:L,propertyDefinition:(0,c.Ao)(this.visual.objects,L)})))}visitEntity(w){return s.Y.assertFail("Did not expect FieldExprEntityPattern in field well"),this.menuItems}visitColumn(w){return this.supports(i.HT.SetConditionalFormatting)&&this.addConditionalFormattingMenuItems(),this.supports(i.HT.SetAggregate)&&this.addAggregateMenuItems(),this.supports(i.HT.SetShowValueAs)&&this.addShowValueAsMenuItem(w.schema),this.supports(i.HT.NewQuickCalc)&&this.addQuickCalcMenuItem(w.schema),this.supports(i.HT.ShowAll)&&this.addShowAllMenuItem(),this.supports(i.HT.RestoreHierarchy)&&this.addHierarchiesMenuItems(),this.supports(i.HT.SetVariation)&&this.addVariationsMenuItems(w),this.supports(i.HT.SetGroups)&&this.addGroupsMenuItems(w),this.addFieldParameterMenuItems(),this.menuItems}visitColumnAggr(w){return this.supports(i.HT.AddSparklines)&&this.addSparklineMenuItem(w.schema),this.supports(i.HT.SetConditionalFormatting)&&this.addConditionalFormattingMenuItems(),this.supports(i.HT.SetAggregate)&&this.addAggregateMenuItems(),this.supports(i.HT.SetShowValueAs)&&this.addShowValueAsMenuItem(w.schema),this.supports(i.HT.NewQuickCalc)&&this.addQuickCalcMenuItem(w.schema),this.supports(i.HT.ShowAll)&&this.addShowAllMenuItem(),this.supports(i.HT.RestoreHierarchy)&&this.addHierarchiesMenuItems(),this.supports(i.HT.SetVariation)&&this.addVariationsMenuItems(w),this.addFieldParameterMenuItems(),this.menuItems}visitGroupingColumn(w){return this.addConditionalFormattingMenuItems(),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(w.schema),this.addQuickCalcMenuItem(w.schema),this.addShowAllMenuItem(),this.addHierarchiesMenuItems(),this.addVariationsMenuItems(w),this.addGroupsMenuItems(w),this.menuItems}visitGroupingColumnAggr(w){return this.addSparklineMenuItem(w.schema),this.addConditionalFormattingMenuItems(),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(w.schema),this.addQuickCalcMenuItem(w.schema),this.addShowAllMenuItem(),this.addHierarchiesMenuItems(),this.addVariationsMenuItems(w),this.menuItems}visitColumnHierarchyVariation(w){return s.Y.assertFail("Did not expect columnHierarchyVariation in field well for now"),this.menuItems}visitColumnHierarchyLevelVariation(w){return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(w.source.schema),this.addQuickCalcMenuItem(w.source.schema),this.addShowAllMenuItem(),this.addHierarchiesMenuItems(),this.menuItems}visitColumnSubquery(w){return s.Y.assertFail("Should not be called"),this.menuItems}visitColumnAggrSubquery(w){return s.Y.assertFail("Should not be called"),this.menuItems}visitColumnNativeTable(w){return s.Y.assertFail("Should not be called as of now"),this.menuItems}visitColumnAggrNativeTable(w){return s.Y.assertFail("Should not be calledas of now"),this.menuItems}visitColumnTransformRef(w){return s.Y.assertFail("Should not be called"),this.menuItems}visitEntityAggr(w){return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(w.schema),this.addQuickCalcMenuItem(w.schema),this.addShowAllMenuItem(),this.menuItems}visitHierarchy(w){return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(w.schema),this.addShowAllMenuItem(_.head(this.property.hierarchyLevels).expr),this.addHierarchiesMenuItems(),this.menuItems}visitHierarchyLevel(w){return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(w.schema),this.addQuickCalcMenuItem(w.schema),this.addShowAllMenuItem(),this.addHierarchiesMenuItems(),this.menuItems}visitHierarchyLevelAggr(w){return this.addSparklineMenuItem(w.schema),this.addConditionalFormattingMenuItems(),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(w.schema),this.addQuickCalcMenuItem(w.schema),this.addShowAllMenuItem(),this.menuItems}visitMeasure(w){return this.addSparklineMenuItem(w.schema),this.addConditionalFormattingMenuItems(),this.addShowValueAsMenuItem(w.schema),this.addQuickCalcMenuItem(w.schema),this.addShowAllMenuItem(),this.menuItems}visitPercentile(w){return this.addConditionalFormattingMenuItems(),this.menuItems}visitSelectRef(w){return[]}visitTransformOutputRoleRef(w){return[]}visitPercentOfGrandTotal(w){return this.addPercentTotalMenuItems(w.baseExpr)}visitPercentOfRoleTotal(w){return this.addPercentTotalMenuItems(w.baseExpr)}visitFilteredEval(w){return this.addFilteredEvalMenuItems()}visitArithmetic(w){return this.menuItems}visitNativeVisualCalc(w){return this.featureSwitchService.featureSwitches.conditionalFormattingVisualCalculation&&this.addConditionalFormattingMenuItems(),this.addEditVisualCalcMenuItems(),this.menuItems}visitConstant(w){return s.Y.assertFail("FieldWellMenuViewModelFactory - Not expecting to be called"),this.menuItems}visitSparklineData(w){return this.featureSwitchService.featureSwitches.sparklines&&this.addItems([{key:{action:i.HT.EditSparklines},text:this.localizationService.get("Sparkline_EditOption")}]),this.menuItems}supports(w){return(this.supportedOperations&w)===w}get conceptualProperty(){return this.property.expr.getConceptualProperty(this.schema)}get projections(){return this.visual.query?.projections[this.property.role]}hasGroupByItems(){return(0,n.rf)(this.visual.query)}hasVisualCalcOrHiddenFields(){return(0,n.Gp)([this.visualContainer])}addItems(w,I=!0){_.isEmpty(w)||(I&&this.menuItems.push({type:l.xU.Separator}),this.menuItems.push(...w.map(O=>({...O,type:l.xU.Item}))))}addEditVisualCalcMenuItems(){(0,a.$M)(this.property.expr)&&this.visualCalcEagerService.isVisualCalcAuthoringEnabled()&&this.addItems([this.createEditCalculationMenuItem()])}createEditCalculationMenuItem(){var w={key:{action:i.HT.EditVisualCalculation},text:this.localizationService.get("FieldWell_EditVisualCalculation")};if(null!=this.visual.query){var O=this.projections,j=O.convertFieldIndexToProjectionIndex(this.property.startIndex),U=O.all()[j];w.disabled=this.explorationCapabilitiesService?.getCapabilities()?.disableVisualCalcAuthoring||this.visualCalcEagerService.shouldDisableEditing(U.queryRef,this.visualContainer)}return w}addFieldParameterMenuItems(){this.conceptualProperty&&(this.supports(i.HT.ConvertColumnToParameter)?this.addItems([{key:{action:i.HT.ConvertColumnToParameter},text:this.localizationService.get("FieldParameter_ConvertColumnToParameter"),...this.getDisabledAndTooltipForVisualCalcScenarios("FieldParameter_ConvertColumnToParameter_Disabled_For_VCEM","FieldParameter_ConvertColumnToParameter_Disabled_For_VC_Hidden")}]):this.supports(i.HT.ConvertParameterToColumn)&&this.addItems([{key:{action:i.HT.ConvertParameterToColumn},text:this.localizationService.get("FieldParameter_ConvertParameterToColumn")}]))}addFilteredEvalMenuItems(){return this.addAggregateMenuItems(),this.menuItems}addPercentTotalMenuItems(w){var I=(0,E.to)(w);return this.addConditionalFormattingMenuItems(I),this.addAggregateMenuItems(),this.addShowValueAsMenuItem((0,m._w)(w)),this.addShowAllMenuItem(I),this.addHierarchiesMenuItems(),this.addVariationsMenuItems((0,m.UU)(w)),this.menuItems}addAggregateMenuItems(){this.addItems(S(this.property.expr,this.schema,this.aggrOps,!_.isEmpty(this.property.hierarchyLevels),this.dataRole.kind,this.dataRole.requiredTypes,this.localizationService,this.forceAggregateItems),!0)}addConditionalFormattingMenuItems(w){if(!_.isEmpty(this.conditionalFormattingOptions)&&(w??this.property.expr).getMetadata(this.schema)&&!this.hasGroupByItems()){this.addItems([{text:this.localizationService.get("FieldWell_ConditionalFormatting"),children:this.conditionalFormattingOptions.map(U=>this.createConditionalFormattingMenuItem(U.repetition.propertyDescriptor.displayName,i.HT.SetConditionalFormatting,U))}]);var I={type:l.xU.Item};if(I.text=this.localizationService.get("FieldWell_RemoveConditionalFormatting"),this.menuItems.push(I),!_.some(this.conditionalFormattingOptions,U=>null!=U.propertyDefinition))return void(I.disabled=!0);var x=I.children=[];for(var j of(x.push(this.createConditionalFormattingMenuItem((0,v.D)("All"),i.HT.RemoveConditionalFormattingAll)),this.conditionalFormattingOptions))x.push({...this.createConditionalFormattingMenuItem(j.repetition.propertyDescriptor.displayName,i.HT.RemoveConditionalFormatting,j),disabled:null==j.propertyDefinition})}}createConditionalFormattingMenuItem(w,I,O){return{type:l.xU.Item,key:{action:I,conditionalFormattingOptions:O},text:(0,v.M)(w,this.localizationService)}}addShowAllMenuItem(w){var I=(0,f.t)(w??this.property.expr);this.hasGroupByItems()||(this.dataRole.kind===p.Ts.Grouping||this.dataRole.kind===p.Ts.GroupingOrMeasure&&!I)&&this.addItems([{key:{action:i.HT.ShowAll},text:this.localizationService.get("FieldWell_ShowAll"),disabled:this.hasVisualCalcOrHiddenFields(),tooltip:this.hasVisualCalcOrHiddenFields()?this.localizationService.get("FieldWell_ShowAll_DisabledTooltip_For_VC_Hidden"):void 0}])}addHierarchiesMenuItems(){if(!_.isEmpty(this.property.hierarchyLevels)){var w=_.head(this.property.hierarchyLevels),I=(0,y.w)(this.schema,w.expr.arg);I instanceof Array&&I.length===this.property.hierarchyLevels.length||this.bucket.supportsMultipleItems&&this.addItems([{key:{action:i.HT.RestoreHierarchy},text:this.localizationService.get("FieldWell_RestoreHierarchy")}])}}addShowValueAsMenuItem(w){if(_.isEmpty(this.property.hierarchyLevels)&&this.conceptualProperty){var I=this.schema.schema(w),O=I&&I.capabilities.supportsScopedEval;if(!this.hasGroupByItems()&&O&&this.dataRole.kind!==p.Ts.Grouping){var j=this.showValueAsService.createShowValueAsMenuItems(this.property.expr,this.schema,this.visual.visualType);_.isEmpty(j)||this.addItems([{key:{action:i.HT.SetShowValueAs},text:this.localizationService.get("FieldWell_ShowValueAs"),children:j}])}}}addQuickCalcMenuItem(w){if(this.conceptualProperty){var I=this.schema.schema(w);(I&&I.capabilities.canEdit&&!I.isExtensionSchema||this.canAuthorReportMeasuresOnSchema(I))&&this.addItems([{key:{action:i.HT.NewQuickCalc},text:this.localizationService.get("QuickCalc_NewMeasure")}])}}canAuthorReportMeasuresOnSchema(w){return w.capabilities.isExtendable||w.isExtensionSchema}addSparklineMenuItem(w){if(this.featureSwitchService.featureSwitches.sparklines&&this.dataRole.supportsSparklines){var I=this.schema.schema(w);!I||!I.capabilities.supportsSparklineData||this.addItems([{key:{action:i.HT.AddSparklines},text:this.localizationService.get("Sparkline_AddOption"),...this.getDisabledAndTooltipForVisualCalcScenarios("Sparkline_AddOption_Disabled_For_VCEM","Sparkline_AddOption_Disabled_For_VC_Hidden")}])}}addVariationsMenuItems(w){if(w){var I=(0,E.fq)(w),O=I.getConceptualProperty(this.schema);if(O){var x=O.column;if(x&&!_.isEmpty(x.variations)){var j=(0,D.EG)(w.schema,w.entity),U={text:O.displayName,key:{action:i.HT.SetVariation,variationExpr:I}},F=[];for(var R of x.variations){var B=R.navigationProperty?.targetEntity;if(B){if(this.dataRole.kind!==p.Ts.Measure)for(var A of _.filter(B.hierarchies,K=>!K.hidden))F.push({key:{action:i.HT.SetVariation,variationExpr:(0,D.Sk)((0,D.U7)(j,R.name,O.name),A.name)},text:A.name});var W=(0,D.EG)(j.schema,B.name);for(var G of _.filter(B.properties,K=>!K.hidden))F.push({key:{action:i.HT.SetVariation,variationExpr:(0,D.sX)(W,G.name)},text:G.displayName})}}_.isEmpty(F)||this.addItems([U,...F])}}}}addGroupsMenuItems(w){var I=this.schema.schema(w.schema);if(!1!==(I&&I.capabilities.canEdit&&I.capabilities.supportsGrouping)){var j=[],U=this.conceptualProperty;this.featureSwitchService.featureSwitches.enableGroupAuthoring&&((0,d.PC)(this.schema,this.property.expr)&&!(this.property.hierarchyLevels&&this.property.hierarchyLevels.length>0)&&j.push({key:{action:i.HT.SetGroups},text:this.localizationService.get("ContextMenuItem_CreateGroups")}),(0,d.__)(w.entity,U,this.groupingDesignStateService)&&j.push({key:{action:i.HT.EditGroups},text:this.localizationService.get("ContextMenuItem_EditGroups")})),(0,d.No)(w.entity,U,this.groupingDesignStateService)&&j.push({key:{action:i.HT.EditClustering},text:this.localizationService.get("Clustering_EditClusters")}),this.addItems(j)}}getDisabledAndTooltipForVisualCalcScenarios(w,I){return this.visualContainer?.visibility===t.B8.VisualCalcEditing?{disabled:!0,tooltip:this.localizationService.get(w)}:this.hasVisualCalcOrHiddenFields()?{disabled:!0,tooltip:this.localizationService.get(I)}:{disabled:!1}}createMoveUpMenuItem(){var w={type:l.xU.Item};w.text=this.localizationService.get("ItemAction_Move_Up");var I={action:i.HT.MoveUp},O=this.findFieldPropertyIndexInBucket();if(O<=0)w.disabled=!0;else{var x=this.bucket.properties[O-1];I.moveFieldPropertyOptions={role:x.role,startIndex:x.startIndex,hierarchyLevelsLength:x.hierarchyLevels?x.hierarchyLevels.length:0}}return w.key=I,w}createMoveDownMenuItem(){var w={type:l.xU.Item};w.text=this.localizationService.get("ItemAction_Move_Down");var I={action:i.HT.MoveDown},O=this.findFieldPropertyIndexInBucket();if(O>=this.bucket.properties.length-1)w.disabled=!0;else{var x=this.bucket.properties[O+1];I.moveFieldPropertyOptions={role:x.role,startIndex:x.startIndex,hierarchyLevelsLength:x.hierarchyLevels?x.hierarchyLevels.length:0}}return w.key=I,w}createMoveToTopMenuItem(){var w={type:l.xU.Item};w.text=this.localizationService.get("ItemAction_Move_Top");var I={action:i.HT.MoveUp},O=this.bucket.properties[0];return this.property.equals(O)?w.disabled=!0:I.moveFieldPropertyOptions={role:O.role,startIndex:O.startIndex,hierarchyLevelsLength:O.hierarchyLevels?O.hierarchyLevels.length:0},w.key=I,w}createMoveToBottomMenuItem(){var w={type:l.xU.Item};w.text=this.localizationService.get("ItemAction_Move_Bottom");var I={action:i.HT.MoveDown},O=this.bucket.properties[this.bucket.properties.length-1];return this.property.equals(O)?w.disabled=!0:I.moveFieldPropertyOptions={role:O.role,startIndex:O.startIndex,hierarchyLevelsLength:O.hierarchyLevels?O.hierarchyLevels.length:0},w.key=I,w}findFieldPropertyIndexInBucket(){return _.findIndex(this.bucket.properties,w=>this.property.equals(w))}createMoveGroupMenuItem(){return{key:{action:i.HT.SubMenu},text:this.localizationService.get("ItemAction_Move"),children:[this.createMoveUpMenuItem(),this.createMoveDownMenuItem(),this.createMoveToTopMenuItem(),this.createMoveToBottomMenuItem()]}}}function M(N,w,I,O,x,j,U,F,R,B,A,W,G,K,q){return{items:(0,m.YR)((0,g.F)(N.expr),new V(N,w,I,O,x,j,U,F,R,B,A,W,G,K,q))}}},609568:function(ve,z,e){e.d(z,{x:function(){return u}});var a=e(620825),i=e(98138),r=e(293444),t=e(81825),o=e(572920),d=e(448724),n=e(757406),c=e(73646),s=e(133533),p=e(899839);class u{constructor(g){this.localizationService=g}fromFilterExpr(g,E,D,h){return g.accept(new v(this.localizationService,E,D,h))}}class v extends c.nP{constructor(g,E,D,h){super(),this.localizationService=g,this.schema=E,this.supportsCategorical=!0,this.context={isNegative:!1,allowNot:!0,logicalOperator:d.um.Undefined},this.formatter=D,this.field=h,this.fieldToIdentityVisitor=new p.D}visitColumnRef(g){if(null==this.field||(0,i.aI)(this.field,g))return this.createFilterCard(g);if(null!==this.field&&this.field instanceof n.LV&&this.schema){var E=this.field.accept(this.fieldToIdentityVisitor,this.schema);if(!_.isEmpty(E)&&1===E.length&&(0,i.aI)(E[0],g))return this.createFilterCard(g)}}visitGroupRef(g){if(null==this.field||(0,i.aI)(this.field,g))return this.createFilterCard(g)}visitMeasureRef(g){return this.createFilterCard(g)}visitAggr(g){return this.createFilterCard(g)}visitArithmetic(g){return this.createFilterCard(g)}visitHierarchyLevel(g){return this.supportsCategorical=!1,this.createFilterCard(g)}visitEntity(g){return this.createFilterCard(g)}visitIn(g){if(!g.table&&g.args&&1===g.args.length){g.args[0].accept(this);var E=this.filter;if(null==E&&null!=this.field)return this.createFilterCard(this.field);var D=this.context;for(var h of g.values)D.condition=new o.kW(D.isNegative?d.tl.IsNot:d.tl.Is),h[0].accept(this),E.conditions.push(D.condition);if(E.logicalOperator!==d.um.Undefined)return;return E.logicalOperator=D.isNegative?d.um.And:d.um.Or,E}}visitBetween(g){this.supportsCategorical=!1,g.arg.accept(this);var E=this.filter,D=this.context;if(D.condition=new o.kW(D.isNegative?d.tl.LessThan:d.tl.GreaterThanOrEqual),g.lower.accept(this)&&(E.conditions.push(D.condition),D.condition=new o.kW(D.isNegative?d.tl.GreaterThan:d.tl.LessThanOrEqual),g.upper.accept(this)&&(E.conditions.push(D.condition),E.logicalOperator===d.um.Undefined)))return E.logicalOperator=d.um.And,E}visitAnd(g){this.supportsCategorical=!1;var E=this.context,D=E.isNegative?d.um.Or:d.um.And;if(E.logicalOperator===d.um.Undefined)E.logicalOperator=D;else if(E.logicalOperator!==D)return;if(g.left.accept(this)&&g.right.accept(this))return this.filter}visitOr(g){var E=this.context,D=E.isNegative?d.um.And:d.um.Or;if(E.logicalOperator===d.um.Undefined)E.logicalOperator=D;else if(E.logicalOperator!==D)return;if(g.left.accept(this)&&g.right.accept(this))return this.filter}visitCompare(g){var E=this.context,D=this.getFilterOperator(g,E.isNegative);if(void 0!==D&&D!==d.tl.None){E.condition=new o.kW(this.getFilterOperator(g,E.isNegative));var h=E.allowNot;if(E.allowNot=!1,g.left.accept(this)&&g.right.accept(this)&&(g.right instanceof n.wy||g.right instanceof n.UC)){var C=this.filter;return C.conditions.push(this.context.condition),C.conditions.length>1&&C.logicalOperator===d.um.Undefined&&(C.logicalOperator=d.um.And),E.allowNot=h,E.condition=null,C}}}visitNot(g){var E=this.context,D=g.arg;if((D instanceof n.j_||D instanceof n.zn||D instanceof n.qO||E.allowNot&&(D instanceof n.xC||D instanceof n.Zd||D instanceof n.v6||D instanceof n.Ly||D instanceof n.JC))&&(E.isNegative=!E.isNegative,g.arg.accept(this)))return E.isNegative=!E.isNegative,this.filter}visitConstant(g){if(this.context.condition)return g.type.primitiveType!==r.W.Null&&(this.context.condition.value=new o.hr(g.value,this.formatter)),this.filter}visitDateSpan(g){if(this.supportsCategorical=!1,g.unit===t.yr.Second||g.unit===t.yr.Day){var E=this.context,D=E.allowNot;E.allowNot=!1;var h=g.arg.accept(this);return E.allowNot=D,h}}visitContains(g){this.supportsCategorical=!1;var E=this.context;E.condition=new o.kW(E.isNegative?d.tl.DoesNotContain:d.tl.Contains);var D=E.allowNot;if(E.allowNot=!1,g.left.accept(this)&&g.right.accept(this)){var h=this.filter;return h.conditions.push(this.context.condition),E.allowNot=D,h}}visitStartsWith(g){this.supportsCategorical=!1;var E=this.context;E.condition=new o.kW(E.isNegative?d.tl.DoesNotStartWith:d.tl.StartWith);var D=E.allowNot;if(E.allowNot=!1,g.left.accept(this)&&g.right.accept(this)){var h=this.filter;return h.conditions.push(this.context.condition),E.allowNot=D,h}}getFilterOperator(g,E){switch(this.supportsCategorical=this.supportsCategorical&&g.comparison===t.mq.Equal,g.comparison){case t.mq.LessThan:return E?d.tl.GreaterThanOrEqual:d.tl.LessThan;case t.mq.LessThanOrEqual:return E?d.tl.GreaterThan:d.tl.LessThanOrEqual;case t.mq.GreaterThan:return E?d.tl.LessThanOrEqual:d.tl.GreaterThan;case t.mq.GreaterThanOrEqual:return E?d.tl.LessThan:d.tl.GreaterThanOrEqual;case t.mq.Equal:return(0,a.EL)(g.right)?E?d.tl.IsNotBlank:d.tl.IsBlank:(0,a.Qy)(g.right)&&""===g.right.value?E?d.tl.IsNotEmptyString:d.tl.IsEmptyString:E?d.tl.IsNot:d.tl.Is}}createFilterCard(g){return this.filter||(this.filter=new s.s(g,this.localizationService),this.filter.supportsCategorical=this.supportsCategorical,this.filter.logicalOperator=this.context.logicalOperator),this.filter}}},796470:function(ve,z,e){e.d(z,{Ar:function(){return o},Xi:function(){return i},gv:function(){return d},zM:function(){return t}});var a=e(18122),i=function(n){return n[n.PercentOfGrandTotal=0]="PercentOfGrandTotal",n[n.PercentOfRoleTotal=1]="PercentOfRoleTotal",n}({});class r{constructor(c,s,p,...l){a.Y.assertValue(s,"nameResourceKey"),a.Y.assertValue(p,"locService"),this.kind=c,this.name=p.format(s,l)}}class t extends r{constructor(c){super(void 0,"ShowValueAs_Calculation_None",c)}}class o extends r{constructor(c){super(i.PercentOfGrandTotal,"ShowValueAs_Calculation_PercentOfGrandTotal",c)}}class d extends r{constructor(c,s,p){super(i.PercentOfRoleTotal,"ShowValueAs_Calculation_PercentOfRoleTotal",c,p),this.roles=s}}},677126:function(ve,z,e){e.d(z,{J:function(){return i}});var a=e(18122);class i{constructor(t,o){a.Y.assertValue(t,"contract"),a.Y.assertValue(o,"state"),this._contract=t,this._state=o}get contract(){return this._contract}get readOnlyState(){return this._state}updateViewState(){this.updateViewStateCore(this._state)}updateViewStateCore(t){}}},831778:function(ve,z,e){e.d(z,{AY:function(){return R},B:function(){return w},B8:function(){return M},CG:function(){return B},Ds:function(){return q},EL:function(){return K},Fk:function(){return I},I1:function(){return P},Ln:function(){return W},Vj:function(){return ne},Vt:function(){return O},X8:function(){return F},YL:function(){return G},an:function(){return N},dc:function(){return j},dv:function(){return A},iX:function(){return T},nz:function(){return U},p$:function(){return k},rT:function(){return f}});var a=e(316051),i=e(960179),r=e(576086),t=e(71712),o=e(850990),d=e(387797),n=e(31532),c=e(579260),s=e(18122),p=e(454840),l=e(601331),u=e(731934),v=e(576599),m=e(965311),g=e(165648),E=e(450750),D=e(469967),h=e(98138),C=e(920468),y=e(371577);function f(L,X,Y){var Q=!0,H=X&&X.featureSwitches.userFavoriteResourcePackagesEnabled&&L.custom&&Y.isFavoritePublicCustomVisual(L.name),te=X&&X.featureSwitches.userFavoriteResourcePackagesEnabled&&L.custom&&L.favoriteId||H,ee=X&&X.featureSwitches.userFavoriteResourcePackagesEnabled&&L.custom&&!L.favoriteId&&!H,ue=X&&X.featureSwitches.tenantOutOfBoxVisualsEnabled&&L.custom&&L.isOutOfBox,Te=X&&X.featureSwitches.personalVisualizationPaneEnabled&&Y.isUnpinnedVisual(L.name);return(L.custom&&!ue&&ee||Te&&!te)&&(Q=!1),Q}class S{constructor(X){this.sections=[],this.activeSection=E.q.Fields,this.previousSection=E.q.Fields,this.pagePaneSections=[],this.activePageSection=E.d.Fields,this.previousPageSection=E.d.Fields,this.title="Format",this.icon="PBIFormat",this.visualPluginFilter=(Y,Q,H)=>f(Y,Q,H),this.nonPersonalVisualizationPaneFilter=(Y,Q,H)=>!f(Y,Q,H),this.showCloseButton=X}get activeSectionIndex(){var X=_.findIndex(this.sections,Y=>Y.sectionType===this.activeSection);return-1!==X?X:0}get activePageSectionIndex(){var X=_.findIndex(this.pagePaneSections,Y=>Y.sectionType===this.activePageSection);return-1!==X?X:0}}var b="-",V="\\"+b;function M(){return{exploration:null,options:null,taskPane:{title:"Data",icon:"PBIData"},visualizationPane:w(),sectionStatus:{currentSectionNumber:-1,isEditing:!1},isNavPaneCollapsed:!0,performancePane:T("PerformanceAnalyzerPane_Title","PBIPerformanceAnalyzer","PerformanceAnalyzerPane_Close"),bookmarksPane:T("ExplorationBookmarksPane_Title","AudioBookmark","ExplorationBookmarksPane_Close"),canvasItemsPane:T("ExplorationCanvasItemsPane_Title","LaunchSelectionPane","ExplorationCanvasItemsPane_Close"),syncGroupPane:T("SyncGroupPane_Title","PBISyncSlicer","SyncGroupPane_Close"),insightsPane:T("Insights_TitleKey","PBIAnomalyExplain","InsightsPane_Close"),reflexPane:T("Reflex_Config_Title",void 0,"Reflex_Pane_Close"),quickExplorePane:T("Summarize"),quickMeasuresPane:T("QuickMeasure","PBINewQuickMeasure","QuickMeasuresPane_Close"),buildPane:T("Permission_Explore","PBIBuild"),suggestSkittlePane:T("Suggest_A_Visual","suggestLightningBolt"),chartElementsSkittlePane:T("Skittles_ChartElements_Title","PBIAddToChart"),assistedCreationPane:T("AssistedCreation_Pane_Title","addchartplaceholder","AssistedCreation_Pane_Close"),copilotPane:T("CopilotPaneEntryPoint_Title","Copilot"),customizePane:T("Customize","powermap_newtour")}}function P(L,X){var Y=(Q,H)=>({type:y.xU.Item,key:H,text:(0,C.oB)(X)?.get(Q)??Q});return{contract:L,selected:!1,displayName:L.displayName,menuItems:{items:[Y("Duplicate",u.ID.DuplicateSection),Y("Rename",u.ID.RenameSection),Y("Delete",u.ID.DeleteSection),Y("Hide",u.ID.ToggleVisibility),Y("Menu_MoveLeft",u.ID.MoveLeft),Y("Menu_MoveRight",u.ID.MoveRight),Y("Menu_MoveFront",u.ID.MoveToFront),Y("Menu_MoveEnd",u.ID.MoveToEnd)]}}}function T(L,X,Y){return{title:L,icon:X,closePaneLabel:Y}}function N(){return{title:"Data",icon:"PBIData"}}function w(L=!1){return new S(L)}function I(L,X,Y,Q,H,te){return O(_.filter(L,ue=>ue.custom),X,Y,Q,H,te)}function O(L,X,Y,Q,H,te){var ee=[];for(var ue of L)Q&&!Q(ue,X,Y)||ee.push((0,D.dP)(ue,X,Y,H,te));return ee}function x(L,X,Y){Y.hostServices={getFilters:(Q,H)=>Q.calculateVisualContainerFilter(L,X,Y.contract,H),getDataSourceVariables:()=>L.dataSourceVariables,getVisualRelationshipFilterAction:(Q,H,te)=>H.relationshipFilterAction(X,Q,Y.contract,te,!1),selectDataPoint:(Q,H,te,ee,ue,Te)=>{Q.setFilterOnSelectData(L,H,X,Y.contract,te,ee,ue,Te)},setVisualRelationshipFilterAction:(Q,H,te,ee)=>ee.setVisualRelationship(X,Q,H,te)}}function j(L,X,Y,Q,H){s.Y.assertValue(L,"contract");var ue,te=_.map(L.sections,We=>P(We,H)),ee=L.sections;if(ee&&ee.length>0){var Te=void 0!==Y?Y:0;if(Te<ee.length){ue=U(L,ee[Te],X,Q);for(var He=ee.length-1;He>=0;--He)te[He].selected=He===Te}}return{contract:L,sections:te,exploreCanvas:ue}}function U(L,X,Y,Q){s.Y.assertValue(X,"section");var H=new v.g(X,Y);if(X.visualContainers&&(H.visualContainers=(0,c.u_)(_(X.visualContainers).map(ue=>B(ue,Y,Q)).filter(ue=>!!ue).value()),H.visualContainerGroups=Y===a.v.PhonePortrait?[...H.visualContainers]:F(X.visualContainerGroups,H.visualContainers,Y,Q),!_.isEmpty(H.visualContainers))){var te=H.visualContainers;for(var ee of te)x(L,X,ee)}return H}function F(L,X,Y,Q){var H=[],te=function(ue){if((0,t.iA)(ue)){var Te=_.find(X,We=>We.contract===ue);Te&&H.push(Te)}else{var He=R(ue,F(ue.children,X,Y,Q));He&&H.push(He)}};for(var ee of L)te(ee);return H}function R(L,X,Y=a.v.Master){if(s.Y.assertValue(L,"contract"),L.layouts.withId(Y)){var H=new g.Zp(L,Y,X);for(var te of X)te.parentGroup=H;return H}}function B(L,X=a.v.Master,Y){s.Y.assertValue(L,"contract");var Q=new n.O,H=L.layouts.withId(X);if(H){var te=H.position;return Q.position({y:te.y,x:te.x}),Q.zIndex(te.z||0),Q.viewport({height:te.height,width:te.width}),new m.Y(L,Q,X,Y)}}function A(L,X,Y,Q){var H=B(Y,Q);if(H)return x(L,X,H),H}function W(L,X=!0){return{isVisualVisible:!1,reportFilters:X?[]:null,pageFilters:[],drillthroughFilters:[],visualFilters:[],activeFilterPane:void 0,addFilterLabel:L.get("FieldDropZone_AddFields"),addDrillthroughFilterLabel:L.get("FieldDropZone_DrillthroughLink_Watermark")}}function G(L,X,Y,Q,H,te,ee,ue,Te){s.Y.assertValue(X,"visualContainer"),s.Y.assertValue(Y,"schema");var He=X.filters?.filter(he=>null!=he)||[],We=[],ft={container:X,scopeType:i.$d.Visual},mt=(0,d.W3)(X,te,Y,ue),At=(0,d.vC)(L,X,ee,Y),Qe=he=>(0,l.dm)(he,Y,Q,ft,H,ue,Te,(0,d.p6)(X,H),X.config.singleVisual),Fe=function(he){var xe=Qe(he);if(We.push(xe),mt){if(he.expression&&!_.isEmpty(he.expression.validate(Y,ue)))return 1;var Ae=_.findIndex(mt,Ie=>(0,h.aI)(Ie.expression,he.expression));-1===Ae?he.howCreated===r.GS.Auto&&(xe.howCreated=he.howCreated=r.GS.User):(he.howCreated===r.GS.User&&(xe.howCreated=he.howCreated=r.GS.Auto),he.howCreated!==r.GS.Drill&&mt.splice(Ae,1))}};for(var ye of He)Fe(ye);var we=At=At||[];if(we=we.concat(mt=mt||[]),_.isEmpty(ft.container.filters)&&(ft.container.filters=[]),ft.container.filters.push(...mt||[]),we)for(var Ee of we){var Oe=Qe(Ee);Oe.howCreated=Ee.howCreated,We.push(Oe)}return We.sort(ne),We}function K(L,X,Y,Q,H,te,ee,ue){var Te=[];if(!L||!L.container||!L.container.filters)return Te;for(var He of L.container.filters)if(null==ue||He.howCreated===ue){He.name||(He.name=o.M.getNextFilterName(L.container.filters));var We=(0,l.dm)(He,X,Y,L,Q,H,te,ee,null);Te.push(We)}return Te.sort(ne),Te}function q(L){return _.map(L,Y=>(0,p.yh)(Y,b,V)).join(b)}function ne(L,X){var Y=L.getDisplayName()?-1:1,Q=X.getDisplayName()?-1:1;if(Y!==Q)return Y-Q;var H=L.getDisplayName()||L.getRestatement()||"",te=X.getDisplayName()||X.getRestatement()||"";return H.localeCompare(te)}function k(L,X){var Y=void 0===L.contract.ordinal?1:-1,Q=void 0===X.contract.ordinal?1:-1;return-1===Y&&-1===Q?L.contract.ordinal-X.contract.ordinal:Y-Q}},469967:function(ve,z,e){e.d(z,{Mn:function(){return n},Nn:function(){return s},No:function(){return l},dP:function(){return c}});var a=e(770969),i=e(535857),r=e(920468),t=e(691988),o=e(432262),d=e(266092);function n(u,v){return v=(0,r.oB)(v),(0,d.M)(u,v)}function c(u,v,m,g,E){var D=(E=(0,r.oB)(E)).get("AddToFavorites_ContextMenu"),h=E.get("RemoveFromFavorites_ContextMenu"),C=E.get("AboutVisualDialog_About"),y={plugin:u,enabled:!0,active:!1,menuItems:[]},f=s(u,g,E,v);y.class=f.class,y.title=f.title,f.watermarkKey&&(u.watermarkKey=f.watermarkKey);var S=v&&v.featureSwitches.userFavoriteResourcePackagesEnabled&&u.custom&&m.isFavoritePublicCustomVisual(u.name),b=v&&v.featureSwitches.userFavoriteResourcePackagesEnabled&&u.custom&&u.favoriteId||S,V=v&&v.featureSwitches.userFavoriteResourcePackagesEnabled&&u.custom&&!u.favoriteId&&!S,M=v&&v.featureSwitches.tenantOutOfBoxVisualsEnabled&&u.custom&&u.isOutOfBox,P=v&&v.featureSwitches.personalVisualizationPaneEnabled&&m.isUnpinnedVisual(u.name),T=v&&v.featureSwitches.personalVisualizationPaneEnabled&&!m.isUnpinnedVisual(u.name),N=null;u.custom&&b?N=p(h,a.Vf.RemoveFromFavorites):u.custom&&!M&&V?N=p(D,a.Vf.AddToFavorites):P?N=p(D,a.Vf.Restore):(!u.custom||M)&&T&&(N=p(h,a.Vf.Unpin)),N&&y.menuItems.push(N);var w=p(C,a.Vf.About);return y.menuItems.push(w),y.tooltipConfig={tooltipTitle:y.title,tooltipShowOnFocus:!0},y}function s(u,v,m,g){var E=l(u.name,u.titleKey,v,m,g),D=u.custom?u.displayName||u.name.match(/([A-z\s]+)/g)[0]:void 0;return E?(D&&(E.title=D),E):{class:u.class,title:D??u.name}}function p(u,v){return{text:u,hasGlyph:!1,labelClass:"visualContextMenu itemLabel",action:v,type:i.y.Item,checked:!1,hrefTarget:o.qw}}function l(u,v,m,g,E){var D=n(v,g=(0,r.oB)(g));switch(u){case t.N.table.name:case t.N.tableEx.name:return{class:"table",title:D};case t.N.matrix.name:case t.N.pivotTable.name:return{class:"matrix",title:D};case t.N.scatterChart.name:return{class:"scatter",title:D};case t.N.barChart.name:return{class:"columnHoriz",title:D};case t.N.clusteredBarChart.name:return{class:"clusteredBarHoriz",title:D};case t.N.hundredPercentStackedBarChart.name:return{class:"column100Horiz",title:D};case t.N.ribbonChart.name:return{class:"ribbon",title:D};case t.N.columnChart.name:return{class:"columnVert",title:D};case t.N.clusteredColumnChart.name:return{class:"clusteredBarVert",title:D};case t.N.hundredPercentStackedColumnChart.name:return{class:"column100Vert",title:D};case t.N.realTimeLineChart.name:case t.N.lineChart.name:return{class:"line",title:D};case t.N.areaChart.name:return{class:"area",title:D};case t.N.stackedAreaChart.name:return{class:"stackedArea",title:D};case t.N.hundredPercentStackedAreaChart.name:return{class:"stacked100AreaChart",title:D};case t.N.lineClusteredColumnComboChart.name:return{class:"lineClusteredColumnCombo",title:D};case t.N.lineStackedColumnComboChart.name:return{class:"lineStackedColumnCombo",title:D};case t.N.pieChart.name:return{class:"pie",title:D};case t.N.treemap.name:return{class:"tree",title:D};case t.N.map.name:return{class:"map",title:D};case t.N.filledMap.name:return{class:"filledMap",title:D};case t.N.azureMap.name:return{class:"azureMap",title:D};case t.N.shapeMap.name:return{class:"shapeMap",title:D};case t.N.funnel.name:return{class:"funnel",title:D};case t.N.gauge.name:return{class:"gauge",title:D};case t.N.multiRowCard.name:return{class:"card",title:D};case t.N.card.name:return{class:"calloutCard",title:D};case t.N.cardVisual.name:return{class:"cardVisual",title:D};case t.N.waterfallChart.name:return{class:"waterfall",title:D};case t.N.slicer.name:return{class:"slicerVert",title:D};case t.N.advancedSlicerVisual.name:return{class:"buttonSlicer",title:D};case t.N.textSlicer.name:return{class:"textSlicer",title:D};case t.N.listSlicer.name:return{class:"listSlicer",title:D};case t.N.donutChart.name:return{class:"donut",title:D};case t.N.kpi.name:return{class:"kpi",title:D};case t.N.scriptVisual.name:return{class:"rScriptImageVisual",title:D};case t.N.pythonVisual.name:return{class:"pythonImageVisual",title:D};case t.N.debugVisual?.name:return{class:"debugger",title:D};case t.N.textbox.name:return{class:"smartNarratives",title:D};case t.N.basicShape.name:case t.N.shape.name:case t.N.actionButton.name:return{class:null,title:D};case t.N.image.name:return{class:E?.featureSwitches?.imageVisualImprovements?"imageVisual":null,title:D};case t.N.keyDriversVisual.name:return{class:"keyDrivers",title:D};case t.N.qnaVisual.name:return{class:"qna",title:D};case t.N.decompositionTreeVisual.name:return{class:"decompositionTree",title:D};case t.N.scorecard.name:return{class:"scorecard",title:D};case t.N.rdlVisual.name:return{class:"rdlVisual",title:E?.featureSwitches.operationalReportStringTest?n((0,d.D)("Operational_Report"),g):D};case t.N.aiNarratives.name:return{class:"aiNarratives",title:D};default:if(m&&m.isTrustedVisual(u)){var h=m.getVisualTypeOptions(u);if(h)return{class:h.class,title:h.titleKey?g.get(h.titleKey):u,watermarkKey:h.watermarkKey}}return}}},168468:function(ve,z,e){e.d(z,{N7:function(){return r}});var a=e(200367),i=e(261962);class r{constructor(s,p){this.featureSwitchService=p,s&&(this.color=s.color.solid.color,this.visible=s.show,this.radius=s.radius,this.width=s.width)}thickness(){return this.featureSwitchService.featureSwitches.visualBorderWidth?this.width??i.GD:i.GD}getNumericPaddingFromBorder(){return n(this.radius)}getBorderStyle(){if(this.visible){var s=(0,a.Pz)(this.color,1);return`${this.thickness()}px `+t+" "+s}}getPaddingFromBorder(){var s=n(this.radius);if(this.visible)return`${s}px`}getBorderRadius(){if(this.visible)return`${this.radius||i.g1}px`}}var t="solid",d=Math.sin(Math.PI/180*45);function n(c){return Math.ceil(c-c*d)}},965311:function(ve,z,e){e.d(z,{Y:function(){return K}});var a=e(233390),i=e(731934),r=e(548e3),t=e(129566),o=e(330854),d=e(66388),n=e(11733),c=e(576086),s=e(385926),p=e(408509),l=e(387797),u=e(31532),v=e(885653),m=e(109632),g=e(691988),E=e(960417),D=e(647132),h=e(512655),C=e(18122),y=e(432262),f=e(761297),S=e(649738),b=e(495123),V=e(99302),M=e(851556),P=e(693029),T=e(319842),N=e(531093),w=e(827431),I=e(784859),O=e(180999),x=e(7569),j=e(763278),U=e(677126),F=e(469967),B={key:void 0,defaultValue:!0,forceVisible:{[P.nE.Edit]:!0}},A={visualInformationButton:{...B,key:"showVisualInformationButton"},visualWarningButton:{...B,key:"showVisualWarningButton"},visualErrorButton:{...B,key:"showVisualErrorButton"},drillRoleSelector:{...B,key:"showDrillRoleSelector"},drillUpButton:{...B,key:"showDrillUpButton"},drillToggleButton:{...B,key:"showDrillToggleButton"},drillDownLevelButton:{...B,key:"showDrillDownLevelButton"},drillDownExpandButton:{...B,key:"showDrillDownExpandButton"},pinButton:{...B,key:"showPinButton"},filterRestatementButton:{...B,key:"showFilterRestatementButton"},focusModeButton:{...B,key:"showFocusModeButton"},copyVisualImageButton:{...B,key:"showCopyVisualImageButton"},seeDataLayoutToggleButton:{...B,key:"showSeeDataLayoutToggleButton"},optionsMenu:{...B,key:"showOptionsMenu"},commentButton:{...B,key:"showCommentButton"},tooltipButton:{key:"showTooltipButton",defaultValue:!1},personalizeVisualButton:{...B,key:"showPersonalizeVisualButton"},smartNarrativeButton:{key:"showSmartNarrativeButton",defaultValue:!1},setAlertButton:{key:"showSetAlertButton",defaultValue:!0},followVisualButton:{key:"showFollowVisualButton",defaultValue:!1}},G=function(q){return q[q.Uninitialized=0]="Uninitialized",q[q.Initialized=1]="Initialized",q}({}),K=(()=>{class q extends U.J{constructor(k,L,X,Y){super(k,{footerStyle:null,headerBackgroundStyle:null,headerForegroundStyle:null,headerItemContainerStyle:null,popOutBarSubtitle:"",popOutBarTitle:"",position:null,style:L,titleStyle:null,visualViewportStyle:null,visualStyle:null,subTitleStyle:null,visualsDividerStyle:null,visualTitleAreaStyle:null}),this.uiScale=I.ah,this.warningsSubject=new r.t([]),this.warnings$=this.warningsSubject.asObservable(),this.currentCanvasLayout=X,this.currentEditMode=P.WF.Default,this.visualTitleWrapped=[],this.visualSubTitleWrapped=[],this.currentZone=Y,this.servicesState=G.Uninitialized}resolveDataAppliedEvent(){this.visual.dataAppliedEvent&&this.visual.dataAppliedEvent.resolve()}getRunningVisual(){return this.runningVisual}get errorInfo(){return this.runningVisual&&this.runningVisual.getErrorInfo()}set errorInfo(k){var L=this.getRunningVisual();L&&L.setErrorInfo(k)}get visualPausedWarning(){return this.visualPausedWarningModel}set visualPausedWarning(k){this.visualPausedWarningModel=k,this.regenerateWarnings();var L=this.getRunningVisual();L&&L.setHasPendingChanges(void 0!==k)}get featureNotSupportedWarning(){return this.featureNotSupportedWarningModel}set featureNotSupportedWarning(k){this.featureNotSupportedWarningModel=k,this.regenerateWarnings()}get bingMapVisualDeprecatedWarning(){return this.bingMapVisualDeprecatedWarningModel}set bingMapVisualDeprecatedWarning(k){this.bingMapVisualDeprecatedWarningModel=k,this.regenerateWarnings()}setThemeCollection(k){this.themeCollection=k,this.runningVisual&&this.runningVisual.setThemeCollection(k)}startResize(){this.originalPosition=this.position}getVisualType(){return(0,p.d)(this.contract)}static getVisualBodyOffset(k,L){return q.useStylableHeader(L)||k.canShowVisualContainerHeaderInset()?{top:0,height:0,width:0,left:0}:{top:this.VisualContainerHeaderHeight,height:-this.VisualContainerHeaderHeight,width:0,left:0}}get id(){return this.contract.id}get name(){return this.contract.name}get position(){return this.contract.layouts.withId(this.currentCanvasLayout).position}set position(k){this.contract.layouts.withId(this.currentCanvasLayout).position=k}getScaledPosition(k=!0){return this.convertToScaledPosition(this.position,k)}get editMode(){return this.currentEditMode}get headerTitleMaxLines(){return this.isTitleWrappingEnabled?3:1}get headerSubTitleMaxLines(){return this.isSubTitleWrappingEnabled?3:1}setEditMode(k){this.currentEditMode=k,(0,j.mI)(this.runningVisual,this.runningVisual.getViewport(),P.YL.ViewMode,this.visualHostServices,this.editMode)}getRunnableQuery(){var k=this;return(0,a.A)(function*(){return k.runningVisual&&k.runningVisual.getRunnableQuery()})()}get isPositioned(){var k=this.position;return 0!==k.width&&0!==k.height}get isPoppedOut(){var k=this.contract.visibility;return null!=k&&k!==c.B8.None&&k!==c.B8.Spotlight&&k!==c.B8.Elevation}get bringToFront(){var k=this.contract.config.singleVisual.evaluatedObjects;return!k||!k.general||!k.general.keepLayerOrder}get isHidden(){return(0,n.dK)(this.contract.config.singleVisual)}get isTitleWrappingEnabled(){return this.visualTitle&&!!this.visualTitle.titleWrap}get isSubTitleWrappingEnabled(){return this.visualSubTitle&&!!this.visualSubTitle.titleWrap}visualTitleAreaVisible(){var k=this.contract.config.singleVisual,L=k.evaluatedObjects&&k.evaluatedObjects.title,X=this.visualPlugin&&this.visualPlugin.capabilities(k.visualType);return!(0,d.dK)(L,X&&X.suppressDefaultTitle)&&!this.isPoppedOut}visualTitleVisible(){if(this.isPoppedOut)return!1;var k=this.contract.config.singleVisual;if(!k)return!1;var L=this.visualPlugin&&this.visualPlugin.capabilities(k.visualType);if(!L)return!1;var X=this.visualTitle;return!(!X||!1===X.show||void 0===X.show&&L.suppressDefaultTitle||!X.text)}visualSubTitleVisible(){if(!this.featureSwitchService?.featureSwitches.vcPadding||this.isPoppedOut)return!1;var k=this.contract.config.singleVisual;if(!k)return!1;var L=this.visualPlugin&&this.visualPlugin.capabilities(k.visualType);if(!L)return!1;var X=this.visualTitle;if(!X)return!1;var Y=this.visualSubTitle;return!(!Y||!1===X.show||void 0===X.show&&L.suppressDefaultTitle||!Y.show||!Y.text)}visualDividerVisible(){var k=this.contract.config.singleVisual,L=k.evaluatedObjects&&k.evaluatedObjects.divider,X=k.evaluatedObjects&&k.evaluatedObjects.title,Y=this.visualPlugin&&this.visualPlugin.capabilities(k.visualType);return!(!this.featureSwitchService?.featureSwitches.vcPadding||!L||(0,d.II)(L)||(0,d.dK)(X,Y&&Y.suppressDefaultTitle)||this.isPoppedOut)}supportsKeyboardNavigation(){var L=this.visualPlugin&&this.visualPlugin.capabilities(this.contract.config.singleVisual.visualType);return L&&L.supportsKeyboardFocus}get supportsCustomPadding(){return this.featureSwitchService?.featureSwitches.vcPadding}setServices(k,L,X,Y,Q,H,te,ee,ue,Te,He,We,ft,mt,At,Qe,Fe,ye,we,Ee,Oe,he,xe){C.Y.assertValue(k,"visualHostServices"),C.Y.assertValue(L,"visualPlugin"),C.Y.assertValue(X,"visualPluginOps"),this.visualHostServices=(0,O.N)(k,ft),this.auxiliaryVisualHostServices=(0,O.N)(xe??k,ft),this.visualAdapterHostServices=we,this.visualPlugin=L,this.visualPluginOps=X,this.viewModeState=Y,this.formFactor=Q,this.visibility=H,this.runningVisuals=te,this.explorationCapabilities=ye,this.visualAuthoring=ue,this.filterGenerator=He,this.themeService=We,this.showClientWarnings=mt,this.queryServices=At,this.sortServices=Qe,this.selectionServices=Fe,this.dataViewServices=Ee,this.servicesState=G.Initialized,this.bodyScaleChanged=Oe,this.featureSwitchService=ee,this.localizationService=Te,this.pauseQueriesService=he}setSelected(k){this.isSelected=k}handleKeyDown(k){var L=function(q){switch(q.keyCode){case y.cK.f11KeyCode:return q.altKey&&q.shiftKey?i._5.FullScreen:void 0;case y.cK.fKeyCode:return b.C.isCtrlOrMeta(q)?i._5.Search:void 0;case y.cK.vKeyCode:return b.C.isCtrlOrMeta(q)?i._5.Paste:void 0}}(k);switch(L){case i._5.FullScreen:this.visibility.set(this.contract,c.B8.MaximizeWithDataAccessible);break;case i._5.Search:this.toggleVisualSearch(k);break;case i._5.Paste:this.pasteData(k)}if(this.shouldHandleKeydown(k)){if(this.isTextboxVisual()){var Y=this.getTextboxVisual();return Y&&Y.focus()}if(this.isContractQnaVisual()){var Q=this.getQnaVisual();if(Q)return Q.focus()}}}toggleVisualSearch(k){if(this.contract&&this.contract.config&&this.contract.config.singleVisual){var X=this.visualPlugin&&this.visualPlugin.capabilities(this.contract.config.singleVisual.visualType);X&&this.filterGenerator.tryGetSelfFilterEnabledProperty(X)&&(this.visualAuthoring.toggleSlicerVisualSearch(this.contract,this.filterGenerator,this.visualPlugin),k.preventDefault(),k.stopPropagation())}}pasteData(k){var L=this;return(0,a.A)(function*(){if(L.runningVisual)try{var X=yield navigator.clipboard.read();X&&X.length>0&&(L.runningVisual.onPaste(X[X.length-1]),k.preventDefault(),k.stopPropagation())}catch{}})()}shouldHandleKeydown(k){if(!this.runningVisual||this.viewModeState.getMode()===P.nE.View)return!1;var L=k.keyCode;if((0,V.Pn)(L)||(0,V.AD)(L)||y.cK.escKeyCode===L||y.cK.tabKeyCode===L||y.cK.altKeyCode===L||y.cK.enterKeyCode===L||b.C.isCtrlOrMeta(k))return!1;var X=this.contract.toolbar&&this.contract.toolbar.element;return!(X&&(0,o.I)(X))}setVisualTitle(k){this.visualTitle=k;var L="";k&&(_.isEmpty(this.readOnlyState.popOutBarSubtitle)&&k.titleComponents&&k.titleComponents.subtitle?(this.readOnlyState.popOutBarSubtitle=k.titleComponents.subtitle,k.titleComponents&&k.titleComponents.title?L=k.titleComponents.title:k.text&&(L=k.text)):k.text?L=k.text:k.titleComponents&&k.titleComponents.title&&(L=k.titleComponents.title)),this.readOnlyState.popOutBarTitle=L}setVisualSubTitle(k){this.visualSubTitle=k;var L="";k&&k.text&&(L=k.text),this.readOnlyState.popOutBarSubtitle=L}setTooltip(){var k=(0,p.d)(this.contract),L=this.getVisualLinkTypeLabel(k)||"",X=this.visualPlugin?.capabilities(k)?.ariaRole,Y=this.visualPlugin&&this.visualPlugin.getPlugin(k);if(Y){var Q=this.ariaMetadata&&this.ariaMetadata.subtitleDisplayNameGetter,H=Q?` ${(0,F.Mn)(Q,this.localizationService)}`:"";k=(0,F.dP)(Y,void 0,void 0,void 0,this.localizationService).title+H}var ee=this.visualTitle,ue=void 0!==ee?.text&&`${ee.text} `||"",Te=this.visualSubTitle,He=void 0!==Te?.text&&`${Te.text} `||"",We=this.contract.config.singleVisual,ft=We.evaluatedObjects&&We.evaluatedObjects.general&&We.evaluatedObjects.general.altText?` ${We.evaluatedObjects.general.altText}`:"";this.tooltip=`${ue}${L}${k}${ft}`,this.ariaLabel=`${ue}${He}${L}${ft}`,this.ariaRole=X??T.A.Group,this.ariaDisabled=!1,this.tabIndex=0,this.updateAriaRoleForActionVisuals(this.ariaRole,We.visualType),this.ariaRoleDescription=X??k,this.ariaRoleDescription&&"table"===this.ariaRoleDescription.trim().toLowerCase()&&(this.ariaRoleDescription="")}updateAriaRoleForActionVisuals(k,L){var X=k===T.A.Img;if(k===T.A.Button||X){var Q=this.contract.config.singleVisual,H=this.visualPlugin.capabilities(Q.visualType)?.supportsVisualLink,te=Q?.evaluatedObjects?.visualLink;if(Q&&te&&H){if(!te.show)return void(X?this.setAriaRole(T.A.Img):this.setAriaDisabled());var ee=(0,n.Pw)(te);switch(ee){case s.kc:this.setAriaRole(T.A.Link);break;case s.om:case s.UX:case s.Xh:(te.webUrl||te.navigationSection||te.bookmark)?.trim?.()?this.setAriaRole(T.A.Link):X?this.setAriaRole(T.A.Img):k===T.A.Button&&this.setAriaDisabled();break;case s.R_:case s.je:case s.Cl:X&&this.setAriaRole(T.A.Button);break;default:C.Y.assertFail(`Unexpected visual link action type: ${ee}`)}}}}setAriaRole(k){this.ariaRole=k,this.ariaDisabled=!1,this.tabIndex=0}setAriaDisabled(){this.ariaDisabled=!0,this.tabIndex=-1}getVisualLinkTypeLabel(k){var L=this.visualPlugin&&this.visualPlugin.capabilities(k);if(L&&L.supportsVisualLink){var X=this.contract.config.singleVisual,Y=X.evaluatedObjects&&X.evaluatedObjects.visualLink;if(Y&&Y.show){var Q=(0,n.Pw)(Y),H=_.find(s.Zk.members(),te=>te.value===Q).displayName;return`${(0,F.Mn)(H,this.localizationService)} `}}}setHeaderTooltip(){var k=this.contract.config.singleVisual,L=k.evaluatedObjects&&k.evaluatedObjects.visualHeader,X=k.evaluatedObjects&&k.evaluatedObjects.visualHeaderTooltip;this.headerTooltip=L&&L.showTooltipButton&&X?X:void 0}redrawVisual(){this.runningVisual&&(0,j.mI)(this.runningVisual,this.runningVisual.getViewport(),P.YL.Resize,this.visualHostServices,this.editMode)}updateVisualViewportForUserResize(k){var L=this.themeService&&this.themeService.getVisualStyle(this.themeCollection),X=this.runningVisual;this.enableVisualScaling?(k.width/=this.uiScale.x,this.visualBorder&&(k.width-=2*this.visualBorder.thickness()),this.useStylableHeader()||(k.height-=q.VisualContainerHeaderHeight),k.height/=this.uiScale.y,this.visualBorder&&(k.height-=2*this.visualBorder.thickness())):this.useStylableHeader()||(k.height-=q.VisualContainerHeaderHeight),this.isFooterVisible&&this.isFooterVisible()&&(k.height-=q.VisualContainerFooterHeight),this.visualViewport=this.getVisualViewport(k.width,k.height,1,L),X&&(this.viewportResized=!0,(0,j.mI)(X,this.visualViewport,P.YL.Resize,this.visualHostServices,this.editMode,P.OJ.Resizing)),this.applyVisualViewportStyle(this.readOnlyState,k),this.applyVisualBodyStyle(this.readOnlyState),this.applyFooterStyle(this.readOnlyState,k.width);var Q=this.overridePosition||this.convertToScaledPosition(this.position);this.applyTitleStyle(this.readOnlyState,Q.width,L),this.applyVisualTitleAreaStyle(this.readOnlyState),this.featureSwitchService?.featureSwitches.vcPadding&&(this.applySubTitleStyle(this.readOnlyState,Q.width,L),this.applyDividerStyle(this.readOnlyState,L))}shouldUseCache(){return(0,l.Nb)(this.contract,this.options.disableQueryCacheUpdates)}adjustForVisualContainerHeader(k,L,X){(!this.formFactor||!this.formFactor.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset())&&(X&&(k.y+=L),k.height-=L)}convertToScaledPosition(k,L=!0){var X=this.viewModeState&&this.viewModeState.getConfig().displayOptions.disablePixelValueRounding,Y=(0,x.Co)(k,this.uiScale,!X);return this.adjustForVisualContainerHeader(Y,this.useStylableHeader()?0:-q.VisualContainerHeaderHeight,L),Y}reset(){var k=this.visual;k&&(k.data=void 0,k.dataTransforms=void 0,k.hostServices=E.U1,k.visualAdapterHostServices={getNextDataSegment:()=>new Promise((L,X)=>X(new Error("Visual reset"))),startProgressBar:_.noop,stopProgressBar:_.noop}),this.runningVisuals&&this.runningVisuals.removeVisual(this.contract),this.runningVisual=void 0,this.showClientWarnings=void 0,this.visualHostServices=void 0,this.visualAdapterHostServices=void 0,this.lastBodyScale=void 0,this.bodyScaleChanged=void 0,this.servicesState=G.Uninitialized}updateViewStateCore(k){if(this.servicesState===G.Initialized){var L=this.viewModeState&&this.viewModeState.getConfig(),X=L&&L.displayOptions,Y=this.themeService&&this.themeService.getVisualStyle(this.themeCollection),Q=this.contract,H=this.position,te=this.overridePosition||this.convertToScaledPosition(H),ee=(0,f.IL)(te),ue=!this.useStylableHeader()||this.isPoppedOut;if(this.enableVisualScaling?this.overridePosition?(ue&&(ee.height-=q.VisualContainerHeaderHeight),ee.height/=this.uiScale.y,ee.width/=this.uiScale.x):(ee=(0,f.IL)(H),this.formFactor&&this.formFactor.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset()&&ue&&(ee.height-=q.VisualContainerHeaderHeight/this.uiScale.y)):ue&&(ee.height-=q.VisualContainerHeaderHeight),this.isFooterVisible&&this.isFooterVisible()&&(ee.height-=q.VisualContainerFooterHeight),this.isPoppedOut&&(!X||!X.hideInFocusBar)){var He=q.PopOutBarHeight;this.enableVisualScaling&&(He/=this.uiScale.y),ee.height-=He}this.hasDetailVisual=this.showDetailVisual()||this.showVisualCalcEditor();var We=this.contract.detailVisualLayout??c.Kb.Horizontal;this.showDetailHorizontal=this.hasDetailVisual&&We===c.Kb.Horizontal,this.showDetailVertical=this.hasDetailVisual&&We===c.Kb.Vertical,this.visualViewport=this.getVisualViewport(ee.width,ee.height,this.uiScale.x,Y);var ft=Q.config.singleVisual;if(k.isFilterVisual=!1,ft){this.showWatermark=!1,this.canPin=!0;var mt=ft.visualType,At=this.visualPlugin&&this.visualPlugin.capabilities(mt);if(At&&(k.isFilterVisual=null!=(0,w.x_)(At.objects)),ft.query){var Qe=ft.query.defn;if(Qe){var Fe=Qe.orderBy();k.actualSortDirection=Fe&&Fe.length?Fe[0].direction:void 0}}else this.visualPluginOps&&this.visualPluginOps.isQueryVisual(mt)&&"debugVisual"!==mt&&(this.canPin=!1,this.showWatermark=!(this.showVisualCalcEditor()||this.viewModeState&&At&&At.supportsLandingPage&&(this.viewModeState.getMode()===P.nE.Edit||At.supportsEmptyDataView)));this.updateVisualDefinition(this.visualViewport),this.visual&&(!this.runningVisuals.getVisual(this.contract)||!this.runningVisual)&&(this.runningVisual=(0,j.MN)(this.visual,this.visualHostServices,this.editMode,this.contract.config.singleVisual,this.hostServices,this.filterGenerator,this.showClientWarnings,this.queryServices,this.sortServices,this.selectionServices,this.dataViewServices),this.runningVisuals.setVisual(this.contract,this.runningVisual)),this.setViewport(k,this.visualViewport)}k.position={...te,z:null!=this.zIndexOverride?this.zIndexOverride:H.z||0,angle:H.angle||0},this.applyTitleStyle(k,te.width,Y),this.applyVisualTitleAreaStyle(k),this.featureSwitchService?.featureSwitches.vcPadding&&(this.applySubTitleStyle(k,te.width,Y),this.applyDividerStyle(k,Y)),this.applyVisualViewportStyle(this.readOnlyState,ee),this.applyVisualBodyStyle(this.readOnlyState),this.applyFooterStyle(k,ee.width),this.applyHeaderStyle(k),this.setHeaderItemVisibility(k),this.setTooltip(),this.setHeaderTooltip(),Q&&Q.postProcessing&&this.configureInitializationSpinner(Q.postProcessing),this.bodyScaleChanged&&this.uiScale.x!==this.lastBodyScale&&this.bodyScaleChanged(),this.lastBodyScale=this.uiScale.x}}isHeaderItemVisible(k){return!this.readOnlyState.itemVisibility||this.readOnlyState.itemVisibility[k]}isDeprecationWarningVisible(){return this.viewModeState.getMode()===P.nE.Edit&&void 0!==this.customVisualDeprecatedWarningInfo}isWarningVisible(){return this.isHeaderItemVisible("visualWarningButton")&&void 0!==this.warningInfo}isErrorVisible(){return this.isHeaderItemVisible("visualErrorButton")&&void 0!==this.transformWarningInfo}isInfoVisible(){return this.isHeaderItemVisible("visualInformationButton")&&void 0!==this.visualInfo}isInfoVersionsVisible(){return this.isHeaderItemVisible("visualInformationButton")&&void 0!==this.versionsInfo}isHeaderTooltipVisible(){return this.isHeaderItemVisible("tooltipButton")}isAnyIconVisible(){return this.isDeprecationWarningVisible()||this.isWarningVisible()||this.isErrorVisible()||this.isInfoVersionsVisible()||this.isInfoVisible()||this.isHeaderTooltipVisible()}anyHeaderItemVisible(k){if(k)for(var L of k)if(this.isHeaderItemVisible(L))return!0;return!1}isTextboxVisual(){return this.contract.config.singleVisual.visualType===g.N.textbox.name}getTextboxVisual(){return C.Y.assert(()=>this.isTextboxVisual(),"Should not try to get textbox visual for non-textbox visual"),this.tryGetUnwrappedVisual()}isContractAnalysisVisual(){return this.visualPluginOps.isAnalysisVisual(this.contract.config.singleVisual.visualType)}isDefinitionAnalysisVisual(){return this.visualPluginOps.isAnalysisVisual(this.visual&&this.visual.type)}isContractQnaVisual(){return this.visualPluginOps.isQnaVisual(this.contract.config.singleVisual.visualType)}getQnaVisual(){return C.Y.assert(()=>this.isContractQnaVisual(),"Should not try to get qna visual for non-qna visual"),this.tryGetUnwrappedVisual()}isDefinitionQnaVisual(){return this.visualPluginOps.isQnaVisual(this.visual&&this.visual.type)}setInitialLoadTelemetryParent(k){C.Y.assertValue(this.visual,"this.visual must be defined to set initialization parent activity"),this.visual.initialLoadActivity=k}regenerateWarnings(){this.warningsSubject.next(this.getVisualWarnings())}tryGetUnwrappedVisual(){var k=this.runningVisual?.getAdapter();return k?k.unwrap?k.unwrap():k:void 0}setHeaderItemVisibility(k){var L=k.itemVisibility;L||(L=k.itemVisibility={});var X=this.viewModeState&&this.viewModeState.getMode(),Y=this.contract.config.singleVisual,Q=this.useStylableHeader()?Y.evaluatedObjects&&Y.evaluatedObjects.visualHeader:void 0;for(var H in A){var{key:te,defaultValue:ee,forceVisible:ue}=A[H],Te=void 0;if(ue&&void 0!==ue[X])Te=ue[X];else{var He=Q&&Q[te];Te=void 0!==He?He:ee}L[H]=Te}}applyHeaderStyle(k){var L=this.contract.config.singleVisual,X=this.useStylableHeader()?L.evaluatedObjects&&L.evaluatedObjects.visualHeader:void 0;this.applyItemContainerStyle(k,X),this.applyHeaderBackgroundStyle(k,X),this.applyHeaderForegroundStyle(k,X)}applyItemContainerStyle(k,L){var X={"background-color":"","border-color":""};if(this.useStylableHeader()&&L&&(L.background||null!=L.transparency||null!=L.border)){var Y=L.background&&L.background.solid?(0,D.IO)(L.background.solid.color):{R:255,G:255,B:255},Q=L.border&&L.border.solid?(0,D.IO)(L.border.solid.color):Y;null!=L.transparency?Q.A=Y.A=1-L.transparency/100:(null==Y.A&&(Y.A=1),null==Q.A&&(Q.A=1)),X["background-color"]=(0,D.p8)(Y),X["border-color"]=(0,D.p8)(Q)}k.headerItemContainerStyle||(k.headerItemContainerStyle=new u.O),k.headerItemContainerStyle.addAttributes(X),k.headerItemContainerStyle.apply()}applyHeaderBackgroundStyle(k,L){var X={"background-color":""};if(this.useStylableHeader()&&L&&(L.background||null!=L.transparency)){var Y=L.background&&L.background.solid?(0,D.IO)(L.background.solid.color):q.VisualHeaderBackgroundColor;null!=L.transparency?Y.A=1-L.transparency/100:null==Y.A&&(Y.A=1-q.VisualHeaderTransparency/100),X["background-color"]=(0,D.p8)(Y);var Q=this.themeService?.getVisualStyle(this.themeCollection);Q&&(X[":hover"]=v.A.getThemeColor(Q,t.s.backgroundNeutral))}k.headerBackgroundStyle||(k.headerBackgroundStyle=new u.O),k.headerBackgroundStyle.addAttributes(X),k.headerBackgroundStyle.apply()}applyHeaderForegroundStyle(k,L){var X={color:""};this.useStylableHeader()&&L&&L.foreground&&L.foreground.solid&&(X.color=L.foreground.solid.color),k.headerForegroundStyle||(k.headerForegroundStyle=new u.O),k.headerForegroundStyle.addAttributes(X),k.headerForegroundStyle.apply()}applyVisualBodyStyle(k){k.visualStyle||(k.visualStyle=new u.O);var L=this.themeService?.getVisualStyle(this.themeCollection);L?.isHighContrast&&this.visualDropShadow&&(this.visualDropShadow.color=v.A.getThemeColor(L,t.s.foreground));var Y=this.visualBorder&&this.visualBorder.getPaddingFromBorder();if(this.featureSwitchService?.featureSwitches.vcPadding){var Q=this.getVisualBodyPadding();Y=`${Q.top}px ${Q.right}px ${Q.bottom}px ${Q.left}px`}var H=this.shouldAppyBoxShadow(),te=(0,l.Dh)(this.visualBackground&&this.visualBackground.colorRGB,this.visualBorder&&this.visualBorder.getBorderStyle(),this.visualBorder&&this.visualBorder.getBorderRadius(),Y,H&&this.visualDropShadow&&this.visualDropShadow.getBoxShadow());k.visualStyle.addAttributes(te),k.visualStyle.apply()}shouldAppyBoxShadow(){var k=this.contract.visibility;if(null==k)return!0;switch(k){case c.B8.None:return!0;case c.B8.Maximize:case c.B8.MaximizeWithData:case c.B8.MaximizeWithDataAccessible:case c.B8.Spotlight:case c.B8.VisualCalcEditing:case c.B8.Elevation:return!1;default:return C.Y.assertFail(`Unhandled visibility: ${k}`),!1}}applyVisualViewportStyle(k,L){k.visualViewportStyle||(k.visualViewportStyle=new u.O),this.visualViewportAppliedScale=this.enableVisualScaling?this.uiScale.x:void 0;var X=(0,l.Z3)(L,this.visualViewportAppliedScale);k.visualViewportStyle.addAttributes(X),k.visualViewportStyle.apply()}applyFooterStyle(k,L){if(this.isFooterVisible&&this.isFooterVisible()){var X={};k.footerStyle||(k.footerStyle=new u.O),X.transform="scale("+(this.enableVisualScaling?this.uiScale.x:1)+")",X.width=L,k.footerStyle.addAttributes(X),k.footerStyle.apply()}}applyTitleStyle(k,L,X){var Y={};if(this.visualTitleVisible()){this.featureSwitchService?.featureSwitches.vcPadding&&(Y[h.AP]=this.getSpacing(l.aO.Title)),Y[h.cj]=h.Ol;var Q=this.contract.config.singleVisual,H=Q.evaluatedObjects&&Q.evaluatedObjects.title||{},te=this.getTitleFontProperties(H,X);Y[h.Wo]=`${te.size.pt}pt`||"",Y[h.de]=`${te.family}`||"",Y[h.N6]=`${te.color}`||"",Y[h.oc]=H.alignment?H.alignment:"",Y[h.FI]=H.background&&H.background.solid&&H.background.solid.color||"",Y[h.xf]=(this.isTitleWrappingEnabled?this.visualTitleWrapped.length:1)*(0,l.uk)(te),this.insetHeaderSize?this.isTitleWrappingEnabled||(Y[h.u5]=(L-this.insetHeaderSize.width)/this.uiScale.x):Y[h.u5]=null,Y[h.d8]=H.bold?h.HM:"",Y[h.Oi]=H.italic?h.On:"",Y[h.es]=H.underline?h.wr:"";var Te=!this.visualTitle?.isPlaceholderText;Y[h.gA]=Te?"none":"1px dashed black",Y[h.Tm]=Te?"0":"1px",Y[h.Cd]=Te?"0":"1px",Y[h.e5]=Te?"default":"text"}else Y[h.cj]=h.ad;k.titleStyle||(k.titleStyle=new u.O),k.titleStyle.addAttributes(Y),k.titleStyle.apply()}applySubTitleStyle(k,L,X){var Y={};if(this.visualSubTitleVisible()&&this.featureSwitchService?.featureSwitches.vcPadding){Y[h.AP]=this.getSpacing(l.aO.SubTitle),Y[h.cj]=h.Ol;var Q=this.contract.config.singleVisual,H=Q.evaluatedObjects&&Q.evaluatedObjects.subTitle||{},te=this.getSubTitleFontProperties(H,X);Y[h.Wo]=`${te.size.pt}pt`||"",Y[h.de]=`${te.family}`||"",Y[h.N6]=`${te.color}`||"",Y[h.oc]=H.alignment?H.alignment:"",Y[h.xf]=(this.isSubTitleWrappingEnabled?this.visualSubTitleWrapped.length:1)*(0,l.uk)(te),this.insetHeaderSize?this.isSubTitleWrappingEnabled||(Y[h.u5]=(L-this.insetHeaderSize.width)/this.uiScale.x):Y[h.u5]=null,Y[h.d8]=H.bold?h.HM:"",Y[h.Oi]=H.italic?h.On:"",Y[h.es]=H.underline?h.wr:"";var Te=!this.visualSubTitle?.isPlaceholderText;Y[h.gA]=Te?"none":"1px dashed black",Y[h.Tm]=Te?"none":"2px",Y[h.Cd]=Te?"0":"1px",Y[h.e5]=Te?"default":"text"}else Y[h.cj]=h.ad;k.subTitleStyle||(k.subTitleStyle=new u.O),k.subTitleStyle.addAttributes(Y),k.subTitleStyle.apply()}applyDividerStyle(k,L){var X={};if(this.visualDividerVisible()&&this.featureSwitchService?.featureSwitches.vcPadding){X[h.AP]=this.getSpacing(l.aO.Divider),X[h.cj]=h.Ol;var Q=this.contract.config.singleVisual,H=Q.evaluatedObjects&&Q.evaluatedObjects.divider;if(X[h.Fp]=`${H.width||1}px ${H.style||"Solid"} ${H.color&&H.color.solid&&H.color.solid.color||L.colorPalette.foregroundNeutralSecondary.value}`,!1!==H.ignorePadding){var He=this.getVisualBodyPadding();X[h.nK]=`-${He.left||0}px`,X[h.Mg]=`-${He.right||0}px`}else X[h.nK]="",X[h.Mg]=""}else X[h.cj]=h.ad;k.visualsDividerStyle||(k.visualsDividerStyle=new u.O),k.visualsDividerStyle.addAttributes(X),k.visualsDividerStyle.apply()}applyVisualTitleAreaStyle(k){var L={};if(this.visualTitleVisible()&&this.featureSwitchService?.featureSwitches.vcPadding){var X=this.contract.config.singleVisual,Y=X.evaluatedObjects&&X.evaluatedObjects.title||{};L[h.FI]=Y.background&&Y.background.solid&&Y.background.solid.color||"";var Q=this.getVisualBodyPadding();L[h.Tm]=`-${Q.top||0}px`,L[h.wv]=`${Q.top||0}px`,L[h.nK]=`-${Q.left||0}px`,L[h.Cd]=`${Q.left||0}px`,L[h.Mg]=`-${Q.right||0}px`,L[h.TN]=`${Q.right||0}px`}else L[h.FI]="",L[h.Tm]="",L[h.wv]="",L[h.nK]="",L[h.Cd]="",L[h.Mg]="",L[h.TN]="";k.visualTitleAreaStyle||(k.visualTitleAreaStyle=new u.O),k.visualTitleAreaStyle.addAttributes(L),k.visualTitleAreaStyle.apply()}getSpacing(k){var L=this.contract.config.singleVisual;return(0,l.AX)(k,L.evaluatedObjects&&L.evaluatedObjects.spacing)}getVisualBodyPadding(){C.Y.assertValue(this.featureSwitchService.featureSwitches.vcPadding,"this helper method should only be called if vcPadding FS is on");var k=this.contract.config.singleVisual;return(0,l.K_)(this.visualPadding,k.evaluatedObjects?.padding,this.visualBorder&&this.visualBorder.getNumericPaddingFromBorder())}updateVisualDefinition(k){var L=this.contract.config.singleVisual,X=L.visualType;if(C.Y.assertAnyValue(L,"VisualContainer.updateVisualDefinition singleVisual should be defined."),this.visual){var Y=this.visual;Y.type!==L.visualType?(Y.data=null,this.visualHostServices?.onClearLicenseNotification()):this.showWatermark&&this.visualHostServices?.onClearLicenseNotification(),C.Y.assert(()=>Y.visualName===this.contract.name,"visualName"),Y.type=X,Y.stylePresetName=L.evaluatedObjects&&L.evaluatedObjects.stylePreset&&L.evaluatedObjects.stylePreset.name,Y.hostServices=this.visualHostServices,Y.visualAdapterHostServices=this.visualAdapterHostServices,Y.orderIndependentSelectorMatching=L.queryOptions&&L.queryOptions.keepProjectionOrder,this.visualPluginOps&&(this.visual.visualRequiresData=this.visualPluginOps.isQueryVisual(X)),this.visual.visualHasData=!!L.query,this.visual.currentZone=this.currentZone}else this.visualHostServices&&(this.visual={viewport:k,type:X,visualName:this.contract.name,dataTransforms:{objects:L.objects},hostServices:this.visualHostServices,visualAdapterHostServices:this.visualAdapterHostServices,interactivityOptions:{dragDataPoint:!1,selection:!0,isVisualInteractive:!0},allowInvalidDataView:!0,visualPlugin:this.visualPlugin,themeCollection:this.themeCollection,orderIndependentSelectorMatching:L.queryOptions&&L.queryOptions.keepProjectionOrder},this.visualPluginOps&&(this.visual.visualRequiresData=this.visualPluginOps.isQueryVisual(X)),this.visual.visualHasData=!!L.query)}setViewport(k,L){this.runningVisual&&this.setVisualViewport(this.runningVisual,L)}setVisualViewport(k,L){if(k&&L){var X=this.viewportResized;this.viewportResized=void 0;var Y,Q=this.enableVisualScaling?this.uiScale.x:1;(X||!(Y=k.getViewport())||Y.height!==L.height||Y.width!==L.width||Y.scale!==Q)&&k.setViewport({...L,scale:Q},X)}}getVisualViewport(k,L,X,Y){var Q=this.contract.config.singleVisual,H=0;this.visualBorder&&this.visualBorder.visible&&(H=this.visualBorder.getNumericPaddingFromBorder());var te=this.isPaddingDisabled?2*H:2*(H+q.VisualContainerDefaultPadding),ee=this.isPaddingDisabled?2*H:2*(H+q.VisualContainerDefaultPadding);if(this.featureSwitchService?.featureSwitches.vcPadding){var ue=this.getVisualBodyPadding();te=ue.left+ue.right,ee=ue.top+ue.bottom}var Te=0,He=0,We=0,ft=0,mt=k-te;if(this.visualTitleVisible()){var At=this.getTitleFontProperties(this.visualTitle,Y);this.updateVisualTitleWrapping(mt,At),He=(0,l.uk)(At),He*=this.visualTitleWrapped.length||1,this.featureSwitchService?.featureSwitches.vcPadding&&(He+=this.getSpacing(l.aO.Title)),this.visualTitle?.isPlaceholderText&&(He+=3)}if(this.visualSubTitleVisible()&&this.featureSwitchService?.featureSwitches.vcPadding){var Qe=this.getSubTitleFontProperties(this.visualSubTitle,Y);this.updateSubVisualTitleWrapping(mt,Qe),We=(0,l.uk)(Qe),We*=this.visualSubTitleWrapped.length||1,We+=this.getSpacing(l.aO.SubTitle),this.visualSubTitle?.isPlaceholderText&&(He+=4)}this.visualDividerVisible()&&this.featureSwitchService?.featureSwitches.vcPadding&&(Te=(Q.evaluatedObjects&&Q.evaluatedObjects.divider).width??0,Te+=this.getSpacing(l.aO.Divider)),this.visualPausedWarning&&(ft+=q.VisualBannerHeight),this.featureNotSupportedWarning&&this.viewModeState.getMode()===P.nE.Edit&&(ft+=q.VisualBannerHeight),this.bingMapVisualDeprecatedWarning&&this.viewModeState.getMode()===P.nE.Edit&&(ft+=q.VisualBannerHeight);var ye=L-ee-He-ft-We-Te;this.featureSwitchService.featureSwitches.visualBorderWidth&&this.visualBorder?.visible&&null!=this.visualBorder.width&&(mt-=2*this.visualBorder.width,ye-=2*this.visualBorder.width);var we=this.viewModeState&&this.viewModeState.getConfig().displayOptions.showDetailVisualOnFullScreen;return this.hasDetailVisual&&!we&&((this.contract.detailVisualLayout||c.Kb.Horizontal)===c.Kb.Horizontal?(ye-=ee,ye/=2):(mt-=te,mt/=2)),{width:Math.max(mt,0),height:Math.max(ye,0),scale:X}}getTitleFontProperties(k,L){var X=(0,N._)(k,"bold"),Y=(0,N._)(k,"italic"),Q=(0,N._)(k,"underline"),H={color:"fontColor",family:"fontFamily",size:"fontSize"};X&&(H.bold="bold"),Y&&(H.italic="italic"),Q&&(H.underline="underline");var te=v.A.create(L);return(0,m.Iv)(k,H,te,L,void 0,l.PN,l.M9)}getSubTitleFontProperties(k,L){var X=(0,N._)(k,"bold"),Y=(0,N._)(k,"italic"),Q=(0,N._)(k,"underline"),H={color:"fontColor",family:"fontFamily",size:"fontSize"};X&&(H.bold="bold"),Y&&(H.italic="italic"),Q&&(H.underline="underline");var te=v.A.create(L);return(0,m.Iv)(k,H,te,L,l.ep,l.$c,l.M9)}updateVisualTitleWrapping(k,L){if(this.visualTitle&&this.visualTitle.text){var X=(0,m.o)(L),Y=new u.O;if(Y.addAttributes({width:k}),Y.addAttributes({fontSize:`${L.size.px}px`}),Y.addAttributes({fontWeight:`${L.weight}`}),1===this.headerTitleMaxLines)return void(this.visualTitleWrapped=[{text:this.visualTitle.text.trim(),style:Y}]);var Q=(0,M.cA)(this.visualTitle.text,X,S.N.measureSvgTextWidth,k,this.headerTitleMaxLines,null,!0);this.visualTitleWrapped=Q.map(H=>({text:H.trim(),style:Y}))}}updateSubVisualTitleWrapping(k,L){if(this.visualSubTitle&&this.visualSubTitle.text){var X=(0,m.o)(L),Y=new u.O;if(Y.addAttributes({width:k}),Y.addAttributes({fontSize:`${L.size.px}px`}),Y.addAttributes({fontWeight:`${L.weight}`}),1===this.headerSubTitleMaxLines)return void(this.visualSubTitleWrapped=[{text:this.visualSubTitle.text.trim(),style:Y}]);var Q=(0,M.cA)(this.visualSubTitle.text,X,S.N.measureSvgTextWidth,k,this.headerSubTitleMaxLines,null,!0);this.visualSubTitleWrapped=Q.map(H=>({text:H.trim(),style:Y}))}}showDetailVisual(){return this.contract.visibility===c.B8.MaximizeWithData||this.contract.visibility===c.B8.MaximizeWithDataAccessible}showVisualCalcEditor(){return this.contract.visibility===c.B8.VisualCalcEditing}useStylableHeader(){return q.useStylableHeader(this.explorationCapabilities)}static useStylableHeader(k){return k&&k.getCapabilities().visualContainerOptions.useStylableHeader}configureInitializationSpinner(k){this.showInitializationSpinner=!0,k.catch(L=>{}).finally(()=>{this.showInitializationSpinner=!1,this.contract.postProcessing=void 0})}getVisualWarnings(){var k=[],L=this.viewModeState&&this.viewModeState.getMode()===P.nE.Edit;return this.visualPausedWarning&&k.push({id:"visualPaused",viewModel:this.visualPausedWarning,message:this.visualPausedWarning.iconTooltip,canShowVisualWarning:!0,buttonClick:X=>{this.pauseQueriesService?.refreshVisuals(X),this.visualPausedWarning=void 0}}),this.featureNotSupportedWarning&&k.push({id:"featureNotSupported",viewModel:this.featureNotSupportedWarning,message:this.featureNotSupportedWarning.iconTooltip,canShowVisualWarning:L,hideBanner:()=>{this.featureNotSupportedWarning=void 0}}),this.bingMapVisualDeprecatedWarning&&k.push({id:"bingMapVisualDeprecated",viewModel:this.bingMapVisualDeprecatedWarning,message:this.bingMapVisualDeprecatedWarning.iconTooltip,canShowVisualWarning:L,blockOverflowContainer:!0,buttonClick:X=>{this.bingMapVisualDeprecatedWarning.closeBarCallback(),this.bingMapVisualDeprecatedWarning=void 0}}),k}}return q.VisualContainerHeaderHeight=20,q.VisualContainerFooterHeight=34,q.VisualContainerDefaultPadding=5,q.PopOutBarHeight=40,q.HeaderInTitleScaleThreshold=.9,q.VisualBannerHeight=38,q.VisualBannerPaddingTopPopOutMode=3,q.VisualHeaderBackgroundColor={R:255,G:255,B:255},q.VisualHeaderTransparency=0,q})()},165648:function(ve,z,e){e.d(z,{Uu:function(){return n},Zp:function(){return d},iA:function(){return s},tx:function(){return c}});var a=e(387797),i=e(31532),r=e(761297),t=e(784859),o=e(7569);class d{constructor(l,u,v){this.contract=l,this.currentCanvasLayout=u,this.children=v,this.uiScale=t.ah}setSelected(l){this.isSelected=l}get id(){return this.contract.id}get name(){return this.contract.name}get isHidden(){return this.contract.isHidden}get position(){return this.contract.layouts.withId(this.currentCanvasLayout).position}set position(l){this.contract.layouts.withId(this.currentCanvasLayout).position=l}get isPositioned(){var l=this.position;return 0!==l.width&&0!==l.height}startResize(){for(var l of(this.originalPosition=this.position,this.children))l.startResize()}getScaledPosition(){return this.scaledPosition||this.convertToScaledPosition(this.position)}convertToScaledPosition(l){return(0,o.Co)(l,this.uiScale,!0)}updateViewportForUserResize(l){var u=this.convertToScaledPosition({...l,x:0,y:0});this.updateStyle(u)}updateViewState(){this.scaledPosition=this.convertToScaledPosition(this.position);var l=(0,r.IL)(this.scaledPosition);this.updateStyle(l),this.setTooltip()}updateStyle(l){this.applyStyle||(this.applyStyle=new i.O);var u=(0,a.Z3)(l,void 0);this.applyStyle.addAttributes(u);var v=(0,a.Dh)(this.background&&this.background.colorRGB,this.border&&this.border.getBorderStyle(),this.border&&this.border.getBorderRadius(),this.border&&this.border.getPaddingFromBorder());this.applyStyle.addAttributes(v),this.applyStyle.apply()}setTooltip(){this.tooltip=this.contract.evaluatedObjects?.general?.altText?.toString()}clone(){var l=new d(this.contract,this.currentCanvasLayout,this.children);return _.assign(l,this)}}function n(p,l,u){var v=u&&u.visibleOnly;for(var m of p)v&&m.isHidden||(l(m),c(m)&&n(m.children,l,u))}function c(p){return!!p.children}function s(p){return!p.children}},91459:function(ve,z,e){e.d(z,{y:function(){return t}});var a=e(993531),i=e(473840),r=e(200367);class t{constructor(d){d&&(this.visible=d.show,this.position=d.position,this.color=d.color.solid.color,this.preset=d.preset,this.transparency=d.transparency,this.shadowSpread=d.shadowSpread,this.shadowBlur=d.shadowBlur,this.angle=d.angle,this.shadowDistance=d.shadowDistance)}getBoxShadow(){if(this.visible){if(this.preset!==a.Jo){var d=(0,i.NW)(this.preset,this.position);if(d)for(var n in d)this[n]=d[n]}var c=this.position===a.U9?"inset ":"",s=(0,r.yS)(this.transparency),p=Math.PI/180*this.angle;return c+Math.cos(p)*this.shadowDistance+"px "+Math.sin(p)*this.shadowDistance+"px "+this.shadowBlur+"px "+this.shadowSpread+"px "+(0,r.ND)(this.color,s)}return""}}},450750:function(ve,z,e){e.d(z,{d:function(){return i},q:function(){return a}});var a=function(r){return r[r.Fields=0]="Fields",r[r.Format=1]="Format",r[r.Analytics=2]="Analytics",r}({}),i=function(r){return r[r.Fields=0]="Fields",r[r.Format=1]="Format",r}({})},930845:function(ve,z,e){e.d(z,{$D:function(){return p},CA:function(){return N},CF:function(){return r},C_:function(){return S},Cv:function(){return y},D6:function(){return j},DA:function(){return Q},DE:function(){return B},Ds:function(){return ne},ED:function(){return Y},EK:function(){return ue},Ec:function(){return s},IH:function(){return k},IW:function(){return t},Im:function(){return v},JR:function(){return E},Jp:function(){return w},Jr:function(){return d},Jy:function(){return n},KT:function(){return At},Kw:function(){return h},L5:function(){return I},Lt:function(){return U},Ml:function(){return mt},Mm:function(){return G},Mw:function(){return V},NT:function(){return Te},RF:function(){return He},RT:function(){return F},Ts:function(){return c},Uk:function(){return x},V5:function(){return L},VF:function(){return f},VP:function(){return K},WQ:function(){return l},Wn:function(){return X},XB:function(){return i},Xz:function(){return q},_x:function(){return o},bd:function(){return We},i9:function(){return M},iH:function(){return O},iw:function(){return R},jQ:function(){return u},lC:function(){return m},lg:function(){return g},lu:function(){return P},mz:function(){return b},n5:function(){return te},o6:function(){return H},p1:function(){return ee},s1:function(){return A},s4:function(){return ft},tU:function(){return C},wM:function(){return D},xF:function(){return T},y:function(){return W}});var a=e(660683),i=-1,r=a.CF,t="extension",o=!0,d="page",n="report",c="group",s=12,p=12,l="x_position",u="y_position",v=960,m=720,g="#FFFFFF",E="#EAEAEA",D=0,h=0,C="#000000",y="#ffffff",f="#117865",S="#ffffff",b="#BDBDBD",V=200,M=32,P=180,T=420,N=!0,w="#C8C8C8",I=12,O=10,x=9,j="'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",U=0,F=0,R=!0,B="#C8C8C8",A=9,W="Available",G="Applied",K="#C8C6C4",q="#FFFFFF",ne="#252423",k=0,L=1280,X=720,Y=296,Q=592,H=816,te=1056,ee=320,ue=240,Te=10,He=60,We=40,ft="PT30M";function mt(){return{color:g,transparency:k}}function At(){return{color:E,transparency:D}}},354827:function(ve,z,e){e.d(z,{ZU:function(){return t},lY:function(){return i},uR:function(){return r}});var a=e(904143),i="CDM",r="APR",t=(0,a.s)([{value:r,displayName:o=>o.get("PageRefresh_APR")},{value:i,displayName:o=>o.get("ChangeDetection")}])},693818:function(ve,z,e){e.d(z,{$:function(){return a},y:function(){return i}});class a{static isValidBookmark(t){return t&&(a.isBookmarkGroup(t)||a.isStateBookmark(t))}static isBookmarkGroup(t){return void 0!==t.children}static isStateBookmark(t){return!a.isBookmarkGroup(t)}static isWebBookmark(t){return void 0!==t.type}}var i=function(r){return r.Add="AddBookmark",r.Apply="ApplyBookmark",r.Remove="RemoveBookmark",r.Move="MoveBookmark",r.Update="UpdateBookmark",r.Rename="RenameBookmark",r.Group="GroupBookmarks",r.Ungroup="UngroupBookmarks",r}({})},256219:function(ve,z,e){e.d(z,{Ig:function(){return u},_w:function(){return v},gr:function(){return s},jf:function(){return c},o:function(){return p},yz:function(){return l}});var a=e(754009),i=e(776766),r=e(858807),t=e(594293),o=e(579260),d=e(18122),n=e(930845);function c(m=[]){return(0,o.s0)((0,o.u_)(m))}function s(m){var g=n.CF;return{type:r.Jih,id:m.id,name:g,objectId:m.dbName,dsr:{schemaName:g,vsName:m.vsName,dbName:m.dbName,modelId:m.id,isQueryCachingEnabled:m.capacityObjectId&&void 0===m.queryCachingState?void 0:m.queryCachingState===a.f.Enabled,lastRefreshTime:m.lastRefreshTime,isLimitedParallelQueryModel:m.datasetHost===t.d2.ASOnPrem}}}function p(m){return _.includes(Object.keys(m),"extends")}function l(m,g){if(d.Y.assertAnyValue(m,"dataSources"),d.Y.assertAnyValue(g,"query"),!_.isEmpty(m)){var E=(0,i.y9)(g);return v(_.isEmpty(E)?m:_.filter(m,h=>_.includes(E,h.name)))}}function u(m,g){if(d.Y.assertAnyValue(m,"dataSources"),d.Y.assertAnyValue(g,"query"),!_.isEmpty(m)){var E=(0,i.y9)(g);return _.isEmpty(E)?_.filter(m,D=>!p(D)):_.chain(m).filter(D=>_.includes(E,D.name)).map(D=>p(D)?_.find(m,h=>h.name===D.extends):D).uniq().value()}}function v(m){return _.map(m,g=>g[(0,i.E2)(g)])}},576086:function(ve,z,e){e.d(z,{B1:function(){return l},B8:function(){return d},G4:function(){return g},GS:function(){return a},Hq:function(){return C},Kb:function(){return n},Mw:function(){return s},NH:function(){return i},NJ:function(){return h},Pt:function(){return r},S_:function(){return t},X9:function(){return y},ZM:function(){return m},cN:function(){return E},de:function(){return f},gX:function(){return v},pI:function(){return o},r3:function(){return c},td:function(){return u},th:function(){return D},wv:function(){return p}});var a=function(S){return S[S.Auto=0]="Auto",S[S.User=1]="User",S[S.Drill=2]="Drill",S[S.Include=3]="Include",S[S.Exclude=4]="Exclude",S[S.Drillthrough=5]="Drillthrough",S[S.CrossDrill=6]="CrossDrill",S[S.URL=7]="URL",S}({}),i=function(S){return S[S.Drill=0]="Drill",S}({}),r=function(S){return S.Maximize="maximize",S.Spotlight="spotlight",S.Elevation="elevation",S.Hidden="hidden",S}({}),t=function(S){return S.Default="Default",S.Copilot="Copilot",S.CheckboxTickedInFieldList="CheckboxTickedInFieldList",S.DraggedToCanvas="DraggedToCanvas",S.VisualTypeIconClicked="VisualTypeIconClicked",S.DraggedToFieldWell="DraggedToFieldWell",S.InsertVisualButton="InsertVisualButton",S.WhatIfParameterControl="WhatIfParameterControl",S.QnaAppBar="QnaAppBar",S.QnaDoubleClick="QnaDoubleClick",S.QnaKeyboardShortcut="QnaKeyboardShortcut",S.FieldParameterControl="FieldParameterControl",S.CanvasBackgroundContextMenu="CanvasBackgroundContextMenu",S.AssistedCreation="AssistedCreation",S.ContextMenuPaste="ContextMenuPaste",S.CopyPaste="CopyPaste",S.SummarizeVisualContainer="SummarizeVisualContainer",S}({}),o=function(S){return S[S.None=0]="None",S[S.DrillDown=1]="DrillDown",S[S.DrillToDetails=2]="DrillToDetails",S[S.Drillthrough=3]="Drillthrough",S}({}),d=function(S){return S[S.None=0]="None",S[S.Maximize=1]="Maximize",S[S.MaximizeWithData=2]="MaximizeWithData",S[S.Spotlight=4]="Spotlight",S[S.MaximizeWithDataAccessible=8]="MaximizeWithDataAccessible",S[S.VisualCalcEditing=16]="VisualCalcEditing",S[S.Elevation=32]="Elevation",S}({}),n=function(S){return S[S.Horizontal=1]="Horizontal",S[S.Vertical=2]="Vertical",S}({}),c=function(S){return S[S.Ascending=1]="Ascending",S[S.Descending=2]="Descending",S[S.Custom=3]="Custom",S}({}),s=function(S){return S.Default="Default",S.SharePoint="SharePoint",S.Teams="Teams",S.QuickCreate="QuickCreate",S.EmbedQuickCreate="EmbedQuickCreate",S.Datamart="Datamart",S.DataExplore="DataExplore",S}({}),p=function(S){return S[S.PagesPane=0]="PagesPane",S[S.Bottom=1]="Bottom",S}({}),l=function(S){return S[S.None=0]="None",S[S.Shared=1]="Shared",S[S.Premium=2]="Premium",S[S.SQLServerAS=3]="SQLServerAS",S[S.AzureAS=4]="AzureAS",S[S.Custom=5]="Custom",S[S.Auto=6]="Auto",S}({}),u=function(S){return S[S.Dynamic=0]="Dynamic",S[S.FitToPage=1]="FitToPage",S[S.FitToWidth=2]="FitToWidth",S[S.ActualSize=3]="ActualSize",S[S.ActualSizeTopLeft=4]="ActualSizeTopLeft",S}({}),v=function(S){return S[S.Regular=0]="Regular",S[S.Tooltip=1]="Tooltip",S[S.Drillthrough=2]="Drillthrough",S}({}),m=function(S){return S.Default="Default",S.Copilot="Copilot",S}({}),g=function(S){return S[S.Default=0]="Default",S[S.None=1]="None",S}({}),E=function(S){return S[S.Default=0]="Default",S[S.Drillthrough=1]="Drillthrough",S[S.Tooltip=2]="Tooltip",S}({}),D=function(S){return S[S.Default=0]="Default",S[S.CrossReport=1]="CrossReport",S}({}),h=function(S){return S[S.Default=0]="Default",S[S.DataFilter=1]="DataFilter",S[S.HighlightFilter=2]="HighlightFilter",S[S.NoFilter=3]="NoFilter",S}({}),C=function(S){return S[S.WebBookmark=0]="WebBookmark",S[S.ReportBookmark=1]="ReportBookmark",S[S.EmbedBookmark=2]="EmbedBookmark",S[S.ExpiredSharedView=3]="ExpiredSharedView",S[S.NotFound=4]="NotFound",S[S.None=5]="None",S[S.DefaultPersonalBookmarkDisabled=6]="DefaultPersonalBookmarkDisabled",S[S.PersistentStateDisabled=7]="PersistentStateDisabled",S[S.InvalidSubscriptionBookmark=8]="InvalidSubscriptionBookmark",S}({}),y=function(S){return S.NotFound="NotFound",S.Expired="Expired",S.ApplyError="ApplyError",S.InitUnexpected="InitUnexpected",S}({}),f=function(S){return S[S.ScaleMode=0]="ScaleMode",S[S.ScrollMode=1]="ScrollMode",S}({})},167616:function(ve,z,e){e.d(z,{F:function(){return t},K:function(){return r}});var a=e(266092),i=e(847709),r=function(o){return o[o.Unspecified=0]="Unspecified",o[o.QnaSuggestQuestions=1]="QnaSuggestQuestions",o[o.VisualColumnRenameTerms=2]="VisualColumnRenameTerms",o}({}),t={outspacePane:{displayName:(0,a.D)("Exploration_FilterPane"),properties:{expanded:{type:{bool:!0}},visible:{type:{bool:!0}}}},section:{displayName:(0,a.D)("PagePropertyPane_PageAlignment"),properties:{verticalAlignment:{type:{enumeration:i.ZU}}}}}},418356:function(ve,z,e){e.d(z,{B1:function(){return t},IV:function(){return r},RD:function(){return o},Vh:function(){return a},YV:function(){return d},_D:function(){return n},vb:function(){return i}});var a=function(c){return c[c.QueryGeneration=0]="QueryGeneration",c[c.NoData=1]="NoData",c[c.QueryError=2]="QueryError",c[c.SchemaLoadingError=3]="SchemaLoadingError",c[c.GenerateDetailsTable=4]="GenerateDetailsTable",c[c.GenerateFiltersDescription=5]="GenerateFiltersDescription",c[c.EmptyColumnName=6]="EmptyColumnName",c[c.UnhandledExtensionSchema=7]="UnhandledExtensionSchema",c}({}),i=function(c){return c[c.Csv=0]="Csv",c[c.Xlsx=1]="Xlsx",c[c.Json=2]="Json",c[c.ConnectedXlsx=3]="ConnectedXlsx",c}({}),r=function(c){return c.Csv="Csv",c.Xlsx="Xlsx",c.Json="Json",c}({}),t=function(c){return c[c.Summarized=0]="Summarized",c[c.Underlying=1]="Underlying",c[c.MatrixDataLayout=2]="MatrixDataLayout",c}({}),o=function(c){return c[c.Summarized=0]="Summarized",c[c.Underlying=1]="Underlying",c[c.MatrixDataLayout=2]="MatrixDataLayout",c[c.ConnectedXlsx=3]="ConnectedXlsx",c}({}),d=function(c){return c[c.AllowSummarizedAndUnderlying=0]="AllowSummarizedAndUnderlying",c[c.AllowSummarized=1]="AllowSummarized",c[c.None=2]="None",c}({}),n=function(c){return c[c.Allowed=0]="Allowed",c[c.NotAllowedByAdmin=1]="NotAllowedByAdmin",c[c.NotAuthorized=2]="NotAuthorized",c[c.InsufficientLicense=3]="InsufficientLicense",c[c.UnsupportedScenario=4]="UnsupportedScenario",c[c.Unavailable=5]="Unavailable",c}({})},989917:function(ve,z,e){e.d(z,{RJ:function(){return r},Xe:function(){return i},an:function(){return a}});var a="filter",i={general:{properties:{requireSingleSelect:{type:{bool:!0}},isInvertedSelectionMode:{type:{bool:!0}}}}},r=function(t){return t[t.Categorical=0]="Categorical",t[t.Range=1]="Range",t[t.Advanced=2]="Advanced",t[t.Passthrough=3]="Passthrough",t[t.Visual=4]="Visual",t[t.TopN=5]="TopN",t[t.Include=6]="Include",t[t.Exclude=7]="Exclude",t[t.RelativeDate=8]="RelativeDate",t[t.Tuple=9]="Tuple",t[t.RelativeTime=10]="RelativeTime",t[t.VisualTopN=11]="VisualTopN",t}({})},339521:function(ve,z,e){e.d(z,{x:function(){return a}});var a=function(i){return i[i.Self=1]="Self",i[i.Slicer=2]="Slicer",i}({})},541459:function(ve,z,e){e.d(z,{Cq:function(){return o},Gz:function(){return n},Zj:function(){return d}});var a=e(266092),i=e(354827),r=e(847709),t=e(137937),o={pageInformation:{displayName:(0,a.D)("PagePropertyPane_PageInformation"),properties:{pageInformationName:{displayName:(0,a.D)("Name"),type:{text:!0}},pageInformationQnaPodEnabled:{displayName:(0,a.D)("Generic_Qna"),type:{bool:!0}},pageInformationAltName:{displayName:(0,a.D)("PagePropertyPane_PageInformation_AltName_Placeholder"),type:{formatting:{altText:!0}}},pageInformationType:{displayName:(0,a.D)("Allow_As_Tooltip"),type:{bool:!0}}}},pageSize:{displayName:(0,a.D)("Canvas_Settings"),properties:{pageSizeTypes:{displayName:(0,a.D)("Type"),type:{enumeration:t.Z}},pageSizeWidth:{displayName:(0,a.D)("PagePropertyPane_PageSizeWidth"),type:{numeric:!0}},pageSizeHeight:{displayName:(0,a.D)("PagePropertyPane_PageSizeHeight"),type:{numeric:!0}}}},background:{displayName:(0,a.D)("PagePropertyPane_PageBackground"),properties:{color:{displayName:(0,a.D)("PagePropertyPane_PageBackgroundColor"),type:{fill:{solid:{color:!0}}}},image:{type:{image:{}}},transparency:{displayName:(0,a.D)("Transparency"),type:{numeric:!0}}}},displayArea:{displayName:(0,a.D)("PagePropertyPane_PageAlignment"),properties:{verticalAlignment:{displayName:(0,a.D)("Visual_Alignment_Vertical"),type:{enumeration:r.ZU}}}},outspace:{displayName:(0,a.D)("PagePropertyPane_Outspace"),properties:{color:{displayName:(0,a.D)("PagePropertyPane_PageBackgroundColor"),type:{fill:{solid:{color:!0}}}},image:{type:{image:{}}},transparency:{displayName:(0,a.D)("Transparency"),type:{numeric:!0}}}},outspacePane:{displayName:(0,a.D)("Exploration_FilterPane"),properties:{backgroundColor:{displayName:(0,a.D)("PagePropertyPane_OutspacePane_BackgroundColor"),type:{fill:{solid:{color:!0}}},description:(0,a.D)("PagePropertyPane_OutspacePane_BackgroundColorTooltip")},transparency:{displayName:(0,a.D)("Transparency"),type:{numeric:!0},description:(0,a.D)("PagePropertyPane_OutspacePane_BackgroundTransparencyTooltip")},foregroundColor:{displayName:(0,a.D)("PagePropertyPane_OutspacePane_ForegroundColor"),type:{fill:{solid:{color:!0}}},description:(0,a.D)("PagePropertyPane_OutspacePane_ForegroundColorTooltip")},titleSize:{displayName:(0,a.D)("Visual_AxisTitleTextSize"),type:{integer:!0},description:(0,a.D)("PagePropertyPane_OutspacePane_TitleSizeTooltip")},searchTextSize:{displayName:(0,a.D)("PagePropertyPane_OutspacePane_SearchTextSize"),type:{integer:!0},description:(0,a.D)("PagePropertyPane_OutspacePane_SearchTextSizeTooltip")},headerSize:{displayName:(0,a.D)("PagePropertyPane_OutspacePane_HeaderSize"),type:{integer:!0},description:(0,a.D)("PagePropertyPane_OutspacePane_HeaderSizeTooltip")},fontFamily:{displayName:(0,a.D)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}},description:(0,a.D)("PagePropertyPane_OutspacePane_FontFamilyTooltip")},border:{displayName:(0,a.D)("Visual_Border"),type:{bool:!0},description:(0,a.D)("PagePropertyPane_OutspacePane_LeftBorderTooltip")},borderColor:{displayName:(0,a.D)("PagePropertyPane_FilterCards_BorderColor"),type:{fill:{solid:{color:!0}}},description:(0,a.D)("PagePropertyPane_OutspacePane_BorderColorTooltip")},checkboxAndApplyColor:{displayName:(0,a.D)("Checkbox_Apply_Color_Title"),type:{fill:{solid:{color:!0}}},description:(0,a.D)("Checkbox_Apply_Color_Description")},inputBoxColor:{displayName:(0,a.D)("PagePropertyPane_FilterCards_InputBoxColor"),type:{fill:{solid:{color:!0}}},description:(0,a.D)("PagePropertyPane_OutspacePane_InputBoxColorTooltip")},width:{displayName:(0,a.D)("PagePropertyPane_PageSizeWidth"),type:{integer:!0}}}},filterCard:{displayName:(0,a.D)("PagePropertyPane_FilterCards"),properties:{backgroundColor:{displayName:(0,a.D)("PagePropertyPane_OutspacePane_BackgroundColor"),type:{fill:{solid:{color:!0}}},description:(0,a.D)("PagePropertyPane_FilterCards_BackgroundColorTooltip")},transparency:{displayName:(0,a.D)("Transparency"),type:{integer:!0},description:(0,a.D)("PagePropertyPane_FilterCards_BackgroundTransparencyTooltip")},border:{displayName:(0,a.D)("Visual_Border"),type:{bool:!0},description:(0,a.D)("PagePropertyPane_FilterCards_BorderTooltip")},borderColor:{displayName:(0,a.D)("PagePropertyPane_FilterCards_BorderColor"),type:{fill:{solid:{color:!0}}},description:(0,a.D)("PagePropertyPane_FilterCards_BorderColorTooltip")},foregroundColor:{displayName:(0,a.D)("PagePropertyPane_OutspacePane_ForegroundColor"),type:{fill:{solid:{color:!0}}},description:(0,a.D)("PagePropertyPane_FilterCards_ForegroundColorTooltip")},textSize:{displayName:(0,a.D)("Visual_TextSize"),type:{integer:!0},description:(0,a.D)("PagePropertyPane_FilterCards_TextSizeTooltip")},fontFamily:{displayName:(0,a.D)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}},description:(0,a.D)("PagePropertyPane_FilterCards_FontFamilyTooltip")},inputBoxColor:{displayName:(0,a.D)("PagePropertyPane_FilterCards_InputBoxColor"),type:{fill:{solid:{color:!0}}},description:(0,a.D)("PagePropertyPane_FilterCards_InputBoxColorTooltip")}}},pageRefresh:{displayName:(0,a.D)("PageRefresh"),properties:{show:{displayName:(0,a.D)("Show"),type:{bool:!0}},refreshType:{displayName:(0,a.D)("AutoPageRefreshType"),type:{enumeration:i.ZU}},duration:{displayName:(0,a.D)("AutoPageRefreshInterval"),type:{duration:!0}},dialogLauncher:{displayName:(0,a.D)("AutoPageRefreshInterval"),type:{}},measure:{displayName:(0,a.D)("NewMeasureName"),type:{readOnlyText:!0}},checkEvery:{displayName:(0,a.D)("CheckEvery"),type:{readOnlyText:!0}}}},personalizeVisual:{displayName:(0,a.D)("VisualHeader_ShowPersonalizeVisualButton"),properties:{show:{displayName:(0,a.D)("Show"),type:{bool:!0}},perspectiveRef:{displayName:(0,a.D)("PersonalizeVisual_PerspectivePropertyName"),type:{reference:{perspective:!0}}},applyToAllPages:{displayName:(0,a.D)("PagePropertyPane_ApplyToAllPages"),type:{applyToAllPages:!0}}}}};function d(c){return _.filter(c,s=>!s.transient)}var n={pageInformation:{pageInformationName:{objectName:"pageInformation",propertyName:"pageInformationName"},pageInformationQnaPodEnabled:{objectName:"pageInformation",propertyName:"pageInformationQnaPodEnabled"},pageInformationAltName:{objectName:"pageInformation",propertyName:"pageInformationAltName"},pageInformationType:{objectName:"pageInformation",propertyName:"pageInformationType"},pageInformationDrillthroughKeepAllFilters:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughKeepAllFilters"},pageInformationDrillthroughCrossReportEnabled:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughCrossReportEnabled"},pageInformationDrillthroughFields:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughFields"},pageInformationDrillthroughLinkFieldsLinkTypes:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughLinkFieldsLinkTypes"}},pageSize:{pageSizeTypes:{objectName:"pageSize",propertyName:"pageSizeTypes"},pageSizeWidth:{objectName:"pageSize",propertyName:"pageSizeWidth"},pageSizeHeight:{objectName:"pageSize",propertyName:"pageSizeHeight"}},background:{color:{objectName:"background",propertyName:"color"},image:{objectName:"background",propertyName:"image"},transparency:{objectName:"background",propertyName:"transparency"}},displayArea:{verticalAlignment:{objectName:"displayArea",propertyName:"verticalAlignment"}},outspace:{color:{objectName:"outspace",propertyName:"color"},image:{objectName:"outspace",propertyName:"image"},transparency:{objectName:"outspace",propertyName:"transparency"}},outspacePane:{backgroundColor:{objectName:"outspacePane",propertyName:"backgroundColor"},transparency:{objectName:"outspacePane",propertyName:"transparency"},foregroundColor:{objectName:"outspacePane",propertyName:"foregroundColor"},titleSize:{objectName:"outspacePane",propertyName:"titleSize"},searchTextSize:{objectName:"outspacePane",propertyName:"searchTextSize"},headerSize:{objectName:"outspacePane",propertyName:"headerSize"},fontFamily:{objectName:"outspacePane",propertyName:"fontFamily"},border:{objectName:"outspacePane",propertyName:"border"},borderColor:{objectName:"outspacePane",propertyName:"borderColor"},checkboxAndApplyColor:{objectName:"outspacePane",propertyName:"checkboxAndApplyColor"},inputBoxColor:{objectName:"outspacePane",propertyName:"inputBoxColor"},width:{objectName:"outspacePane",propertyName:"width"}},filterCard:{backgroundColor:{objectName:"filterCard",propertyName:"backgroundColor"},transparency:{objectName:"filterCard",propertyName:"transparency"},border:{objectName:"filterCard",propertyName:"border"},borderColor:{objectName:"filterCard",propertyName:"borderColor"},foregroundColor:{objectName:"filterCard",propertyName:"foregroundColor"},textSize:{objectName:"filterCard",propertyName:"textSize"},fontFamily:{objectName:"filterCard",propertyName:"fontFamily"},inputBoxColor:{objectName:"filterCard",propertyName:"inputBoxColor"}},pageRefresh:{show:{objectName:"pageRefresh",propertyName:"show"},refreshType:{objectName:"pageRefresh",propertyName:"refreshType"},duration:{objectName:"pageRefresh",propertyName:"duration"},dialogLauncher:{objectName:"pageRefresh",propertyName:"dialogLauncher"},measure:{objectName:"pageRefresh",propertyName:"measure"},checkEvery:{objectName:"pageRefresh",propertyName:"checkEvery"}},personalizeVisual:{show:{objectName:"personalizeVisual",propertyName:"show"},perspectiveRef:{objectName:"personalizeVisual",propertyName:"perspectiveRef"},applyToAllPages:{objectName:"personalizeVisual",propertyName:"applyToAllPages"}}}},847709:function(ve,z,e){e.d(z,{C2:function(){return i},Mn:function(){return r},ZU:function(){return o},mc:function(){return t}});var a=e(904143),i=function(d){return d[d.Top=0]="Top",d[d.Middle=1]="Middle",d}({}),r="Top",t="Middle",o=(0,a.s)([{value:r,displayName:d=>d.get("Top")},{value:t,displayName:d=>d.get("Middle")}])},137937:function(ve,z,e){e.d(z,{Z:function(){return r},m:function(){return i}});var a=e(904143),i={Dynamic:"Dynamic",Standard:"Standard",Widescreen:"Widescreen",Cortana:"Cortana",Letter:"Letter",Tooltip:"Tooltip",Custom:"Custom"},r=(0,a.s)([{value:i.Widescreen,displayName:t=>t.get("PagePropertyPane_PageSizeType_Widescreen")},{value:i.Standard,displayName:t=>t.get("PagePropertyPane_PageSizeType_Standard")},{value:i.Letter,displayName:t=>t.get("PagePropertyPane_PageSizeType_Letter")},{value:i.Tooltip,displayName:t=>t.get("Tooltip")},{value:i.Custom,displayName:t=>t.get("Custom")}])},66388:function(ve,z,e){e.d(z,{Hl:function(){return t},II:function(){return p},N$:function(){return n},ZU:function(){return o},_I:function(){return v},dK:function(){return c},o8:function(){return u},w7:function(){return s},yB:function(){return r}});var a=e(999904),i=e(904143),r="Default",t="Canvas",o=(0,i.s)([{value:r,displayName:m=>m.get("Default")},{value:t,displayName:m=>m.get("ReportPage")}]),n="___AUTO___";function c(m,g=!1){var E=m?.show;return!1===E||void 0===E&&g}function s(m){var g=m?.show;return!g}function p(m){return!!m&&!m.show}function u(m){if(m){var g={visualType:m.visualType};m.syncGroup&&(g.syncGroup=_.cloneDeep(m.syncGroup)),m.columnProperties&&(g.columnProperties=_.cloneDeep(m.columnProperties)),m.query&&(g.query=m.query.clone()),m.queryOptions&&(g.queryOptions=_.cloneDeep(m.queryOptions)),m.objects&&(g.objects=(0,a.o8)(m.objects)),m.vcObjects&&(g.vcObjects=(0,a.o8)(m.vcObjects)),function(m,g){m.mobileObjects&&(g.mobileObjects=(0,a.o8)(m.mobileObjects)),m.mobileVcObjects&&(g.mobileVcObjects=(0,a.o8)(m.mobileVcObjects))}(m,g),m.hasDefaultSort&&(g.hasDefaultSort=m.hasDefaultSort);var E=m.conversionSourceContext;return E&&(g.conversionSourceContext={visualType:E.visualType,query:E.query&&E.query.clone(),syncGroup:E.syncGroup}),m.display&&(g.display=_.cloneDeep(m.display)),m.autoSelectVisualType&&(g.autoSelectVisualType=m.autoSelectVisualType),g.hasUsedSmallMultiples=m.hasUsedSmallMultiples,g}}function v(m,g){if(!m)return g.resolve();var E=m.getAdapter();return E?E.enumerateObjectRepetitionAsync?E.enumerateObjectRepetitionAsync():E.enumerateObjectRepetition?g.resolve(E.enumerateObjectRepetition()):g.resolve():g.resolve()}},11733:function(ve,z,e){e.d(z,{$F:function(){return f},De:function(){return w},Mp:function(){return V},Mx:function(){return y},NJ:function(){return T},Pw:function(){return u},Xe:function(){return b},dK:function(){return P},dP:function(){return N},f_:function(){return E},k1:function(){return S},o8:function(){return M}});var a=e(576086),i=e(18122),r=e(236880),t=e(170669),o=e(266092),d=e(904143),n=e(993513),c=e(66388),s=e(663776),p=e(385926),l=e(993531);function u(I){return I.type||p.kc}var g="Heading3",E="Heading4",C=(0,d.s)([{value:"Normal",displayName:I=>I.get("Normal")},{value:"Heading2",displayName:I=>I.get("Heading_2")},{value:g,displayName:I=>I.get("Heading_3")},{value:E,displayName:I=>I.get("Heading_4")},{value:"Heading5",displayName:I=>I.get("Heading_5")},{value:"Heading6",displayName:I=>I.get("Heading_6")}]),y=g,f="none",S={singleVisual:{visualType:"uninitializedVisual"}};(0,t.o)(S);var b={title:{displayName:(0,o.D)("Visual_Title"),description:(0,o.D)("Visual_TitleDescription"),properties:{show:{displayName:(0,o.D)("Visual_Show"),type:{bool:!0}},text:{displayName:(0,o.D)("Visual_Title_Text"),description:(0,o.D)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},heading:{displayName:(0,o.D)("Visual_Title_Heading_Attribute"),description:(0,o.D)("Visual_Title_Heading_AttributeDescription"),type:{enumeration:C}},titleWrap:{displayName:(0,o.D)("Visual_WordWrap"),type:{bool:!0}},fontColor:{displayName:(0,o.D)("Visual_FontColor"),description:(0,o.D)("Visual_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},background:{displayName:(0,o.D)("Background_Color"),description:(0,o.D)("Visual_Title_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},alignment:{displayName:(0,o.D)("Visual_Title_Alignment"),description:(0,o.D)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},fontSize:{displayName:(0,o.D)("Visual_TextSize"),description:(0,o.D)("Visual_Title_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,o.D)("Bold"),type:{bool:!0}},italic:{displayName:(0,o.D)("Italic"),type:{bool:!0}},underline:{displayName:(0,o.D)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,o.D)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}}}},subTitle:{displayName:(0,o.D)("Visual_SubTitle"),description:(0,o.D)("Visual_SubTitle_Description"),properties:{show:{displayName:(0,o.D)("Visual_Show"),type:{bool:!0}},text:{displayName:(0,o.D)("Visual_Title_Text"),description:(0,o.D)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},heading:{displayName:(0,o.D)("Visual_Title_Heading_Attribute"),description:(0,o.D)("Visual_Title_Heading_AttributeDescription"),type:{enumeration:C}},titleWrap:{displayName:(0,o.D)("Visual_WordWrap"),type:{bool:!0}},fontColor:{displayName:(0,o.D)("Visual_FontColor"),description:(0,o.D)("Visual_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},alignment:{displayName:(0,o.D)("Visual_Title_Alignment"),description:(0,o.D)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},fontSize:{displayName:(0,o.D)("Visual_TextSize"),description:(0,o.D)("Visual_Title_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,o.D)("Bold"),type:{bool:!0}},italic:{displayName:(0,o.D)("Italic"),type:{bool:!0}},underline:{displayName:(0,o.D)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,o.D)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}}}},divider:{displayName:(0,o.D)("Visual_Divider"),properties:{...(0,n.ai)({strokeShow:"show",strokeColor:"color",strokePattern:"style",strokeWidth:"width"}),ignorePadding:{displayName:(0,o.D)("Visual_Divider_IgnorePadding"),type:{bool:!0}}}},spacing:{properties:{customizeSpacing:{displayName:(0,o.D)("Visual_Spacing_Customize"),type:{bool:!0}},verticalSpacing:{displayName:(0,o.D)("Visual_Spacing_Vertical"),type:{numeric:!0}},spaceBelowTitle:{displayName:(0,o.D)("Visual_Spacing_Below_Title"),type:{numeric:!0}},spaceBelowSubTitle:{displayName:(0,o.D)("Visual_Spacing_Below_SubTitle"),type:{numeric:!0}},spaceBelowTitleArea:{displayName:(0,o.D)("Visual_Spacing_Below_TitleArea"),type:{numeric:!0}}}},background:{displayName:(0,o.D)("Visual_Background"),properties:{show:{displayName:(0,o.D)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,o.D)("Generic_Color"),description:(0,o.D)("Visual_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,o.D)("Transparency"),description:(0,o.D)("Visual_Background_TransparencyDescription"),type:{numeric:!0}}}},padding:{displayName:(0,o.D)("Visual_Padding"),properties:{top:{displayName:(0,o.D)("Visual_PaddingTop"),type:{numeric:!0}},bottom:{displayName:(0,o.D)("Visual_PaddingBottom"),type:{numeric:!0}},left:{displayName:(0,o.D)("Visual_PaddingLeft"),type:{numeric:!0}},right:{displayName:(0,o.D)("Visual_PaddingRight"),type:{numeric:!0}}}},lockAspect:{displayName:(0,o.D)("Visual_BasicShape_LockAspect"),properties:{show:{displayName:(0,o.D)("Visual_Show"),type:{bool:!0}}}},general:{displayName:(0,o.D)("Visual_General_Properties"),properties:{x:{displayName:(0,o.D)("Visual_General_Properties_X_Coordinate"),type:{numeric:!0}},y:{displayName:(0,o.D)("Visual_General_Properties_Y_Coordinate"),type:{numeric:!0}},width:{displayName:(0,o.D)("Visual_General_Properties_Width"),type:{numeric:!0}},height:{displayName:(0,o.D)("Visual_General_Properties_Height"),type:{numeric:!0}},altText:{displayName:(0,o.D)("Visual_General_Properties_Description"),placeHolderText:(0,o.D)("Visual_General_Properties_Description_Placeholder"),type:{formatting:{altText:!0}}},allowBinnedLineSample:{displayName:(0,o.D)("Visual_General_HighDensitySampling"),type:{bool:!0}},allowOverlappingPointsSample:{displayName:(0,o.D)("Visual_General_HighDensitySampling"),type:{bool:!0}},keepLayerOrder:{displayName:(0,o.D)("Visual_General_KeepLayerOrder"),description:(0,o.D)("Visual_General_KeepLayerOrderDescription"),type:{bool:!0}}}},border:{displayName:(0,o.D)("Visual_Border"),properties:{show:{displayName:(0,o.D)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,o.D)("Generic_Color"),type:{fill:{solid:{color:!0}}}},radius:{displayName:(0,o.D)("Visual_Radius"),type:{numeric:!0}},width:{displayName:(0,o.D)("Visual_General_Properties_Width"),type:{numeric:!0}}}},dropShadow:{displayName:(0,o.D)("Visual_DropShadow"),properties:{show:{displayName:(0,o.D)("Visual_Show"),type:{bool:!0}},preset:{displayName:(0,o.D)("Visual_DropShadow_Preset"),type:{enumeration:l.k}},position:{displayName:(0,o.D)("Visual_DropShadow_Position"),type:{enumeration:l.yX}},color:{displayName:(0,o.D)("Generic_Color"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,o.D)("Transparency"),type:{numeric:!0}},shadowSpread:{displayName:(0,o.D)("Visual_BubbleSize"),type:{numeric:!0}},shadowBlur:{displayName:(0,o.D)("Visual_DropShadow_Blur"),type:{numeric:!0}},angle:{displayName:(0,o.D)("Visual_Angle"),type:{numeric:!0}},shadowDistance:{displayName:(0,o.D)("Distance"),type:{numeric:!0}}}},visualLink:{displayName:(0,o.D)("Visual_VisualLink"),suppressFormatPainterCopy:!0,properties:{show:{displayName:(0,o.D)("Visual_Show"),type:{bool:!0}},type:{displayName:(0,o.D)("Type"),description:(0,o.D)("Visual_VisualLink_Type_Description"),type:{enumeration:p.Zk}},bookmark:{displayName:(0,o.D)("Generic_Bookmark"),description:(0,o.D)("Visual_VisualLink_Bookmark_Description"),type:{reference:{bookmark:!0}}},disabledTooltip:{displayName:(0,o.D)("Disabled_Tooltip"),type:{text:!0}},drillthroughSection:{displayName:(0,o.D)("Destination"),description:(0,o.D)("Visual_VisualLink_Destination_Description"),type:{reference:{section:!0}}},enabledTooltip:{displayName:(0,o.D)("Enabled_Tooltip"),type:{text:!0}},qna:{type:{qnaVisualLink:!0}},suppressDefaultTooltip:{displayName:(0,o.D)("Visual_SuppressDefaultTooltips"),type:{bool:!0}},showDefaultTooltip:{displayName:(0,o.D)("Visual_ShowTooltips"),type:{bool:!0}},navigationSection:{displayName:(0,o.D)("Destination"),description:(0,o.D)("Visual_VisualLink_Destination_Description"),type:{reference:{section:!0}}},tooltip:{displayName:(0,o.D)("Tooltip"),description:(0,o.D)("Visual_VisualLink_Tooltip_Description"),type:{text:!0}},tooltipPlaceholderText:{displayName:(0,o.D)("Tooltip_PlaceHolderText"),type:{text:!0}},webUrl:{displayName:(0,o.D)("Web_Url"),type:{misc:{webUrl:!0}}},dataFunction:{displayName:(0,o.D)("Data_Function"),type:{itemLocation:{metadata:{dataFunction:!0}}}}}},visualTooltip:{displayName:(0,o.D)("Tooltip"),properties:{show:{displayName:(0,o.D)("Visual_Show"),type:{bool:!0}},type:{displayName:(0,o.D)("Type"),description:(0,o.D)("Visual_Tooltip_Type_Description"),type:{enumeration:c.ZU}},section:{displayName:(0,o.D)("Page"),description:(0,o.D)("Visual_Tooltip_Section_Description"),type:{reference:{section:!0}}},titleFontColor:{displayName:(0,o.D)("Visual_Label_FontColor"),description:(0,o.D)("Visual_Tooltip_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},valueFontColor:{displayName:(0,o.D)("Visual_Value_FontColor"),description:(0,o.D)("Visual_Tooltip_Value_FontColorDescription"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,o.D)("Visual_TextSize"),description:(0,o.D)("Visual_Tooltip_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,o.D)("Bold"),type:{bool:!0}},italic:{displayName:(0,o.D)("Italic"),type:{bool:!0}},underline:{displayName:(0,o.D)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,o.D)("Visual_FontFamily"),description:(0,o.D)("Visual_Tooltip_FontFamilyDescription"),type:{formatting:{fontFamily:!0}}},background:{displayName:(0,o.D)("Background_Color"),description:(0,o.D)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},transparency:{displayName:(0,o.D)("Transparency"),description:(0,o.D)("Visual_Tooltip_BackgroundTransparencyDescription"),type:{numeric:!0}},actionFontColor:{displayName:(0,o.D)("Visual_Action_FontColor"),description:(0,o.D)("Visual_Action_FontColor_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedTitleFontColor:{displayName:(0,o.D)("Visual_Label_FontColor"),description:(0,o.D)("Visual_Tooltip_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedBackground:{displayName:(0,o.D)("Background_Color"),description:(0,o.D)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},themedValueFontColor:{displayName:(0,o.D)("Visual_Value_FontColor"),description:(0,o.D)("Visual_Tooltip_Value_FontColorDescription"),type:{fill:{solid:{color:!0}}}}}},stylePreset:{displayName:(0,o.D)("Visual_Table_StylePreset_SliceTitle"),properties:{name:{displayName:(0,o.D)("Visual_Table_StylePreset_SliceTitle"),type:{formatting:{stylePreset:!0}}}}},visualHeader:{displayName:(0,o.D)("Visual_Header"),description:(0,o.D)("VisualHeader_Toggle_Description"),properties:{show:{displayName:(0,o.D)("Visual_Show"),type:{bool:!0}},background:{displayName:(0,o.D)("Background_Color"),description:(0,o.D)("VisualHeader_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},border:{displayName:(0,o.D)("Visual_Border"),description:(0,o.D)("Visual_Border"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,o.D)("Transparency"),description:(0,o.D)("VisualHeader_Background_TransparencyDescription"),type:{numeric:!0}},foreground:{displayName:(0,o.D)("VisualHeader_Foreground_Color"),description:(0,o.D)("VisualHeader_Foreground_ColorDescription"),type:{fill:{solid:{color:!0}}}},showVisualInformationButton:{displayName:(0,o.D)("VisualHeader_ShowVisualInformationButton"),description:(0,o.D)("VisualHeader_ShowVisualInformationButton_Description"),type:{bool:!0}},showVisualWarningButton:{displayName:(0,o.D)("VisualHeader_ShowVisualWarningButton"),description:(0,o.D)("VisualHeader_ShowVisualWarningButton_Description"),type:{bool:!0}},showVisualErrorButton:{displayName:(0,o.D)("VisualHeader_ShowVisualErrorButton"),description:(0,o.D)("VisualHeader_ShowVisualErrorButton_Description"),type:{bool:!0}},showDrillRoleSelector:{displayName:(0,o.D)("VisualHeader_ShowDrillRoleSelector"),description:(0,o.D)("VisualHeader_ShowDrillRoleSelector_Description"),type:{bool:!0}},showDrillUpButton:{displayName:(0,o.D)("VisualHeader_ShowDrillUpButton"),description:(0,o.D)("VisualHeader_ShowDrillUpButton_Description"),type:{bool:!0}},showDrillToggleButton:{displayName:(0,o.D)("VisualHeader_ShowDrillToggleButton"),description:(0,o.D)("VisualHeader_ShowDrillToggleButton_Description"),type:{bool:!0}},showDrillDownLevelButton:{displayName:(0,o.D)("VisualHeader_ShowDrillDownLevelButton"),description:(0,o.D)("VisualHeader_ShowDrillDownLevelButton_Description"),type:{bool:!0}},showDrillDownExpandButton:{displayName:(0,o.D)("VisualHeader_ShowDrillDownExpandButton"),description:(0,o.D)("VisualHeader_ShowDrillDownExpandButton_Description"),type:{bool:!0}},showPinButton:{displayName:(0,o.D)("VisualHeader_ShowPinButton"),description:(0,o.D)("VisualHeader_ShowPinButton_Description"),type:{bool:!0}},showFilterRestatementButton:{displayName:(0,o.D)("VisualHeader_ShowFilterRestatementButton"),description:(0,o.D)("VisualHeader_ShowFilterRestatementButton_Description"),type:{bool:!0}},showFocusModeButton:{displayName:(0,o.D)("VisualHeader_ShowFocusModeButton"),description:(0,o.D)("VisualHeader_ShowFocusModeButton_Description"),type:{bool:!0}},showCopyVisualImageButton:{displayName:(0,o.D)("VisualHeader_ShowCopyVisualImageButton"),description:(0,o.D)("VisualHeader_ShowCopyVisualImageButton_Description"),type:{bool:!0}},showSeeDataLayoutToggleButton:{displayName:(0,o.D)("VisualHeader_ShowSeeDataLayoutToggleButton"),description:(0,o.D)("VisualHeader_ShowSeeDataLayoutToggleButton_Description"),type:{bool:!0}},showOptionsMenu:{displayName:(0,o.D)("VisualHeader_ShowOptionsMenu"),description:(0,o.D)("VisualHeader_ShowOptionsMenu_Description"),type:{bool:!0}},showCommentButton:{displayName:(0,o.D)("VisualHeader_ShowCommentButton"),description:(0,o.D)("VisualHeader_ShowCommentButton_Description"),type:{bool:!0}},showTooltipButton:{displayName:(0,o.D)("VisualHeader_ShowVisualHeaderTooltip"),description:(0,o.D)("VisualHeader_ShowVisualHeaderTooltip_Description"),type:{bool:!0}},showPersonalizeVisualButton:{displayName:(0,o.D)("VisualHeader_ShowPersonalizeVisualButton"),description:(0,o.D)("VisualHeader_ShowPersonalizeVisualButton_Description"),type:{bool:!0}},showSmartNarrativeButton:{displayName:(0,o.D)("SmartNarratives_ToolTip"),description:(0,o.D)("VisualHeader_ShowSmartNarrativeButton_Description"),type:{bool:!0}},showSetAlertButton:{displayName:(0,o.D)("VisualHeader_SetAlertButton"),description:(0,o.D)("VisualHeader_SetAlertButton_Description"),type:{bool:!0}},showFollowVisualButton:{displayName:(0,o.D)("VisualHeader_FollowVisualButton"),description:(0,o.D)("VisualHeader_FollowVisualButton_Description"),type:{bool:!0}}}},visualHeaderTooltip:{displayName:(0,o.D)("VisualHeaderTooltip"),properties:{type:{displayName:(0,o.D)("Type"),type:{enumeration:s.ZU}},section:{displayName:(0,o.D)("Page"),description:(0,o.D)("Visual_Tooltip_Section_Description"),type:{reference:{section:!0}}},text:{displayName:(0,o.D)("VisualHeaderTooltip_Text"),description:(0,o.D)("VisualHeaderTooltip_Text_Description"),type:{text:!0}},titleFontColor:{displayName:(0,o.D)("Generic_Color"),description:(0,o.D)("VisualHeaderTooltip_FontColorDescription"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,o.D)("Visual_TextSize"),description:(0,o.D)("Visual_Tooltip_TextSizeDescription"),type:{formatting:{fontSize:!0}}},fontFamily:{displayName:(0,o.D)("Visual_FontFamily"),description:(0,o.D)("Visual_Tooltip_FontFamilyDescription"),type:{formatting:{fontFamily:!0}}},bold:{displayName:(0,o.D)("Bold"),type:{bool:!0}},italic:{displayName:(0,o.D)("Italic"),type:{bool:!0}},underline:{displayName:(0,o.D)("Underline"),type:{bool:!0}},background:{displayName:(0,o.D)("Background_Color"),description:(0,o.D)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},transparency:{displayName:(0,o.D)("Transparency"),description:(0,o.D)("Visual_Tooltip_BackgroundTransparencyDescription"),type:{numeric:!0}},themedTitleFontColor:{displayName:(0,o.D)("Generic_Color"),description:(0,o.D)("VisualHeaderTooltip_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedBackground:{displayName:(0,o.D)("Background_Color"),description:(0,o.D)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}}}}},V=(0,r.cM)(b);function M(I,O){if(I){var x=O.serializeVisualContainer(I);return O.deserializeCanvasItem(x,!0)}}function P(I){return!!I.display&&I.display.mode===a.Pt.Hidden}function T(I,O){I.display=O?{mode:a.Pt.Hidden}:void 0}function N(I){if(I.visualContainer)return I.visualContainer.config.singleVisual.visualType;i.Y.assertFail("PinData has no visualType")}function w(I){return I===a.B8.VisualCalcEditing}},919601:function(ve,z,e){e.d(z,{Cq:function(){return t},Mp:function(){return o},NJ:function(){return n},dK:function(){return d},ge:function(){return r},k1:function(){return c}});var a=e(236880),i=e(266092),r="visualContainerGroup",t={background:{displayName:(0,i.D)("Visual_Background"),properties:{show:{displayName:(0,i.D)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,i.D)("Generic_Color"),description:(0,i.D)("VisualGroup_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,i.D)("Transparency"),description:(0,i.D)("Visual_Background_TransparencyDescription"),type:{numeric:!0}}}},lockAspect:{displayName:(0,i.D)("Visual_BasicShape_LockAspect"),properties:{show:{displayName:(0,i.D)("Visual_Show"),type:{bool:!0}}}},general:{displayName:(0,i.D)("Visual_General_Properties"),properties:{x:{displayName:(0,i.D)("Visual_General_Properties_X_Coordinate"),type:{numeric:!0}},y:{displayName:(0,i.D)("Visual_General_Properties_Y_Coordinate"),type:{numeric:!0}},width:{displayName:(0,i.D)("Visual_General_Properties_Width"),type:{numeric:!0}},height:{displayName:(0,i.D)("Visual_General_Properties_Height"),type:{numeric:!0}},altText:{displayName:(0,i.D)("Visual_General_Properties_Description"),placeHolderText:(0,i.D)("Visual_General_Properties_Description_Placeholder"),type:{formatting:{altText:!0}}}}}},o=(0,a.cM)(t);function d(s){return s.isHidden}function n(s,p){s.isHidden=p}function c(s,p){s.displayName=p}},71712:function(ve,z,e){e.d(z,{N5:function(){return o},Uu:function(){return r},iA:function(){return n},tx:function(){return d}});var a=e(11733),i=e(919601);function r(s,p,l){return t(!1,l&&l.visibleOnly,s,p)}function t(s,p,l,u){for(var v of l){var m=s||c(v);p&&m||(u(v,m),d(v)&&t(m,p,v.children,u))}}function o(s){var p=[],l=[];for(var u of s)n(u)?p.push(u):l.push(u);return[p,l]}function d(s){return!!s.children}function n(s){return!s.children}function c(s){return d(s)?(0,i.dK)(s):(0,a.dK)(s.config.singleVisual)}},993531:function(ve,z,e){e.d(z,{Cj:function(){return t},Jo:function(){return i},Lw:function(){return r},NQ:function(){return s},U9:function(){return v},bW:function(){return d},bz:function(){return c},hL:function(){return u},k:function(){return m},kW:function(){return n},xm:function(){return o},xn:function(){return l},yS:function(){return p},yX:function(){return g}});var a=e(904143),i="Custom",r="Top",t="TopLeft",o="TopRight",d="Center",n="CenterLeft",c="CenterRight",s="Bottom",p="BottomLeft",l="BottomRight",u="Outer",v="Inner",m=(0,a.s)([{value:l,displayName:E=>E.get("Visual_LabelPosition_BottomRight")},{value:s,displayName:E=>E.get("Bottom")},{value:p,displayName:E=>E.get("Visual_LabelPosition_BottomLeft")},{value:c,displayName:E=>E.get("Visual_TextAlignment_Right")},{value:d,displayName:E=>E.get("Visual_TextAlignment_Center")},{value:n,displayName:E=>E.get("Visual_TextAlignment_Left")},{value:o,displayName:E=>E.get("Visual_LabelPosition_TopRight")},{value:r,displayName:E=>E.get("Top")},{value:t,displayName:E=>E.get("Visual_LabelPosition_TopLeft")},{value:i,displayName:E=>E.get("Custom")}]),g=(0,a.s)([{value:u,displayName:E=>E.get("Visual_DonutLabelPosition_Outside")},{value:v,displayName:E=>E.get("Visual_DonutLabelPosition_Inside")}])},663776:function(ve,z,e){e.d(z,{EY:function(){return r},Hl:function(){return t},ZU:function(){return o}});var a=e(904143),i=e(66388),r=i.yB,t=i.Hl,o=(0,a.s)([{value:i.yB,displayName:d=>d.get("Text")},{value:t,displayName:d=>d.get("ReportPage")}])},385926:function(ve,z,e){e.d(z,{Cl:function(){return s},FD:function(){return u},M_:function(){return v},R_:function(){return d},UX:function(){return o},Xh:function(){return r},Zk:function(){return l},je:function(){return c},kc:function(){return i},ly:function(){return p},n:function(){return t},om:function(){return n}});var a=e(904143),i="Back",r="Bookmark",t="Drillthrough",o="PageNavigation",d="Qna",n="WebUrl",c="ApplyAllSlicers",s="ClearAllSlicers",p="DataFunction",l=(0,a.s)([{value:i,displayName:m=>m.get("Generic_Back")},{value:r,displayName:m=>m.get("Generic_Bookmark")},{value:t,displayName:m=>m.get("Drillthrough")},{value:o,displayName:m=>m.get("PageNavigation")},{value:d,displayName:m=>m.get("Generic_Qna")},{value:n,displayName:m=>m.get("Web_Url")},{value:c,displayName:m=>m.get("ReportAppBar_ApplyAllSlicers")},{value:s,displayName:m=>m.get("ReportAppBar_ClearAllSlicers")},{value:p,displayName:m=>m.get("Data_Function")}]),u="",v=""},371320:function(ve,z,e){e.d(z,{r:function(){return h}});var a=e(989395),i=e(579260),r=e(18122),t=e(454840),o=e(586854),d=e(8343),n=e(324394),c=e(757406),s=e(639132),p=e(914348),l=e(870934),u=e(677792),v=e(893613),m=e(350410),g=e(960179),E=e(98138),D=e(620825);class h{constructor(y,f,S,b=!1){for(var V in this.defn=y,this.projections=f,this.expansionStates=S||[],this._isDrillDisabled=b,f)_.isEmpty(f[V].activeProjectionRefs)||this.ensureActiveItems(V)}get isDrillDisabled(){return this._isDrillDisabled}ensureExpansionState(y,f){r.Y.assertNonEmpty(y,"roles");var S=(0,o.uS)(this.expansionStates,y);if(!S){r.Y.assert(()=>!this._isDrillDisabled,"should not ensure expansion state when drill is disabled"),S=new o.nu(y,f);var b=this.getRolesUniqueProjectionRefs(y),V=this.getRolesUniqueActiveProjectionsRefs(y,f.canCollapseRoot);S.updateLevels(b,V.length),this.expansionStates.push(S)}return r.Y.assert(()=>!!S.supportsMerge==!!f.supportsMerge),S}syncExpansionStateWithActiveProjections(y){var f=(0,o.uS)(this.expansionStates,[y]);if(f){var S=this.getRolesUniqueProjectionRefs([y]),b=this.getRolesUniqueActiveProjectionsRefs([y],f.canCollapseRoot),V=_.size(b),M=_.size(S),P=_.findIndex(f.levels,(O,x)=>(r.Y.assert(()=>1===O.queryRefs.length,"since Composite Groups is not fully supported, each level is expected to have 1 queryRef"),O.queryRefs[0]!==S[x]));if(-1===P){r.Y.assert(()=>f.levels.length>=V-1,"expansionState.levels.length should be greater than or equal to sizeOfActiveProjections - 1");for(var T=f.levels.length;T<M;T++)f.addLevel(S[T],T,!1);for(var N=V-1;N<M;N++)f.setLevelState(N,!0);return}for(;P<_.size(f.levels);)f.removeLevel(P);for(var w=P;w<M;w++)f.addLevel(S[w],w,w<V-1)}}add(y,f,S){r.Y.assertValue(y,"expr"),S=S||{};var{exprName:b,fieldIndex:V,parameter:M,indexInParameter:P,nativeReferenceName:T,isHidden:N,skipUpdateActiveProjections:w}=S,I=this.defn.selectNameOf(y),O=!!I;I||(I=this.addSelect(y,b,T)),this.getRoleProjections(f)||(this.projections[f]=new d.yl([]));var x={queryRef:I};N&&(x.hidden=N);var j=0,U=this.projections[f];if(M){var F=P??M.length??0;U.addProjection(x,{parameter:M,indexInParameter:F}),j=U.getParameterProjectionIndex(M,F),w||this.addNewQueryRefToActiveProjectionRefsIfNeeded(f,I,j)}else{var B=U.all();null==V||V>B.length?(U.addProjection(x),j=B.length-1):(U.addProjection(x,{fieldIndex:V}),j=U.getColumnProjectionIndex(V),w||this.addNewQueryRefToActiveProjectionRefsIfNeeded(f,I,j))}return w||this.updateExpansionStates(f,(W,G)=>W.addLevel(I,G+j)),O&&this.resetHiddenState(I),j}toggleHidden(y){for(var f in this.projections)this.projections[f].toggleHidden(y)}setFieldHidden(y,f){for(var S in this.projections)this.projections[S].setFieldHidden(y,f)}resetAllHidden(){for(var y in this.projections)this.projections[y].resetAllHiddenState()}addParameter(y,f,S,b){r.Y.assertValue(y,"expr"),this.getRoleProjections(f)||(this.projections[f]=new d.yl([]));var V=this.projections[f];null==S&&(S=V.getFieldCount());var M={expr:y,index:S,length:void 0};return null!=b&&(M.sortDirection=b),V.addFieldParameter(M),S}removeParameterBySQExpr(y){var f=this.projections;for(var S in f){var b=f[S],V=b.findParameterBySQExpr(y);_.isEmpty(V)||b.removeFieldParameters(V)}}removeParameter(y){var f=!1,S=this.projections;for(var b in S)f=this.removeParameterByRoleName(y,b)||f;return f}removeParameterByRoleName(y,f){var S=this.projections[f];return S?.removeFieldParameters([y])}getParameterByFieldIndex(y,f){var S=this.projections[f];return S?.getParameterByFieldIndex(y)}getResolveParameterResultsByRole(){var y={},f=this.projections;if(f)for(var S in f){var b=this.getQueryFieldParametersByRole(S);if(!_.isEmpty(b)){var V=y[S]=[];for(var M of b){var T=f[S].getParameterProjections(M).map(N=>({expr:this.defn.select().withName(N.queryRef).expr,alias:void 0}));V.push({parameter:M,result:T})}}}return y}removeExpr(y,f,S,b,V){if(f){for(var M=this.defn.select(),P=!1,T=M.length-1;T>=0;--T){var N=M[T].expr;if(h.areEqualIgnoringAggregate(N,y,S)){if(!this.removeAllProjectionsForExpr(N,b,V))return!1;P=!0}}return P}return this.removeAllProjectionsForExpr(y,b,V)}getQueryRefByProjectionIndex(y,f){var S=this.projections[y];if(S){var b=S.getQueryRefs();if(f<b.length)return b[f]}}getQueryRef(y,f){r.Y.assert(()=>f&&(void 0!==f.fieldIndex||void 0!==f.parameter&&void 0!==f.indexInParameter),"Index or parameter should be defined");var S=f.fieldIndex,b=f.parameter,V=f.indexInParameter,M=(0,d.Lw)(this.projections,y);if(M)return b?M.getParameterProjections(b)[V].queryRef:S>=M.getFieldCount()?void 0:M.getColumnProjection(S).queryRef}removeProjection(y,f){r.Y.assert(()=>f&&(void 0!==f.fieldIndex||void 0!==f.parameter&&void 0!==f.indexInParameter),"Index or parameter should be defined"),r.Y.assertValue(this.projections[y],"expected projections to be defined for given role");var S=f.fieldIndex,b=f.parameter,V=f.indexInParameter,M=f.skipUpdateActiveProjections,P=this.getQueryRef(y,f);if(!P)return!1;var T=this.defn.select().withName(P);if(!T)return!1;var O,x,N=T.expr,w=this.projections[y],I=w.all();if(b?(O={parameter:b,indexInParameter:V},x=w.getParameterProjectionIndex(b,V)):(O={fieldIndex:S},x=w.getColumnProjectionIndex(S)),w.removeProjection(O),!M){var j=this.projections[y].activeProjectionRefs;_.pull(j,P);var U=_.isEmpty(I);U&&_.isEmpty(w.getFieldParameters())?delete this.projections[y]:!U&&j&&0===j.length&&j.push(I[Math.max(0,x-1)].queryRef),this.updateExpansionStates(y,(F,R)=>F.removeLevel(R+x))}return this.isUsed(P)||this.removeExpr(N,!1,void 0,void 0,M),!0}moveProjection(y,f,S,b){if(f===S||f<0||S<0)return!1;var V,M=this.projections[y];M&&(V=M.all());var P=M.convertFieldIndexToProjectionIndex(S),T=M.convertFieldIndexToProjectionIndex(f),N=M.convertFieldIndexToProjectionIndex(S+b);if(!V||N>V.length)return!1;var w=this.projections[y].activeProjectionRefs,I=M.moveFields(f,S,b),O=P;if(S>f&&(O=N),w)if(O<w.length){var x=_.take(V,M.convertFieldIndexToProjectionIndex(S+1));this.projections[y].activeProjectionRefs=_.map(x,U=>U.queryRef)}else if(T<w.length){for(var j of I)_.pull(w,j.queryRef);0===w.length&&w.push(V[0].queryRef)}return this.updateExpansionStates(y,(U,F)=>U.moveLevels(F+T,F+P,b)),!0}setAggregate(y,f,S,b){return this.updateExpression(y,f,V=>(0,p.a)(V,S),b)}removeAggregate(y,f,S,b){return this.updateExpression(y,f,V=>(0,v.s)(V,S),b)}setPercentOfGrandTotal(y,f,S){return this.updateExpression(y,f,V=>(0,s.p)(V),S)}removePercentOfGrandTotal(y,f,S){return this.updateExpression(y,f,V=>(0,m.x)(V),S)}setPercentOfRoleTotal(y,f,S){return this.updateExpression(f,S,V=>(0,u.L)(V,y))}removePercentOfRoleTotal(y,f){return this.updateExpression(y,f,b=>(0,l.L)(b))}updateVisualCalculation(y,f,S,b,V){var M=this.getQueryRef(f,{fieldIndex:y}),P=this.defn.select().withName(M);return!(!P||!(0,D.$M)(P.expr)||!this.updateExpression(f,y,T=>(0,c.is)(T,b,S,V)))}orderBy(y,f){r.Y.assertValue(this.defn,"this.defn");var S=y,b=this.defn.orderBy();if(this.defn=this.defn.orderBy(S),f){var V=_.differenceWith(S,b,(W,G)=>W.direction===G.direction&&(0,E.aI)(W.expr,G.expr));for(var M of V){var{expr:P,direction:T}=M,N=this.defn.selectNameOf(P);if(null!=N)for(var w in this.projections){var O=this.projections[w].getParameterByQueryRef(N);null!=O&&(O.sortDirection=T)}else r.Y.assertFail("queryRef should not be null")}var x=this.defn.select(),j=S.map(W=>W.expr);for(var U in this.projections){var F=this.projections[U];for(var R of F.getFieldParameters()){var A=F.getParameterProjections(R).map(W=>x.withName(W.queryRef).expr);_.isEmpty(_.intersectionWith(A,j,E.aI))&&F.resetParameterSortDirection(R)}}}}removeOrderBy(y){r.Y.assertValue(this.defn,"this.defn"),this.defn=this.defn.removeOrderBy(y)}removeUnusedOrderBy(){r.Y.assertValue(this.defn,"this.defn");var y=this.defn,f=y.orderBy();for(var S of f){var b=S.expr;y.selectNameOf(b)||(this.defn=y.removeOrderBy(b))}}addTransform(y,f,S){r.Y.assertValue(y,"transformPlugin"),r.Y.assertAnyValue(f,"parameters"),r.Y.assertValue(this.defn,"this.defn"),r.Y.assertValue(y,"transformPlugin");var b={},V=this.defn.transforms();for(var M of V)b[M.name]=!0;var P=(0,t.uL)(b,y.name);this.defn=this.defn.transforms(V.concat([{algorithm:y.name,name:P,input:{parameters:f},output:void 0}]));var N=y.name===a.Nx.KMeansClustering.name&&S.grouping&&S.grouping.cluster;for(var w of y.outputRoles){var I=w.name;N&&(I=S.grouping.cluster.clusteringRole),this.add((0,c.Cv)(w.algorithmRole),I,{exprName:w.columnName?w.columnName:w.algorithmRole})}return P}removeTransform(y,f){r.Y.assertValue(y,"transformPlugin"),r.Y.assertValue(f,"transformName"),r.Y.assertValue(this.defn,"this.defn");var S=_.find(this.defn.transforms(),V=>V.name===f);if(S){for(var b of y.outputRoles)this.removeExpr((0,c.Cv)(b.algorithmRole),!1);this.defn=this.defn.removeTransform(S)}}updateTransform(y,f){r.Y.assertValue(y,"transformName"),r.Y.assertAnyValue(f,"parameters"),r.Y.assertValue(this.defn,"this.defn");var S=_.find(this.defn.transforms(),b=>b.name===y);S&&(S.input.parameters=f)}clone(){return new h(this.defn,(0,d.o8)(this.projections),(0,o.o8)(this.expansionStates),this._isDrillDisabled)}equals(y){return!!(0,E.EO)(this.defn,y.defn)&&_.isEqual(this.projections,y.projections)&&_.isEqual(this.expansionStates,y.expansionStates)&&this._isDrillDisabled===y.isDrillDisabled}ensureDrillableRoles(y){r.Y.assert(()=>!!y,"ensureDrillableRoles drillableRoleNames");var f=[];for(var S of y)this.ensureActiveItems(S)&&f.push(S);return f}ensureActiveItems(y,f=!1){var S=this.projections[y];if(!S)return!1;var b=S.all();if(!_.isEmpty(b)){if(this._isDrillDisabled)return!1;if(f||_.isEmpty(S.activeProjectionRefs))return S.activeProjectionRefs=[b[0].queryRef],!0}return!1}changeDrillStateValue(y,f,S){for(var b of y){var V=this.projections[b];if(V)if(f)V.activeProjectionRefs=void 0;else{var M=_.uniqBy(V.all(),N=>N.queryRef),P=_.uniq(V.activeProjectionRefs),T=S?.[b];(T||M.length||P.length)&&(V.activeProjectionRefs=T??(P[0]?[P[0]]:[M[0].queryRef]))}}f&&(this.expansionStates=[]),this._isDrillDisabled=f}toggleShowAll(y){var f=this.projections[y];f&&(f.showAll=!f.showAll)}hasShowAll(){return!_.isEmpty(this.projections)&&_.some(this.projections,y=>y.showAll)}roleContainsExpr(y,f){var S=this.projections[y],b=S&&S.all();if(_.isEmpty(b))return!1;var V=this.defn.select();for(var M of V)for(var P of b)if(P.queryRef===M.name&&(0,E.aI)(f,M.expr))return!0;return!1}getRoleNameForExpr(y){var f=this.projections;for(var S in f){var b=this.tryGetExprs(S);if(b&&b.length>0)for(var V of b)if((0,E.aI)(y,V))return S;var M=f[S].getFieldParameters();if(!_.isEmpty(M))for(var P of M)if((0,E.aI)(P.expr,y))return S}}tryGetNamedExpr(y,f){var S=(0,d.Lw)(this.projections,y);if(S){var b=S.convertFieldIndexToProjectionIndex(f),V=S.all()[b];return(0,n.$f)(this.defn,V)}}tryGetExpr(y,f){var S=this.tryGetNamedExpr(y,f);return S?.expr}tryGetExprs(y){var f=(0,n.wC)(this.defn,this.projections,y);if(void 0!==f)return _.map(f,S=>S.expr)}tryGetFieldExprs(y){return(0,n.cu)(this.defn,this.projections,y)}getUniqueQueryRefs(){var y=_.values(this.projections);return _.chain(y).map(f=>f.getQueryRefs()).flatten().uniq().value()}getUniqueQueryFields(){var y=_.keys(this.projections);return _.chain(y).map(f=>this.tryGetFieldExprs(f)).flatten().uniqWith(h.isEqualQueryFields).value()}getHiddenUniqueQueryFields(){return this.getUniqueQueryFields().filter(y=>!!y.isHidden)}hasProjections(){return _.values(this.projections).some(f=>f.all().length>0)}currentDrillMode(y){var f=this.getRoleProjections(y);if(!_.isEmpty(f)){var S=this.projections[y];if(S){var b=S.activeProjectionRefs;if(!_.isEmpty(b)){if(b.length>1)return g.Pq.DownWithCurrentGroup;if(b[0]!==f[0].queryRef)return g.Pq.DownWithoutCurrentGroup}}}}addSelect(y,f,S){var b=this.defn;this.defn=b=b.addSelect(y,f,S);var V=b.select(),M=V.length-1;return r.Y.assert(()=>(0,E.aI)(y,V[M].expr,!1,!0),"Failed to find new expr in the query."),V[M].name}static isEqualQueryFields(y,f){return y.isFieldParameter||f.isFieldParameter||void 0===y.queryName||void 0===f.queryName?y.isFieldParameter===f.isFieldParameter&&(0,E.aI)(y.expr,f.expr):y.queryName===f.queryName}updateExpansionStates(y,f){if(!_.isEmpty(this.expansionStates)){_.remove(this.expansionStates,P=>!P.supportsMerge);var S=(0,o.ZF)(this.expansionStates,y);if(S)if(_.isEmpty(this.projections[y])||_.isEmpty(this.projections[y].all()))_.remove(this.expansionStates,P=>P===S);else{var b=_.takeWhile(S.roles,P=>P!==y),V=this.getRolesUniqueActiveProjectionsRefs(b,S.canCollapseRoot).length;f(S,V);var M=S.getVisibleDescendentsDepth(S.root,-1);this.setActiveProjections(S.roles,M)}}}resetHiddenState(y){for(var f in this.projections)this.projections[f].resetHiddenState(y)}removeAllProjectionsForExpr(y,f,S){var b=this,V=this.defn,M=V.selectNameOf(y);if(!M)return!1;_.remove(this.expansionStates,w=>!w.supportsMerge);var P=this.projections,T=function(w){var I=(0,o.ZF)(b.expansionStates,w),O=P[w],x=O.all(),j=I&&_.takeWhile(I.roles,X=>X!==w),U=j&&b.getRolesUniqueActiveProjectionsRefs(j,I&&I.canCollapseRoot).length;if(f){var F=b.getQueryFieldParametersByRole(w),R=_.filter(F,X=>(0,E.aI)(X.expr,f));for(var B of R)for(var A=B.length-1;A>=0;A--){var W={indexInParameter:A,parameter:B},G=O.getParameterProjectionIndex(B,A);x[G]?.queryRef===M&&(O.removeProjection(W),b.updateActiveProjectionRefAndExpansionState(w,M,U,G))}}else for(var K=x.length-1;K>=0;K--){var q=O.convertProjectionIndexToFieldIndex(K),ne=O.getColumnProjection(q);ne?.queryRef===M&&(O.removeProjection({fieldIndex:q}),b.updateActiveProjectionRefAndExpansionState(w,M,U,K))}if(!S&&0!==x.length&&I){var L=I.getVisibleDescendentsDepth(I.root,-1);b.setActiveProjections(I.roles,L)}};for(var N in P)T(N);return this.isUsed(M)||(this.defn=V.removeSelect(y).removeOrderBy(y)),!0}updateActiveProjectionRefAndExpansionState(y,f,S,b){var M=this.projections[y],P=M.all(),T=(0,o.ZF)(this.expansionStates,y),N=M.activeProjectionRefs;_.pull(N,f),N&&_.isEmpty(N)&&!_.isEmpty(P)&&N.push(P[Math.max(0,b-1)].queryRef),T&&T.removeLevel(S+b)}updateExpression(y,f,S,b){var V=this.projections[y],M=V?V.all():void 0;if(!M)return!1;var P=V.convertFieldIndexToProjectionIndex(f);if(P>=M.length)return!1;var T=this.defn,N=M[P].queryRef,w=T.select(),I=(0,i.i4)(w,N),O=w[I].expr,x=S(O),j=T.selectNameOf(x);return j?(V.updateQueryRef(P,j),this.isUsed(N)||(this.defn=T.removeSelect(O)),!0):(this.getUsageCount(N)>1?V.updateQueryRef(P,this.addSelect(x,void 0,b)):this.defn=T.setSelectAt(I,x,b),!0)}isUsed(y){return this.getUsageCount(y)>0}getUsageCount(y){var f=0,S=this.projections;for(var b in S){var V=S[b].all();f+=_.filter(V,M=>M.queryRef===y).length}return f}getRoleProjections(y){r.Y.assertValue(y,"roleName");var f=(0,d.Lw)(this.projections,y);if(f)return f.all()}addNewQueryRefToActiveProjectionRefsIfNeeded(y,f,S){var b=this.getRoleProjections(y),V=this.projections[y].activeProjectionRefs;V&&(V.length>1&&S<V.length?V.splice(S,0,f):1===V.length&&0===S&&b.length>1&&b[1].queryRef===V[0]&&V.splice(0,1,f))}getRolesProjectionRefs(y){var f=[];for(var S of y){var b=this.projections[S];if(b){var V=_.map(b.all(),M=>M.queryRef);f.push(...V||[])}}return f}getRolesUniqueProjectionRefs(y){return _.uniq(this.getRolesProjectionRefs(y))}getQueryFieldParametersByRole(y){if(!_.isEmpty(this.projections)){var f=this.projections[y];return f?f.getFieldParameters():[]}}getParameterProjectionExprs(y){var f=[],S=this.projections;for(var b in S){var V=S[b],M=V.findParameterBySQExpr(y);for(var P of M){var N=V.getParameterProjections(P).map(I=>this.defn.select().withName(I.queryRef).expr);f.push({exprs:N,parameter:P})}}return f}getVisualCalcExpressions(){return this.defn.select().filter(y=>(0,D.$M)(y.expr))}getQueryFieldParameters(){if(_.isEmpty(this.projections))return[];var y=[];for(var f in this.projections){var S=this.projections[f];S&&y.push(...S.getFieldParameters())}return y}hasQueryFieldParameters(){return!_.isEmpty(this.getQueryFieldParameters())}hasVisualCalcExpressions(){return this.defn.select().some(y=>(0,D.$M)(y.expr))}hasOnlyVisualCalculations(){return this.defn.select().every(y=>(0,D.$M)(y.expr))}hasSparklineExpressions(){return this.defn.select().some(y=>(0,D.AH)(y.expr))}hasHiddenProjections(){for(var y in this.projections){var f=this.getRoleProjections(y);if(_.some(f,S=>S.hidden))return!0}return!1}resetExpansionStates(){this.expansionStates=[]}getRolesActiveProjectionsRefs(y,f,S=!1){var T,b=this,V=[],M=f||_.some(y,w=>this.projections[w]&&!_.isEmpty(this.projections[w].activeProjectionRefs)),P=function(){var w=b.projections[N];if(!w)return 0;var I=M?w.activeProjectionRefs:w.getQueryRefs();if(!I)return 0;if(S){var O=_.map(w.projected(),U=>U.queryRef),x=_.filter(I,U=>O.includes(U));V.push(...x)}else V.push(...I);var j=w.all();return j.length!==I.length&&_.uniqBy(j,U=>U.queryRef).length!==_.uniq(I).length?1:void 0};for(var N of y)if(0!==(T=P())&&1===T)break;return V}getRolesUniqueActiveProjectionsRefs(y,f){return _.uniq(this.getRolesActiveProjectionsRefs(y,f))}static areEqualIgnoringAggregate(y,f,S){return(0,E.aI)((0,v.s)(y,S),(0,v.s)(f,S))}setActiveProjections(y,f){if(r.Y.assertNonEmpty(y,"roles"),!this._isDrillDisabled){var S=this.projections;r.Y.assertValue(S,"projections");var b=(0,o.uS)(this.expansionStates,y);for(var V of(b&&b.pinLevels(f),y))if(f>0){var M=S[V]&&S[V].all();r.Y.assertValue(M,"roleProjections");var N,P=_.uniqBy(M,w=>w.queryRef);N=f>=P.length?P:_.take(P,f),S[V].activeProjectionRefs=_.map(N,w=>w.queryRef),f-=N.length}else S[V]&&(S[V].activeProjectionRefs=[])}}hasVisibleProjections(){if(!this.hasProjections())return!1;for(var y in this.projections){var f=this.getRoleProjections(y);if(_.some(f,S=>!S.hidden))return!0}return!1}}},683880:function(ve,z,e){e.d(z,{d:function(){return i}});var a=e(576086);function i(r){switch(r){case a.NJ.Default:return"Default";case a.NJ.DataFilter:return"DataFilter";case a.NJ.HighlightFilter:return"HighlightFilter";case a.NJ.NoFilter:return"NoFilter"}}},643081:function(ve,z,e){e.d(z,{L:function(){return a}});var a=function(i){return i[i.UserState=0]="UserState",i[i.Temporary=1]="Temporary",i[i.Personal=2]="Personal",i[i.Annotation=3]="Annotation",i[i.MobileState=4]="MobileState",i[i.SpatialAnchor=5]="SpatialAnchor",i[i.Subscription=6]="Subscription",i[i.Export=99]="Export",i}({})},101406:function(ve,z,e){e.d(z,{Ui:function(){return n}});var a=e(579260),i=e(623670);function r(c,s){var p=function(c,s){var p=[],l=[],u=c.visualContainers.slice();for(var v of s.visualContainers)if(void 0===v.id)p.push(v);else{var m=(0,a.lz)(u,v.id);if(m){var g=u.indexOf(m);u.splice(g,1),(0,i.aI)(m,v)||l.push(v)}else p.push(v)}return{added:p,updated:l,removed:u}}(c,s);return{added:p.added,updated:p.updated,removed:p.removed,page:s,originalPage:c}}function n(c,s){var p=function(c,s){for(var p=[],l=[],u=c.slice(),v=0,m=s.length;v<m;v++){var g=s[v];if(void 0===g.id)p.push(g);else{var E=(0,a.lz)(u,g.id);if(E){var D=u.indexOf(E);u.splice(D,1);var h=r(E,g);l.push(h)}else p.push(g)}}return{added:p,updated:l,removed:u}}(c.sections,s.sections),l=function(c,s){var p=[],l=[],u=s||[],v=c?c.slice():[];for(var m of u)if(void 0===m.id)p.push(m);else{var g=m.id,E=_.findIndex(v,D=>D.id===g);E>=0?(l.push({updatedPod:m,originalPod:v[E]}),v.splice(E,1)):p.push(m)}return{added:p,removed:v,updated:l}}(c.pods,s.pods);return{pages:p,pods:l}}},687764:function(ve,z,e){e.d(z,{L:function(){return a}});var a={withData:!0,excludeHighContrastTheme:!0,forSave:!0}},487859:function(ve,z,e){e.d(z,{E:function(){return d},Hr:function(){return i},J$:function(){return o},Pt:function(){return c},XF:function(){return n},lx:function(){return t},vx:function(){return r}});var a=e(18122),i=-1,r=0,t=-1e7,o=1e7,d=1e3,n=5;function c(){return new s}class s{getContainerListOrders(l,u){var v={};for(var m of l)v[m.name]=u(m);return v}getSortedContainerNames(l,u){var v=u?"asc":"desc";return _.chain(l).keys().orderBy(m=>l[m],v).value()}settingListOrder(l,u,v,m){for(var g of u)l[g]=v,v+=m;return v}checkIfExtremitiesSurpassed(l,u,v){var m,g,E,D;return v?(m=r,g=o,E=u[_.head(l)]<m,D=u[_.last(l)]>g):(m=i,g=t,E=u[_.head(l)]>m,D=u[_.last(l)]<g),!(!E&&!D)}shouldNormalizeListOrder(l,u){var m,v=this.getSortedContainerNames(l,u);if(this.checkIfExtremitiesSurpassed(v,l,u)||_.some(l,C=>void 0===C))return!0;for(var g of v){var E=l[g];if(null!=m){var D=E>=0==m>=0;if(Math.abs(E-m)<n&&D)return!0}m=E}return!1}normalizeListOrder(l,u){var v=this.getSortedContainerNames(l,u),m=u?o-r:t-i,g=u?Math.min(m/v.length,d):Math.max(m/v.length,-d);a.Y.assert(()=>Math.abs(g)>=n,"Too many visuals to normalize list orders");var E=u?r:i,D={};return E=this.settingListOrder(D,v,E,g),D}}},494809:function(ve,z,e){e.d(z,{P:function(){return m}});var a=e(620825),i=e(98138),r=e(18122),t=e(893420),o=e(693029),d=e(647479),n=e(456339),c=e(408509),s=e(387797),p=e(700280),l=e(960179),u=e(576086),v=e(620455);function m(E,D,h,C){return new g(E,D,h,C)}class g{constructor(D,h,C,y){this.eventBridge=D,this.visualPlugin=h,this.visualPluginOps=C,this.runningVisualService=y}getSupportedDrillDirections(D,h){var C=this.getProjections(D);if(!C)return l.TC.None;var y=D.config.singleVisual,f=this.visualPlugin.capabilities(y.visualType);if(!f||f.drilldown&&f.drilldown.suppresDrillOperations)return l.TC.None;var S=(0,n.xY)(f,!!y.query?.isDrillDisabled),b=h?S.filter(I=>I===h):S,V=l.TC.None;for(var M of b){var P=C[M];if(P&&P.activeProjectionRefs){var T=P.all();if(1===T.length)continue;var N=P.activeProjectionRefs,w=this.findActiveProjectionIndexInQueryCollection(T,N);!_.isEmpty(N)&&w+N.length!==T.length&&(this.canDrillDownLevel(D,l.Pq.DownWithCurrentGroup,M)&&(V|=l.TC.DownWithCurrentGroup),this.canDrillDownLevel(D,l.Pq.DownWithoutCurrentGroup,M)&&(V|=l.TC.DownWithoutCurrentGroup)),!_.isEmpty(P.activeProjectionRefs)&&(0!==w||N.length>1)&&(V|=l.TC.Up)}}return V}setDrillMode(D,h){D&&D.drillMode!==h&&(D.drillMode=h,this.raiseDrillModeChanged(D,h))}canSeeData(D){if(!(D&&D.config&&D.config.singleVisual&&D.config.singleVisual.query))return!1;var h=(0,c.d)(D),C=this.runningVisualService.getVisual(D);return!(C&&C.getErrorInfo())&&d.h.supportsVisualDetails(h,this.visualPlugin,this.visualPluginOps)}canDrillToDetails(D,h){if(!D)return!1;var C=(0,s.NU)(D);if(!C)return!1;var y=(0,c.d)(D);if(y===v.U.lineChart||y===v.U.areaChart||y===v.U.stackedAreaChart||y===v.U.hundredPercentStackedAreaChart)return!1;var f=(0,s.p6)(D,this.visualPlugin);if(!f||!1===f.supportsSelection)return!1;var S=_((0,s.Fi)(D)).filter(I=>(0,a.b9)(I.expr)).map(I=>I.name).value();if(_.isEmpty(S)||!_.isEmpty(h)&&!_.includes(S,_.head(_.head(h).metadata)))return!1;var b=f.dataRoles;if(_.isEmpty(b))return!1;var V=_(b).filter(I=>I.kind===o.Ts.Measure&&I.joinPredicate!==o.gD.None).map(I=>I.name).value(),M=0;for(var P of V){var T=C.projections[P];if(!_.isEmpty(T)){if(++M>1)return!1;var N=T.all();if(_.some(N,I=>!_.includes(S,I.queryRef)))return!1}}return 0!==M}canDrillByDirection(D,h,C){if(!D)return!1;var y=this.runningVisualService.getVisual(D);if(y&&y.getErrorInfo())return!1;var S=this.getSupportedDrillDirections(D,C);return!!S&&(0,t.Lt)(S,h)}canDrillthrough(D){return!!D}isDrillModeEnabled(D,h){return!!D&&D.drillMode===h}drillToLastLevel(D){if(null!=D&&null!=D.config.singleVisual.query){var h=D.config.singleVisual,C=this.visualPlugin.capabilities(h.visualType),y=(0,n.xY)(C,!!h.query?.isDrillDisabled);if(!_.isEmpty(y)){var f=function(){if(S){var b=h.query.projections[S];if(null!=b){var V=b.getLastActiveQueryReference();if(null!=V){var M=b.getQueryRefs(),P=M.indexOf(V);r.Y.assert(()=>-1!==P,"last active query ref must be valid in projection");for(var T=P+1;T<M.length;T++)b.addActiveQueryReference(M[T])}}}};for(var S of y)f()}}}canDrillDownLevel(D,h,C){r.Y.assert(()=>h!==l.Pq.Up,"Incompatible drill direction");var y=(0,s.NU)(D);if(!y)return!1;var f=(0,s.p6)(D,this.visualPlugin);if(!f||f.drilldown&&f.drilldown.suppresDrillOperations||!C)return!1;var S=y.projections[C],b=S.getLastActiveQueryReference();if(!b)return!1;for(var P,V=_.findIndex(S.all(),N=>N.queryRef===b),M=function(){var N=S.all()[T],w=y.defn.select().withName(N.queryRef)?.expr;if(r.Y.assert(()=>!!w,"Projection is not in the select"),w&&0===_.filter(D.filters,I=>(r.Y.assertValue(I,`canDrillDownLevel: visualContainer with name ${D.name} contains blank value in .filters`),null!=I&&I.howCreated===u.GS.Drill&&(0,i.aI)(w,I.expression))).length)return{v:y.currentDrillMode(C)===h}},T=0;T<V;T++)if(P=M())return P.v;return h!==l.Pq.DownWithoutCurrentGroup||!_.find(y.expansionStates,N=>_.find(N.roles,w=>w===C)&&N.isStateModified())}getProjections(D){return D&&D.config&&D.config.singleVisual&&D.config.singleVisual.query&&D.config.singleVisual.query.projections}findActiveProjectionIndexInQueryCollection(D,h){if(!_.isEmpty(h))for(var C=0;C<D.length;C++){for(var y=C,f=0;f<h.length&&y<D.length&&h[f]===D[y].queryRef;)f++,y++;if(f===h.length)return C}return-1}raiseDrillModeChanged(D,h){r.Y.assertValue(D,"visualContainer"),r.Y.assertValue(h,"drillMode"),this.eventBridge.publishToChannel(p.VJj,{visualContainer:D})}}},661319:function(ve,z,e){e.d(z,{EN:function(){return i},pF:function(){return r}});var i=function(t){return t[t.MatchNonTransient=0]="MatchNonTransient",t[t.RematchAll=1]="RematchAll",t}({}),r=function(t){return t[t.DrillthroughOnly=0]="DrillthroughOnly",t[t.AllExceptReport=1]="AllExceptReport",t[t.All=2]="All",t}({})},960179:function(ve,z,e){e.d(z,{$d:function(){return v},KS:function(){return t},Kw:function(){return E},N5:function(){return m},NZ:function(){return p},Pq:function(){return a},S5:function(){return i},SG:function(){return s},SR:function(){return g},TC:function(){return r},V0:function(){return o},ih:function(){return l},mW:function(){return c},wD:function(){return n},wY:function(){return D}});var a=function(h){return h[h.Up=1]="Up",h[h.DownWithCurrentGroup=2]="DownWithCurrentGroup",h[h.DownWithoutCurrentGroup=3]="DownWithoutCurrentGroup",h}({}),i=function(h){return h[h.Remove=0]="Remove",h[h.Move=1]="Move",h[h.Add=2]="Add",h}({}),r=function(h){return h[h.None=0]="None",h[h.Up=1]="Up",h[h.DownWithCurrentGroup=2]="DownWithCurrentGroup",h[h.DownWithoutCurrentGroup=4]="DownWithoutCurrentGroup",h}({}),t=function(h){return h[h.Default=0]="Default",h[h.FieldParameterAdded=1]="FieldParameterAdded",h[h.OutputFilterChangeFromFieldParametersResolved=2]="OutputFilterChangeFromFieldParametersResolved",h}({}),o=function(h){return h[h.CheckboxTickedInFieldList=0]="CheckboxTickedInFieldList",h[h.DraggedToCanvas=1]="DraggedToCanvas",h[h.VisualTypeIconClicked=2]="VisualTypeIconClicked",h[h.DraggedToFieldWell=3]="DraggedToFieldWell",h[h.InsertVisualButton=4]="InsertVisualButton",h[h.WhatIfParameterControl=5]="WhatIfParameterControl",h[h.QnaDoubleClick=6]="QnaDoubleClick",h[h.QnaKeyboardShortcut=7]="QnaKeyboardShortcut",h[h.QnaAppBar=8]="QnaAppBar",h[h.FieldParameterControl=9]="FieldParameterControl",h[h.CanvasBackgroundContextMenu=10]="CanvasBackgroundContextMenu",h[h.AssistedCreation=11]="AssistedCreation",h[h.Copilot=12]="Copilot",h[h.ContextMenuPaste=13]="ContextMenuPaste",h[h.CopyPaste=14]="CopyPaste",h}({}),n=function(h){return h[h.Unknown=0]="Unknown",h[h.In=1]="In",h[h.Out=2]="Out",h}({}),c=function(h){return h.Ribbon="Ribbon",h.Pane="Pane",h.CustomVisual="CustomVisual",h.Skittle="Skittle",h.VisualHostService="VisualHostService",h.Unknown="Unknown",h}({}),s=function(h){return h[h.Selection=0]="Selection",h[h.Front=1]="Front",h[h.Back=2]="Back",h[h.Forward=3]="Forward",h[h.Backward=4]="Backward",h}({}),p=function(h){return h[h.Forward=0]="Forward",h[h.Backward=1]="Backward",h}({}),l=function(h){return h[h.Remove=0]="Remove",h[h.Add=1]="Add",h[h.Update=2]="Update",h[h.RefreshData=4]="RefreshData",h[h.Clear=10]="Clear",h[h.Resize=16]="Resize",h[h.SwitchType=32]="SwitchType",h[h.updateAsAggregation=64]="updateAsAggregation",h[h.updateTopNOrderByField=128]="updateTopNOrderByField",h[h.Rename=256]="Rename",h}({}),v=function(h){return h[h.Visual=0]="Visual",h[h.Section=1]="Section",h[h.Exploration=2]="Exploration",h}({}),m=function(h){return h[h.AddPodParameter=0]="AddPodParameter",h[h.DeletePodParameter=1]="DeletePodParameter",h[h.UpdatePodParameter=2]="UpdatePodParameter",h}({}),g=function(h){return h[h.Left=0]="Left",h[h.Center=1]="Center",h[h.Right=2]="Right",h[h.Top=3]="Top",h[h.Middle=4]="Middle",h[h.Bottom=5]="Bottom",h[h.DistributeHorizontally=6]="DistributeHorizontally",h[h.DistributeVertically=7]="DistributeVertically",h[h.ResizeMinHeight=8]="ResizeMinHeight",h[h.ResizeMaxHeight=9]="ResizeMaxHeight",h[h.ResizeMinWidth=10]="ResizeMinWidth",h[h.ResizeMaxWidth=11]="ResizeMaxWidth",h[h.ResizeMax=12]="ResizeMax",h[h.ResizeMin=13]="ResizeMin",h}({}),E=function(h){return h[h.FileMenu=0]="FileMenu",h[h.Button=1]="Button",h[h.Keyboard=2]="Keyboard",h[h.DialogPrompt=3]="DialogPrompt",h[h.WorkspaceUpgradedSave=4]="WorkspaceUpgradedSave",h}({}),D=function(h){return h[h.RScript=0]="RScript",h[h.PythonScript=1]="PythonScript",h}({})},700280:function(ve,z,e){e.d(z,{$5m:function(){return fr},$5x:function(){return Ir},$7N:function(){return te},$Bk:function(){return Or},$ac:function(){return Ot},$x6:function(){return Er},AKp:function(){return Qt},AWZ:function(){return qe},AYR:function(){return Ue},AyK:function(){return f},BM1:function(){return $t},Bt:function(){return Lr},C31:function(){return w},D6m:function(){return u},E28:function(){return K},E3F:function(){return Cr},Ed_:function(){return d},Er3:function(){return o},ErL:function(){return U},FZ1:function(){return ra},Fcw:function(){return Je},Fh$:function(){return Ft},FiE:function(){return Oe},Fsn:function(){return B},Fun:function(){return pt},FyJ:function(){return Rr},GRH:function(){return c},Hjv:function(){return xe},IUx:function(){return de},IbG:function(){return I},JNi:function(){return xt},Jdu:function(){return Zr},Jhv:function(){return ne},K6y:function(){return Me},KJs:function(){return na},KVt:function(){return Le},Kuv:function(){return m},LZI:function(){return p},MLq:function(){return h},MMD:function(){return me},N0w:function(){return It},N3x:function(){return F},N5o:function(){return v},NAl:function(){return At},NBf:function(){return Ae},NIc:function(){return Nr},NlL:function(){return Vt},OWD:function(){return X},OWl:function(){return A},Okf:function(){return Kt},OpD:function(){return Y},P:function(){return kt},Q$1:function(){return Tr},QNc:function(){return Fe},Q_Q:function(){return He},QnH:function(){return ye},SFc:function(){return P},Swe:function(){return st},T3M:function(){return ht},TLP:function(){return wr},TO1:function(){return Dt},TeR:function(){return zr},Tu4:function(){return $e},U5t:function(){return Pt},V5d:function(){return ke},VE3:function(){return Hr},VJj:function(){return R},WI8:function(){return or},WJP:function(){return Lt},WcP:function(){return i},Wdw:function(){return N},X15:function(){return We},XUN:function(){return tt},Xf8:function(){return Re},Xxr:function(){return y},YCj:function(){return x},YHs:function(){return nt},YPY:function(){return je},Zzr:function(){return he},_AK:function(){return lt},_pK:function(){return Qr},aT_:function(){return pe},aid:function(){return yt},bEX:function(){return dr},bJs:function(){return Xr},bYR:function(){return ot},bpI:function(){return H},brS:function(){return k},byx:function(){return Gr},cTK:function(){return Ht},d$U:function(){return q},djp:function(){return t},dor:function(){return Ze},eMv:function(){return fe},eSV:function(){return Ie},eyg:function(){return Ee},fC4:function(){return M},fyV:function(){return Ce},g30:function(){return Mt},gGR:function(){return n},gNx:function(){return Ur},gmP:function(){return mt},gsd:function(){return l},h0G:function(){return nr},hYA:function(){return C},hbO:function(){return Mr},i5p:function(){return Be},j8Z:function(){return et},jJg:function(){return jr},ji8:function(){return sr},jvC:function(){return S},kth:function(){return bt},lH8:function(){return O},lOf:function(){return ae},lsP:function(){return De},mWi:function(){return Kr},nIC:function(){return r},nJ2:function(){return Te},nOA:function(){return _t},naU:function(){return _e},nfc:function(){return Qe},np_:function(){return Q},nqg:function(){return J},p27:function(){return ie},pWI:function(){return Ke},pXE:function(){return ct},pfc:function(){return s},pkh:function(){return mr},q3P:function(){return ia},q5T:function(){return ze},qZY:function(){return le},r6c:function(){return Se},r7Z:function(){return ar},rsT:function(){return T},sB$:function(){return Ye},sll:function(){return Pe},svS:function(){return wt},sw7:function(){return vt},tAe:function(){return vr},tev:function(){return Ge},tqE:function(){return ft},uRK:function(){return ee},ud1:function(){return rt},ufL:function(){return we},uvD:function(){return re},vFG:function(){return Z},vZ3:function(){return Ut},vb9:function(){return Xe},vbh:function(){return j},vfE:function(){return aa},vtm:function(){return Zt},vxP:function(){return ce},wLr:function(){return g},w_Z:function(){return zt},wff:function(){return Yr},wl:function(){return L},x1:function(){return Yt},xTO:function(){return kr},xjJ:function(){return be},xqp:function(){return dt},y$i:function(){return E},zCo:function(){return V},zZP:function(){return ue},zq7:function(){return b}});var a=e(876082),i=function(Et){return Et[Et.Unknown=0]="Unknown",Et[Et.Swipe=1]="Swipe",Et}({}),r={type:a.U.Global,name:"modelChangeApplyingUpdate"},t={type:a.U.Section,name:"explorationLoaded"},o={type:a.U.Section,name:"explorationUnloaded"},d={type:a.U.Exploration,name:"explorationContainerReady"},n={type:a.U.Section,name:"explorationSlowDataSourceSettingsLoaded"},c={type:a.U.Section,name:"explorationSettingsLoaded"},s={type:a.U.Section,name:"updateNavButtonEvent"},p={type:a.U.Visual,name:"userActionTriggered"},l={type:a.U.Visual,name:"filterContainerChanged"},u={type:a.U.Section,name:"applyAllBufferedFilterCardChange"},v={type:a.U.Section,name:"applyAllClicked"},m={type:a.U.Section,name:"applyAllSlicersClicked"},g={type:a.U.Section,name:"explorationFiltersContainerChanged"},E={type:a.U.Section,name:"sectionFiltersContainerChanged"},h={type:a.U.Section,name:"formFactorChanged"},C={type:a.U.Section,name:"canvasLayoutChanged"},y={type:a.U.Data,name:"modelChanging"},f={type:a.U.Data,name:"modelChanged"},S={type:a.U.Visual,name:"visualRelationshipsModeChanged"},b={type:a.U.Data,name:"schemaItemActivationChanged"},V={type:a.U.Visual,name:"selectionChanged"},M={type:a.U.Visual,name:"visualTypeChanged"},P={type:a.U.Visual,name:"visualLinkButtonClicked"},T={type:a.U.Visual,name:"dataPointsSelected"},N={type:a.U.Visual,name:"dataHyperlinkClicked"},w={type:a.U.Visual,name:"visualClicked"},I={type:a.U.Section,name:"undoRedoStackUpdated"},O={type:a.U.Section,name:"undoRedoStackCleared"},x={type:a.U.Section,name:"onReportChanged"},j={type:a.U.Global,name:"onReportChanged"},U={type:a.U.Section,name:"clipboardDataUpdated"},F={type:a.U.Visual,name:"dataSelectionChanged"},R={type:a.U.Visual,name:"drillModeChanged"},B={type:a.U.Exploration,name:"refreshExploration"},A={type:a.U.Visual,name:"clearAnnotations"},K={type:a.U.Section,name:"sectionLayoutRemoved"},q={type:a.U.Section,name:"canvasChanged"},ne={type:a.U.Visual,name:"visualContainerParentActivityLinkingDone"},k={type:a.U.Visual,name:"fieldWellFieldRemoved"},L={type:a.U.Visual,name:"visualContainerChanged"},X={type:a.U.Visual,name:"fieldParametersApplied"},Y={type:a.U.Visual,name:"visualContainerAdded"},Q={type:a.U.Visual,name:"cancelVisualQuery"},H={type:a.U.Visual,name:"triggerDataRefresh"},te={type:a.U.Visual,name:"visualContainerGroupChanged"},ee={type:a.U.Visual,name:"visualContainerGroupRendered"},ue={type:a.U.Visual,name:"visualContainerDataRenderingStarted"},Te={type:a.U.Visual,name:"visualContainerDataRendered"},He={type:a.U.Visual,name:"canvasItemContainerPositionChanged"},We={type:a.U.Visual,name:"visualContainerLoadingStarted"},ft={type:a.U.Visual,name:"visualContainerLoadingStopped"},mt={type:a.U.Visual,name:"visualContainerQueryExecutionEnded"},At={type:a.U.Visual,name:"updateVisualMatrix"},Qe={type:a.U.Visual,name:"visualConversion"},Fe={type:a.U.Exploration,name:"focusExplorationEvent"},ye={type:a.U.Global,name:"explorationInitializeEvent"},we={type:a.U.Visual,name:"focusVisualContainerEvent"},Ee={type:a.U.Visual,name:"canvasSizeChanged"},Oe={type:a.U.Visual,name:"visualPluginsChanged"},he={type:a.U.Visual,name:"addCustomVisual"},xe={type:a.U.Visual,name:"deleteCustomVisual"},Se={type:a.U.Data,name:"modelingContextChanged"},Ae={type:a.U.Visual,name:"changeViewMode"},Ie={type:a.U.Visual,name:"requestViewModeChange"},Je={type:a.U.Exploration,name:"showThemeGallery"},pe={type:a.U.Visual,name:"editModeChanged"},Pe={type:a.U.Visual,name:"getClusters"},Me={type:a.U.Visual,name:"toggleSortVisualContainer"},Ge={type:a.U.Visual,name:"toggleSortDirectionVisualContainer"},De={type:a.U.Section,name:"saveEventViaCtrlS"},lt={type:a.U.Section,name:"highContrastModeChanged"},ct={type:a.U.Section,name:"canvasDisplayChanged"},vt={type:a.U.Section,name:"canvasZoomChanged"},Vt={type:a.U.Section,name:"canvasZoomScaleUpdated"},It={type:a.U.Section,name:"canvasDimensionChanged"},Ot={type:a.U.Exploration,name:"explorationObjectsLoaded"},de={type:a.U.Exploration,name:"explorationObjectsChanged"},Ze={type:a.U.Section,name:"sectionObjectsEvaluated"},Ye={type:a.U.Section,name:"sectionObjectsChanged"},qe={type:a.U.Exploration,name:"showDataSourceVariablesDialog"},et={type:a.U.Visual,name:"visibilityChanged"},le={type:a.U.Visual,name:"canvasItemHiddenChanged"},me={type:a.U.Section,name:"align"},Be={type:a.U.Section,name:"deleteSectionInitiated"},Ke={type:a.U.Section,name:"sectionNameChanged"},Xe={type:a.U.Section,name:"sectionDeleted"},re={type:a.U.Section,name:"renameSection"},fe={type:a.U.Section,name:"sectionChanged"},ae={type:a.U.Section,name:"podParameterChanged"},tt={type:a.U.Visual,name:"missingTableRelationship"},ot={type:a.U.Section,name:"addVisualContainer"},rt={type:a.U.Exploration,name:"addCustomVisualToCanvas"},Re={type:a.U.Visual,name:"deleteVisualContainer"},J={type:a.U.Section,name:"addInsightContainer"},ce={type:a.U.Section,name:"addQnaContainer"},Ce={type:a.U.Section,name:"showQnaPopoutEventArgs"},ze={name:"canvasPinched",type:a.U.Section},yt={type:a.U.Section,name:"arrangeVisualsOrder"},Lt={type:a.U.Section,name:"createBasicShape"},zt={type:a.U.Section,name:"createShape"},Yt={type:a.U.Section,name:"createActionButton"},Qt={type:a.U.Section,name:"createPageNavigator"},sr={type:a.U.Section,name:"createTextbox"},je={type:a.U.Section,name:"importVisual"},Kt={type:a.U.Section,name:"installVisual"},nr={type:a.U.Section,name:"downloadVisual"},ar={type:a.U.Visual,name:"newQueryCacheResultAvailable"},$e={type:a.U.Visual,name:"exportVisualData"},pt={type:a.U.Section,name:"exportVisualDataFromPane"},Ut={type:a.U.Visual,name:"addCommentVisual"},$t={type:a.U.Visual,name:"shareToTeamsVisual"},or={type:a.U.Section,name:"createSection"},vr={type:a.U.Section,name:"deleteSection"},mr={type:a.U.Section,name:"duplicateSection"},Mr={type:a.U.Section,name:"insertSection"},Lr={type:a.U.Section,name:"reorderSection"},Ur={type:a.U.Section,name:"switchSection"},Yr={type:a.U.Exploration,name:"explorationNextPage"},Kr={type:a.U.Exploration,name:"explorationPreviousPage"},Hr={type:a.U.Exploration,name:"startExplorationContainerLoading"},Gr={type:a.U.Exploration,name:"stopExplorationContainerLoading"},Or={type:a.U.Visual,name:"showEnableScriptVisualsDialog"},ra={type:a.U.Section,name:"canvasResized"},Xr={type:a.U.Global,name:"openReportFinished"},aa={type:a.U.Global,name:"openReportLoadingScreenHidden"},jr={type:a.U.Global,name:"visualQueryThrottled"},Cr={type:a.U.Global,name:"datasetNotFound"},Ir={type:a.U.Global,name:"ShowVisuals"},ia={type:a.U.Section,name:"bookmarkApplied"},Rr={type:a.U.Section,name:"exploreCanvasVisualRendered"},zr={type:a.U.Visual,name:"ReportVisualError"},Tr={type:a.U.Global,name:"ReportVisualError"},Zr={type:a.U.Exploration,name:"visualThumbnailDoubleClicked"},na={type:a.U.Visual,name:"removeVisualContainerFromLayout"},Nr={type:a.U.Section,name:"pauseQueriesChanged"},Qr={type:a.U.Visual,name:"deleteCustomVisuals"},kr={type:a.U.Global,name:"resetPersistentUserState"},wr={type:a.U.Section,name:"resetUserStateKeyPressedEvent"},Pt={type:a.U.Global,name:"resetUserStateEvent"},nt={type:a.U.Exploration,name:"reloadPersistenState"},_e={type:a.U.Section,name:"togglePaneVisibility"},ke={type:a.U.Visual,name:"visualDrillFilterOtherVisualsSettingChanged"},dt={type:a.U.Data,name:"emulationChanged"},xt={type:a.U.Exploration,name:"showOtherBookmarks"},Ht={type:a.U.Visual,name:"parentExpandCollapseAction"},dr={type:a.U.Exploration,name:"bookmarkViewStateChanged"},fr={type:a.U.Data,name:"exportDataEnded"},Zt={type:a.U.Visual,name:"visualContainerControllerLinked"},Er={type:a.U.Global,name:"insightsInFocusPaneClose"},Le={type:a.U.Global,name:"insightSelected"},be={type:a.U.Global,name:"getRelatedInsights"},Z={type:a.U.Global,name:"viewInsightInFocus"},ie={type:a.U.Data,name:"autoPageRefreshTriggered"},Ue={type:a.U.Visual,name:"drillthroughActionTriggered"},st={type:a.U.Global,name:"anchorTimeUpdated"},ht={type:a.U.Global,name:"visualCancelLoadEvent"},bt={type:a.U.Visual,name:"shareVisual"},kt={type:a.U.Visual,name:"shareVisualToPPT"},Ft={type:a.U.Visual,name:"reflexAlert"},_t={type:a.U.Visual,name:"findAnomalies"},Mt={type:a.U.Visual,name:"forecast"},Dt={type:a.U.Visual,name:"toggleDataTable"};function wt(Et,Ne){return Et.visualContainer===Ne}},545291:function(ve,z,e){e.d(z,{V:function(){return c}});var a=e(309857),i=e(18122),r=e(586854),t=e(890741),o=e(408509),d=e(387797),n=e(960179);function c(p,l){return i.Y.assertValue(p,"visualPlugin"),i.Y.assertValue(l,"featureSwitch"),new s(p)}class s{constructor(l){this.visualPlugin=l}getExpandCollapseRoles(l){(0,a.Su)(l,"visual should have a value");var u=this.visualPlugin.capabilities((0,o.d)(l));if(u&&u.expandCollapse&&!_.isEmpty(u.expandCollapse.roles)){var v=(0,d.NU)(l);if(!v?.isDrillDisabled)return u.expandCollapse.roles}}isSupported(l,u,v){if(!u||!l||!l.supportsInstanceFilters)return!1;var m=(0,d.NU)(u);return!(!m||!_.isEmpty(v)&&_.some(v,g=>m.currentDrillMode(g)===n.Pq.DownWithoutCurrentGroup)||m.isDrillDisabled)}isEnabled(l,u){if((0,a.Su)(l,"visual should have a value"),_.isEmpty(u))return!1;var v=this.getExpandCollapseRoles(l);return!(_.isEmpty(v)||_.some(u,m=>-1===_.indexOf(v,m)))}getMaximumExpansionDepth(l,u){if(this.isEnabled(l,u)){var v=(0,d.NU)(l);if(v){var m=v.getRolesProjectionRefs(u);return i.Y.assertValue(m,"getRolesProjectionRefs should have returned an array"),m.length}}}getAllowedActions(l,u,v){var m=(0,d.NU)(l);if(m&&this.isEnabled(l,u)&&!_.isEmpty(v)&&1===v.length){var g=v[0];if(g&&g.dataMap&&!_.isEmpty(g.dataMap)){var E=(0,t.uR)((0,t.j9)(g));if(!_.isEmpty(E)){var D=m.getRolesUniqueProjectionRefs(u),h=m.getRolesUniqueActiveProjectionsRefs(u,this.canCollapseRoot(l)),C=h.length===D.length,y=_.some(u,T=>m.currentDrillMode(T)===n.Pq.DownWithoutCurrentGroup);if(1===D.length||y)return{};var f=this.getSelectorRefs(g);if(!_.some(f,T=>!_.includes(h,T))){var S=E.length,b=S===D.length,V=S===h.length,M=(0,r.uS)(m.expansionStates,u);if(M){var P=M.getNodeLevelState(E,M.root,0);return i.Y.assertValue(P,"getNodeLevelState returned undefined"),{expandNode:!b&&!!P.isNodeCollapsed,collapseNode:!V&&!P.isNodeCollapsed,expandLevel:!b&&(P.levelHasToggledNodes||!!P.isNodeCollapsed),collapseLevel:!V&&(P.levelHasToggledNodes||!P.isNodeCollapsed),expandHierarchy:!C||!M.isHierarchyExpanded(),collapseHierarchy:!M.isWholeLevelCollapsed(0)}}return{expandNode:!b&&V,collapseNode:!V,expandLevel:!b&&V,collapseLevel:!V,expandHierarchy:!C,collapseHierarchy:h.length>1}}}}}}getSelectorRefs(l){if(!l||!l.dataMap||_.isEmpty(l.dataMap))return[];var u=[];for(var v in l.dataMap)u.push(v);return u}expandNode(l,u,v){var m=this.setNodeState(l,u,v,!1);if(m){var g=this.ensureExpansionState(l,u),E=this.getSelectorRefs(v);i.Y.assert(()=>this.canCollapseRoot(l)||!_.isEmpty(E),"selectorRefs must not be empty when root node cannot be collapsed");var h=g.getVisibleDescendentsDepth(m,E.length-1),C=(0,d.NU)(l);C&&h>C.getRolesUniqueActiveProjectionsRefs(u,this.canCollapseRoot(l)).length&&this.setActiveProjections(l,u,h)}}collapseNode(l,u,v){this.setNodeState(l,u,v,!0);var m=this.ensureExpansionState(l,u),g=m.getVisibleDescendentsDepth(m.root,-1);this.setActiveProjections(l,u,g)}expandLevel(l,u,v,m=!1){var g=this.ensureExpansionState(l,u);this.setLevelState(l,u,v,!1,m);var E=g.getVisibleDescendentsDepth(g.root,-1);this.setActiveProjections(l,u,E)}collapseLevel(l,u,v,m=!1){this.setLevelState(l,u,v,!0,m),this.setActiveProjections(l,u,v+1)}expandAll(l,u){this.setAllLevelsState(l,u,!1);var v=this.ensureExpansionState(l,u);this.setActiveProjections(l,u,v.levels.length)}collapseAll(l,u){this.setAllLevelsState(l,u,!0),this.setActiveProjections(l,u,this.canCollapseRoot(l)?0:1)}pinLevels(l,u,v){this.ensureExpansionState(l,u).pinLevels(v)}unpinLevels(l,u,v){this.ensureExpansionState(l,u).unpinLevels(v)}lockLevels(l,u,v){this.ensureExpansionState(l,u).lockLevels(v)}unlockLevels(l,u,v){this.ensureExpansionState(l,u).unlockLevels(v)}setAILevelInformation(l,u,v,m,g){var E=this.ensureExpansionState(l,u);i.Y.assert(()=>_.isEqual(E.levels[v].queryRefs,m),`Level at index ${v} does not match expected query refs`),E.setAILevelInformation(v,g)}getAILevelInformation(l,u,v){var m=(0,d.NU)(l);return(0,r.Ze)(m.expansionStates,u,v)}clearAILevelsInformation(l,u){for(var v=this.ensureExpansionState(l,u),m=0;m<_.size(v.levels);m++)v.setAILevelInformation(m,void 0)}setNodeState(l,u,v,m){var g=this.ensureExpansionState(l,u);i.Y.assertValue(g,"expansionState"),i.Y.assertValue(v,"selector");var E=this.getSelectorRefs(v);if(!_.isEmpty(E)||this.canCollapseRoot(l))return i.Y.assert(()=>E.length<=g.levels.length,"attempt to expand a node from an inactive level"),g.setNodeState((0,t.j9)(v),m);i.Y.assertFail("Collapse to root capability is not enabled")}setLevelState(l,u,v,m,g){var E=this.ensureExpansionState(l,u);if(i.Y.assertValue(E,"expansionState"),i.Y.assertNonEmpty(E.levels,"expansionState.levels"),g)for(var D=0;D<v;D++)i.Y.assertValue(E.levels[D],`expandCollapseService.setLevelState - level for index ${D} doesn't exist`),E.setLevelState(D,!1);E.setLevelState(v,m)}setAllLevelsState(l,u,v){var m=this.ensureExpansionState(l,u);i.Y.assertValue(m,"expansionState"),i.Y.assertNonEmpty(m.levels,"expansionState.levels"),this.canCollapseRoot(l)&&m.setLevelState(-1,v);for(var g=m.levels,E=0;E<g.length-1;E++)m.setLevelState(E,v)}ensureExpansionState(l,u){i.Y.assertValue(l,"VisualContainer"),i.Y.assert(()=>this.isEnabled(l,u),"Expand/Collapse is not enabled");var v=(0,d.NU)(l);i.Y.assertValue(v,"VisualQuery");var m=this.visualPlugin.capabilities((0,o.d)(l)),g=m&&m.expandCollapse&&m.expandCollapse.supportsMerge,E=m&&m.expandCollapse&&m.expandCollapse.collapseParentAfterRemovingChildLevel,D=this.canCollapseRoot(l),h=v.ensureExpansionState(u,{supportsMerge:g,canCollapseRoot:D,collapseParentAfterRemovingChildLevel:E});return i.Y.assertValue(h,"expansionState"),i.Y.assertNonEmpty(h.levels,"expansionState.levels"),h}canCollapseRoot(l){var u=this.visualPlugin.capabilities((0,o.d)(l));return!(!u||!u.noDefaultProjections)}setActiveProjections(l,u,v){i.Y.assertValue(l,"visualContainer"),i.Y.assertNonEmpty(u,"roles"),this.canCollapseRoot(l)||i.Y.assert(()=>v>0,"totalUniqueActiveProjectionsCount");var m=(0,d.NU)(l);i.Y.assertValue(m,"query"),m.setActiveProjections(u,v)}}},195428:function(ve,z,e){e.d(z,{J:function(){return d}});var a=e(18122),i=e(413399),r=e(837423),t=e(700280),o=e(960179);function d(s,p,l,u,v,m,g,E){return new n(s,p,l,u,v,m,g,E)}class n{constructor(p,l,u,v,m,g,E,D){this.state=p,this.navigation=l,this.eventBridge=u,this.visibility=v,this.filterGenerator=m,this.explorationActivity=g,this.telemetryService=E,this.runningVisualService=D,a.Y.assertValue(p,"state"),a.Y.assertValue(l,"navigation"),a.Y.assertValue(u,"eventBridge"),a.Y.assertValue(v,"visibility")}exploration(){return this.navigation.getCurrentExploration()}capture(p,l){var u=this.exploration();if(u)return this.state.capture(u,p,l)}apply(p,l,u,v){var m=this.exploration(),g=this.state.apply(p,m,l,u);return this.applyImpact(g,m,u,v),g}captureFilterState(p){return this.state.captureFilterState(p)}applyFilterState(p,l){if(!_.isEmpty(p)){var u=this.state.applyFilterState(p,l);this.explorationActivity.doActivity(v=>{this.eventBridge.publishToChannel(t.wl,{affectContainer:m=>_.includes(u.visualContainers,m),parentActivity:v})},v=>this.telemetryService.startChildActivity(v&&v.event,i.aA))}}applyImpact(p,l,u,v){a.Y.assertValue(l,"exploration"),a.Y.assertValue(u,"applyStateOption"),v&&v.setProperty("options",function(s){var p,l,u;return!0===s.suppressDisplay||!1===s.suppressDisplay||null==s.suppressDisplay?p=l=!0===s.suppressDisplay:(p=s.suppressDisplay.outspacePane,l=s.suppressDisplay.visuals),s.defaultPresentationState&&(u=_.mapValues(s.defaultPresentationState,v=>_.mapValues(v,m=>({visualType:m.visualType,autoSelectVisualType:m.autoSelectVisualType,projections:_.map(_.filter(_.map(m.projections,(g,E)=>({exprs:g,role:E})),g=>!_.isEmpty(g.exprs)),g=>g.role)})))),{applyPresentationChanges:s.applyPresentationChanges,clearQueryCaches:s.clearQueryCaches,clearUnmatchedData:s.clearUnmatchedData,defaultPresentationState:u,stopDataQueries:s.stopDataQueries,suppressActiveSection:s.suppressActiveSection,suppressDataSourceVariables:s.suppressDataSourceVariables,suppressData:s.suppressData,suppressOutspacePaneDisplayOptions:p,suppressUnmatchedClearHidden:s.suppressUnmatchedClearHidden,suppressVisualsDisplayOptions:l,targetVisualNames:s.targetVisualNames}}(u)),this.explorationActivity.doActivity(m=>{var g=p.dataSourceVariables,E=[];if(g&&a.Y.assert(()=>!u.suppressDataSourceVariables,"suppressDataSourceVariables"),p.objects&&this.eventBridge.publishToChannel(t.IUx),p.filterScope===o.$d.Exploration&&(a.Y.assert(()=>!u.suppressData,"suppressData"),this.eventBridge.publishToChannel(t.wLr,{container:l}),g=!0),p.activeSection)a.Y.assert(()=>!u.suppressActiveSection,"suppressActiveSection"),this.navigation.updateActiveSection({targetSectionIndex:l.activeSectionIndex,forceUpdate:!0,parentActivity:m,parentContextActivity:v});else if(p.filterScope===o.$d.Section){a.Y.assert(()=>!u.suppressData,"suppressData");var D=this.navigation.getCurrentSection();this.eventBridge.publishToChannel(t.y$i,{container:D}),E=_.union(E,D.visualContainers)}else(p.filterScope===o.$d.Visual||!_.isEmpty(p.visualContainers))&&(a.Y.assert(()=>!u.suppressData||!u.suppressDisplay,"suppressData || suppressDisplay"),E=_.union(E,p.visualContainers));var h=[];if(g){this.eventBridge.publishToChannel(t.wl,{affectContainer:_.stubTrue,parentActivity:m,parentContextActivity:v});var C=this.navigation.getCurrentSection();h.push(...C.visualContainers||[])}else _.isEmpty(E)||(this.eventBridge.publishToChannel(t.wl,{affectContainer:O=>_.includes(E,O),parentActivity:m,parentContextActivity:v}),h.push(...E||[]));var y=p.visualContainerGroups;if(_.isEmpty(y)||(this.eventBridge.publishToChannel(t.$7N,{affectContainer:O=>_.includes(y,O)}),h.push(...y||[])),!u.suppressDisplay){if(p.visibility)this.visibility.set(p.visibility.visual,p.visibility.mode);else if(u.targetVisualNames){var S=_.filter(l.sections[l.activeSectionIndex].visualContainers,O=>_.includes(u.targetVisualNames,O.name));this.visibility.clearForVisualContainers(S)}else this.visibility.clear();_.isEmpty(h)||this.eventBridge.publishToChannel(t.qZY,{changedItems:h})}if(!u.suppressData){var b=p.pendingHighlights,V=p.activeSection||null==l.activeSectionIndex||l.activeSectionIndex<0||l.activeSectionIndex>=l.sections?.length?this.navigation.getCurrentSection():l.sections[l.activeSectionIndex];if(b)for(var M of(this.filterGenerator.setMultipleFiltersOnSelectData(l,V,b,m,void 0),b)){var P=M.sourceVisualContainer,T=this.runningVisualService.getVisual(P),N=P.config.singleVisual;T?(M.filterExpressionMetadata&&(0,r.QP)(M.selection,M.filterExpressionMetadata),T.setSelectedDatapoints(M.selection,!0)):N.pendingSelection=M.selection}else if(u.targetVisualNames){var w=l.sections[l.activeSectionIndex],I=_.filter(w.visualContainers,O=>_.includes(u.targetVisualNames,O.name));this.filterGenerator.clearCrossHighlightForVisualContainers(w,I,m,void 0)}else this.filterGenerator.clearCrossHighlight(V,m,void 0)}},m=>this.telemetryService.startChildActivity(m&&m.event,i.aA))}}},110106:function(ve,z,e){e.d(z,{P:function(){return U},Q:function(){return x}});var a=e(899839),i=e(579260),r=e(18122),t=e(563670),o=e(586854),d=e(8343),n=e(890741);function c(Q,H){return Q===H||null!=Q&&null!=H&&Q.objectName===H.objectName&&Q.propertyName===H.propertyName}var s=e(999904),p=e(827431),l=e(95006),u=e(324394),v=e(258480),m=e(757406),g=e(990328),E=e(98138),D=e(167616),h=e(989917),C=e(576086),y=e(960179),f=e(11733),S=e(71712),b=e(371320),V=e(413399),M=e(850990),P=e(456339),T=e(495549),N=e(89452),w=e(387797),I=e(155385),O=function(Q){return Q[Q.None=0]="None",Q[Q.InvalidActiveSection=1]="InvalidActiveSection",Q[Q.NonDrillthroughFilterInTransientFilters=2]="NonDrillthroughFilterInTransientFilters",Q[Q.MismatchedFilterNames=4]="MismatchedFilterNames",Q[Q.ExpectedOneVisualLevelAutoFilterForExpression=8]="ExpectedOneVisualLevelAutoFilterForExpression",Q[Q.OnlyIncludeExcludeSupported=16]="OnlyIncludeExcludeSupported",Q[Q.InvalidDrillFilterExpression=32]="InvalidDrillFilterExpression",Q[Q.FiltersContainerOfADrillFilterShouldBeVisualContainer=64]="FiltersContainerOfADrillFilterShouldBeVisualContainer",Q[Q.InvalidVisualFilterOutput=128]="InvalidVisualFilterOutput",Q[Q.OnlyOneRoleAllowedInExpansionStates=256]="OnlyOneRoleAllowedInExpansionStates",Q}({});function x(Q,H,te,ee,ue,Te,He,We,ft,mt,At,Qe){return new X(Q,H,te,ee,ue,Te,He,We,ft,mt,At,Qe)}function j(Q,H,te){if(r.Y.assertAnyValue(Q,"contracts"),r.Y.assertValue(H,"filterScopeType"),!_.isEmpty(Q)){var ee={};for(var ue of Q)te(ue)||(A(ue)?(ee.transientFilters||(ee.transientFilters=[]),ee.transientFilters.push(U(ue))):G(ue)&&!_.isEmpty(ue.name)?(ee.nameIdentifiedMerges||(ee.nameIdentifiedMerges={}),ee.nameIdentifiedMerges[ue.name]=U(ue)):W(ue)?(ee.exprIdentifiedMerges||(ee.exprIdentifiedMerges=[]),ee.exprIdentifiedMerges.push(U(ue))):K(ue)?(ee.typeIdentifiedMerges||(ee.typeIdentifiedMerges=[]),ee.typeIdentifiedMerges.push(U(ue))):(_.isEmpty(ue.name)&&(ue.name=M.M.getNextFilterName(Q)),ee.nameIdentifiedMerges||(ee.nameIdentifiedMerges={}),ee.nameIdentifiedMerges[ue.name]=U(ue)));if(!_.isEmpty(ee))return ee}}function U(Q){return r.Y.assertValue(Q,"filterContainer"),{name:Q.name,type:Q.type,filter:Q.filter,expression:Q.expression,restatement:Q.restatement,howCreated:Q.howCreated,isTransient:Q.isTransient,cachedValueItems:Q.cachedValueItems,filterExpressionMetadata:_.cloneDeep(Q.filterExpressionMetadata)}}function F(Q){return r.Y.assertValue(Q,"filterContainerState"),r.Y.assertAnyValue(name,"name"),{name:Q.name,type:Q.type,filter:Q.filter,expression:Q.expression,restatement:Q.restatement,howCreated:Q.howCreated,isTransient:Q.isTransient,cachedValueItems:Q.cachedValueItems,filterExpressionMetadata:_.cloneDeep(Q.filterExpressionMetadata),displayName:Q.displayName}}function R(Q,H){Q.filter=H.filter,Q.cachedValueItems=H.cachedValueItems,Q.filterExpressionMetadata=_.cloneDeep(H.filterExpressionMetadata),Q.type=H.type}function B(Q){Q.filter=void 0,Q.cachedValueItems=void 0,Q.filterExpressionMetadata=void 0}function A(Q){return!!Q.isTransient}function W(Q){return!!Q.expression}function G(Q){return Q.isHiddenInViewMode||Q.isLockedInViewMode}function K(Q){return Q.howCreated===C.GS.Include||Q.howCreated===C.GS.Exclude}var ne=new WeakMap;function k(Q,H,te){return!!H.filterState||(ne.has(te)?ee=ne.get(te):(ee=(0,p.x_)(te),ne.set(te,ee)),!!ee&&_.some([ee],Q));var ee}function L(Q){return _.some([{objectName:"outspacePane",propertyName:"expanded"},{objectName:"outspacePane",propertyName:"visible"}],Q)}class X{constructor(H,te,ee,ue,Te,He,We,ft,mt,At,Qe,Fe){this.expandCollapse=H,this.filterGenerator=te,this.plugins=ee,this.visualPluginOps=ue,this.aggrOps=Te,this.featureSwitchService=He,this.sortService=We,this.drillService=ft,this.telemetryService=Qe,this.nonDrillthroughIsLinkedAsAggregationCallback=ye=>(r.Y.assertValue(ye,"filter"),r.Y.assert(()=>ye.howCreated!==C.GS.Drillthrough,"Only drillthrough filters can be linked as aggregation. This should not be called for drillthrough filters."),!1),this.visualAuthoringCore=(0,I.Z8)(ee,mt,Te,He,At,Fe)}capture(H,te,ee){r.Y.assertValue(H,"exploration"),r.Y.assert(()=>null!=H.activeSectionIndex,"exploration.activeSectionIndex != null");var ue=H.sections[H.activeSectionIndex],Te={activeSection:ue.name,filters:j(H.filters,y.$d.Exploration,this.nonDrillthroughIsLinkedAsAggregationCallback),sections:{}};if(this.featureSwitchService.featureSwitches.dataSourceVariablesOverride&&!ee.suppressDataSourceVariables&&(Te.dataSourceVariables=H.dataSourceVariables),H.objects&&(Te.objects=this.captureExplorationObjects(H.objects)),ee.captureAllSections)for(var He of H.sections)Te.sections[He.name]=this.captureSection(He,te,H,ee.capturePresentation);else Te.sections[ue.name]=this.captureSection(ue,te,H,ee.capturePresentation);return Te}captureExplorationObjects(H){return this.captureObjects(D.F,H,L)}captureFilterState(H){var te=this.captureFilterStateObjects(H.visualType,H.objects);return{visualType:H.visualType,objects:te,cachedFilterDisplayItems:H.cachedFilterDisplayItems,filterExpressionMetadata:H.filterExpressionMetadata}}captureSection(H,te,ee,ue){r.Y.assertValue(H,"contract");var He=this.getCrossHighlights(H);return{filters:j(H.filters,y.$d.Section,ft=>(0,T.y1)(ee,H,ft)),visualContainers:this.captureVisualContainers(H.visualContainers,He,te,ue),visualContainerGroups:this.captureVisualContainerGroups(H.visualContainerGroups)}}getCrossHighlights(H){return H&&H.crossFilterSource&&H.crossFilterSource.highlight}captureVisualContainerGroups(H){var te;for(var ee of(r.Y.assertValue(H,"contracts"),H))if((0,S.tx)(ee)){var ue={};if(null!=ee.isHidden&&(ue.isHidden=ee.isHidden),!_.isEmpty(ee.children)){var Te=this.captureVisualContainerGroups(ee.children);ue.children=Te}(null!=ue.isHidden||null!=ue.children)&&((te=te||{})[ee.name]=ue)}return te}captureVisualContainers(H,te,ee,ue){var Te=this;r.Y.assertValue(H,"contracts");var He={},We=function(){r.Y.assertValue(ft.name,"contract.name");var At,mt=ft.config.singleVisual;if(!mt)return 1;if(!_.isEmpty(te)){var Qe=_.find(te,he=>he.sourceVisualContainer.config.singleVisual===mt&&!_.isEmpty(he.selection));Qe&&(At={selection:Qe.selection,filterExpressionMetadata:Qe.filterExpressionMetadata?Qe.filterExpressionMetadata:void 0})}var ye={filters:j(_.union(ft.filters,Te.getAdditionalVisualFiltersToCapture(ft,ee)),y.$d.Visual,Te.nonDrillthroughIsLinkedAsAggregationCallback),singleVisual:{visualType:mt.visualType,objects:Te.captureVisualObjects(mt.visualType,mt.objects),cachedFilterDisplayItems:mt.cachedFilterDisplayItems,filterExpressionMetadata:mt.filterExpressionMetadata},highlight:At};null!=mt.autoSelectVisualType&&(ye.singleVisual.autoSelectVisualType=mt.autoSelectVisualType);var we=ft.visibility;null!=we&&we!==C.B8.None&&we!==C.B8.VisualCalcEditing&&(ye.visibility=we),(0,f.dK)(mt)&&(ye.singleVisual.hidden=!0);var Ee=mt.query,Oe=ue&&mt.presentationChangesApplied;(Oe||Ee&&Ee.hasQueryFieldParameters())&&(Oe&&(ye.singleVisual.targetType=mt.visualType),null!=mt.autoSelectVisualType&&(ye.singleVisual.targetAutoSelectVisualType=mt.autoSelectVisualType),Ee&&Ee.projections&&Ee.defn&&(ye.singleVisual.projections=(0,N.$F)(Ee))),Ee&&Ee.projections&&Te.featureSwitchService.featureSwitches.fieldParameters&&(ye.singleVisual.parameters=(0,N.fh)(Ee)),Ee&&Ee.defn&&(ye.singleVisual.orderBy=Ee.defn.orderBy()),Ee&&Ee.projections&&(ye.singleVisual.activeProjections=Te.captureActiveProjections(Ee)),Ee&&Ee.expansionStates&&(ye.singleVisual.expansionStates=(0,o.o8)(Ee.expansionStates)),Ee&&Ee.isDrillDisabled&&(ye.singleVisual.isDrillDisabled=Ee.isDrillDisabled),He[ft.name]=ye};for(var ft of H)We();return He}captureActiveProjections(H){var te,ee=H.defn.select();for(var ue in H.projections){var He=H.projections[ue].activeProjectionRefs;if(!_.isEmpty(He)){var We=_.map(He,ft=>{var mt=ee.withName(ft);return mt?mt.expr:null});te||(te={}),te[ue]=We}}return te}captureVisualObjects(H,te){return this.captureFilterStateObjects(H,te)}captureFilterStateObjects(H,te){var ee=this.plugins.capabilities(H);return ee&&ee.objects?this.captureObjects(ee.objects,te,k):{}}captureObjects(H,te,ee){var ue={};for(var Te in H){var He=H[Te];for(var We in He.properties){var ft=He.properties[We],mt={objectName:Te,propertyName:We};if(ft.captureState||ee(mt,ft,H)){var At=te?.[Te];if(At)for(var Qe of At){var Fe=(0,s._W)(te,mt,Qe.selector);Fe&&(0,s.KY)(ue,mt,Qe.selector,Fe)}}}}var ye={};return _.isEmpty(ue)||(ye.merge=ue),ye}apply(H,te,ee,ue){r.Y.assertValue(H,"state"),r.Y.assertValue(te,"exploration");var Te={visualContainers:[],visualContainerGroups:[],issues:[]};for(var He in ue.suppressActiveSection||this.applyActiveSection(H.activeSection,te,Te),!ue.suppressData&&!ue.targetVisualNames&&this.applyFilters(H.filters,te,y.$d.Exploration,Te,ue.clearUnmatchedData,[],void 0,ee,this.nonDrillthroughIsLinkedAsAggregationCallback),H.objects&&this.applyExplorationObjects(H.objects,te,Te,ue),H.sections){var We=(0,i.q7)(te.sections,He);if(We){var ft=H.sections[He],mt=!ue.suppressActiveSection||this.isActiveSection(We.name,te);this.applySection(te,ft,We,ee,Te,ue,mt)}}return Te.activeSection&&null!=Te.filterScope&&(0,w.QZ)(te.sections[te.activeSectionIndex]),ue.suppressDataSourceVariables||this.applyDataSourceVariables(H.dataSourceVariables,te,Te),_.isEmpty(Te.issues)||this.telemetryService.logEvent(V.EX,{context:"apply",issues:_.reduce(Te.issues,(Qe,Fe)=>Qe|Fe.type,O.None)}),Te}applyExplorationObjects(H,te,ee,ue){var Te={};H&&H.merge&&(Te.merge=(0,s.o8)(H.merge));var He=te.objects||{};for(var We in Te.merge)for(var ft of Te.merge[We]){var mt=(0,s.D8)(He,We,ft.selector);for(var At in ft.properties){var Qe=ft.properties[At];this.shouldApplyExplorationProperty(We,ue)&&!(0,s.Y2)(mt.properties[At],Qe)&&(ee.objects=!0,mt.properties[At]=Qe)}}return ee.objects&&!te.objects&&(te.objects=He),ee}isDisplayOptions(H){return void 0!==H&&void 0!==H.outspacePane&&void 0!==H.visuals}shouldApplyExplorationProperty(H,te){return"outspacePane"===H&&this.isDisplayOptions(te.suppressDisplay)?!te.suppressDisplay.outspacePane:!te.suppressDisplay}applyFilterState(H,te){var ee={visualContainers:[],visualContainerGroups:[],issues:[]};for(var ue of H){var Te=ue.visual,He=ue.state,We=Te.config.singleVisual,ft=this.plugins.capabilities(We.visualType),mt=ue.impacted;(mt=this.applyObjects(He,We,He.objects,ft.objects,te,ee,!1)||mt)&&!_.includes(ee.visualContainers,Te)&&ee.visualContainers.push(Te)}return _.isEmpty(ee.issues)||this.telemetryService.logEvent(V.EX,{context:"applyFilterState",issues:_.reduce(ee.issues,(At,Qe)=>At|Qe.type,O.None)}),ee}isActiveSection(H,te){return H===te.sections[te.activeSectionIndex].name}applyActiveSection(H,te,ee){if(r.Y.assertValue(H,"activeSection"),r.Y.assertValue(te,"target"),r.Y.assertValue(ee,"impact"),!this.isActiveSection(H,te)){var ue=(0,i.i4)(te.sections,H);ue>=0?(te.activeSectionIndex=ue,ee.activeSection=!0):ee.issues.push({type:O.InvalidActiveSection})}}applyDataSourceVariables(H,te,ee){r.Y.assertValue(te,"target"),r.Y.assertValue(ee,"impact"),H?(te.dataSourceVariables=H,ee.dataSourceVariables=!0):te.dataSourceVariables=void 0}applyFilters(H,te,ee,ue,Te,He,We,ft,mt){var At=!1,Qe=[],Fe={nameIdentifiedMerges:_.clone(H&&H.nameIdentifiedMerges||{}),exprIdentifiedMerges:[...H&&H.exprIdentifiedMerges||[]],typeIdentifiedMerges:[...H&&H.typeIdentifiedMerges||[]],transientFilters:[...H&&H.transientFilters||[]]};if(At=this.applyRemainingFilters(Fe,te,ee===y.$d.Visual,ue,Qe,He,We,ft,mt)||At,Te&&te.filters)for(var ye=te.filters.length-1;ye>=0;ye--){var we=te.filters[ye];we?we.type!==h.RJ.Passthrough&&(_.includes(Qe,we)||(we.howCreated===C.GS.Drill?(te.filters.splice(ye,1),this.addImpactCrossDrillSourceUpdate(We,te,ee===y.$d.Visual,ue)):B(we),At=!0)):te.filters.splice(ye,1)}return At&&this.setMinimumFilterScope(ue,ee),At}applyRemainingFilters(H,te,ee,ue,Te,He,We,ft,mt){var At=this.applyTransientFilters(H,te,Te,ue);if(At=this.applyMatchingFilterByName(H,te,Te,ue)||At,!_.isEmpty(H.nameIdentifiedMerges)){for(var Qe in H.nameIdentifiedMerges)H.exprIdentifiedMerges.push(H.nameIdentifiedMerges[Qe]);H.nameIdentifiedMerges={}}At=this.applyMatchingFilterByExpr(H,te,ee,Te,ft,mt,ue)||At,At=this.applyMatchingFilterByType(H,te,Te,ue)||At;var Fe=this.applyDrillFilters(H,te,Te,He,ue);return At=Fe||At,Fe&&this.addImpactCrossDrillSourceUpdate(We,te,ee,ue),At}addImpactCrossDrillSourceUpdate(H,te,ee,ue){if(function(Q,H){return!!Q&&!!H}(te,ee)){r.Y.assertValue(H,"section");var He=this.filterGenerator.updateCrossDrillFromVisualContainersOperation(H,[te]);ue.visualContainers=_.union(ue.visualContainers,He)}else r.Y.assertFail("FiltersContainer of a drill filter should be VisualContainer."),ue.issues.push({type:O.FiltersContainerOfADrillFilterShouldBeVisualContainer})}applyMatchingFilterByName(H,te,ee,ue){if(r.Y.assertAnyValue(H,"remainingFiltersState"),r.Y.assertValue(te,"target"),r.Y.assertValue(ee,"appliedTargetFilters"),_.isEmpty(H)||_.isEmpty(H.nameIdentifiedMerges)||_.isEmpty(te.filters))return!1;var Te=!1,He=[],We=function(mt){var At=H.nameIdentifiedMerges[mt];At.name!==mt&&(r.Y.assertFail("mismatched filter names"),ue.issues.push({type:O.MismatchedFilterNames}));var Qe=_.findIndex(te.filters,Fe=>Fe.howCreated===At.howCreated&&!_.includes(ee,Fe)&&Fe.name===mt);-1!==Qe&&(v.b0.isSameFilter(te.filters[Qe].filter,At.filter)||(R(te.filters[Qe],At),Te=!0),He.push(mt),ee.push(te.filters[Qe]))};for(var ft in H.nameIdentifiedMerges)We(ft);return He.forEach(mt=>{delete H.nameIdentifiedMerges[mt]}),Te}applyMatchingFilterByExpr(H,te,ee,ue,Te,He,We){var ft=this;if(r.Y.assertAnyValue(H,"remainingFiltersState"),r.Y.assertValue(te,"target"),r.Y.assertValue(ee,"isVisualScope"),r.Y.assertValue(ue,"appliedTargetFilters"),_.isEmpty(H)||_.isEmpty(H.exprIdentifiedMerges))return!1;for(var Qe,ye,mt=!1,At=!1,Fe=[...H.exprIdentifiedMerges||[]],we=function(){var Ee=ye.howCreated;if(Ee===C.GS.Drill)return Fe.splice(0,1),1;var Oe=_.remove(Fe,De=>De===ye||De.howCreated===Ee&&(0,E.aI)(De.expression,ye.expression)),he=[];if((te.filters||[]).forEach((De,lt)=>{De&&De.howCreated===Ee&&!_.includes(ue,De)&&!He(De)&&(0,E.aI)(De.expression,ye.expression)&&(!G(De)||De.name===ye.name)&&he.push(lt)}),_.isEmpty(he)&&ee&&Ee===C.GS.Auto)if(ye.filter){1!==Oe.length&&(r.Y.assertFail("expecting <= 1 visual-level auto filter for an expression."),We.issues.push({type:O.ExpectedOneVisualLevelAutoFilterForExpression})),At||(At=!0,Qe=(0,w.W3)(te,ft.visualPluginOps,Te,ft.aggrOps));var xe=_.find(Qe,De=>(0,E.aI)(De.expression,ye.expression));xe&&((te.filters||(te.filters=[])).push(xe),he.push(te.filters.length-1))}else _.remove(H.exprIdentifiedMerges,ye),_.remove(Oe,ye);if(he.length>0){for(var Se=Math.min(Oe.length,he.length);Oe.length>Se;){var Ae=_.findIndex(Oe,De=>_.isEmpty(De.filter));if(-1===Ae)break;Oe.splice(Ae,1)}for(var Ie=0;Ie<Se;Ie++){var Je=he[Ie];v.b0.isSameFilter(te.filters[Je].filter,Oe[Ie].filter)||(R(te.filters[Je],Oe[Ie]),mt=!0),ue.push(te.filters[Je])}for(var pe=Se;pe<Oe.length;pe++){var Pe=F(Oe[pe]);(te.filters||(te.filters=[])).push(Pe),ue.push(Pe),mt=!0}for(var Me=Se;Me<he.length;Me++)B(te.filters[he[Me]]),mt=!0;H.exprIdentifiedMerges=_.difference(H.exprIdentifiedMerges,Oe)}};ye=_.head(Fe);)we();return mt}applyDrillFilters(H,te,ee,ue,Te){var He=!1;if(_.isEmpty(ue)||_.isEmpty(H)||_.isEmpty(H.exprIdentifiedMerges))return He;var We=[],ft=function(Qe){if(Qe.howCreated!==C.GS.Drill)return 0;if(!_.find(ue,Ee=>(0,E.aI)(Qe.expression,Ee)))return Te.issues.push({type:O.InvalidDrillFilterExpression}),0;var ye=_.find(te.filters,Ee=>Ee.howCreated===C.GS.Drill&&!_.includes(ee,Ee)&&(0,E.aI)(Ee.expression,Qe.expression));if(ye)v.b0.isSameFilter(ye.filter,Qe.filter)||(R(ye,Qe),He=!0),ee.push(ye);else{var we=F(Qe);(te.filters||(te.filters=[])).push(we),ee.push(we),He=!0}We.push(Qe)};for(var At of H.exprIdentifiedMerges)ft(At);return H.exprIdentifiedMerges=_.difference(H.exprIdentifiedMerges,We),He}applyMatchingFilterByType(H,te,ee,ue){var Te=!1;if(_.isEmpty(H)||_.isEmpty(H.typeIdentifiedMerges))return Te;var He=[],We=function(mt){mt.howCreated===C.GS.Include||mt.howCreated===C.GS.Exclude||(r.Y.assertFail("Only include/exclude supported"),ue.issues.push({type:O.OnlyIncludeExcludeSupported}));var At=_.find(te.filters,Fe=>Fe.howCreated===mt.howCreated&&!_.includes(ee,Fe));if(At)R(At,mt),ee.push(At);else{var Qe=F(mt);(te.filters||(te.filters=[])).push(Qe),ee.push(Qe)}He.push(mt),Te=!0};for(var ft of H.typeIdentifiedMerges)We(ft);return H.typeIdentifiedMerges=_.difference(H.typeIdentifiedMerges,He),Te}applyTransientFilters(H,te,ee,ue){var Te=!1;if(!_.isEmpty(H)&&!_.isEmpty(H.transientFilters)){var He=function(mt){mt.howCreated===C.GS.Drillthrough&&!0===mt.isTransient||(r.Y.assertFail("only drillthrough transient filters are supposed to be in transientMerges"),ue.issues.push({type:O.NonDrillthroughFilterInTransientFilters}));var At=_.find(te.filters,Fe=>Fe.isTransient&&!_.includes(ee,Fe)&&v.b0.isSameFilter(Fe.filter,mt.filter));if(At)R(At,mt),ee.push(At);else{var Qe=F(mt);(te.filters||(te.filters=[])).push(Qe),ee.push(Qe)}Te=!0};for(var We of H.transientFilters)He(We);H.transientFilters=[]}var ft=_.remove(te.filters,mt=>mt&&mt.isTransient&&!_.includes(ee,mt));return Te=Te||!_.isEmpty(ft)}applySection(H,te,ee,ue,Te,He,We){var ft=this;He.suppressData||He.targetVisualNames||this.applyFilters(te.filters,ee,y.$d.Section,Te,He.clearUnmatchedData,[],ee,ue,Ee=>(0,T.y1)(H,ee,Ee));var At=function(){var Ee=Qe.name;if(He.targetVisualNames&&!_.includes(He.targetVisualNames,Ee))return 1;var he,Oe=te.visualContainers&&te.visualContainers[Ee];if(null!=Oe?(he=ft.applyVisualState(H,Oe,ee,Qe,ue,Te,He,We,!0),Oe.highlight&&!He.suppressData&&We&&(r.Y.assert(()=>!_.isEmpty(Oe.highlight.selection),"Selection is empty"),ft.isSelectionValid(Oe.highlight.selection,Qe.config.singleVisual,ue)&&(null==Te.pendingHighlights&&(Te.pendingHighlights=[]),r.Y.assert(()=>!He.suppressData,"suppressData"),Te.pendingHighlights.push({selection:Oe.highlight.selection,sourceVisualContainer:Qe,filterExpressionMetadata:Oe.highlight.filterExpressionMetadata})))):He.clearUnmatchedData&&(he=ft.applyVisualState(H,{},ee,Qe,ue,Te,He,We,!1)),!_.isEmpty(he)){var Se=_.without(he,...Te.visualContainers||[]);Te.visualContainers.push(...Se||[])}};for(var Qe of ee.visualContainers)At();var Fe=this.getCrossHighlights(ee);for(var ye of ee.visualContainerGroups)if((0,S.tx)(ye)){var we=te.visualContainerGroups&&te.visualContainerGroups[ye.name];null!=we&&this.applyVisualGroupState(we,ee,ye,Te,He,Fe)}}applyVisualState(H,te,ee,ue,Te,He,We,ft,mt){r.Y.assertValue(Te,"schema: applying a full visual state should include schema for group-on key checking for filter updates");var At=!1,Qe=te.singleVisual;if(!We.suppressData){var Fe=We.defaultPresentationState?.[ee.name]?.[ue.name],we=!1,Ee=!1;if(this.presentationChangesAllowed(H,We,ue,Qe,this.visualPluginOps)){var Oe=this.applyPresentationChanges(ue,Qe,Fe,Qe&&Qe.parameters,Te);we=Oe.changesApplied,Ee=Oe.parametersRemoved}var he=!1;this.featureSwitchService.featureSwitches.fieldParameters&&(he=this.applyParameterStateByRole(Te,ue,Qe,Ee));var Se=this.applySort(ue.config.singleVisual,Qe&&Qe.orderBy,We.clearUnmatchedData),Je=this.applyActiveProjectionsAndDrillState(ue.config.singleVisual,Qe&&Qe.activeProjections,We.clearUnmatchedData,Qe?!!Qe.isDrillDisabled:!!ue.config.singleVisual.query?.isDrillDisabled),pe=this.collectValidDrillExprs(ue.config.singleVisual),Pe=this.applyFilters(te.filters,ue,y.$d.Visual,He,We.clearUnmatchedData,pe,ee,Te,this.nonDrillthroughIsLinkedAsAggregationCallback),Ge=this.applyExpansionStates(ue,Qe&&Qe.expansionStates,We.clearUnmatchedData,Te,He),De=this.plugins.capabilities(ue.config.singleVisual.visualType),ct=!1;De&&De.objects&&(ct=this.applyObjects(Qe,ue.config.singleVisual,Qe&&Qe.objects,De.objects,Te,He,We.isPersistentState)),At=ct||we||Se||Je||Pe||Ge||he}var vt=[];if(!this.getSuppressDisplayOptions(We).visuals){var It=te.visibility;if(null!=It&&ft&&(He.visibility={visual:ue,mode:It}),!mt||Qe){var de=!1;Qe?de=!!Qe.hidden:We.suppressUnmatchedClearHidden&&(de=(0,f.dK)(ue.config.singleVisual)),vt.push(...this.applyHidden(de,ue,ee)||[])}}return At&&!_.includes(vt,ue)&&vt.push(ue),vt}applyPresentationChanges(H,te,ee,ue,Te){var He=H.config.singleVisual;if(!te)return{changesApplied:!1,parametersRemoved:!1};var We=!te.targetType;if(We&&!He.presentationChangesApplied)return{changesApplied:!1,parametersRemoved:!1};var ft=!1,mt=We?ee?.visualType:te.targetType,At=We?ee?.autoSelectVisualType:te.targetAutoSelectVisualType,Qe=We?ee?.projections:te.projections;mt&&(ft=mt!==He.visualType,He.visualType=mt),null!=At&&(ft=ft||At!==He.autoSelectVisualType,He.autoSelectVisualType=At),!He.query&&Qe&&(He.query=new b.r(v.DC.create(),{},[]));var{query:Fe}=He;return Qe&&Fe?(this.applyVisualQueryPresentationChanges(Fe,Qe,ue,H,Te),He.presentationChangesApplied=!We,{changesApplied:!0,parametersRemoved:!0}):(He.presentationChangesApplied=ft,{changesApplied:ft,parametersRemoved:!1})}applyParameterStateByRole(H,te,ee,ue){var Te=this;if(!ee||!ee.parameters)return!1;var He=te.config.singleVisual;if(!He.query&&ue)He.query=new b.r(v.DC.create(),{},[]);else if(!He.query)return!1;var We=ee.parameters,ft=He.query,mt={},At=ft.getResolveParameterResultsByRole();for(var Qe in We){var Fe=We[Qe];mt[Qe]=[];var ye=ft.projections[Qe];if(!ye&&ue&&Fe.length>0&&(ye=ft.projections[Qe]=new d.yl([])),ye)for(var we=function(){var xe,he=Fe[Ee];if(ue){var Se=ft.addParameter(he.expr,Qe,he.index,he.sortDirection);xe=ye.getParameterByFieldIndex(Se);var Ae=At[Qe];Ae||(Ae=At[Qe]=[]),Ae.push({parameter:xe,result:[]})}else{var Ie=_.find(mt[Qe],De=>(0,E.aI)(De.expr,he.expr)),Je=Ie?Ie.count:0,pe=_.sortBy(ye.findParameterBySQExpr(he.expr),De=>De.index);if(Je>=pe.length)return 1;xe=pe[Je],Ie?Ie.count++:mt[Qe].push({expr:he.expr,count:1})}var Me=_.find(At[Qe],De=>De.parameter.index===xe.index),Ge=Te.getProjectionsForParameter(Fe,Ee,ee.projections,Qe);Me.result=_.map(Ge,De=>({expr:De,alias:void 0})),Me.parameter.sortDirection=he.sortDirection},Ee=0;Ee<Fe.length;Ee++)we()}return this.visualAuthoringCore.resolveParameters(H,te,At,this.drillService,this.sortService,void 0).queryChange}getProjectionsForParameter(H,te,ee,ue){var Te=[],He=H[te];if(void 0!==He.length&&He.length>0)for(var We=(0,u.QX)(He.index,H),ft=We;ft<We+He.length;ft++)Te.push(ee[ue][ft]);return Te}applyVisualQueryPresentationChanges(H,te,ee,ue,Te){for(var He in H.projections)this.visualAuthoringCore.removeAllParametersAndProjectionsFromRole(He,ue,Te,this.drillService,this.sortService);for(var We in te){var ft=this.getNonParameterExpressions(te[We],ee,We),mt=void 0;for(mt=0;mt<ft.length;mt++){var At=ft[mt],Qe=!1;if(H.projections[We])for(var Fe=H.tryGetExprs(We),ye=mt;ye<Fe.length;ye++)if((0,E.aI)(Fe[ye],At,!0,!0,!0)){Qe=!0,ye!==mt&&H.moveProjection(We,ye,mt,1);break}Qe||H.add(At,We,{fieldIndex:mt})}if(H.projections[We])for(var Ee=H.tryGetExprs(We).length;Ee>ft.length&&Ee>0;)H.removeProjection(We,{fieldIndex:--Ee})}for(var Oe in H.projections){var he=this.getNonParameterExpressions(te[Oe],ee,Oe);if(!he?.length)for(var xe=H.tryGetExprs(Oe).length,Se=0;Se<xe;Se++)H.removeProjection(Oe,{fieldIndex:0})}}getNonParameterExpressions(H,te,ee){if(H){for(var ue=[],Te=function(We){var ft=te&&te[ee];if(ft&&ft.length>0&&_.find(ft,At=>{var Qe=(0,u.QX)(At.index,ft);return void 0!==At.length&&At.length>0&&We>=Qe&&We<=Qe+At.length-1}))return 1;null!==H[We]&&ue.push(H[We])},He=0;He<H.length;He++)Te(He);return ue}}applyVisualGroupState(H,te,ee,ue,Te,He){var We=this;if(!Te.targetVisualNames||_.includes(Te.targetVisualNames,ee.name)){var mt;if(!this.getSuppressDisplayOptions(Te).visuals){var Qe=H.isHidden;if(null!=Qe&&Qe!==ee.isHidden&&(ee.isHidden=Qe,mt=!0),Qe&&!_.isEmpty(He)){var ye=this.clearCrossHighlightsForGroup(ee,te,He);ue.visualContainers=_.chain(ue.visualContainers).concat(ye).uniq().value()}}mt&&ue.visualContainerGroups.push(ee)}if(!_.isEmpty(H.children)){var we=function(Oe){var he=H.children[Oe],xe=_.find(ee.children,Se=>Se.name===Oe);if(!he||!xe||!(0,S.tx)(xe))return 1;We.applyVisualGroupState(he,te,xe,ue,Te,He)};for(var Ee in H.children)we(Ee)}}getSuppressDisplayOptions(H){var te=H.suppressDisplay;return this.isDisplayOptions(te)?te:{outspacePane:te,visuals:te}}applyFilterExpressionCache(H,te,ee){ee?this.clearFilterExpressionCache(te):(te.filterExpressionMetadata=H.filterExpressionMetadata,te.cachedFilterDisplayItems=H.cachedFilterDisplayItems)}clearFilterExpressionCache(H){H.filterExpressionMetadata=void 0,H.cachedFilterDisplayItems=void 0}applyHidden(H,te,ee){var ue=te.config.singleVisual;if(H!==(0,f.dK)(ue)){(0,f.NJ)(ue,H);var Te=[te];return H&&(Te=_.chain(Te).concat(this.clearCrossHighlightsForVisual(te,ee)).uniq().value()),Te}}clearCrossHighlightsForGroup(H,te,ee){var Te,ue=[];return(0,S.Uu)([H],We=>{(0,S.iA)(We)&&_.some(ee,ft=>ft.sourceVisualContainer===We)&&ue.push(We)}),_.isEmpty(ue)||(Te=this.clearCrossHighlightsForVisuals(ue,te)),Te||[]}clearCrossHighlightsForVisual(H,te){return this.clearCrossHighlightsForVisuals([H],te)}clearCrossHighlightsForVisuals(H,te){var ee=[...H||[]];return ee.push(...this.filterGenerator.clearCrossHighlightForVisualContainersOperation(te,H)||[]),_.uniq(ee)}collectValidDrillExprs(H){var te=H.query;if(!te)return[];var ee=te.defn.select();if(_.isEmpty(ee))return[];var ue=[];for(var Te in te.projections){var He=te.projections[Te],ft=_.last(He.activeProjectionRefs||[]);for(var mt of He.all()){if(ft&&mt.queryRef===ft)break;var At=ee.withName(mt.queryRef);r.Y.assertValue(At,"found queryRef with no corresponding select"),At&&ue.push(At.expr)}}return ue}applyActiveProjectionsAndDrillState(H,te,ee,ue){var Te=H.query;if(!Te)return!1;var He=Te.defn.select(),We=this.plugins.capabilities(H.visualType),ft=We&&We.drilldown||{roles:[],suppresDrillOperations:!1},mt=ft.roles,At=ft.suppresDrillOperations,Qe=!1,Fe={},ye=function(){if(!_.includes(mt,Ee))return 0;var Je=te[Ee];r.Y.assertNonEmpty(Je,"activeExprsForRole"),Fe[Ee]||(Fe[Ee]=[]);var pe=Te.projections[Ee];if(!pe)return Qe=!0,0;var Pe=pe.all();if(_.isEmpty(Pe)||Je.length>Pe.length)return Qe=!0,0;if(1!==Je.length||At)for(var De=function(ct){r.Y.assert(()=>ct<=Pe.length,"existingProjections.length");var vt=Je[ct],Vt=Pe[ct],It=He.withName(Vt.queryRef);if(r.Y.assertValue(It,"found queryRef with no corresponding select"),!(0,E.aI)(It.expr,vt))return Qe=!0,1;Fe[Ee].push(Vt.queryRef)},lt=0;lt<Je.length;lt++)De(lt);else{var Me=Je[0],Ge=_.find(Pe,ct=>{var vt=He.withName(ct.queryRef);return r.Y.assertValue(vt,"found queryRef with no corresponding select"),(0,E.aI)(vt.expr,Me)});if(!Ge)return Qe=!0,0;Fe[Ee].push(Ge.queryRef)}};for(var Ee in te)ye();if(Qe)for(var Oe in Te.projections)Fe[Oe]=[];var he=!1;if(Te.isDrillDisabled!==ue&&(0,P.yT)(We))Te.changeDrillStateValue(mt,ue,Fe),he=!0;else for(var xe in Te.projections)if(_.includes(mt,xe)){var Se=Te.projections[xe],Ae=Fe[xe];if(_.isEmpty(Ae)&&!ue){if(!ee)continue;var Ie=Se.all();_.isEmpty(Ie)||(Ae=[_.head(Ie).queryRef])}(0,i.m2)(Se.activeProjectionRefs,Ae,(Je,pe)=>Je===pe)||(Se.activeProjectionRefs=Ae,he=!0)}return he}applySort(H,te,ee){var ue=H.query;if(!ue)return!1;var Te=ue.defn.orderBy()||[];return!(!te&&!ee||(te=te||[],(0,i.m2)(Te,te,E.lC))||(ue.orderBy(te),0))}applyObjects(H,te,ee,ue,Te,He,We){r.Y.assertValue(te,"singleVisual"),r.Y.assertAnyValue(ee,"contractUpdates"),r.Y.assertAnyValue(Te,"schema"),r.Y.assertValue(ue,"objectDescs");var ft={};ee&&(ee.merge&&(ft.merge=(0,s.o8)(ee.merge)),ee.remove&&(ft.remove=ee.remove.slice()));var Qe,mt=te.objects||{},At=(0,p.x_)(ue),Fe=this.plugins.getPlugin(te.visualType);this.applyPluginUpdateSemantics(Fe,ft,mt,ue,We),ft.remove||(ft.remove=this.getVisualPropertiesToRemove(te.visualType,mt,ft.merge));var ye=this.mergeObjects(H,te,ft.merge,mt,He,Te,At);return Qe=Qe||ye.visualImpacted,ft.remove=ft.remove.concat(ye.removeList),this.removeObjects(te,mt,ft.remove,He,At)||Qe}updateQueryProjectionsFromExpansionState(H,te,ee){var ue=this;if(_.isEmpty(te))return!1;var He,Te=function(ft){var mt=ft.getVisibleDescendentsDepth(ft.root,-1),At=Math.max(_.findLastIndex(ft.levels,he=>he.isPinned)+1,mt),Qe=he=>{var xe=ft.roles[he];return r.Y.assertValue(H.projections[xe],`Invalid role ${xe}`),H.projections[xe]&&H.projections[xe].all()},Fe=he=>{var Ae,xe=0,Se=Qe(0),Ie=0,Je=function(){if(Ie===_.size(Se)&&(Ie=0,++xe>=_.size(ft.roles)||!(Se=Qe(xe))))return 0;var Pe=ft.levels[Ae];r.Y.assert(()=>1===_.size(Pe.queryRefs),"Composite groups are not supported, expected only one queryRef.");var Me=_.findIndex(Se,Ge=>{var De=(0,u.$f)(H.defn,Ge)?.expr;return Ge.queryRef===_.first(Pe.queryRefs)&&ue.verifyExpansionIdentities(Pe,De,ee)},he?Ie:0);if(-1===Me)return 0;he&&Ie!==Me&&H.moveProjection(ft.roles[xe],Me,Ie,1)};for(Ae=0;Ae<_.size(ft.levels)&&0!==Je();Ae++,Ie++);return Ae};if(!(Fe(!1)>=At))return{v:!1};_.remove(H.expansionStates,he=>_.isEqual(he.roles,ft.roles)),Fe(!0);var we=ft.clone();H.setActiveProjections(we.roles,mt);var Ee=H.getRolesUniqueProjectionRefs(we.roles),Oe=_.findIndex(we.levels,he=>he.isCollapsed);we.updateLevels(Ee,-1===Oe?mt:Oe),H.expansionStates||(H.expansionStates=[]),H.expansionStates.push(we)};for(var We of te)if(He=Te(We))return He.v;return!0}applyExpansionStates(H,te,ee,ue,Te){var He=H.config.singleVisual,We=He.query;if(!We)return!1;if(!te&&!ee||(0,o.t7)(We.expansionStates||[],te=te||[]))return!1;var mt=this.plugins.capabilities(He.visualType);return mt&&mt.expandCollapse&&mt.expandCollapse.restoreProjectionsOrderFromBookmark?this.updateQueryProjectionsFromExpansionState(We,te,ue):(We.expansionStates=(0,o.o8)(_.filter(te,Qe=>{1!==Qe.roles.length&&(r.Y.assertFail("explorationState.applyExpansionStates -\n                        We currently only support 1 role in the bookmark validation code path,\n                        in the case of this assert triggering update this code to handle multiple roles."),Te.issues.push({type:O.OnlyOneRoleAllowedInExpansionStates}));var Fe=We.projections[Qe.roles[0]],ye=Fe&&Fe.all()||[];return!(!this.expandCollapse.isEnabled(H,Qe.roles)||1!==Qe.roles.length||ye.length<Qe.levels.length)&&_.every(Qe.levels,(we,Ee)=>{r.Y.assert(()=>1===we.queryRefs.length,"explorationState.applyExpansionStates -\n                            We currently assume there's only 1 queryRef, in the case of composite groups update this code.");var Oe=ye[Ee],he=(0,u.$f)(We.defn,Oe)?.expr;return Oe.queryRef===we.queryRefs[0]&&this.verifyExpansionIdentities(we,he,ue)})})),!0)}verifyExpansionIdentities(H,te,ee){var ue=new a.D;return _.isEmpty(H.identityKeys)||(0,i.m2)(H.identityKeys,te.accept(ue,ee),E.aI)}applyPluginUpdateSemantics(H,te,ee,ue,Te){if(te&&H&&H.mergeObjects){var He=(0,t.vt)(),ft=(0,l.Mo)(ee,ue,He,this.featureSwitchService.featureSwitches).dataViewObjects,mt=(0,l.Mo)(te.merge||{},ue,He,this.featureSwitchService.featureSwitches),Qe=H.mergeObjects({objects:ft,changes:mt.dataViewObjects,isPersistentState:Te});if(Qe){if(r.Y.assert(()=>null==Qe.removeObject&&null==Qe.replace,"Unsupported merge actions"),Qe.merge)for(var Fe of(te.merge={},Qe.merge))for(var ye in Fe.properties){var Ee=(0,s.TK)(Fe.properties[ye],H.capabilities.objects[Fe.objectName].properties[ye].type);(0,s.KY)(te.merge,{objectName:Fe.objectName,propertyName:ye},Fe.selector,Ee)}if(Qe.remove)for(var Oe of(te.remove=[],Qe.remove))for(var he in Oe.properties)te.remove.push({object:Oe.objectName,property:he,selector:Oe.selector})}}}mergeObjects(H,te,ee,ue,Te,He,We){var ft={visualImpacted:!1,removeList:[]};if(_.isEmpty(ee))return ft;for(var mt in ee)for(var At of ee[mt]){var Qe=(0,s.D8)(ue,mt,At.selector);for(var Fe in At.properties){var ye=At.properties[Fe];if(!(0,s.Y2)(Qe.properties[Fe],ye)){if(We&&c(We,{objectName:mt,propertyName:Fe})){var we=!!this.isFilterValid(ye,te,He);if(this.applyFilterExpressionCache(H,te,!we),!we){Te.issues.push({type:O.InvalidVisualFilterOutput}),ft.removeList.push({object:We.objectName,property:We.propertyName,selector:null});continue}this.setMinimumFilterScope(Te,y.$d.Section)}Qe.properties[Fe]=ye,ft.visualImpacted=!0,te.objects||(te.objects=ue)}}}return ft}removeObjects(H,te,ee,ue,Te){if(_.isEmpty(ee))return!1;var He=!1;for(var We of ee){var mt=We.object,At=We.property;(0,s.BJ)(te,mt,We.selector,At)&&(He=!0,Te&&c(Te,{objectName:mt,propertyName:At})&&(this.clearFilterExpressionCache(H),this.setMinimumFilterScope(ue,y.$d.Section)))}return He}getVisualPropertiesToRemove(H,te,ee){var ue=this.plugins.capabilities(H);if(!ue||!ue.objects)return[];var Te=(0,p.x_)(ue.objects),He=[];for(var We in ue.objects){var ft=ue.objects[We];for(var mt in ft.properties){var At=ft.properties[mt];if(!At.persistUnmatchedState&&(At.filterState||At.captureState||Te&&c(Te,{objectName:We,propertyName:mt}))){var Qe=te?.[We];if(!Qe)continue;for(var ye of Qe){var we=ye.selector,Ee=ye.properties[mt],Oe=(0,s._W)(ee,{objectName:We,propertyName:mt},we);Ee&&!Oe&&He.push({object:We,property:mt,selector:we})}}}}return He}isFilterValid(H,te,ee){r.Y.assertAnyValue(ee,"if no schema is specified, we will not check for group-on key inclusion in a query");var ue=te.query;if(!ue)return!1;var Te=new Y(ue.defn,ee);return H.rewrite(Te),Te.valid}isSelectionValid(H,te,ee){var ue=(0,n.sJ)(H);if(!ue)return r.Y.assertFail("Could not create filter from selection"),!1;var He=new v.VU(m.yq.instance).rewriteFrom(ue.from()),We=_.map(ue.where(),ft=>({condition:ft.condition.accept(m.yq.instance)}));return ue=new v.b0(He,We),this.isFilterValid(ue,te,ee)}setMinimumFilterScope(H,te){H.filterScope=H.filterScope?Math.max(te,H.filterScope):te}getAdditionalVisualFiltersToCapture(H,te){var ee=[],ue=(0,w.W3)(H,this.visualPluginOps,te,this.aggrOps)||[],Te=function(We){_.find(H.filters,ft=>(0,E.aI)(ft.expression,We.expression))||ee.push(We)};for(var He of ue)Te(He);return ee}presentationChangesAllowed(H,te,ee,ue,Te){if(!H.settings||!H.settings.allowInlineExploration||!te.applyPresentationChanges)return!1;var He=ee&&ee.config&&ee.config.singleVisual;if(!He)return!1;var ft=ue&&ue.visualType;if(![Fe=>Te.isQnaVisual(Fe),Fe=>Te.isQueryVisual(Fe)].some(Fe=>Fe(ft)))return!1;var Qe=(0,s._W)(He&&He.vcObjects,{objectName:"visualHeader",propertyName:"showPersonalizeVisualButton"},null);return!(Qe&&!1===Qe.value)}}class Y extends g.k{constructor(H,te){r.Y.assertValue(H,"query"),r.Y.assertAnyValue(te,"if no schema is provided, we do not check group-on keys"),super(),this.valid=!0,this.query=H,this.schema=te}visitColumnRef(H){return this.valid=this.valid&&this.exprInSelects(H),H}exprInSelects(H){var te=_.some(this.query.select(),He=>(0,E.aI)(He.expr,H,!0,!0));if(te)return!0;if(!this.schema)return te;var ee=this.query.select();for(var ue of ee){var Te=ue.expr.getKeyColumns(this.schema);if(_.some(Te,He=>(0,E.aI)(H,He,!0,!0)))return!0}return!1}}},47461:function(ve,z,e){e.d(z,{SA:function(){return o}});var a=e(285264),i=e(413399),r=e(718665),t=e(387797);function o(s,p){var l={},u=p.getCurrentSection(),v=p.getCurrentExploration(),m=p.getExplorationTelemetryData();switch(u&&(l={activeSectionId:u.id,sectionGuid:u.objectId,sectionIndex:v&&v.activeSectionIndex},(s.name===i._8||s.name===i._F||s.name===i.ZU||s.name===i.XE||s.name===i.Yc)&&(l.visualTypesAndCounts=JSON.stringify((0,t.M3)(u)))),m&&(l.modelId=m.modelId,l.reportGuid=m.reportGuid,l.dataCacheMode=m.dataCacheMode,l.datasetHost=m.datasetHost,l.dbName=m.dbName,l.enterpriseCapacitySkuTier=m.enterpriseCapacitySkuTier,l.isDirectQuery=m.isDirectQuery,l.isOnPrem=m.isOnPrem,l.exid=m.exid,l.exsid=m.exsid),s.name){case i._8:(function(s,p){p&&!_.isEmpty(p.sections)&&(s.areAnySectionQuickExplore=(0,r.mL)(p.sections),s.creationSource=p.creationSource)})(l,v),n(l,u,m);break;case i._F:n(l,u,m)}if(!_.isEmpty(l)){var g=s.formatted||(()=>({}));s.formatted=()=>(0,a.FP)(g.apply(s),l)}}function n(s,p,l){p&&(s.usageReportSection=l&&l.isNewUsageMetrics?p.displayName:void 0),l&&(s.isNewUsageMetrics=l.isNewUsageMetrics,s.isUsageMetrics=l.isUsageMetrics)}},517461:function(ve,z,e){e.d(z,{C:function(){return n}});var a=e(18122),i=e(34584),r=e(454840),t=function(s){return s[s.None=0]="None",s[s.DuplicatedName=1]="DuplicatedName",s}({});class d{constructor(p,l){this.federatedConceptualSchema=p,this.localizationService=l}validateExistingMeasureName(p){var l=d.normalizeModelItemName(p.name);for(var u of this.federatedConceptualSchema.schemas)for(var v of u.entities)for(var m of v.properties)if(m!==p&&d.normalizeModelItemName(m.name)===l)return{error:t.DuplicatedName,reason:this.localizationService.format(m.measure?"NameValidationFailedCollisionMeasure":"NameValidationFailedCollisionColumn",[m.name,v.name])};return{error:t.None}}static normalizeModelItemName(p){return(0,r._k)(p)}}function n(s){return new c(s)}class c{constructor(p){this.localization=p}validate(p){if(p){var l=function(s,p){return new d(s,p)}(p,this.localization);for(var u of p.schemas)if(u.isExtensionSchema){var v=p.schema(u.extends);for(var m of(a.Y.assertValue(v,"mainSchema"),u.entities)){var g=!1;for(var h of(v.entities.withName(m.name)||(g=!0,m.errorMessage=this.localization.get("ReportMeasuresMissingTableErrorMessage"),m.queryable=i.IW.Error,m.isAbandoned=!0),m.properties))if(h.kind===i.ye.Measure){var C=l.validateExistingMeasureName(h);C.error===t.DuplicatedName?(h.errorMessage=C.reason,h.queryable=i.IW.Error):g&&(h.errorMessage=this.localization.get("ReportMeasuresMissingTableMeasureErrorMessage"),h.queryable=i.IW.Error)}}}}}}},260054:function(ve,z,e){e.d(z,{q:function(){return x},k:function(){return j}});var a=e(115315),i=e(796653),r=e(18122),t=e(715068),o=e(890741),d=e(999904),n=e(827431),c=e(910058),s=e(448724),p=e(258480),l=e(620825),u=e(858225),v=e(989917),m=e(960179),g=e(576086),E=e(339521),D=e(385926),h=e(850990),C=e(534608),y=e(387797),f=e(408509),S=e(255556);class b{constructor(R){this.visualPlugins=R,this.collectedFilters=[]}collectFilters(R,B,A){if(!_.isEmpty(R))for(var W of R)!W||!W.filter&&W.type!==v.RJ.VisualTopN||this.collectFilter(W.filter,W,A,B)}collectFiltersForFilterContainer(R,B,A,W){if(R)for(var G of R)!G.filter||G===A||G.type===v.RJ.VisualTopN||this.collectFilter(G.filter,G,W,B)}collectFilter(R,B,A,W,G){var K;r.Y.assertAnyValue(R,"filter"),r.Y.assertAnyValue(B,"filterContainer"),r.Y.assertAnyValue(A,"sourceVisualContainer"),R&&(A&&(K=(0,y.p6)(A,this.visualPlugins)),this.collectedFilters.push({filter:R,filterContainer:B,sourceVisualContainer:A,sourceVisualContainerCapabilities:K,scopeType:W,collectedFilterSource:G}))}getCollectedFilters(){return this.collectedFilters}}var V=e(693029),M=e(309754),P=e(757406),T=e(990328);class N{constructor(R){r.Y.assertValue(R,"options"),this.options=R}resolveSemanticQuery(R){return R?R.where(this.resolveFilters(R.where()),R.from()):null}resolveFilters(R){return R?_.map(R,B=>this.resolveFilter(B)):null}resolveFilter(R){if(!R)return null;if(R.target)return R;if(R.condition)switch((0,c.m)(R.condition)){case s.l0.Column:return this.resolveColumnFilter(R);case s.l0.Exists:return this.resolveExistsFilter(R);case s.l0.Measure:return this.resolveMeasureFilter(R);case s.l0.Subquery:return this.resolveSubqueryFilter(R);default:return void r.Y.assertFail("Unsupported filter kind!")}}resolveColumnFilter(R){return{condition:R.condition,annotations:R.annotations}}resolveMeasureFilter(R){var B=this,A=null;this.options.mappings&&this.options.mappings.measureFilter&&(A=this.options.mappings.measureFilter.targetRoles),(!A||!_.some(A,X=>this.options.queryProjections[X]))&&(A=this.getDefaultMeasureFilterTargetRoles());var W,G,K=R.condition;if(A){for(var q of A){var ne=this.options.queryProjections[q];if(ne){var k=function(){var X=B.options.select.filter(ee=>ee.name===L.queryRef);r.Y.assert(()=>!_.isEmpty(X)&&1===X.length,"Expected exactly one projection with the specified name.");var Y=X[0].expr,Q=X[0].name;r.Y.assert(()=>null!==Q,"Expected select name to be populated");var H=Y.getMetadata(B.options.schema);H&&H.kind!==M.L.Measure&&(!W||!W[Q])&&(G||(G=[],W={}),G.push(Y),W[Q]=!0)};for(var L of ne.all())k()}}r.Y.assertNonEmpty(G,"resolveMeasureFilter we are not supposed to have a filter with empty targets"),K=w.rewrite(K,A)}return{target:G,condition:K,annotations:R.annotations}}resolveExistsFilter(R){return r.Y.assertNonEmpty(R.target,"Exists filters must specify targets."),R}resolveSubqueryFilter(R){return{condition:R.condition,annotations:R.annotations}}getDefaultMeasureFilterTargetRoles(){return(this.options.dataRoles?this.options.dataRoles.filter(B=>B.kind===V.Ts.Grouping||B.kind===V.Ts.GroupingOrMeasure):[]).map(B=>B.name)}}class w extends T.k{constructor(R){super(),this.filterTargetRoles=R}static rewrite(R,B){r.Y.assertValue(R,"filterCondition"),r.Y.assertValue(B,"filterTargetRoles");var A=new w(B);return R.accept(A)}visitScopedEval(R){var B=_.filter(R.scope,A=>!(0,l.aV)(A)||_.includes(this.filterTargetRoles,A.role));return B.length===R.scope.length?R:new P.e6(R.expression,B)}}var I=e(664158),O=e(620455),x=3500;function j(F,R,B,A,W,G,K,q,ne){return new U(F,R,B,A,W,G,K,q)}class U{constructor(R,B,A,W,G,K,q,ne){this.eventBridge=R,this.visualPlugins=B,this.aggrOps=A,this.relationshipService=W,this.hostFilters=G,this.telemetryService=K,this.scriptVisuals=q,this.featureSwitchService=ne,r.Y.assertValue(this.eventBridge,"eventBridge"),r.Y.assertValue(this.visualPlugins,"visualPlugin"),r.Y.assertValue(this.aggrOps,"aggrOps"),r.Y.assertValue(this.relationshipService,"visualRelationship"),r.Y.assertValue(this.hostFilters,"hostFiltersService"),r.Y.assertValue(this.telemetryService,"telemetryService"),r.Y.assertValue(this.scriptVisuals,"scriptVisuals")}collectVisualContainerFilters(R,B,A){var W=new b(this.visualPlugins);W.collectFilters(A.filters,m.$d.Visual,A),B&&(W.collectFilters(B.filters,m.$d.Section),this.collectCrossFilter(W,B,A)),this.collectSelfFilter(W,A,null),R&&W.collectFilters(R.filters,m.$d.Exploration);var G=this.hostFilters.getSelectedHostFilters();return G&&W.collectFilters(G.filters,m.$d.Section),W.getCollectedFilters()}collectVisualContainerDrillFilters(R){var B=new b(this.visualPlugins),A=_.filter(R.filters,W=>(r.Y.assertValue(W,`collectVisualContainerDrillFilters: visualContainer with name ${R.name} contains blank value in .filters`),null!=W&&W.howCreated===g.GS.Drill));return B.collectFilters(A,m.$d.Visual,R),B.getCollectedFilters()}addVisualContainerFilters(R,B,A,W,G,K=!1){R.addCollectedFilters(this.collectVisualContainerFilters(B,A,W),!0,this.getShouldApplyFilter(W,G,A,K)),A&&(this.addHighlightFilter(R,A,W,G),this.addCrossDrillFilters(R,A,W,G))}calculateVisualContainerFilter(R,B,A,W,G=!1,K=!1){var q=new S.oI(A);this.addVisualContainerFilters(q,R,B,A,W,G);var ne=q.getFilters(K);return ne.queryRefsForSingleItemDrillFilters=h.M.getQueryRefsForSingleItemDrillFilters(A,W,this.aggrOps),ne}calculateDetailVisualFilter(R,B,A,W,G){var K=new S.oI(A);this.addVisualContainerFilters(K,R,B,A,W),G===g.NJ.Default&&(G=g.NJ.DataFilter);var q=K.getHighlightFilters();q&&(K.clearHighlightFilters(),K.mergeHighlightFiltersBasedOnRelationship(q,G));var ne=K.getFilters();return ne.queryRefsForSingleItemDrillFilters=h.M.getQueryRefsForSingleItemDrillFilters(A,W,this.aggrOps),ne}clearCrossHighlight(R,B,A){var W=this.clearCrossHighlightOperation(R);(0,y.EP)(this.eventBridge,W,a.vd.CrossHighlight,B,A)}clearCrossHighlightForVisualContainers(R,B,A,W){var G=this.clearCrossHighlightForVisualContainersOperation(R,B);(0,y.EP)(this.eventBridge,G,a.vd.CrossHighlight,A,W)}clearCrossHighlightForVisualContainersOperation(R,B){var A=R.crossFilterSource&&R.crossFilterSource.highlight;if(!_.isEmpty(A)){var W=_.chain(A).map(ne=>ne.sourceVisualContainer).filter(ne=>_.includes(B,ne)).valueOf(),G=[];for(var K of W){var q=this.setCrossHighlightOperation(null,null,R,t.v.Difference,K);G.push(...q||[])}return _.uniq(G)}}clearFiltersFromVisualContainers(R,B,A,W){var G=R&&R.crossFilterSource,K=G&&G.drill,q=G&&G.highlight,ne=[];if(!_.isEmpty(q)&&_.some(B,X=>_.some(q,Y=>X===Y.sourceVisualContainer))&&(ne=this.clearCrossHighlightOperation(R)),!_.isEmpty(K)){var k=this.clearCrossDrillFromVisualContainersOperation(R,B);ne=_.union(ne,k)}if(this.featureSwitchService.featureSwitches.applyAllSlicersButton){var L=[];_.forEach(B,X=>{var Y=(0,y.L7)(X),Q=(0,d._W)(Y,{objectName:"visualLink",propertyName:"type"},void 0);Q?.value===D.je&&L.push(X)}),ne=_.union(ne,L)}_.some(B,X=>this.supportsFilterOutput(X))?(0,y.EP)(this.eventBridge,R.visualContainers,A,void 0,W):_.isEmpty(ne)||(0,y.EP)(this.eventBridge,ne,A,void 0,W)}updateCrossHighlightCollectedFilters(R,B,A){var W=R&&R.crossFilterSource&&R.crossFilterSource.highlight;if(W){var G=_.find(W,K=>K.sourceVisualContainer===A);G&&!_.isEmpty(G.selection)&&(G.collectedFilters=this.collectVisualContainerFilters(B,R,A),(0,y.AD)(this.eventBridge,A))}}calculateFilterContainerInputFilter(R,B,A,W,G){if(A&&B&&G){var K;G.scopeType===m.$d.Visual&&(K=G.container);var q=new b(this.visualPlugins);if(R&&q.collectFiltersForFilterContainer(R.filters,m.$d.Exploration,A),G.scopeType===m.$d.Section){var ne=A.howCreated===g.GS.Drillthrough?_.filter(B.filters,L=>null!=L&&L.howCreated===g.GS.Drillthrough):B.filters;q.collectFiltersForFilterContainer(ne,m.$d.Section,A)}else G.scopeType!==m.$d.Exploration&&q.collectFiltersForFilterContainer(B.filters,m.$d.Section,A);this.collectSelfFilter(q,null,A),K&&(q.collectFiltersForFilterContainer(K.filters,m.$d.Visual,A,K),this.collectCrossFilter(q,B,K));var k=new S.oI(K,A);return k.addCollectedFilters(q.getCollectedFilters(),!1,this.getShouldApplyFilterContainerInputFilter(A,K,W,B)),k.getFilters()}}getVisualContainerCrossFilters(R,B,A){var W=new b(this.visualPlugins);this.collectCrossFilter(W,R,B);var G=new S.oI(B);return G.addCollectedFilters(W.getCollectedFilters(),!1,this.getShouldApplyFilter(B,A,R)),this.addHighlightFilter(G,R,B,A),this.addCrossDrillFilters(G,R,B,A),{dataFilters:G.getCrossFilters()||[],highlightFilters:G.getHighlightFilters()}}checkSelectionLimit(R,B,A,W){var G=this.countSelectedDataPoints(R,B,W),K=A.length;return{existingSelectionLength:G,newSelectionLength:K,allowed:!(G+K>x)}}logRFilterTelemetry(R,B,A,W){var G=(0,C.E3)(B,this.scriptVisuals);_.isEmpty(G)||this.telemetryService.logChildEvent(W&&W.event,R,{filterType:A,visualIds:JSON.stringify(G)})}setCrossHighlightOperation(R,B,A,W,G,K,q){var ne=this,k=A.crossFilterSource&&A.crossFilterSource.highlight,L=!1;if(G){L=!0,A.crossFilterSource||(A.crossFilterSource={highlight:[]}),A.crossFilterSource.highlight||(A.crossFilterSource.highlight=[]);var Y,X=A.crossFilterSource.highlight;W!==t.v.Difference&&W!==t.v.Union||!this.newAndPreviousSelectionsSupportMultiVisualSelection(G,X)?(A.crossFilterSource.highlight=X=[],Y=0):-1===(Y=_.findIndex(X,Te=>Te.sourceVisualContainer===G))&&(Y=X.length),null==B?(_.isEmpty(X)||((X=[...X||[]]).splice(Y,1),A.crossFilterSource.highlight=X),G=null):X[Y]={sourceVisualContainer:G,selection:B,selectorFilter:(0,o.sJ)(B),collectedFilters:_.isEmpty(B)?[]:this.collectVisualContainerFilters(R,A,G),filterExpressionMetadata:K},this.logRFilterTelemetry(i.NS,A,i.Vu.Highlight,q)}else k&&(L=!0,A.crossFilterSource.highlight=void 0);if(L){var Q=A.crossFilterSource&&A.crossFilterSource.highlight;if(!_.isEmpty(k)){var H=function(Te){-1===_.findIndex(Q,He=>He.sourceVisualContainer===Te.sourceVisualContainer)&&(0,y.iU)(ne.eventBridge,Te.sourceVisualContainer)};for(var te of k)H(te);var ee=function(Te){if(Te.sourceVisualContainer!==G&&-1===_.findIndex(Q,We=>We.sourceVisualContainer===Te.sourceVisualContainer))return G=null,1};for(var ue of k)if(ee(ue))break}return _.filter(A.visualContainers,Te=>Te!==G)}}newAndPreviousSelectionsSupportMultiVisualSelection(R,B){return r.Y.assertValue(B,"highlights"),!(!this.supportsMultiVisualSelection(R)||1===B.length&&!this.supportsMultiVisualSelection(B[0].sourceVisualContainer))}supportsMultiVisualSelection(R){var B=(0,y.p6)(R,this.visualPlugins);return B&&B.supportsMultiVisualSelection}clearCrossHighlightOperation(R){if(R.crossFilterSource&&R.crossFilterSource.highlight)return this.setCrossHighlightOperation(null,null,R)}clearCrossDrillFromVisualContainersOperation(R,B){if(!_.isEmpty(B)){var A=[];for(var W of B){var G=this.updateCrossDrillFromVisualContainerOperation(R,W,!0);A=_.union(A,G)}return A}}updateCrossDrillFromVisualContainerOperation(R,B,A){r.Y.assert(()=>A||_.includes(R.visualContainers,B),"sourceVisualContainer should be a VisualContainer of the given section.");var K,W=R.crossFilterSource&&R.crossFilterSource.drill,G=!1;if(!A){var q=this.collectVisualContainerDrillFilters(B);_.isEmpty(q)||(K={sourceVisualContainer:B,collectedFilters:q})}var ne=_.findIndex(W,k=>k.sourceVisualContainer===B);if(ne>=0?(G=!0,K?W[ne]=K:W.splice(ne,1)):K&&(G=!0,R.crossFilterSource||(R.crossFilterSource={}),(R.crossFilterSource.drill||(R.crossFilterSource.drill=[])).push(K)),G)return _.filter(R.visualContainers,k=>k!==B)}collectSelfFilter(R,B,A){var W;if(r.Y.assertValue(R,"collector"),B){if(W=this.getFilterFromFilterPropertyInVisualContainer(B,ne=>this.tryGetSelfFilterProperty(ne))){var K=p.b0.clone(W);K.setIgnoreMParameter(),R.collectFilter(K,null,B,m.$d.Visual,E.x.Self)}}else if(W=this.getFilterFromFilterPropertyInFilterContainer(A,ne=>this.tryGetSelfFilterProperty(ne))){var q=p.b0.clone(W);q.setIgnoreMParameter(),R.collectFilter(q,A,null,m.$d.Visual,E.x.Self)}}collectCrossFilter(R,B,A){for(var W of(r.Y.assertValue(R,"collector"),r.Y.assertValue(B,"section"),r.Y.assertValue(A,"targetVisualContainer"),B.visualContainers))if(W!==A){var G=this.getFilterFromFilterPropertyInVisualContainer(W,(K,q)=>this.tryGetFilterPropertyIdentifier(K,q));G&&R.collectFilter(G,null,W,m.$d.Visual,E.x.Slicer)}}getFilterFromFilterPropertyUtil(R,B,A){var W=A(R,B&&B.visualType);if(W){var G=B.objects;if(G)return(0,d._W)(G,W,null)}}getFilterFromFilterPropertyInVisualContainer(R,B){r.Y.assertValue(R,"visualContainer must be defined"),r.Y.assertValue(B,"getFilterPropertyIdentifierFunc must be defined");var A=(0,y.p6)(R,this.visualPlugins);return this.getFilterFromFilterPropertyUtil(A,R.config&&R.config.singleVisual,B)}getFilterFromFilterPropertyInFilterContainer(R,B){r.Y.assertValue(R,"visualContainer must be defined"),r.Y.assertValue(B,"getFilterPropertyIdentifierFunc must be defined");var A=(0,y.tb)(R,this.visualPlugins);return this.getFilterFromFilterPropertyUtil(A,R.config&&R.config.singleVisual,B)}addHighlightFilter(R,B,A,W){var G=B.crossFilterSource&&B.crossFilterSource.highlight;if(!_.isEmpty(G)&&(0,f.d)(A)!==O.U.slicer)for(var K of G)if(K.sourceVisualContainer!==A){var q=this.buildHighlightFiltersForRelatedTargets(K,W,B);if(q){var ne=this.relationshipService.relationshipFilterAction(B,K.sourceVisualContainer,A,W,!1),k=(0,y.p6)(A,this.visualPlugins);ne===g.NJ.Default&&(ne=this.relationshipService.defaultFilterAction(K.sourceVisualContainer,A)),R.mergeHighlightFiltersBasedOnRelationship(q,ne,!k.supportsHighlight)}}}addCrossDrillFilters(R,B,A,W){var G=B.crossFilterSource&&B.crossFilterSource.drill;if(!_.isEmpty(G)){var K=[];for(var q of G){var ne=q.sourceVisualContainer;if(this.relationshipService.shouldApplyCrossDrill(B,ne,A,W)){var L=new S.oI(ne);L.addCollectedFilters(q.collectedFilters,!1,this.getShouldApplyDrillCrossFilter(ne,W,B));var X=L.getUnmergedDrillCrossFilter();if(X){var Y=function(H){R.addCrossFilter(H);var te=_.find(q.collectedFilters,ee=>ee.filter===H.filter);r.Y.assertValue(te,"There should be a matching CollectedFilter from the source for the applied cross filter on the target."),te&&K.push(te.filterContainer)};for(var Q of X)Y(Q)}}}return K}}buildHighlightFiltersForRelatedTargets(R,B,A){var W=new S.oI(R.sourceVisualContainer);return R.selectorFilter&&W.setSelectorFilter({filter:R.selectorFilter,filterExpressionMetadata:R.filterExpressionMetadata,type:v.RJ.Include}),W.addCollectedFilters(R.collectedFilters,!1,this.getShouldApplyHighlightFilter(R.sourceVisualContainer,B,A)),W.getCrossHighlightFilters()}getShouldApplyFilterContainerInputFilter(R,B,A,W){return(G,K,q)=>this.shouldApplyFilterContainerInputFilter(G,K,q,R,B,A,W)}shouldApplyFilterContainerInputFilter(R,B,A,W,G,K,q){if(r.Y.assertValue(R,"filter"),B===W)return!0;if(!this.shouldApplyFilter(R,B,A,G,K,q))return!1;var ne=B&&B.expression;return!(ne&&(0,I.t)(ne)||_.some(R.conditions(),k=>(0,c.m)(k)===s.l0.Subquery))}getShouldApplyHighlightFilter(R,B,A){return(W,G,K)=>this.shouldApplyHighlightFilter(W,G,K,R,B,A)}getShouldApplyDrillCrossFilter(R,B,A){return(W,G,K)=>this.shouldApplyDrillCrossFilter(W,G,K,R,B,A)}shouldApplyHighlightFilter(R,B,A,W,G,K){return!(!this.shouldApplyFilter(R,B,A,W,G,K)||_.some(R.conditions(),q=>(0,c.m)(q)===s.l0.Measure))}shouldApplyDrillCrossFilter(R,B,A,W,G,K){return!(!this.shouldApplyFilterForCrossDrill(R,B,A,W,G,K)||_.some(R.conditions(),q=>(0,c.m)(q)===s.l0.Measure))}getShouldApplyFilter(R,B,A,W=!1){return(G,K,q)=>this.shouldApplyFilter(G,K,q,R,B,A,W)}shouldApplyFilter(R,B,A,W,G,K,q=!1){return this.shouldApplyFilterInternal(R,B,A,W,G,K,q?()=>g.NJ.DataFilter:(k,L,X,Y,Q)=>this.relationshipService.relationshipFilterAction(k,L,X,Y,Q))}shouldApplyFilterForCrossDrill(R,B,A,W,G,K){return this.shouldApplyFilterInternal(R,B,A,W,G,K,(ne,k,L,X,Y)=>this.relationshipService.drillRelationshipFilterAction(ne,k,L,X))}shouldApplyFilterInternal(R,B,A,W,G,K,q){if(r.Y.assertValue(R,"filter"),_.some(R.where(),Q=>Q&&(0,l.q_)(Q.condition))||B&&h.M.shouldDisableFilter(B,G,A,this.aggrOps,this.visualPlugins)||!_.isEmpty(R.validate(G,this.aggrOps))&&(!A||A!==W))return!1;if(A&&W&&A!==W){var ne=W.config?.singleVisual?.query?.projections;if(q(K,A,W,G,u.B.isFilterForFieldParameter(ne,R,G))===g.NJ.NoFilter)return!1;var X=A.config.singleVisual.syncGroup,Y=W.config.singleVisual.syncGroup;if(X&&Y&&X.groupName===Y.groupName)return!1}return!0}countSelectedDataPoints(R,B,A){r.Y.assertAnyValue(R,"sourceVisualContainer"),r.Y.assertValue(B,"section");var W=B.crossFilterSource?.highlight;return A?_.chain(W).reduce((G,K)=>G+(K.sourceVisualContainer!==R?K.selection.length:0),0).value():0}setMultipleFiltersOnSelectData(R,B,A,W,G){var K=this.clearCrossHighlightOperation(B);for(var q of A)K=_.union(K,this.setCrossHighlightOperation(R,q.selection,B,t.v.Difference,q.sourceVisualContainer,q.filterExpressionMetadata));(0,y.EP)(this.eventBridge,K,a.vd.CrossHighlight,W,G)}setFilterOnSelectData(R,B,A,W,G,K,q,ne){if(this.supportsFilterOutput(W))this.logRFilterTelemetry(i.NS,A,i.Vu.Data,G);else{var k=this.setCrossHighlightOperation(R,B,A,q,W,ne,G);(0,y.EP)(this.eventBridge,k,a.vd.CrossHighlight,G,K)}}updateCrossFilterOnDrill(R,B,A){var W=this.updateCrossDrillFromVisualContainerOperation(R,B,!1);(0,y.EP)(this.eventBridge,W,void 0,void 0,A)}updateCrossDrillFromVisualContainers(R,B){var A=this.updateCrossDrillFromVisualContainersOperation(R,B);(0,y.EP)(this.eventBridge,A)}updateCrossDrillFromVisualContainersOperation(R,B){if(!_.isEmpty(B)){var A=[];for(var W of B){var G=this.updateCrossDrillFromVisualContainerOperation(R,W,!1);A=_.union(A,G)}return A}}updateCrossDrillOfSection(R){var B=this.updateCrossDrillOfSectionOperation(R);(0,y.EP)(this.eventBridge,B)}updateCrossDrillOfSectionOperation(R){return this.updateCrossDrillFromVisualContainersOperation(R,R.visualContainers)}getDrillCrossFiltersToApply(R,B,A){var W=new S.oI(B);return this.addCrossDrillFilters(W,R,B,A)}supportsFilterOutput(R){return h.M.supportsFilterOutput((0,y.p6)(R,this.visualPlugins))}tryGetFilterPropertyIdentifier(R,B){return h.M.tryGetFilterPropertyIdentifier(R,B,this.visualPlugins)}tryGetSelfFilterEnabledProperty(R){if(R)return(0,n.df)(R.objects)}tryGetSelfFilterProperty(R){if(R)return(0,n.Es)(R.objects)}resolveFilterTargets(R,B,A,W,G){if(!p.DC.willFiltersAffectQuery(B.defn))return B.defn;var K={dataRoles:A,mappings:W,queryProjections:B.projections,select:B.defn.select(),schema:R},q=new N(K),ne=B.defn;return G&&(ne=ne.addSemanticFilter(G)),q.resolveSemanticQuery(ne)}applyFilterOutput(R){this.supportsFilterOutput(R)&&(0,y.AD)(this.eventBridge,R)}}},255556:function(ve,z,e){e.d(z,{oI:function(){return M},XF:function(){return b},gk:function(){return f}});var a=e(690332),i=e(579260),r=e(18122),t=e(258480),o=e(98138),d=e(73646),n=e(400895),s=function(P){return P[P.Root=0]="Root",P[P.LeftOfIn=1]="LeftOfIn",P}({});class p extends d.Li{constructor(){super(),this.fieldsBeingFiltered=[]}visitCondition(T){return T.accept(this,s.Root)}visitIn(T,N){if(N!==s.Root||!T.args)return!1;for(var w of T.args)if(!w.accept(this,s.LeftOfIn))return!1;return!(!T.values||T.table)}visitColumnRef(T,N){return N===s.LeftOfIn&&(this.fieldsBeingFiltered.push(T),!0)}}var l=e(989917),u=e(960179),v=e(576086),m=e(339521),g=e(850990),E=e(387797),D=e(910058),h=e(448724);function y(P){if(_.isEmpty(P))return!1;for(var T of P)if(_.some(T.filter.where(),N=>(0,D.m)(N.condition)===h.l0.Subquery))return!0;return!1}function f(P,T,N,w,I,O,x){r.Y.assert(()=>!!P||N.type===l.RJ.VisualTopN,"Filter required");var j={filter:P,scope:T,filterExpressionMetadata:x};if(N)j.restatement=N.restatement,j.type=N.type,j.isHidden=!!N.isHiddenInViewMode,j.filterExpressionMetadata=N.expression?{expressions:[N.expression]}:void 0,j.displayName=N.displayName,N.cachedValueItems&&j.filterExpressionMetadata?j.filterExpressionMetadata.cachedValueItems=V(N.cachedValueItems,0):N.filterExpressionMetadata&&(j.filterExpressionMetadata=N.filterExpressionMetadata);else if(w&&g.M.supportsFilterOutput(I)&&w.config.singleVisual.query){var U=w.config.singleVisual.query.defn.select(),F=w.config.singleVisual.cachedFilterDisplayItems,R=w.config.singleVisual.filterExpressionMetadata;if(r.Y.assert(()=>null==F||null==R,"We should not have both caches defined at the same time"),U.length>=1&&F&&O===m.x.Slicer)j.filterExpressionMetadata={expressions:[U[0].expr],cachedValueItems:V(F,0)};else if(R)j.filterExpressionMetadata=R;else for(var B of(j.filterExpressionMetadata={expressions:[]},U))j.filterExpressionMetadata.expressions.push(B.expr)}return j}function S(P){if(null!=P){var T={Restatement:P.restatement,type:P.type};return P.expression&&(T.expression=a.F3.serializeExpr(P.expression)),T}}function b(P){if(!_.isEmpty(P)){var T=[];for(var N of P)T.push(S(N));return T}}function V(P,T){var N=[];for(var w of P){var I={identities:[w.identity],valueMap:{}};I.valueMap[T]=w.displayName,N.push(I)}return N}class M{constructor(T,N){if(this.visualContainer=T,this.filterContainer=N,T){var w=(0,E.NU)(T);w&&(this.visualSemanticQuery=w.defn)}this.needToEnsurePrecedence=!1,this.shouldPruneUnnecessaryFilters=!1}setSelectorFilter(T){r.Y.assertValue(T,"filter"),r.Y.assert(()=>!this.selectorFilter,"should not call setSelectorFilter twice"),this.selectorFilter=T,this.shouldPruneUnnecessaryFilters=!0}addDrillFilter(T){r.Y.assertValue(T,"filter"),this.drillFilters=this.drillFilters||[],this.drillFilters.push(T)}addVisualFilter(T){r.Y.assertValue(T,"filter"),this.visualSemanticQuery&&(T.filter=(0,t.m4)(T.filter,this.visualSemanticQuery)),this.visualFilters=this.visualFilters||[],this.visualFilters.push(T),this.needToEnsurePrecedence=!0,this.shouldPruneUnnecessaryFilters=!0}addVisualTopNFilter(T){r.Y.assertValue(T,"filter"),r.Y.assert(()=>void 0===this.visualTopNFilter,"visualTopNFilter"),this.visualTopNFilter=T}addDrillthroughFilter(T){r.Y.assertValue(T,"filter"),this.drillthroughFilters=this.drillthroughFilters||[],this.drillthroughFilters.push(T),this.needToEnsurePrecedence=!0}addSectionFilter(T){r.Y.assertValue(T,"filter"),this.sectionFilters=this.sectionFilters||[],this.sectionFilters.push(T),this.needToEnsurePrecedence=!0}addReportFilter(T){r.Y.assertValue(T,"filter"),this.reportFilters=this.reportFilters||[],this.reportFilters.push(T),this.needToEnsurePrecedence=!0}addCrossFilter(T){r.Y.assertValue(T,"filter"),this.crossFilters=this.crossFilters||[],this.crossFilters.push(T),this.needToEnsurePrecedence=!0}addHighlight(T){r.Y.assertValue(T,"highlightFilter"),this.highlightFilters=this.highlightFilters||[],this.highlightFilters.push(T)}addCollectedFilters(T,N,w){for(var I of(r.Y.assertValue(T,"collectedFilters"),T)){var O=I.filter,x=I.filterContainer,j=I.sourceVisualContainer;if(x?.type===l.RJ.VisualTopN){var U=f(O,I.scopeType,x,j,I.sourceVisualContainerCapabilities,I.collectedFilterSource);this.addVisualTopNFilter(U)}if(!w||w(O,x,j)){var F=x;I.filterContainer&&I.filterContainer===this.filterContainer&&(F=null);var R=f(O,I.scopeType,F,j,I.sourceVisualContainerCapabilities,I.collectedFilterSource);!x||x.howCreated!==v.GS.Drill&&x.precedence!==v.NH.Drill?I.sourceVisualContainer?I.sourceVisualContainer===this.visualContainer?this.addVisualFilter(R):this.addCrossFilter(R):x.howCreated===v.GS.Drillthrough?this.addDrillthroughFilter(R):I.scopeType===u.$d.Section?this.addSectionFilter(R):I.scopeType===u.$d.Exploration?this.addReportFilter(R):I.filterContainer&&I.filterContainer===this.filterContainer&&this.addVisualFilter(R):this.addDrillFilter(R),N&&x&&(this.metadata=this.metadata||[],this.metadata.push(S(x)))}}}mergeHighlightFiltersBasedOnRelationship(T,N,w){switch(N){case v.NJ.Default:r.Y.assertFail("VisualRelationshipFilterAction.Default should not be passed here. Default should be evaluated already.");case v.NJ.HighlightFilter:if(!w){_.each(T,I=>this.addHighlight(I));break}case v.NJ.DataFilter:T&&_.each(T,I=>this.addCrossFilter(I));break;case v.NJ.NoFilter:break;default:r.Y.assertFail("Unknown visual relationship filter action")}}getFilters(T){var N=this.getFilterData(T),w=this.highlightFilters&&t.b0.merge(this.highlightFilters.map(I=>I.filter));return{dataFilter:N?t.b0.merge(_.map(N,I=>I.filter)):void 0,dataFiltersUnmerged:this.visualTopNFilter?(N||[]).concat(this.visualTopNFilter):N,highlightFilter:w,highlightFiltersUnmerged:this.highlightFilters,filterMetadata:this.metadata}}getFilterData(T){if(r.Y.assert(()=>!this.selectorFilter,"selectorFilter should only be set when building a cross-highlight filter"),this.pruneUnnecessaryFilters(),T||this.ensurePrecedence(),this.drillFilters||this.sectionFilters||this.reportFilters||this.visualFilters||this.crossFilters||this.drillthroughFilters){var I=this.sectionFilters||[],O=this.drillthroughFilters||[],x=this.reportFilters||[],j=this.crossFilters||[];return(this.drillFilters||[]).concat(this.visualFilters||[]).concat(j).concat(I).concat(O).concat(x)}}getCrossHighlightFilters(){if(this.pruneUnnecessaryFilters(),this.ensurePrecedence(),this.selectorFilter||this.visualFilters)return(this.selectorFilter?[this.selectorFilter]:[]).concat(this.visualFilters||[])}getHighlightFilters(){return this.highlightFilters}clearHighlightFilters(){this.highlightFilters=void 0}getUnmergedDrillCrossFilter(){return this.pruneUnnecessaryFilters(),this.ensurePrecedence(),this.drillFilters}getCrossFilters(){return this.crossFilters}ensurePrecedence(){this.needToEnsurePrecedence&&(this.visualFilters&&(this.visualFilters=function(P){if(r.Y.assertValue(P,"filterScope"),r.Y.assert(()=>!y(P.sectionFilters),"Page filters are not expected to have the subqueries."),r.Y.assert(()=>!y(P.reportFilters),"Report filters are not expected to have the subqueries."),_.isEmpty(P.visualFilters))return P.visualFilters;var T=!1,N=[];for(var w of P.visualFilters){var O=w.filter.where().filter(R=>(0,D.m)(R.condition)===h.l0.Column);T=T||y([w]),N.push(...O.map(R=>t.b0.fromSQExpr(R.condition)))}if(!T)return P.visualFilters;var x=[];for(var j of P.visualFilters){var U=j;if(y([j])){var F=j.filter;_.isEmpty(N)||(F=(0,t.Aj)(F,N)),_.isEmpty(P.crossFilters)||(F=(0,t.Aj)(F,P.crossFilters.map(R=>R.filter))),_.isEmpty(P.sectionFilters)||(F=(0,t.Aj)(F,P.sectionFilters.map(R=>R.filter))),_.isEmpty(P.drillThroughFilters)||(F=(0,t.Aj)(F,P.drillThroughFilters.map(R=>R.filter))),_.isEmpty(P.reportFilters)||(F=(0,t.Aj)(F,P.reportFilters.map(R=>R.filter))),U={filter:F}}x.push(U)}return x}({visualFilters:this.visualFilters,crossFilters:this.crossFilters,reportFilters:this.reportFilters,drillThroughFilters:this.drillthroughFilters,sectionFilters:this.sectionFilters})),this.needToEnsurePrecedence=!1)}pruneUnnecessaryFilters(){this.shouldPruneUnnecessaryFilters&&(this.visualFilters&&this.selectorFilter&&this.visualFilters&&this.selectorFilter&&(this.visualFilters=(0,i._u)(this.visualFilters,(T,N)=>(T.filter=function(P,T){if(!T||!P)return P;var N=T.conditions();if(!N||1!==N.length)return P;var w=new p;if(!w.visitCondition(N[0]))return P;for(var j,I=w.fieldsBeingFiltered,O=P.from(),x=P.where(),U=function(){var B=x[F],A=(0,n.c$)(B,O);A&&_.find(I,W=>(0,o.aI)(A.fieldBeingFiltered,W))?j||(j=_.take(x,F)):j&&j.push(B)},F=0,R=x.length;F<R;F++)U();return j?t.b0.fromSQFromAndSQFilters(O,j):P}(T.filter,this.selectorFilter.filter),T.filter.where().length>0))),this.shouldPruneUnnecessaryFilters=!1)}}},502187:function(ve,z,e){e.d(z,{O8:function(){return g},iM:function(){return u},tQ:function(){return D}});var a=e(620825),i=e(18122),r=e(999904),t=e(364145),o=e(11733),d=e(919601),n=e(71712),c=e(483378),s=function(h){return h.group="group",h.visualContainer="visualContainer",h}({});function p(h){return h.canvasItemType===s.visualContainer}function l(h){return h.canvasItemType===s.group}function u(h,C,y,f){var S=c.qN.getSelectedCanvasItem(h);if(S){if((0,n.iA)(S)){var b=S,V=b.config.singleVisual.visualType;if(C.isCustomVisual(V))return;var M=b.config.singleVisual,P=M.vcObjects,T=(0,r._W)(P,{objectName:"stylePreset",propertyName:"name"},void 0),N=f.getVisualObjects(y,V,T&&(0,a.VO)(T)&&T.value,o.Xe);return N&&(P=(0,r.o8)(P||{}),(0,r.X$)(P,N,!0)),{canvasItemType:s.visualContainer,visualType:M.visualType,objects:M.objects,vcObjects:P}}return{canvasItemType:s.group,objects:S.objects}}}var v=o.Xe,m=d.Cq;function g(h,C,y){var f=c.qN.getSelectedCanvasItem(h);if(f&&y){if((0,n.iA)(f)){if(p(y))E(C,y,f);else if(l(y)){var S=f.config.singleVisual;S.vcObjects=D(v,m,y.objects,S.objects)}}else p(y)?(0,n.Uu)([f],b=>{(0,n.iA)(b)&&E(C,y,b)}):l(y)&&(f.objects=D(m,m,y.objects,f.objects));return f}}function E(h,C,y){var f=y.config.singleVisual,S=h.capabilities(f.visualType),b=h.capabilities(C.visualType);S&&b&&(f.objects=D(S.objects,b.objects,C.objects,f.objects)),f.vcObjects=D(v,v,C.vcObjects,f.vcObjects)}function D(h,C,y,f){if(i.Y.assertValue(h,"formatPainter.copyFormatObjects - sourceDescriptors should exist"),i.Y.assertValue(C,"formatPainter.copyFormatObjects - destinationDescriptors should exist"),i.Y.assertAnyValue(y,"formatPainter.copyFormatObjects - sourceObjects can be undefined"),i.Y.assertAnyValue(f,"formatPainter.copyFormatObjects - destinationObjects can be undefined"),y===f)return f;for(var S in f=f||{},h){var b=h[S],V=C[S];if(V&&!b.suppressFormatPainterCopy&&!V.suppressFormatPainterCopy){var M=y&&y[S],P=f&&f[S];for(var T in b.properties){var N=b.properties[T],w=V.properties[T];if(w&&!N.suppressFormatPainterCopy&&!w.suppressFormatPainterCopy&&_.isEqual(N.type,w.type)){if(P)for(var I of P)(0,t.hv)(I,T);if(M)for(var O of M)O.properties[T]&&((0,r.D8)(f,S,O.selector).properties[T]=O.properties[T])}}}}return(0,r.TS)(f)}},924625:function(ve,z,e){e.d(z,{D:function(){return u}});var a=e(233390),i=e(44896),r=e(961842),t=e(441877),o=e(858807),d=e(930845),n=e(354827),c=e(413399),s=e(690966),p=e(700280),l="apr_error_notification_bar";function u(g,E,D,h,C,y,f,S,b,V,M,P){return new m(g,E,D,h,C,y,f,S,b,V,M,P)}var v={autoRefreshEnabled:!0,refreshIntervalSeconds:1};class m{constructor(E,D,h,C,y,f,S,b,V,M,P,T){this.telemetryService=E,this.eventBridge=D,this.explorationNavigation=h,this.dataSourcesService=C,this.conceptualSchemaProxy=y,this.globalEventBridge=f,this.visualTimeSynchronizationService=S,this.notificationBarService=b,this.localizationService=V,this.errorService=M,this.reportRefreshCacheService=P,this.reportRefreshConfigProxy=T,this.visualsLoaded=!1,this.timerExpired=!1,this.isRunning=!1,this.refreshDelayedCount=0,this.refreshPaused=!1,this.subscriptionManager=D.createChannelSubscriptionManager()}subscribeEvents(){null==this.subscriptionManager&&(this.subscriptionManager=this.eventBridge.createChannelSubscriptionManager()),this.subscriptionManager.subscribe(p.eMv,()=>this.onSectionChanged()).subscribe(t.gE,()=>this.onVisualsLoaded()).subscribe(p.dor,()=>this.onSectionsObjectsEvaluated()).subscribe(p.AyK,()=>this.onModelChanged())}init(E=!0){var D=this;return(0,a.A)(function*(){D.triggerNotifications=E,yield D.loadPageSettings(),yield D.updateRefreshState(),D.subscribeEvents()})()}destroy(){this.stopRefresh(),this.subscriptionManager?.unsubscribeAll(),this.subscriptionManager=void 0}refreshData(){this.reportRefreshCacheService.tryClearDSRCache()&&this.eventBridge.publishToChannel(p.wl,{affectContainer:()=>!0})}setRefreshPaused(E){this.refreshPaused=E}getRefreshStats(){return{adminConfig:this.adminConfig,effectiveRefreshInterval:this.effectiveRefreshInterval,lastRefreshTimestamp:this.lastUpdateDate?this.lastUpdateDate.toLocaleTimeString():void 0}}loadAdminSettings(){var E=this;return(0,a.A)(function*(){if(yield E.isPageRefreshSupported()){if(!E.reportRefreshConfigProxy)return void(E.adminConfig=v);var D=E.explorationNavigation.getCurrentExploration()?.report?.modelId;try{E.adminConfig=yield E.reportRefreshConfigProxy.getAPRConfig(D)}catch(h){return E.telemetryService.logEvent(c.dR,{modelId:D}),E.sendNotification(E.localizationService.get("AutoPageRefresh_Error_GetAdminConfigErrorTryAgain"),!0,h,"FailedToGetAPRAdminConfig"),void(E.adminConfig=void 0)}E.adminConfig?E.adminConfig.autoRefreshEnabled||E.sendNotification(E.localizationService.get("AutoPageRefresh_Error_AdminDisabled")):E.sendNotification(E.localizationService.get("AutoPageRefresh_Error_GetAdminConfigErrorTryAgain"),!0)}})()}loadPageSettings(){var E=this;return(0,a.A)(function*(){var D,h=E.explorationNavigation.getCurrentSection();if(yield E.isAPREnabledInSection(h)){D=E.refreshIntervalInMilliseconds;var C=(0,s.sk)(h.evaluatedObjects.pageRefresh.duration||d.s4);E.refreshIntervalInMilliseconds=(0,s.DE)(C)}else E.refreshIntervalInMilliseconds=void 0;return E.refreshIntervalInMilliseconds!==D})()}onSectionsObjectsEvaluated(){var E=this;return(0,a.A)(function*(){var D=yield E.loadPageSettings();E.refreshIntervalInMilliseconds&&D?E.updateRefreshState():!E.refreshIntervalInMilliseconds&&E.isRunning&&E.stopRefresh()})()}onModelChanged(){var E=this;return(0,a.A)(function*(){var D=yield E.getRefreshInterval();D&&!E.isRunning?E.updateRefreshState():!D&&E.isRunning&&E.stopRefresh()})()}getRefreshInterval(){var E=this;return(0,a.A)(function*(){if(!(yield E.isPageRefreshSupported()))return null;if(E.refreshIntervalInMilliseconds&&E.adminConfig&&E.adminConfig.autoRefreshEnabled){var D=_.max([E.refreshIntervalInMilliseconds,1e3*E.adminConfig.refreshIntervalSeconds]);return _.min([o.HaT,D])}})()}isPageRefreshSupported(){var E=this;return(0,a.A)(function*(){var D;try{D=yield E.conceptualSchemaProxy.get(E.dataSourcesService.get())}catch{return!1}return _.some(D.schemas,h=>h.capabilities&&h.capabilities.supportsFastRefresh)})()}updateRefreshState(){var E=this;return(0,a.A)(function*(){E.stopRefresh(),E.isRunning=!0,!E.adminConfig&&null!=E.refreshIntervalInMilliseconds&&(yield E.loadAdminSettings());var D=yield E.getRefreshInterval();null!=D?E.runTimer(D):E.isRunning=!1})()}triggerRefreshUponSectionChange(){var E=this;return(0,a.A)(function*(){var D=E.explorationNavigation.getCurrentSection();(yield E.isAPREnabledInSection(D))&&E.triggerRefresh()})()}onSectionChanged(){var E=this;return(0,a.A)(function*(){yield E.triggerRefreshUponSectionChange(),E.lastUpdateDate=void 0,yield E.loadPageSettings(),yield E.updateRefreshState()})()}onVisualsLoaded(){this.visualsLoaded=!0,this.timerExpired&&this.isRunning&&this.onTimerExpired()}stopRefresh(){this.nextUpdateDate=void 0,this.isRunning=!1,this.timerExpired=!1,this.clearTimeoutAndAnimationFrame(),this.notifyReportRefreshStateChanged(),this.notificationBarService.hide(l)}clearTimeoutAndAnimationFrame(){clearTimeout(this.timeoutId),this.timeoutId=void 0,cancelAnimationFrame(this.animationFrameId),this.animationFrameId=void 0}runTimer(E){this.clearTimeoutAndAnimationFrame(),this.nextUpdateDate=new Date(Date.now()+E),this.notifyReportRefreshStateChanged(),this.timeoutId=window.setTimeout(()=>{this.timeoutId=void 0,this.animationFrameId=requestAnimationFrame(()=>{this.animationFrameId=void 0,this.onTimerTriggered()})},E)}onTimerTriggered(){var E=this;return(0,a.A)(function*(){E.timerExpired=!0,E.visualsLoaded?E.onTimerExpired():E.refreshDelayedCount+=1,yield E.loadAdminSettings();var D=yield E.getRefreshInterval();null!=D?E.runTimer(D):E.stopRefresh()})()}triggerRefresh(){var E=this.explorationNavigation.getCurrentSection();this.reportRefreshCacheService.clearClientCache(E),this.visualTimeSynchronizationService.setAnchorTimeToNow(),this.eventBridge.publishToChannel(p.bpI)}calculateEffectiveInterval(){this.effectiveRefreshInterval=this.lastUpdateDate?(new Date).getTime()-this.lastUpdateDate.getTime():void 0}onTimerExpired(){this.refreshPaused||(this.logTriggerRefresh(this.refreshDelayedCount),this.calculateEffectiveInterval(),this.lastUpdateDate=new Date,this.triggerRefresh(),this.timerExpired=!1,this.visualsLoaded=!1,this.refreshDelayedCount=0,this.notifyReportRefreshStateChanged())}logTriggerRefresh(E){var D=this;return(0,a.A)(function*(){var h=D.explorationNavigation.getCurrentSection(),C=D.explorationNavigation.getCurrentExploration().report,y=D.explorationNavigation.getExplorationTelemetryData(),f="",S=-1,b="",V="-1",M="-1";if(C&&C.model){var P=C.model;f=P.dbName,b=C.objectId,S=P.id}var T=h.objectId,N=yield D.getRefreshInterval();y&&(V=y.exid,M=y.exsid),D.telemetryService.logEvent(r.Iq,{reportId:b,pageId:T,dbName:f,modelId:S,interval:N,delayCount:E,exid:V,exsid:M})})()}notifyReportRefreshStateChanged(){if(this.triggerNotifications){var E,D=this.explorationNavigation.getCurrentExploration().report;D&&(E=D.objectId),this.globalEventBridge.publishToChannel(t.No,{reportId:E,nextUpdateDate:this.nextUpdateDate,lastUpdateDate:this.lastUpdateDate})}}sendNotification(E,D=!1,h,C){var y={id:l,message:E,notificationType:i.Ho.Error,actions:[]};h&&(y.secondaryLink={action:()=>{this.errorService.error(E,C,{requestId:h.requestId,statusCode:h.status&&h.status.toString()})},displayText:this.localizationService.get("Generic_ShowDetails")}),D&&y.actions.push({action:()=>{this.notificationBarService.hide(l),this.updateRefreshState()},displayText:this.localizationService.get("TryAgain")}),this.notificationBarService.notify(y)}isAPREnabledInSection(E){var D=this;return(0,a.A)(function*(){return!!(yield D.isPageRefreshSupported())&&E&&E.evaluatedObjects&&E.evaluatedObjects.pageRefresh&&E.evaluatedObjects.pageRefresh.show&&(null==E.evaluatedObjects.pageRefresh.refreshType||E.evaluatedObjects.pageRefresh.refreshType===n.uR)})()}}},887873:function(ve,z,e){e.d(z,{H:function(){return i}});var a=e(18122);function i(){return new r}class r{constructor(){this.runningVisuals={}}getVisual(o){a.Y.assertValue(o&&o.name,"contract");var d=this.runningVisuals[o.name];if(null!=d&&d.contract===o)return d.visual}setVisual(o,d){a.Y.assertValue(o&&o.name,"contract"),a.Y.assertValue(d,"visual"),this.runningVisuals[o.name]={contract:o,visual:d}}removeVisual(o){a.Y.assertValue(o&&o.name,"contract"),delete this.runningVisuals[o.name]}}},343678:function(ve,z,e){e.d(z,{k:function(){return n}});var a=e(960179),i=e(428515),r=e(18122),t=e(155281),o=e(534608),d=e(408509);function n(s,p,l,u,v,m){return new c(s,p,l,u,v,m)}class c{constructor(p,l,u,v,m,g){r.Y.assertValue(p,"visualPluginService"),r.Y.assertValue(l,"featureSwitchService"),r.Y.assertValue(u,"localizationService"),r.Y.assertAnyValue(v,"userInfo"),r.Y.assertValue(g,"licenseEnforcementServiceExtend"),this.services={visualPlugin:p,featureSwitchService:l,localizationService:u,userInfo:v,embedModeService:m,licenseServiceExtend:g}}addScriptVisualInfo(p,l){var u=(0,d.d)(p);if(this.services.visualPlugin.isScriptVisual(u)&&p.id){var v={id:p.id,scriptType:(0,o.Yp)(u)};l.push(v)}}showEnableScriptVisualDialogIfRequiredAsync(p,l,u){return r.Y.assertFail("Function not implemented for Service - users don't need to approve script visuals on the service"),null}getScriptVisualErrorDetails(p,l){var u,v=this.services.localizationService,m=this.services.featureSwitchService.featureSwitches;if(p!==a.wY.RScript||m.scriptVisualEnabled){if(this.services.embedModeService&&this.services.embedModeService.isAnonymousLiveEmbed())return m.scriptVisualAnonymousEmbeddingEnabled||(u=this.buildErrorDetails(v.get(this.getLocalizationKey("Error_VisualsNotSupportedInEmbedReports",p)))),u;var D=this.getUserInfoForErrorDetails();if(D&&D.isViralTenant)u=this.buildErrorDetails(v.get(this.getLocalizationKey("Error_VisualsNotSupportedForViralTenant",p)));else if(!1===m.rScriptVisualEnabled)u=this.buildErrorDetails(v.get(this.getLocalizationKey("Error_VisualsDisabledByAdmin",p)));else{var h=!1,C=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!C&&(h=l&&this.services.licenseServiceExtend.isReportInPremiumCapacity(l)),D&&!1===D.isPremiumUser&&!h?u=this.buildErrorDetails(v.get(this.getLocalizationKey("Error_VisualsIsProFeature",p))):D&&void 0===D.isPremiumUser&&void 0===D.isViralTenant&&void 0===l&&(u=this.buildErrorDetails(v.get(this.getLocalizationKey("Error_VisualsNotSupportedWithThisOperation",p))))}}else u=this.buildErrorDetails(v.get(this.getLocalizationKey("Error_VisualsNotSupported",p)));return u}overrideEmbeddedErrorDetails(p,l){var u=this.services.embedModeService&&(this.services.embedModeService.isSaasOrPaasEmbed()||this.services.embedModeService.isSecurePublishToWeb()),v=this.services&&this.services.localizationService;if(u&&l){var m=l;return m.helpLink="",m.message=v.get(this.getLocalizationKey("Error_VisualsEmbeddedText",p)),m.displayableErrorInfo=[{errorInfoKey:v.get(this.getLocalizationKey("Error_VisualsEmbeddedText",p)),errorInfoValue:v.get(this.getLocalizationKey("Error_VisualsErrorInEmbedReports",p))}],m}}getLocalizationKey(p,l){var u;switch(l){case a.wY.RScript:u="R";break;case a.wY.PythonScript:u="Py";break;default:u=""}return u+p}shouldBlockScriptVisual(p,l){var u=this.services.featureSwitchService.featureSwitches,v=this.getUserInfoForErrorDetails(),m=this.services.embedModeService&&this.services.embedModeService.isAnonymousLiveEmbed(),g=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();switch(p){case a.wY.RScript:if(m)return!u.scriptVisualAnonymousEmbeddingEnabled||!u.scriptVisualEnabled;var E=!1;return this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!g&&(E=l&&this.services.licenseServiceExtend.isReportInPremiumCapacity(l)),!E&&(!u.scriptVisualEnabled||v&&v.isViralTenant||!u.rScriptVisualEnabled||v&&!v.isPremiumUser);case a.wY.PythonScript:return m?!u.scriptVisualAnonymousEmbeddingEnabled:(this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!g&&(E=l&&this.services.licenseServiceExtend.isReportInPremiumCapacity(l)),!E&&(v&&v.isViralTenant||v&&!v.isPremiumUser))}}canLaunchExternalIDE(){return!1}launchExternalIDE(p){return null}openOptionsDialogAsync(){return null}refreshScriptCustomVisuals(p){r.Y.assertFail("Function not implemented for Service")}triggerDataRefresh(){var p="Visual_Error_RefreshFailed",l=this.services.localizationService.get(p),u=this.services.localizationService.get("Visual_Warning_AutoRefreshNotSupported");return{message:u,displayableErrorInfo:[{errorInfoKey:l,errorInfoValue:u}],helpLink:"https://go.microsoft.com/fwlink/?linkid=2188979",helpLinkType:t.Qs.LearnMore,hideDebugInfo:!0,resourceKey:p}}buildErrorDetails(p){return{message:p,displayableErrorInfo:[],helpLink:"https://go.microsoft.com/fwlink/?linkid=829101",errorType:t.By.VisualNotSupported}}getUserInfoForErrorDetails(){var p=this.services.userInfo,l=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();if(p&&!Array.isArray(p)&&!l)return{isViralTenant:p.userMetadata&&p.userMetadata.tenantMetadata&&p.userMetadata.tenantMetadata.tenantType===i.Xb.ViralTenant,isPremiumUser:p.isPremiumUser}}}},483378:function(ve,z,e){e.d(z,{i3:function(){return c},qN:function(){return d},yt:function(){return s}});var a=e(18122),i=e(715068),r=e(71712),t=e(408509),o=e(807110);class d{constructor(){}static getSelectedVisualContainer$(l){return l.selectedElements$.pipe((0,o.T)(u=>{if(1===_.size(u)){var m=u[0].canvasItem;return m&&(0,r.iA)(m)?m:void 0}}))}static selectCanvasItem(l,u,v=i.v.Single,m){var g=n.createSelectableCanvasItem(l);u.selectElement(g,v,m)}static unselectCanvasItem(l,u){var v=d.getSelectedCanvasItems(u);_.includes(v,l)&&d.selectCanvasItems(_.without(v,l),u)}static selectSubSelection(l,u,v,m){var g=n.createSubSelectableCanvasItem(u,v);l.selectElement(g,m)}static selectCanvasItems(l,u,v){var m=_.map(l,g=>n.createSelectableCanvasItem(g));u.selectElements(m,i.v.Single,v)}static isCanvasItemSelected(l,u){var v=d.getSelectedCanvasItems(u);return _.includes(v,l)}static getSelectedCanvasItem(l){return _.first(d.getSelectedCanvasItems(l))}static getSelectedCanvasItems(l){return _.chain(l.getSelectedElements()).map(u=>u.canvasItem).compact().value()}static getSelectedVisualContainers(l){return _.chain(d.getSelectedCanvasItems(l)).filter(u=>(0,r.iA)(u)).compact().value()}static getSelectedVisualContainerGroups(l){return _.chain(d.getSelectedCanvasItems(l)).filter(u=>(0,r.tx)(u)).compact().value()}static hasMultipleVisualContainerSelection(l){return d.getSelectedCanvasItems(l).length>1}static getSelectedVisual(l){var u=d.getSelectedCanvasItems(l);if(1===u.length){var v=u[0];return(0,r.iA)(v)?v:void 0}}static getDefaultSelectedVisualInSingleOrMultiCase(l){var u=_.isArray(l)?l:d.getSelectedCanvasItems(l),v=u[0];if(v){var m=(0,t.d)(v);return _.every(u,g=>(0,t.d)(g)===m)?v:void 0}}static clearSubSelections(l){var u=l.getSelectedElements();if(u){var v=d.getSelectedVisualContainers(l),m=[],g=!1;for(var E of u)_.isEmpty(E.subSelections)?m.push(E):(g=!0,m.push(n.createSubSelectableCanvasItem(E.canvasItem,[])));g&&l.selectElements(m,v.length>1?i.v.Union:i.v.Single)}return u}}class n{constructor(){}static createSelectableCanvasItem(l){return s.createFromCanvasItem(l)}static createSubSelectableCanvasItem(l,u){return s.createFromSubSelections(l,u)}}class c{constructor(){}static equals(l,u){if(l.length!==u.length)return!1;for(var v=0,m=l.length;v<m;v++)if(!s.equals(l[v],u[v]))return!1;return!0}}class s{get id(){if(this._canvasItem)return this._canvasItem.id}get canvasItem(){return this._canvasItem}get subSelections(){return this._subSelections}static createFromCanvasItem(l){var u=new s;return u._canvasItem=l,u}static createFromSubSelections(l,u){var v=s.createFromCanvasItem(l);return v._subSelections=u,v}static equals(l,u){return(l=l||null)===(u=u||null)||!(!l!=!u||(a.Y.assertValue(l,"left"),a.Y.assertValue(u,"right"),l.id!==u.id||l.canvasItem!==u.canvasItem||!_.isEqual(l.subSelections,u.subSelections)))}}},528092:function(ve,z,e){e.d(z,{Z:function(){return t}});var a=e(44303),i=e(735006),r=e(448119);function t(d){return new o(d)}class o{constructor(n){this.downgraders=n,this.objectsDowngrader=(0,i.y)(this.downgraders)}getFinalExplorationVersion(n,c){for(var s of(c=(0,a.T9)(c,this.getFinalExplorationForObjectsVersion(n,c)),this.downgraders))c=(0,a.T9)(c,s.getMinDowngradeVersionForContract(n));return c}downgrade(n,c){for(var s of(this.downgradeVisualObjects(n,c),this.downgraders))s.downgrade(n,c)}downgradeVisualObjects(n,c){var s=n&&n.sections;if(s)for(var p of s){var l=p&&p.visualContainers;if(!l)return;for(var u of l){var v=u&&u.config&&u.config.singleVisual;if(v){var m=v.visualType,g=v.vcObjects;g&&this.objectsDowngrader.downgrade(r.p.VisualContainer,g,m,c);var E=v.objects;E&&this.objectsDowngrader.downgrade(r.p.Visual,E,m,c)}}}}getFinalExplorationForObjectsVersion(n,c){var s=n&&n.sections;if(s){for(var p of s){var l=p&&p.visualContainers;if(!l)return;for(var u of l){var v=u&&u.config&&u.config.singleVisual;if(v){var m=v.visualType,g=v.vcObjects;g&&(c=(0,a.T9)(c,this.objectsDowngrader.getFinalVisualObjectsVersion(r.p.VisualContainer,g,c,m)));var E=v.objects;E&&(c=(0,a.T9)(c,this.objectsDowngrader.getFinalVisualObjectsVersion(r.p.Visual,E,c,m)))}}}return c}}}},643484:function(ve,z,e){e.d(z,{C:function(){return i},e:function(){return a}});var a=function(r){return r[r.UnknownExplorationVersion=0]="UnknownExplorationVersion",r[r.MissingExploration=1]="MissingExploration",r}({}),i=function(r){return r[r.JSONSerialization=0]="JSONSerialization",r[r.ExplorationStateSerialization=1]="ExplorationStateSerialization",r}({})},872539:function(ve,z,e){e.d(z,{iN:function(){return Je}});var a=e(316051),i=e(870860),r=e(540673),t=e(709190),o=e(698244),d=e(333129),n=e(206332),c=e(641831),s=e(654316),p=e(690332),l=e(101751),u=e(694398),v=e(844480),m=e(44303),g=e(124115),E=e(594293),D=e(383251),h=e(429943),C=e(708589),y=e(579260),f=e(18122),S=e(761297),b=e(223431),V=e(454840),M=e(989417),P=e(586854),T=e(8343),N=e(999904),w=e(757406),I=e(554109),O=e(933729),x=e(930845),j=e(693818),U=e(256219),F=e(167616),R=e(418356),B=e(989917),A=e(576086),W=e(541459),G=e(11733),K=e(919601),q=e(71712),ne=e(371320),k=e(413399),L=e(456339),X=e(850990),Y=e(562991),Q=e(387797),H=e(222055),te=e(528092),ee=e(193311),ue=e(481041),Te=e(312598),He=e(20726),We=e(821553),ft=e(990783),mt=e(620825),At=e(664158),Qe=e(620455),Fe=e(382901),ye=e(502275),we=e(924256),Ee=e(178748),Oe=e(676695),he=e(631772),xe="Gradient",Se="Size";function Ae(Ot,de){var Ze=void 0,Ye=!0;if(!_.isEmpty(Ot)){var qe=new Map;for(var ut of Ot){var et=de(ut),le=qe.get(et);null!=le?(Ye=!1,qe.set(et,le+1)):qe.set(et,1)}Ye||(Ze=Object.fromEntries(qe.entries()))}return{allUnique:Ye,itemCounts:Ze}}function Ie(Ot,de,Ze,Ye){var qe=Object.keys(Ye),ut=0,et=0,le=0,me=0;for(var Be of qe){var Ke=Ye[Be];ut+=Ke,Ke>1?(et++,me=Math.max(me,Ke)):le++}Ot.logEvent(k.ul,{type:de,deserializationId:Ze,totalCount:ut,duplicateCount:et,uniqueCount:le,maxDuplicateCount:me})}function Je(Ot,de,Ze,Ye,qe,ut,et){return new pe(Ot,de,Ze,Ye,qe,ut,et)}class pe{constructor(de,Ze,Ye,qe,ut,et,le){this.visualPlugins=de,this.telemetryService=Ze,this.featureSwitchService=Ye,this.canvasListOrderNormalizeService=qe,this.contextActivityService=ut,this.userState=et,this.explorationUpgrader=(0,He.E)(Ye),this.explorationDowngrader=(0,te.Z)(le)}deepCopyExploration(de,Ze){return this.deserializeExploration(this.serializeExploration(de,Ze),[],!0)}ensureInitialized(){return this.visualPlugins.ensureBuiltInPlugins()}deserializeExploration(de,Ze,Ye,qe){var ut;if(de){var Xe,{model:et,counters:le,getExplorationActivity:me,logDuplicateTelemetry:Be}=qe??{},Ke=Be?g.Q.generateId():void 0;me&&(Xe=me.createChildActivity({name:r.n.UpgradeExploration}));var re=this.explorationUpgrader.upgrade(de,Ze,Ye,le);if(Xe&&(Xe.setProperty("upgraderCount",le?.upgraderCount),Xe.resolve()),!re)return;f.Y.assertValue(re.config,"ExplorationSerializer.deserializeExploration - explorationConfig should exist");var fe=re.config;if(f.Y.assertValue(fe,"ExplorationSerializer.deserializeExploration - explorationConfig couldn't be parsed"),ut={id:re.id,sections:void 0,dataSources:void 0,reportId:re.reportId,themeCollection:this.deserializeThemeCollection(fe.themeCollection),bookmarks:[],mwcToken:re.mwcToken,capacityUri:re.capacityUri,publicCustomVisuals:re.publicCustomVisuals,isStoredInBlob:re.isStoredInBlob},null!=re.reportObjectsProperties&&(ut.reportObjectsProperties=re.reportObjectsProperties),fe.tags&&(ut.tags=_.cloneDeep(fe.tags)),fe.slowDataSourceSettings&&(ut.slowDataSourceSettings=_.cloneDeep(fe.slowDataSourceSettings)),fe.settings&&(ut.settings=_.cloneDeep(fe.settings)),fe.objects&&(ut.objects=(0,o.EP)(fe.objects,F.F)),fe.bookmarks){var ae=(0,V.Mt)(()=>{var Lt=this.deserializeBookmarks(fe.bookmarks);if(Be){var{allUnique:zt,itemCounts:Yt}=Ae(Lt,Qt=>Qt.name);zt||(f.Y.assertFail("bookmark names must be unique"),Ie(this.telemetryService,k.l5.BookmarkNames,Ke,Yt))}ut.bookmarks=Lt});me&&me.setProperty("bookmarkDeserializationDuration",ae)}fe?.themeCollection?.baseTheme&&(ut.themeCollection.baseTheme=this.deserializeThemeMetadata(fe.themeCollection.baseTheme)),fe?.themeCollection?.customTheme&&(ut.themeCollection.customTheme=this.deserializeThemeMetadata(fe.themeCollection.customTheme)),this.contextActivityService.upsertExplorationProperties({bookmarkCount:ut.bookmarks?ut.bookmarks.length:0}),re.userState&&(ut.userState=(0,ft.UL)(re.userState,this.userState,this.visualPlugins,this.featureSwitchService,this.telemetryService)),re.activeWebBookmark&&(ut.activeWebBookmark=(0,ft.iZ)(re.activeWebBookmark,Ye,this.visualPlugins,this.featureSwitchService,this.telemetryService));var tt=re.activeBookmark;if(tt){var ot=ut.bookmarks??[];for(var rt of ot)if(!j.$.isBookmarkGroup(rt)&&rt.name===tt.name){ut.activeBookmark=rt;break}}if(re.sections){var Re=_.sortBy(re.sections,Lt=>void 0!==Lt.ordinal?Lt.ordinal:0),J=ut.settings&&ut.settings.useStylableVisualContainerHeader;if(ut.sections=_.map(Re,Lt=>this.deserializePage(Lt,{...qe,enableVisualContainerGrouping:J})),Be){var{allUnique:ce,itemCounts:Ce}=Ae(ut.sections,Lt=>Lt.name);ce||(f.Y.assertFail("page names must be unique"),Ie(this.telemetryService,k.l5.PageNames,Ke,Ce))}if(ut.filters=this.deserializeFilterContainers(re.filters),ut.dataSources=(0,U.jf)(),re.resourcePackages&&(ut.resourcePackages=this.deserializeResourcePackages(re.resourcePackages)),re.pods&&(ut.pods=_.map(re.pods,Lt=>this.deserializePod(Lt)),Be)){var{allUnique:ze,itemCounts:it}=Ae(ut.pods,Lt=>Lt.name);ze||(f.Y.assertFail("pod names must be unique"),Ie(this.telemetryService,k.l5.PodNames,Ke,it))}if(_.isNumber(fe.activeSectionIndex)&&fe.activeSectionIndex<re.sections.length&&(ut.activeSectionIndex=fe.activeSectionIndex),fe.modelExtensions&&(ut.modelExtensions=this.deserializeModelExtensions(fe.modelExtensions)),et)if(et.lastTimeAModelChangeWasDetectedInTheCluster&&!_.isEmpty(et.onPremModelConnectionString)){var yt=(0,l.Yp)(et.lastTimeAModelChangeWasDetectedInTheCluster);this.updateVisualContainerCachingOptions(ut,yt,Lt=>{Lt.useInitialCachedQuery=!0},Lt=>{Lt.useInitialCachedQuery=!1})}else if(_.isEmpty(et.onPremModelConnectionString)&&et.dataCacheMode===E.Ak.Import&&et.lastRefreshTime){var Nt=(0,l.Yp)(et.lastRefreshTime);this.updateVisualContainerCachingOptions(ut,Nt,Lt=>{Lt.disableCacheOnServerForInitialLoad=!0},Lt=>{Lt.disableCacheOnServerForInitialLoad=!1})}}re.report&&(ut.report=(0,S.IL)(re.report),re.report.linguisticSchemaId&&(ut.reportHasLinguisticSchema=!0)),null!=fe.defaultDrillFilterOtherVisuals&&(ut.defaultDrillFilterOtherVisuals=fe.defaultDrillFilterOtherVisuals),fe.filterSortOrder&&(ut.filterSortOrder=fe.filterSortOrder),fe.dataSourceVariables&&(ut.dataSourceVariables=fe.dataSourceVariables),fe.creationSource&&(ut.creationSource=fe.creationSource),ut.linguisticSchemaSyncVersion=this.deserializeLinguisticSchemaSyncVersion(fe.linguisticSchemaSyncVersion)}return ut}deserializeLinguisticSchemaSyncVersion(de){return null==de?F.K.Unspecified:(f.Y.assert(()=>de in F.K,"unexpected linguisticSchemaSyncVersion"),de)}updateVisualContainerCachingOptions(de,Ze,Ye,qe){for(var ut of de.sections)for(var et of ut.visualContainers)et.cachedData&&et.cachedData.dataUpdatedTime&&et.cachedData.data&&+et.cachedData.dataUpdatedTime-+Ze>=0?Ye(et):qe(et)}deserializeResourcePackages(de){return f.Y.assertValue(de,"contract"),(0,ft.LH)(de)}deserializeLinkField(de){f.Y.assertValue(de,"linkField");var Ze=p.F3.deserializeExpr(de.fieldExpr);return f.Y.assert(()=>(0,mt.tx)(Ze)&&!1===de.asAggregation||(0,mt.R3)(Ze)||(0,mt.Ah)(Ze),"invalid linkField"),{asAggregation:de.asAggregation,fieldExpr:Ze}}deserializePage(de,Ze){if(de){var Ye={id:de.id,objectId:de.objectId,name:de.name,displayName:de.displayName,visualContainers:void 0,visualContainerGroups:void 0,size:{displayOption:void 0!==de.displayOption?de.displayOption:A.td.Dynamic,height:de.height||x.lC,width:de.width||x.Im},filters:this.deserializeFilterContainers(de.filters)};(de.originalHeight||de.originalWidth||de.originalDisplayOption)&&(Ye.originalSize={displayOption:de.originalDisplayOption,height:de.originalHeight,width:de.originalWidth}),de.transient&&(Ye.transient=de.transient);var qe=de.config;if(Ye.acceptsAllFiltersWhenLinked=qe.acceptsAllFiltersWhenLinked,qe.objects&&(Ye.objects=(0,o.EP)(qe.objects,W.Cq)),null!=qe.visibility&&(Ye.visibility=qe.visibility),null!=qe.type&&(Ye.type=qe.type),null!=qe.filterSortOrder&&(Ye.filterSortOrder=qe.filterSortOrder),_.isEmpty(qe.linkFields)||(Ye.linkFields=_.map(qe.linkFields,Xe=>this.deserializeLinkField(Xe))),qe.dynamicConfig&&(Ye.dynamicConfig=this.deserializeDynamicConfig(qe.dynamicConfig)),de.visualContainers){var{enableVisualContainerGrouping:ut,deserializationId:et,logDuplicateTelemetry:le=g.Q.generateId()}=Ze??{},me=this.deserializeCanvasItems(de.visualContainers,null,ut);if(me){if(Ye.visualContainers=me.visualContainers,Ye.visualContainerGroups=me.visualContainerGroups,le){var{allUnique:Be,itemCounts:Ke}=Ae(me.visualContainers,Xe=>Xe.name);Be||(f.Y.assertFail("VisualContainer names must be unique within a section."),Ie(this.telemetryService,k.l5.VisualsNamePerPage,et,Ke))}}else Ye.visualContainers=[],Ye.visualContainerGroups=[];qe.relationships&&(Ye.relationships=this.deserializeRelationships(qe.relationships,Ye.visualContainers))}return qe.howCreated&&(Ye.howCreated=qe.howCreated),Ye}}deserializePod(de){if(de)return{id:de.id,name:de.name,boundSection:de.boundSection,parameters:this.deserializePodParameters(de.parameters),cortanaEnabled:de.cortanaEnabled,type:void 0===de.type?A.cN.Default:de.type,referenceScope:void 0===de.referenceScope?A.th.Default:de.referenceScope,config:this.deserializePodConfig(de.config)}}deserializeRelationships(de,Ze){if(!_.isEmpty(de)){var Ye;for(var qe of de){var ut=this.deserializeRelationship(qe,Ze);ut&&(Ye||(Ye=[])).push(ut)}return Ye}}deserializeBookmarks(de){if(de)return _.map(de,Ze=>{if(this.isBookmarkGroup(Ze)){var Ye={displayName:Ze.displayName,name:Ze.name,children:this.deserializeBookmarks(Ze.children)};return _.each(Ye.children,et=>et.parentGroup=Ye),Ye}var ut={displayName:Ze.displayName,name:Ze.name,explorationState:(0,ee.iu)(Ze.explorationState,this.visualPlugins,this.featureSwitchService)};return Ze.options&&(ut.options=this.deserializeBookmarkOptions(Ze.options)),ut})}deserializeBookmarkOptions(de){return de}deserializeThemeCollection(de){if(de){var Ze={};return de.baseTheme&&(Ze.baseTheme=this.deserializeThemeMetadata(de.baseTheme)),de.customTheme&&(Ze.customTheme=this.deserializeThemeMetadata(de.customTheme)),de.transientUserSetTheme&&(Ze.transientUserSetTheme=this.deserializeThemeMetadata(de.transientUserSetTheme)),de.highContrastTheme&&(Ze.highContrastTheme=this.deserializeThemeMetadata(de.highContrastTheme)),Ze}}deserializeModelExtensions(de){return f.Y.assertAnyValue(de,"model extension wireContracts"),(0,y.s0)(_.map(de,Ze=>{var Ye={name:Ze.name,extends:Ze.extends};return Ze.entities&&(Ye.entities=this.deserializeModelExtensionEntities(Ze.entities)),Ye}))}deserializeModelExtensionEntities(de){return f.Y.assertAnyValue(de,"model extension entities wireContracts"),(0,y.s0)(_.map(de,Ze=>{var Ye;return Ye=Ze.extends?{name:Ze.name,extends:Ze.extends}:{name:Ze.name},Ze.measures&&(Ye.measures=this.deserializeModelExtensionMeasures(Ze.measures)),Ye}))}deserializeModelExtensionMeasures(de){return f.Y.assertAnyValue(de,"model extension measures wireContracts"),(0,y.s0)(_.map(de,Ze=>{var Ye={name:Ze.name,dataCategory:Ze.dataCategory,dataType:Ze.dataType,expression:Ze.expression,errorMessage:Ze.errorMessage,hidden:Ze.hidden,references:this.deserializeExpressionReferences(Ze.references),formulaOverride:Ze.formulaOverride,formatInformation:Ze.formatInformation,displayFolder:Ze.displayFolder};return Ze.annotations&&(Ye.annotations=this.deserializeModelExtensionAnnotations(Ze.annotations)),Ze.measureTemplate&&(Ye.measureTemplate={daxTemplateName:Ze.measureTemplate.daxTemplateName,version:Ze.measureTemplate.version}),Ze.description&&(Ye.description=Ze.description),Ye}))}deserializeExpressionReferences(de){return de?{unrecognizedReferences:!!de.unrecognizedReferences,measures:de.measures||[]}:{unrecognizedReferences:!1,measures:[]}}deserializeModelExtensionAnnotations(de){return f.Y.assertAnyValue(de,"model extension annotations wireContracts"),(0,y.s0)(_.map(de,Ze=>({name:Ze.name,value:Ze.value})))}deserializeDynamicConfig(de){var Ze;if(de.quickExplore){var qe=de.quickExplore.visualContainerConfigurations,ut=de.quickExplore.layout;Ze||(Ze={}),Ze.quickExplore={selectedFields:_.map(de.quickExplore.selectedFields,et=>p.F3.deserializeExpr(et)),visualContainerConfigurations:_.map(qe,et=>({name:et.name,fields:_.map(et.fields,le=>p.F3.deserializeExpr(le))}))},ut&&(Ze.quickExplore.layout=this.deserializeQuickExploreLayout(ut))}return Ze}deserializeQuickExploreLayout(de){if(de.combination){var Ze={version:de.combination.version};return de.combination.dataTableName&&(Ze.dataTableName=de.combination.dataTableName),{combination:Ze}}if(de.related){var Ye={version:de.related.version};return de.related.dataTableName&&(Ye.dataTableName=de.related.dataTableName),{related:Ye}}}deserializeFilterCollection(de,Ze,Ye){if(de){var qe=this.explorationUpgrader.upgradeFilterCollection(de,Ze,Ye);if(qe)return this.deserializeFilterContainers(qe.filters)}}deserializeFilterContainer(de){return{name:de.name,type:B.RJ[de.type],expression:de.expression?p.F3.deserializeExpr(de.expression):void 0,filter:de.filter&&de.filter.Where?p.F3.deserializeFilter(de.filter):void 0,restatement:de.restatement,cachedValueItems:(0,n.yV)(de.cachedDisplayNames),howCreated:de.howCreated,isLinkedAsAggregation:de.isLinkedAsAggregation,isTransient:de.isTransient,isHiddenInViewMode:de.isHiddenInViewMode,objects:de.objects?(0,o.EP)(de.objects,B.Xe):void 0,isLockedInViewMode:de.isLockedInViewMode,filterExpressionMetadata:de.filterExpressionMetadata?(0,s.jH)(de.filterExpressionMetadata):void 0,displayName:de.displayName,ordinal:de.ordinal}}deserializeCanvasItems(de,Ze,Ye,qe){if(!_.isEmpty(de)){var ut=[],et=[],le={},me={};for(var Be of de){f.Y.assertValue(Be&&Be.config,"explorationSerializer.deserializePage - vc config should exist");var Ke=Be.config,Xe=Ke.name,re=qe&&qe(Be),fe=this.deserializeCanvasItem(Be,Ze,re);me[Xe]=fe.name,(0,q.iA)(fe)&&ut.push(fe),void 0===Ke.parentGroupName?et.push(fe):(le[Ke.parentGroupName]||(le[Ke.parentGroupName]=[]),le[Ke.parentGroupName].push(fe))}var tt={};for(var ot in le){var rt=me[ot];rt?tt[rt]=le[ot]:et.push(...le[ot]||[])}return this.ensureVisualContainerGrouping(et,tt,Ye),this.ensureNames(ut),Ye?(this.ensureGroupZIndexNormalized(et),this.featureSwitchService.featureSwitches.accessibilityTopLevelNav?this.ensureGroupTabOrderNormalized(et,ut):this.ensureListOrderNormalized(ut,!1)):(et=[...ut||[]],this.ensureListOrderNormalized(ut)),{visualContainerGroups:et,visualContainers:ut}}}deserializeCanvasItem(de,Ze,Ye){f.Y.assertValue(de&&de.config,"explorationSerializer.deserializeCanvasItem - vc config should exist");var qe=de.config;return qe.singleVisual?this.deserializeVisualContainer(de,Ze,Ye):qe.singleVisualGroup?this.deserializeVisualContainerGroup(de,Ze,Ye):(f.Y.assertFail("explorationSerializer.deserializePage - singleVisual or singleVisualGroup should exist"),void this.telemetryService.logEvent(k.S5))}deserializeVisualContainer(de,Ze,Ye){f.Y.assertValue(de,"input");var qe=de.config,ut={name:Ye||qe.name,id:Ze?void 0:de.id,layouts:(0,y.mq)(),config:{singleVisual:this.deserializeSingleVisual(qe.singleVisual,de.prototypeQuery)}};null!=de.visibility&&(ut.visibility=de.visibility),null!=de.detailVisualLayout&&(ut.detailVisualLayout=de.detailVisualLayout),qe.name&&(ut.prevName=qe.name),qe.howCreated&&(ut.howCreated=qe.howCreated),(void 0!==de.dataBinaryBase64Encoded||void 0!==de.query||void 0!==de.dataTransforms)&&(ut.cachedData={data:de.dataBinaryBase64Encoded,query:de.query,transforms:de.dataTransforms,dataUpdatedTime:de.dataUpdatedTime?(0,l.Od)(de.dataUpdatedTime):void 0}),ut.filters=this.deserializeFilterContainers(de.filters);var et=qe.singleVisual.drillFilterOtherVisuals;null!=et&&(ut.drillFilterOtherVisuals=et);var le=qe.singleVisual.filterSortOrder;return null!=le&&(ut.filterSortOrder=le),ut.layouts.push(..._.cloneDeep(qe.layouts)||[]),_.forEach(ut.layouts,me=>{me.position&&vt(me.position)}),ut}deserializeVisualContainerGroup(de,Ze,Ye){f.Y.assertValue(de,"input");var qe=de.config,ut=qe.singleVisualGroup,et={name:Ye||qe.name,id:Ze?void 0:de.id,children:[],displayName:ut.displayName,groupMode:ut.groupMode,layouts:(0,y.mq)(),isHidden:ut.isHidden};return qe.name&&(et.prevName=qe.name),et.layouts.push(..._.cloneDeep(qe.layouts)||[]),ut.objects&&(et.objects=(0,o.EP)(ut.objects,K.Cq)),et}deserializeRelationship(de,Ze){f.Y.assertValue(de,"input"),f.Y.assertValue(Ze,"visualContainers");var Ye=(0,y.q7)(Ze,de.source),qe=(0,y.q7)(Ze,de.target);if(f.Y.assertValue(Ye,"source"),f.Y.assertValue(qe,"target"),de.type!==A.NJ.Default&&Ye&&qe)return{source:Ye,target:qe,type:de.type}}deserializeFilterContainers(de){if(!(0,M.M)(de)){var Ze=[],Ye=(0,u.p)(de);return Ye&&(Ze=Ye.map(qe=>this.deserializeFilterContainer(qe))),Ze}}deserializePodParameters(de){var Ze=[];if(!(0,M.M)(de)){var Ye=(0,u.p)(de);Ye&&(Ze=Ye.map(qe=>this.deserializePodParameter(qe)))}return Ze}deserializePodParameter(de){return{name:de.name,boundFilter:de.boundFilter,fieldExpr:de.fieldExpr?p.F3.deserializeExpr(de.fieldExpr):void 0,asAggregation:de.asAggregation,isLegacySingleSelection:de.isLegacySingleSelection}}deserializePodConfig(de){if((0,M.M)(de))return{acceptsFilterContext:A.G4.Default};var Ze=(0,u.p)(de);return f.Y.assert(()=>void 0!==Ze,"Incorrect PodConfig contents"),void 0===Ze.acceptsFilterContext&&(Ze.acceptsFilterContext=A.G4.Default),Ze}deserializeVisualQuery(de,Ze,Ye,qe,ut,et,le){var me=this.visualPlugins.capabilities(de.visualType),Be=me&&me.expandCollapse&&me.expandCollapse.supportsMerge,Ke=me&&me.expandCollapse&&me.expandCollapse.collapseParentAfterRemovingChildLevel,Xe=me&&me.noDefaultProjections,re=Ze.select(),fe=_.keyBy(re,tt=>tt.name),ae=new ne.r(Ze,this.convertProjections(de.visualType,Ye,re,fe,ut,et),(0,c.rY)(qe,{supportsMerge:Be,canCollapseRoot:Xe,collapseParentAfterRemovingChildLevel:Ke}),le);this.upgradeVisualQuery(ae,de.visualType),de.query=ae}deserializeSingleVisual(de,Ze){var Ye={visualType:de.visualType||de.visualConfig.visualType};f.Y.assertValue(Ye.visualType,"explorationSerializer.deserializeSingleVisual - visualType should exist"),null!=de.autoSelectVisualType&&(Ye.autoSelectVisualType=de.autoSelectVisualType);var qe=de.visualConfig?de.visualConfig.projections:void 0,ut=de.projections||{};if(qe)for(var et of qe){var le=ut[et.role];le||(ut[et.role]=le=[]),le.push(et)}else if(ut&&ut.length>0)for(var me of(qe=ut,ut={},qe)){var Be=ut[me.role];Be||(ut[me.role]=Be=[]),Be.push(me)}var Ke=de.prototypeQuery?de.prototypeQuery:Ze?(0,u.p)(Ze):null;if(Ke){var Xe=p.F3.deserializeQuery(Ke);this.deserializeVisualQuery(Ye,Xe,ut,de.expansionStates,de.showAllRoles,de.queryFieldParametersByRole,de.isDrillDisabled)}null!=de.display&&(Ye.display=de.display),de.columnProperties&&(Ye.columnProperties=_.cloneDeep(de.columnProperties));var fe=de.queryOptions;fe&&(Ye.queryOptions=_.cloneDeep(fe));var ae=de.syncGroup;null!=ae&&(Ye.syncGroup=_.cloneDeep(ae));var tt=de.hasDefaultSort;return null!=tt&&(Ye.hasDefaultSort=tt),de.objects&&this.addItemLocationObjects(Ye.visualType,de.objects),(0,o.NK)(de.objects,()=>this.visualPlugins.capabilities(Ye.visualType)?.objects,Ye),de.vcObjects&&(Ye.vcObjects=(0,o.EP)(de.vcObjects,G.Xe)),this.deserializeMobileState(Ye,de),de.cachedFilterDisplayItems&&(Ye.cachedFilterDisplayItems=(0,n.yV)(de.cachedFilterDisplayItems)),de.filterExpressionMetadata&&(Ye.filterExpressionMetadata=(0,s.jH)(de.filterExpressionMetadata)),Ye}addItemLocationObjects(de,Ze){var rt,Ye=(ot,rt)=>{var Re=ot[rt.objectName];if(null!=Re&&1===Re.length)return Re[0].properties[rt.propertyName]};if(de===Qe.U.scorecard){var ut=Fe.p.scorecard.scorecardReference,et=Fe.p.scorecard.scorecardId,le=Ye(Ze,et);if(null==le)return;var Be=p.F3.deserializeExpr(le.expr).value,Ke=(rt=_.toLower(_.trim(Be)),((0,we.U8)(rt,!1)?rt.split("/scorecards/")[1]:rt)??Be);Ze[ut.objectName][0].properties[ut.propertyName]={kind:Ee.P.ItemLocation,byReference:{itemId:{expr:p.F3.serializeExpr((0,w.Qq)(Ke))}}},delete Ze[et.objectName][0].properties[et.propertyName]}if(de===Qe.U.rdlVisual){var Xe=ye.FA.reportInfo.reference,re=ye.FA.reportInfo.reportId,fe=ye.FA.reportInfo.workspaceId,ae=Ye(Ze,re),tt=Ye(Ze,fe);if(null==ae||null==tt)return;Ze[Xe.objectName][0].properties[Xe.propertyName]={kind:Ee.P.ItemLocation,byReference:{itemId:ae,workspaceId:tt}},delete Ze[re.objectName][0].properties[re.propertyName],delete Ze[fe.objectName][0].properties[fe.propertyName]}}deserializeMobileState(de,Ze){Ze.mobileVcObjects&&(de.mobileVcObjects=(0,o.EP)(Ze.mobileVcObjects,G.Xe)),Ze.mobileObjects&&(0,o.NK)(Ze.mobileObjects,()=>this.visualPlugins.capabilities(de.visualType)?.objects,de,"mobileObjects")}isBookmarkGroup(de){return void 0!==de.children}ensureVisualContainerGrouping(de,Ze,Ye,qe){for(var ut of de){if(qe&&(ut.parentGroup=qe),!Ye&&(0,q.iA)(ut)&&ut.parentGroup){var et=ut.layouts.withId(a.v.Master),le=(0,Q.Ui)(et.position,a.v.Master,ut.parentGroup);et.position=le,ut.parentGroup=void 0}(0,q.tx)(ut)&&(f.Y.assertValue(Ze[ut.name],"deserializePage - visual container group must have children"),ut.children=Ze[ut.name]||[],this.ensureVisualContainerGrouping(ut.children,Ze,Ye,ut))}}ensureGroupZIndexNormalized(de){if(f.Y.assertValue(de,"visualContainerGroups"),!_.isEmpty(de))for(var Ze of(this.ensureListOrderNormalizedInternal(de,!0,"z"),de))(0,q.tx)(Ze)&&this.ensureGroupZIndexNormalized(Ze.children)}ensureGroupTabOrderNormalized(de,Ze){if(f.Y.assertValue(de,"visualContainerGroups"),!_.isEmpty(de)){if(_.every(Ze,Ye=>{var qe=Ye.layouts.withId(a.v.Master);return qe&&qe.position&&null==qe.position.tabOrder}))return;this.ensureGroupsHaveTabOrders(de)||this.upgradeTabOrderToHierarchy(de),this.ensureGroupTabOrderNormalizedHelper(de)}}upgradeTabOrderToHierarchy(de){_.map(de,Ze=>{if((0,q.tx)(Ze)&&void 0===Ze.layouts?.withId(a.v.Master).position?.tabOrder){this.upgradeTabOrderToHierarchy(Ze.children);var Ye=Number.NEGATIVE_INFINITY;(0,q.Uu)([Ze],qe=>{var ut=qe.layouts?.withId(a.v.Master).position?.tabOrder;ut&&(Ye=_.max([Ye,ut])),Ye!==Number.NEGATIVE_INFINITY&&(Ze.layouts.withId(a.v.Master).position.tabOrder=Ye)})}})}ensureGroupsHaveTabOrders(de){for(var Ze of de)if((0,q.tx)(Ze)){var Ye=Ze.layouts.withId(a.v.Master);if(void 0===Ye?.position?.tabOrder||!this.ensureGroupsHaveTabOrders(Ze.children))return!1}return!0}ensureGroupTabOrderNormalizedHelper(de){for(var Ze of(this.ensureTabOrderNormalized(de,!0),this.ensureTabOrderNormalized(de,!1),de))(0,q.tx)(Ze)&&this.ensureGroupTabOrderNormalizedHelper(Ze.children)}ensureListOrderNormalized(de,Ze=!0){f.Y.assertValue(de,"visualContainers"),!_.isEmpty(de)&&(Ze&&this.ensureListOrderNormalizedInternal(de,!0,"z"),!_.every(de,Ye=>{var qe=Ye.layouts.withId(a.v.Master);return qe&&qe.position&&null==qe.position.tabOrder})&&(this.ensureTabOrderNormalized(de,!0),this.ensureTabOrderNormalized(de,!1)))}ensureTabOrderNormalized(de,Ze){var Ye=_.filter(de,qe=>{var ut=this.getListOrderPropertyFunction(qe,"tabOrder");return Ze?ut>=0||void 0===ut:ut&&ut<0});this.ensureListOrderNormalizedInternal(Ye,Ze,"tabOrder")}getListOrderPropertyFunction(de,Ze){var Ye=de.layouts.withId(a.v.Master);return Ye&&Ye.position&&Ye.position[Ze]}setListOrderPropertyFunction(de,Ze,Ye){var qe=de.layouts.withId(a.v.Master);qe&&qe.position&&(qe.position[Ze]=Ye)}ensureListOrderNormalizedInternal(de,Ze,Ye){var qe=this.canvasListOrderNormalizeService.getContainerListOrders(de,ut=>this.getListOrderPropertyFunction(ut,Ye));this.canvasListOrderNormalizeService.shouldNormalizeListOrder(qe,Ze)&&(qe=this.canvasListOrderNormalizeService.normalizeListOrder(qe,Ze,ut=>this.getListOrderPropertyFunction(ut,Ye)),this.updateListOrders(de,qe,Ye))}updateListOrders(de,Ze,Ye){for(var qe of de){var ut=Ze[qe.name];null!=ut&&ut!==this.getListOrderPropertyFunction(qe,Ye)&&this.setListOrderPropertyFunction(qe,Ye,ut)}}ensureNames(de){f.Y.assertValue(de,"items");for(var qe,Ze=de.length,Ye={},ut=0;ut<Ze;ut++){var et=de[ut].name;_.isEmpty(et)?qe=!0:Ye[et]=!0}if(qe)for(var le=0;le<Ze;le++){var me=de[le];_.isEmpty(me.name)&&(me.name=(0,Q.E5)(Ye),Ye[me.name]=!0)}}convertProjections(de,Ze,Ye,qe,ut,et){f.Y.assertValue(Ze,"contract"),f.Y.assertValue(Ye,"select");var le={},me=_.keys(et),Be=_.keys(Ze),Ke=_.union(me,Be);for(var Xe of Ke){var re=_.includes(ut,Xe);le[Xe]=this.convertProjectionArray(de,Ze[Xe],Ye,Xe,qe,re,et?et[Xe]:void 0)}return le}convertProjectionArray(de,Ze,Ye,qe,ut,et,le){var Be,me=[];if(!_.isEmpty(Ze))for(var Ke of Ze){var Xe=this.convertProjection(Ke,Ye,ut);Xe?(Ke.active&&(Be=Be||[]).push(Xe.queryRef),me.push(Xe)):this.telemetryService.logTrace(new Oe.V("Projection without a select detected in deserialization",he.W.Error,void 0,void 0,{visualType:de,role:qe}))}var re=[];if(!_.isEmpty(le))for(var fe of le){var ae={index:fe.index,length:fe.length,expr:p.F3.deserializeExpr(fe.expr),sortDirection:fe.sortDirection};re.push(ae)}return new T.yl(me,Be,et,re)}convertProjection(de,Ze,Ye){f.Y.assertValue(de,"contract");var qe=de.queryRef;if(_.isNumber(de.queryRef)&&(qe=Ze[de.queryRef].name),Ye[qe]){var ut={queryRef:qe};return de.hidden&&(ut.hidden=!0),ut}}serializeExploration(de,Ze){return this.createSerializer().serializeExploration(de,Ze)}serializeModelExtensions(de){return this.createSerializer().serializeModelExtensions(de)}serializePage(de,Ze,Ye){return this.createSerializer().serializePage(de,Ze,Ye)}serializePageShallow(de,Ze,Ye){return this.createSerializer().serializePageShallow(de,Ze,Ye)}serializeVisualContainer(de,Ze){return this.createSerializer().serializeVisualContainer(de,Ze)}serializeVisualContainerGroup(de){return this.createSerializer().serializeVisualContainerGroup(de)}serializePod(de){return this.createSerializer().serializePod(de)}serializeFilterCollection(de){return this.createSerializer().serializeFilterCollection(de)}serializeResourcePackages(de){return this.createSerializer().serializeResourcePackages(de)}createSerializer(){return new De(this.visualPlugins,this.explorationDowngrader,this.telemetryService,this.featureSwitchService)}upgradeVisualQuery(de,Ze){if(Ze===Qe.U.filledMap&&de.projections[xe]){var Ye=de.projections[xe],qe=de.projections[Se];if(qe&&qe.all.length>0)for(var et=qe.all().length-1;et>=0;et--)de.removeProjection(Se,{fieldIndex:et});de.projections[Se]=Ye,delete de.projections[xe]}var le=this.visualPlugins.capabilities(Ze);if(le){var me=(0,L.xY)(le,de.isDrillDisabled),Be=de.ensureDrillableRoles(me);if(!_.isEmpty(Be)){var Ke={};for(var Xe of Be){var re=de.projections[Xe],fe=0;re&&(fe=_.size(re.all())),Ke[Xe]=fe}this.telemetryService.logEvent(k.jZ,{visualType:Ze,fixedRoleByProjectionCount:JSON.stringify(Ke)})}}}upgradeResourcePackage(de){void 0===de.type&&(de.type=t.X.CustomVisual)}getReferencedStaticResources(de){var Ze={},Ye=de.themeCollection.customTheme,qe=de.themeCollection.baseTheme;if(this.addItemReference(Ze,de.resourcePackages,Ye&&Ye.type,Ye&&Ye.name),this.addItemReference(Ze,de.resourcePackages,qe&&qe.type,qe&&qe.name),!_.isEmpty(de.sections))for(var ut of de.sections)if((0,H.Uy)(ut.objects,W.Cq,de.resourcePackages,Ze),!_.isEmpty(ut.visualContainers))for(var et of ut.visualContainers){var le=et.config.singleVisual,me=le.objects,Be=this.visualPlugins.capabilities(le.visualType);(0,H.Uy)(me,Be&&Be.objects,de.resourcePackages,Ze)}return Ze}addItemReference(de,Ze,Ye,qe){if(qe&&Ye){var ut=(0,I.by)(Ze,Ye,qe);if(ut){var et=(0,I.G3)(Ye);(0,H.Wi)(de,et,Ye,qe,ut.type)}}}parseExplorationConfigs(de){if(de){var Ze=this.parseConfig(de);return Ze.sections=_.map(de.sections,Ye=>this.parsePageConfigs(Ye)),Ze}}parseConfig(de){var Ze=_.clone(de);return Ze.config=(0,u.p)(de.config)||{},Ze}parsePageConfigs(de){var Ze=this.parseConfig(de);return Ze.visualContainers=_.map(de.visualContainers,Ye=>this.parseConfig(Ye)),Ze}stringifyExplorationConfigs(de){var Ze=this.stringifyConfig(de);return Ze.sections=_.map(de.sections,Ye=>this.stringifyPageConfigs(Ye)),Ze}stringifyConfig(de){var Ze=_.clone(de);return Ze.config=JSON.stringify(de.config),Ze}stringifyPageConfigs(de){var Ze=this.stringifyConfig(de);return Ze.visualContainers=_.map(de.visualContainers,Ye=>this.stringifyConfig(Ye)),Ze}parseFilterCollectionConfig(de){if(de)return this.parseConfig(de)}stringifyFilterCollectionConfig(de){if(de)return this.stringifyConfig(de)}deserializeThemeMetadata(de){return{name:de.name,type:de.type,version:(0,We.K8q)(de.version)?de.version:(0,We.yR4)(de.version)}}}var Pe=We.ZNK.v5_37;class De{constructor(de,Ze,Ye,qe){this.visualPlugins=de,this.explorationDowngrader=Ze,this.telemetryService=Ye,this.featureSwitchService=qe,this.version=Pe}serializeExploration(de,Ze){var Ye=de.sections;(!Ze||!Ze.withTransientPages)&&(Ye=(0,W.Zj)(Ye));var ut,qe=_.map(Ye,(Ke,Xe)=>this.serializePage(Ke,Xe,Ze));_.isEmpty(de.pods)||(this.removeInvalidPods(de.sections,de.pods,this.telemetryService),ut=_.map(de.pods,Ke=>this.serializePod(Ke)),f.Y.assert(()=>Ae(de.pods,Ke=>Ke.name).allUnique,"pod names must be unique"));var et=this.serializeExplorationShallowWithResourcePackages(de,Ze);if(et.sections=qe,et.pods=ut,!Ze||!Ze.forSave){var le=de.activeBookmark;if(le){var me=et.config.bookmarks??[];for(var Be of me)if(void 0===Be.children&&Be.name===le.name){et.activeBookmark=Be;break}}}return null!=de.reportObjectsProperties&&(et.reportObjectsProperties=de.reportObjectsProperties),Ze&&Ze.forSave&&this.explorationDowngrader.downgrade(et,this.version),f.Y.assert(()=>this.version===et.config.version,"explorationSerializer.serializeExploration - Version in serializer state should be exactly the same that returned wireContract version."),this.featureSwitchService.featureSwitches.reportSerializationSizeCountTelemetry&&Ze?.forSave&&this.logSizeAndCountInfo(et),et}logSizeAndCountInfo(de){setTimeout(()=>{var Ze=de.sections,Ye=Ze.flatMap(me=>me.visualContainers),qe=de.pods,ut=de.config.bookmarks,et=de.resourcePackages,le={reportSize:this.getMaxStringifiedSize([de]),maxSizeVisual:this.getMaxStringifiedSize(Ye),maxSizePod:qe?this.getMaxStringifiedSize(qe):0,maxSizeBookmark:ut?this.getMaxStringifiedSize(ut):0,maxSizeResourcePackage:et?this.getMaxStringifiedSize(et):0,totalVisualCount:Ye.length,totalPageCount:Ze.length,totalPodCount:qe?.length??0,totalBookmarkCount:ut?.length??0,totalResourcePackageCount:et?.length??0};this.telemetryService.logEvent(k.Fb,{reportDefinitionVersion:"1.0.0",...le})})}getMaxStringifiedSize(de){var Ze=de.map(qe=>JSON.stringify(qe).length);return Ze.length>0?Math.max(...Ze):0}serializeBookmarks(de,Ze){if(de){var Ye=Te.tF,qe=_.map(de,ut=>{if(j.$.isBookmarkGroup(ut)){var et={displayName:ut.displayName,name:ut.name,children:this.serializeBookmarks(ut.children,Ze)};return this.version=(0,m.T9)(this.version,We.K69),et}(0,ee.Ec)(ut.explorationState,Ze);var le={displayName:ut.displayName,name:ut.name,explorationState:(0,ee.lK)(ut.explorationState,this.featureSwitchService)};return Ye=(0,m.T9)(le.explorationState.version,Ye),ut.options&&(le.options=this.serializeBookmarkOptions(ut.options),this.version=(0,m.T9)(this.version,We.hAE)),le});switch(Ye){case Te.tF:this.version=(0,m.T9)(this.version,We.okR);break;case Te.Ah:this.version=(0,m.T9)(this.version,We.ByF);break;case Te.H1:this.version=(0,m.T9)(this.version,We.GOk);break;case Te.OD:this.version=(0,m.T9)(this.version,We.za9);break;case Te.He:this.version=(0,m.T9)(this.version,We.sEZ);break;case Te.OS:this.version=(0,m.T9)(this.version,We.__1);break;case Te.HV:this.version=(0,m.T9)(this.version,We.OiP);break;case Te.rQ:this.version=(0,m.T9)(this.version,We.L92);break;case Te.xT:this.version=(0,m.T9)(this.version,We.xTQ);break;default:f.Y.assertFail("Unknown exploration state version.")}return qe}}serializeBookmarkOptions(de){return de}serializeExplorationShallowWithResourcePackages(de,Ze){var Ye=de.activeSectionIndex,qe=this.createVersionedElementConfig(Pe);if(this.version=(0,m.T9)(this.version,qe.version),qe.themeCollection=O.T.cloneThemeCollection(de.themeCollection),qe?.themeCollection?.baseTheme&&(qe.themeCollection.baseTheme=this.serializeThemeMetadata(de.themeCollection.baseTheme)),qe?.themeCollection?.customTheme&&(qe.themeCollection.customTheme=this.serializeThemeMetadata(de.themeCollection.customTheme)),_.isNumber(Ye)&&(qe.activeSectionIndex=Ye),_.isEmpty(de.modelExtensions)||(this.version=(0,m.T9)(this.version,We.ZNK.v3_0),qe.modelExtensions=this.serializeModelExtensions(de.modelExtensions)),!_.isEmpty(de.bookmarks)){var ut=this.serializeBookmarks(de.bookmarks,de);qe.bookmarks=ut}Ze&&Ze.excludeHighContrastTheme&&delete qe.themeCollection.highContrastTheme,Ze&&Ze.forSave&&delete qe.themeCollection.transientUserSetTheme;var et=de.themeCollection.baseTheme;if(et&&(this.version=(0,m.T9)(this.version,(0,We.G5D)((0,Y.A)(et.name)))),(0,M.M)(de.dataSourceVariables)||(this.version=(0,m.T9)(this.version,We.ZNK.v4_2),qe.dataSourceVariables=de.dataSourceVariables),de.tags&&(qe.tags=de.tags),null!=de.defaultDrillFilterOtherVisuals&&(qe.defaultDrillFilterOtherVisuals=de.defaultDrillFilterOtherVisuals,de.defaultDrillFilterOtherVisuals&&(this.version=(0,m.T9)(this.version,We.nNr))),null!=de.filterSortOrder&&(qe.filterSortOrder=de.filterSortOrder,de.filterSortOrder&&(this.version=(0,m.T9)(this.version,We.wJE))),de.slowDataSourceSettings){var le=_.cloneDeep(de.slowDataSourceSettings);(le.isCrossHighlightingDisabled||le.isFieldWellButtonEnabled||le.isFilterSelectionsButtonEnabled||le.isSlicerSelectionsButtonEnabled||le.isApplyAllButtonEnabled)&&(this.version=(0,m.T9)(this.version,le.isApplyAllButtonEnabled?We.mn:We.H1C)),qe.slowDataSourceSettings=le}if(null!=de.linguisticSchemaSyncVersion&&(qe.linguisticSchemaSyncVersion=de.linguisticSchemaSyncVersion,de.linguisticSchemaSyncVersion!==F.K.Unspecified&&(this.version=(0,m.T9)(this.version,We.Kek))),de.settings){var me=_.cloneDeep(de.settings);(me.isPersistentUserStateDisabled||me.hideVisualContainerHeader)&&(this.version=(0,m.T9)(this.version,We.DG1)),me.useStylableVisualContainerHeader&&(this.version=(0,m.T9)(this.version,We.zWu)),void 0!==me.exportDataMode&&me.exportDataMode!==R.YV.AllowSummarizedAndUnderlying&&(this.version=(0,m.T9)(this.version,We.YVh)),me.useNewFilterPaneExperience&&(this.version=(0,m.T9)(this.version,We.BWY)),me.isReportAnnotationsDisabled&&(this.version=(0,m.T9)(this.version,We.d17)),!0===me.defaultFilterActionIsDataFilter&&(this.version=(0,m.T9)(this.version,We.oC6)),me.useCrossReportDrillthrough&&(this.version=(0,m.T9)(this.version,We.jMl)),me.allowChangeFilterTypes&&(this.version=(0,m.T9)(this.version,We.XR$)),me.allowInlineExploration&&(this.version=(0,m.T9)(this.version,We.OiP)),me.optOutNewFilterPaneExperience&&(this.version=(0,m.T9)(this.version,We.QST)),me.filterPaneHiddenInEditMode&&(this.version=(0,m.T9)(this.version,We.XtR)),me.disableFilterPaneSearch&&(this.version=(0,m.T9)(this.version,We.xxH)),me.pagesPosition&&(this.version=(0,m.T9)(this.version,We.wvm)),me.useEnhancedTooltips&&(this.version=(0,m.T9)(this.version,We.f89)),me.useScaledTooltips&&(this.version=(0,m.T9)(this.version,We.Aak)),me.allowAutomatedInsightsNotification&&(this.version=(0,m.T9)(this.version,We.gWA)),me.useDefaultAggregateDisplayName&&(this.version=(0,m.T9)(this.version,We.yx8)),me.pauseQueries&&(this.version=(0,m.T9)(this.version,We.NjL)),(me.queryLimitOption||me.customMemoryLimit||me.customTimeoutLimit)&&(this.version=(0,m.T9)(this.version,We.EtE)),qe.settings=me}de.objects&&(qe.objects=this.serializeObjects(de.objects,F.F,"report",Ze)),Ze&&Ze.forSave?(this.version=this.explorationDowngrader.getFinalExplorationVersion(de,this.version),f.Y.assert(()=>!(0,m.lt)(this.version,qe.version),"explorationSerializer.serializeExplorationShallowWithResourcePackages - Version should be at least as high as version config")):this.version=ue.t;var Be=this.serializeFilterContainers(de.filters,Ze);return de.creationSource&&(qe.creationSource=de.creationSource,this.version=(0,m.T9)(this.version,We.LUA)),qe.version=this.version,{id:de.id,report:de.report,reportId:de.reportId,theme:de.themeCollection.customTheme&&de.themeCollection.customTheme.name,filters:Be,resourcePackages:this.serializeResourcePackages(de.resourcePackages,Ze),sections:void 0,config:qe,layoutOptimization:this.getLayoutOptimizations(de),publicCustomVisuals:de.publicCustomVisuals,isStoredInBlob:de.isStoredInBlob}}serializeLinkField(de){f.Y.assertValue(de,"linkfield");var Ze=de.fieldExpr;return f.Y.assert(()=>(0,mt.tx)(Ze)&&!1===de.asAggregation||(0,mt.R3)(Ze)||(0,mt.Ah)(Ze),"invalid linkField"),{asAggregation:de.asAggregation,fieldExpr:p.F3.serializeExpr(Ze)}}serializeThemeMetadata(de){if(this.featureSwitchService.featureSwitches.themeVersion2Support)this.version=(0,m.T9)(this.version,We.JTv);else if(de?.version)return f.Y.assert(()=>(0,We.K8q)(de.version),"baseThemeMetadata.version should be a ThemeVersion2"),{name:de.name,type:de.type,version:(0,We.G5D)(de.version)};return de}serializeFilterCollection(de){if(!_.isEmpty(de)){var Ze=this.createVersionedElementConfig(Pe);return{filters:this.serializeFilterContainers(de),config:Ze}}}serializePage(de,Ze,Ye){var qe=this.serializePageShallow(de,Ze,Ye);if(qe.visualContainers=[],de.visualContainerGroups)this.serializeVisualContainerTreeToList(de.visualContainerGroups,qe.visualContainers,Ye);else for(var ut of de.visualContainers)qe.visualContainers.push(this.serializeVisualContainer(ut,Ye));return qe}serializeVisualContainerTreeToList(de,Ze,Ye){var qe=!1;for(var ut of de)(0,q.tx)(ut)?(qe||(this.version=(0,m.T9)(We._Jb.getVersionForVisualContainerGroup(ut),this.version),qe=!0),Ze.push(this.serializeVisualContainerGroup(ut)),this.serializeVisualContainerTreeToList(ut.children,Ze,Ye)):Ze.push(this.serializeVisualContainer(ut,Ye))}isRegularPageUsingMeasureDrillthrough(de){var Ze=!1,Ye=!1;return(null==de.type||de.type===A.gX.Regular)&&(Ze=!0===de.acceptsAllFiltersWhenLinked,Ye=_.some(de.filters,qe=>qe&&qe.howCreated===A.GS.Drillthrough&&!qe.isTransient&&(qe.isLinkedAsAggregation||qe.expression&&(0,mt.tx)(qe.expression)))),Ze||Ye}isMeasureDrillthroughPod(de){var Ze=!1,Ye=!1;return de.type===A.cN.Drillthrough&&(Ze=de.config&&de.config.acceptsFilterContext===A.G4.Default,Ye=_.some(de.parameters,qe=>qe.asAggregation||qe.fieldExpr&&(0,mt.tx)(qe.fieldExpr))),Ze||Ye}serializePageShallow(de,Ze,Ye){f.Y.assert(()=>Ae(de.visualContainers,et=>et.name).allUnique,"VisualContainer names must be unique within a section.");var qe={id:de.id,name:de.name,displayName:de.displayName,filters:this.serializeFilterContainers(de.filters,Ye),ordinal:Ze,visualContainers:void 0,transient:de.transient,objectId:de.objectId,config:{}};de.size&&(qe.displayOption=de.size.displayOption,qe.width=de.size.width,qe.height=de.size.height),Ye&&Ye.forSave&&(de.isNew=void 0),!Ye?.forSave&&de.originalSize&&(qe.originalDisplayOption=de.originalSize.displayOption,qe.originalWidth=de.originalSize.width,qe.originalHeight=de.originalSize.height);var ut=qe.config;return _.isEmpty(de.relationships)||(ut.relationships=this.serializeRelationships(de.relationships),Ye&&Ye.featureUsage&&(Ye.featureUsage.hasVisualRelationships=!0)),de.objects&&(ut.objects=this.serializeObjects(de.objects,W.Cq,"page",Ye)),null!=de.visibility&&(ut.visibility=de.visibility,this.version=(0,m.T9)(this.version,We.GOG)),null!=de.type&&(ut.type=de.type,this.version=(0,m.T9)(this.version,We.DNT)),null!=de.filterSortOrder&&(ut.filterSortOrder=de.filterSortOrder,this.version=(0,m.T9)(this.version,We.wJE)),ut.acceptsAllFiltersWhenLinked=de.acceptsAllFiltersWhenLinked,this.isRegularPageUsingMeasureDrillthrough(de)&&(this.version=(0,m.T9)(this.version,We.ReZ)),_.isEmpty(de.linkFields)||(ut.linkFields=_.map(de.linkFields,et=>this.serializeLinkField(et)),this.version=(0,m.T9)(this.version,We.DNT)),de.dynamicConfig&&(ut.dynamicConfig=this.serializePageDynamicConfig(de.dynamicConfig),this.version=(0,m.T9)(this.version,We.LUA),ut.dynamicConfig.quickExplore?.layout&&(this.version=(0,m.T9)(this.version,We.H$J))),de.howCreated&&de.howCreated!==A.ZM.Default&&(ut.howCreated=de.howCreated,this.version=(0,m.T9)(this.version,We.dX8)),qe}serializePod(de){var Ze=this.serializePodParameters(de.parameters);return this.isMeasureDrillthroughPod(de)&&(this.version=(0,m.T9)(this.version,We.ReZ)),de.referenceScope===A.th.CrossReport&&(this.version=(0,m.T9)(this.version,We.jMl)),{id:de.id,name:de.name,boundSection:de.boundSection,parameters:_.isEmpty(Ze)?void 0:JSON.stringify(Ze),cortanaEnabled:de.cortanaEnabled?de.cortanaEnabled:void 0,type:de.type!==A.cN.Default?de.type:void 0,referenceScope:de.referenceScope!==A.th.Default?de.referenceScope:void 0,config:this.serializePodConfig(de.config)}}serializeVisualContainer(de,Ze){_.forEach(de.layouts,le=>{le.position&&vt(le.position)});var Ye,qe=this.serializeVisualContainerConfig(de,Ze),ut=de.layouts&&de.layouts.withId(a.v.Master);if(ut?(f.Y.assertValue(ut.position,"Master layout should contain a position"),Ye={id:de.id,x:ut.position.x,y:ut.position.y,z:ut.position.z,width:ut.position.width,height:ut.position.height,config:qe,filters:this.serializeFilterContainers(de.filters)},ut.position.tabOrder&&(Ye.tabOrder=ut.position.tabOrder)):Ye={id:de.id,config:qe,filters:this.serializeFilterContainers(de.filters)},!_.isEmpty(de.filters)){var et=this.visualPlugins.capabilities(de.config.singleVisual.visualType);X.M.supportsFilterOutput(et)&&(this.version=(0,m.T9)(this.version,We.O64))}return Ze&&Ze.forSave&&(de.isNew=void 0),Ze&&Ze.withVisibility&&(null!=de.visibility&&(Ye.visibility=de.visibility),null!=de.detailVisualLayout&&(Ye.detailVisualLayout=de.detailVisualLayout)),Ze&&de.cachedData&&((Ze.withQuery||Ze.withData)&&(Ye.query=de.cachedData.queryObject?JSON.stringify(de.cachedData.queryObject):de.cachedData.query,Ye.dataTransforms=de.cachedData.transformsObject?d.R.serializeTransformActions(de.cachedData.transformsObject):de.cachedData.transforms,Ye.dataUpdatedTime=de.cachedData.dataUpdatedTime?de.cachedData.dataUpdatedTime.toISOString():void 0),Ze.withData&&(Ye.dataBinaryBase64Encoded=de.cachedData.dataObject?(0,v.Bc)(JSON.stringify(de.cachedData.dataObject)):de.cachedData.data)),Ye}serializeVisualContainerGroup(de,Ze){this.version=(0,m.T9)(this.version,We.$bp);var Ye={name:de.name,layouts:_.cloneDeep(de.layouts),singleVisualGroup:{displayName:de.displayName,groupMode:de.groupMode,isHidden:de.isHidden}};de.parentGroup&&(Ye.parentGroupName=de.parentGroup.name),de.objects&&(Ye.singleVisualGroup.objects=this.serializeObjects(de.objects,K.Cq,K.ge,Ze));var qe,ut=de.layouts&&de.layouts.withId(a.v.Master);return ut?(f.Y.assertValue(ut.position,"Master layout should contain a position"),qe={id:de.id,x:ut.position.x,y:ut.position.y,z:ut.position.z,width:ut.position.width,height:ut.position.height,config:Ye},this.featureSwitchService.featureSwitches.accessibilityTopLevelNav&&ut.position.tabOrder&&(qe.tabOrder=ut.position.tabOrder)):qe={id:de.id,config:Ye},qe}serializeModelExtensions(de){if(de)return _.map(de,Ze=>({name:Ze.name,extends:Ze.extends,entities:this.serializeModelExtensionEntities(Ze.entities)}))}serializeRelationship(de){return f.Y.assertValue(de,"relationship"),f.Y.assertValue(de.source.name,"relationship.source.name"),f.Y.assertValue(de.target.name,"relationship.target.name"),{source:de.source.name,target:de.target.name,type:de.type}}serializeVisualContainerConfig(de,Ze){var Ye=de.config&&de.config.singleVisual;f.Y.assertValue(de.name,"VisualContainer name is missing."),f.Y.assertValue(Ye,"explorationSerializer.serializeVisualContainerConfig - singleVisual should exist"),f.Y.assertValue(Ye.visualType,"explorationSerializer.serializeVisualContainerConfig - visualType should exist");var qe=Ye.query,ut=qe?.defn?_.keyBy(qe.defn.select(),yt=>yt.name):void 0,et=qe?qe.projections:void 0,le={name:de.name,layouts:_.cloneDeep(de.layouts),singleVisual:{visualType:Ye.visualType,projections:this.serializeQueryProjections(et,ut,de.name,Ye.visualType),prototypeQuery:qe?p.F3.serializeQuery(qe.defn):void 0}};qe&&qe.isDrillDisabled&&(this.version=(0,m.T9)(this.version,We.W2r),le.singleVisual.isDrillDisabled=qe.isDrillDisabled),null!=Ye.autoSelectVisualType&&(this.version=(0,m.T9)(this.version,We.xTQ),le.singleVisual.autoSelectVisualType=Ye.autoSelectVisualType);var me=this.serializeQueryFieldParameters(et);if(_.isEmpty(me)||(this.version=(0,m.T9)(this.version,We.L92),le.singleVisual.queryFieldParametersByRole=me,_.some(me,yt=>_.some(yt,Nt=>null!=Nt.sortDirection))&&(this.version=(0,m.T9)(this.version,We.D_B))),_.some(de.layouts,yt=>yt.position&&void 0!==yt.position.tabOrder)&&(this.version=(0,m.T9)(this.version,We.laz)),qe&&(0,P.Ry)(qe.expansionStates)){var Be=(0,c.K2)(qe.expansionStates);_.isEmpty(Be)||(le.singleVisual.expansionStates=Be,this.version=(0,m.T9)(this.version,We.sY6))}var Ke=Ye.columnProperties;if(Ke&&!_.isEmpty(Ke)){this.version=(0,m.T9)(this.version,We.ZNK.v3_4);var Xe=_.cloneDeep(Ke),re=_.pickBy(Xe,yt=>null!=yt.formatString);if(!_.isEmpty(re))for(var fe in re)null==ut?.[fe]&&(Xe[fe].formatString=null);_.some(Xe,yt=>null!=yt.formatString)&&(this.version=(0,m.T9)(this.version,We.L0n)),le.singleVisual.columnProperties=Xe}if(Ye.queryOptions&&(null!=Ye.queryOptions.allowBinnedLineSample&&(this.version=(0,m.T9)(this.version,We.ZNK.v3_3)),null!=Ye.queryOptions.allowOverlappingPointsSample&&(this.version=(0,m.T9)(this.version,We.ZNK.v3_5)),null!=Ye.queryOptions.keepProjectionOrder&&(this.version=(0,m.T9)(this.version,We.ZNK.v4_1)),le.singleVisual.queryOptions=_.cloneDeep(Ye.queryOptions)),Ye.display&&(this.version=(0,m.T9)(this.version,We.j17),le.singleVisual.display=_.cloneDeep(Ye.display)),qe&&qe.defn){if(Ye.visualType===Qe.U.slicer){var ae=qe.projections;ae&&ae[C.E0.value]&&ae[C.E0.value].all().length>1&&(this.version=(0,m.T9)(this.version,We.w5b))}(0,Q.lU)(Ye)&&(this.version=_.some(We.Qfr,yt=>yt===Ye.visualType)?(0,m.T9)(this.version,We.FK7):(0,m.T9)(this.version,We.J4d));var tt=qe.defn.select();for(var ot of tt)this.version=(0,m.T9)(this.version,We._Jb.getVersionForSQExpr(ot.expr));this.version=(0,m.T9)(this.version,We._Jb.getVersionForSortDefinitions(qe.defn.orderBy()))}var rt=this.serializeShowAllRoles(qe?qe.projections:void 0);_.isEmpty(rt)||(le.singleVisual.showAllRoles=rt,Ze&&Ze.featureUsage&&(Ze.featureUsage.hasShowAllEnabled=!0)),Ye.visualType===Qe.U.ribbonChart&&(this.version=(0,m.T9)(this.version,We.ZNK.v3_5)),Ye.visualType===Qe.U.actionButton&&(this.version=(0,m.T9)(this.version,We.rAT)),Ye.visualType===Qe.U.pythonVisual&&(this.version=(0,m.T9)(this.version,We.ZNK.v3_17)),Ye.visualType===Qe.U.keyDriversVisual&&(this.version=(0,m.T9)(this.version,We.ZNK.v4_1),Ye.query&&!_.isEmpty(Ye.query.tryGetExprs(D.Wx.details))&&(this.version=(0,m.T9)(this.version,We.nQ_))),Ye.visualType===Qe.U.qnaVisual&&(this.version=(0,m.T9)(this.version,We.ZNK.v5_4)),Ye.visualType===Qe.U.decompositionTreeVisual&&(this.version=(0,m.T9)(this.version,We.ZNK.v5_5)),Ye.visualType===Qe.U.azureMap&&(this.version=(0,m.T9)(this.version,We.ZNK.v5_13)),Ye.visualType===Qe.U.cardVisual&&(this.version=(0,m.T9)(this.version,We.xR7)),Ye.visualType===Qe.U.shape&&(this.version=(0,m.T9)(this.version,We.aLR)),Ye.visualType===Qe.U.pageNavigator&&(this.version=(0,m.T9)(this.version,We.v_G)),Ye.visualType===Qe.U.bookmarkNavigator&&(this.version=(0,m.T9)(this.version,We.v_G)),Ye.visualType===Qe.U.rdlVisual&&(this.version=(0,m.T9)(this.version,We.Hl1)),Ye.visualType===Qe.U.scorecard&&(this.version=(0,m.T9)(this.version,We.HeG)),Ye.visualType===Qe.U.aiNarratives&&(this.version=(0,m.T9)(this.version,We.oFC)),Ye.visualType===Qe.U.advancedSlicerVisual&&(this.version=(0,m.T9)(this.version,We.jbF)),Ye.visualType===Qe.U.hundredPercentStackedAreaChart&&(this.version=(0,m.T9)(this.version,We.ihX)),Ye.visualType===Qe.U.listSlicer&&(this.version=(0,m.T9)(this.version,We.PPx)),Ye.visualType===Qe.U.textSlicer&&(this.version=(0,m.T9)(this.version,We.kof)),this.featureSwitchService.featureSwitches.rowHierarchySelector&&(Ye.visualType===Qe.U.advancedSlicerVisual||Ye.visualType===Qe.U.listSlicer)&&(this.version=(0,m.T9)(this.version,We.ZNK.v5_64)),Ye.syncGroup&&(le.singleVisual.syncGroup=_.cloneDeep(Ye.syncGroup),this.version=(0,m.T9)(this.version,We.PR7)),null!=de.drillFilterOtherVisuals&&(le.singleVisual.drillFilterOtherVisuals=de.drillFilterOtherVisuals,this.version=(0,m.T9)(this.version,We.nNr)),null!=de.filterSortOrder&&(le.singleVisual.filterSortOrder=de.filterSortOrder,this.version=(0,m.T9)(this.version,We.wJE)),de.parentGroup&&(le.parentGroupName=de.parentGroup.name,this.version=(0,m.T9)(this.version,We.$bp)),de.howCreated&&de.howCreated!==A.S_.Default&&(le.howCreated=de.howCreated,this.version=(0,m.T9)(this.version,We.dX8)),Ye.hasDefaultSort&&(le.singleVisual.hasDefaultSort=Ye.hasDefaultSort);var Ot,Re=qe?Ye.query.defn.select():(0,y.OX)();if(Ye.objects){var J=this.visualPlugins.capabilities(Ye.visualType),ce=J&&J.objects;if(le.singleVisual.objects=this.serializeObjects(Ye.objects,ce,Ye.visualType,Ze,Re),(Ot=Ye).visualType===Qe.U.scatterChart&&Ot.query&&Ot.query.projections.Play&&!_.isEmpty(Ot.query.projections.Play.all())){var Ce=!1;(0,N.po)(Ye.objects,ce,(yt,Nt,Lt,zt,Yt)=>{"fill"===Nt&&"dataPoint"===zt&&null!=Lt&&(Ce=!0)}),Ce&&(this.version=(0,m.T9)(this.version,We.ZNK.v5_1))}this.supportsScalarMarkers(Ye)&&(0,m.lt)(this.version,We.p2U)&&this.upgradeIfScalarMarkersAreSet(Ye.objects)}var it=Ye.vcObjects;return it&&(le.singleVisual.vcObjects=this.serializeObjects(it,G.Xe,Ye.visualType,Ze,Re)),this.serializeMobileState(Ye,le.singleVisual,Ze?.forSave),Ye.cachedFilterDisplayItems&&(le.singleVisual.cachedFilterDisplayItems=(0,n.x5)(Ye.cachedFilterDisplayItems)),Ye.filterExpressionMetadata&&(le.singleVisual.filterExpressionMetadata=(0,s.UJ)(Ye.filterExpressionMetadata,this.featureSwitchService.featureSwitches.serializeSpaceOptimization),this.version=(0,m.T9)(this.version,We.__1)),this.version<We.$2$&&function(Ot){if(Ot.visualType!==Qe.U.scatterChart)return!1;var de=h.Jl.x,Ze=Ot.query,Ye=Ze?Ze.getRolesProjectionRefs([de]):void 0,qe=_.size(Ye);if(qe>1)return!0;if(1===qe){var ut=Ze.tryGetExpr(de,0);if(ut&&!(0,At.t)(ut))return!0}return!1}(Ye)&&(this.version=We.$2$),function(Ot){return!!Ot&&Ot.defn.select().some(de=>(0,mt.$M)(de.expr))}(qe)&&(this.version=(0,m.T9)(this.version,We.PGz),Ye&&(Ye.visualType===Qe.U.scatterChart||Ye.visualType===Qe.U.azureMap||Ye.visualType===Qe.U.map||Ye.visualType===Qe.U.filledMap||Ye.visualType===Qe.U.shapeMap)&&(this.version=(0,m.T9)(this.version,We.HZE)),Ye&&(Ye.visualType===Qe.U.lineStackedColumnComboChart||Ye.visualType===Qe.U.lineClusteredColumnComboChart)&&(this.version=(0,m.T9)(this.version,We.YFE)),_.some(qe.getVisualCalcExpressions(),yt=>(0,mt.$M)(yt.expr)&&null!=yt.expr.dataType)&&(this.version=(0,m.T9)(this.version,We.Qs5))),le}serializeMobileState(de,Ze,Ye){Ye||(de.mobileVcObjects&&(Ze.mobileVcObjects=(0,o.Eo)(de.mobileVcObjects,G.Xe,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,Ye)),de.mobileObjects&&(Ze.mobileObjects=(0,o.Eo)(de.mobileObjects,this.visualPlugins.capabilities(de.visualType)?.objects,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,Ye)))}serializeObjects(de,Ze,Ye,qe,ut){f.Y.assertValue(de,"explorationSerializer.serializeObjects - objects should exist"),f.Y.assertValue(Ye,"explorationSerializer.serializeObjects - visual type, 'page', or 'report' should exist");var et=(0,o.Eo)(de,Ze,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,qe?.forSave);return et&&this.removeItemLocationObjects(Ye,et),this.isAtLatestVersion()||(this.version=(0,m.T9)(this.version,(0,We.FLH)(de,Ze,Ye,this.version,ut))),et}removeItemLocationObjects(de,Ze){var Ye=(Xe,re)=>{var fe=Xe[re.objectName];if(null!=fe&&1===fe.length)return fe[0].properties[re.propertyName]};if(de===Qe.U.scorecard){var qe=Fe.p.scorecard.scorecardReference,ut=Fe.p.scorecard.scorecardId,et=Ye(Ze,Fe.p.scorecard.scorecardReference);null!=et&&(delete Ze[qe.objectName][0].properties[qe.propertyName],Ze[ut.objectName][0].properties[ut.propertyName]=et.byReference.itemId)}if(de===Qe.U.rdlVisual){var le=ye.FA.reportInfo.reference,me=ye.FA.reportInfo.reportId,Be=ye.FA.reportInfo.workspaceId,Ke=Ye(Ze,le);null!=Ke&&(delete Ze[le.objectName][0].properties[le.propertyName],Ze[me.objectName][0].properties[me.propertyName]=Ke.byReference.itemId,Ze[Be.objectName][0].properties[Be.propertyName]=Ke.byReference.workspaceId)}}isAtLatestVersion(){return this.version===ue.t}serializeShowAllRoles(de){if(f.Y.assertAnyValue(de,"projections"),de){var Ze=_.pickBy(de,Ye=>!0===Ye.showAll);return _.keys(Ze)}}serializeQueryProjections(de,Ze,Ye,qe){if(f.Y.assertAnyValue(de,"projections"),de){var ut={};for(var et in de){var le=de[et].all(),me=de[et].activeProjectionRefs;if(le.length>0){ut[et]=[];for(var Be=0;Be<le.length;++Be){var Ke=le[Be],Xe=Ke.queryRef,re=_.includes(me,Xe);if(!Ze||Ze[Xe]){var fe={queryRef:Xe};re&&(fe.active=!0),Ke.hidden&&(fe.hidden=Ke.hidden,this.version=(0,m.T9)(this.version,We.PGz)),ut[et].push(fe)}else this.telemetryService.logTrace(new Oe.V("Projection without a select detected in serialization",he.W.Error,void 0,void 0,{name:Ye,visualType:qe,role:et})),de[et].removeProjection({fieldIndex:Be}),re&&(me=_.clone(me),_.pull(me,Xe),de[et].activeProjectionRefs=me),--Be}ut[et].length||delete ut[et]}}return ut}}serializeQueryFieldParameters(de){if(f.Y.assertAnyValue(de,"projections"),de){var Ze={};for(var Ye in de){var qe=de[Ye].getFieldParameters();if(qe.length>0)for(var ut of(Ze[Ye]=[],qe)){var et={index:ut.index,length:ut.length,expr:p.F3.serializeExpr(ut.expr),sortDirection:ut.sortDirection};Ze[Ye].push(et)}}return Ze}}serializeModelExtensionEntities(de){if(de)return _.map(de,Ze=>{var Ye={name:Ze.name};return Ze.extends&&(Ye.extends=Ze.extends),Ze.measures&&(Ye.measures=this.serializeModelExtensionMeasures(Ze.measures)),Ye})}serializeExpressionReferences(de){if(de&&(de.unrecognizedReferences||!_.isEmpty(de.measures))){var Ze={unrecognizedReferences:de.unrecognizedReferences};return _.isEmpty(de.measures)||(Ze.measures=de.measures),Ze}}serializeModelExtensionAnnotations(de){if(de)return _.map(de,Ze=>({name:Ze.name,value:Ze.value}))}serializeModelExtensionMeasures(de){if(de)return _.map(de,Ze=>{var Ye={name:Ze.name,dataType:Ze.dataType,dataCategory:Ze.dataCategory,expression:Ze.expression,errorMessage:Ze.errorMessage,hidden:Ze.hidden,references:this.serializeExpressionReferences(Ze.references),formulaOverride:Ze.formulaOverride,formatInformation:Ze.formatInformation,displayFolder:Ze.displayFolder};return Ze.annotations&&(Ye.annotations=this.serializeModelExtensionAnnotations(Ze.annotations)),Ze.measureTemplate&&(Ye.measureTemplate={daxTemplateName:Ze.measureTemplate.daxTemplateName,version:Ze.measureTemplate.version}),Ze.description&&(Ye.description=Ze.description,this.version=(0,m.T9)(this.version,We.h_)),Ye})}serializeFilterContainers(de,Ze){if(de){var Ye=[];for(var qe of de)if(qe&&(qe.howCreated!==A.GS.Auto||X.M.isFilterModified(qe))&&(!qe.isTransient||Ze&&Ze.withTransientFilters)){qe.howCreated===A.GS.URL&&Ze&&Ze.forSave&&(qe.howCreated=A.GS.User),qe.howCreated===A.GS.Drillthrough&&(this.version=(0,m.T9)(this.version,We.ZNK.v3_5)),qe.isHiddenInViewMode&&(this.version=(0,m.T9)(this.version,We.$Kn)),qe.isLockedInViewMode&&(this.version=(0,m.T9)(this.version,We.$Kn)),qe.displayName&&(this.version=(0,m.T9)(this.version,We.gC2)),qe.ordinal&&(this.version=(0,m.T9)(this.version,We.wJE)),qe.type===B.RJ.RelativeTime&&(this.version=(0,m.T9)(this.version,We.o6K)),qe.type===B.RJ.Advanced&&qe.filter?.conditions().some(et=>{var le=(0,mt.w8)(et)?et.arg:et;return(0,mt.Wc)(le)&&(0,mt.Qy)(le.right)&&""===le.right.value})&&(this.version=(0,m.T9)(this.version,We.Mtt)),qe.type===B.RJ.VisualTopN&&(this.version=(0,m.T9)(this.version,We.SSD)),qe.filterExpressionMetadata&&!_.isEmpty(qe.filterExpressionMetadata.expressions)&&!_.isEmpty(qe.filterExpressionMetadata.cachedValueItems)&&(this.version=_.isEmpty(qe.filterExpressionMetadata.jsonFilter)?(0,m.T9)(this.version,We.VAO):(0,m.T9)(this.version,We.Rth));var ut=qe.filterExpressionMetadata?(0,s.UJ)(qe.filterExpressionMetadata,this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0;Ye.push({name:qe.name,expression:qe.expression?p.F3.serializeExpr(qe.expression):void 0,filter:qe.filter?p.F3.serializeFilter(qe.filter):void 0,type:B.RJ[qe.type],restatement:qe.restatement,cachedDisplayNames:(0,n.x5)(qe.cachedValueItems),howCreated:qe.howCreated,isLinkedAsAggregation:qe.isLinkedAsAggregation,isTransient:qe.isTransient,objects:qe.objects?this.serializeObjects(qe.objects,B.Xe,B.an,Ze):void 0,isHiddenInViewMode:qe.isHiddenInViewMode,isLockedInViewMode:qe.isLockedInViewMode,filterExpressionMetadata:ut,displayName:qe.displayName,ordinal:qe.ordinal})}return JSON.stringify(Ye)}}createVersionedElementConfig(de){return{version:de}}serializeResourcePackages(de,Ze){if(!_.isEmpty(de))return(0,ft.U1)(de,Ze).map(Ye=>({resourcePackage:Ye}))}getLayoutOptimizations(de){var Ze=this.getDistinctLayouts(de);return this.getLayoutOptimizationFromLayouts(Ze)}getLayoutOptimizationFromLayouts(de){var Ze=i.Sf.None;for(var Ye of de)Ye.id===a.v.PhonePortrait&&(Ze|=i.Sf.PhonePortrait);return Ze}getDistinctLayouts(de){var Ze=de.sections,Ye=(0,y.mq)();for(var qe of Ze)for(var ut of qe.visualContainers)for(var et of ut.layouts)Ye.withId(et.id)||Ye.push(et);return Ye}serializePodParameters(de){if(!_.isEmpty(de)){var Ze=[];for(var Ye of de)Ze.push({name:Ye.name,boundFilter:Ye.boundFilter,fieldExpr:Ye.fieldExpr?p.F3.serializeExpr(Ye.fieldExpr):void 0,asAggregation:Ye.asAggregation?Ye.asAggregation:void 0,isLegacySingleSelection:Ye.isLegacySingleSelection?Ye.isLegacySingleSelection:void 0});return Ze}}serializePodConfig(de){return _.isEmpty(de)||de.acceptsFilterContext===A.G4.Default?"{}":JSON.stringify(de)}serializeRelationships(de){if(!_.isEmpty(de)){var Ze;for(var Ye of de){var qe=this.serializeRelationship(Ye);qe&&(Ze||(Ze=[])).push(qe)}return Ze}}removeInvalidPods(de,Ze,Ye){var qe=_.map(de,Ke=>Ke.name),ut=_.remove(Ze,Ke=>!_.includes(qe,Ke.boundSection)),et=_.size(ut);if(et>0&&Ye.logEvent(k.op,{errorType:k.ax.NonExistingBoundSection,count:et}),!(_.size(Ze)<=_.size(de))){var le=_.groupBy(Ze,Ke=>Ke.boundSection),me=0;_.forEach(le,Ke=>{var Xe=Ke.length;if(Xe>1){me++;for(var re=Ke[0].boundSection,fe=_.findLastIndex(Ze,tt=>tt.boundSection===re),ae=Xe-1;ae>0&&fe>=0;)Ze.splice(fe,1),ae--,fe=_.findLastIndex(Ze,tt=>tt.boundSection===re,fe-1)}}),me>0&&Ye.logEvent(k.op,{errorType:k.ax.DuplicateBoundSection,count:me});var Be=_.size(Ze)-_.size(de);Be>0&&(f.Y.assertFail("Expect the number of pods <= the number of sections after removing pods with NonExistingBoundSection and DuplicateBoundSection"),Ze=Ze.slice(0,_.size(de)),Ye.logEvent(k.op,{errorType:k.ax.ExceedingPodsNumberAfterInitialFix,count:Be}))}}supportsScalarMarkers(de){return _.some([Qe.U.lineChart,Qe.U.areaChart,Qe.U.stackedAreaChart,Qe.U.hundredPercentStackedAreaChart],Ye=>Ye===de.visualType)}upgradeIfScalarMarkersAreSet(de){var Ze=(0,N._W)(de,{objectName:"categoryAxis",propertyName:"axisType"},null);if(Ze&&"Scalar"===w.wy.getTextValue(Ze)){var Ye=(0,N._W)(de,{objectName:"lineStyles",propertyName:"showMarker"},null);Ye&&w.wy.getBooleanValue(Ye)&&(this.version=(0,m.T9)(this.version,We.p2U))}}serializePageDynamicConfig(de){var Ze;if(de.quickExplore){var qe=de.quickExplore.visualContainerConfigurations,ut=de.quickExplore.layout;Ze||(Ze={}),Ze.quickExplore={selectedFields:_.map(de.quickExplore.selectedFields,et=>p.F3.serializeExpr(et)),visualContainerConfigurations:_.map(qe,et=>({name:et.name,fields:_.map(et.fields,le=>p.F3.serializeExpr(le))}))},ut&&(Ze.quickExplore.layout=this.serializeQuickExploreLayout(ut),this.version=(0,m.T9)(this.version,We.H$J))}return Ze}serializeQuickExploreLayout(de){if(de.combination){var Ze={version:de.combination.version};return de.combination.dataTableName&&(Ze.dataTableName=de.combination.dataTableName),{combination:Ze}}if(de.related){var Ye={version:de.related.version};return de.related.dataTableName&&(Ye.dataTableName=de.related.dataTableName),{related:Ye}}}}function vt(Ot){null!=Ot.x&&null!=Ot.y&&null!=Ot.width&&null!=Ot.height||(b.Cn.error("deserializeVisualContainer found null in layout position: "+JSON.stringify({x:Ot.x,y:Ot.y,width:Ot.width,height:Ot.height})),null==Ot.x&&(Ot.x=0),null==Ot.y&&(Ot.y=0),null==Ot.width&&(Ot.width=0),null==Ot.height&&(Ot.height=0))}},990783:function(ve,z,e){e.d(z,{LH:function(){return l},U1:function(){return m},UL:function(){return s},Vm:function(){return u},iZ:function(){return c},pF:function(){return p}});var a=e(413399),i=e(92644),r=e(709190),t=e(18122),o=e(992516),d=e(989417),n=e(694398);function c(g,E,D,h,C){t.Y.assertValue(g,"webBookmark");var y=(0,o.i)(g,D,h);if(y.errors&&!E)for(var f of y.errors)C.logEvent(a.Fn,{type:"WebBookmark",errorCode:f.code,stack:f.stack,message:f.message});return y.contract}function s(g,E,D,h,C){if(!(0,d.M)(g)){var y=(0,n.p)(g);if(y)try{return E.deserialize(y,D,h)}catch(f){return f&&C.logEvent(a.VD,{stack:f.stack,message:f.message}),{explorationState:null}}}}function p(g,E,D){if(g){var h=E.serialize(g,D);return JSON.stringify(h)}}function l(g){return u(g.map(E=>E.resourcePackage))}function u(g){t.Y.assertValue(g,"resourcePackageWireContracts");var E=[];for(var D of g)v(D),E.push(D);for(var h=0;h<E.length;++h)if(E[h])for(var C=E.length;--C>h;)E[C]&&E[h].name===E[C].name&&(E[C].id>E[h].id&&(E[h]=E[C]),E.splice(C,1));return E}function v(g){void 0===g.type&&(g.type=r.X.CustomVisual)}function m(g,E){if(!_.isEmpty(g)){var D=[],h=function(){var y=_.find(C.items,V=>V.type===i.gH.CustomVisualMetadata);if(y&&void 0!==y.content){var f=_.isString(y.content)?(0,n.p)(y.content):y.content;f&&(f.content=void 0,y.content=JSON.stringify(f))}var S=C.items;if(S){var b=["contentBlob","contentBlobUrl","promise"];E&&E.excludeResourceItemContent&&b.push("content"),S=_.map(S,V=>_.omit(V,b))}D.push({id:C.id,name:C.name,type:C.type,items:S,disabled:!!C.disabled})};for(var C of g)h();return D}}},193311:function(ve,z,e){e.d(z,{Ec:function(){return P},Mk:function(){return T},iu:function(){return N},lK:function(){return K},Lj:function(){return k}});var a=e(574799),i=e(698244),r=e(206332),t=e(641831),o=e(654316),d=e(690332),n=e(44303),c=e(579260),s=e(18122),p=e(167616),l=e(989917),u=e(11733),v=e(576086),m=e(735006),g=e(448119),E=e(528092);class h{constructor(Q){var H=(0,E.Z)(Q).downgraders;this.objectsDowngrader=(0,m.y)(H)}getFinalExplorationVersion(Q,H){var te=Q&&Q.sections;if(te){for(var ee of Object.keys(te)){var ue=te[ee];for(var Te of Object.keys(ue.visualContainers)){var He=ue.visualContainers[Te],We=He.singleVisual;if(We){var ft=We.visualType,mt=He.singleVisual?.mobileVcObjects;mt&&(H=(0,n.T9)(H,this.objectsDowngrader.getFinalVisualObjectsVersion(g.p.VisualContainer,mt,H,ft)));var At=He.singleVisual?.mobileObjects;At&&(H=(0,n.T9)(H,this.objectsDowngrader.getFinalVisualObjectsVersion(g.p.Visual,At,H,ft)))}}}return H}}downgrade(Q,H){var te=Q&&Q.sections;if(te)for(var ee of Object.keys(te)){var ue=te[ee];for(var Te of Object.keys(ue.visualContainers)){var We=ue.visualContainers[Te].singleVisual;if(We){var ft=We.visualType,mt=We.mobileVcObjects;mt&&this.objectsDowngrader.downgrade(g.p.VisualContainer,mt,ft,H);var At=We.mobileObjects;At&&this.objectsDowngrader.downgrade(g.p.Visual,At,ft,H)}}}}}var C=e(892784),y=e(237983),f=e(20726);class b{constructor(Q){this.objectsUpgrader=(0,y.t)((0,f.E)(Q).getVersionUpgraders())}upgrade(Q,H){var te=Q&&Q.sections;if(te){for(var ee of Object.keys(te)){var ue=te[ee];for(var Te of Object.keys(ue.visualContainers)){var We=ue.visualContainers[Te].singleVisual;if(We){var ft=We.visualType,mt=We.mobileVcObjects;mt&&this.objectsUpgrader.upgrade(g.S.VisualContainer,mt,ft,H);var At=We.mobileObjects;At&&this.objectsUpgrader.upgrade(g.S.Visual,At,ft,H)}}}return Q}}}var V=e(312598),M=e(821553);function P(Y,Q){var H={};for(var te of Q.sections)for(var ee of te.visualContainers)H[ee.name]=!0;for(var ue in Y.sections){var Te=Y.sections[ue];for(var He in Te.visualContainers)H[He]||delete Te.visualContainers[He]}}function T(Y,Q,H){return U(k(Y,null,H,Q),Q)}function N(Y,Q,H,te){if(s.Y.assertValue(Y,"input"),te?.runUpgraders){var ee=(0,M.F$E)(Y.version),ue=function(Y){return new b(Y)}(H);Y=ue.upgrade(Y,ee)}var Te={activeSection:Y.activeSection,filters:w(Y.filters),sections:_.mapValues(Y.sections,He=>function(Y,Q){return s.Y.assertValue(Y,"input"),{filters:w(Y.filters),visualContainers:_.mapValues(Y.visualContainers,H=>function(Y,Q){s.Y.assertValue(Y,"input");var H=U(Y.singleVisual,Q);return{filters:w(Y.filters),singleVisual:H,visibility:Y.singleVisual?G(Y.singleVisual.display):void 0,highlight:Y.highlight?W(Y.highlight):void 0}}(H,Q)),visualContainerGroups:Y.visualContainerGroups&&_.mapValues(Y.visualContainerGroups,j)}}(He,Q))};return Y.objects&&(Te.objects=B(Y.objects,()=>p.F)),Y.dataSourceVariables&&(Te.dataSourceVariables=Y.dataSourceVariables),Te}function w(Y){if(s.Y.assertAnyValue(Y,"input"),Y){var Q={};return Y.byName&&(Q.nameIdentifiedMerges=_.mapValues(Y.byName,I)),Y.byExpr&&(Q.exprIdentifiedMerges=_.map(Y.byExpr,I)),Y.byType&&(Q.typeIdentifiedMerges=_.map(Y.byType,I)),Y.byTransientState&&(Q.transientFilters=_.map(Y.byTransientState,I)),Q}}function I(Y){return s.Y.assertValue(Y,"input"),{name:Y.name,type:l.RJ[Y.type],filter:Y.filter?d.F3.deserializeFilter(Y.filter):void 0,expression:Y.expression?d.F3.deserializeExpr(Y.expression):void 0,restatement:Y.restatement,howCreated:Y.howCreated,precedence:Y.precedence,isTransient:Y.isTransient,cachedValueItems:(0,r.yV)(Y.cachedDisplayNames),filterExpressionMetadata:Y.filterExpressionMetadata?(0,o.jH)(Y.filterExpressionMetadata):void 0}}function j(Y){return s.Y.assertValue(Y,"input"),{isHidden:Y.isHidden,children:Y.children&&_.mapValues(Y.children,Q=>j(Q))}}function U(Y,Q){if(s.Y.assertAnyValue(Y,"input"),Y){var H={visualType:Y.visualType};if(null!=Y.isDrillDisabled&&(H.isDrillDisabled=Y.isDrillDisabled),null!=Y.autoSelectVisualType&&(H.autoSelectVisualType=Y.autoSelectVisualType),Y.objects&&(H.objects=B(Y.objects,()=>Y.visualType&&Q.capabilities(Y.visualType)?.objects)),Y.orderBy&&(H.orderBy=d.F3.deserializeSortDefinitions(Y.orderBy,null)),Y.targetType&&(H.targetType=Y.targetType),null!=Y.targetAutoSelectVisualType&&(H.targetAutoSelectVisualType=Y.targetAutoSelectVisualType),Y.activeProjections&&(H.activeProjections=F(Y.activeProjections)),_.isEmpty(Y.parameters)||(H.parameters=function(Y){var Q;for(var H in Y){var te=Y[H];_.isEmpty(te)||(Q||(Q={}),Q[H]=_.map(te,ee=>({expr:d.F3.deserializeExpr(ee.expr),index:ee.index,length:ee.length,sortDirection:ee.sortDirection})))}return Q}(Y.parameters)),Y.projections&&(H.projections=F(Y.projections)),Y.display&&Y.display.mode===v.Pt.Hidden&&(H.hidden=!0),Y.cachedFilterDisplayItems&&(H.cachedFilterDisplayItems=(0,r.yV)(Y.cachedFilterDisplayItems)),Y.filterExpressionMetadata&&(H.filterExpressionMetadata=(0,o.jH)(Y.filterExpressionMetadata)),Y.expansionStates){var te=Q.capabilities(Y.visualType);H.expansionStates=(0,t.rY)(Y.expansionStates,{supportsMerge:te&&te.expandCollapse&&te.expandCollapse.supportsMerge,canCollapseRoot:te&&te.noDefaultProjections,collapseParentAfterRemovingChildLevel:te&&te.expandCollapse&&te.expandCollapse.collapseParentAfterRemovingChildLevel})}if(Y.mobileVcObjects&&(H.mobileVcObjects=(0,i.EP)(Y.mobileVcObjects,u.Xe)),Y.mobileObjects){var He=Q.capabilities(Y.visualType);H.mobileObjects=(0,i.EP)(Y.mobileObjects,He&&He.objects)}return H}}function F(Y){var Q;for(var H in Y){var te=Y[H];_.isEmpty(te)||(Q||(Q={}),Q[H]=_.map(te,ee=>null===ee?null:d.F3.deserializeExpr(ee)))}return Q}function B(Y,Q){s.Y.assertValue(Y,"input");var H={};return Y.merge&&(0,i.NK)(Y.merge,Q,H,"merge"),Y.remove&&(H.remove=_.map(Y.remove,A)),H}function A(Y){return s.Y.assertValue(Y,"input"),{object:Y.object,property:Y.property,selector:(0,i.BE)(Y.selector)}}function W(Y){return s.Y.assertValue(Y,"input"),{selection:(0,i.Cf)(Y.selection),filterExpressionMetadata:Y.filterExpressionMetadata?(0,o.jH)(Y.filterExpressionMetadata):void 0}}function G(Y){if(s.Y.assertAnyValue(Y,"display"),Y&&Y.mode)switch(Y.mode){case v.Pt.Maximize:switch(Y.maximizedOptions&&Y.maximizedOptions.dataTable){case a.R.accessible:return v.B8.MaximizeWithDataAccessible;case a.R.normal:return v.B8.MaximizeWithData;default:return v.B8.Maximize}case v.Pt.Spotlight:return v.B8.Spotlight}}function K(Y,Q,H,te,ee){s.Y.assertValue(Y,"input");var ue=new L(Q),Te={version:void 0,activeSection:Y.activeSection,filters:ue.serializeFilters(Y.filters),sections:_.mapValues(Y.sections,ft=>ue.serializeSection(ft,H))};if(Y.objects&&(Te.objects=ue.serializeObjects(Y.objects,p.F),ue.version=(0,n.T9)(ue.version,V.OD)),Y.dataSourceVariables&&(Te.dataSourceVariables=Y.dataSourceVariables,ue.version=(0,n.T9)(ue.version,V.He)),te?.runDowngraders&&ue.version!==C.Q){var He=function(Y){return new h(Y)}(ee),We=(0,M.F$E)(ue.version);We=He.getFinalExplorationVersion(Y,We),He.downgrade(Te,We),Te.version=(0,M.Vyr)(We),s.Y.assertValue(Te.version,"exploration state version should exist")}return Te.version=Te.version||ue.version,Te}function k(Y,Q,H,te){return new L(H).serializeSingleVisual(Y,Q,te)}class L{constructor(Q){this.featureSwitchService=Q,this.version=V.tF}serializeFilters(Q){if(s.Y.assertAnyValue(Q,"input"),Q){var H={};return Q.nameIdentifiedMerges&&(H.byName=_.mapValues(Q.nameIdentifiedMerges,te=>this.serializeFilterContainer(te))),Q.exprIdentifiedMerges&&(H.byExpr=_.map(Q.exprIdentifiedMerges,te=>this.serializeFilterContainer(te))),Q.typeIdentifiedMerges&&(H.byType=_.map(Q.typeIdentifiedMerges,te=>this.serializeFilterContainer(te))),Q.transientFilters&&(H.byTransientState=_.map(Q.transientFilters,te=>this.serializeFilterContainer(te))),H}}serializeFilterContainer(Q){s.Y.assertValue(Q,"input");var H=Q.filterExpressionMetadata?(0,o.UJ)(Q.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0;return{name:Q.name,type:null!=Q.type?l.RJ[Q.type]:void 0,filter:Q.filter?d.F3.serializeFilter(Q.filter):void 0,expression:Q.expression?d.F3.serializeExpr(Q.expression):void 0,restatement:Q.restatement,howCreated:Q.howCreated,isTransient:Q.isTransient,cachedDisplayNames:(0,r.x5)(Q.cachedValueItems),filterExpressionMetadata:H}}serializeSection(Q,H){return s.Y.assertValue(Q,"input"),_.chain(Q.visualContainers).values().sumBy(te=>null==te.highlight?0:1).value()>1&&(this.version=(0,n.T9)(this.version,V.H1)),{filters:this.serializeFilters(Q.filters),visualContainers:_.mapValues(Q.visualContainers,te=>this.serializeVisualContainer(te,H)),visualContainerGroups:Q.visualContainerGroups&&_.mapValues(Q.visualContainerGroups,te=>this.serializeVisualContainerGroup(te))}}serializeVisualContainer(Q,H){return s.Y.assertValue(Q,"input"),Q.highlight&&(this.version=(0,n.T9)(this.version,V.Ah)),{filters:this.serializeFilters(Q.filters),singleVisual:this.serializeSingleVisual(Q.singleVisual,Q.visibility,H),highlight:Q.highlight?this.serializeHighlightState(Q.highlight):void 0}}serializeVisualContainerGroup(Q){return s.Y.assertValue(Q,"input"),{isHidden:Q.isHidden,children:Q.children&&_.mapValues(Q.children,H=>this.serializeVisualContainerGroup(H))}}serializeSingleVisual(Q,H,te){if(s.Y.assertAnyValue(Q,"input"),Q||null!=H){var ee={};if(Q){if(ee.visualType=Q.visualType,Q.isDrillDisabled&&(ee.isDrillDisabled=Q.isDrillDisabled,this.version=(0,n.T9)(this.version,V.W2)),null!=Q.autoSelectVisualType&&(ee.autoSelectVisualType=Q.autoSelectVisualType,this.version=(0,n.T9)(this.version,V.xT)),Q.objects&&(ee.objects=this.serializeObjects(Q.objects,te?.capabilities(Q.visualType)?.objects)),Q.orderBy&&(ee.orderBy=d.F3.serializeSortDefinitions(Q.orderBy,!0)),Q.activeProjections&&(ee.activeProjections=this.serializeActiveProjections(Q.activeProjections)),Q.targetType&&(ee.targetType=Q.targetType,this.version=(0,n.T9)(this.version,V.HV)),null!=Q.targetAutoSelectVisualType&&(ee.targetAutoSelectVisualType=Q.targetAutoSelectVisualType,this.version=(0,n.T9)(this.version,V.xT)),Q.projections&&(ee.projections=this.serializeActiveProjections(Q.projections),this.version=(0,n.T9)(this.version,V.HV)),_.isEmpty(Q.parameters)||(ee.parameters=this.serializeParameters(Q.parameters),this.version=(0,n.T9)(this.version,V.rQ),_.some(ee.parameters,He=>_.some(He,We=>null!=We.sortDirection))&&(this.version=(0,n.T9)(this.version,V.D_))),Q.cachedFilterDisplayItems&&(ee.cachedFilterDisplayItems=(0,r.x5)(Q.cachedFilterDisplayItems)),Q.filterExpressionMetadata&&(ee.filterExpressionMetadata=(0,o.UJ)(Q.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization),this.version=(0,n.T9)(this.version,V.OS)),Q.mobileVcObjects&&(ee.mobileVcObjects=this.serializeMobileObjects(Q.mobileVcObjects,u.Xe,Q.visualType)),Q.mobileObjects&&te){var ue=te.capabilities(Q.visualType);ee.mobileObjects=this.serializeMobileObjects(Q.mobileObjects,ue&&ue.objects,Q.visualType)}_.isEmpty(Q.expansionStates)||(ee.expansionStates=(0,t.K2)(Q.expansionStates))}return s.Y.assert(()=>!(Q?.hidden&&H),"cannot mix hidden & visibility states"),Q?.hidden?ee.display={mode:v.Pt.Hidden}:H&&(ee.display=function(Y){switch(s.Y.assertAnyValue(Y,"mode"),Y){case v.B8.Maximize:return{mode:v.Pt.Maximize};case v.B8.MaximizeWithData:return{mode:v.Pt.Maximize,maximizedOptions:{dataTable:a.R.normal}};case v.B8.MaximizeWithDataAccessible:return{mode:v.Pt.Maximize,maximizedOptions:{dataTable:a.R.accessible}};case v.B8.Spotlight:return{mode:v.Pt.Spotlight}}}(H)),_.isEmpty(ee)?void 0:ee}}serializeMobileObjects(Q,H,te){this.version=(0,n.T9)(this.version,V.db);var ee=(0,i.Eo)(Q,H,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,!0);if(this.version===C.Q)return ee;var ue=(0,M.F$E)(this.version);ue=(0,M.FLH)(Q,H,te,ue,(0,c.OX)());var Te=(0,M.Vyr)(ue);return this.version=(0,n.T9)(this.version,Te),ee}serializeActiveProjections(Q){var H;for(var te in Q){var ee=Q[te];_.isEmpty(ee)||(H||(H={}),H[te]=_.map(ee,ue=>null===ue?null:d.F3.serializeExpr(ue)))}return H}serializeParameters(Q){var H;for(var te in Q){var ee=Q[te];_.isEmpty(ee)||(H||(H={}),H[te]=_.map(ee,ue=>({expr:d.F3.serializeExpr(ue.expr),index:ue.index,length:ue.length,sortDirection:ue.sortDirection})))}return H}serializeObjects(Q,H){s.Y.assertValue(Q,"input");var te={};return Q.merge&&(te.merge=(0,i.Eo)(Q.merge,H,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization,!0)),Q.remove&&(te.remove=_.map(Q.remove,ee=>this.serializeObjectPropSelector(ee))),te}serializeObjectPropSelector(Q){return s.Y.assertValue(Q,"input"),{object:Q.object,property:Q.property,selector:(0,i.Gq)(Q.selector)||null}}serializeHighlightState(Q){return s.Y.assertValue(Q,"input"),Q.filterExpressionMetadata&&(this.version=(0,n.T9)(this.version,V.OD)),{selection:(0,i.bF)(Q.selection,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization),filterExpressionMetadata:Q.filterExpressionMetadata?(0,o.UJ)(Q.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0}}}},312598:function(ve,z,e){e.d(z,{AS:function(){return Y},Ah:function(){return i},BZ:function(){return q},C9:function(){return D},Cd:function(){return v},Cm:function(){return C},D_:function(){return X},H1:function(){return r},HM:function(){return s},HV:function(){return n},He:function(){return o},Hu:function(){return Q},IB:function(){return K},Im:function(){return ne},JF:function(){return y},JL:function(){return E},JR:function(){return u},JS:function(){return L},Jw:function(){return m},OD:function(){return t},OS:function(){return d},Oo:function(){return p},Pd:function(){return x},Pj:function(){return G},Pp:function(){return k},Py:function(){return A},Qn:function(){return g},Qr:function(){return P},Qt:function(){return l},Su:function(){return S},W:function(){return j},W2:function(){return B},WR:function(){return O},WX:function(){return W},X7:function(){return h},Z8:function(){return T},ZN:function(){return f},ZZ:function(){return w},Zc:function(){return b},db:function(){return U},eC:function(){return I},eL:function(){return N},eR:function(){return V},ln:function(){return M},rQ:function(){return F},tF:function(){return a},xT:function(){return R}});var a="1.0",i="1.1",r="1.2",t="1.3",o="1.4",d="1.5",n="1.6",s="1.8",p="1.9",l="1.10",u="1.11",v="1.12",m="1.13",g="1.14",E="1.15",D="1.16",h="1.17",C="1.18",y="1.19",f="1.20",S="1.21",b="1.22",V="1.23",M="1.24",P="1.25",T="1.26",N="1.27",w="1.28",I="1.29",O="1.30",x="1.31",j="1.32",U=s,F=u,R=E,B=T,A="1.33",W="1.34",G="1.35",K="1.36",q="1.37",ne="1.38",k="1.39",L="1.40",X=L,Y="1.41",Q="1.42"},20726:function(ve,z,e){e.d(z,{E:function(){return Dt}});var a=e(694398),i=e(44303),r=e(18122),t=e(643484),o=e(448119),d=e(237983),n=e(481041),c=e(698244),s=e(690332),p=e(638761),l=e(436151),u=e(994131),v=e(406087),m=e(757406),g=e(576086),E=e(821553),D=e(620455);class C{upgrade(Ne,at){if(r.Y.assertValue(Ne,"exploration"),Ne&&(Ne.filters=this.upgradeFilterContainers(Ne.filters),Ne.sections))for(var St of Ne.sections)if(St.filters=this.upgradeFilterContainers(St.filters),St.visualContainers)for(var Ct of St.visualContainers){Ct.filters=this.upgradeFilterContainers(Ct.filters);var Rt=Ct.config.singleVisual;Rt&&(Rt.objects=this.upgradeObjects(Rt.objects,Rt.visualType||Rt.visualConfig.visualType,at))}}upgradeVisualObjects(Ne,at,St,Ct){}upgradeFilterCollection(Ne){r.Y.assertValue(Ne,"filterCollection"),Ne&&Ne.filters&&(Ne.filters=this.upgradeFilterContainers(Ne.filters))}getVersion(){return E.ZNK.v1_0}upgradeFilterContainers(Ne){if(!_.isEmpty(Ne)){var at=(0,a.p)(Ne);if(at)for(var St of at)this.upgradeFilterContainer(St);return JSON.stringify(at)}}upgradeFilterContainer(Ne){if(!Ne.expression&&Ne.field){var at=function(Et){var Ne=Et.aggregate;if(void 0!==Ne){var at=S(Et)||V(Et);if(at)return(0,m.QD)(at,Ne)}}(Et=Ne.field)||S(Et)||function(Et){var Ne=Et.measure;if(Ne){var at=V(Et);if(at)return(0,m.K6)(at,Ne)}}(Et)||V(Et);at&&(Ne.expression=s.F3.serializeExpr(at))}var Et;void 0===Ne.howCreated&&(Ne.howCreated=Ne.autoGenerated?g.GS.Auto:g.GS.User)}upgradeObjects(Ne,at,St){switch(r.Y.assertAnyValue(Ne,"allObjectDefns"),this.dropMalformedSelectors(Ne),at){case D.U.filledMap:return this.upgradeObjectsFilledMap(Ne);case D.U.card:return this.upgradeObjectsCard(Ne);case D.U.donutChart:case D.U.pieChart:return St&&(0,i.gt)(St,"1.0")?Ne:this.upgradeObjectsDonutChart(Ne)}return Ne}dropMalformedSelectors(Ne){if(r.Y.assertAnyValue(Ne,"allObjectDefns"),Ne)for(var at in Ne){var St=Ne[at];if(St)for(var Ct=St.length-1;Ct>=0;Ct--){var jt=St[Ct].selector;jt&&(jt.metadata||delete jt.metadata,_.isEmpty(Object.keys(jt))&&St.splice(Ct,1))}}}upgradeObjectsFilledMap(Ne){r.Y.assertAnyValue(Ne,"allObjectDefns");var at="dataPoint",St="fillRule";Ne||(Ne={});var Rt,Ct=Ne[at];for(var jt of(Ct||(Ne[at]=Ct=[]),Ct))if(!jt.selector){Rt=jt;break}return Rt||Ct.push(Rt={selector:null,properties:{}}),r.Y.assertValue(Rt,"targetObjectDefn"),null==Rt.properties[St]&&(Rt.properties[St]=(0,c.Xy)((0,u.s6)(),(0,l.Vy)().objects[at].properties[St])),Ne}upgradeObjectsCard(Ne){r.Y.assertAnyValue(Ne,"allObjectDefns");var at="cardTitle";if(Ne){var Ct=Ne[at];Ct&&(Ne.categoryLabels=Ct,delete Ne[at])}return Ne}upgradeObjectsDonutChart(Ne){r.Y.assertAnyValue(Ne,"allObjectDefns");var at="categoryLabels",St="labels",Ct="labelStyle",Rt="show";if(Ne){var cr,jt=this.getMetadataOnceObjectDefn(Ne,St),qt=this.getPropertyExpr(jt,Rt),ir=!!qt&&s.F3.deserializeExpr(qt).value,gr=this.getMetadataOnceObjectDefn(Ne,at);if(gr){var hr=this.getPropertyExpr(gr,Rt),yr=!!hr&&s.F3.deserializeExpr(hr).value;ir&&yr?cr=v.a8.categoryAndData:ir&&!yr?cr=v.a8.data:!ir&&yr&&(cr=v.a8.category),delete Ne[at]}else jt&&jt.properties[Ct]||(cr=ir?v.a8.categoryAndData:v.a8.category);if(null!=cr){var Vr=(0,p.du)().objects[St].properties;if(!jt){var $r=Ne[St];$r||(Ne[St]=$r=[]),(jt=_.find($r,Br=>!Br.selector))||$r.push(jt={properties:{}})}jt.properties[Rt]=(0,c.Xy)((0,m.zM)(!0),Vr[Rt]),jt.properties[Ct]=(0,c.Xy)((0,m.Qq)(cr),Vr[Ct])}return Ne}}getMetadataOnceObjectDefn(Ne,at){if(Ne){var St=Ne[at];if(!_.isEmpty(St))return _.find(St,Ct=>!Ct.selector)}}getPropertyExpr(Ne,at){if(Ne){var St=Ne.properties[at];if(St)return St.expr}}}function S(Et){var Ne=Et.column;if(Ne){var at=V(Et);if(at)return(0,m.sX)(at,Ne)}}function V(Et){return(0,m.EG)(Et.schema,Et.entity,Et.entityVar)}var M=e(316051);class T{upgrade(Ne){if(r.Y.assertValue(Ne,"exploration"),Ne&&Ne.sections)for(var at of Ne.sections)if(at.visualContainers)for(var St of at.visualContainers){var Ct=St.config;Ct.layouts||(Ct.layouts=[{id:M.v.Master,position:{x:St.x,y:St.y,z:St.z,width:St.width,height:St.height}}])}}upgradeFilterCollection(Ne){}upgradeVisualObjects(Ne,at,St,Ct){}getVersion(){return E.ZNK.v2_0}}class w{upgrade(Ne){}upgradeFilterCollection(Ne){r.Y.assertValue(Ne,"filterCollection"),Ne&&Ne.filters&&(Ne.filters=this.upgradeFilterContainers(Ne.filters))}upgradeFilterContainers(Ne){if(!_.isEmpty(Ne)){var at=(0,a.p)(Ne);if(at)for(var St of at)this.upgradeFilterContainer(St);return JSON.stringify(at)}}upgradeFilterContainer(Ne){Ne.howCreated===g.GS.Drill&&!Ne.precedence&&(Ne.precedence=g.NH.Drill)}upgradeVisualObjects(Ne,at,St,Ct){}getVersion(){return E.ZNK.v2_2}}var I=e(708589),O=e(92249),x=e(999904);class U{upgrade(Ne){if(r.Y.assertValue(Ne,"exploration"),Ne&&Ne.sections)for(var at of Ne.sections)if(at.visualContainers)for(var St of at.visualContainers){var Ct=St.config.singleVisual;Ct&&(Ct.objects=this.upgradeObjects(Ct.objects,Ct.visualType||Ct.visualConfig.visualType))}}upgradeFilterCollection(Ne){}upgradeVisualObjects(Ne,at,St,Ct){}getVersion(){return E.ZNK.v2_3}upgradeObjects(Ne,at){return r.Y.assertAnyValue(Ne,"allObjectDefns"),at===D.U.slicer?this.upgradeSlicerObjects(Ne):Ne}upgradeSlicerObjects(Ne){r.Y.assertAnyValue(Ne,"allObjectDefns");var St="mode";Ne||(Ne={});var Ct=(0,x.D8)(Ne,"data",null),Rt=(0,I.ts)().objects.data.properties;return null==Ct.properties[St]&&(Ct.properties[St]=(0,c.Xy)((0,m.Qq)(O.HX),Rt[St])),Ne}}class R{upgrade(Ne){if(r.Y.assertValue(Ne,"exploration"),Ne&&Ne.sections)for(var at of Ne.sections)if(at.visualContainers)for(var St of at.visualContainers){var Ct=St.config.singleVisual;Ct&&(Ct.objects=this.upgradeObjects(Ct.objects,Ct.visualType||Ct.visualConfig.visualType))}}upgradeFilterCollection(Ne){}upgradeVisualObjects(Ne,at,St,Ct){}getVersion(){return E.ZNK.v2_5}upgradeObjects(Ne,at){return r.Y.assertAnyValue(Ne,"allObjectDefns"),at===D.U.gauge?this.upgradeGaugeTarget(Ne):Ne}upgradeGaugeTarget(Ne){r.Y.assertAnyValue(Ne,"allObjectDefns"),Ne||(Ne={});var Rt=(0,x.lY)(Ne,"labels",null);if(!Rt)return Ne;var jt=(0,x.D8)(Ne,"target",null);for(var qt of["show","labelDisplayUnits","labelPrecision","color"])null!=Rt.properties[qt]&&(jt.properties[qt]=Rt.properties[qt]);return Ne}}var A=function(Et){return Et[Et.Before=0]="Before",Et[Et.After=1]="After",Et}({});class W{upgrade(Ne){if(r.Y.assertValue(Ne,"exploration"),Ne&&Ne.sections)for(var at of Ne.sections)if(at.visualContainers)for(var St of at.visualContainers){var Ct=St.config.singleVisual;Ct&&(Ct.objects=this.upgradeObjects(Ct.objects,Ct.visualType||Ct.visualConfig.visualType))}}upgradeFilterCollection(Ne){}upgradeVisualObjects(Ne,at,St,Ct){}getVersion(){return E.ZNK.v3_12_1}upgradeObjects(Ne,at){return r.Y.assertAnyValue(Ne,"allObjectDefns"),at===D.U.slicer?this.upgradeSlicerObjects(Ne):Ne}upgradeSlicerObjects(Ne){r.Y.assertAnyValue(Ne,"allObjectDefns"),Ne||(Ne={});var Ct=(0,x.lY)(Ne,"general",null),Rt=Ct&&Ct.properties.filter,jt=Rt&&Rt.filter;if(jt&&this.isAndFilter(jt)){var ir=(0,x.lY)(Ne,"data",null);if(ir){var cr=ir.properties.startDate,gr=ir.properties.endDate,hr=ir.properties.numericStart,yr=ir.properties.numericEnd;(cr&&!gr||hr&&!yr)&&this.BetweenToBeforeOrAfterFilter(jt,A.After),(gr&&!cr||yr&&!hr)&&this.BetweenToBeforeOrAfterFilter(jt,A.Before)}}return Ne}isAndFilter(Ne){if(1===Ne.Where.length){var at=Ne.Where[0].Condition;if(at&&at.And)return!0}return!1}BetweenToBeforeOrAfterFilter(Ne,at){var St=Ne.Where[0].Condition;return r.Y.assertValue(St,"Filter condition cannot be null or undefined."),Ne.Where[0].Condition=at===A.Before?St.And.Right:St.And.Left,Ne}}class K{upgrade(Ne){if(r.Y.assertValue(Ne,"exploration"),Ne&&Ne.sections)for(var at of Ne.sections)if(at.visualContainers)for(var St of at.visualContainers){var Ct=St.config.singleVisual;Ct&&this.upgradeSQExprToInt(Ct.objects)}}upgradeFilterCollection(){}getVersion(){return E.ZNK.v3_14_1}upgradeVisualObjects(Ne,at,St,Ct){}upgradeSQExprToInt(Ne){for(var at in r.Y.assertAnyValue(Ne,""),Ne)if("labels"===at||"bubbles"===at||"categoryLabels"===at)for(var St of Ne[at])for(var Ct in St.properties)if("bubbleSize"===Ct||"labelDensity"===Ct||"backgroundTransparency"===Ct){var Rt=St.properties[Ct],jt=Rt&&Rt.expr&&Rt.expr.Literal;jt&&(r.Y.assertValue(jt.Value,"Literal value should exist"),/^'\d+(\.\d+)?'$/.test(jt.Value)&&(jt.Value=this.convertLiteralSQTextIntoNumber(jt.Value)+"L"))}}convertLiteralSQTextIntoNumber(Ne){return Math.floor(_.parseInt(Ne.substr(1,Ne.length-2)))}}class ne{constructor(Ne){}upgrade(Ne){if(r.Y.assertValue(Ne,"exploration"),Ne&&Ne.sections)for(var at of Ne.sections){var St=at.config,Ct=(0,a.p)(at.filters)||[];St.type===g.gX.Tooltip?this.upgradeTooltipPage(Ct,St):(St.type===g.gX.Regular||null==St.type)&&this.upgradeRegularPage(Ct,St),at.filters=JSON.stringify(Ct)}}upgradeFilterCollection(){}upgradeVisualObjects(Ne,at,St,Ct){}getVersion(){return E.ZNK.v3_14}upgradeTooltipPageLinkFields(Ne,at){var St=_.map(at.linkFields,Ct=>({howCreated:g.GS.Drillthrough,isTransient:!1,isLinkedAsAggregation:Ct.asAggregation,expression:Ct.fieldExpr}));Ne.push(...St||[]),at.linkFields=[]}upgradeTooltipPage(Ne,at){at.acceptsAllFiltersWhenLinked=!0,this.upgradeTooltipPageLinkFields(Ne,at)}upgradeRegularPage(Ne,at){if(at.acceptsAllFiltersWhenLinked=!1,Ne)for(var St of Ne)St.isLinkedAsAggregation=!1}}class L{constructor(){}upgrade(Ne){var at=this;if(r.Y.assertValue(Ne,"exploration"),Ne&&Ne.sections)for(var St of Ne.sections)if(St.visualContainers){var Ct=function(){var jt=Rt.config.singleVisual;if(jt){r.Y.assert(()=>void 0===jt.vcObjects,"VC Object can't exist if you are in this version");var qt={};if(jt.altText&&(qt.general=[{properties:{altText:at.toExpr((0,m.Qq)(jt.altText))}}],delete jt.altText),jt.aspectRatio){var ir=jt.aspectRatio;qt.lockAspect=[{properties:{show:null!=ir.show?at.toExpr((0,m.zM)(ir.show)):void 0}}],delete jt.aspectRatio}if(jt.background){var cr=jt.background;qt.background=[{properties:{color:null!=cr.color?{solid:{color:at.toExpr((0,m.Qq)(cr.color))}}:void 0,show:null!=cr.show?at.toExpr((0,m.zM)(cr.show)):void 0,transparency:null!=cr.transparency?at.toExpr((0,m.nd)(cr.transparency)):void 0}}],delete jt.background}if(jt.border){var gr=jt.border;qt.border=[{properties:{color:null!=gr.color?{solid:{color:at.toExpr((0,m.Qq)(gr.color))}}:void 0,show:null!=gr.show?at.toExpr((0,m.zM)(gr.show)):void 0}}],delete jt.border}if(jt.stylePresetName&&(qt.stylePreset=[{properties:{name:at.toExpr((0,m.Qq)(jt.stylePresetName))}}],delete jt.stylePresetName),jt.title){var hr=jt.title;hr.show=null!=hr.hidden?!hr.hidden:hr.show,qt.title=[{properties:{alignment:null!=hr.alignment?at.toExpr((0,m.Qq)(hr.alignment)):void 0,background:null!=hr.background?{solid:{color:at.toExpr((0,m.Qq)(hr.background))}}:void 0,fontColor:null!=hr.fontColor?{solid:{color:at.toExpr((0,m.Qq)(hr.fontColor))}}:void 0,fontFamily:null!=hr.fontFamily?at.toExpr((0,m.Qq)(hr.fontFamily)):void 0,fontSize:null!=hr.fontSize?at.toExpr((0,m.nd)(hr.fontSize)):void 0,show:null!=hr.show?at.toExpr((0,m.zM)(hr.show)):void 0,text:null!=hr.text?at.toExpr((0,m.Qq)(hr.text)):void 0}}],delete jt.title}if(jt.visualLink){var yr=jt.visualLink;qt.visualLink=[{properties:{bookmark:null!=yr.bookmark?at.toExpr((0,m.Qq)(yr.bookmark)):void 0,qna:yr.qna,show:null!=yr.show?at.toExpr((0,m.zM)(yr.show)):void 0,type:null!=yr.type?at.toExpr((0,m.Qq)(yr.type)):void 0}}],delete jt.visualLink}if(jt.visualTooltip){var Dr=jt.visualTooltip;qt.visualTooltip=[{properties:{section:null!=Dr.section?at.toExpr((0,m.Qq)(Dr.section)):void 0,type:null!=Dr.type?at.toExpr((0,m.Qq)(Dr.type)):void 0}}],delete jt.visualTooltip}at.clearUndefinedPropertiesVCObjects(qt),_.isEmpty(qt)||(jt.vcObjects=qt)}};for(var Rt of St.visualContainers)Ct()}}toExpr(Ne){return{expr:s.F3.serializeExpr(Ne)}}clearUndefinedPropertiesVCObjects(Ne){for(var at in Ne){var St=Ne[at][0].properties;for(var Ct in St)St[Ct]||delete St[Ct];_.isEmpty(St)&&delete Ne[at]}}upgradeFilterCollection(){}upgradeVisualObjects(Ne,at,St,Ct){}getVersion(){return E.ZNK.v3_15}}var X=e(709190);class Q{constructor(){}upgrade(Ne){if(r.Y.assertValue(Ne,"exploration"),Ne){var at={},St=Ne.config;St.themeCollection=at,Ne.theme&&(at.customTheme=H(Ne.theme,X.X.RegisteredResources,this.getVersion()),delete Ne.theme),St.baseTheme&&(at.baseTheme=H(St.baseTheme,X.X.SharedResources,this.getVersion()),delete St.baseTheme)}}upgradeFilterCollection(){}upgradeVisualObjects(Ne,at,St,Ct){}getVersion(){return E.ZNK.v3_18}}function H(Et,Ne,at,St){var Ct={name:Et,version:at,type:Ne};return St&&(Ct.source=St),Ct}var te=e(373093),ee=e(706441),ue=e(579260),Te=e(989417),He=e(454840);class ft{constructor(){this.podNamePrefix="Pod"}upgrade(Ne){if(r.Y.assertValue(Ne,"exploration"),Ne&&!_.isEmpty(Ne.sections)){for(var at of Ne.sections)this.upgradeSectionAcceptsAllFiltersWhenLinked(at);var St=Ne.pods||[],Ct={};for(var Rt of St)Ct[Rt.name]=!0;for(var jt of Ne.sections)this.upgradeSection(jt,St,Ct);_.isEmpty(St)||(Ne.pods=St)}}upgradeFilterCollection(){}upgradeVisualObjects(Ne,at,St,Ct){}getVersion(){return E.ZNK.v3_24}upgradeSectionAcceptsAllFiltersWhenLinked(Ne){Ne.config||(Ne.config={}),null==Ne.config.acceptsAllFiltersWhenLinked&&(Ne.config.type===g.gX.Tooltip?Ne.config.acceptsAllFiltersWhenLinked=!0:Ne.config.type===g.gX.Regular||null==Ne.config.type?Ne.config.acceptsAllFiltersWhenLinked=!1:r.Y.assertFail("v3_24 VersionUpgrader: Unrecognized section type "+Ne.config.type))}upgradeSection(Ne,at,St){if(Ne&&Ne.name){var Ct=(0,a.p)(Ne.filters)||[],Rt=_.some(Ct,qt=>qt.howCreated===g.GS.Drillthrough),jt=this.findPodForSectionName(at,Ne.name);jt?this.upgradeExistingPod(jt,Ne.config,Rt):Rt&&(jt=this.createPod(at,Ne.name,Ne.config,St)),Ne.config&&(Ne.config.acceptsAllFiltersWhenLinked=void 0),jt&&(this.upgradeFilters(jt,Ct),Ne.filters=JSON.stringify(Ct))}}upgradeFilters(Ne,at){var St=[];for(var Ct of((0,Te.M)(Ne.parameters)||(St=(0,a.p)(Ne.parameters)),at))if(Ct.name&&!Ct.isTransient){var Rt=Ct.howCreated===g.GS.Drillthrough,jt=this.findParamForFilterName(St,Ct.name);jt?(jt.fieldExpr=Ct.expression,jt.asAggregation=Ct.isLinkedAsAggregation,Rt||(jt.isLegacySingleSelection=!0)):Rt&&St.push({name:"Param_"+Ct.name,boundFilter:Ct.name,fieldExpr:Ct.expression,asAggregation:Ct.isLinkedAsAggregation}),Ct.isLinkedAsAggregation=void 0}Ne.parameters=JSON.stringify(St)}upgradeExistingPod(Ne,at,St){Ne.config=this.createPodConfig(at),Ne.referenceScope=g.th.Default,Ne.type=St?this.determineType(at):g.cN.Default}findParamForFilterName(Ne,at){if(r.Y.assertValue(at,"filterName"),!_.isEmpty(Ne))return _.find(Ne,St=>St.boundFilter===at)}findPodForSectionName(Ne,at){if(r.Y.assertValue(at,"sectionName"),!_.isEmpty(Ne))return _.find(Ne,St=>St.boundSection===at)}createPod(Ne,at,St,Ct){r.Y.assertValue(Ne,"pods"),r.Y.assertValue(at,"sectionName");var Rt={name:(0,He.uL)(Ct,this.podNamePrefix),boundSection:at,type:this.determineType(St),referenceScope:g.th.Default,config:this.createPodConfig(St)};return Ne.push(Rt),Ct[Rt.name]=!0,r.Y.assert(()=>(0,ue.Aj)(Ne),"pod names must be unique"),Rt}createPodConfig(Ne){return JSON.stringify({acceptsFilterContext:!Ne||Ne.acceptsAllFiltersWhenLinked?g.G4.Default:g.G4.None})}determineType(Ne){return Ne&&Ne.type!==g.gX.Regular&&void 0!==Ne.type?Ne&&Ne.type===g.gX.Tooltip?g.cN.Tooltip:void 0:g.cN.Drillthrough}}var mt=e(423427),At=e(92644),Qe=e(554109);class ye{upgrade(Ne){if(r.Y.assertValue(Ne,"exploration"),Ne){var at=Ne.resourcePackages||[],St=_.find(at,gr=>gr.resourcePackage.type===X.X.SharedResources),Ct=!St,Rt=(St=St||{resourcePackage:{id:void 0,items:[],name:(0,Qe.G3)(X.X.SharedResources),type:X.X.SharedResources}}).resourcePackage.items;if(Ne.sections)for(var jt of Ne.sections)if(jt.visualContainers)for(var qt of jt.visualContainers){var ir=qt.config.singleVisual;ir&&this.upgradeSharedResourcePackages(ir.objects,Rt)}var cr=Ne.config&&Ne.config.baseTheme;cr&&(_.find(Rt,gr=>gr.name===cr)||Rt.push({name:cr,type:At.gH.BaseTheme,path:`BaseThemes/${cr}.json`})),Ct&&St.resourcePackage.items.length>0&&(at.push(St),Ne.resourcePackages||(Ne.resourcePackages=at))}}upgradeFilterCollection(){}upgradeVisualObjects(Ne,at,St,Ct){}getVersion(){return E.ZNK.v3_6_1}upgradeSharedResourcePackages(Ne,at){var St=this;for(var Ct in r.Y.assertAnyValue(Ne,""),r.Y.assertValue(at,"items should exist while upgrading shared resources"),Ne)for(var Rt of Ne[Ct]){var jt=function(){var ir=Rt.properties[qt],cr=ir&&ir.geoJson;if(cr){var gr=cr.type.expr,hr=gr.Literal&&gr.Literal.Value;if(hr&&St.removeQuotes(hr)===mt.ue){var yr=St.removeQuotes(cr.name.expr.Literal.Value);_.find(at,Dr=>Dr.name===yr)||at.push({name:yr,type:At.gH.ShapeMap,path:`Shapemaps/${yr}.json`})}}};for(var qt in Rt.properties)jt()}}removeQuotes(Ne){return Ne.substr(1,Ne.length-2)}}var we=e(637343);class Oe{constructor(){this.keyDriverObjectName="keyDrivers",this.selectedNumericAnalysisPropertyName="selectedNumericAnalysis"}upgrade(Ne){if(r.Y.assertValue(Ne,"exploration"),Ne&&!_.isEmpty(Ne.sections))for(var at of Ne.sections)for(var St of at.visualContainers){var Ct=St.config&&St.config.singleVisual;Ct&&Ct.visualType===D.U.keyDriversVisual&&(Ct.objects=this.upgradeKeyDriversVisualObjects(Ct.objects))}}upgradeFilterCollection(){}upgradeVisualObjects(Ne,at,St,Ct){}getVersion(){return E.ZNK.v4_1}upgradeKeyDriversVisualObjects(Ne){Ne||(Ne={});var at=Ne[this.keyDriverObjectName];if(at||(at=Ne[this.keyDriverObjectName]=[{properties:{}}]),r.Y.assert(()=>1===at.length,"only one keyDrivers object should exist"),!at[0].properties[this.selectedNumericAnalysisPropertyName]){var Ct={enumeration:we.NW},Rt=(0,m.FT)(we.tf,Ct);at[0].properties[this.selectedNumericAnalysisPropertyName]=(0,c.Xy)(Rt,{type:Ct})}return Ne}}var he=e(301692);class Se{constructor(){}upgrade(Ne){if(r.Y.assertValue(Ne,"exploration"),Ne&&!_.isEmpty(Ne.sections))for(var at of Ne.sections)for(var St of at.visualContainers)(0,he.Tc)(St.config&&St.config.singleVisual)}upgradeFilterCollection(){}upgradeVisualObjects(Ne,at,St,Ct){}getVersion(){return E.ZNK.v4_2}}class Ie{constructor(){}upgrade(Ne){if(r.Y.assertValue(Ne,"exploration"),Ne&&!_.isEmpty(Ne.sections))for(var at of Ne.sections)pe(at),Pe(at)}upgradeFilterCollection(){}upgradeVisualObjects(Ne,at,St,Ct){}getVersion(){return E.ZNK.v5_1}}var Je=[{objectName:"outspacePane",propertyName:"titleSize"},{objectName:"outspacePane",propertyName:"headerSize"}];function pe(Et){if(Et&&Et.config&&Et.config.objects)for(var Ne of Je)(0,he.Qo)(Et.config.objects,Ne)}function Pe(Et){if(Et&&Et.config&&Et.config.objects&&Et.config.objects.filterCard){var Ne=Et.config.objects.filterCard;for(var at of Ne){var St=at&&at.properties;if(St){var Ct=St.textSize;if(Ct){var Rt=s.F3.deserializeExpr(Ct.expr);St.textSize=(0,he.zG)((0,he.rc)(Rt))}}}}}class Ge{constructor(){}upgrade(Ne){if(r.Y.assertValue(Ne,"exploration"),Ne&&!_.isEmpty(Ne.sections))for(var at of Ne.sections)for(var St of at.visualContainers)(0,he.JF)(St.config&&St.config.singleVisual)}upgradeFilterCollection(){}upgradeVisualObjects(Ne,at,St,Ct){}getVersion(){return E.ZNK.v5_3}}var De=e(747767);function lt(Et){return new ct(Et)}class ct{constructor(Ne){}upgrade(Ne){if(r.Y.assertValue(Ne,"exploration"),Ne&&!_.isEmpty(Ne.sections))for(var at of Ne.sections)for(var St of at.visualContainers){var Ct=St.config&&St.config.singleVisual;if(Ct&&Ct.objects){var Rt=Ct&&Ct.visualType;"pivotTable"!==Rt&&"tableEx"!==Rt||this.upgradeTablixProperties(Ct.objects,Rt)}}}upgradeVisualObjects(Ne,at,St,Ct){}upgradeTablixProperties(Ne,at){r.Y.assertValue(Ne,"objects");var St=Ne.values;if(St)for(var Ct of St)this.isValidRoleWildcard(Ct.selector,at)&&(!Ct.properties||!Ct.properties.backColor&&!Ct.properties.fontColor||(Ct.selector.data=[{dataViewWildcard:{matchingOption:De._.InstancesOnly}}]))}isValidRoleWildcard(Ne,at){return!(!Ne||_.isEmpty(Ne.data)||1!==Ne.data.length||_.isEmpty(Ne.data[0].roles))&&("tableEx"===at&&_.isEqual(Ne.data[0].roles,["Values"])||"pivotTable"===at&&_.isEqual(Ne.data[0].roles,["Rows","Columns"]))}upgradeFilterCollection(){}getVersion(){return E.ZNK.v5_9}}class Vt{constructor(){}upgrade(Ne){this.forAllSectionsAllContainers(Ne,[D.U.lineChart,D.U.areaChart,D.U.stackedAreaChart],this.upgradeLineChartDotProperties)}forAllSectionsAllContainers(Ne,at,St){if(r.Y.assertValue(Ne,"exploration"),Ne&&!_.isEmpty(Ne.sections))for(var Ct of Ne.sections){var Rt=function(){var ir=qt.config&&qt.config.singleVisual;if(!ir||!ir.objects)return 0;var cr=ir&&ir.visualType;if(_.findIndex(at,gr=>gr===cr)<0)return 0;St(ir.objects,ir.projections)};for(var qt of Ct.visualContainers)Rt()}}upgradeLineChartDotProperties(Ne,at){r.Y.assertValue(Ne,"objects");var St=Ne.categoryAxis,Ct=Ne.dataPoint,Rt=Ne.lineStyles;if(St&&0!==St.length){var jt,ir=St[0].properties;if(ir&&ir.axisType){if(jt=ir.axisType.expr.Literal.Value.replace(/['"]+/g,""),Ct&&"Categorical"===jt&&at&&at.Category&&1===at.Category.length&&at.Category[0]){var gr=at.Category[0].queryRef;if(gr)for(var hr=function(Br){var la=Ct[Br].properties;if(r.Y.assert(()=>_.keys(la).length<=1,"expected data point object to only have one or no properties"),!la||!la.fill||_.keys(la).length>1)return yr=Br,1;var qr=Ct[Br].selector;if(qr&&qr.data&&1===qr.data.length&&qr.data[0]){var oe=qr.data[0];if(oe.scopeId&&oe.scopeId.Comparison&&oe.scopeId.Comparison.Left&&oe.scopeId.Comparison.Left.Column){var Ve=oe.scopeId.Comparison.Left.Column,se=Ve.Property;if(se&&Ve.Expression&&Ve.Expression.SourceRef){var gt=Ve.Expression.SourceRef.Entity;gt&&`${gt}.${se}`===gr&&(Ct.splice(Br,1),Br--)}}}yr=Br},yr=0;yr<Ct.length;yr++)hr(yr)}if(Rt&&Rt.length>0&&"Scalar"===jt)for(var Dr of Rt)if(!Dr.selector){var Vr=Dr.properties;if(Vr&&Vr.showMarker){var $r=Vr.showMarker;"true"===$r.expr.Literal.Value&&($r.expr.Literal.Value="false")}}}}}upgradeFilterCollection(){}upgradeVisualObjects(Ne,at,St,Ct){}getVersion(){return E.ZNK.v5_11}}var It=e(654316),Ot=e(673319),de=e(53069);function Ze(Et){return new Ye(Et)}class Ye{constructor(Ne){this.featureSwitchService=Ne}upgrade(Ne){if(this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization&&(r.Y.assertValue(Ne,"exploration"),Ne&&!(_.isEmpty(Ne.config.bookmarks)&&_.isEmpty(Ne.filters)&&_.isEmpty(Ne.sections))))for(var at of(_.isEmpty(Ne.config.bookmarks)||this.upgradeBookmarks(Ne.config.bookmarks),Ne.filters&&(Ne.filters=this.upgradeFilterContainers(Ne.filters)),Ne.sections))for(var St of at.visualContainers){var Ct=St.config&&St.config.singleVisual;Ct&&Ct.filterExpressionMetadata&&(0,It.gL)(Ct.filterExpressionMetadata)&&(Ct.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(Ct.filterExpressionMetadata)),St.filters&&(St.filters=this.upgradeFilterContainers(St.filters)),!Ct||!Ct.objects||(Ct&&Ct.visualType)!==D.U.textbox||this.upgradeFilterContextProperties(Ct.objects)}}upgradeFilterContextProperties(Ne){for(var at in r.Y.assertValue(Ne,"objects"),Ne){var St=Ne[at];for(var Ct of St)for(var Rt in Ct.properties){var jt=Ct.properties[Rt];if((0,c.E6)(jt)){var qt=jt.context,ir=qt&&qt.filterContext;_.isEmpty(ir)||_.forEach(ir,cr=>{cr.metadata&&(0,It.gL)(cr.metadata)&&(cr.metadata=this.upgradeFilterExpressionMetadata(cr.metadata))})}}}}upgradeBookmarks(Ne){for(var at of Ne)if(void 0!==at.children)this.upgradeBookmarks(at.children);else{this.upgradeSectionState(at.explorationState.sections);var Ct=at.explorationState.filters;Ct&&this.upgradeFilters(Ct)}}upgradeSectionState(Ne){_.forEach(Ne,at=>{_.forEach(at.visualContainers,St=>{var Ct=St.highlight;Ct&&Ct.selection&&(0,c.U6)(Ct.selection)&&(Ct.selection=this.upgradeSelectorsByColumn(Ct.selection)),Ct&&Ct.filterExpressionMetadata&&(0,It.gL)(Ct.filterExpressionMetadata)&&(Ct.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(Ct.filterExpressionMetadata));var Rt=St.singleVisual;Rt.filterExpressionMetadata&&(0,It.gL)(Rt.filterExpressionMetadata)&&(Rt.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(Rt.filterExpressionMetadata))}),at.filters&&this.upgradeFilters(at.filters)})}upgradeFilters(Ne){Ne.byName&&_.forEach(Ne.byName,at=>{at.filterExpressionMetadata&&(0,It.gL)(at.filterExpressionMetadata)&&(at.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(at.filterExpressionMetadata))}),Ne.byExpr&&this.upgradeFilterContainerState(Ne.byExpr),Ne.byTransientState&&this.upgradeFilterContainerState(Ne.byTransientState),Ne.byType&&this.upgradeFilterContainerState(Ne.byType)}upgradeFilterContainerState(Ne){_.forEach(Ne,at=>{at.filterExpressionMetadata&&(0,It.gL)(at.filterExpressionMetadata)&&(at.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(at.filterExpressionMetadata))})}upgradeSelectorsByColumn(Ne){var at=_.map(Ne,Ct=>(0,c.bZ)(Ct)),St=(0,de.$Y)(at);return(0,c.ae)(St)}upgradeFilterExpressionMetadata(Ne){var at=(0,It.Ww)(Ne),St=(0,de.VF)(at);return(0,Ot.$m)(St)}upgradeFilterCollection(Ne){r.Y.assertValue(Ne,"filterCollection"),Ne&&Ne.filters&&(Ne.filters=this.upgradeFilterContainers(Ne.filters))}upgradeVisualObjects(Ne,at,St,Ct){}upgradeFilterContainers(Ne){if(!_.isEmpty(Ne)){var at=(0,a.p)(Ne);if(at)for(var St of at)this.upgradeFilterContainer(St);return JSON.stringify(at)}}upgradeFilterContainer(Ne){Ne.filterExpressionMetadata&&(0,It.gL)(Ne.filterExpressionMetadata)&&(Ne.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(Ne.filterExpressionMetadata))}getVersion(){return E.ZNK.v5_16}}var et=e(881605);function le(Et){return new me(Et)}class me{constructor(Ne){this.featureSwitchService=Ne}upgrade(Ne){if(this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.buttonTileFormatting&&(r.Y.assertValue(Ne,"exploration"),Ne&&Ne.sections))for(var at of Ne.sections)for(var St of at.visualContainers){var Ct=St.config&&St.config.singleVisual;if(Ct&&"actionButton"===Ct.visualType&&Ct.objects){var Rt=Ct.objects;if(Rt.text)for(var jt of Rt.text){var qt=jt?.properties;if(qt){var ir=qt.padding;if(ir){var cr,gr;cr=qt.horizontalAlignment?Be(qt.horizontalAlignment):et.q.right,gr=qt.verticalAlignment?Be(qt.verticalAlignment):"middle","left"===cr?jt.properties.leftMargin=ir:"right"===cr&&(jt.properties.rightMargin=ir),"top"===gr?jt.properties.topMargin=ir:"bottom"===gr&&(jt.properties.bottomMargin=ir),delete jt.properties.padding}}}if(Rt.icon)for(var hr of Rt.icon){var yr=hr?.properties;if(yr){var Dr=yr.padding;Dr&&(hr.properties.leftMargin=Dr,hr.properties.rightMargin=Dr,hr.properties.topMargin=Dr,hr.properties.bottomMargin=Dr,delete hr.properties.padding)}}if(Rt.outline)for(var Vr of Rt.outline){var $r=Vr?.properties.roundEdge;$r&&(Rt.shape=Rt.shape||[],Rt.shape.push({properties:{roundEdge:$r},selector:Vr.selector}),delete Vr.properties.roundEdge)}}}}upgradeVisualObjects(Ne,at,St,Ct){}upgradeFilterCollection(){}getVersion(){return E.ZNK.v5_25}}function Be(Et){return s.F3.deserializeExpr(Et.expr).value}class Xe{constructor(){}upgrade(Ne){if(r.Y.assertValue(Ne,"exploration"),Ne&&!_.isEmpty(Ne.sections))for(var at of Ne.sections)for(var St of at.visualContainers){var Ct=St.config&&St.config.singleVisual;Ct&&Ct.objects&&(Ct&&Ct.visualType)===D.U.azureMap&&this.upgradeAzureMapProperties(Ct.objects)}}upgradeVisualObjects(Ne,at,St,Ct){}upgradeAzureMapProperties(Ne){r.Y.assertValue(Ne,"objects");var at=Ne.heatMapLayer;if(at&&0!==at.length)for(var St of at)if(!St.selector){var Ct=St.properties;if(Ct&&Ct.heatMapOpacity){var jt=Number(s.F3.deserializeExpr(Ct.heatMapOpacity.expr).value),qt=isNaN(jt)?0:100-100*jt;delete Ct.heatMapOpacity,Ct.mapTransparency=(0,he.zG)((0,m.nd)(qt))}}}upgradeFilterCollection(){}getVersion(){return E.ZNK.v5_28}}var fe=e(246484),ae=e(855517);function tt(Et){return new Ce(Et)}var ot=[D.U.tableEx,D.U.pivotTable,D.U.slicer,D.U.filterSlicer,D.U.multiRowCard],rt=[D.U.barChart,D.U.clusteredBarChart,D.U.clusteredColumnChart,D.U.columnChart,D.U.hundredPercentStackedBarChart,D.U.hundredPercentStackedColumnChart,D.U.ribbonChart],Re=[D.U.areaChart,D.U.barChart,D.U.clusteredBarChart,D.U.clusteredColumnChart,D.U.columnChart,D.U.hundredPercentStackedBarChart,D.U.hundredPercentStackedColumnChart,D.U.lineChart,D.U.lineClusteredColumnComboChart,D.U.lineStackedColumnComboChart,D.U.ribbonChart,D.U.scatterChart,D.U.stackedAreaChart,D.U.waterfallChart],J=[D.U.lineClusteredColumnComboChart,D.U.lineStackedColumnComboChart],ce=[D.U.lineChart,D.U.areaChart,D.U.stackedAreaChart,D.U.lineStackedColumnComboChart,D.U.lineClusteredColumnComboChart];class Ce{constructor(Ne){this.featureSwitchService=Ne}upgrade(Ne){}upgradeVisualObjects(Ne,at,St,Ct){Ne===o.S.Visual&&(_.some(rt,Rt=>Rt===St)&&(this.upgradeCartesianAxisScale(at,"categoryAxis"),this.upgradeCartesianAxisPosition(at,"categoryAxis")),_.some(Re,Rt=>Rt===St)&&(this.upgradeCartesianAxisScale(at,"valueAxis"),this.upgradeCartesianAxisPosition(at,"valueAxis")),_.some(J,Rt=>Rt===St)&&this.upgradeCartesianSecAxisScale(at,"valueAxis"),_.some(ce,Rt=>Rt===St)&&(this.upgradeCartesianSecAxisScale(at,"y2Axis"),this.upgradeDefaultToCircle(at,"legend")),_.some(ot,Rt=>Rt===St)&&this.upgradeOutlineProperties(at,St),St===D.U.pivotTable&&this.upgradeSubTotalsProperties(at),St===D.U.pivotTable&&this.upgradeTotalProperties(at),St===D.U.scatterChart&&this.upgradeScatterChartFillPoint(at)),Ne===o.S.VisualContainer&&(this.upgradeVisualHeaderTooltip(at),this.featureSwitchService.featureSwitches.showDefaultTooltip&&this.upgradeVisualLink(at))}upgradeCartesianAxisScale(Ne,at){this.upgradeAxisScale(Ne,at,"axisScale","logAxisScale")}upgradeCartesianSecAxisScale(Ne,at){this.upgradeAxisScale(Ne,at,"secAxisScale","secLogAxisScale")}upgradeVisualHeaderTooltip(Ne){r.Y.assertValue(Ne,"objects");var at=Ne[Lt];if(at&&at.length>0)for(var St of at){var Ct=St.properties;if(Ct&&Ct[Yt]&&!Ct[zt]){var Rt=Ct[Yt],jt=Rt&&ze(Rt);jt&&jt!==Nt&&(Ct[zt]=(0,he.zG)((0,m.Qq)(yt)))}}}upgradeSubTotalsProperties(Ne){r.Y.assertValue(Ne,"objects");var at=Ne.subTotals;if(at&&at.length>0)for(var St=at.length,Ct=0;Ct<St;Ct++){var Rt=at[Ct],jt=Rt.properties,qt={properties:{}};if(jt&&!Rt.selector){for(var ir of it){var cr=jt[ir.propertyName];cr&&(qt.properties[ir.propertyName]=cr,delete jt[ir.propertyName])}_.isEmpty(qt.properties)||(at.push({...qt,selector:{id:fe.w.Column}}),at.push({...qt,selector:{id:fe.w.Row}}))}}}upgradeVisualLink(Ne){if(this.featureSwitchService.featureSwitches.useModernFormatPane){r.Y.assertValue(Ne,"objects");var at=Ne[Qt];if(at&&at.length>0)for(var St of at){var Ct=St.properties;if(Ct&&Ct[sr]){var Rt=Ct[sr],jt=Rt&&ze(Rt),qt=(0,he.VP)(jt);Ct[je]=(0,he.zG)((0,m.zM)(qt)),delete Ct[sr]}}}}upgradeOutlineProperties(Ne,at){r.Y.assertValue(Ne,"objects");var St=this.getPropertiesToUpgrade(at);for(var Ct of St){var{objectName:Rt,propertyName:jt}=Ct,qt=Ne[Rt];if(qt&&0!==qt.length)for(var ir of qt){var cr=ir.properties;if(cr&&cr[jt]){var hr=ze(cr[jt]),yr=(0,he.b6)(hr);cr[Tt]=(0,he.zG)((0,m.nd)(yr)),delete cr[jt]}}}}upgradeTotalProperties(Ne){r.Y.assertValue(Ne,"objects");var at=Ne.total;at&&at.length>0&&(Ne.rowTotal=_.cloneDeep(at),Ne.columnTotal=_.cloneDeep(at),delete Ne.total)}getPropertiesToUpgrade(Ne){switch(Ne){case D.U.tableEx:return Kt;case D.U.pivotTable:return nr;case D.U.slicer:return ar;case D.U.filterSlicer:return $e;case D.U.multiRowCard:return pt;default:return r.Y.assertFail("unexpected visual type"),[]}}upgradeDefaultToCircle(Ne,at){var St=Ne[at],Ct="defaultToCircle",Rt="legendMarkerRendering";if(St&&St.length>0){var jt=St[0].properties;if(jt&&jt[Ct]){var qt;jt[Rt]&&(qt=ze(jt[Rt]));var ir=ze(jt[Ct]);qt!==ae.k.markerOnly&&qt||ir?qt===ae.k.markerOnly&&ir&&(jt[Rt]=(0,he.zG)((0,m.Qq)(ae.k.markerCircleDefault))):jt[Rt]=(0,he.zG)((0,m.Qq)(ae.k.markerOnly)),delete jt[Ct]}}}upgradeAxisScale(Ne,at,St,Ct){var Rt=Ne[at];if(Rt&&Rt.length>0){var jt=Rt[0].properties;if(jt&&jt[St]){var qt=ze(jt[St]),ir=(0,he.kH)(qt);jt[Ct]=(0,he.zG)((0,m.zM)(ir)),delete jt[St]}}}upgradeCartesianAxisPosition(Ne,at){r.Y.assertValue(Ne,"objects");var St=Ne[at],Ct="position";if(St&&St.length>0){var jt=St[0].properties;if(jt&&jt[Ct]){var qt=ze(jt[Ct]),ir=(0,he.x3)(qt);jt.switchAxisPosition=(0,he.zG)((0,m.zM)(ir)),delete jt[Ct]}}}upgradeScatterChartFillPoint(Ne){r.Y.assertValue(Ne,"objects");var at=Ne.fillPoint;if(at&&at.length>0)for(var St of at)if(!St.selector){var Ct=St.properties;if(Ct&&Ct.show){var Rt=ze(Ct.show),jt=(0,he.XQ)(Rt);Ct.style=(0,he.zG)((0,m.Qq)(jt)),delete Ct.show}}}upgradeFilterCollection(){}getVersion(){return E.ZNK.v5_31}}function ze(Et){return s.F3.deserializeExpr(Et.expr).value}var it=[{objectName:"subTotals",propertyName:"fontColor"},{objectName:"subTotals",propertyName:"fontFamily"},{objectName:"subTotals",propertyName:"fontSize"},{objectName:"subTotals",propertyName:"bold"},{objectName:"subTotals",propertyName:"italic"},{objectName:"subTotals",propertyName:"underline"},{objectName:"subTotals",propertyName:"backColor"},{objectName:"subTotals",propertyName:"applyToHeaders"}],yt="Canvas",Nt="none",Lt="visualHeaderTooltip",zt="type",Yt="section",Qt="visualLink",sr="suppressDefaultTooltip",je="showDefaultTooltip",Tt="outlineStyle",Kt=[{objectName:"grid",propertyName:"outline"},{objectName:"columnHeaders",propertyName:"outline"},{objectName:"values",propertyName:"outline"},{objectName:"total",propertyName:"outline"}],nr=[{objectName:"grid",propertyName:"outline"},{objectName:"columnHeaders",propertyName:"outline"},{objectName:"values",propertyName:"outline"},{objectName:"rowHeaders",propertyName:"outline"}],ar=[{objectName:"searchBox",propertyName:"outline"},{objectName:"items",propertyName:"outline"},{objectName:"header",propertyName:"outline"}],$e=[{objectName:"searchBox",propertyName:"outline"},{objectName:"items",propertyName:"outline"},{objectName:"header",propertyName:"outline"}],pt=[{objectName:"card",propertyName:"outline"}];function Ut(Et){return new er(Et)}var $t=[D.U.areaChart,D.U.lineChart,D.U.lineClusteredColumnComboChart,D.U.lineStackedColumnComboChart,D.U.scatterChart,D.U.stackedAreaChart];class er{constructor(Ne){this.featureSwitchService=Ne}upgrade(Ne){}upgradeVisualObjects(Ne,at,St,Ct){!this.featureSwitchService||!this.featureSwitchService.featureSwitches||!this.featureSwitchService.featureSwitches.remainingCartesianCategoryLogAxisScale||Ne===o.S.Visual&&_.some($t,Rt=>Rt===St)&&this.upgradeCartesianAxisScale(at,"categoryAxis")}upgradeCartesianAxisScale(Ne,at){this.upgradeAxisScale(Ne,at,"axisScale","logAxisScale")}upgradeAxisScale(Ne,at,St,Ct){var Rt=Ne[at];if(Rt&&Rt.length>0){var jt=Rt[0].properties;if(jt)if(jt[Ct]&&jt[St])delete jt[St];else if(jt[St]){var qt=s.F3.deserializeExpr(jt[St].expr).value,ir=(0,he.kH)(qt);jt[Ct]=(0,he.zG)((0,m.zM)(ir)),delete jt[St]}}}upgradeFilterCollection(){}getVersion(){return E.ZNK.v5_33}}function vr(Et){return new mr(Et)}class mr{constructor(Ne){this.featureSwitchService=Ne}upgrade(Ne){this.featureSwitchService.featureSwitches.onObject&&this.upgradeDrillthroughTargetRegularSections(Ne)}upgradeVisualObjects(Ne,at,St,Ct){}upgradeFilterCollection(){}getVersion(){return E.ZNK.v5_38}upgradeDrillthroughTargetRegularSections(Ne){if(!_.isEmpty(Ne?.sections)&&!_.isEmpty(Ne.pods)){var at={};for(var St of Ne.pods){var Ct=St.boundSection;if(!_.isEmpty(Ct)&&!at[Ct]&&St.type===g.cN.Drillthrough&&!(0,Te.M)(St.parameters)){var Rt=(0,a.p)(St.parameters);_.some(Rt,cr=>!!cr.fieldExpr)&&(at[St.boundSection]=!0)}}for(var jt of Ne.sections){var qt=jt.config?.type;(null==qt||qt===g.gX.Regular)&&at[jt.name]&&(jt.config||(jt.config={}),jt.config.type=g.gX.Drillthrough)}}}}var Mr=[D.U.barChart,D.U.clusteredBarChart,D.U.hundredPercentStackedBarChart];class Ur{constructor(){}upgrade(Ne){}upgradeVisualObjects(Ne,at,St,Ct){if(Ne===o.S.Visual&&_.some(Mr,ir=>ir===St)){var Rt=at.categoryAxis;_.isEmpty(Rt)&&(at.categoryAxis=[{properties:{}}],Rt=at.categoryAxis);var jt=Rt[0].properties,qt=jt.concatenateLabels;qt&&qt.expr?qt.expr.Literal.Value="true":jt.concatenateLabels=(0,he.zG)((0,m.zM)(!0))}}upgradeFilterCollection(){}getVersion(){return E.ZNK.v5_42}}var Yr=[D.U.lineChart,D.U.areaChart,D.U.stackedAreaChart,D.U.lineStackedColumnComboChart,D.U.lineClusteredColumnComboChart];class Hr{constructor(){}upgrade(Ne){}upgradeVisualObjects(Ne,at,St,Ct){if(Ne===o.S.Visual&&_.some(Yr,ir=>ir===St)){var Rt=at.lineStyles;if(Rt&&!_.isEmpty(Rt))for(var jt of Rt)if(jt){var qt=jt.properties.stepped;qt&&qt.expr&&"true"===qt.expr.Literal.Value&&(jt.properties.lineChartType=(0,he.zG)((0,m.Qq)("step")),delete jt.properties.stepped)}}}upgradeFilterCollection(){}getVersion(){return E.ZNK.v5_46}}var Gr=e(816360),Wr=e(130939);function Or(Et){return new ra(Et)}class ra{constructor(Ne){this.featureSwitchService=Ne}upgrade(Ne){}upgradeVisualObjects(Ne,at,St,Ct){at&&Ne===o.S.Visual&&St===D.U.azureMap&&this.upgradeAzureMapsVisual(at)}upgradeAzureMapsVisual(Ne){var{objectName:at,propertyName:St}=Gr.AN.bubbleLayer.markerRangeType,Ct=Ne[at];for(var Rt of(_.isEmpty(Ct)&&(Ne[at]=[{properties:{}}],Ct=Ne[at]),Ct))Rt?.properties&&(Rt.properties[St]=(0,he.zG)((0,m.Qq)(Wr.c3.deprecated)))}upgradeFilterCollection(){}getVersion(){return E.ZNK.v5_48}}class Ir{constructor(){}upgrade(Ne){}upgradeVisualObjects(Ne,at,St,Ct){at&&Ne===o.S.Visual&&([D.U.barChart,D.U.columnChart,D.U.hundredPercentStackedBarChart,D.U.hundredPercentStackedColumnChart,D.U.ribbonChart,D.U.stackedAreaChart,D.U.lineStackedColumnComboChart,D.U.lineClusteredColumnComboChart].includes(St)&&Ir.updatePropertyName({objectName:"categoryAxis",propertyName:"reverseStackOrder"},{objectName:"layout",propertyName:"seriesOrderReversed"},at),[D.U.ribbonChart].includes(St)&&(Ir.updatePropertyName({objectName:"ribbonChart",propertyName:"seriesGapRatio"},{objectName:"layout",propertyName:"stackedGapSize"},at),Ir.updatePropertyName({objectName:"ribbonChart",propertyName:"colorBands"},{objectName:"ribbonBands",propertyName:"fillMatchColor"},at),Ir.updatePropertyName({objectName:"ribbonChart",propertyName:"bandsTransparency"},{objectName:"ribbonBands",propertyName:"fillTransparency"},at),Ir.updatePropertyName({objectName:"ribbonChart",propertyName:"showBorder"},{objectName:"ribbonBands",propertyName:"borderShow"},at)))}static updatePropertyName(Ne,at,St){var Ct=St[Ne.objectName];if(Ct&&0!==Ct.length)for(var Rt of Ct){var jt=Rt.properties[Ne.propertyName];if(jt)return void(Ir.getObject(St,at.objectName)[0].properties[at.propertyName]=jt)}}static getObject(Ne,at){var St=Ne[at];return _.isEmpty(St)&&(Ne[at]=[{properties:{}}],St=Ne[at]),St}upgradeFilterCollection(){}getVersion(){return E.ZNK.v5_49}}var Rr=e(620825),zr=e(691988),Nr_propertyName="dynamicLabelValue";function kr(Et){return new wr(Et)}class wr{constructor(Ne){this.featureSwitchService=Ne}upgrade(Ne){}upgradeVisualObjects(Ne,at,St,Ct){at&&Ne===o.S.Visual&&this.featureSwitchService.featureSwitches.labelEnhancementsM0&&([zr.N.hundredPercentStackedBarChart.name,zr.N.hundredPercentStackedColumnChart.name].includes(St)&&this.update100StackedProperties(at),E.wNc.includes(St)&&this.updateDynamicLabelProperties(at))}updateDynamicLabelProperties(Ne){var at=Ne.labels;if(!_.isEmpty(at)&&at.some(Ne=>Ne.properties.showDynamicLabels||Ne.properties[Nr_propertyName])){var St=at.find(ir=>ir.properties.showDynamicLabels&&!ir.selector),Ct=Pt(St?.properties.showDynamicLabels),Rt=at.find(ir=>ir.properties[Nr_propertyName]&&ir.selector&&!ir.selector.metadata),jt=nt(Rt?.properties[Nr_propertyName]);Ct&&!jt&&St&&(St.properties.enableValueDataLabel=(0,he.zG)((0,m.zM)(!1))),!Ct&&jt&&delete Rt?.properties[Nr_propertyName],at.some(ir=>ir.selector&&ir.selector.metadata)&&this.updatePropertiesForMultiStaticSeries(at,Ct,jt),this.deleteInvalidProperties(at),Ne.labels=at.filter(ir=>!_.isEmpty(ir.properties))}}upgradeFilterCollection(){}getVersion(){return E.ZNK.v5_50}update100StackedProperties(Ne){var at=Ne.labels;if(at){var St=at.find(ir=>!ir.selector&&Pt(ir?.properties.showDynamicLabels)),Ct=at.find(ir=>ir.selector&&!ir.selector.metadata&&nt(ir?.properties[Nr_propertyName]));if(St&&Ct)St.properties.enableValueDataLabel=(0,he.zG)((0,m.zM)(!0)),St.properties.enableDetailDataLabel=(0,he.zG)((0,m.zM)(!1));else for(var Rt of at){Rt.properties.enableValueDataLabel=(0,he.zG)((0,m.zM)(!1)),Rt.properties.enableDetailDataLabel=(0,he.zG)((0,m.zM)(!0)),Rt.properties.detailContentType=(0,he.zG)((0,m.Qq)("Percent of total"));var jt={bold:"detailBold",color:"detailColor",fontFamily:"detailFontFamily",fontSize:"detailFontSize",italic:"detailItalic",labelDisplayUnits:"detailLabelDisplayUnits",labelPrecision:"detailLabelPrecision",transparency:"detailTransparency",underline:"detailUnderline"};for(var qt in jt)Rt.properties[qt]&&(Rt.properties[jt[qt]]=Rt.properties[qt],delete Rt.properties[qt])}}}updatePropertiesForMultiStaticSeries(Ne,at,St){var Ct=this,Rt=function(qt){if(!qt.selector?.metadata||_.isEmpty(qt.properties))return 1;var ir;if(qt.properties.showDynamicLabels){var cr=Pt(qt.properties.showDynamicLabels),gr=Ne.find(hr=>hr.selector?.metadata&&hr.selector.metadata===qt.selector?.metadata&&hr.properties[Nr_propertyName]);gr&&(ir=nt(gr.properties[Nr_propertyName])),cr?Ct.updatePropertiesIfSeriesDynamicLabelEnabled(qt,ir,St):!1===cr&&Ct.updatePropertiesIfSeriesDynamicLabelDisabled(qt,gr,ir,cr,St)}};for(var jt of Ne)Rt(jt)}updatePropertiesIfSeriesDynamicLabelEnabled(Ne,at,St){at&&(Ne.properties.enableValueDataLabel=(0,he.zG)((0,m.zM)(!0))),(!1===at||!at&&!St)&&(Ne.properties.enableValueDataLabel=(0,he.zG)((0,m.zM)(!1)))}updatePropertiesIfSeriesDynamicLabelDisabled(Ne,at,St,Ct,Rt){St&&at&&delete at.properties[Nr_propertyName],!St&&!Rt&&(Ne.properties.enableValueDataLabel=(0,he.zG)((0,m.zM)(!0)))}deleteInvalidProperties(Ne){if(!_.isEmpty(Ne))for(var at of Ne)at.properties.showDynamicLabels&&delete at.properties.showDynamicLabels,at.properties[Nr_propertyName]&&_e(at.properties[Nr_propertyName])&&delete at.properties[Nr_propertyName]}}function Pt(Et){if(Et?.expr)return s.F3.deserializeExpr(Et.expr).value}function nt(Et){if(!Et?.expr)return!1;var Ne=s.F3.deserializeExpr(Et.expr);return(0,Rr.tx)(Ne)||(0,Rr.b9)(Ne)}function _e(Et){if(!Et?.expr)return!1;var Ne=s.F3.deserializeExpr(Et.expr);return(0,Rr.VO)(Ne)}function xt(Et){return new Ht(Et)}class Ht{constructor(Ne){this.featureSwitchService=Ne}upgrade(Ne){}upgradeVisualObjects(Ne,at,St,Ct){var Rt=this;if(at&&Ne===o.S.Visual){if(this.featureSwitchService.featureSwitches.cardVisualRefUpdate&&St===zr.N.cardVisual.name){var jt=at.referenceLabelDetail;if(_.isEmpty(jt))return;for(var qt=function(cr){var gr=jt[cr];if(_.isEmpty(gr))return ir=cr,1;if(Rt.isValidMetadataOnlySelector(gr.selector)){var hr=gr.properties?.detailValue;if(hr){var yr={...gr.selector,data:[{dataViewWildcard:{matchingOption:De._.InstancesAndTotals}}]},Dr=_.find(jt,Vr=>_.isEqual(Vr.selector,yr));Dr&&Dr.properties?Dr.properties.detailValue=hr:jt.push({properties:{detailValue:hr},selector:yr}),delete gr.properties.detailValue,_.isEmpty(gr.properties)&&(jt.splice(cr,1),cr--)}}ir=cr},ir=0;ir<jt.length;ir++)qt(ir)}this.featureSwitchService.featureSwitches.labelEnhancementsM0&&E.wNc.includes(St)&&this.updateDynamicLabelProperties(at)}}isValidMetadataOnlySelector(Ne){return Ne&&!_.isEmpty(Ne.id)&&!_.isEmpty(Ne.metadata)&&_.isEmpty(Ne.data)}updateDynamicLabelProperties(Ne){var at=Ne.labels;if(!_.isEmpty(at)&&at.some(Ne=>Ne.properties.dynamicLabelValue)){var St=at.filter(Rt=>Rt.properties.dynamicLabelValue&&!Rt?.selector?.data);if(!_.isEmpty(St))for(var Ct of St)delete Ct?.properties.dynamicLabelValue;Ne.labels=at.filter(Rt=>!_.isEmpty(Rt.properties))}}upgradeFilterCollection(){}getVersion(){return E.ZNK.v5_51}}class Zt{constructor(){}upgrade(Ne){this.resolveShadeArea(Ne)}upgradeVisualObjects(Ne,at,St,Ct){}resolveShadeArea(Ne){var at;if(Ne&&!_.isEmpty(Ne.sections))for(var St of Ne.sections){var Ct=function(){var qt=jt?.config?.singleVisual;if(!qt)return 0;if(![D.U.lineStackedColumnComboChart,D.U.lineClusteredColumnComboChart].includes(qt?.visualType))return 0;var cr=qt.projections?.Y2;if(_.isEmpty(cr))return 0;var gr=qt.objects?.lineStyles;if(_.isEmpty(gr))return 0;var hr,yr={};cr.forEach(se=>{yr[se.queryRef]=void 0});var Dr=!1,Vr=!1;for(var $r of gr){var Br=$r.properties?.shadeArea;Br&&($r.properties.areaShow=_.cloneDeep(Br)),$r.selector?Br&&(yr[$r.selector.metadata]=Br,Dr||(Dr="true"===Br?.expr?.Literal?.Value)):(Vr=!0,Br&&(hr=Br))}if("true"===hr?.expr?.Literal?.Value||!Dr)return 0;for(var qr of(Vr||gr.push({properties:{}}),gr))qr.selector?(qr.properties||(qr.properties={}),qr.properties.areaShow||(qr.properties.areaShow={expr:{Literal:{Value:"false"}}},yr[qr.selector.metadata]=qr.properties.areaShow)):((at=qr.properties).areaShow||(at.areaShow={}),qr.properties.areaShow.expr={Literal:{Value:"true"}});for(var[oe,Ve]of Object.entries(yr))Ve||gr.push({properties:{areaShow:{expr:{Literal:{Value:"false"}}}},selector:{metadata:oe}})};for(var jt of St.visualContainers)Ct()}}upgradeFilterCollection(){}getVersion(){return r.Y.assert(()=>E.ZNK.v5_53===E.ihX,"This upgrader covers both features. If features get different release versions, we should get an error."),E.ZNK.v5_53}}function Er(Et){return new Le(Et)}class Le{constructor(Ne){this.featureSwitchService=Ne}upgrade(Ne){}upgradeVisualObjects(Ne,at,St,Ct){if(at&&Ne===o.S.Visual){if(this.featureSwitchService.featureSwitches.matrixLayouts&&St===zr.N.pivotTable.name&&(0,he.SG)(at),this.featureSwitchService.featureSwitches.cardVisualCFSelector&&St===zr.N.cardVisual.name){var Rt={divider:["dividerColor"],referenceLabel:["backgroundColor"],referenceLabelDetail:["detailFontColor","detailBackgroundColor","customFormatString","detailPrecision","showBlankAs"],referenceLabelValue:["valueFontColor","customFormatString","valuePrecision","showBlankAs"],referenceLabelTitle:["titleText","titleFontColor"]};for(var jt of Object.keys(Rt)){var qt=at[jt];if(!_.isEmpty(qt))for(var ir=0;ir<qt.length;ir++){var cr=qt[ir];if(!_.isEmpty(cr)&&(Et=cr.selector)&&!_.isEmpty(Et.metadata)&&_.isEmpty(Et.data)&&cr.properties){var gr=function(){var yr=cr.properties[hr];if(yr&&Z(yr)){var Dr={...cr.selector,data:[{dataViewWildcard:{matchingOption:De._.InstancesAndTotals}}]},Vr=_.find(qt,$r=>_.isEqual($r.selector,Dr));Vr&&Vr.properties?Vr.properties[hr]=yr:qt.push({properties:{[hr]:yr},selector:Dr}),delete cr.properties[hr],_.isEmpty(cr.properties)&&(qt.splice(ir,1),ir--)}};for(var hr of Rt[jt])gr()}}}}St===zr.N.lineChart.name&&Le.upgradeForecastStyles(at)}var Et}static upgradeForecastStyles(Ne){var at,St,Ct,Rt,jt=Ne.forecast;if(!_.isEmpty(jt))for(var qt of jt)if(qt&&qt.properties){var ir=Number((0,he.Uj)(qt.properties.transparency));null!=ir&&!isNaN(ir)&&((at=qt.properties).bandAreaTransparency??(at.bandAreaTransparency=(0,he.zG)((0,m.gd)(ir))),(St=qt.properties).bandLineTransparency??(St.bandLineTransparency=(0,he.zG)((0,m.gd)(ir))),delete qt.properties.transparency);var cr=(0,he.Uj)(qt.properties.confidenceBandStyle);null!=cr&&((Ct=qt.properties).bandAreaShow??(Ct.bandAreaShow=(0,he.zG)((0,m.zM)("fill"===cr||"fillLine"===cr))),(Rt=qt.properties).bandLineShow??(Rt.bandLineShow=(0,he.zG)((0,m.zM)("line"===cr||"fillLine"===cr))),delete qt.properties.confidenceBandStyle)}}upgradeFilterCollection(){}getVersion(){return E.ZNK.v5_54}}function Z(Et){var Ne=Et?.expr||Et?.solid?.color?.expr;if(!Ne)return!1;var at=s.F3.deserializeExpr(Ne);return null!=at&&!(0,Rr.VO)(at)&&!(0,Rr.Hf)(at)}function ie(Et){return new Ue(Et)}class Ue{constructor(Ne){this.featureSwitchService=Ne}upgrade(Ne){if(Ne&&!_.isEmpty(Ne.sections))for(var at of Ne.sections)for(var St of at.visualContainers){var Ct=St.config?.singleVisual;Ct&&(0,he.gp)(Ct,!0,this.featureSwitchService.featureSwitches.tablixRenderUpgrade)}}upgradeVisualObjects(){}upgradeFilterCollection(){}getVersion(){return E.ZNK.v5_56}}var st=e(877723);class bt{upgrade(Ne,at){}upgradeVisualObjects(Ne,at,St,Ct){if(at&&Ne===o.S.Visual&&St===D.U.advancedSlicerVisual){var Rt=_.find(at.image,cr=>_.has(cr.properties,"image")&&_.isEmpty(cr.selector?.id));if(!Rt)return;var jt=(0,c.Gq)({id:"default",data:[(0,st.vt)(De._.InstancesOnly)]}),qt=_.find(at.image,cr=>_.isEqual(cr.selector,jt));if(qt||(at.image.push({properties:{},selector:jt}),qt=_.last(at.image)),qt.properties.image=Rt.properties.image,delete Rt.properties.image,_.isEmpty(Rt.properties)){var ir=_.findIndex(at.image,Rt);at.image.splice(ir,1)}}}upgradeFilterCollection(Ne){}getVersion(){return E.ZNK.v5_58}}class Ft{constructor(){}upgrade(Ne){}upgradeVisualObjects(Ne,at,St,Ct){at&&Ne===o.S.Visual&&St===D.U.azureMap&&this.upgradeAzureMapsVisual(at)}upgradeAzureMapsVisual(Ne){var{objectName:at,propertyName:St}=Gr.AN.mapControls.autoZoomIncludesReferenceLayer,Ct=Ne[at];for(var Rt of(_.isEmpty(Ct)&&(Ne[at]=[{properties:{}}],Ct=Ne[at]),Ct))Rt?.properties&&(Rt.properties[St]=(0,he.zG)((0,m.zM)(!1)))}upgradeFilterCollection(){}getVersion(){return E.ZNK.v5_63}}var Jt=e(469966);function lr(Et){return new Wt(Et)}class Wt{constructor(Ne){this.featureSwitches=Ne}upgrade(Ne){}upgradeVisualObjects(Ne,at,St,Ct){!at||!this.featureSwitches?.featureSwitches?.rowHierarchySelector||Ne===o.S.Visual&&(St===D.U.listSlicer||St===D.U.advancedSlicerVisual)&&(0,Jt.zi)(at)}upgradeFilterCollection(){}getVersion(){return E.ZNK.v5_64}}function _t(Et){return new Mt(Et)}class Mt{constructor(Ne){this.featureSwitches=Ne}upgrade(Ne){if(this.featureSwitches?.featureSwitches?.themeVersion2Support){var at=Ne?.config?.themeCollection;at?.customTheme&&this.upgradeThemeMetadataV1ToV2(at.customTheme),at?.baseTheme&&this.upgradeThemeMetadataV1ToV2(at.baseTheme)}}upgradeVisualObjects(Ne,at,St,Ct){}upgradeFilterCollection(){}getVersion(){return n.t}upgradeThemeMetadataV1ToV2(Ne){Ne.version&&!(0,E.K8q)(Ne.version)&&(Ne.version=(0,E.yR4)(Ne.version))}}function Dt(Et){return new wt(Et)}class wt{constructor(Ne){var Et;this.versionUpgraders=[new C,new T,new w,new U,new R,new ye,new W,(Et=Ne,new ne(Et)),new K,new L,new Q,(0,te.bH)(),(0,ee.bH)(Ne),new ft,new Oe,new Se,new Ie,new Ge,lt(Ne),new Vt,Ze(Ne),le(Ne),new Xe,tt(Ne),Ut(Ne),vr(Ne),new Ur,new Hr,Or(Ne),new Ir,kr(Ne),xt(Ne),new Zt,Er(Ne),ie(Ne),new bt,new Ft,lr(Ne),_t(Ne)],this.objectsUpgrader=(0,d.t)(this.versionUpgraders)}upgrade(Ne,at,St,Ct){if(this.upgradeElement(Ne,at,St,(jt,qt,ir)=>jt.upgrade(qt,ir),Ct)){var Rt=Ne;return this.upgradeVisualObjects(Rt,Ne.config.version),Ne.config.version=n.t,Rt}}upgradeFilterCollection(Ne,at,St){if(this.upgradeElement(Ne,at,St,(Ct,Rt)=>Ct.upgradeFilterCollection(Rt)))return Ne.config.version=n.t,Ne}getVersionUpgraders(){return this.versionUpgraders}upgradeElement(Ne,at,St,Ct,Rt){r.Y.assertValue(Ne,"element"),r.Y.assert(()=>at&&_.isEmpty(at),"errors should be defined and empty"),r.Y.assertValue(Ct,"runUpgrade");var jt=this.getVersionedElementConfig(Ne),qt=jt.version&&_.isString(jt.version)?jt.version:i.e3;if((0,i.gt)(qt,n.t)){if(at.push({errorType:t.e.UnknownExplorationVersion}),!St)return}else for(var ir of this.versionUpgraders){var cr=ir.getVersion();((0,i.lt)(cr,"2.2")||(0,i.gt)(cr,qt))&&(Ct(ir,Ne,qt),Rt&&Rt.upgraderCount++)}return Ne}upgradeVisualObjects(Ne,at){at=at||i.e3;var St=Ne&&Ne.sections;if(St)for(var Ct of St){var Rt=Ct&&Ct.visualContainers;if(!Rt)return;for(var jt of Rt){var qt=jt&&jt.config&&jt.config.singleVisual;if(qt){var ir=qt.visualType,cr=qt.vcObjects;cr&&this.objectsUpgrader.upgrade(o.S.VisualContainer,cr,ir,at);var gr=qt.objects;gr&&this.objectsUpgrader.upgrade(o.S.Visual,gr,ir,at)}}}}getVersionedElementConfig(Ne){return _.isString(Ne.config)&&(Ne.config=(0,a.p)(Ne.config),r.Y.assertFail("explorationUpgrader.getVersionedElementConfig -\n                    The config shouldn't be a string, it should always be an object,\n                    If this code ever reaches it means that the exploration we are upgrading\n                    hasn't been parsed yet. Please find out where the exploration comes from\n                    and make sure it's parsed before getting sent here.")),Ne.config||(Ne.config={version:i.e3},r.Y.assertFail("explorationUpgrader.getVersionedElementConfig -\n                    The config should exist by this point, we somehow persisted/serialized an invalid config.")),Ne.config}}},821553:function(ve,z,e){e.d(z,{$2$:function(){return we},$Kn:function(){return xe},$bp:function(){return ot},$xZ:function(){return Di},Aak:function(){return ei},BWY:function(){return Ie},ByF:function(){return k},DG1:function(){return ee},DNT:function(){return ue},D_B:function(){return Zi},EtE:function(){return ti},F$E:function(){return pn},FK7:function(){return wr},FLH:function(){return Pn},G5D:function(){return U},GOG:function(){return Q},GOk:function(){return H},H$J:function(){return Zt},H1C:function(){return ne},HZE:function(){return ka},HeG:function(){return Dt},Hl1:function(){return dt},IjO:function(){return he},J4d:function(){return jr},JTv:function(){return rn},K69:function(){return Qe},K8q:function(){return R},Kek:function(){return Kt},L0n:function(){return yi},L92:function(){return la},LUA:function(){return Rr},Mtt:function(){return zr},NjL:function(){return nn},O64:function(){return le},OiP:function(){return je},PGz:function(){return Ua},PPx:function(){return pi},PR7:function(){return te},QST:function(){return tt},Qfr:function(){return ca},Qs5:function(){return Si},RPl:function(){return j},ReZ:function(){return ft},Rth:function(){return Ue},SSD:function(){return Ni},VAO:function(){return Ot},Vyr:function(){return hn},W2r:function(){return ri},XR$:function(){return Ye},XtR:function(){return sr},YFE:function(){return zi},YVh:function(){return Ee},ZNK:function(){return x},_Jb:function(){return W},__1:function(){return yt},aLR:function(){return Pt},d17:function(){return Xe},dX8:function(){return ai},f89:function(){return _e},g88:function(){return Li},gC2:function(){return qe},gWA:function(){return Ft},hAE:function(){return X},h_:function(){return L},ihX:function(){return Ma},j17:function(){return q},jMl:function(){return Ze},jbF:function(){return hi},kof:function(){return on},laz:function(){return ie},mn:function(){return ar},nNr:function(){return Y},nQ_:function(){return ae},o6K:function(){return Tt},oC6:function(){return Me},oFC:function(){return xi},okR:function(){return K},p2U:function(){return pt},rAT:function(){return Te},sEZ:function(){return Ke},sY6:function(){return Oe},v_G:function(){return Jt},w5b:function(){return zt},wJE:function(){return de},wNc:function(){return xr},wvm:function(){return Gr},xR7:function(){return sn},xTQ:function(){return li},xxH:function(){return Nt},yR4:function(){return F},yx8:function(){return Ha},zWu:function(){return At},za9:function(){return Ae}});var a=e(620825),i=e(505809),r=e(44303),t=e(55128),o=e(382901),d=e(966517),n=e(620455),c=e(997665),s=e(878907),p=e(466229),l=e(415592),u=e(130939),v=e(92249),m=e(133420),g=e(18122),E=e(747767),D=e(993337),h=e(890741),C=e(341838),y=e(999904),f=e(757406),S=e(5371),b=e(73646),V=e(312185),M=e(154277),P=e(66388),T=e(385926),N=e(892784),w=e(481041),I=e(312598),O=e(301692),x={v1_0:"1.0",v2_0:"2.0",v2_2:"2.2",v2_3:"2.3",v2_5:"2.5",v3_0:"3.0",v3_1:"3.1",v3_2:"3.2",v3_3:"3.3",v3_4:"3.4",v3_5:"3.5",v3_6:"3.6",v3_6_1:"3.6.1",v3_7:"3.7",v3_8:"3.8",v3_9:"3.9",v3_10:"3.10",v3_11:"3.11",v3_12:"3.12",v3_12_1:"3.12.1",v3_13:"3.13",v3_14:"3.14",v3_14_1:"3.14.1",v3_15:"3.15",v3_16:"3.16",v3_17:"3.17",v3_18:"3.18",v3_19:"3.19",v3_20:"3.20",v3_21:"3.21",v3_22:"3.22",v3_23:"3.23",v3_24:"3.24",v4_0:"4.0",v4_1:"4.1",v4_2:"4.2",v5_0:"5.0",v5_1:"5.1",v5_2:"5.2",v5_3:"5.3",v5_4:"5.4",v5_5:"5.5",v5_6:"5.6",v5_7:"5.7",v5_8:"5.8",v5_9:"5.9",v5_10:"5.10",v5_11:"5.11",v5_12:"5.12",v5_13:"5.13",v5_14:"5.14",v5_15:"5.15",v5_16:"5.16",v5_17:"5.17",v5_18:"5.18",v5_19:"5.19",v5_20:"5.20",v5_21:"5.21",v5_22:"5.22",v5_23:"5.23",v5_24:"5.24",v5_25:"5.25",v5_26:"5.26",v5_27:"5.27",v5_28:"5.28",v5_29:"5.29",v5_30:"5.30",v5_31:"5.31",v5_32:"5.32",v5_33:"5.33",v5_34:"5.34",v5_35:"5.35",v5_36:"5.36",v5_37:"5.37",v5_38:"5.38",v5_39:"5.39",v5_40:"5.40",v5_41:"5.41",v5_42:"5.42",v5_43:"5.43",v5_44:"5.44",v5_45:"5.45",v5_46:"5.46",v5_47:"5.47",v5_48:"5.48",v5_49:"5.49",v5_50:"5.50",v5_51:"5.51",v5_52:"5.52",v5_53:"5.53",v5_54:"5.54",v5_55:"5.55",v5_56:"5.56",v5_57:"5.57",v5_58:"5.58",v5_59:"5.59",v5_60:"5.60",v5_61:"5.61",v5_62:"5.62",v5_63:"5.63",v5_64:"5.64",v5_65:"5.65",v5_66:"5.66",LargestVersion:r.tw},j={v1_0:{visual:"1.8.0",report:"2.0.0",page:"1.3.0"},v2_0:{visual:"1.8.1",report:"2.0.1",page:"1.3.1"},v2_2:{visual:"1.8.2",report:"2.0.2",page:"1.3.2"},v2_3:{visual:"1.8.3",report:"2.0.3",page:"1.3.3"},v2_5:{visual:"1.8.4",report:"2.0.4",page:"1.3.4"},v3_0:{visual:"1.8.5",report:"2.0.5",page:"1.3.5"},v3_1:{visual:"1.8.6",report:"2.0.6",page:"1.3.6"},v3_2:{visual:"1.8.7",report:"2.0.7",page:"1.3.7"},v3_3:{visual:"1.8.8",report:"2.0.8",page:"1.3.8"},v3_4:{visual:"1.8.9",report:"2.0.9",page:"1.3.9"},v3_5:{visual:"1.8.10",report:"2.0.10",page:"1.3.10"},v3_6:{visual:"1.8.11",report:"2.0.11",page:"1.3.11"},v3_6_1:{visual:"1.8.12",report:"2.0.12",page:"1.3.12"},v3_7:{visual:"1.8.13",report:"2.0.13",page:"1.3.13"},v3_8:{visual:"1.8.14",report:"2.0.14",page:"1.3.14"},v3_9:{visual:"1.8.15",report:"2.0.15",page:"1.3.15"},v3_10:{visual:"1.8.16",report:"2.0.16",page:"1.3.16"},v3_11:{visual:"1.8.17",report:"2.0.17",page:"1.3.17"},v3_12:{visual:"1.8.18",report:"2.0.18",page:"1.3.18"},v3_12_1:{visual:"1.8.19",report:"2.0.19",page:"1.3.19"},v3_13:{visual:"1.8.20",report:"2.0.20",page:"1.3.20"},v3_14:{visual:"1.8.21",report:"2.0.21",page:"1.3.21"},v3_14_1:{visual:"1.8.22",report:"2.0.22",page:"1.3.22"},v3_15:{visual:"1.8.23",report:"2.0.23",page:"1.3.23"},v3_16:{visual:"1.8.24",report:"2.0.24",page:"1.3.24"},v3_17:{visual:"1.8.25",report:"2.0.25",page:"1.3.25"},v3_18:{visual:"1.8.26",report:"2.0.26",page:"1.3.26"},v3_19:{visual:"1.8.27",report:"2.0.27",page:"1.3.27"},v3_20:{visual:"1.8.28",report:"2.0.28",page:"1.3.28"},v3_21:{visual:"1.8.29",report:"2.0.29",page:"1.3.29"},v3_22:{visual:"1.8.30",report:"2.0.30",page:"1.3.30"},v3_23:{visual:"1.8.31",report:"2.0.31",page:"1.3.31"},v3_24:{visual:"1.8.32",report:"2.0.32",page:"1.3.32"},v4_0:{visual:"1.8.33",report:"2.0.33",page:"1.3.33"},v4_1:{visual:"1.8.34",report:"2.0.34",page:"1.3.34"},v4_2:{visual:"1.8.35",report:"2.0.35",page:"1.3.35"},v5_0:{visual:"1.8.36",report:"2.0.36",page:"1.3.36"},v5_1:{visual:"1.8.37",report:"2.0.37",page:"1.3.37"},v5_2:{visual:"1.8.38",report:"2.0.38",page:"1.3.38"},v5_3:{visual:"1.8.39",report:"2.0.39",page:"1.3.39"},v5_4:{visual:"1.8.40",report:"2.0.40",page:"1.3.40"},v5_5:{visual:"1.8.41",report:"2.0.41",page:"1.3.41"},v5_6:{visual:"1.8.42",report:"2.0.42",page:"1.3.42"},v5_7:{visual:"1.8.43",report:"2.0.43",page:"1.3.43"},v5_8:{visual:"1.8.44",report:"2.0.44",page:"1.3.44"},v5_9:{visual:"1.8.45",report:"2.0.45",page:"1.3.45"},v5_10:{visual:"1.8.46",report:"2.0.46",page:"1.3.46"},v5_11:{visual:"1.8.47",report:"2.0.47",page:"1.3.47"},v5_12:{visual:"1.8.48",report:"2.0.48",page:"1.3.48"},v5_13:{visual:"1.8.49",report:"2.0.49",page:"1.3.49"},v5_14:{visual:"1.8.50",report:"2.0.50",page:"1.3.50"},v5_15:{visual:"1.8.51",report:"2.0.51",page:"1.3.51"},v5_16:{visual:"1.8.52",report:"2.0.52",page:"1.3.52"},v5_17:{visual:"1.8.53",report:"2.0.53",page:"1.3.53"},v5_18:{visual:"1.8.54",report:"2.0.54",page:"1.3.54"},v5_19:{visual:"1.8.55",report:"2.0.55",page:"1.3.55"},v5_20:{visual:"1.8.56",report:"2.0.56",page:"1.3.56"},v5_21:{visual:"1.8.57",report:"2.0.57",page:"1.3.57"},v5_22:{visual:"1.8.58",report:"2.0.58",page:"1.3.58"},v5_23:{visual:"1.8.59",report:"2.0.59",page:"1.3.59"},v5_24:{visual:"1.8.60",report:"2.0.60",page:"1.3.60"},v5_25:{visual:"1.8.61",report:"2.0.61",page:"1.3.61"},v5_26:{visual:"1.8.62",report:"2.0.62",page:"1.3.62"},v5_27:{visual:"1.8.63",report:"2.0.63",page:"1.3.63"},v5_28:{visual:"1.8.64",report:"2.0.64",page:"1.3.64"},v5_29:{visual:"1.8.65",report:"2.0.65",page:"1.3.65"},v5_30:{visual:"1.8.66",report:"2.0.66",page:"1.3.66"},v5_31:{visual:"1.8.67",report:"2.0.67",page:"1.3.67"},v5_32:{visual:"1.8.68",report:"2.0.68",page:"1.3.68"},v5_33:{visual:"1.8.69",report:"2.0.69",page:"1.3.69"},v5_34:{visual:"1.8.70",report:"2.0.70",page:"1.3.70"},v5_35:{visual:"1.8.71",report:"2.0.71",page:"1.3.71"},v5_36:{visual:"1.8.72",report:"2.0.72",page:"1.3.72"},v5_37:{visual:"1.8.73",report:"2.0.73",page:"1.3.73"},v5_38:{visual:"1.8.74",report:"2.0.74",page:"1.3.74"},v5_39:{visual:"1.8.75",report:"2.0.75",page:"1.3.75"},v5_40:{visual:"1.8.76",report:"2.0.76",page:"1.3.76"},v5_41:{visual:"1.8.77",report:"2.0.77",page:"1.3.77"},v5_42:{visual:"1.8.78",report:"2.0.78",page:"1.3.78"},v5_43:{visual:"1.8.79",report:"2.0.79",page:"1.3.79"},v5_44:{visual:"1.8.80",report:"2.0.80",page:"1.3.80"},v5_45:{visual:"1.8.81",report:"2.0.81",page:"1.3.81"},v5_46:{visual:"1.8.82",report:"2.0.82",page:"1.3.82"},v5_47:{visual:"1.8.83",report:"2.0.83",page:"1.3.83"},v5_48:{visual:"1.8.84",report:"2.0.84",page:"1.3.84"},v5_49:{visual:"1.8.85",report:"2.0.85",page:"1.3.85"},v5_50:{visual:"1.8.86",report:"2.0.86",page:"1.3.86"},v5_51:{visual:"1.8.87",report:"2.0.87",page:"1.3.87"},v5_52:{visual:"1.8.88",report:"2.0.88",page:"1.3.88"},v5_53:{visual:"1.8.89",report:"2.0.89",page:"1.3.89"},v5_54:{visual:"1.8.90",report:"2.0.90",page:"1.3.90"},v5_55:{visual:"1.8.91",report:"2.0.91",page:"1.3.91"},v5_56:{visual:"1.8.92",report:"2.0.92",page:"1.3.92"},v5_57:{visual:"1.8.93",report:"2.0.93",page:"1.3.93"},v5_58:{visual:"1.8.94",report:"2.0.94",page:"1.3.94"},v5_59:{visual:"1.8.95",report:"2.0.95",page:"1.3.95"},v5_60:{visual:"1.8.96",report:"2.0.96",page:"1.3.96"},v5_61:{visual:"1.8.97",report:"2.0.97",page:"1.3.97"},v5_62:{visual:"1.8.98",report:"2.0.98",page:"1.3.98"},v5_63:{visual:"1.8.99",report:"2.0.99",page:"1.3.99"},v5_64:{visual:"1.8.100",report:"2.0.100",page:"1.3.100"},v5_65:{visual:"1.8.101",report:"2.0.101",page:"1.3.101"},v5_66:{visual:"2.1.0",report:"2.1.0",page:"2.0.0"},LargestVersion:{visual:r.tw,report:r.tw,page:r.tw}};function U(Gt){g.Y.assert(()=>"object"==typeof Gt,"v2 should be an object");var rr=_.findKey(j,pr=>_.isEqual(pr,Gt));return x[rr]}function F(Gt){g.Y.assert(()=>"string"==typeof Gt,"v1 should be a string");var rr=_.findKey(x,pr=>pr===Gt);return j[rr]}function R(Gt){return _.isObject(Gt)&&_.has(Gt,"visual")&&_.has(Gt,"report")&&_.has(Gt,"page")}var B={};B[S.Ez.FilteredEval]=x.v3_5,B[S.Ez.Conditional]=x.v3_7,B[S.Ez.ThemeDataColor]=x.v3_8;class A extends b.ff{constructor(rr){super(),this.highestVersion=rr}visitAllRolesRef(rr){this.highestVersion=(0,r.T9)(this.highestVersion,x.v5_1),super.visitAllRolesRef(rr)}visitRangePercent(rr){this.highestVersion=(0,r.T9)(this.highestVersion,x.v5_1),super.visitRangePercent(rr)}visitArithmetic(rr){(0,a.tZ)(rr.right)||(this.highestVersion=(0,r.T9)(this.highestVersion,x.v5_15)),super.visitArithmetic(rr)}visitSparklineData(rr){this.highestVersion=(0,r.T9)(this.highestVersion,at),g.Y.assert(()=>null!=rr.applyCalculationGroupTo,"expr.applyCalculationGroupTo should never be null"),null!=rr.applyCalculationGroupTo&&"none"!==rr.applyCalculationGroupTo&&(this.highestVersion=(0,r.T9)(this.highestVersion,tn)),super.visitSparklineData(rr)}}class W{static getVersionForSQExpr(rr){g.Y.assertValue(rr,"expr should exist to get its version");var pr=B[rr.kind]||r.e3,_r=new A(pr);return rr.accept(_r),_r.highestVersion}static getVersionForSQExprWithDescriptor(rr,pr,_r){g.Y.assertValue(rr,"expr should exist to get its version"),g.Y.assertAnyValue(pr,"typeDescriptor can be undefined in an unloaded custom visual"),g.Y.assertValue(_r,"visualVisualCalcInfo should be defined");var ea=this.getVersionForSQExpr(rr);return pr?.misc?.webUrl&&Ui(rr,_r)&&(ea=(0,r.T9)(Ya,ea)),ea}static getConditionalFormattingVersion(rr,pr){if(g.Y.assertValue(rr,"expr should exist to get its version"),(0,a.ON)(rr)&&rr.input){if(!(0,a.Gv)(rr.input))return We;if(Vi(rr.input,pr))return Ya}if((0,a.Jz)(rr)){if(_.some(rr.cases,oa=>oa.condition.isOrdinalEvaluation()))return Za;var _r=pr.hasVisualCalc?(0,r.T9)(We,Ya):We,ea=oa=>{if(oa&&(0,a.Wc)(oa)){if(!(0,a.Gv)(oa.left))return We;if(Vi(oa.left,pr))return Ya}},ta=oa=>{var ua=ea(oa)??r.e3;if(ua===_r)return ua;if((0,a.mP)(oa))for(var Ga of[oa.left,oa.right]){var mi=ea(Ga)??r.e3;if((ua=(0,r.T9)(mi,ua))===_r)return ua}return ua!==r.e3?ua:void 0},Jr=r.e3;for(var sa of rr.cases){var ga=ta(sa.condition)??r.e3;if((Jr=(0,r.T9)(ga,Jr))===_r)return _r}if(Jr!==r.e3)return Jr}return(0,a.tx)(rr)||(0,a.b9)(rr)?Fe:Ui(rr,pr)?Ya:r.e3}static getVersionForSortDefinitions(rr){if(!_.isEmpty(rr))for(var pr of rr)if((0,a.tZ)(pr.expr))return x.v5_23;return r.e3}static getVersionForVisualContainerGroup(rr){return rr.objects&&void 0!==rr.objects.lockAspect?br:ot}}class G{constructor(rr){this.visualCalcInfo=rr}getVersion(){return this.version??r.e3}visitExpr(rr,pr){null!=rr&&(this.version=W.getConditionalFormattingVersion(rr,this.visualCalcInfo))}visitValueRef(rr,pr){}}var K=x.v3_6,q=x.v3_6,ne=x.v3_7,k=x.v3_8,L=x.v3_8,X=x.v3_8,Y=x.v3_8,Q=x.v3_9,H=x.v3_10,te=x.v3_11,ee=x.v3_11,ue=x.v3_12,Te=x.v3_13,He=x.v3_13,We=x.v3_14,ft=x.v3_14,mt=x.v3_15,At=x.v3_15,Qe=x.v3_17,Fe=x.v3_17,we=x.v3_18,Ee=x.v3_19,Oe=x.v3_20,he=x.v3_20,xe=x.v3_20,Se=x.v3_20,Ae=x.v3_20,Ie=x.v3_20,pe=x.v3_21,Pe=x.v3_21,Me=x.v3_22,De=x.v3_22,lt=x.v3_22,ct=x.v3_23,vt=x.v3_23,Vt=x.v3_23,It=x.v3_23,Ot=x.v3_23,de=x.v3_23,Ze=x.v3_24,Ye=x.v3_24,qe=x.v3_24,ut=x.v4_0,et=x.v4_2,le=x.v4_2,me=x.v4_2,Be=x.v4_2,Ke=x.v4_2,Xe=x.v4_2,re=x.v5_0,fe=x.v5_1,ae=x.v5_2,tt=x.v5_2,ot=x.v5_2,rt=x.v5_3,Re=x.v5_3,J=x.v5_3,ce=x.v5_4,Ce=x.v5_5,ze=x.v5_6,it=x.v5_7,yt=x.v5_8,Nt=x.v5_8,Lt=x.v5_8,zt=x.v5_8,Yt=x.v5_8,Qt=x.v5_9,sr=x.v5_9,je=x.v5_9,Tt=x.v5_9,Kt=x.v5_9,nr=x.v5_9,ar=x.v5_10,$e=x.v5_10,pt=x.v5_11,Ut=x.v5_11,$t=x.v5_12,er=x.v5_12,or=x.v5_13,vr=x.v5_13,mr=x.v5_13,Mr=x.v5_14,Lr=x.v5_14,Ur=x.v5_14,Kr=x.v5_15,Hr=x.v5_15,Gr=x.v5_15,Wr=x.v5_15,Or=x.v5_15,Xr=x.v5_16,aa=x.v5_16,jr=x.v5_16,Cr=x.v5_16,Ir=x.v5_16,ia=x.v5_16,Rr=x.v5_17,zr=x.v5_18,Tr=x.v5_18,Zr=x.v5_18,na=x.v5_19,Nr=x.v5_19,br=x.v5_19,Qr=x.v5_19,kr=x.v5_20,wr=x.v5_20,Pt=x.v5_20,nt=x.v5_20,_e=x.v5_21,ke=x.v5_21,dt=x.v5_22,xt=x.v5_22,Ht=x.v5_22,dr=x.v5_22,Sr=x.v5_22,fr=x.v5_22,Zt=x.v5_23,Er=x.v5_23,Le=x.v5_23,be=x.v5_24,Z=x.v5_24,ie=x.v5_24,Ue=x.v5_24,st=x.v5_25,ht=x.v5_25,bt=x.v5_25,kt=x.v5_26,Ft=x.v5_26,Jt=x.v5_27,lr=x.v5_27,Wt=x.v5_27,_t=x.v5_27,Mt=x.v5_27,Dt=x.v5_27,wt=x.v5_28,Et=x.v5_28,Ne=x.v5_28,at=x.v5_28,Ct=x.v5_30,Rt=x.v5_30,jt=x.v5_31,qt=x.v5_31,ir=x.v5_31,cr=x.v5_31,gr=x.v5_31,hr=x.v5_31,yr=x.v5_31,Dr=x.v5_31,Vr=x.v5_31,Br=x.v5_31,la=x.v5_32,qr=x.v5_33,oe=x.v5_33,Ve=x.v5_33,se=x.v5_33,gt=x.v5_34,Bt=x.v5_34,Xt=x.v5_34,tr=x.v5_34,Fr=x.v5_34,ya=x.v5_34,pa=x.v5_35,li=x.v5_36,Ha=x.v5_36,Aa=x.v5_37,Xa=x.v5_39,Ia=x.v5_39,$a=x.v5_40,Ra=x.v5_40,xa=x.v5_40,Pa=x.v5_41,Ja=x.v5_41,Oa=x.v5_41,Za=x.v5_41,Ca=x.v5_41,qa=x.v5_42,Da=x.v5_42,ei=x.v5_43,Ba=x.v5_44,ti=x.v5_44,Na=x.v5_44,ui=x.v5_44,La=x.v5_46,wa=x.v5_46,Fa=x.v5_47,ci=x.v5_48,fa=x.v5_49,di=x.v5_49,Pr=x.v5_50,ri=x.v5_50,ai=x.v5_50,_a=x.v5_50,Ua=x.v5_51,ii=x.v5_51,Sa=x.v5_51,Wa=x.v5_52,ja=x.v5_52,Ma=x.v5_53,ni=x.v5_54,ha=x.v5_54,ka=x.v5_55,si=x.v5_55,ur=x.v5_56,Pi=x.v5_56,gi=x.v5_56,Mi=x.v5_56,Ni=x.v5_57,yi=x.v5_57,_i=x.v5_57,wi=x.v5_57,Ai=x.v5_57,Ii=x.v5_58,Si=x.v5_58,pi=x.v5_59,za=x.v5_59,zi=x.v5_59,Yi=x.v5_59,Ki=x.v5_60,Gi=x.v5_61,Ya=x.v5_61,Hi=x.v5_62,oi=x.v5_62,hi=x.v5_62,Qi=x.v5_63,Ri=x.v5_64,Xi=x.v5_64,$i=x.v5_64,Ji=x.v5_64,Zi=x.v5_64,qi=x.v5_64,en=x.v5_65,tn=x.v5_65,rn=x.v5_66,an=w.t,Ei=w.t,nn=w.t,Ta=w.t,xi=w.t,sn=w.t,on=w.t,ln=w.t,un=w.t,cn=w.t,dn=w.t,Ci=w.t,Oi=[[I.HM,x.v5_29],[I.Oo,x.v5_30],[I.Qt,x.v5_31],[I.JR,x.v5_32],[I.Cd,x.v5_33],[I.Jw,x.v5_34],[I.Qn,x.v5_35],[I.JL,x.v5_37],[I.C9,x.v5_39],[I.X7,x.v5_40],[I.Cm,x.v5_41],[I.JF,x.v5_42],[I.ZN,x.v5_43],[I.ZN,x.v5_44],[I.Su,x.v5_45],[I.Zc,x.v5_46],[I.eR,x.v5_47],[I.ln,x.v5_48],[I.Qr,x.v5_49],[I.Z8,x.v5_50],[I.eL,x.v5_51],[I.ZZ,x.v5_52],[I.eC,x.v5_53],[I.WR,x.v5_54],[I.Pd,x.v5_55],[I.W,x.v5_56],[I.Py,x.v5_57],[I.WX,x.v5_58],[I.Pj,x.v5_59],[I.IB,x.v5_60],[I.BZ,x.v5_61],[I.Im,x.v5_62],[I.Pp,x.v5_63],[I.JS,x.v5_64],[I.AS,x.v5_65],[I.Hu,x.v5_66]];function pn(Gt){for(var[rr,pr]of Oi)if(Gt===rr)return pr;return g.Y.assertFail(`No exploration version matching ${Gt}`),w.t}function hn(Gt){for(var[rr,pr]of Oi)if(Gt===pr)return rr;return g.Y.assertFail(`No exploration state version matching ${Gt}`),N.Q}var Di=["barChart","clusteredBarChart","clusteredColumnChart","columnChart","funnel","hundredPercentStackedBarChart","hundredPercentStackedColumnChart","lineStackedColumnComboChart","lineClusteredColumnComboChart","map","filledMap","shapeMap","scatterChart"],Ea=[n.U.barChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.ribbonChart],ba=[n.U.clusteredBarChart,n.U.clusteredColumnChart],Ka=[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart],ma=[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart],fn=[n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart],ca=[...ma],da=[...ba,...Ea,...Ka],va=[...da,...ca],Ar=[...ba,...Ea,...Ka,...ma,n.U.realTimeLineChart,n.U.scatterChart,n.U.waterfallChart],vn=_.without(Ar,n.U.realTimeLineChart,n.U.scatterChart),Va=_.without(Ar,n.U.realTimeLineChart),mn=[n.U.stackedAreaChart,n.U.columnChart,n.U.clusteredColumnChart,n.U.barChart,n.U.clusteredBarChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart],Bi=[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart],gn=[...ba,...Ea,...ma,n.U.lineChart],yn=[n.U.azureMap,n.U.filledMap,n.U.heatMap,n.U.map],xr=[...Ea,...ba,...Ka,...ma],_n=[{property:{objectName:"general",propertyName:"altText"},version:x.v3_1},{property:{objectName:"visualLink",propertyName:"type"},version:x.v3_5},{property:{objectName:"visualLink",propertyName:"type",matchByContents:Gt=>Gt.value===T.Xh},version:K},{property:{objectName:"labels",propertyName:"enableBackground"},version:x.v3_9},{property:{objectName:"labels",propertyName:"backgroundColor"},version:x.v3_9},{property:{objectName:"labels",propertyName:"backgroundTransparency"},version:x.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelEnableBackground"},version:x.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelBackgroundColor"},version:x.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelBackgroundTransparency"},version:x.v3_9},{property:{objectName:"dateRange",propertyName:"anchorDate"},version:x.v3_9},{property:{objectName:"categoryAxis",propertyName:"maxMarginFactor"},version:x.v3_9},{property:{objectName:"categoryAxis",propertyName:"innerPadding"},version:x.v3_9},{property:{objectName:"columnFormatting",propertyName:"labelDisplayUnits"},version:x.v3_12},{property:{objectName:"columnFormatting",propertyName:"labelPrecision"},version:x.v3_12},{property:{objectName:"visualTooltip",propertyName:"type",matchByContents:Gt=>Gt.value===P.Hl},version:ue},{property:{objectName:"lineStyles",propertyName:"lineStyle"},version:x.v3_13,types:[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"legendMarkerRendering"},version:x.v3_13,types:[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"defaultToCircle"},version:x.v3_13,types:[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"matchLineColor"},version:x.v3_13,types:[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart]},{property:{objectName:"visualLink",propertyName:"type",matchByContents:Gt=>Gt.value===T.R_},version:He},{property:{objectName:"labels",propertyName:"funnelLabelStyle"},version:x.v3_14,types:[n.U.funnel]},{property:{objectName:"dataPoint",propertyName:"fillRule",matchByContents:vi},version:x.v3_15},{property:{objectName:"values",propertyName:"backColor",matchByContents:vi},version:x.v3_15},{property:{objectName:"values",propertyName:"fontColor",matchByContents:vi},version:x.v3_15},{property:{objectName:"outspace",propertyName:i.pl},version:mt,types:["page"]},{property:{objectName:"visualHeader",propertyName:i.pl},version:At},{property:{objectName:"visualTooltip",propertyName:"show"},version:x.v3_16},{property:{objectName:"categoryAxis",propertyName:"axisType",matchByContents:Gt=>Gt.value===s.G.categorical},version:we,types:[n.U.scatterChart]},{property:{objectName:"searchBox",propertyName:i.pl},version:x.v3_19,types:[n.U.slicer]},{property:{objectName:"rowHeaders",propertyName:"showExpandCollapseButtons"},version:Oe,types:[n.U.pivotTable]},{property:{objectName:"dataPoint",propertyName:"fill",matchByContents:(Gt,rr)=>rr&&rr.data&&1===rr.data.length&&(0,h.z2)(rr.data[0])},version:he,types:Di},{property:{objectName:"filterCard",propertyName:i.pl},version:Se,types:["page"]},{property:{objectName:"outspacePane",propertyName:i.pl},version:Se,types:["page"]},{property:{objectName:"outspacePane",propertyName:"expanded"},version:Se,types:["report"]},{property:{objectName:"outspacePane",propertyName:"visible"},version:Se,types:["report"]},{property:{objectName:"visualLink",propertyName:"tooltip"},version:pe},{property:{objectName:"general",propertyName:"requireSingleSelect"},version:Pe,types:["filter"]},{property:{objectName:"title",propertyName:"titleWrap"},version:De},{property:{objectName:"border",propertyName:"radius"},version:lt},{property:{objectName:"visualLink",propertyName:"webUrl"},version:ct},{property:{objectName:"selection",propertyName:"strictSingleSelect"},version:vt,types:[n.U.slicer]},{property:{objectName:"visualTooltip",propertyName:"fontColor"},version:Vt},{property:{objectName:"visualTooltip",propertyName:"fontSize"},version:Vt},{property:{objectName:"visualTooltip",propertyName:"fontFamily"},version:Vt},{property:{objectName:"visualTooltip",propertyName:"background"},version:Vt},{property:{objectName:"visualTooltip",propertyName:"transparency"},version:Vt},{property:{objectName:"displayArea",propertyName:"verticalAlignment"},version:It,types:["page"]},{property:{objectName:"section",propertyName:"verticalAlignment"},version:It,types:["report"]},{property:{objectName:"title",propertyName:"text",isExprBound:!0},version:ut},{property:{objectName:"indicator",propertyName:"fontSize"},version:x.v4_1,types:[n.U.kpi]},{property:{objectName:"labels",propertyName:"labelPosition"},version:x.v4_1,types:[n.U.lineChart]},{property:{objectName:"title",propertyName:"fontColor",matchByContents:(Gt,rr)=>{var _r=Gt&&Gt.solid&&Gt.solid.color;return!((0,a.VO)(_r)||(0,a.Hf)(_r))}},version:et},{property:{objectName:"title",propertyName:"background",matchByContents:(Gt,rr)=>{var _r=Gt&&Gt.solid&&Gt.solid.color;return!((0,a.VO)(_r)||(0,a.Hf)(_r))}},version:et},{property:{objectName:"labels",propertyName:"color",matchByContents:(Gt,rr)=>{var _r=Gt&&Gt.solid&&Gt.solid.color;return!((0,a.VO)(_r)||(0,a.Hf)(_r))}},version:et,types:[n.U.card]},{property:{objectName:"categoryLabels",propertyName:"color",matchByContents:(Gt,rr)=>{var _r=Gt&&Gt.solid&&Gt.solid.color;return!((0,a.VO)(_r)||(0,a.Hf)(_r))}},version:et,types:[n.U.card]},{property:{objectName:"subTotals",propertyName:"rowSubtotalsLabel"},types:[n.U.pivotTable],version:x.v4_2},{property:{objectName:"subTotals",propertyName:"columnSubtotalsLabel"},types:[n.U.pivotTable],version:x.v4_2},{property:{objectName:"subTotals",propertyName:"levelSubtotalLabel"},types:[n.U.pivotTable],version:x.v4_2},{property:{objectName:"total",propertyName:"label"},types:[n.U.tableEx],version:x.v4_2},{property:{objectName:"visualHeader",propertyName:"showTooltipButton"},version:Be},{property:{objectName:"visualHeaderTooltip",propertyName:"section"},version:Be},{property:{objectName:"visualHeaderTooltip",propertyName:"text"},version:Be},{property:{objectName:"visualHeaderTooltip",propertyName:"titleFontColor"},version:Be},{property:{objectName:"visualHeaderTooltip",propertyName:"fontSize"},version:Be},{property:{objectName:"visualHeaderTooltip",propertyName:"fontFamily"},version:Be},{property:{objectName:"visualHeaderTooltip",propertyName:"background"},version:Be},{property:{objectName:"visualHeaderTooltip",propertyName:"transparency"},version:Be},{property:{objectName:"dataPoint",propertyName:"fill",matchByContents:(Gt,rr)=>!(0,a.VO)(Gt&&Gt.solid&&Gt.solid.color)},version:me,types:[n.U.gauge]},{property:{objectName:"background",propertyName:"color",matchByContents:(Gt,rr)=>{var _r=Gt&&Gt.solid&&Gt.solid.color;return!((0,a.VO)(_r)||(0,a.Hf)(_r))}},version:re},{property:{objectName:"keyDrivers",propertyName:"allowKeyDriversCounting",matchByContents:Gt=>!0===Gt.value},version:fe},{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"values",propertyName:"icon"},version:x.v5_1},{property:{objectName:"text",propertyName:"fontFamily"},types:[n.U.textbox],version:x.v5_3},{property:{objectName:"text",propertyName:"fontSize"},types:[n.U.textbox],version:x.v5_3},{property:{objectName:"text",propertyName:"color"},types:[n.U.textbox],version:x.v5_3},{property:{objectName:"general",propertyName:"altText",isExprBound:!0},version:Re},{property:{objectName:"border",propertyName:"color",isExprBound:!0},version:rt},{property:{objectName:"dataPoint",propertyName:"target",isExprBound:!0},version:J,types:[n.U.gauge]},{property:{objectName:"labels",propertyName:"color",isExprBound:!0},version:J,types:[n.U.gauge]},{property:{objectName:"target",propertyName:"color",isExprBound:!0},version:J,types:[n.U.gauge]},{property:{objectName:"calloutValue",propertyName:"color",isExprBound:!0},version:J,types:[n.U.gauge]},{property:{objectName:"pageRefresh",propertyName:"show"},version:ce,types:["page"]},{property:{objectName:"pageRefresh",propertyName:"duration"},version:ce,types:["page"]},{property:{objectName:"text",propertyName:"text",isExprBound:!0},version:Ce,types:[n.U.actionButton]},{property:{objectName:"text",propertyName:"fontColor",isExprBound:!0},version:Ce,types:[n.U.actionButton]},{property:{objectName:"icon",propertyName:"lineColor",isExprBound:!0},version:Ce,types:[n.U.actionButton]},{property:{objectName:"outline",propertyName:"lineColor",isExprBound:!0},version:Ce,types:[n.U.actionButton]},{property:{objectName:"fill",propertyName:"fillColor",isExprBound:!0},version:Ce,types:[n.U.actionButton]},{property:{objectName:"visualLink",propertyName:"tooltip",isExprBound:!0},version:Ce},{types:[n.U.kpi],property:{objectName:"indicator",propertyName:"fontFamily"},version:ze},{types:[n.U.kpi],property:{objectName:"indicator",propertyName:"fontColor"},version:ze},{types:[n.U.kpi],property:{objectName:"indicator",propertyName:"verticalAlignment"},version:ze},{types:[n.U.kpi],property:{objectName:"indicator",propertyName:"horizontalAlignment"},version:ze},{types:[n.U.kpi],property:{objectName:"trendline",propertyName:"transparency"},version:ze},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"goalText"},version:ze},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"fontSize"},version:ze},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"goalFontFamily"},version:ze},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"goalFontColor"},version:ze},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"distanceLabel"},version:ze},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"percentageLabelPrecision"},version:ze},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"titleFontSize"},version:ze},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"distanceFontFamily"},version:ze},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"distanceFontColor"},version:ze},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"direction"},version:ze},{types:[n.U.kpi],property:{objectName:"period",propertyName:"show"},version:ze},{types:[n.U.kpi],property:{objectName:"period",propertyName:"fontSize"},version:ze},{types:[n.U.kpi],property:{objectName:"period",propertyName:"periodFontFamily"},version:ze},{types:[n.U.kpi],property:{objectName:"period",propertyName:"periodFontColor"},version:ze},{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"values",propertyName:"webURL"},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.categoryLabels,propertyName:t.iL.categoryLabelFontColor},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.categoryLabels,propertyName:t.iL.categoryLabelFontFamily},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.categoryLabels,propertyName:t.iL.categoryLabelFontSize},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataLabels,propertyName:t.iL.dataLabelFontColor},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataLabels,propertyName:t.iL.dataLabelFontFamily},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataLabels,propertyName:t.iL.dataLabelFontSize},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataLabels,propertyName:t.iL.dataLabelDisplayUnits},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataLabels,propertyName:t.iL.dataLabelPrecision},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataBars,propertyName:t.iL.dataBarBackgroundColor},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataBars,propertyName:t.iL.dataBarWidthPercent},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.levelHeader,propertyName:t.iL.levelHeaderBackgroundColor},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.levelHeader,propertyName:t.iL.levelTitleFontColor},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.levelHeader,propertyName:t.iL.levelTitleFontFamily},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.levelHeader,propertyName:t.iL.levelTitleFontSize},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.levelHeader,propertyName:t.iL.levelSubtitleFontColor},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.levelHeader,propertyName:t.iL.levelSubtitleFontFamily},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.levelHeader,propertyName:t.iL.levelSubtitleFontSize},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.levelHeader,propertyName:t.iL.showSubtitles},version:x.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.tree,propertyName:t.iL.connectorDefaultColor},version:x.v5_6},{types:["page"],property:{objectName:"outspacePane",propertyName:"inputBoxColor"},version:it},{types:["page"],property:{objectName:"outspacePane",propertyName:"searchTextSize"},version:it},{types:[n.U.actionButton],property:{objectName:"visualLink",propertyName:"navigationSection"},version:x.v5_8},{types:[n.U.actionButton],property:{objectName:"visualLink",propertyName:"drillthroughSection"},version:x.v5_8},{property:{objectName:"y2Axis",propertyName:"show"},version:Yt},{property:{objectName:"y2Axis",propertyName:"secAxisLabel"},version:Yt},{property:{objectName:"y2Axis",propertyName:"secLogAxisScale"},version:Yt},{property:{objectName:"y2Axis",propertyName:"secStart"},version:Yt},{property:{objectName:"y2Axis",propertyName:"secEnd"},version:Yt},{property:{objectName:"y2Axis",propertyName:"secShowAxisTitle"},version:Yt},{property:{objectName:"y2Axis",propertyName:"secAxisStyle"},version:Yt},{property:{objectName:"y2Axis",propertyName:"secLabelColor"},version:Yt},{property:{objectName:"y2Axis",propertyName:"secFontFamily"},version:Yt},{property:{objectName:"y2Axis",propertyName:"secFontSize"},version:Yt},{property:{objectName:"y2Axis",propertyName:"secLabelDisplayUnits"},version:Yt},{property:{objectName:"y2Axis",propertyName:"secLabelPrecision"},version:Yt},{property:{objectName:"y2Axis",propertyName:"secTitleColor"},version:Yt},{property:{objectName:"y2Axis",propertyName:"secTitleFontFamily"},version:Yt},{property:{objectName:"y2Axis",propertyName:"secTitleFontSize"},version:Yt},{property:{objectName:"y2Axis",propertyName:"secTitleText"},version:Yt},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.tree,propertyName:t.iL.barsPerLevel},version:Lt},{types:["page"],property:{objectName:"pageRefresh",propertyName:"refreshType"},version:Qt},{property:{objectName:"visualHeader",propertyName:"showPersonalizeVisualButton"},version:je},{property:{objectName:"general",propertyName:"isInvertedSelectionMode"},version:nr,types:["filter"]},{types:[n.U.slicer],property:{objectName:"data",propertyName:"mode",matchByContents:Gt=>Gt.value===v.KW},version:Tt},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"backColor",matchByContents:(Gt,rr)=>void 0!==fi(rr)},version:x.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"fontColor",matchByContents:(Gt,rr)=>void 0!==fi(rr)},version:x.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"icon",matchByContents:(Gt,rr)=>{var pr=fi(rr);return void 0!==pr&&pr!==E._.InstancesOnly}},version:x.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"webURL",matchByContents:(Gt,rr)=>{var pr=fi(rr);return void 0!==pr&&pr!==E._.InstancesOnly}},version:x.v5_9},{types:[n.U.actionButton],property:{objectName:"fill",propertyName:"image"},version:x.v5_10},{types:[n.U.actionButton],property:{objectName:"visualLink",propertyName:"enabledTooltip",isExprBound:!0},version:x.v5_10},{types:[n.U.actionButton],property:{objectName:"visualLink",propertyName:"disabledTooltip",isExprBound:!0},version:x.v5_10},{types:[n.U.actionButton],property:{objectName:"visualLink",propertyName:"drillthroughSection",isExprBound:!0},version:x.v5_10},{types:[n.U.actionButton],property:{objectName:"visualLink",propertyName:"navigationSection",isExprBound:!0},version:x.v5_10},{types:[n.U.image,n.U.basicShape],property:{objectName:"visualLink",propertyName:"navigationSection"},version:x.v5_10},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"items",propertyName:"steppedLayoutIndentation"},version:x.v5_10},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"items",propertyName:"expandCollapseToggleType"},version:x.v5_10},{types:[n.U.kpi],property:{objectName:"indicator",propertyName:"iconSize"},version:$e},{types:[n.U.kpi],property:{objectName:"indicator",propertyName:"showIcon"},version:$e},{types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"showAllDataPoints"},version:pt},{types:[n.U.map,n.U.filledMap,n.U.heatMap],property:{objectName:"dataPoint",propertyName:"transparency"},version:Ut},{types:[n.U.map,n.U.filledMap,n.U.heatMap],property:{objectName:"mapControls",propertyName:"minZoom"},version:Ut},{types:[n.U.map,n.U.filledMap,n.U.heatMap],property:{objectName:"mapControls",propertyName:"maxZoom"},version:Ut},{types:[n.U.map,n.U.filledMap,n.U.heatMap],property:{objectName:"mapStyles",propertyName:"showLabels"},version:Ut},{types:[n.U.filledMap],property:{objectName:"stroke",propertyName:"show"},version:Ut},{types:[n.U.filledMap],property:{objectName:"stroke",propertyName:"strokeColor"},version:Ut},{types:[n.U.filledMap],property:{objectName:"stroke",propertyName:"strokeWidth"},version:Ut},{types:[n.U.textbox],property:{...d.PE.general.paragraphs,matchByContents:(Gt,rr)=>{if((0,M.pj)(Gt))for(var pr of Gt)if(pr&&!_.isEmpty(pr.textRuns))for(var _r of pr.textRuns)if((0,V.k9)(_r))return!0;return!1}},version:$t},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.tree,propertyName:t.iL.defaultClickAction},version:er},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.tree,propertyName:t.iL.responsiveLayout},version:er},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.tree,propertyName:t.iL.effectiveBarsPerLevel},version:er},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataBars,propertyName:t.iL.dataBarColor},version:er},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataBars,propertyName:t.iL.axisStart},version:er},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataBars,propertyName:t.iL.axisEnd},version:er},{types:[n.U.decompositionTreeVisual],property:{objectName:"general",propertyName:"formatString"},version:er},{types:[n.U.qnaVisual],property:{objectName:"inputBox",propertyName:"warningColor"},version:vr},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"header",propertyName:"text"},version:mr},{types:[n.U.barChart,n.U.columnChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.scatterChart],property:{objectName:"legend",propertyName:"showGradientLegend"},version:or},{types:[n.U.qnaVisual],property:{objectName:"inputBox",propertyName:"commitButtonBackgroundColor"},version:Mr},{property:{objectName:"dropShadow",propertyName:"*"},version:Lr},{types:["page"],property:{objectName:"personalizeVisual",propertyName:"perspectiveRef"},version:Ur},{types:["page"],property:{objectName:"personalizeVisual",propertyName:"show"},version:Kr},{property:{objectName:"general",propertyName:"keepLayerOrder"},version:Hr},{property:d.PE.values.expr,types:[n.U.textbox],version:Wr},{property:d.PE.values.formatString,types:[n.U.textbox],version:Wr},{types:[n.U.areaChart,n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"show"},version:Or},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"color"},version:Or},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"labelDisplayUnits"},version:Or},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"labelPrecision"},version:Or},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"enableBackground"},version:Or},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"backgroundColor"},version:Or},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"backgroundTransparency"},version:Or},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"fontSize"},version:Or},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"fontFamily"},version:Or},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart],property:{objectName:"totals",propertyName:"showPositiveAndNegative"},version:Or},{property:{objectName:"outspacePane",propertyName:"checkboxAndApplyColor"},types:["page"],version:Xr},...["show","transform","displayName","markerShape","markerShapeSize","markerColor","confidenceBandStyle","confidenceBandColor","CategoryValue","Value","ExpectedValue","ExpectedLow","ExpectedHigh","BatchStart","BatchEnd","sensitivity","explainBy","isAnomalyHighlighted"].map(Gt=>({types:[n.U.lineChart],property:{objectName:"anomalyDetection",propertyName:Gt},version:aa})),{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.insights,propertyName:t.iL.isAINode},version:Ir},{types:[n.U.areaChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.ribbonChart,n.U.scatterChart,n.U.stackedAreaChart],property:{objectName:"zoom",propertyName:"*"},version:Cr},{types:da,property:{objectName:"subheader",propertyName:"fontFamily"},version:jr},{types:da,property:{objectName:"subheader",propertyName:"fontSize"},version:jr},{types:da,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!1},version:jr},{types:da,property:{objectName:"subheader",propertyName:"alignment"},version:jr},{types:da,property:{objectName:"subheader",propertyName:"position"},version:jr},{types:da,property:{objectName:"smallMultiplesLayout",propertyName:"layoutType"},version:jr},{types:da,property:{objectName:"smallMultiplesLayout",propertyName:"rowCount"},version:jr},{types:da,property:{objectName:"smallMultiplesLayout",propertyName:"columnCount"},version:jr},{property:{objectName:"dataPoint",propertyName:"fill",isExprBound:!0},version:ia,types:[n.U.azureMap]},{types:da,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!1},version:Tr},{types:da,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundTransparency"},version:Tr},{types:da,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineType"},version:Tr},{types:da,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},version:Tr},{types:da,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineWidth"},version:Tr},{types:da,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineStyle"},version:Tr},{types:[n.U.map,n.U.filledMap,n.U.heatMap],property:{objectName:"mapControls",propertyName:"geocodingCulture"},version:Zr},{types:[n.U.azureMap],property:{objectName:"mapControls",propertyName:"showSelectionControl"},version:Nr},{types:da,property:{objectName:"subheader",propertyName:"titleWrap"},version:na},{types:["group"],property:{objectName:"lockAspect",propertyName:"show"},version:br},{types:[n.U.lineChart],property:{objectName:"xAxisReferenceLine",propertyName:"*"},version:Qr},{types:va,property:{objectName:"smallMultiplesLayout",propertyName:"gridPadding"},version:kr},{types:va,property:{objectName:"smallMultiplesLayout",propertyName:"advancedPaddingOptions"},version:kr},{types:va,property:{objectName:"smallMultiplesLayout",propertyName:"columnPaddingInner"},version:kr},{types:va,property:{objectName:"smallMultiplesLayout",propertyName:"columnPaddingOuter"},version:kr},{types:va,property:{objectName:"smallMultiplesLayout",propertyName:"rowPaddingInner"},version:kr},{types:va,property:{objectName:"smallMultiplesLayout",propertyName:"rowPaddingOuter"},version:kr},{types:ca,property:{objectName:"subheader",propertyName:"fontFamily"},version:wr},{types:ca,property:{objectName:"subheader",propertyName:"fontSize"},version:wr},{types:ca,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!1},version:wr},{types:ca,property:{objectName:"subheader",propertyName:"alignment"},version:wr},{types:ca,property:{objectName:"subheader",propertyName:"position"},version:wr},{types:ca,property:{objectName:"smallMultiplesLayout",propertyName:"layoutType"},version:wr},{types:ca,property:{objectName:"smallMultiplesLayout",propertyName:"rowCount"},version:wr},{types:ca,property:{objectName:"smallMultiplesLayout",propertyName:"columnCount"},version:wr},{types:ca,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!1},version:wr},{types:ca,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundTransparency"},version:wr},{types:ca,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineType"},version:wr},{types:ca,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},version:wr},{types:ca,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineWidth"},version:wr},{types:ca,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineStyle"},version:wr},{types:ca,property:{objectName:"subheader",propertyName:"titleWrap"},version:wr},{types:[n.U.areaChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.ribbonChart,n.U.scatterChart,n.U.stackedAreaChart],property:{objectName:"categoryAxis",propertyName:"invertAxis"},version:nt},{types:[n.U.areaChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.ribbonChart,n.U.scatterChart,n.U.stackedAreaChart,n.U.waterfallChart],property:{objectName:"valueAxis",propertyName:"invertAxis"},version:nt},{types:[n.U.areaChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.ribbonChart,n.U.scatterChart,n.U.stackedAreaChart],property:{objectName:"y2Axis",propertyName:"secInvertAxis"},version:nt},{types:[n.U.areaChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.ribbonChart,n.U.scatterChart,n.U.stackedAreaChart],property:{objectName:"valueAxis",propertyName:"secInvertAxis"},version:nt},{property:{objectName:"visualTooltip",propertyName:"actionFontColor"},version:_e},{property:{objectName:"visualTooltip",propertyName:"themedTitleFontColor"},version:_e},{property:{objectName:"visualTooltip",propertyName:"themedValueFontColor"},version:_e},{property:{objectName:"visualTooltip",propertyName:"themedBackground"},version:_e},{property:{objectName:"fill",propertyName:"fillColor",isExprBound:!0},version:x.v5_21,types:[n.U.shape]},{property:{objectName:"outline",propertyName:"lineColor",isExprBound:!0},version:x.v5_21,types:[n.U.shape]},{property:{objectName:"text",propertyName:"text",isExprBound:!0},version:x.v5_21,types:[n.U.shape]},{property:{objectName:"text",propertyName:"fontColor",isExprBound:!0},version:x.v5_21,types:[n.U.shape]},{property:{objectName:"shadow",propertyName:"color",isExprBound:!0},version:x.v5_21,types:[n.U.shape]},{property:{objectName:"glow",propertyName:"color",isExprBound:!0},version:x.v5_21,types:[n.U.shape]},{types:[n.U.map,n.U.filledMap,n.U.heatMap],property:{objectName:"mapControls",propertyName:"showLassoButton"},version:ke},{types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"fill",matchByContents:(Gt,rr)=>!rr||rr&&rr.data&&1===rr.data.length&&(0,h.z2)(rr.data[0])},version:Ht},{types:[n.U.shapeMap],property:{objectName:"shape",propertyName:"map",matchByContents:Gt=>{if(Gt){var pr=Gt.name;if(pr)return pr.value===m.pB}return!1}},version:xt},{property:{objectName:"visualHeaderTooltip",propertyName:"themedTitleFontColor"},version:Sr},{property:{objectName:"visualHeaderTooltip",propertyName:"themedBackground"},version:Sr},{types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"transparency"},version:fr},{types:va,property:{objectName:"subheader",propertyName:"show"},version:dr},{types:va,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!0},version:x.v5_22},{types:va,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!0},version:x.v5_22},{types:[n.U.azureMap,n.U.donutChart,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,...Ar],property:{objectName:"legend",propertyName:"labelColor",isExprBound:!0},version:Er},{types:[n.U.azureMap,n.U.donutChart,n.U.pieChart,n.U.funnel,n.U.map,n.U.filledMap,n.U.shapeMap,...Va],property:{objectName:"dataPoint",propertyName:"fill",isExprBound:!0},version:Er},{types:[n.U.donutChart,n.U.pieChart,n.U.funnel,n.U.map,n.U.filledMap,n.U.treemap,...vn],property:{objectName:"labels",propertyName:"color",isExprBound:!0},version:Er},{types:mn,property:{objectName:"totals",propertyName:"color",isExprBound:!0},version:Er},{types:[n.U.funnel],property:{objectName:"percentBarLabel",propertyName:"color",isExprBound:!0},version:Er},{types:[n.U.funnel],property:{objectName:"categoryAxis",propertyName:"color",isExprBound:!0},version:Er},{types:Va,property:{objectName:"categoryAxis",propertyName:"start",isExprBound:!0},version:Er},{types:Va,property:{objectName:"categoryAxis",propertyName:"end",isExprBound:!0},version:Er},{types:Va,property:{objectName:"categoryAxis",propertyName:"titleColor",isExprBound:!0},version:Er},{types:Va,property:{objectName:"categoryAxis",propertyName:"gridlineColor",isExprBound:!0},version:Er},{types:Ar,property:{objectName:"categoryAxis",propertyName:"labelColor",isExprBound:!0},version:Er},{types:Va,property:{objectName:"valueAxis",propertyName:"start",isExprBound:!0},version:Er},{types:Va,property:{objectName:"valueAxis",propertyName:"end",isExprBound:!0},version:Er},{types:Va,property:{objectName:"valueAxis",propertyName:"titleColor",isExprBound:!0},version:Er},{types:Va,property:{objectName:"valueAxis",propertyName:"gridlineColor",isExprBound:!0},version:Er},{types:Ar,property:{objectName:"valueAxis",propertyName:"labelColor",isExprBound:!0},version:Er},{types:Bi,property:{objectName:"valueAxis",propertyName:"secStart",isExprBound:!0},version:Er},{types:Bi,property:{objectName:"valueAxis",propertyName:"secEnd",isExprBound:!0},version:Er},{types:[n.U.areaChart,n.U.lineChart],property:{objectName:"y2Axis",propertyName:"secStart",isExprBound:!0},version:Er},{types:[n.U.areaChart,n.U.lineChart],property:{objectName:"y2Axis",propertyName:"secEnd",isExprBound:!0},version:Er},{types:[n.U.multiRowCard],property:{objectName:"cardTitle",propertyName:"color",isExprBound:!0},version:Er},{types:[n.U.multiRowCard],property:{objectName:"dataLabels",propertyName:"color",isExprBound:!0},version:Er},{types:[n.U.multiRowCard,n.U.treemap],property:{objectName:"categoryLabels",propertyName:"color",isExprBound:!0},version:Er},{types:[n.U.gauge],property:{objectName:"axis",propertyName:"min",isExprBound:!0},version:Er},{types:[n.U.gauge],property:{objectName:"axis",propertyName:"max",isExprBound:!0},version:Er},{types:[n.U.gauge],property:{objectName:"axis",propertyName:"target",isExprBound:!0},version:Er},{types:[n.U.slicer],property:{objectName:"slider",propertyName:"color",isExprBound:!0},version:Er},{types:[n.U.slicer],property:{objectName:"header",propertyName:"fontColor",isExprBound:!0},version:Er},{types:[n.U.slicer],property:{objectName:"header",propertyName:"background",isExprBound:!0},version:Er},{property:{objectName:"visualLink",propertyName:"showDefaultTooltip"},version:Le},{property:{objectName:"shape",propertyName:"arrowheadSize"},version:be,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"arrowStemWidth"},version:be,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"chevronAngle"},version:be,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"isocelesTriangleTipPosition"},version:be,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"parallelogramSlant"},version:be,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"trapezoidSlant"},version:be,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"hexagonSlant"},version:be,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"octagonSnipSize"},version:be,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleHeight"},version:be,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleTailPosition"},version:be,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleTailAngle"},version:be,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"rectangleRoundedCurve"},version:be,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTopRight"},version:be,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTop"},version:be,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeBottom"},version:be,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerTopRight"},version:be,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerTop"},version:be,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerBottom"},version:be,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"xAxisReferenceLine",propertyName:"*"},version:Z,types:[n.U.areaChart,n.U.columnChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineStackedColumnComboChart,n.U.lineClusteredColumnComboChart,n.U.ribbonChart,n.U.stackedAreaChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"value",isExprBound:!0},version:Z,types:[n.U.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeRegion"},version:Z,types:[n.U.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeColor"},version:Z,types:[n.U.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeTransparency"},version:Z,types:[n.U.lineChart]},{property:{objectName:"title",propertyName:"heading"},version:ie},{property:{objectName:"text",propertyName:"leftMargin"},version:st,types:[n.U.actionButton]},{property:{objectName:"text",propertyName:"rightMargin"},version:st,types:[n.U.actionButton]},{property:{objectName:"text",propertyName:"topMargin"},version:st,types:[n.U.actionButton]},{property:{objectName:"text",propertyName:"bottomMargin"},version:st,types:[n.U.actionButton]},{property:{objectName:"icon",propertyName:"image"},version:st,types:[n.U.actionButton]},{property:{objectName:"icon",propertyName:"leftMargin"},version:st,types:[n.U.actionButton]},{property:{objectName:"icon",propertyName:"rightMargin"},version:st,types:[n.U.actionButton]},{property:{objectName:"icon",propertyName:"topMargin"},version:st,types:[n.U.actionButton]},{property:{objectName:"icon",propertyName:"bottomMargin"},version:st,types:[n.U.actionButton]},{property:{objectName:"icon",propertyName:"placement"},version:st,types:[n.U.actionButton]},{property:{objectName:"icon",propertyName:"iconSize"},version:st,types:[n.U.actionButton]},{property:{objectName:"shape",propertyName:"*"},version:st,types:[n.U.actionButton]},{property:{objectName:"shadow",propertyName:"*"},version:st,types:[n.U.actionButton]},{property:{objectName:"glow",propertyName:"*"},version:st,types:[n.U.actionButton]},{property:{objectName:"rotation",propertyName:"*"},version:st,types:[n.U.actionButton]},{property:{objectName:"seriesLabels",propertyName:"*"},version:ht,types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart]},{types:[n.U.waterfallChart],property:{objectName:"valueAxis",propertyName:"totalsEnabled"},version:bt},{types:[n.U.azureMap],property:{objectName:"heatMapLayer",propertyName:"*"},version:kt},{types:[n.U.pageNavigator,n.U.bookmarkNavigator],property:{objectName:"background",propertyName:"show"},version:Jt},{types:[n.U.pageNavigator,n.U.bookmarkNavigator],property:{objectName:"visualHeader",propertyName:"show"},version:Jt},{property:{objectName:"slices",propertyName:"startAngle"},version:_t,types:[n.U.donutChart,n.U.pieChart]},{types:[n.U.pieChart],property:{objectName:"slices",propertyName:"innerRadiusRatio"},version:Mt},{types:[n.U.azureMap,n.U.donutChart,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,n.U.heatMap,...Ar],property:{objectName:"legend",propertyName:"bold"},version:Wt},{types:[n.U.azureMap,n.U.donutChart,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,n.U.heatMap,...Ar],property:{objectName:"legend",propertyName:"italic"},version:Wt},{types:[n.U.azureMap,n.U.donutChart,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,n.U.heatMap,...Ar],property:{objectName:"legend",propertyName:"underline"},version:Wt},{types:[n.U.funnel,n.U.scatterChart,...Ar],property:{objectName:"categoryAxis",propertyName:"bold"},version:Wt},{types:[n.U.funnel,n.U.scatterChart,...Ar],property:{objectName:"categoryAxis",propertyName:"italic"},version:Wt},{types:[n.U.funnel,n.U.scatterChart,...Ar],property:{objectName:"categoryAxis",propertyName:"underline"},version:Wt},{types:[...Ar],property:{objectName:"categoryAxis",propertyName:"titleBold"},version:Wt},{types:[...Ar],property:{objectName:"categoryAxis",propertyName:"titleItalic"},version:Wt},{types:[...Ar],property:{objectName:"categoryAxis",propertyName:"titleUnderline"},version:Wt},{types:[n.U.scatterChart,...Ar],property:{objectName:"valueAxis",propertyName:"bold"},version:Wt},{types:[n.U.scatterChart,...Ar],property:{objectName:"valueAxis",propertyName:"italic"},version:Wt},{types:[n.U.scatterChart,...Ar],property:{objectName:"valueAxis",propertyName:"underline"},version:Wt},{types:[...Ar],property:{objectName:"valueAxis",propertyName:"titleBold"},version:Wt},{types:[...Ar],property:{objectName:"valueAxis",propertyName:"titleItalic"},version:Wt},{types:[...Ar],property:{objectName:"valueAxis",propertyName:"titleUnderline"},version:Wt},{types:[...Ar],property:{objectName:"valueAxis",propertyName:"secBold"},version:Wt},{types:[...Ar],property:{objectName:"valueAxis",propertyName:"secItalic"},version:Wt},{types:[...Ar],property:{objectName:"valueAxis",propertyName:"secUnderline"},version:Wt},{types:[...Ar],property:{objectName:"valueAxis",propertyName:"secTitleBold"},version:Wt},{types:[...Ar],property:{objectName:"valueAxis",propertyName:"secTitleItalic"},version:Wt},{types:[...Ar],property:{objectName:"valueAxis",propertyName:"secTitleUnderline"},version:Wt},{types:[...Ar],property:{objectName:"y2Axis",propertyName:"secBold"},version:Wt},{types:[...Ar],property:{objectName:"y2Axis",propertyName:"secItalic"},version:Wt},{types:[...Ar],property:{objectName:"y2Axis",propertyName:"secUnderline"},version:Wt},{types:[...Ar],property:{objectName:"y2Axis",propertyName:"secTitleBold"},version:Wt},{types:[...Ar],property:{objectName:"y2Axis",propertyName:"secTitleItalic"},version:Wt},{types:[...Ar],property:{objectName:"y2Axis",propertyName:"secTitleUnderline"},version:Wt},{types:[n.U.azureMap,n.U.card,n.U.donutChart,n.U.funnel,n.U.gauge,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,...Ar],property:{objectName:"labels",propertyName:"bold"},version:Wt},{types:[n.U.azureMap,n.U.card,n.U.donutChart,n.U.funnel,n.U.gauge,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,...Ar],property:{objectName:"labels",propertyName:"italic"},version:Wt},{types:[n.U.azureMap,n.U.card,n.U.donutChart,n.U.funnel,n.U.gauge,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,...Ar],property:{objectName:"labels",propertyName:"underline"},version:Wt},{types:[...Ar],property:{objectName:"seriesLabels",propertyName:"bold"},version:Wt},{types:[...Ar],property:{objectName:"seriesLabels",propertyName:"italic"},version:Wt},{types:[...Ar],property:{objectName:"seriesLabels",propertyName:"underline"},version:Wt},{types:[n.U.azureMap,n.U.card,n.U.multiRowCard,n.U.donutChart,n.U.scatterChart,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,n.U.heatMap],property:{objectName:"categoryLabels",propertyName:"bold"},version:Wt},{types:[n.U.azureMap,n.U.card,n.U.multiRowCard,n.U.donutChart,n.U.scatterChart,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,n.U.heatMap],property:{objectName:"categoryLabels",propertyName:"italic"},version:Wt},{types:[n.U.azureMap,n.U.card,n.U.multiRowCard,n.U.donutChart,n.U.scatterChart,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,n.U.heatMap],property:{objectName:"categoryLabels",propertyName:"underline"},version:Wt},{types:[n.U.multiRowCard],property:{objectName:"dataLabels",propertyName:"bold"},version:Wt},{types:[n.U.multiRowCard],property:{objectName:"dataLabels",propertyName:"italic"},version:Wt},{types:[n.U.multiRowCard],property:{objectName:"dataLabels",propertyName:"underline"},version:Wt},{types:[n.U.multiRowCard],property:{objectName:"cardTitle",propertyName:"bold"},version:Wt},{types:[n.U.multiRowCard],property:{objectName:"cardTitle",propertyName:"italic"},version:Wt},{types:[n.U.multiRowCard],property:{objectName:"cardTitle",propertyName:"underline"},version:Wt},{types:[n.U.funnel],property:{objectName:"percentBarLabel",propertyName:"bold"},version:Wt},{types:[n.U.funnel],property:{objectName:"percentBarLabel",propertyName:"italic"},version:Wt},{types:[n.U.funnel],property:{objectName:"percentBarLabel",propertyName:"underline"},version:Wt},{types:[n.U.gauge],property:{objectName:"target",propertyName:"bold"},version:Wt},{types:[n.U.gauge],property:{objectName:"target",propertyName:"italic"},version:Wt},{types:[n.U.gauge],property:{objectName:"target",propertyName:"underline"},version:Wt},{types:[n.U.gauge],property:{objectName:"calloutValue",propertyName:"bold"},version:Wt},{types:[n.U.gauge],property:{objectName:"calloutValue",propertyName:"italic"},version:Wt},{types:[n.U.gauge],property:{objectName:"calloutValue",propertyName:"underline"},version:Wt},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"bold"},version:Wt},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"italic"},version:Wt},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"underline"},version:Wt},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"titleBold"},version:Wt},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"titleItalic"},version:Wt},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"titleUnderline"},version:Wt},{types:[n.U.kpi],property:{objectName:"lastDate",propertyName:"bold"},version:Wt},{types:[n.U.kpi],property:{objectName:"lastDate",propertyName:"italic"},version:Wt},{types:[n.U.kpi],property:{objectName:"lastDate",propertyName:"underline"},version:Wt},{types:[n.U.kpi],property:{objectName:"indicator",propertyName:"bold"},version:Wt},{types:[n.U.kpi],property:{objectName:"indicator",propertyName:"italic"},version:Wt},{types:[n.U.kpi],property:{objectName:"indicator",propertyName:"underline"},version:Wt},{types:[n.U.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelBold"},version:Wt},{types:[n.U.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelItalic"},version:Wt},{types:[n.U.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelUnderline"},version:Wt},{types:[n.U.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelBold"},version:Wt},{types:[n.U.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelItalic"},version:Wt},{types:[n.U.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelUnderline"},version:Wt},{types:[n.U.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleBold"},version:Wt},{types:[n.U.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleItalic"},version:Wt},{types:[n.U.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleUnderline"},version:Wt},{types:[n.U.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleBold"},version:Wt},{types:[n.U.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleItalic"},version:Wt},{types:[n.U.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleUnderline"},version:Wt},{types:[...Ar],property:{objectName:"subheader",propertyName:"bold"},version:Wt},{types:[...Ar],property:{objectName:"subheader",propertyName:"italic"},version:Wt},{types:[...Ar],property:{objectName:"subheader",propertyName:"underline"},version:Wt},{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"columnHeaders",propertyName:"bold"},version:Wt},{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"columnHeaders",propertyName:"italic"},version:Wt},{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"columnHeaders",propertyName:"underline"},version:Wt},{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"values",propertyName:"bold"},version:Wt},{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"values",propertyName:"italic"},version:Wt},{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"values",propertyName:"underline"},version:Wt},{types:[n.U.tableEx],property:{objectName:"total",propertyName:"bold"},version:Wt},{types:[n.U.tableEx],property:{objectName:"total",propertyName:"italic"},version:Wt},{types:[n.U.tableEx],property:{objectName:"total",propertyName:"underline"},version:Wt},{types:[n.U.pivotTable],property:{objectName:"rowTotal",propertyName:"bold"},version:Wt},{types:[n.U.pivotTable],property:{objectName:"rowTotal",propertyName:"italic"},version:Wt},{types:[n.U.pivotTable],property:{objectName:"rowTotal",propertyName:"underline"},version:Wt},{types:[n.U.pivotTable],property:{objectName:"columnTotal",propertyName:"bold"},version:Wt},{types:[n.U.pivotTable],property:{objectName:"columnTotal",propertyName:"italic"},version:Wt},{types:[n.U.pivotTable],property:{objectName:"columnTotal",propertyName:"underline"},version:Wt},{types:[n.U.pivotTable],property:{objectName:"rowHeaders",propertyName:"bold"},version:Wt},{types:[n.U.pivotTable],property:{objectName:"rowHeaders",propertyName:"italic"},version:Wt},{types:[n.U.pivotTable],property:{objectName:"rowHeaders",propertyName:"underline"},version:Wt},{types:[n.U.pivotTable],property:{objectName:"subTotals",propertyName:"bold"},version:Wt},{types:[n.U.pivotTable],property:{objectName:"subTotals",propertyName:"italic"},version:Wt},{types:[n.U.pivotTable],property:{objectName:"subTotals",propertyName:"underline"},version:Wt},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"bold"},version:Wt},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"italic"},version:Wt},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"underline"},version:Wt},{types:[n.U.qnaVisual],property:{objectName:"inputBox",propertyName:"questionBold"},version:Wt},{types:[n.U.qnaVisual],property:{objectName:"inputBox",propertyName:"questionItalic"},version:Wt},{types:[n.U.qnaVisual],property:{objectName:"inputBox",propertyName:"questionUnderline"},version:Wt},{types:[n.U.qnaVisual],property:{objectName:"suggestions",propertyName:"headerBold"},version:Wt},{types:[n.U.qnaVisual],property:{objectName:"suggestions",propertyName:"headerItalic"},version:Wt},{types:[n.U.qnaVisual],property:{objectName:"suggestions",propertyName:"headerUnderline"},version:Wt},{types:[n.U.qnaVisual],property:{objectName:"suggestions",propertyName:"cardBold"},version:Wt},{types:[n.U.qnaVisual],property:{objectName:"suggestions",propertyName:"cardItalic"},version:Wt},{types:[n.U.qnaVisual],property:{objectName:"suggestions",propertyName:"cardUnderline"},version:Wt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"header",propertyName:"bold"},version:Wt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"header",propertyName:"italic"},version:Wt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"header",propertyName:"underline"},version:Wt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"items",propertyName:"bold"},version:Wt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"items",propertyName:"italic"},version:Wt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"items",propertyName:"underline"},version:Wt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"date",propertyName:"bold"},version:Wt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"date",propertyName:"italic"},version:Wt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"date",propertyName:"underline"},version:Wt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"bold"},version:Wt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"italic"},version:Wt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"underline"},version:Wt},{property:{objectName:"title",propertyName:"bold"},version:Wt},{property:{objectName:"title",propertyName:"italic"},version:Wt},{property:{objectName:"title",propertyName:"underline"},version:Wt},{property:{objectName:"visualTooltip",propertyName:"bold"},version:Wt},{property:{objectName:"visualTooltip",propertyName:"italic"},version:Wt},{property:{objectName:"visualTooltip",propertyName:"underline"},version:Wt},{types:[n.U.textbox],property:{...d.PE.general.paragraphs,matchByContents:(Gt,rr)=>{if((0,M.pj)(Gt))for(var pr of Gt)if(pr&&!_.isEmpty(pr.listType))return!0;return!1}},version:lr},{types:[n.U.rdlVisual],property:{objectName:"toolbar",propertyName:"pageNavigation"},version:Et},{types:[n.U.rdlVisual],property:{objectName:"toolbar",propertyName:"useFloatingToolbar"},version:Et},{types:[n.U.rdlVisual],property:{objectName:"toolbar",propertyName:"openReportButton"},version:Et},{types:[n.U.rdlVisual],property:{objectName:"toolbar",propertyName:"position"},version:Et},{types:[n.U.rdlVisual],property:{objectName:"export",propertyName:"show"},version:Et},{types:[n.U.rdlVisual],property:{objectName:"export",propertyName:"exportExcel"},version:Et},{types:[n.U.rdlVisual],property:{objectName:"export",propertyName:"exportPDF"},version:Et},{types:[n.U.rdlVisual],property:{objectName:"export",propertyName:"exportAccessiblePDF"},version:Et},{types:[n.U.rdlVisual],property:{objectName:"export",propertyName:"exportCSV"},version:Et},{types:[n.U.rdlVisual],property:{objectName:"export",propertyName:"exportPPTX"},version:Et},{types:[n.U.rdlVisual],property:{objectName:"export",propertyName:"exportWord"},version:Et},{types:[n.U.rdlVisual],property:{objectName:"export",propertyName:"exportMHTML"},version:Et},{types:[n.U.rdlVisual],property:{objectName:"export",propertyName:"exportXML"},version:Et},{property:o.p.scorecard.showCommandBar,types:[n.U.scorecard],version:Ne},{types:[n.U.azureMap],property:{objectName:"heatMapLayer",propertyName:"mapTransparency"},version:wt},{types:[n.U.tableEx,n.U.pivotTable],property:{objectName:"sparklines",propertyName:"*"},version:at},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"date",propertyName:"hideDatePickerButton"},version:Rt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"items",propertyName:"padding"},version:Rt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"items",propertyName:"accessibilityContrastProperties"},version:Rt},{types:[n.U.azureMap],property:{objectName:"mapControls",propertyName:"geocodingCulture"},version:Ct},{types:[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart],property:{objectName:"legend",propertyName:"legendMarkerRendering"},version:hr},{types:[n.U.tableEx,n.U.pivotTable],property:{objectName:"grid",propertyName:"outlineStyle"},version:Br},{types:[n.U.tableEx,n.U.pivotTable],property:{objectName:"columnHeaders",propertyName:"outlineWeight"},version:Br},{types:[n.U.tableEx,n.U.pivotTable],property:{objectName:"columnHeaders",propertyName:"outlineColor"},version:Br},{types:[n.U.pivotTable],property:{objectName:"rowHeaders",propertyName:"outlineWeight"},version:Br},{types:[n.U.pivotTable],property:{objectName:"rowHeaders",propertyName:"outlineColor"},version:Br},{types:[n.U.tableEx],property:{objectName:"total",propertyName:"outlineWeight"},version:Br},{types:[n.U.tableEx],property:{objectName:"total",propertyName:"outlineColor"},version:Br},{types:[n.U.tableEx,n.U.pivotTable],property:{objectName:"values",propertyName:"outlineWeight"},version:Br},{types:[n.U.tableEx,n.U.pivotTable],property:{objectName:"values",propertyName:"outlineColor"},version:Br},{property:{objectName:"visualHeaderTooltip",propertyName:"type"},version:Dr},{property:{objectName:"legend",propertyName:"position",matchByContents:(Gt,rr)=>{var _r=Gt&&Gt.value;return _r===l.PA.TopRight||_r===l.PA.BottomRight}},version:ir,types:[n.U.areaChart,n.U.azureMap,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.donutChart,n.U.filledMap,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.map,n.U.pieChart,n.U.ribbonChart,n.U.scatterChart,n.U.shapeMap,n.U.stackedAreaChart,n.U.treemap,n.U.waterfallChart]},{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"stylePreset",propertyName:"name",matchByContents:Gt=>Gt.value===c.b},version:oe},{types:[n.U.tableEx],property:{objectName:"accessibility",propertyName:"altTextColumns"},version:Ve},{types:[n.U.tableEx],property:{objectName:"accessibility",propertyName:"rowWithReferenceText"},version:se},{types:[n.U.lineChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.lineStackedColumnComboChart,n.U.lineClusteredColumnComboChart,n.U.barChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.ribbonChart],property:{objectName:"error",propertyName:"*"},version:gt},{types:[n.U.gauge],property:{objectName:"calloutValue",propertyName:"fontFamily"},version:Bt},{types:[n.U.gauge],property:{objectName:"calloutValue",propertyName:"bold"},version:Bt},{types:[n.U.gauge],property:{objectName:"calloutValue",propertyName:"italic"},version:Bt},{types:[n.U.gauge],property:{objectName:"calloutValue",propertyName:"underline"},version:Bt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"slider",propertyName:"handleBorderColor",isExprBound:!0},version:Xt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"slider",propertyName:"handleFillColor",isExprBound:!0},version:Xt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"slider",propertyName:"secondaryLineColor",isExprBound:!0},version:Xt},{types:[n.U.actionButton,n.U.shape,n.U.pageNavigator,n.U.bookmarkNavigator],property:{objectName:"text",propertyName:"italic"},version:tr},{types:[n.U.actionButton,n.U.shape,n.U.pageNavigator,n.U.bookmarkNavigator],property:{objectName:"text",propertyName:"bold"},version:tr},{types:[n.U.actionButton,n.U.shape,n.U.pageNavigator,n.U.bookmarkNavigator],property:{objectName:"text",propertyName:"underline"},version:tr},{property:{objectName:"visualHeaderTooltip",propertyName:"bold"},version:Fr},{property:{objectName:"visualHeaderTooltip",propertyName:"italic"},version:Fr},{property:{objectName:"visualHeaderTooltip",propertyName:"underline"},version:Fr},{types:[n.U.azureMap],property:{objectName:"filledMap",propertyName:"*"},version:ya},{types:[n.U.scatterChart,n.U.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleItalic"},version:pa},{types:[n.U.scatterChart,n.U.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleBold"},version:pa},{types:[n.U.scatterChart,n.U.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleUnderline"},version:pa},{types:[n.U.scatterChart,n.U.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleItalic"},version:pa},{types:[n.U.scatterChart,n.U.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleBold"},version:pa},{types:[n.U.scatterChart,n.U.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleUnderline"},version:pa},{types:[n.U.waterfallChart,n.U.treemap,n.U.lineChart,n.U.areaChart,n.U.columnChart,n.U.barChart,n.U.pieChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.donutChart,n.U.funnel,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineStackedColumnComboChart,n.U.lineClusteredColumnComboChart,n.U.ribbonChart,n.U.stackedAreaChart],property:{objectName:"labels",propertyName:"color",matchByContents:(Gt,rr)=>!_.isEmpty(rr?.data)},version:Aa},{types:[n.U.treemap],property:{objectName:"categoryLabels",propertyName:"color",matchByContents:(Gt,rr)=>!_.isEmpty(rr?.data)},version:Aa},{types:[n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineStackedColumnComboChart,n.U.stackedAreaChart,n.U.barChart,n.U.columnChart],property:{objectName:"totals",propertyName:"color",matchByContents:(Gt,rr)=>!_.isEmpty(rr?.data)},version:Aa},{types:[n.U.barChart,n.U.columnChart,n.U.ribbonChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineStackedColumnComboChart,n.U.lineClusteredColumnComboChart,n.U.stackedAreaChart],property:{objectName:"categoryAxis",propertyName:"reverseStackOrder"},version:Xa},{types:[n.U.shapeMap],property:{objectName:"shape",propertyName:"map",matchByContents:Gt=>{if(Gt){var pr=Gt.name;if(pr)return pr.value===m._9}return!1}},version:Ia},{types:[n.U.azureMap],property:{objectName:"categoryLabels",propertyName:"*"},version:$a},{types:[n.U.azureMap],property:{objectName:"mapControls",propertyName:"showLabels"},version:Ra},{types:va,property:{objectName:"valueAxis",propertyName:"sharedAxis"},version:xa},{types:va,property:{objectName:"valueAxis",propertyName:"scaleToFit"},version:xa},{property:{objectName:"visualHeader",propertyName:"showSmartNarrativeButton"},version:Ja},{types:[n.U.tableEx,n.U.pivotTable],property:{objectName:"grid",propertyName:"imageWidth"},version:Pa},{types:[n.U.pageNavigator],property:{objectName:"pages",propertyName:"showByDefault"},version:Pa},{types:[n.U.pageNavigator],property:{objectName:"pages",propertyName:"showPage"},version:Pa},{types:[n.U.textbox],property:{...d.PE.general.paragraphs,matchByContents:(Gt,rr)=>{if((0,M.pj)(Gt))for(var pr of Gt)if(pr&&!_.isEmpty(pr.indent))return!0;return!1}},version:Oa},{types:[n.U.areaChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.ribbonChart,n.U.stackedAreaChart],property:{objectName:"labels",propertyName:"showByDefault"},version:Ca},{types:[n.U.areaChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.stackedAreaChart],property:{objectName:"seriesLabels",propertyName:"showByDefault"},version:Ca},{types:[n.U.areaChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.stackedAreaChart],property:{objectName:"lineStyles",propertyName:"showMarkerByDefault"},version:Ca},{types:[n.U.lineChart,n.U.lineStackedColumnComboChart,n.U.lineClusteredColumnComboChart],property:{objectName:"error",propertyName:"showMarkerByDefault"},version:Ca},{types:[n.U.barChart,n.U.hundredPercentStackedBarChart,n.U.clusteredBarChart],property:{objectName:"categoryAxis",propertyName:"concatenateLabels"},version:qa},{property:{objectName:"padding",propertyName:"*"},version:Da},{property:{objectName:"subTitle",propertyName:"*"},version:Da},{property:{objectName:"divider",propertyName:"*"},version:Da},{property:{objectName:"spacing",propertyName:"*"},version:Da},{types:yn,property:{objectName:"mapControls",propertyName:"geocodingCulture",matchByContents:Gt=>(0,p.wD)(Gt.value,p._g.v2_0)},version:Ba},{types:[n.U.barChart,n.U.columnChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.ribbonChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.areaChart,n.U.stackedAreaChart],property:{objectName:"labels",propertyName:"showDynamicLabels"},version:Na},{types:[n.U.gauge],property:{objectName:"calloutValue",propertyName:"showDynamicLabels"},version:Na},{types:[n.U.gauge],property:{objectName:"calloutValue",propertyName:"dynamicLabelValue"},version:Na},{property:{objectName:"visualLink",propertyName:"tooltipPlaceholderText"},version:ui},{types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart,n.U.lineStackedColumnComboChart,n.U.lineClusteredColumnComboChart],property:{objectName:"lineStyles",propertyName:"lineChartType"},version:La},{types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart],property:{objectName:"labels",propertyName:"leaderLines"},version:wa},{types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart],property:{objectName:"labels",propertyName:"minimumOffset"},version:wa},{types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart],property:{objectName:"labels",propertyName:"maximumOffset"},version:wa},{types:[n.U.scatterChart,n.U.map,n.U.heatMap],property:{objectName:"bubbles",propertyName:"markerRangeType"},version:Fa},{types:[n.U.azureMap],property:{objectName:"bubbleLayer",propertyName:"markerRangeType",matchByContents:Gt=>!(Gt.value===u.c3.deprecated)},version:ci},...["fillTransparency","borderShow","borderSize","borderColor","borderColorMatchFill","borderTransparency"].map(Gt=>({types:[...ba,...Ea,...ma],property:{objectName:"dataPoint",propertyName:Gt},version:fa})),{types:[...ba,...Ea,...ma,n.U.stackedAreaChart],property:{objectName:"layout",propertyName:"seriesOrderReversed"},version:fa},{types:[...ba,...Ea,...ma],property:{objectName:"layout",propertyName:"seriesOrderSorted"},version:fa},{types:[...Ea,n.U.lineStackedColumnComboChart],property:{objectName:"layout",propertyName:"stackedGapSize"},version:fa},{types:[n.U.barChart,n.U.columnChart,n.U.ribbonChart,...fn],property:{objectName:"layout",propertyName:"stackedGapExplodes"},version:fa},{types:[n.U.ribbonChart],property:{objectName:"layout",propertyName:"ribbonGapSize"},version:fa},{types:[n.U.ribbonChart],property:{objectName:"ribbonBands",propertyName:"*"},version:fa},{types:[n.U.ribbonChart],property:{objectName:"valueAxis",propertyName:"showAxisTitle"},version:fa},{types:[n.U.pivotTable],property:{objectName:"accessibility",propertyName:"altTextColumns"},version:di},{types:xr,property:{objectName:"labels",propertyName:"dynamicLabelValue"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"titleBold"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"titleColor"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"titleShowBlankAs"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"titleContentType"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"enableTitleDataLabel"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"titleFontFamily"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"titleFontSize"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"titleItalic"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"dynamicLabelTitle"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"titleTransparency"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"titleCustomFormatString"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"valueCustomFormatString"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"titleLabelPrecision"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"titleUnderline"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"detailBold"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"detailColor"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"dynamicLabelDetail"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"enableDetailDataLabel"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"detailFontFamily"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"detailFontSize"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"detailItalic"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"detailTransparency"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"detailUnderline"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"detailShowBlankAs"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"detailCustomFormatString"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"detailLabelPrecision"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"detailContentType"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"enableValueDataLabel"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"showBlankAs"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"transparency"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"wordWrap"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"labelContentLayout"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"optimizeLabelDisplay"},version:Pr},{types:xr,property:{objectName:"labels",propertyName:"labelContainerMaxWidth"},version:Pr},{types:[n.U.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteringEnabled"},version:_a},{types:[n.U.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleRadius"},version:_a},{types:[n.U.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFillColor"},version:_a},{types:[n.U.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontColor"},version:_a},{types:[n.U.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontSize"},version:_a},{types:[n.U.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeWidth"},version:_a},{types:[n.U.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeColor"},version:_a},{types:[n.U.azureMap],property:{objectName:"referenceLayer",propertyName:"referenceLayerUrl"},version:ii},{types:[n.U.azureMap],property:{objectName:"referenceLayer",propertyName:"additionalDatasource",matchByContents:Gt=>{if(Gt){var pr=Gt.name;if(pr)return pr.value.endsWith(".wkt")||pr.value.endsWith(".kml")}return!1}},version:ii},{types:[n.U.pivotTable],property:{objectName:"rowHeaders",propertyName:"expandCompositeHierarchy"},version:Ua},...["clusteredGapSize","clusteredGapOverlaps","clusteredGapOverlapReverse"].map(Gt=>({types:[...ba,n.U.lineClusteredColumnComboChart],property:{objectName:"layout",propertyName:Gt},version:Sa})),{types:[...Ea,n.U.lineStackedColumnComboChart],property:{objectName:"dataPoint",propertyName:"borderOutlineOnly"},version:Sa},{types:[n.U.barChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart],property:{objectName:"ribbonBands",propertyName:"*"},version:Sa},{types:[n.U.barChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart],property:{objectName:"layout",propertyName:"ribbonGapSize"},version:Sa},{types:[n.U.ribbonChart],property:{objectName:"totals",propertyName:"*"},version:Sa},{types:[n.U.ribbonChart],property:{objectName:"legend",propertyName:"showGradientLegend"},version:Sa},{types:xr,property:{objectName:"labels",propertyName:"horizontalAlignment"},version:Wa},...["leaderLineColor","leaderLineTransparency","leaderLineWidth"].map(Gt=>({types:[n.U.lineChart,n.U.areaChart],property:{objectName:"labels",propertyName:Gt},version:Wa})),{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"columnFormatting",propertyName:"dataBars",matchByContents:(Gt,rr)=>null!=(Gt&&Gt.totalMatchingOption)},version:ja},...["strokeTransparency","interpolationStep","interpolationSmooth","interpolationSmoothParam","areaShow","areaColor","areaMatchStrokeColor"].map(Gt=>({types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart],property:{objectName:"lineStyles",propertyName:Gt},version:Ma})),{types:ma,property:{objectName:"dataPoint",propertyName:"transparency"},version:Ma},...[{objectName:"general",propertyName:"layout"},{objectName:"rowHeaders",propertyName:"repeatRowHeaders"},{objectName:"blankRows",propertyName:"showBlankRows"},{objectName:"blankRows",propertyName:"blankRowColor"},{objectName:"blankRows",propertyName:"blankRowTransparency"},{objectName:"blankRows",propertyName:"showBorder"},{objectName:"blankRows",propertyName:"borderPosition"},{objectName:"blankRows",propertyName:"borderColor"},{objectName:"blankRows",propertyName:"borderTransparency"},{objectName:"blankRows",propertyName:"borderWidth"}].map(Gt=>({types:[n.U.pivotTable],property:{objectName:Gt.objectName,propertyName:Gt.propertyName},version:ni})),..._.flattenDeep([["width","dashArray","dashCap","autoScale"].map(Gt=>({types:[n.U.scatterChart],property:{objectName:"ratioLine",propertyName:Gt},version:ha})),["width","strokeTransparency","dashArray","dashCap","autoScale"].map(Gt=>({types:[n.U.lineChart],property:{objectName:"forecast",propertyName:Gt},version:ha})),["strokeShow","strokeDashArray","strokeDashCap","strokeAutoScale"].map(Gt=>({types:[n.U.areaChart,n.U.lineChart,n.U.stackedAreaChart,n.U.lineStackedColumnComboChart,n.U.lineClusteredColumnComboChart,n.U.hundredPercentStackedAreaChart],property:{objectName:"lineStyles",propertyName:Gt},version:ha})),["leaderLinePattern","leaderLineDashArray","leaderLineDashCap","leaderLineAutoScale"].map(Gt=>({property:{objectName:"labels",propertyName:Gt},types:[n.U.lineChart,n.U.areaChart],version:ha})),["gridLineTransparency","gridLineShow"].map(Gt=>({types:[...va,n.U.hundredPercentStackedAreaChart],property:{objectName:"smallMultiplesLayout",propertyName:Gt},version:ha})),["width","dashArray","dashCap","autoScale"].map(Gt=>({types:[n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.scatterChart,n.U.lineChart,n.U.areaChart],property:{objectName:"referenceLine",propertyName:Gt},version:ha})),["categoryAxis","valueAxis"].map(Gt=>[["gridlineTransparency","gridlineDashArray","gridlineDashCap","gridlineAutoScale"].map(rr=>({types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.hundredPercentStackedAreaChart,n.U.ribbonChart,n.U.scatterChart,..."valueAxis"===Gt?[n.U.waterfallChart]:[]],property:{objectName:Gt,propertyName:rr},version:ha}))]),["trend","xAxisReferenceLine","y1AxisReferenceLine"].map(Gt=>[["width","dashArray","dashCap","autoScale"].map(rr=>({types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.hundredPercentStackedAreaChart,n.U.ribbonChart,n.U.scatterChart,...["y1AxisReferenceLine"].includes(Gt)?[n.U.waterfallChart]:[]],property:{objectName:Gt,propertyName:rr},version:ha}))]),["bandLineShow","bandLineColor","bandLineTransparency","bandLineWidth","bandLinePattern","bandLineDashArray","bandLineDashCap","bandLineAutoScale","bandLineMatchColor","bandAreaShow","bandAreaMatchColor","bandAreaColor","bandAreaTransparency","matchSeriesInterpolation","interpolation","interpolationStep","interpolationSmooth","interpolationSmoothParam"].map(Gt=>({types:[n.U.lineChart],property:{objectName:"forecast",propertyName:Gt},version:ha}))]),{property:{objectName:"border",propertyName:"width"},version:si},{types:[n.U.azureMap],property:{objectName:"referenceLayer",propertyName:"additionalDatasource",matchByContents:Gt=>{if(Gt){var pr=Gt.name;if(pr)return pr.value.endsWith(".csv")}return!1}},version:ur},{types:[n.U.azureMap],property:{objectName:"referenceLayer",propertyName:"referenceLayerUrl",matchByContents:Gt=>!(0,a.VO)(Gt)},version:Pi},...["bubbleFillColor","bubbleStrokeColor","bubbleStrokeWidth","bubbleStrokeTransparency","polygonFillColor","polygonStrokeColor","polygonStrokeWidth","polygonStrokeTransparency","lineStrokeColor","lineStrokeWidth","lineStrokeTransparency"].map(Gt=>({types:[n.U.azureMap],property:{objectName:"referenceLayer",propertyName:Gt},version:gi})),...["show","position","color","transparency","width"].map(Gt=>({types:[n.U.bookmarkNavigator,n.U.pageNavigator],property:{objectName:"accentBar",propertyName:Gt},version:Mi})),{types:gn,property:{objectName:"error",propertyName:"markerShow"},version:_i},{property:{objectName:"visualHeader",propertyName:"showSetAlertButton"},version:wi},{property:{objectName:"visualHeader",propertyName:"showFollowVisualButton"},version:Ai},{types:[n.U.advancedSlicerVisual],property:{objectName:"image",propertyName:"image",matchByContents:(Gt,rr)=>!_.isEmpty(rr.id)},version:Ii},{types:[n.U.advancedSlicerVisual],property:{objectName:"selectionIcon",propertyName:"*"},version:pi},...["transparency","rotation","borderShow","borderColor","borderColorMatchFill","borderTransparency","borderWidth"].map(Gt=>({types:[n.U.scatterChart,n.U.areaChart,n.U.lineChart,n.U.stackedAreaChart,n.U.hundredPercentStackedAreaChart],property:{objectName:"markers",propertyName:Gt},version:za})),...["markerTransparency","markerRotation","markerBorderShow","markerBorderColor","markerBorderColorMatchFill","markerBorderTransparency","markerBorderWidth","confidenceBandShow"].map(Gt=>({types:[n.U.lineChart],property:{objectName:"anomalyDetection",propertyName:Gt},version:za})),...["bubbleFillOpacity","polygonFillOpacity","unmappedObjectVisibility","unmappedObjectUseCustomColors","unmappedObjectFillColor","unmappedObjectStrokeColor"].map(Gt=>({types:[n.U.azureMap],property:{objectName:"referenceLayer",propertyName:Gt},version:Yi})),...["color","strokeWidth","strokeTransparency","minZoom","maxZoom"].map(Gt=>({types:[n.U.azureMap],property:{objectName:"pathLayer",propertyName:Gt},version:Ki})),...["tilingMethod","innerPadding","outerPadding"].map(Gt=>({types:[n.U.treemap],property:{objectName:"layout",propertyName:Gt},version:Gi})),...["transparency","rotation","borderShow","borderColor","borderColorMatchFill","borderTransparency","borderWidth"].map(Gt=>({types:[n.U.lineStackedColumnComboChart,n.U.lineClusteredColumnComboChart],property:{objectName:"markers",propertyName:Gt},version:Hi})),...["shadeShow","shadeColorMatchStroke","shadeRegion","shadeColor","shadeTransparency"].map(Gt=>({types:[n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.lineChart,n.U.areaChart,n.U.scatterChart],property:{objectName:"referenceLine",propertyName:Gt},version:oi})),...["shadeShow","shadeColorMatchStroke","shadeRegion","shadeColor","shadeTransparency"].map(Gt=>({types:[n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.barChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart,n.U.ribbonChart,n.U.hundredPercentStackedAreaChart,n.U.scatterChart,n.U.waterfallChart],property:{objectName:"y1AxisReferenceLine",propertyName:Gt},version:oi})),...["shadeShow","shadeColorMatchStroke","shadeRegion","shadeColor","shadeTransparency"].map(Gt=>({types:[n.U.scatterChart],property:{objectName:"xAxisReferenceLine",propertyName:Gt},version:oi})),...["shadeShow","shadeColorMatchStroke"].map(Gt=>({types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart,n.U.barChart,n.U.columnChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedColumnChart,n.U.hundredPercentStackedAreaChart,n.U.hundredPercentStackedBarChart,n.U.ribbonChart],property:{objectName:"xAxisReferenceLine",propertyName:Gt},version:oi})),..._.flattenDeep(["displayName","value","position","show","lineColor","transparency","width","style","dashArray","dashCap","autoScale","dataLabelShow","dataLabelText","dataLabelColor","dataLabelColor","dataLabelDecimalPoints","dataLabelHorizontalPosition","dataLabelVerticalPosition","dataLabelDisplayUnits","shadeShow","shadeRegion","shadeColor","shadeColorMatchStroke","shadeTransparency"].map(Gt=>["y1AxisReferenceLine","referenceLine"].map(rr=>({types:"y1AxisReferenceLine"===rr?[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart]:[n.U.lineClusteredColumnComboChart],property:{objectName:rr,propertyName:Gt},version:oi})))),{types:[n.U.advancedSlicerVisual,n.U.listSlicer],property:{objectName:"value",propertyName:"verticalAlignment"},version:hi},{types:[n.U.advancedSlicerVisual,n.U.listSlicer],property:{objectName:"value",propertyName:"text"},version:hi},{types:[n.U.azureMap],property:{objectName:"mapControls",propertyName:"autoZoomIncludesReferenceLayer"},version:Qi},{types:[n.U.advancedSlicerVisual,n.U.listSlicer],property:{objectName:"actionState",propertyName:"*"},version:Ri},{types:[n.U.advancedSlicerVisual,n.U.listSlicer],property:{objectName:"selection",propertyName:"restrictToLeafNodes"},version:Ri},...["showCountryRegionBorders","showAdminDistrictBorders","showAdminDistrict2Borders","showBuildingFootprints","showRoadDetails"].map(Gt=>({types:[n.U.azureMap],property:{objectName:"mapControls",propertyName:Gt},version:Xi})),...["valueFormatString","titleFormatString","detailFormatString"].map(Gt=>({types:[...xr,n.U.hundredPercentStackedAreaChart],property:{objectName:"labels",propertyName:Gt},version:$i})),...["strokeColor","segmentAlignment","segmentGradient"].map(Gt=>({types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart,n.U.hundredPercentStackedAreaChart],property:{objectName:"lineStyles",propertyName:Gt},version:Ji})),{property:{objectName:"visualLink",propertyName:"dataFunction"},version:qi},...["fillTransparency","borderShow","borderSize","borderColorMatchFill","borderColor","borderTransparency","borderOutlineOnly"].map(Gt=>({types:[n.U.donutChart,n.U.pieChart],property:{objectName:"dataPoint",propertyName:Gt},version:en})),{types:[n.U.textbox],property:{...d.PE.general.paragraphs,matchByContents:(Gt,rr)=>{if((0,M.pj)(Gt))for(var pr of Gt)if(pr&&!_.isEmpty(pr.textRuns))for(var _r of pr.textRuns)if((0,V.OX)(_r)&&_r.mentionEmail)return!0;return!1}},version:an},...["categoryAxis","valueAxis"].map(Gt=>({types:[...ba,...Ea,...Ka,...ma,n.U.scatterChart,n.U.waterfallChart,n.U.hundredPercentStackedAreaChart],property:{objectName:Gt,propertyName:"roundRange"},version:Ci})),{types:[...Ka,n.U.hundredPercentStackedAreaChart],property:{objectName:"y2Axis",propertyName:"secRoundRange"},version:Ci},{types:[...ma],property:{objectName:"valueAxis",propertyName:"secRoundRange"},version:Ci},...["sourceType","fit","height","transparency","effects","exposure","contrast","saturation","blur","descriptionText","roundedCorners","topLeftCorner","topRightCorner","bottomLeftCorner","bottomRightCorner"].map(Gt=>({types:[n.U.image],property:{objectName:"image",propertyName:Gt},version:un})),{types:[n.U.scorecard],property:{objectName:"scorecard",propertyName:"displayMode"},version:Ei},{types:[n.U.scorecard],property:{objectName:"scorecard",propertyName:"goalIds"},version:Ei},{types:[n.U.scorecard],property:{objectName:"visualization",propertyName:i.pl},version:Ei},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"show"},version:Ta},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"color"},version:Ta},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"transparency"},version:Ta},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"position"},version:Ta},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"size"},version:Ta},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"showTooltip"},version:Ta},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"tooltipText"},version:Ta},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"tooltipLabel"},version:Ta},...["callout","highlight"].map(Gt=>({property:{objectName:"annotationTemplate",propertyName:Gt},version:ln})),{types:[n.U.aiNarratives],property:{objectName:"userPrompt",propertyName:"useCurrentLocale"},version:xi},...["matchFillColor","rotationAlignment","markerType","imageSourceType","imageData","iconId","markerRotation","imageUrl","fillColor"].map(Gt=>({types:[n.U.azureMap],property:{objectName:"bubbleLayer",propertyName:Gt},version:cn})),{types:[n.U.azureMap],property:{objectName:"tileLayer",propertyName:"layerPosition"},version:dn}];function fi(Gt){if(Gt&&!_.isEmpty(Gt.data)&&1===Gt.data.length&&(0,h.z2)(Gt.data[0]))return Gt.data[0].matchingOption}var Sn=["minColor","midColor","maxColor","nullColor"];function vi(Gt){if(Gt instanceof f.wy)return!!_.find(Sn,_r=>_r===Gt.value);if(Gt instanceof Object&&!(Gt instanceof Function)){var rr=Object.keys(Gt);for(var pr of rr)if(vi(Gt[pr]))return!0}return!1}var Gt,rr,pr,En=[{currentId:{objectName:"dataPoint",propertyName:"fill"},previousId:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},version:x.v3_19,types:Di},{currentId:{objectName:"columnTotal",propertyName:"fontColor"},previousId:{objectName:"total",propertyName:"fontColor"},types:[n.U.pivotTable],version:Vr},{currentId:{objectName:"rowTotal",propertyName:"fontColor"},previousId:{objectName:"total",propertyName:"fontColor"},types:[n.U.pivotTable],version:Vr},{currentId:{objectName:"columnTotal",propertyName:"fontFamily"},previousId:{objectName:"total",propertyName:"fontFamily"},types:[n.U.pivotTable],version:Vr},{currentId:{objectName:"rowTotal",propertyName:"fontFamily"},previousId:{objectName:"total",propertyName:"fontFamily"},types:[n.U.pivotTable],version:Vr},{currentId:{objectName:"columnTotal",propertyName:"fontSize"},previousId:{objectName:"total",propertyName:"fontSize"},types:[n.U.pivotTable],version:Vr},{currentId:{objectName:"rowTotal",propertyName:"fontSize"},previousId:{objectName:"total",propertyName:"fontSize"},types:[n.U.pivotTable],version:Vr},{currentId:{objectName:"columnTotal",propertyName:"bold"},previousId:{objectName:"total",propertyName:"bold"},types:[n.U.pivotTable],version:Vr},{currentId:{objectName:"rowTotal",propertyName:"bold"},previousId:{objectName:"total",propertyName:"bold"},types:[n.U.pivotTable],version:Vr},{currentId:{objectName:"columnTotal",propertyName:"italic"},previousId:{objectName:"total",propertyName:"italic"},types:[n.U.pivotTable],version:Vr},{currentId:{objectName:"rowTotal",propertyName:"italic"},previousId:{objectName:"total",propertyName:"italic"},types:[n.U.pivotTable],version:Vr},{currentId:{objectName:"columnTotal",propertyName:"underline"},previousId:{objectName:"total",propertyName:"underline"},types:[n.U.pivotTable],version:Vr},{currentId:{objectName:"rowTotal",propertyName:"underline"},previousId:{objectName:"total",propertyName:"underline"},types:[n.U.pivotTable],version:Vr},{currentId:{objectName:"columnTotal",propertyName:"backColor"},previousId:{objectName:"total",propertyName:"backColor"},types:[n.U.pivotTable],version:Vr},{currentId:{objectName:"rowTotal",propertyName:"backColor"},previousId:{objectName:"total",propertyName:"backColor"},types:[n.U.pivotTable],version:Vr},{currentId:{objectName:"columnTotal",propertyName:"applyToHeaders"},previousId:{objectName:"total",propertyName:"applyToHeaders"},types:[n.U.pivotTable],version:Vr},{currentId:{objectName:"rowTotal",propertyName:"applyToHeaders"},previousId:{objectName:"total",propertyName:"applyToHeaders"},types:[n.U.pivotTable],version:Vr},{currentId:{objectName:"visualLink",propertyName:"showDefaultTooltip"},previousId:{objectName:"visualLink",propertyName:"suppressDefaultTooltip"},types:[n.U.pivotTable],version:gr,upgrader:O.VP,featureSwitch:"showDefaultTooltip"},{currentId:{objectName:"fillPoint",propertyName:"style"},previousId:{objectName:"fillPoint",propertyName:"show"},types:[n.U.scatterChart],version:cr,upgrader:O.XQ},{currentId:{objectName:"categoryAxis",propertyName:"switchAxisPosition"},previousId:{objectName:"categoryAxis",propertyName:"position"},types:[n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.ribbonChart],version:qt,upgrader:O.x3},{currentId:{objectName:"valueAxis",propertyName:"switchAxisPosition"},previousId:{objectName:"valueAxis",propertyName:"position"},version:qt,types:[n.U.areaChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.ribbonChart,n.U.scatterChart,n.U.stackedAreaChart,n.U.waterfallChart],upgrader:O.x3},{currentId:{objectName:"categoryAxis",propertyName:"logAxisScale"},previousId:{objectName:"categoryAxis",propertyName:"axisScale"},version:jt,types:[n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.ribbonChart,n.U.waterfallChart],upgrader:O.kH},{currentId:{objectName:"valueAxis",propertyName:"logAxisScale"},previousId:{objectName:"valueAxis",propertyName:"axisScale"},version:jt,types:[n.U.areaChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.ribbonChart,n.U.scatterChart,n.U.stackedAreaChart,n.U.waterfallChart],upgrader:O.kH},{currentId:{objectName:"y2Axis",propertyName:"secLogAxisScale"},previousId:{objectName:"y2Axis",propertyName:"secAxisScale"},version:jt,types:[n.U.areaChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.stackedAreaChart],upgrader:O.kH},{currentId:{objectName:"valueAxis",propertyName:"secLogAxisScale"},previousId:{objectName:"valueAxis",propertyName:"secAxisScale"},version:jt,types:[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart],upgrader:O.kH},{currentId:{objectName:"columnHeaders",propertyName:"outlineStyle"},previousId:{objectName:"columnHeaders",propertyName:"outline"},version:yr,types:[n.U.pivotTable,n.U.tableEx],upgrader:O.b6},{currentId:{objectName:"rowHeaders",propertyName:"outlineStyle"},previousId:{objectName:"rowHeaders",propertyName:"outline"},version:yr,types:[n.U.pivotTable,n.U.tableEx],upgrader:O.b6},{currentId:{objectName:"values",propertyName:"outlineStyle"},previousId:{objectName:"values",propertyName:"outline"},version:yr,types:[n.U.pivotTable,n.U.tableEx],upgrader:O.b6},{currentId:{objectName:"total",propertyName:"outlineStyle"},previousId:{objectName:"total",propertyName:"outline"},version:yr,types:[n.U.tableEx],upgrader:O.b6},{currentId:{objectName:"grid",propertyName:"outlineStyle"},previousId:{objectName:"grid",propertyName:"outline"},version:yr,types:[n.U.pivotTable,n.U.tableEx],upgrader:O.b6},{currentId:{objectName:"header",propertyName:"outlineStyle"},previousId:{objectName:"header",propertyName:"outline"},version:yr,types:[n.U.slicer,n.U.filterSlicer],upgrader:O.b6},{currentId:{objectName:"searchBox",propertyName:"outlineStyle"},previousId:{objectName:"searchBox",propertyName:"outline"},version:yr,types:[n.U.slicer,n.U.filterSlicer],upgrader:O.b6},{currentId:{objectName:"items",propertyName:"outlineStyle"},previousId:{objectName:"items",propertyName:"outline"},version:yr,types:[n.U.slicer,n.U.filterSlicer],upgrader:O.b6},{currentId:{objectName:"card",propertyName:"outlineStyle"},previousId:{objectName:"card",propertyName:"outline"},version:yr,types:[n.U.multiRowCard],upgrader:O.b6},{currentId:{objectName:"categoryAxis",propertyName:"logAxisScale"},previousId:{objectName:"categoryAxis",propertyName:"axisScale"},version:qr,types:[n.U.areaChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.scatterChart,n.U.stackedAreaChart],upgrader:O.kH,featureSwitch:"remainingCartesianCategoryLogAxisScale"},{currentId:{objectName:"lineStyle",propertyName:"stepped"},previousId:{objectName:"lineStyle",propertyName:"lineChartType"},version:x.v5_52,types:[...Ka,...ma],upgrader:O.v0},{currentId:{objectName:"lineStyles",propertyName:"shadeArea"},previousId:{objectName:"lineStyles",propertyName:"areaShow"},version:Ma,types:[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart]}],Li=(Gt=_n,rr=En,pr=[{property:{objectName:"categoryAxis",propertyName:"fontSize"},version:x.v4_2,upgrader:O.SF},{property:{objectName:"categoryAxis",propertyName:"titleFontSize"},version:x.v4_2,upgrader:O.SF},{property:{objectName:"valueAxis",propertyName:"fontSize"},version:x.v4_2,upgrader:O.SF},{property:{objectName:"valueAxis",propertyName:"titleFontSize"},version:x.v4_2,upgrader:O.SF},{property:{objectName:"valueAxis",propertyName:"secFontSize"},version:x.v4_2,upgrader:O.SF},{property:{objectName:"valueAxis",propertyName:"secTitleFontSize"},version:x.v4_2,upgrader:O.SF},{property:{objectName:"visualTooltip",propertyName:"fontSize"},version:x.v4_2,upgrader:O.SF},{property:{objectName:"outspacePane",propertyName:"titleSize"},version:x.v5_1,upgrader:O.SF},{property:{objectName:"outspacePane",propertyName:"headerSize"},version:x.v5_1,upgrader:O.SF},{property:{objectName:"filterCard",propertyName:"textSize"},version:x.v5_1,upgrader:O.SF}],g.Y.assert(()=>!_.find(rr,_r=>_.find(Gt,ea=>(!_r.types||!ea.types||_.find(_r.types,Jr=>_.find(ea.types,sa=>sa===Jr)))&&ea.property.objectName===_r.previousId.objectName&&ea.property.propertyName===_r.previousId.propertyName&&(0,r.lt)(ea.version,_r.version))),"explorationVersions.generateObjectVersioning - There is a property being renamed which name didn't get updated in addedObjectPropertyVersions\n            This will cause an issue when versioning the added property, so make sure to update the name in addedArray to contain the new name instead of the old one."),{added:function(Gt){for(var rr={},pr=function(ea){var ta=Gt[ea];if(g.Y.assert(()=>!ea||!(0,r.lt)(ta.version,Gt[ea-1].version),"explorationVersions.generateAddedDictionaryFromObjectPropertyVersionArray -\n                We iterate through the visual object property versions in increasing order of version,\n                we do that to optimize when checking for match in the ObjectPropertyVersionDictionaries"),null!=ta.types)for(var Jr of ta.types)Fi(Jr,ta,rr);else Fi(i.pl,ta,rr)},_r=0;_r<Gt.length;_r++)pr(_r);return rr}(Gt),renamed:function(Gt){for(var rr={},pr=function(ta){var Jr=Gt[ta];if(g.Y.assert(()=>Jr.currentId.objectName!==Jr.previousId.objectName||Jr.currentId.propertyName!==Jr.previousId.propertyName,"explorationVersions.generateRenamedDictionaryFromObjectPropertyVersionArray -\n                You can't rename a property to itself!!"),g.Y.assert(()=>!ta||!(0,r.lt)(Jr.version,Gt[ta-1].version),"explorationVersions.generateRenamedDictionaryFromObjectPropertyVersionArray -\n                We iterate through the renamed visual object property versions in increasing order of version,\n                we do that to create a linked list in case of multiple renames."),null!=Jr.types)for(var sa of Jr.types)bi(sa,Jr,rr);else for(var ga in bi(i.pl,Jr,rr),rr)bi(ga,Jr,rr)},_r=0,ea=Gt.length;_r<ea;_r++)pr(_r);return rr}(rr),updated:pr});function bi(Gt,rr,pr){var _r=pr[Gt];pr[Gt]||(_r=pr[Gt]={});var ea=rr.currentId.objectName,ta=_r[ea];ta||(ta=_r[ea]={});var Jr=rr.previousId,sa=(oa,ua)=>{var Ga=oa&&oa[ua.objectName];return Ga&&Ga[ua.propertyName]},ga=sa(_r,Jr)||sa(pr[i.pl],Jr);ta[rr.currentId.propertyName]={...rr,previous:ga}}function Fi(Gt,rr,pr){var _r=pr[Gt];pr[Gt]||(_r=pr[Gt]={});var ea=rr.property.objectName,ta=_r[ea];ta||(ta=_r[ea]={});var Jr=rr.property.propertyName,sa=ta[Jr];sa||(sa=ta[Jr]=[]),sa.push(rr),g.Y.assert(()=>1===sa.length||!(0,r.lt)(sa[sa.length-1].version,sa[sa.length-2].version),"explorationVersions.setVersionInObjectPropertyVersionDictionary - objectVersionArray should be in increasing order")}function Pn(Gt,rr,pr,_r,ea){var ta=_.some(ea,sa=>(0,a.$M)(sa.expr))?{hasVisualCalc:!0,allSelects:ea}:{hasVisualCalc:!1},Jr=new G(ta);return(0,y.bY)({definitions:Gt,descriptors:rr,visitor:(sa,ga,oa,ua)=>{_r=(0,r.T9)(W.getVersionForSQExprWithDescriptor(sa,ua,ta),_r)},structuralObjectVisitor:(sa,ga,oa,ua,Ga)=>{(ta?.hasVisualCalc||ua?.fill?.solid?.color)&&((0,M.Hx)(sa,Jr),_r=(0,r.T9)(Jr.getVersion(),_r))}}),(0,y.po)(Gt,rr,(sa,ga,oa,ua,Ga)=>{var mi=()=>{var ki=(0,y._W)(Gt,{objectName:ua,propertyName:ga},oa);if(ki){var Mn=(0,C.TW)(ki,oa,ea);if(!_.isEmpty(Mn))return!0}return!1},Wi=!_.isEmpty(oa?.metadata)&&ta.hasVisualCalc&&ta.allSelects.withName(oa.metadata);Wi&&(0,a.$M)(Wi.expr)&&mi()&&(_r=(0,r.T9)(Ya,_r));var ji=sa[ga];_r=(0,r.T9)(_r,(0,i.PP)(Li.added,ji,oa,pr,ua,ga,_r,mi,!1,F)),(0,y.JZ)(ji)&&(_r=(0,r.T9)(_r,Wr)),oa&&oa.hierarchyMatching===D.v.Partial&&(_r=(0,r.T9)(_r,hi))}),_r}function Vi(Gt,rr){g.Y.assertValue(Gt,"selectRefExpr should be defined"),g.Y.assertValue(rr,"visualCalcInfo should be defined");var pr=Gt.expressionName,_r=rr?.hasVisualCalc?rr.allSelects.withName(pr):void 0;return _r?.expr&&(0,a.$M)(_r.expr)}function Ui(Gt,rr){return g.Y.assertValue(Gt,"expr should be defined"),g.Y.assertValue(rr,"visualCalcInfo should be defined"),rr.hasVisualCalc&&(0,a.Gv)(Gt)&&Vi(Gt,rr)}},301692:function(ve,z,e){e.d(z,{JF:function(){return S},Qo:function(){return P},SF:function(){return y},SG:function(){return x},Tc:function(){return f},Uj:function(){return W},VP:function(){return D},XQ:function(){return E},b6:function(){return C},gp:function(){return j},kH:function(){return m},rc:function(){return R},v0:function(){return h},x3:function(){return g},zG:function(){return F}});var a=e(620825),i=e(690332),r=e(807779),t=e(493434),o=e(702962),d=e(18122),n=e(623670),c=e(757406),s=e(312185),p=e(620455),l=e(124500),u=e(964363);function v(K){return Math.round(100*n.V4.toPoint(K))/100}function m(K){return void 0!==K&&"log"===K}function g(K){return void 0!==K&&"Right"===K}function E(K){return K?r.Zw.fillOnly:r.Zw.borderOnly}function D(K){return!K}function h(K){return K?o.TV.step:o.TV.linear}function C(K){switch(K){case t.dv:return t.JL.Nil;case t.G7:return t.JL.Top;case t.yk:return t.JL.Bottom;case t.M4:return t.JL.Left;case t.X_:return t.JL.Right;case t.$O:return t.JL.Top|t.JL.Bottom;case t.U0:return t.JL.Left|t.JL.Right;case t.Gt:return t.JL.Top|t.JL.Right|t.JL.Bottom|t.JL.Left;default:return d.Y.assertFail("unexpected outline type"),t.JL.Nil}}function y(K){switch(typeof K){case"string":K=+K;case"number":return d.Y.assert(()=>!isNaN(K),"pxToPt upgrader encountered NaN"),v(K);default:return d.Y.assertFail("pxToPt upgrader encountered non-numerical parameter"),K}}function f(K){K&&(K.objects&&function(K){if(K)for(var q of b)P(K,q)}(K.objects),K.vcObjects&&function(K){if(K){var q=K.visualTooltip&&K.visualTooltip[0]&&K.visualTooltip[0].properties;if(q){var ne=q.fontSize;if(ne)if(w(ne))q.fontSize=R(ne);else{var k=i.F3.deserializeExpr(ne.expr);q.fontSize=F(R(k))}}}}(K.vcObjects))}function S(K){K&&K.objects&&K.visualType===p.U.textbox&&function(K){if(K){var q=N(K,"general");if(q){var ne=q.paragraphs;for(var k of ne)for(var L of k.textRuns)if((0,s.OX)(L)&&L.textStyle&&L.textStyle.fontSize){var X=L.textStyle.fontSize,Y=X.indexOf("px");if(-1!==Y){var Q=+X.substr(0,Y);L.textStyle.fontSize=v(Q)+"pt"}}}}}(K.objects)}var b=[{objectName:"valueAxis",propertyName:"fontSize"},{objectName:"valueAxis",propertyName:"titleFontSize"},{objectName:"valueAxis",propertyName:"secFontSize"},{objectName:"valueAxis",propertyName:"secTitleFontSize"},{objectName:"categoryAxis",propertyName:"fontSize"},{objectName:"categoryAxis",propertyName:"titleFontSize"}];function P(K,q){var ne=N(K,q.objectName);if(ne){var k=ne[q.propertyName];if(k)if(w(k))ne[q.propertyName]=R(k);else{var L=i.F3.deserializeExpr(k.expr);ne[q.propertyName]=F(R(L))}}}function T(K,q){if(K)return K[q]||(K[q]=[]),-1===K[q].findIndex(k=>null==k.selector)&&K[q].push({properties:{}}),N(K,q)}function N(K,q){if(K){var ne=K[q];if(ne)for(var k of ne)if(null==k.selector)return k.properties}}function w(K){return K instanceof c.yj&&(0,a.VO)(K)}function x(K){if(K&&!_.isEmpty(K.rowHeaders)){var k,L,q=N(K,"rowHeaders"),ne=q?.stepped;ne&&(w(ne)?(k=c.wy.getBooleanValue(ne),L=!1):(k=W(ne),L=!0));var Q,X=N(K,"subTotals"),Y=X?.rowSubtotalsPosition;Y&&(Q=w(Y)?c.wy.getTextValue(Y):W(Y)),!0===k?G(K,l.$.Compact,L):!1===k&&(Q===u.Mn?G(K,l.$.Outline,L):(d.Y.assert(()=>void 0===Q||Q===u.sQ,"Unexpected rowSubtotalsPosition value"),G(K,l.$.Tabular,L))),void 0!==k&&delete q.stepped,_.isEmpty(q)&&delete K.rowHeaders}}function j(K,q,ne){if("table"===K.visualType||"matrix"===K.visualType){if(U(K.objects,"general","textSize","grid"),U(K.objects,"general","autoSizeColumnWidth","columnHeaders"),"table"===K.visualType&&(K.visualType="tableEx",U(K.objects,"general","totals","total")),"matrix"===K.visualType&&ne)if(K.objects||(K.objects={}),K.visualType="pivotTable",U(K.objects,"general","columnSubtotals","subTotals"),U(K.objects,"general","rowSubtotals","subTotals"),G(K.objects,l.$.Tabular,q),q)K.projections?.Rows?.forEach(X=>X.active=!0);else{var k=K.query?.projections?.Rows?.all().length;null!=k&&K.query.setActiveProjections(["Rows"],k)}if(null!=K.objects?.general){var L=K.objects.general.findIndex(X=>null==X.selector);L>=0&&(_.isEmpty(K.objects.general[L].properties)&&K.objects.general.splice(L,1),_.isEmpty(K.objects.general)&&delete K.objects.general)}}}function U(K,q,ne,k){var L=N(K,q);null!=L?.[ne]&&(T(K,k)[ne]=L[ne],delete L[ne])}function F(K){return{expr:i.F3.serializeExpr(K)}}function R(K){var ne=v(K.value);return(0,c._)(ne)}function W(K){if(K&&"expr"in K)return i.F3.deserializeExpr(K.expr).value}function G(K,q,ne){d.Y.assertValue(K,"setMatrixLayout requires object to be defined");var k=T(K,"general"),L=(0,c.Qq)(q);k.layout=ne?F(L):L}},373093:function(ve,z,e){e.d(z,{bH:function(){return t},fG:function(){return d},h6:function(){return n}});var a=e(694398),i=e(18122),r=e(821553);function t(){return new o}class o{constructor(){}upgrade(s){if(i.Y.assertValue(s,"exploration"),s)for(var p of s.sections)for(var l of p.visualContainers){var u=l.config.singleVisual;if(u){var v=u.objects;if(!n(u.visualType))continue;d(v);var g=(0,a.p)(l.dataTransforms);g&&(d(g.objects),l.dataTransforms=JSON.stringify(g))}}}upgradeFilterCollection(){}upgradeVisualObjects(s,p,l,u){}getVersion(){return r.ZNK.v3_19}}function d(c){var s="dataPoint",p="defaultCategoryColor";if(c&&c[s])for(var u of c[s])null==u.selector&&u.properties[p]&&(u.properties.fill=u.properties[p],delete u.properties[p])}function n(c){return _.includes(r.$xZ,c)}},706441:function(ve,z,e){e.d(z,{_y:function(){return g},bH:function(){return s}});var a=e(698244),i=e(690332),r=e(694398),t=e(18122),o=e(747767),d=e(877723),n=e(757406),c=e(821553);function s(f){return new p(f)}class p{constructor(S){this.featureSwitchService=S}upgrade(S){if(t.Y.assertValue(S,"exploration"),S)for(var b of S.sections)for(var V of b.visualContainers){var M=V.config.singleVisual;if(M){var P=M.visualType,T=M.projections;this.featureSwitchService.featureSwitches.cartesianConditionalFormatting&&(M.objects=l(M.objects,T,P),E(M.objects,T,P,M.prototypeQuery));var N=(0,r.p)(V.dataTransforms);N&&(this.featureSwitchService.featureSwitches.cartesianConditionalFormatting&&(N.objects=l(N.objects,T,P),E(N.objects,T,P,M.prototypeQuery)),V.dataTransforms=JSON.stringify(N))}}}upgradeFilterCollection(){}upgradeVisualObjects(S,b,V,M){}getVersion(){return c.IjO}}function l(f,S,b){var V=u(b),M=S&&!_.isEmpty(S[V]);return"scatterChart"===b&&M&&null==(0,a.Gs)(f,"fillPoint")&&(f||(f={}),f.fillPoint=[{properties:{show:{expr:i.F3.serializeExpr((0,n.zM)(!0))}}}]),f}function u(f){switch(f){case"filledMap":return"Size";case"barChart":case"clusteredBarChart":case"clusteredColumnChart":case"columnChart":case"funnel":case"hundredPercentStackedBarChart":case"hundredPercentStackedColumnChart":case"map":case"treemap":case"scatterChart":return"Gradient"}}function v(f){switch(f){case"filledMap":case"barChart":case"clusteredBarChart":case"clusteredColumnChart":case"columnChart":case"funnel":case"hundredPercentStackedBarChart":case"hundredPercentStackedColumnChart":case"map":case"treemap":case"scatterChart":return"Tooltips"}}function m(f,S){return"filledMap"===f&&S&&!_.isEmpty(S.Series)&&!_.isEmpty(S.Size)}function g(f,S,b){var P=u(b);if(P){var T=S?.getQueryRef(P,{fieldIndex:0});if(T){t.Y.assertValue(S.defn,"upgradeGradientOnObjectDef - semantic query should exist");var N=S.defn.select().withName(T);t.Y.assertValue(N,"upgradeGradientOnObjectDef - query named expr should exist");var w=f&&f.dataPoint;if(!_.isEmpty(w))for(var I of w){var O=I.properties.fillRule;if(null==I.selector&&O){if(m(b,S.projections)||w.push({selector:{data:[(0,d.vt)(o._.InstancesOnly)]},properties:{fill:{solid:{color:(0,n.Kf)(N.expr,O)}}}}),w.splice(w.indexOf(I),1),1===S.getUsageCount(T)){var x=S.tryGetExpr(P,0),j=v(b);t.Y.assertValue(j,"tooltips role should exist for visuals with gradient upgrade."),S.add(x,j)}S.removeProjection(P,{fieldIndex:0});break}}}}}function E(f,S,b,V){var P="fillRule",T="fill",N=u(b);if(N){var w=S&&S[N];if(!_.isEmpty(w)){var I=w[0].queryRef;if(I){var O=_.cloneDeep(_.find(V&&V.Select,W=>W.Name===I));if(O){delete O.Name;var x=O.Aggregation||O.Measure;if(x){var j=x.Expression.Column&&x.Expression.Column.Expression.SourceRef||x.Expression.SourceRef;if(j){var U=_.find(V.From,W=>W.Name===j.Source);if(U){j.Entity=U.Entity,delete j.Source;var F=f&&f.dataPoint;if(!_.isEmpty(F))for(var R of F)if(null==R.selector&&R.properties[P]){if(!m(b,S)){var B=_.cloneDeep(R.properties[P]);F.push({selector:{data:[{dataViewWildcard:{matchingOption:o._.InstancesOnly}}]},properties:{[T]:{solid:{color:{expr:{FillRule:{FillRule:y(B),Input:O}}}}}}})}if(F.splice(F.indexOf(R),1),delete S[N],!D(I,S)){var A=v(b);t.Y.assertValue(A,"tooltips role should exist for visuals with gradient upgrade."),S[A]||(S[A]=[]),S[A].push(...w||[])}break}}}}}}}}}function D(f,S){for(var b in S)if(_.some(S[b],M=>M.queryRef===f))return!0;return!1}function h(f){f.color&&(f.color=f.color.expr),f.value&&(f.value=f.value.expr),f.strategy&&(f.strategy=f.strategy.expr)}function C(f){h(f.min),h(f.max),f.mid&&h(f.mid),f.nullColoringStrategy&&h(f.nullColoringStrategy)}function y(f){return f.linearGradient2&&C(f.linearGradient2),f.linearGradient3&&C(f.linearGradient3),f}},448119:function(ve,z,e){e.d(z,{S:function(){return a},p:function(){return i}});var a=function(r){return r[r.Visual=1]="Visual",r[r.VisualContainer=2]="VisualContainer",r}({}),i=function(r){return r[r.Visual=1]="Visual",r[r.VisualContainer=2]="VisualContainer",r}({})},735006:function(ve,z,e){e.d(z,{y:function(){return i}});var a=e(44303);function i(t){return new r(t)}class r{constructor(o){this.downgraders=o}getFinalVisualObjectsVersion(o,d,n,c){for(var s of this.downgraders)n=(0,a.T9)(n,s.getMinDowngradeVersionForVisualObjects(o,d,c));return n}downgrade(o,d,n,c){for(var s of this.downgraders)s.downgradeVisualObjects(o,d,n,c)}}},237983:function(ve,z,e){e.d(z,{t:function(){return i}});var a=e(44303);function i(t){return new r(t)}class r{constructor(o){this.upgraders=o}upgrade(o,d,n,c){for(var s of this.upgraders){var p=s.getVersion();(0,a.gt)(p,c)&&s.upgradeVisualObjects(o,d,n,c)}}}},992516:function(ve,z,e){e.d(z,{i:function(){return o},l:function(){return d}});var a=e(643484),i=e(694398),r=e(18122),t=e(193311);function o(n,c,s,p){r.Y.assertValue(n,"input");var l=[],u={objectId:n.objectId,name:n.objectId,type:n.type};n.creationTime&&(u.creationTime=new Date(Date.parse(n.creationTime))),n.expirationTime&&(u.expirationTime=new Date(Date.parse(n.expirationTime))),n.displayName&&(u.displayName=n.displayName),n.isDefault&&(u.isDefault=n.isDefault),null!=n.id&&(u.id=n.id);try{var v;n.explorationState&&((v=(0,i.p)(n.explorationState))||l.push({code:a.C.JSONSerialization})),v&&(u.explorationState=(0,t.iu)(v,c,s,p))}catch(g){l.push({code:a.C.ExplorationStateSerialization,message:g.message,stack:g.stack})}var m={contract:u};return _.isEmpty(l)||(m.errors=l),m}function d(n,c,s,p,l){r.Y.assertValue(n,"input");var u={objectId:n.objectId,type:n.type};if(n.creationTime&&(u.creationTime=n.creationTime.toISOString()),n.expirationTime&&(u.expirationTime=n.expirationTime.toISOString()),n.displayName&&(u.displayName=n.displayName),n.isDefault&&(u.isDefault=n.isDefault),null!=n.id&&(u.id=n.id),n.explorationState){var v=(0,t.lK)(n.explorationState,c,p,l,s);u.explorationState=JSON.stringify(v)}return u}},919794:function(ve,z,e){e.d(z,{A:function(){return i}});var a=e(18122);function i(){return new r}class r{constructor(){this.isPaused=!1}register(o){for(var d=Object.create({}),n=o;n;)Object.getOwnPropertyNames(n).forEach(s=>{if("function"==typeof n[s]&&"constructor"!==s){if(void 0!==d[s])return;d[s]=n[s].bind(d)}}),n=Object.getPrototypeOf(n);return this.updateService(d),d}pause(){this.isPaused=!0}resume(){this.isPaused=!1}updateService(o){var d=this;a.Y.assertAnyValue(o,"service");var n=function(){if(_.isFunction(o[c])){var s=o[c],p=d;o[c]=function(){if(!p.isPaused)return s.apply(o,arguments)}}};for(var c in o)n()}}},624518:function(ve,z,e){e.d(z,{A:function(){return g}});var a=e(924672),i=e(986374),r=e(190593),t=e(18122),o=e(693029),d=e(8343),n=e(814691),c=e(775157),s=e(757406),p=e(858225),l=e(930845),u=e(371320),v=e(387797),m=e(98138);function g(C,y,f){return new E(C,y,f)}var E=(()=>{class C{constructor(f,S,b){t.Y.assertValue(f,"displayNameService"),t.Y.assertValue(b,"visualPluginService"),this.displayNameService=f,this.featureSwitches=S,this.visualPluginService=b}getSortableFields(f){t.Y.assertValue(f,"options");var S=f.visualType,b=this.visualPluginService.capabilities(S);if(!b||!this.isVisualSortable(b))return{sortableFields:[],sortGroups:[]};var V=this.createIsRoleSortableDelegate(S,f.compiledMappings);return this.getGroupedSortableFieldsFromProjections(f.query,f.schema,b,f.columnProperties,V)}createIsRoleSortableDelegate(f,S){var b=this.visualPluginService.getPlugin(f),V=this.visualPluginService.capabilities(f);if(!b.getSortableRoles||!V.sorting)return P=>!0;var M=b.getSortableRoles({dataViewMappings:S});return _.isEmpty(M)?P=>!1:P=>M.indexOf(P)>=0}addSort(f,S){f&&f.defn&&S&&(f.defn=f.defn.orderBy(S))}removeSort(f,S){if(f&&f.defn&&S)for(var b of S)f.defn=f.defn.removeOrderBy(b.expr)}resetSort(f){if(f&&f.defn){var S=f.defn.orderBy();this.removeSort(f,S)}}applyImplicitSort(f,S){if(t.Y.assertValue(f,"query"),t.Y.assertAnyValue(S,"implicitSort"),!S)return f;var b=f.defn;if(!b)return f;var V=S.clauses,M=b.select(),P=[];for(var T of V){var N=(0,d.Lw)(f.projections,T.role);if(N){var w=T.direction;P.push(..._.map(N.all(),I=>({expr:M.withName(I.queryRef).expr,direction:w})))}}return _.isEmpty(P)?f:new u.r(b.orderBy(P),f.projections,f.expansionStates,f.isDrillDisabled)}shouldApplyDefaultSort(f,S){if(S.sorting?.custom||S.sorting?.implicit)return!1;var b=f.query;if(!b)return!1;var V=(0,v.L)(b),M=(0,n.i7)(b.projections,S.dataViewMappings,V,this.featureSwitches.featureSwitches),P=M?.supportedMappings?.[0];return!(P?.matrix&&(0,r.ES)(P))&&(f.hasDefaultSort||_.isEmpty(f.query.defn.orderBy()))}ensureValidSorting(f){t.Y.assertValue(f,"options");var S=f.query,b=S.defn;if(!b)return S;var V=b.orderBy();if(_.isEmpty(V))return S;var M=this.getSortableFields(f).sortableFields,P=[];if(!_.isEmpty(M))for(var T of M)P.push(...this.createSortDefinitions(T));for(var N=!1,w=function(O){if(_.find(P,x=>(0,m.aI)(x.expr,V[O].expr)))return 1;V.splice(O,1),N=!0},I=V.length-1;I>=0;I--)w(I);return N?new u.r(b.orderBy(V),S.projections,S.expansionStates,S.isDrillDisabled):S}isVisualSortable(f){return _.some(f.dataRoles,S=>S.kind!==o.Ts.Measure)}getGroupedSortableFieldsFromProjections(f,S,b,V,M){var P=f.defn.select(),T=f.defn.orderBy(),N=(0,v.L)(f),w=(0,n.i7)(f.projections,b.dataViewMappings,N,this.featureSwitches.featureSwitches),O=new h(M,(j,U,F,R)=>{var B=f.getRolesActiveProjectionsRefs([j],!1,!0);return _.isEmpty(B)?[]:this.createSortableFieldsForQueryRefs(S,P,B,T,b,V,F!==D.Independent,U,R)});if(w.supportedMappings)for(var x of w.supportedMappings)x.matrix&&(0,r.ES)(x)?(0,c.L$)(x.matrix,O):x.categorical&&(0,c.gF)(x.categorical,O);return _.isEmpty(O.groups)?this.getDefaultGroupSortableFieldsFromProjections(f,w,S,b,V,M):{sortableFields:O.allSortableFields,sortGroups:O.groups}}getDefaultGroupSortableFieldsFromProjections(f,S,b,V,M,P){t.Y.assertNonEmpty(V.dataRoles,"Unexpected empty dataRoles");var T=[],N=f.defn.select(),w=f.defn.orderBy(),I=_.some(S.supportedMappings,B=>B.categorical);for(var O of V.dataRoles){var x=O.name;if(P(x)){var j=f.getRolesActiveProjectionsRefs([x],!1,!0);if(!_.isEmpty(j)){var U=!_.isEmpty(f.projections[x].activeProjectionRefs),R=this.createSortableFieldsForQueryRefs(b,N,j,w,V,M,I&&U,C.DefaultSortGroupKey);T.push(...R)}}}return this.createResultWithSortGroup(T)}createSortableFieldsForQueryRefs(f,S,b,V,M,P,T,N,w){var x,I=this,O=!1,j=Number.MAX_VALUE,U=[],F=[],R=[],B=function(){var G=S.withName(A),K=G?.expr;if(!K||!p.B.isExprValidForSorting(K))return 1;var q=I.getDisplayNameFromQueryRef(f,S,A,M,P),ne=I.applySortingScope(K,w),k=_.findIndex(V,L=>(0,m.aI)(L.expr,ne));k!==l.XB&&(j=Math.min(j,k)),T?((O=O||k!==l.XB)&&!x&&(t.Y.assert(()=>k!==l.XB,"invalidSortExprIndex"),x=V[k].direction),F.push({name:A,expr:K}),R.push(q)):U.push({displayName:q,exprs:[G],active:O=k!==l.XB,orderByIndex:O?k:void 0,sortDirection:x=O?V[k].direction:void 0,groupKey:N,scope:w})};for(var A of b)B();return T?_.isEmpty(F)?[]:[{displayName:R.join(" "),exprs:F,active:O,orderByIndex:O?j:void 0,sortDirection:O?x:void 0,groupKey:N,scope:w}]:U}getDisplayNameFromQueryRef(f,S,b,V,M){var P=S.withName(b)?.expr;return P?this.displayNameService.getDisplayName(P,f,V,b,M):""}createResultWithSortGroup(f){var S=[];return _.isEmpty(f)||S.push({key:C.DefaultSortGroupKey,displayName:null,fields:f,isDefaultGroup:!0}),{sortableFields:f,sortGroups:S}}createSortDefinitions(f){var S=[];for(var b of f.exprs)S.push({expr:this.applySortingScope(b.expr,f.scope),direction:f.sortDirection??a.U.Descending});return S}applySortingScope(f,S){return _.isEmpty(S)?f:(0,s.bg)(f,S)}}return C.DefaultSortGroupKey="Default",C})(),D=function(C){return C[C.Independent=0]="Independent",C[C.Combined=1]="Combined",C}({}),h=(()=>{class C{constructor(f,S){this.isRoleSortable=f,this.getSortableFieldsForRole=S,this.groups=[],this.allSortableFields=[],this.uniqueGroupKeys=[],this.uniqueRoles=[]}visitRole(f,S){if(this.isRoleSortable(f))switch(S){case c.Dh.MatrixColumnsGroup:case c.Dh.CategoricalSeries:this.addRole(f,i.c.Legend,D.Combined);break;case c.Dh.MatrixRowsGroup:return void this.addRole(f,f,D.Combined);case c.Dh.CategoricalCategory:return void this.addRole(f,i.c.Category,D.Combined);case c.Dh.MatrixIntersection:case c.Dh.MatrixRowsScopedValue:return void this.addRole(f,i.c.Rows,D.Independent,!0,[(0,s.a3)("Rows")]);case c.Dh.CategoricalValue:case c.Dh.CategoricalValueGroup:return void this.addRole(f,i.c.Category,D.Independent,!0);default:return void t.Y.assertFail("Unexpected context: "+S)}}addRole(f,S,b,V=!1,M){var P;if(V){if(!(P=_.find(this.groups,N=>N.key===S)))return}else P={key:S,displayName:C.RoleToSortGroupDisplayName[S],fields:[]};var T=this.getSortableFieldsForRole(f,S,b,M);_.isEmpty(T)||(_.includes(this.uniqueRoles,f)||(this.allSortableFields.push(...T),this.uniqueRoles.push(f)),P.fields.push(...T),!V&&!_.includes(this.uniqueGroupKeys,P.key)&&(this.groups.push(P),this.uniqueGroupKeys.push(P.key)))}visitReduction(){}enterComposite(){}exitComposite(){}}return C.RoleToSortGroupDisplayName={[i.c.Rows]:"Sort_Group_Small_multiples",[i.c.Category]:"Sort_Group_Axis",[i.c.Legend]:"Sort_Group_Legend"},C})()},222055:function(ve,z,e){e.d(z,{Uy:function(){return s},Wi:function(){return l},nq:function(){return c}});var a=e(709190),i=e(18122),r=e(924256),t=e(999904),o=e(332603),d=e(554109),n=e(620825);function c(E,D,h,C,y){return new g(E,D,h,C,y)}function s(E,D,h,C){i.Y.assertValue(C,"references"),i.Y.assertAnyValue(D,"descriptors"),E&&(0,t.bY)({definitions:E,descriptors:D,visitor:y=>{if((0,n.cd)(y)){var f=(0,d.uN)(h,y.packageType,y.packageName),S=(0,d.AU)(f,y.itemName);S&&l(C,f.name,f.type,S.name,S.type)}}})}function p(E,D,h){return i.Y.assertValue(E,"references should exist."),E[D]||(E[D]={items:{},name:D,type:h}),E[D]}function l(E,D,h,C,y){i.Y.assertValue(E,"references should exist.");var f=p(E,D,h).items;return f[C]=f[C]||{name:C,type:y}}function u(E,D,h){var C=E[D];return C&&C.items&&C.items[h]}function m(E,D){for(var h in E){var C=E[h];for(var y in C.items)D(C,C.items[y])}}class g{constructor(D,h,C,y,f){this.promiseFactory=D,this.resourceLoader=h,this.explorationNavigation=C,this.explorationSerializer=y,this.resourceRegistration=f,this.restorableReferenceSources=[],this.preservedReferences={}}addReferenceSource(D){this.restorableReferenceSources.push(D)}removeReferenceSource(D){_.pull(this.restorableReferenceSources,D)}garbageCollectUnreferencedStaticResources(){var D=this.explorationNavigation.getCurrentExploration(),h=D&&D.resourcePackages;if(h){for(var C=this.explorationSerializer.getReferencedStaticResources(D),y=this.getRestorableReferences(),f=[],S=h.length-1;S>=0;S--){var b=h[S];(0,d.xD)(b)&&(this.garbageCollectItems(b,C,this.preservedReferences,y,f),_.isEmpty(b.items)&&_.pull(h,b))}return _.isEmpty(h)&&delete D.resourcePackages,this.cleanPreservedReferences(C,y),f}}cleanPreservedReferences(D,h){m(this.preservedReferences,(C,y)=>{(u(D,C.name,y.name)||!u(h,C.name,y.name))&&function(E,D,h){var C=E[D];if(C){var y=C.items;delete y[h],0===_.size(y)&&delete E[D]}}(this.preservedReferences,C.name,y.name)})}getRestorableReferences(){var D={};for(var h of this.restorableReferenceSources)m(h.getReferences(),(C,y)=>{l(D,C.name,C.type,y.name,y.type)});return D}garbageCollectItems(D,h,C,y,f){i.Y.assertValue(D,"Resource package should exist in order to be garbage collected"),i.Y.assertValue(h,"referencedResources should exist in order to garbage collect items"),i.Y.assertValue(C,"perservedReferences should exist in order to garbage collect items"),i.Y.assertValue(y,"restorableReferences should exist in order to garbage collect items"),i.Y.assertValue(f,"unreferencedResources should exist in order to garbage collect items");for(var S=D.items,b=D.name,V=_.size(S)-1;V>=0;V--){var M=S[V],P=M.name;u(h,b,P)||(u(y,b,P)&&this.preserveItem(D,P,M.type),f.push(b+"/"+M.path),_.pull(S,M))}}preserveItem(D,h,C){var y=l(this.preservedReferences,D.name,D.type,h,C);y.uri||(y.uri=(0,o.Pu)(D,h,this.resourceLoader,this.promiseFactory).then(f=>((0,r.V0)(f)||(f=(0,r.Xn)(f)),f)))}loadItemsContent(D){var h=this,C=[],y=this.explorationNavigation.getCurrentExploration(),f=y&&y.resourcePackages;for(var S in D){var b=D[S];if(b.type===a.X.RegisteredResources){var V=b.items,M=function(){var T=V[P];C.push((0,o.Pz)(h.promiseFactory,h.resourceLoader,f,T.name).then(N=>{T.content=N}))};for(var P in V)M()}}return this.promiseFactory.all(C).then(()=>{})}addItemsContent(D){var h=this.explorationNavigation.getCurrentExploration();for(var C in D){var y=D[C],f=y.items;for(var S in f){var b=f[S];this.addResource(h.resourcePackages,C,y.type,b.name,b.type,b.content)}}}needingRestore(D){if(!_.isEmpty(D)){var h=this.explorationNavigation.getCurrentExploration();if(h){var C=h&&h.resourcePackages;if(!_.isEmpty(C)){var y={};return m(D,(f,S)=>{var b=f.name,V=S.name,M=u(this.preservedReferences,b,V);M&&!(0,d.by)(C,f.type,S.name,b)&&(p(y,b,f.type).items[V]=M)}),y}}}}addResource(D,h,C,y,f,S){(0,d.by)(D,C,y,h)||this.resourceRegistration.add(y,C,f,{content:S,skipUniqueName:!0})}restoreReferences(D){var h=this.needingRestore(D),C=[];return m(h,(y,f)=>{C.push(f.uri.then(S=>{this.resourceRegistration.restore(f.name,y.type,f.type,S)}))}),this.promiseFactory.all(C).then(()=>{})}}},499666:function(ve,z,e){e.d(z,{z:function(){return i}});var a=e(18122);class i{register(t,o,d){var n=o();return{actionResult:n,succeeded:!(_.isBoolean(n)&&!n)}}getTopUndoFrame(){a.Y.assertFail("Can not get top undo frame")}canRedo(){return!1}canUndo(){return!1}canClear(){return!1}undo(){return a.Y.assertFail("Undo is not supported"),!1}redo(){return a.Y.assertFail("Redo is not supported"),!1}clear(){return a.Y.assertFail("Clear is not supported"),!1}getReferences(){return{}}}},194460:function(ve,z,e){e.d(z,{Q:function(){return o},U:function(){return t}});var a=e(18122),i=e(700280),r=e(499666);class t{constructor(c,s){this.visualContainerName=c,this.action=s}equals(c){return!!c&&this.action===c.action&&this.visualContainerName===c.visualContainerName}}function o(n,c,s="UndoRedo",p=new r.z){return new d(n,c,s,p)}class d{constructor(c,s,p,l){this.eventBridge=c,this.loggerService=s,this.undoRedoLogEntryType=p,this.strategy=l}setStrategy(c){this.clear(),this.strategy=c}undo(){!this.verifyStrategy()||!this.canUndo()||setTimeout(()=>{this.strategy&&this.strategy.undo()&&(this.runSideEffects(),this.fireEvents())})}redo(){!this.verifyStrategy()||!this.canRedo()||setTimeout(()=>{this.strategy&&this.strategy.redo()&&(this.runSideEffects(),this.fireEvents())})}registerSideEffect(c){this.sideEffects||(this.sideEffects=[]),this.sideEffects.push(c)}clear(){this.verifyStrategy()&&(this.strategy.canClear()&&this.strategy.clear(),this.eventBridge.publishToChannel(i.IbG))}canRedo(){return this.verifyStrategy()&&this.strategy.canRedo()}canUndo(){return this.verifyStrategy()&&this.strategy.canUndo()}getTopUndoFrame(){return this.verifyStrategy()&&this.strategy.getTopUndoFrame()}undoRedoPostProcessing(c){this.loggerService.addUserAction({message:c,type:this.undoRedoLogEntryType}),setTimeout(_.noop)}register(c,s,p){var l,u=!1;if(this.verifyStrategy()){var v=this.strategy.register(c,s,p);l=v.actionResult,u=v.succeeded}else l=s(),u=!(_.isBoolean(l)&&!l);return u&&(this.runSideEffects(c),this.fireEvents()),this.undoRedoPostProcessing(c),l}fireEvents(){this.eventBridge.publishToChannel(i.YCj,{explorationContentChanged:!0}),this.eventBridge.publishToChannel(i.IbG)}runSideEffects(c){if(!_.isEmpty(this.sideEffects))for(var s of this.sideEffects)s.run(c)}verifyStrategy(){return a.Y.assert(()=>!!this.strategy,"undoRedoService functions should not be called without a strategy"),!!this.strategy}}},578582:function(ve,z,e){e.d(z,{V8:function(){return o}});var a=e(18122);class i{constructor(s){this.count=0,this.top=-1,a.Y.assert(()=>s>=1,"Size cant be less than 1"),this.size=s,this.data=new Array(s)}item(s){a.Y.assert(()=>s>=0&&s<this.count,"index out of range");var p=this.top-(this.count-1);return p<0&&(p+=this.size),this.data[(s+p)%this.size]}push(s){this.count<this.size&&this.count++,this.top=++this.top%this.size,this.data[this.top]=s}pop(){if(0!==this.count){this.count--;var s=this.data[this.top];return delete this.data[this.top],-1==--this.top&&this.count>0&&(this.top=this.size-1),s}}peek(){return this.data[this.top]}clear(){this.count=0,this.top=-1,this.data=new Array(this.size)}get length(){return this.count}}var r=e(413399);class o{constructor(s,p,l,u){this.handler=s,this.staticResourceReferences=p,this.telemetry=l,this.visibilityService=u,this.undoStack=new i(10),this.redoStack=new i(10),this.staticResourceReferences.addReferenceSource(this)}register(s,p,l){var u=this.withTelemetry(()=>this.captureUndoFrame(this.handler),r.jj.Capture,s);u.recurringActionInfo=l;var v=this.canMergeWithTopFrame(l),m=this.startTransaction(u),g=p();a.Y.assert(()=>!this.isIPromise(g),"UndoRedoService.register does not support promise types");var E=!(_.isBoolean(g)&&!g);return E?this.endTransaction(m,v):this.cancelTransaction(m),{succeeded:E,actionResult:g}}getReferences(){return this.addStackReferences(this.undoStack,this.addStackReferences(this.redoStack))}addStackReferences(s,p){p=p||{};for(var l=s.length;l-- >0;)_.merge(p,s.item(l).getReferences());return p}undo(){var s=!1;return this.canUndo()&&(s=this.withTelemetry(()=>this.rollbackTop(this.undoStack,this.redoStack),r.jj.Undo,""),this.telemetry.logEvent(r.RT,{times:this.redoStack.length})),s}redo(){var s=!1;return this.canRedo()&&(s=this.withTelemetry(()=>this.rollbackTop(this.redoStack,this.undoStack),r.jj.Redo,"")),s}clear(){return this.undoStack.clear(),this.redoStack.clear(),!0}canRedo(){return this.redoStack.length>0}canUndo(){return this.undoStack.length>0}canClear(){return!0}getTopUndoFrame(){var s=this.undoStack.peek();return s?s.getFrame():void 0}withTelemetry(s,p,l){var u=this.visibilityService.get(),v=u?.visibility,m=this.telemetry.startEvent(r.lT,{description:l,event:p,visibility:v}),g=s();return m.resolve(),g}canMergeWithTopFrame(s){if(!s)return!1;if(this.canUndo()){var p=this.getTopUndoFrame();if(p&&void 0!==p.recurringActionInfo&&p.recurringActionInfo.equals(s))return!0}return!1}rollbackTop(s,p){var l=s.pop();if(l){var u=l.rollbackFrame(),v=this.validTransactionCheck(u);return v&&p.push(u),v}a.Y.assertFail("UndoRedoService.rollbackTop received an empty source")}isIPromise(s){return s&&s.finally}startTransaction(s){a.Y.assertValue(s,"undoFrame");var p=new n;return this.currentTransaction||(this.currentTransaction=p,this.currentTransaction.addUndoFrame(s)),this.currentTransaction}endTransaction(s,p){a.Y.assertValue(s,"transaction"),a.Y.assert(()=>s===this.currentTransaction,"nested transactions are not allowed"),p||(this.redoStack.clear(),this.validTransactionCheck(this.currentTransaction)&&this.undoStack.push(this.currentTransaction)),this.currentTransaction=void 0}cancelTransaction(s){a.Y.assertValue(s,"transaction"),a.Y.assert(()=>s===this.currentTransaction,"nested transactions are not allowed"),this.currentTransaction=void 0}captureUndoFrame(s){return a.Y.assertValue(s,"container"),new d(s)}validTransactionCheck(s){return a.Y.assertValue(s,"null or undefined transaction values cannot be put on undo or redo stack."),!!s}}class d{constructor(s,p){a.Y.assertValue(s,"handler"),this.handler=s,this.snapshot=this.handler.takeSnapshot(p)}rollbackFrame(){var s=new d(this.handler,this.snapshot);return this.handler.rollback(this.snapshot),s}getReferences(){return this.snapshot.getReferences&&this.snapshot.getReferences()}}class n{constructor(s){this.frames=s||[]}addUndoFrame(s){this.frames.push(s)}rollbackFrame(){var s=_.map(this.frames,p=>{if(a.Y.assertValue(p,"frame"),p)return p.rollbackFrame()});return new n(s)}getFrame(){return a.Y.assert(()=>1===this.frames.length,"frame length"),this.frames[0]}getReferences(){var s={};for(var p of this.frames)_.merge(s,p.getReferences());return s}}},308038:function(ve,z,e){e.d(z,{M:function(){return c}});var a=e(18122),i=e(576086),r=e(71712),t=e(413399),o=e(408509),d=e(700280),n=e(483378);function c(u,v,m,g){return new s(u,v,m,g)}class s{constructor(v,m,g,E){this.telemetryService=v,this.eventBridge=m,this.selectionService=g,this.explorationNavigation=E,a.Y.assertValue(v,"telemetryService"),a.Y.assertValue(m,"eventBridge"),a.Y.assertValue(g,"selection"),this.selectionService=g,m.createChannelSubscriptionManager().subscribe(d.zCo,()=>this.updatePopOutMode()).subscribe(d.MLq,(D,h)=>this.onFormFactorChanged(h.layout))}get(v){a.Y.assert(()=>v!==i.B8.None,"mode !== VisualVisibility.None");var m=this.explorationNavigation.getCurrentSection(),g=m&&m.poppedOutElement;if(g&&(v||(v=i.B8.Maximize|i.B8.MaximizeWithData|i.B8.MaximizeWithDataAccessible|i.B8.VisualCalcEditing),v&g.visibility))return g.visualContainer}set(v,m,g=!0){if(a.Y.assertValue(v,"visualContainer"),a.Y.assertValue(m,"visibility"),m!==i.B8.None){var E={visualContainer:v,visibility:m},D=this.explorationNavigation.getAllSections(),h=_.find(D,y=>y.visualContainers.indexOf(v)>=0);h&&(function(u,v){return(u=u||null)===(v=v||null)||!(!u!=!v||(a.Y.assertValue(u,"left"),a.Y.assertValue(v,"right"),u.visualContainer!==v.visualContainer||u.visibility!==v.visibility))}(E,h&&h.poppedOutElement)||(this.clearInternal(!1,!1),!n.qN.isCanvasItemSelected(v,this.selectionService)&&m!==i.B8.Elevation&&n.qN.selectCanvasItem(v,this.selectionService),this.setMode(E,m,g),h.poppedOutElement=E,this.poppableItem=E,this.raiseEvent(this.generateVisibilityChangedEventArgs(m))))}else this.clearInternal(!0,g)}clear(){this.clearInternal()}clearForVisualContainers(v){var m=this.explorationNavigation.getCurrentSection(),g=m&&m.poppedOutElement;if(g)for(var E of v)if(g.visualContainer===E){this.clearInternal();break}}onFormFactorChanged(v){var m=this.explorationNavigation.getCurrentSection(),g=m?.poppedOutElement;g&&(g.visualContainer.layouts.withId(v)||this.clearInternal())}clearInternal(v=!0,m=!0){var g=this.explorationNavigation.getCurrentSection(),E=g&&g.poppedOutElement;if(E){var D=this.poppableItem.visibility;this.setMode(E,i.B8.None,m),g.poppedOutElement=void 0,v&&this.raiseEvent(this.poppableItem&&this.poppableItem.visualContainer===E.visualContainer?this.generateVisibilityChangedEventArgs(D):void 0),this.poppableItem=void 0}}isSeeDataMode(v){return v&&(v===i.B8.MaximizeWithData||v===i.B8.MaximizeWithDataAccessible||v===i.B8.VisualCalcEditing)}updatePopOutMode(){var v=n.qN.getDefaultSelectedVisualInSingleOrMultiCase(this.selectionService);v&&(0,r.iA)(v)&&null!=v.visibility&&v.visibility!==i.B8.None?this.set(v,v.visibility,!1):this.clearInternal(!0,!1)}raiseEvent(v){this.eventBridge.publishToChannel(d.j8Z,v)}setMode(v,m,g){var E=v.visualContainer;if(g){var D=function(u){switch(u){case i.B8.Maximize:return t.NM.Maximized;case i.B8.MaximizeWithData:return t.NM.MaximizedWithData;case i.B8.MaximizeWithDataAccessible:return t.NM.MaximizedWithAccessibleData;case i.B8.Spotlight:return t.NM.Spotlight;case i.B8.Elevation:return t.NM.Elevation;case i.B8.VisualCalcEditing:return t.NM.VisualCalcEditing;default:return t.NM.Normal}}(m);this.telemetryService.logEvent(t.Cj,{visualType:(0,o.d)(E),displayType:D,visualName:v.visualContainer.name})}E.visibility=m}generateVisibilityChangedEventArgs(v){return{preserveScroll:v===i.B8.Spotlight||v===i.B8.Elevation}}}},155385:function(ve,z,e){e.d(z,{tF:function(){return We},Z8:function(){return ee},ar:function(){return ft}});var a=e(924672),i=e(899839),r=e(429943),t=e(383251),o=e(190593),d=e(994131),n=e(579260),c=e(18122),s=e(623670),p=e(989417),l=e(693029),u=e(482713),v=e(309754),m=e(8343),g=e(890741),E=e(814691),D=e(999904),h=e(364145),C=e(827431),y=e(688555),f=e(476271),S=e(334734),b=e(158649),V=e(188076),M=e(106302),P=e(258480),T=e(757406),N=e(893613),w=e(858225),I=e(683116),O=e(989917),x=e(66388),j=e(371320),U=e(456339),F=e(850990),R=e(622053),B=e(815791),A=e(387797),G=e(960179),K=e(576086),q=e(323954),ne=e(787428),k=e(366968),L=e(990328);class X extends L.k{constructor(Fe,ye,we){super(),this.visualCalcDaxParserServiceContext=we,this.oldNativeRefereName=Fe,this.newNativeReferenceName=ye}visitNativeVisualCalc(Fe){if(Fe.name===this.newNativeReferenceName)return Fe;null==this.daxContext&&(this.daxContext=this.visualCalcDaxParserServiceContext.service.getContext(this.visualCalcDaxParserServiceContext.nativeReferences,this.visualCalcDaxParserServiceContext.reservedWords,this.visualCalcDaxParserServiceContext.daxCapabilities));var ye=this.visualCalcDaxParserServiceContext.service.renameReference(this.daxContext,Fe.expression,this.oldNativeRefereName,this.newNativeReferenceName);return(0,T.zy)(Fe.name,ye,Fe.dataType,Fe.getAnnotations())}}var Y=e(620825),Q=e(664158),H=e(98138),te=e(620455);function ee(Qe,Fe,ye,we,Ee,Oe){return new At(Qe,Fe,ye,we,Ee,Oe)}var ue=function(Qe){return Qe[Qe.none=0]="none",Qe[Qe.updateFilter=1]="updateFilter",Qe[Qe.clearFilter=2]="clearFilter",Qe}({});function We(Qe,Fe,ye,we){if(!Qe)return!1;var Ee=!1;function Oe(de,Ze,Ye,qe){we&&we(de.objectName,de.selector,Ze,Ye,qe,qe&&de.properties&&de.properties[Ze])}if(Qe.replace)for(var he of Qe.replace){var xe=(0,D.D8)(ye,he.objectName,he.selector),Se={};for(var Ae in he.properties)(0,h.Jd)(Ae)?Se[Ae]=mt(he,Ae,Fe):c.Y.assertFail("Invalid property name");var Ie=xe.properties;if(!(0,D.lj)(Ie,Se)){Ee=!0;var Je=(0,D.V4)(Ie,Se);for(var pe of Je)Oe(he,pe,Ie[pe],Se[pe]);xe.properties=Se}}if(Qe.merge)for(var Pe of Qe.merge){var Me=(0,D.D8)(ye,Pe.objectName,Pe.selector);for(var Ge in Pe.properties)if((0,h.Jd)(Ge)){var De=mt(Pe,Ge,Fe);(0,D.Y2)(Me.properties[Ge],De)||(Ee=!0,Oe(Pe,Ge,Me.properties[Ge],De),Me.properties[Ge]=De)}else c.Y.assertFail("Invalid property name")}if(Qe.remove)for(var lt of Qe.remove){var ct=(0,D.lY)(ye,lt.objectName,lt.selector);if(ct)for(var vt in lt.properties)(0,h.Jd)(vt)?ct.properties.hasOwnProperty(vt)&&(Ee=!0,Oe(lt,vt,ct.properties[vt],void 0),delete ct.properties[vt]):c.Y.assertFail("Invalid property name")}if(Qe.removeObject)for(var Vt of Qe.removeObject){var It=(0,D.lY)(ye,Vt.objectName,Vt.selector);if(It){if(we)for(var Ot in It.properties)Oe(Vt,Ot,It.properties[Ot],void 0);Ee=(0,D.gr)(ye,Vt.objectName,Vt.selector)||Ee}}return Ee}function ft(Qe,Fe,ye){if(Qe.name!==r.lP.rows||!(0,o.oY)(ye?.dataViewMappings))return!0;var we=Fe.query;if(!we||!we.defn)return!1;var Ee=(0,m.Lw)(we.projections,Qe.name);return!!Ee&&_.size(Ee.all())>0||Fe.hasUsedSmallMultiples}function mt(Qe,Fe,ye){var Ee;return c.Y.assertValue(Qe,"instance"),ye&&ye[Qe.objectName]&&ye[Qe.objectName].properties[Fe]&&(Ee=ye[Qe.objectName].properties[Fe].type),(0,D.TK)(Qe.properties[Fe],Ee||{})}class At{constructor(Fe,ye,we,Ee,Oe,he){this.visualPluginService=Fe,this.geoTaggingService=ye,this.aggrOps=we,this.featureSwitchService=Ee,this.visualAuthoringCustomizeOperations=Oe,this.displayNameService=he,this.updateFilterState=(xe,Se,Ae,Ie,Je,pe,Pe,Me)=>{var Ge=Se.config.singleVisual,De=this.visualPluginService.capabilities(Ge.visualType),lt=De?De.objects:null;if(Ie&&this.ensureDefaultFilterApplied(xe,Ge,Ae))return{clearOrDefault:!0,updateAll:!1};var ct=!1;if(Je){var vt=this.updateFilterOutput(Ge,lt,xe);if(vt===ue.clearFilter)return{clearOrDefault:!0,updateAll:!1};ct=vt===ue.updateFilter}var Vt=Se.config.singleVisual;return!ct&&pe&&Vt&&Vt.objects&&(0,D._W)(Vt.objects,pe,null)&&(ct=!0),{clearOrDefault:!1,updateAll:ct}},c.Y.assertValue(Fe,"visualPluginService"),c.Y.assertValue(ye,"geoTaggingService"),c.Y.assertValue(we,"aggrOps"),this.visualPluginOps=(0,ne.i)(Fe,Ee)}create(Fe){c.Y.assertValue(Fe,"options");var ye=this.visualPluginService.capabilities(Fe.visualType),we=Fe.query||new j.r(P.DC.create(),{},[]),Ee=(0,q.Z)().create(ye,this.geoTaggingService,we.isDrillDisabled);if(Ee){var Oe={visualType:Fe.visualType,query:we};for(var he in Fe.autoSelectVisualType&&(Oe.autoSelectVisualType=!0),this.visualAuthoringCustomizeOperations.customizeOptions(Oe,Fe.schema),Oe.query.projections)this.ensureDependentObjectDefn(Ee.objectDescs,he,Oe);var xe=Fe.expr,Se=!Fe.inFilterVisualContainer&&xe&&!_.isArray(xe)&&w.B.shouldUseAsFieldParameter(this.featureSwitchService.featureSwitches.fieldParametersAuthoring,Fe.schema,Fe.expr,!F.M.supportsFilterOutput(ye),this.visualPluginOps.isAnalysisVisual(Fe.visualType));if(_.isEmpty(xe)||!0===this.tryAdd(Ee,Oe,Se,Fe))return{singleVisual:Oe}}}add(Fe,ye,we){c.Y.assertValue(Fe,"options"),c.Y.assertValue(ye,"target");var Ee=ye.singleVisual;if(!Ee)return!1;var Oe=this.visualPluginService.capabilities(Ee.visualType),he=!!Ee.query?.isDrillDisabled;Ee.query||(he=!!this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,U.p9)(Oe));var Se,xe=(0,q.Z)().create(Oe,this.geoTaggingService,he);return!!xe&&(!0!==(Se=Ee.query?this.tryAdd(xe,Ee,we,Fe):this.tryAddWithUndefinedQuery(xe,Ee,we,Fe))?Se:(this.visualAuthoringCustomizeOperations.customizeOptions(Ee,Fe.schema),At.clearConversionSourceContext(Ee),!0))}updateFieldHiddenStateCore(Fe,ye,we,Ee){var Oe=Fe.query;if(Oe){var he=Oe.getQueryRef(ye,{fieldIndex:we});Ee(Oe,he),this.ensureCardinalityByHidingDifferentProjection(Fe,ye,we)}}toggleHidden(Fe,ye,we){this.updateFieldHiddenStateCore(Fe,ye,we,(Ee,Oe)=>Ee.toggleHidden(Oe))}setFieldHidden(Fe,ye,we,Ee){this.updateFieldHiddenStateCore(Fe,ye,we,(Oe,he)=>Oe.setFieldHidden(he,Ee))}remove(Fe,ye,we){c.Y.assertValue(Fe,"options"),c.Y.assertValue(ye,"target");var Ee=ye.singleVisual;return!(!Ee||!this.tryRemove(Ee.query,Ee.columnProperties,Fe,we)||(At.clearConversionSourceContext(Ee),0))}removeAllParametersAndProjectionsFromRole(Fe,ye,we,Ee,Oe){var he=ye&&ye.config;if(he){var xe=he&&he.singleVisual&&he.singleVisual.query;if(xe){var Se=xe.getQueryFieldParametersByRole(Fe);if(Se&&Se.length>0){var Ae={},Ie=Ae[Fe]=[];for(var Je of Se)Ie.push({parameter:Je,result:[]});this.resolveParameters(we,ye,Ae,Ee,Oe,void 0);for(var pe=Se.length-1;pe>=0;pe--)this.remove({count:void 0,projOptions:{parameter:Se[pe]},role:Fe,shouldRemoveParameter:!0},he,we)}}}}move(Fe,ye){c.Y.assertValue(Fe,"options"),c.Y.assertValue(ye,"target"),c.Y.assert(()=>_.isNumber(Fe.sourceIndex)&&_.isNumber(Fe.targetIndex)&&Fe.targetIndex>=0&&Fe.sourceIndex>=0,"Invalid replace index"),c.Y.assert(()=>_.isNumber(Fe.sourceCount)&&Fe.sourceCount>0,"Invalid number of items to replace");var we=ye.singleVisual;if(!we)return!1;if(Fe.sourceRole===Fe.targetRole&&!Fe.replacementExpressions)return!!we.query.moveProjection(Fe.targetRole,Fe.sourceIndex,Fe.targetIndex,Fe.sourceCount)&&(At.clearConversionSourceContext(we),!0);var Ee=we.query?.getParameterByFieldIndex(Fe.sourceIndex,Fe.sourceRole),Oe=[];if(!Ee){var he=we.query.tryGetFieldExprs(Fe.sourceRole);if(_.isEmpty(he)||he.length<Fe.sourceCount)return!1;for(var xe=0;xe<Fe.sourceCount;xe++)if(Oe[xe]=he[Fe.sourceIndex+xe],!Oe[xe])return!1}return this.moveProjectionCore(ye,Oe,Fe)}convert(Fe){c.Y.assertValue(Fe,"options");var ye=Fe.source;if(!ye)return!1;var we=ye.conversionSourceContext;we||(we=ye.conversionSourceContext=this.createConversionSourceContext(ye.query,ye.visualType,ye.syncGroup));var Ee=this.visualPluginService.capabilities(we.visualType),Oe=this.visualPluginService.capabilities(Fe.target);if(!Ee||!Oe||_.isEmpty(Oe.dataRoles))return!1;if((0,s.aI)(Ee,Oe)){var he=this.visualPluginService.capabilities(ye.visualType);return this.convertRoleWildCardProperties(he,Oe,ye.objects),ye.query=we.query,ye.visualType=Fe.target,ye.visualType===Fe.target&&Oe.supportsSynchronizingFilterState&&(ye.syncGroup=we.syncGroup),!0}if(Fe.skipRoleMapping)return ye.query=we.query,ye.visualType=Fe.target,!0;var Se=Fe.schema,Ae=this.convertDrillableRoles(we.query,Ee,Oe,Fe.target,Se),Ie=Ae.query,Je=(0,U.xY)(Oe,Ie.isDrillDisabled),pe=this.getUniqueQueryFields(we.query,Fe.target);pe=_.differenceWith(pe,Ae.convertedFields,j.r.isEqualQueryFields);var Pe=(0,q.Z)().create(Oe,this.geoTaggingService,Ie.isDrillDisabled),Me=(0,q.Z)().create(Ee,this.geoTaggingService,we.query.isDrillDisabled);Pe.orderByRolePreferences(Se,pe);var Ge=(0,m.o8)(Ie.projections),De=this.getExpressionRoleMappings(ye.query,pe),lt=this.getConversionExprRoleList(De,Me,Pe,Se,Fe.target,ye,Ge,Je);if(_.isEmpty(lt)&&_.isEmpty(Ie.projections))return!1;for(var ct of lt)ct.isFieldParameter?Ie.addParameter(ct.expr,ct.roleName,void 0,ct.fieldParameterSortDirection):Ie.add(ct.expr,ct.roleName,{nativeReferenceName:ct.nativeReferenceName,isHidden:ct.isHidden}),this.ensureDependentObjectDefn(Pe.objectDescs,ct.roleName,ye);var Vt,It,vt=(0,U.xY)(this.visualPluginService.capabilities(ye.visualType),!!ye.query?.isDrillDisabled);for(var Ot of(_.isEmpty(vt)?(Vt=(0,U.xY)(Ee,we.query.isDrillDisabled),It=we.query):(Vt=vt,It=ye.query),Je))if(Ie.projections[Ot])for(var de of(Ie.ensureActiveItems(Ot),Vt))It.projections[de]&&(Ie.projections[Ot].activeProjectionRefs=It.projections[de].activeProjectionRefs);return this.updateTargetShowAllInfo(we,Ie,Pe),Ie.removeUnusedOrderBy(),Ie.resetExpansionStates(),this.convertRoleWildCardProperties(Ee,Oe,ye.objects),this.upgradePivotTableProperties(ye.objects,ye.visualType,Fe.target),ye.query=Ie,ye.visualType=Fe.target,this.visualAuthoringCustomizeOperations.customizeOptions(ye,Se),!0}resetToDefaultActiveProjections(Fe){var ye=Fe.query;if(null!=ye){var we=this.visualPluginService.capabilities(Fe.visualType),Ee=(0,U.xY)(we,ye.isDrillDisabled);if(!_.isEmpty(Ee))for(var Oe of Ee)ye.ensureActiveItems(Oe,!0)}}convertRoleWildCardProperties(Fe,ye,we){if(c.Y.assertValue(Fe,"VisualAuthoringCore.convertRoleWildCardProperties: sourceVisualCapabilities"),c.Y.assertValue(ye,"VisualAuthoringCore.convertRoleWildCardProperties: targetVisualCapabilities"),!_.isEmpty(we)){var Ee=_.chain(Fe.dataRoles).filter(Pe=>Pe.kind!==l.Ts.Measure).map(Pe=>Pe.name).value(),Oe=_.chain(ye.dataRoles).filter(Pe=>Pe.kind!==l.Ts.Measure).map(Pe=>Pe.name).value();if(!_.isEmpty(Ee)&&!_.isEmpty(Oe))for(var he in we){var xe=we[he];if(!_.isEmpty(xe))for(var Se of xe){var Ae=Se.selector;if(Ae&&!_.isEmpty(Ae.data))for(var Ie=0,Je=Ae.data.length;Ie<Je;Ie++){var pe=Ae.data[Ie];(0,g.jG)(pe)&&_.isEqual(_.sortBy(pe.roles),_.sortBy(Ee))&&(Ae.data[Ie]=(0,y.WV)(Oe))}}}}}upgradePivotTableProperties(Fe,ye,we){("matrix"===ye||"table"===ye)&&("pivotTable"===we||"tableEx"===we)&&((0,D.F4)(Fe,"general",void 0,"textSize","grid"),(0,D.F4)(Fe,"general",void 0,"autoSizeColumnWidth","columnHeaders")),"matrix"===ye&&"pivotTable"===we&&((0,D.F4)(Fe,"general",void 0,"columnSubtotals","subTotals"),(0,D.F4)(Fe,"general",void 0,"rowSubtotals","subTotals")),"table"===ye&&"tableEx"===we&&(0,D.F4)(Fe,"general",void 0,"totals","total")}setAggregate(Fe,ye){if(!ye.singleVisual.query.setAggregate(Fe.role,Fe.index,Fe.newAggregate))return!1;var we=this.generateNativeReferenceNameForOperation(Fe,ye);return this.setNativeReferenceNameByRoleAndFieldIndex(ye.singleVisual.query,Fe.index,Fe.role,we,Fe),At.clearConversionSourceContext(ye.singleVisual),!0}removeAggregate(Fe,ye){if(!ye.singleVisual.query.removeAggregate(Fe.role,Fe.index))return!1;var we=this.generateNativeReferenceNameForOperation(Fe,ye);return this.setNativeReferenceNameByRoleAndFieldIndex(ye.singleVisual.query,Fe.index,Fe.role,we,Fe),At.clearConversionSourceContext(ye.singleVisual),!0}setPercentOfGrandTotal(Fe,ye){if(!ye.singleVisual.query.setPercentOfGrandTotal(Fe.role,Fe.index))return!1;var we=this.generateNativeReferenceNameForOperation(Fe,ye);return this.setNativeReferenceNameByRoleAndFieldIndex(ye.singleVisual.query,Fe.index,Fe.role,we,Fe),At.clearConversionSourceContext(ye.singleVisual),!0}removePercentOfGrandTotal(Fe,ye){if(!ye.singleVisual.query.removePercentOfGrandTotal(Fe.role,Fe.index))return!1;var we=this.generateNativeReferenceNameForOperation(Fe,ye);return this.setNativeReferenceNameByRoleAndFieldIndex(ye.singleVisual.query,Fe.index,Fe.role,we,Fe),At.clearConversionSourceContext(ye.singleVisual),!0}setPercentOfRoleTotal(Fe,ye){if(!ye.singleVisual.query.setPercentOfRoleTotal(Fe.roleRefs,Fe.role,Fe.index))return!1;var we=this.generateNativeReferenceNameForOperation(Fe,ye);return this.setNativeReferenceNameByRoleAndFieldIndex(ye.singleVisual.query,Fe.index,Fe.role,we,Fe),At.clearConversionSourceContext(ye.singleVisual),!0}removePercentOfRoleTotal(Fe,ye){if(!ye.singleVisual.query.removePercentOfRoleTotal(Fe.role,Fe.index))return!1;var we=this.generateNativeReferenceNameForOperation(Fe,ye);return this.setNativeReferenceNameByRoleAndFieldIndex(ye.singleVisual.query,Fe.index,Fe.role,we,Fe),At.clearConversionSourceContext(ye.singleVisual),!0}updateVisualCalculation(Fe,ye){var{visualContainer:we,fieldIndex:Ee,role:Oe,name:he,expression:xe,dataType:Se,shouldUnhide:Ae}=Fe,Ie=we.config.singleVisual,Je=Ie.query;if(!Je||!Je.updateVisualCalculation(Ee,Oe,he,xe,Se))return!1;if(Ae){var pe=Je.getQueryRef(Oe,{fieldIndex:Ee});Je.resetHiddenState(pe),this.ensureCardinalityByHidingDifferentProjection(Ie,Oe,Ee)}return this.setNativeReferenceNameByRoleAndFieldIndex(Je,Ee,Oe,he,ye),At.clearConversionSourceContext(Ie),!0}setNativeReferenceNameByRoleAndFieldIndex(Fe,ye,we,Ee,Oe){var he=Fe.getQueryRef(we,{fieldIndex:ye});if(null!=he){var xe=Fe.defn.select(),Se=(0,n.i4)(xe,he);this.setNativeReferenceNameAt(Fe,Se,Ee,Oe)}}setNativeReferenceNameAt(Fe,ye,we,Ee){var Oe=Fe.defn.getNativeReferenceNameAt(ye);if(Oe!==we&&(Fe.defn.setNativeReferenceNameAt(ye,we),!(0,p.M)(Oe)&&null!=Ee?.visualCalcDaxParserServiceContext?.service)){var he=new X(Oe,we,Ee.visualCalcDaxParserServiceContext);new k.K(he).rewriteQuery(Fe)}}toggleShowAll(Fe,ye){ye.singleVisual.query.toggleShowAll(Fe),At.clearConversionSourceContext(ye.singleVisual)}changeDrillState(Fe,ye,we){ye.query.changeDrillStateValue(Fe,!we),At.clearConversionSourceContext(ye)}changeActiveProjection(Fe,ye,we){var Ee=ye.query.projections[Fe];if(Ee){var xe,Oe=_.uniqBy(Ee.all(),Ae=>Ae.queryRef),he=_.uniq(Ee.activeProjectionRefs);_.isEmpty(he)||(xe=he.length);var Se=xe&&_.findIndex(Oe,Ae=>Ae.queryRef===he[xe-1]);if(!(null==Se||Se<0)){if(we===G.Pq.Up){if(!(Se>=1))return;he.pop(),(1===xe||he[xe-2]!==Oe[Se-1].queryRef)&&he.push(Oe[Se-1].queryRef)}else{if(we===G.Pq.DownWithoutCurrentGroup&&(he.length=0),c.Y.assert(()=>Oe.length>=Se+1,"visualAuthoringCore.changeActiveProjection -\n                    If we are drilling down there must be at least one more projection other than the lastActiveProjection"),!(Oe.length>Se+1))return;he.push(Oe[Se+1].queryRef)}return At.clearConversionSourceContext(ye),Ee.activeProjectionRefs=he,he}}}addDrillFilter(Fe,ye,we,Ee,Oe){this.addDrill(Fe,ye,we,Ee,Oe,K.GS.Drill,!0)}addDrillToDetailsFilter(Fe,ye,we,Ee,Oe){_.remove(ye,he=>!!he.expression&&(0,Q.t)(he.expression)),this.addDrill(Fe,ye,we,Ee,Oe,K.GS.Auto,!1)}addDrill(Fe,ye,we,Ee,Oe,he,xe){if(ye&&we&&!_.isEmpty(Ee)&&Oe){var Se=function(){var Ie=we.defn.select().withName(Ae).expr,Je=Oe.expr,pe=(0,Y.w8)(Je);pe&&(Je=Je.arg);var Ge,Pe=(0,M.lj)(Je),Me=[],De=Ie.getKeyColumns(Fe);if(!_.isEmpty(Pe.values))for(var lt=function(Ze){var Ye=Pe.args[Ze];if(Ye&&-1!==w.B.indexOfExpr(De,Ye)){Me.push(Ye);var qe=_.map(Pe.values,ut=>[ut[Ze]]);Ge=_.isEmpty(Ge)?qe:_.chain(Ge).zip(qe).map(ut=>_.flatten(ut)).value()}},ct=0;ct<Pe.args.length;ct++)lt(ct);if(!_.isEmpty(Me)&&!_.isEmpty(Ge)){var vt=(0,T.eu)(Me,Ge||[]);pe&&(vt=(0,T.AU)(vt));var Ot,Vt=(0,f.dA)([{kind:u.y.ScopeIdentity,expr:vt,key:Oe.key}]),It=_.filter(ye,Ze=>(0,H.aI)(Ie,Ze.expression));xe&&(Ot=_.find(It,Ze=>Ze.howCreated===he)),Ot?(c.Y.assert(()=>!Ot.filter||Ot.howCreated===he&&xe,"The filter to overwrite should be empty or the specified kind we want to overwrite"),Ot.filter=Vt,Ot.howCreated=he,Ot.precedence=K.NH.Drill):ye.push({name:null,expression:Ie,filter:Vt,type:O.RJ.Categorical,howCreated:he,precedence:K.NH.Drill})}};for(var Ae of Ee)Se()}}removeDrillFilter(Fe,ye){return this.removeDrillFilterCore(Fe,ye)}removeAllDrillFilters(Fe){return this.removeDrillFilterCore(Fe)}removeDrillFilterCore(Fe,ye){if(!Fe)return!1;this.ensureFiltersArrayIsValid(Fe);for(var we=[],Ee=0,Oe=Fe.length;Ee<Oe;Ee++){var he=Fe[Ee];if(he&&he.howCreated===K.GS.Drill)if(void 0===ye)we.push(Ee);else if((0,H.aI)(ye,he.expression)){we.push(Ee);break}}return _.forEachRight(we,xe=>Fe.splice(xe,1)),!!we.length}setMatchingFilterToAuto(Fe,ye){if(ye.filters){var we=_.find(ye.filters,Ee=>null!=Ee&&(0,H.aI)(Ee.expression,Fe));we&&(we.howCreated=K.GS.Auto)}}removeAutoFilterFromContract(Fe,ye,we){if(Fe){var Ee=Fe.filters;if(Ee){var Oe=Fe.config.singleVisual.query,he=we??this.getRemoveOptionsQueryRefs(ye,Oe);_.forEach(he,xe=>{var Se=Oe.defn.select().withName(xe),Ae=Se?Se.expr:void 0,Ie=(0,n._u)(Ee,pe=>(c.Y.assertValue(pe,`removeAutoFilterFromContract: visualContainer with name ${Fe.name} contains blank value in .filters`),null!=pe&&pe.howCreated===K.GS.Auto&&(0,H.aI)(pe.expression,Ae)));if(Ie.length>0){c.Y.assertValue(1===Ie.length,"More than one auto filter found");var Je=F.M.isFilterModified(Ie[0]);Je?Je&&(Ie[0].howCreated=K.GS.User):_.remove(Fe.filters,Ie[0])}}),this.ensureFiltersArrayIsValid(Ee)}}}ensureFiltersArrayIsValid(Fe){if(null!=Fe)for(var ye=Fe.length-1;ye>=0;ye--)null==Fe[ye]&&(c.Y.assertFail("filters array contains null element"),Fe.splice(ye,1))}getRemoveOptionsQueryRefs(Fe,ye){var we=[],Ee=Fe,Oe=Ee.projOptions;if(Ee.role&&null!==Oe.fieldIndex){var{fieldIndex:he,parameter:xe}=Oe;if(xe)for(var Se=xe.length??0,Ae=0;Ae<Se;Ae++){var Ie=ye.getQueryRef(Ee.role,{parameter:xe,indexInParameter:Ae});we.push(Ie)}else for(var Je=Ee.count??1,pe=0;pe<Je;pe++){var Pe=ye.getQueryRef(Ee.role,{fieldIndex:he+pe});Pe&&we.push(Pe)}}else if(Fe.expr){var Ge=(0,n.eC)(Fe.expr),De=ye.defn.select();_.forEach(Ge,lt=>{var ct=_.filter(De,vt=>{var Vt=vt.expr;return(0,Y.b9)(Vt)&&(Vt=Vt.arg),(0,H.aI)(Vt,lt)});_.forEach(ct,vt=>{vt&&vt.name&&we.push(vt.name)})})}return we}isEmptyQueryVisual(Fe){var ye=Fe.config.singleVisual;if(ye&&this.visualPluginOps.isQueryVisual(ye.visualType)&&ye.query&&0===ye.query.defn.select().length&&_.isEmpty(ye.query.getQueryFieldParameters())){var we=this.visualPluginService.capabilities(ye.visualType);if(we){var Ee=(0,S.wc)(we.dataViewMappings,ye.objects);return!(Ee&&!(0,p.M)(Ee.source))}return!1}return!1}setDefaultSort(Fe,ye,we,Ee){if(Fe.config&&Fe.config.singleVisual){var Oe=Fe.config.singleVisual,he=Ee.capabilities(Oe.visualType);if(we.shouldApplyDefaultSort(Oe,he)){var xe=Oe.query;if(xe){var Se=xe.defn,Ae=xe.projections,Ie=Se.select(),Je=[],pe=_.filter(he.dataRoles,ut=>!(_.has(ut,"joinPredicate")||ut.joinPredicate===l.gD.None));if(_.some(pe,ut=>{var et=(0,m.Lw)(Ae,ut.name);if(et){var le=_.map(et.all(),me=>Ie.withName(me.queryRef));return _.some(le,me=>me&&me.expr&&!_.isEmpty(me.expr.getOrderByColumns(ye)))}}))return void(Oe.hasDefaultSort&&(Oe.query=new j.r(Se.orderBy([]),xe.projections,xe.expansionStates,xe.isDrillDisabled),Oe.hasDefaultSort=!1));var Me=!1;for(var Ge of pe){var De=(0,m.Lw)(Ae,Ge.name);if(De){var lt=_.map(De.all(),ut=>ut.queryRef);if(lt){var ct=!1,vt=[],Vt=this.shouldDefaultExpandSort(Ge.name,he.expandAndSort,lt.length),It={direction:a.U.Ascending,expr:null};for(var Ot of lt){var de=Ie.withName(Ot),Ze=de&&de.expr;if(Ze&&w.B.isExprValidForSorting(Ze)){var Ye=Ze.getMetadata(ye);if(Ye){var qe=Ye.kind===v.L.Measure&&Ye.type.numeric;if(Vt&&(Ye.type.text||Ye.type.temporal||Ye.type.numeric&&_.first(lt)!==Ot?vt.push({direction:a.U.Ascending,expr:Ze}):Vt=!1),null==It.expr&&(Ze&&qe&&(It.direction=a.U.Descending),It.expr=Ze),Ye.type.temporal&&(ct=Me=!0,!Vt)||qe&&(ct=!0,!Vt))break}}}if(Vt&&_.isEmpty(Je)){c.Y.assertValue(_.isEmpty(vt),"hierarchical sort has no expr (setDefaultSort)"),Je=vt;break}if(ct&&(_.isEmpty(Je)||Me)&&(c.Y.assertValue(It.expr,"first projection sort has no expr (setDefaultSort)"),Je=[It]),Me||Vt)break}}}_.isEmpty(Je)||(Oe.hasDefaultSort=!0,Oe.query=new j.r(Se.orderBy(Je),xe.projections,xe.expansionStates,xe.isDrillDisabled))}}}}setDefaultExpandLevel(Fe,ye,we,Ee,Oe,he){var xe=ye.capabilities(Fe.config.singleVisual.visualType);if(we&&xe.expandAndSort&&_.includes(xe.expandAndSort,we)&&Fe.config&&Fe.config.singleVisual){var Se=Fe.config.singleVisual.query;Se&&xe.expandAndSort.forEach(Ae=>{var Ie=(0,m.Lw)(Se.projections,Ae);if(Ie){var Je=Ie.getQueryRefs();if(this.shouldDefaultExpandSort(Ae,xe.expandAndSort,Je.length)){var pe=!1;if(Oe)if(he===G.S5.Move){var Pe=Je.indexOf(Oe[Ae].projectionName);if(Pe<0)return;Pe===Je.length-2&&Je.length-1===Oe[Ae].totalNumberOfProjections?pe=!0:Pe<Je.length-1&&Je.splice(Pe+1),pe=!0}else he===G.S5.Add&&(pe=!!_.isEmpty(Oe)||Oe[Ae].currentPosition===Oe[Ae].totalNumberOfProjections);pe&&(Ie.activeProjectionRefs=_.map(Je,Me=>Me),this.setDrillMode(Fe,K.pI.DrillToDetails,Ee))}}})}}ensureValidDrillState(Fe,ye,we){for(var Ee of ye){this.removeDrillFilter(Fe.filters,Ee.expr);var Oe=Fe.config.singleVisual.query,he=Oe.projections[Ee.roleName];if(he){var xe=_.last(he.activeProjectionRefs);if(null!=xe){var Se=Oe.defn.select().withName(xe);Se&&this.removeDrillFilter(Fe.filters,Se.expr)}}}this.ensureValidDrillMode(Fe,we)}ensureValidDrillMode(Fe,ye){var we=Fe.drillMode;(we===K.pI.DrillDown&&ye.getSupportedDrillDirections(Fe)===G.TC.None||we===K.pI.DrillToDetails&&!ye.canDrillToDetails(Fe))&&this.setDrillMode(Fe,K.pI.None,ye)}resolveParameters(Fe,ye,we,Ee,Oe,he){var xe=this,Se={queryChange:!1,aliasChange:!1,outputFilterChange:!1,totalAddAttemptCount:0,totalAddSuccessCount:0,totalRemoveAttemptCount:0,totalRemoveSuccessCount:0,totalSuccessColumnCount:0,totalSuccessDateHierarchyCount:0,totalSuccessMeasureCount:0},Ae=ye&&ye.config&&ye.config.singleVisual,Ie=Ae&&Ae.query;if(!Ie)return Se;var Je=this.visualPluginService.capabilities(Ae.visualType),pe=(0,q.Z)().create(Je,this.geoTaggingService,Ie.isDrillDisabled),Pe=(0,U.xY)(Je,Ie.isDrillDisabled),Me=pe.getNumberRangesForRoles(Ie),Ge=[],De=function(vt){var Vt=Ie.projections[vt],It=Vt.getFieldParameters(),Ot=_.some(Pe,qe=>qe===vt)?void 0:Me?.[vt],de=function(){var{parameter:qe,result:ut}=Ye,et=_.find(It,ar=>ar.index===qe.index);if(!et||!(0,H.aI)(qe.expr,et.expr))return 0;var le=Vt.getParameterProjections(et),me=_.map(le,ar=>Ie.defn.select().withName(ar.queryRef).expr),Be=_.map(ut,ar=>ar.expr);if(Ot&&Ot.max&&Be.length>Ot.max){var Ke=Vt.all();Be=Be.slice(0,Ot.max-(Ke.length-le.length))}for(var re=(0,n.TR)(Be,me,H.aI),fe=re.length-1,ae=[],tt=[],ot=[],rt=!1,Re=me.length-1;Re>=0;Re--)fe>=0&&(0,H.aI)(me[Re],re[fe])?fe--:(tt.push({role:vt,projOptions:{parameter:et,indexInParameter:Re,skipUpdateActiveProjections:xe.featureSwitchService.featureSwitches.fieldParameterExpandCollapse}}),ae.push(le[Re].queryRef),ot.push({expr:me[Re],roleName:vt}));var Ce=_.clone(Vt.activeProjectionRefs),ze=_.last(Ce),it=Vt.getQueryRefs().indexOf(ze);if(tt.length>0){var{removeSuccessCount:yt,removeAttemptCount:Nt,outputFilterChange:Lt}=xe.removeWithValidation(Ie,ae,tt,ye,Fe,ot,Ee,Oe,void 0,!0);rt=yt>0,Se.totalRemoveSuccessCount+=yt,Se.totalRemoveAttemptCount+=Nt,Se.outputFilterChange||(Se.outputFilterChange=Lt)}fe=0;for(var zt=0,Yt=0,Qt=0;Qt<Be.length;Qt++){var sr=ut[Qt].alias,je={parameter:et,indexInParameter:Qt-(zt-Yt),skipUpdateActiveProjections:xe.featureSwitchService.featureSwitches.fieldParameterExpandCollapse};if(re.length>0&&(0,H.aI)(Be[Qt],re[fe]))fe++,he&&(Se.aliasChange=he(Fe,ye,je,vt,sr)||Se.aliasChange);else{var Tt=Be[Qt];zt++,!0===xe.add({expr:Tt,schema:Fe,targetRole:vt,projOptions:je},ye.config,!1)&&(Yt++,(0,Y.R3)(Tt)?Se.totalSuccessColumnCount++:(0,Y.tx)(Tt)?Se.totalSuccessMeasureCount++:(0,Y.Ah)(Tt)&&Se.totalSuccessDateHierarchyCount++,Ge.push(Tt),he&&(Se.aliasChange=he(Fe,ye,je,vt,sr)||Se.aliasChange))}}xe.tryAdjustSortOrderForParameter(Ie,Vt,et),xe.featureSwitchService.featureSwitches.fieldParameterExpandCollapse&&(rt||Yt>0)&&((0,U.Q)(Vt,Ce,it),Ie.syncExpansionStateWithActiveProjections(vt)),Se.totalAddAttemptCount+=zt};for(var Ye of we[vt])de()};for(var lt in we)De(lt);if(Se.totalAddSuccessCount=Ge.length,Se.totalAddSuccessCount>0){var ct=this.runAddFieldValidation(ye,Fe,Ge,Ee,Oe,void 0,!0);Se.outputFilterChange||(Se.outputFilterChange=ct)}return(Se.totalAddSuccessCount>0||Se.totalRemoveSuccessCount>0)&&(this.setDefaultSort(ye,Fe,Oe,this.visualPluginService),(0,A.zK)(ye),Se.queryChange=!0),Se}tryAdjustSortOrderForParameter(Fe,ye,we){c.Y.assertValue(Fe,"visualQuery");var Ee=we.sortDirection;if(this.featureSwitchService.featureSwitches.fieldParameterSort&&null!=Ee){var Oe=ye.getParameterProjections(we),he=_.map(Oe,Je=>{c.Y.assertValue(Je.queryRef,"projection.queryRef");var pe=Fe.defn.select().withName(Je.queryRef);return c.Y.assertValue(pe,"namedExpr"),pe?.expr}),xe=_.filter(Fe.defn.orderBy(),Je=>_.some(he,pe=>(0,H.aI)(Je.expr,pe)));if(_.isEmpty(xe)){var Ae=_.first(he);if(null!=Ae){var Ie=Fe.defn.orderBy();Ie.push({expr:Ae,direction:Ee}),Fe.orderBy(Ie)}}else _.every(xe,Je=>Je.direction===xe[0].direction)&&(we.sortDirection=xe[0].direction)}}runAddFieldValidation(Fe,ye,we,Ee,Oe,he,xe,Se,Ae,Ie,Je){this.ensureValidDrillMode(Fe,Ee);var pe=!1;if(!xe||this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer){var Me=(he||this.updateFilterState)(ye,Fe,!1,!0,!0,void 0,Ie,Je);pe=Me?.clearOrDefault||Me?.updateAll}if(xe||(this.setDefaultExpandLevel(Fe,this.visualPluginService,Se,Ee,Ae,G.S5.Add),this.setDefaultSort(Fe,ye,Oe,this.visualPluginService),(0,A.zK)(Fe)),_.isArray(we)){var Ge=we;for(var De of Ge)this.setMatchingFilterToAuto(De,Fe)}else this.setMatchingFilterToAuto(we,Fe);return pe}removeWithValidation(Fe,ye,we,Ee,Oe,he,xe,Se,Ae,Ie,Je){var pe=0,Pe=[],Me=!1;this.removeAutoFilterFromContract(Ee,void 0,ye);for(var Ge=0;Ge<we.length;Ge++){var De=this.remove(we[Ge],Ee.config,Oe);pe+=De?1:0,De||Pe.push(Ge)}if(pe>0){if(Pe.length>0){ye=_.clone(ye);for(var lt=Pe.length-1;lt>=0;lt--)ye.splice(Pe[lt],1)}if(!Ie){var ct=this.captureCurrentActiveProjectionsByRole(Ee);this.setDefaultExpandLevel(Ee,this.visualPluginService,_.first(we)?.role,xe,ct,G.S5.Remove)}if(this.ensureValidDrillState(Ee,he,xe),this.isEmptyQueryVisual(Ee)?Fe=Ee.config.singleVisual.query=void 0:Ie||(this.setDefaultSort(Ee,Oe,Se,this.visualPluginService),(0,A.zK)(Ee)),!Ie||this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer){var Vt=(Ae||this.updateFilterState)(Oe,Ee,!0,!0,!0,null,void 0,Je);Me=Vt?.clearOrDefault||Vt?.updateAll}Ie||this.clearUnusedObjectDefinitions(Ee,Fe,ye)}return{removeAttemptCount:we.length,removeSuccessCount:pe,outputFilterChange:Me}}clearUnusedObjectDefinitions(Fe,ye,we){_.forEach(we,Ee=>{if(!ye||!ye.isUsed(Ee)){var Oe=Fe.config.singleVisual.objects;_.forEach(Oe,(he,xe)=>{var Se=[];_.forEach(he,Ae=>{Ae.selector&&Ae.selector.metadata===Ee&&Se.push(Ae.selector)}),_.forEach(Se,Ae=>{(0,D.gr)(Oe,xe,Ae)})})}})}ensureDefaultFilterApplied(Fe,ye,we){var Ee=this.visualPluginService.capabilities(ye.visualType),Oe=Ee?Ee.objects:null,he=(0,C.eq)(Oe),xe=ye.query&&ye.query.getUniqueQueryRefs();if(!he||_.isEmpty(xe))return this.clearDefaultFilterOutput(ye,Oe);var Se=ye.query.defn.select(),Ae=_.map(xe,lt=>Se.withName(lt).expr),Ie=[],Je=[],pe=!0;for(var Pe of Ae)w.B.getDefaultValue(Pe,Fe)?pe?Ie.push(...this.getExprKeyColumns(Pe,Fe)):Je.push(...this.getExprKeyColumns(Pe,Fe)):pe=!1;if(_.isEmpty(Ie)&&_.isEmpty(Je)||we)return this.clearDefaultFilterOutput(ye,Oe);ye.objects||(ye.objects={});var Ge=(0,C.x_)(Oe),De=P.b0.getDefaultAnyValueFilter(Ie,Je);return(0,D.KY)(ye.objects,Ge,null,De),!0}getExprKeyColumns(Fe,ye){var we=(0,V.F)(Fe);return we.column||we.groupingColumn||we.hierarchyLevel?Fe.getKeyColumns(ye):[Fe]}clearDefaultFilterOutput(Fe,ye){if(!Fe.objects)return!1;var we=(0,C.x_)(ye);if(!we)return!1;var Ee=(0,D._W)(Fe.objects,we,null);return!(!Ee||!P.b0.isDefaultFilter(Ee)||((0,D.BJ)(Fe.objects,we.objectName,null,we.propertyName),0))}updateFilterOutput(Fe,ye,we){if(!Fe.objects)return ue.none;var Ee=(0,C.x_)(ye);if(!Ee)return ue.none;var Oe=(0,D._W)(Fe.objects,Ee,null);if(Oe){if(!this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer||!Fe.query)return(0,D.BJ)(Fe.objects,Ee.objectName,null,Ee.propertyName),ue.clearFilter;var he=this.updateFilterOutputForVisual(Fe.query,Oe,we);return P.b0.isSameFilter(he,Oe)?ue.none:he?((0,D.KY)(Fe.objects,Ee,null,he),ue.updateFilter):((0,D.BJ)(Fe.objects,Ee.objectName,null,Ee.propertyName),ue.clearFilter)}return ue.none}updateFilterOutputForVisual(Fe,ye,we){var Ee=Fe.getUniqueQueryRefs();if(!_.isEmpty(Ee)){var Oe=new i.D,he=Fe.defn.select(),xe=_.map(Ee,Me=>he.withName(Me).expr.accept(Oe,we)).reduce((Me,Ge)=>Me.concat(Ge),[]);if(!_.isEmpty(xe)){var Se,Ae=ye.where(),Ie=[];for(var Je of Ae){var pe=w.B.syncSQExprWithFilterIdenities(xe,Je.condition);pe&&Ie.push({target:Je.target,condition:pe,annotations:Je.annotations})}return Ie.length>0&&(Se=new P.b0(ye.from(),Ie)),Se}}}moveProjectionCore(Fe,ye,we){var Ee=Fe.singleVisual;if(!Ee||!Ee.query)return!1;var{sourceRole:Oe,targetRole:he,sourceIndex:xe,targetIndex:Se,replacementExpressions:Ae,schema:Ie,allowPartialReplace:Je}=we,pe=(0,x.o8)(Ee),Pe=pe.query.getParameterByFieldIndex(xe,Oe);c.Y.assert(()=>!!Pe||ye.length>0,"No items specified to replace");var Me=pe.query.defn.orderBy(),Ge=ye;_.isEmpty(Ae)||(Ge=_.map(Ae,(Xe,re)=>{var fe=Ge[re];return fe?{expr:Xe,isFieldParameter:fe.isFieldParameter,isHidden:fe.isHidden,nativeReferenceName:fe.nativeReferenceName}:{expr:Xe}}));var De_getColumnPropertiesForExprs=function(ye,we){var Ee=[];if(we.columnProperties)for(var Oe of ye){var he=we.query.defn.selectNameOf(Oe),xe=we.columnProperties[he];xe&&Ee.push({originalExpr:Oe,columnProperty:xe})}return Ee},De_applyColumnPropertiesByExpr=function(ye,we,Ee,Oe){var he=_.find(Oe,Se=>Se.originalExpr===ye);if(he){var xe=Ee.query.defn.selectNameOf(we);Ee.columnProperties[xe]||(Ee.columnProperties[xe]=he.columnProperty)}},lt=De_getColumnPropertiesForExprs(_.map(Ge,Xe=>Xe.expr),pe);if(!this.tryRemoveProjections(pe.query,pe.columnProperties,{role:Oe,projOptions:{fieldIndex:xe,parameter:Pe},count:ye.length,shouldRemoveParameter:!0}))return!1;Me.length>0&&pe.query.orderBy(Me);var vt=this.visualPluginService.capabilities(Ee.visualType),Vt=(0,q.Z)().create(vt,this.geoTaggingService,!!Ee.query?.isDrillDisabled);if(!Vt)return!1;var It=Vt.roles.withName(he);if(!It)return!1;var Ot=Oe===he&&Se===xe,de=!1;if(Ot){if(1===Ge.length&&w.B.shouldUseAsFieldParameter(this.featureSwitchService.featureSwitches.fieldParametersAuthoring,Ie,Ge[0].expr,this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer||!F.M.supportsFilterOutput(vt),this.visualPluginOps.isAnalysisVisual(pe.visualType))&&!0!==(de=this.tryAdd(Vt,pe,!0,{expr:Ge[0].expr,schema:Ie,targetRole:he,projOptions:{fieldIndex:Se}})))return!1}else if(Pe&&!0!==(de=this.tryAdd(Vt,pe,!0,{expr:Pe.expr,schema:Ie,targetRole:he,projOptions:{fieldIndex:Se,fieldParameterSortDirection:Pe.sortDirection},hideOnOverflow:we.hideOnOverflow})))return!1;if(!de)for(var ut=0;ut<Ge.length;ut++){var et=Ge[ut].expr,le=Ge[ut];if(le.expr=this.aggregateIfNecessary(le.expr,It,Ie),le.isHidden=le.isHidden&&(0,Q.t)(le.expr),!0!==this.tryAdd(Vt,pe,!1,{expr:le.expr,schema:Ie,targetRole:he,projOptions:{fieldIndex:Se+ut,nativeReferenceName:Ot?void 0:Ge[ut].nativeReferenceName,isHidden:le.isHidden},hideOnOverflow:we.hideOnOverflow})){if(ut>0&&Je)break;return!1}if(Ee.query.projections[Oe].showAll){var Ke=Ge[ut].expr.getMetadata(Ie);this.isShowAllRole(It.kind)&&Ke&&Ke.kind!==v.L.Measure&&(pe.query.projections[he].showAll=!0)}De_applyColumnPropertiesByExpr(et,le.expr,pe,lt)}return Fe.singleVisual=pe,this.visualAuthoringCustomizeOperations.customizeOptions(Fe.singleVisual,Ie),At.clearConversionSourceContext(Fe.singleVisual),!0}aggregateIfNecessary(Fe,ye,we){return null!=(0,b.CX)((0,V.F)(Fe,we))||ye.kind!==l.Ts.Measure||w.B.discourageAggregation(Fe,we)?ye.kind===l.Ts.Grouping?(0,N.s)(Fe,we):Fe:this.aggrOps.createExprWithAggregate(Fe,we,!0,ye.requiredTypes)}static clearConversionSourceContext(Fe){Fe.conversionSourceContext=null}getConversionExprRoleList(Fe,ye,we,Ee,Oe,he,xe,Se){var Ae=Je=>{var pe=[];for(var Pe of Fe)if(Pe.isFieldParameter)pe.push({expr:Pe.expr,isFieldParameter:Pe.isFieldParameter,roleName:Pe.roleName});else{var Ge=Je(Pe.expr);Ge&&pe.push({expr:Ge,nativeReferenceName:Pe.nativeReferenceName})}if(!_.isEmpty(pe))return this.getCompatRolesForExprs(pe,ye,we,Ee,Oe,he,!0,xe,Se)},Ie=this.getCompatRolesForExprs(Fe,ye,we,Ee,Oe,he,!1,xe,Se);return _.isEmpty(Ie)&&(Ie=Ae(Je=>(0,Q.t)(Je)?Je:this.aggrOps.createExprWithAggregate(Je,Ee,!0,null))),_.isEmpty(Ie)&&(Ie=Ae(Je=>(0,Q.t)(Je)?(0,N.s)(Je,Ee):Je)),Ie||[]}getCompatRolesForExprs(Fe,ye,we,Ee,Oe,he,xe,Se,Ae){var Ie=[],Je=Se||{},pe=new B.F(R.tc),Pe=_.some(Fe,Xe=>(0,Y.$M)(Xe.expr));for(var Me of Fe){var Ge=void 0,{expr:De,isFieldParameter:lt,roleName:ct,nativeReferenceName:vt,isHidden:Vt,fieldParameterSortDirection:It}=Me;ct&&(Ge=ye.roles.withName(ct));var Ot=this.getTargetRoleForConversion(Me,ye,we),de=Pe&&(0,Q.t)(De),Ze=we.findCompatibleRole({queryProjections:Je,schema:Ee,expr:De,targetRole:Ot,preferDrillableRoles:!1,roleToExprMap:pe,useStrict:!0,isFieldParameter:lt,sourceRole:lt&&Ge,isHidden:Vt,overflowIsWarning:de}),Ye=Ze&&Ze.role,qe=Ze&&Ze.error===E.gU.conditionRangeTooLarge;if(Ye&&(!qe||de)){var et=!!qe||Vt;Ye=this.ensureCorrectKeyInfluencersRole(Oe,Ye,void 0);var{name:le}=this.ensureCorrectSmallMultiplesRole(he,we.capabilities,Ye,ye.capabilities,ct);if(!lt){this.updateProjections(Je,le,Ae,et);var me=we.getNumberRangesForRoles(Je);if(this.shouldUseVariation(De,Ee,le,Ae,me[le],_.size(Fe))){var Ke=(0,I.mA)(De);return Ie.push({expr:Ke,roleName:le,nativeReferenceName:vt}),Ie}}if(Ie.push({expr:De,isFieldParameter:lt,roleName:le,nativeReferenceName:vt,isHidden:et,fieldParameterSortDirection:It}),xe)return Ie}}return Ie}shouldUseVariation(Fe,ye,we,Ee,Oe,he){if(!_.includes(Ee,we)&&Oe&&Oe.max<he){var xe=(0,V.F)(Fe,ye);if(xe&&xe.columnHierarchyLevelVariation)return!0}return!1}getExpressionRoleMappings(Fe,ye){return _.map(ye,we=>({expr:we.expr,roleName:Fe.getRoleNameForExpr(we.expr),isFieldParameter:we.isFieldParameter,nativeReferenceName:we.nativeReferenceName,isHidden:we.isHidden,fieldParameterSortDirection:we.fieldParameterSortDirection}))}getTargetRoleForConversion(Fe,ye,we){if(!we.hasPreferredTypes()){var{roleName:Ee}=Fe,{roles:Oe,capabilities:he}=ye,{roles:xe,capabilities:Se}=we,Ae=Oe.withName(Ee),Ie=xe.withName(Ee);if(Ae&&Ie&&_.isEqual(Ae.kind,Ie.kind)){var Je=this.getDataViewMappingConditions(he),pe=this.getDataViewMappingConditions(Se);if(!Je&&!pe||this.getDoesTargetRoleMatchSourceRole(Ee,Je,pe))return Ee}}}getDoesTargetRoleMatchSourceRole(Fe,ye,we){return ye&&we&&!ye.some((Ee,Oe)=>{var he=_.get(Ee,Fe,null),xe=_.get(we[Oe],Fe,null);return he&&xe&&!_.isEqual(he,xe)})}getDataViewMappingConditions(Fe){var ye=Fe.dataViewMappings&&Fe.dataViewMappings[0];return ye&&ye.conditions}updateProjections(Fe,ye,we,Ee){var Oe={queryRef:ye,hidden:Ee},he=(0,m.Lw)(Fe,ye);he||(Fe[ye]=he=new m.yl([])),he.addProjection(Oe),_.includes(we,ye)&&he.addActiveQueryReference(he.all()[0].queryRef)}createConversionSourceContext(Fe,ye,we){return{query:Fe,visualType:ye,syncGroup:we}}convertDrillableRoles(Fe,ye,we,Ee,Oe){var he;this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,U.yT)(we)&&(he=(0,U.yT)(ye)?Fe.isDrillDisabled:(0,U.p9)(we));var xe=new j.r(Fe.defn.select([]),{},[],he),Se=(0,U.xY)(ye,Fe.isDrillDisabled);return _.isEmpty(Se)?{query:xe,convertedFields:[]}:{query:xe,convertedFields:this.convertDrillableProjections(we,Ee,Fe,Oe,Se,xe)}}convertDrillableProjections(Fe,ye,we,Ee,Oe,he){var xe=(0,U.xY)(Fe,he.isDrillDisabled),Se=[];for(var Ae of Oe){var Ie=this.getQueryFieldsForRole(we,Ae,ye);if(Ie=this.convertDrillableFields(Ie,Ee,Fe,he),Se=_.unionWith(Se,Ie,j.r.isEqualQueryFields),_.isEmpty(xe))break}return he.ensureDrillableRoles(xe),Se}getQueryFieldsForRole(Fe,ye,we){return Fe.projections[ye]?this.getQueryFields(we,()=>Fe.tryGetFieldExprs(ye)):[]}getUniqueQueryFields(Fe,ye){return this.getQueryFields(ye,()=>Fe.getUniqueQueryFields())}getQueryFields(Fe,ye){var we=ye();if(this.visualPluginOps.isAnalysisVisual(Fe))for(var Ee of we)Ee.isFieldParameter=!1;return we}convertDrillableFields(Fe,ye,we,Ee){var Me,Oe=this,he=(0,q.Z)().create(we,this.geoTaggingService,Ee.isDrillDisabled),xe=he.getNumberRangesForRoles(Ee),Se=(0,U.xY)(we,Ee.isDrillDisabled),Ae=_.isEmpty(Se),Ie=new B.F(R.tc),Je=[],pe=[],Pe=function(){var lt=De.expr,ct=De.queryName,vt=De.nativeReferenceName,Vt=De.fieldParameterSortDirection,It=De.isHidden;if((0,Y.Ah)(lt)){var Ot=(0,I.mA)(De.expr);if(Ot&&_.find(pe,me=>(0,H.aI)(me,Ot)))return Je.push(De),0}var de=he.findCompatibleRole({queryProjections:Ee.projections,schema:ye,expr:lt,preferDrillableRoles:!0,roleToExprMap:Ie,useStrict:!0,isFieldParameter:De.isFieldParameter}),Ze=de&&de.role;if(Ze){var Ye=Ze.name,qe=xe[Ye],ut=-1;if(De.isFieldParameter)ut=Ee.addParameter(lt,Ze.name,void 0,Vt),Je.push(De);else{var et=Ee.projections[Ye];if(Ae&&et&&(Me=et.all().length,qe&&qe.max&&qe.max<=Me))return 0;if(Oe.shouldUseVariation(De.expr,ye,Ze.name,Se,qe,_.size(Fe))){var le=(0,I.mA)(De.expr);return pe.push(le),ut=Ee.add(le,Ye,{exprName:ct,nativeReferenceName:vt}),0}ut=Ee.add(lt,Ye,{exprName:ct,nativeReferenceName:vt,isHidden:It})}ut>-1&&Je.push(De)}};for(var De of Fe)Pe();return Je}tryRemove(Fe,ye,we,Ee){return void 0!==we.role?this.tryRemoveProjections(Fe,ye,we):!(void 0===we.expr)&&this.tryRemoveExpressions(Fe,we,Ee)}tryRemoveExpressions(Fe,ye,we){var Ee=!1,Oe=ye.fieldParameter;if(_.isArray(ye.expr))for(var he of ye.expr)Ee=Fe.removeExpr(he,!!ye.ignoreAggregates,we,Oe?.expr)||Ee;else Ee=Fe.removeExpr(ye.expr,!!ye.ignoreAggregates,we,Oe?.expr);return ye.shouldRemoveParameter&&Oe&&0===(Oe.length??0)&&(Ee=Fe.removeParameter(Oe)||Ee),Ee}tryRemoveProjections(Fe,ye,we){var Ee=we.role,Oe=we.projOptions.parameter,he=!1;if(Oe)he=this.removeParameterProjections(Fe,ye,Oe,Ee,we.shouldRemoveParameter,we.projOptions.indexInParameter,we.projOptions.skipUpdateActiveProjections);else for(var Ie=we.projOptions.fieldIndex,pe=(we.count??1)-1;pe>=0;pe--)if(!(he=this.removeProjection(Fe,ye,Ee,{fieldIndex:Ie})))return!1;return he}removeParameterProjections(Fe,ye,we,Ee,Oe,he,xe){var Se=!1;if(null!=he)Se=this.removeProjection(Fe,ye,Ee,{parameter:we,indexInParameter:he,skipUpdateActiveProjections:xe});else for(var Je=(we.length??0)-1;Je>=0;Je--)if(!(Se=this.removeProjection(Fe,ye,Ee,{parameter:we,indexInParameter:Je,skipUpdateActiveProjections:xe})))return!1;return Oe&&0===(we.length??0)&&(Se=Fe.removeParameterByRoleName(we,Ee)||Se),Se}removeProjection(Fe,ye,we,Ee){var Oe=Fe.getQueryRef(we,Ee),he=Fe.getVisualCalcExpressions().some(Se=>Se.name===Oe),xe=Fe.removeProjection(we,Ee);return Oe&&!Fe.isUsed(Oe)&&ye&&ye[Oe]&&(he||null==ye[Oe].formatString?delete ye[Oe]:ye[Oe]={formatString:ye[Oe].formatString}),xe}tryAddWithUndefinedQuery(Fe,ye,we,Ee){var Oe=!!this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,U.p9)(Fe.capabilities);ye.query=new j.r(P.DC.create(),{},[],Oe);var he=this.tryAdd(Fe,ye,we,Ee);return!0!==he&&(ye.query=void 0),he}tryAdd(Fe,ye,we,Ee){c.Y.assertValue(Fe,"capabilitiesHelper"),c.Y.assertValue(ye,"config"),c.Y.assertValue(Ee,"options");var Oe=Ee.expr;c.Y.assertValue(Oe,"expr");var he=new B.F(R.tc),xe=!1,Se=Ee.projOptions;if(_.isArray(Oe)){var Ae=Se&&Se.fieldIndex;for(var Ie of Oe)xe="number"==typeof this.tryAddQuery(Fe,ye,Ee,Ie,Se,he,we)||xe,null!=Ae&&Se.fieldIndex++}else{var pe=this.tryAddQuery(Fe,ye,Ee,Oe,Se,he,we);if("number"!=typeof pe)return pe??!1}if(!we){var Pe=(0,U.xY)(Fe.capabilities,!!ye.query?.isDrillDisabled);if(ye.query.ensureDrillableRoles(Pe),_.isArray(Oe))return xe}return!0}tryAddQuery(Fe,ye,we,Ee,Oe,he,xe){c.Y.assertValue(Fe,"capabilities"),c.Y.assertValue(ye,"config"),c.Y.assertValue(Ee,"expr"),c.Y.assertValue(ye,"query");var Se=Oe&&Oe.isHidden,Ae=Fe.findCompatibleRole({queryProjections:ye.query.projections,schema:we.schema,expr:Ee,preferDrillableRoles:!1,roleToExprMap:he,targetRole:we.targetRole,isFieldParameter:xe,overflowIsWarning:we.hideOnOverflow,isHidden:Se});if(Ae&&Ae.role){var Ie=Ae.error;if(!(Ie===E.gU.conditionRangeTooLarge&&Se||this.tryHideOnOverflow(Ae.role.name,ye.query,Ie)))return;var Je=this.ensureCorrectKeyInfluencersRole(ye.visualType,Ae.role,we.targetRole);if(!this.featureSwitchService.featureSwitches.cartesianMultiplesAuthoring&&!ft(Je,ye,Fe.capabilities)&&(Je=this.ensureCorrectSmallMultiplesRole(ye,Fe.capabilities,Je,void 0,void 0)),!Fe.validateDuplicateColumnsInRole(Je,Ee,ye.query,xe))return;var Pe,pe=Je.name;if(xe)Pe=ye.query.addParameter(Ee,pe,Oe&&Oe.fieldIndex,Oe?.fieldParameterSortDirection);else{var Me=null==Oe?{}:Object.assign({},Oe);null==Me.nativeReferenceName&&(Me.nativeReferenceName=this.displayNameService.createUniqueNativeReference(Ee,we.schema,ye.query,Fe.capabilities,void 0)),Pe=ye.query.add(Ee,pe,Me)}return this.ensureDependentObjectDefn(Fe.objectDescs,pe,ye),he.add(Ee,Je),Pe}return Ae?.error}ensureCardinalityByHidingDifferentProjection(Fe,ye,we){var{query:Ee,visualType:Oe}=Fe;if(Ee){var Se=(0,q.Z)().create(this.visualPluginService.capabilities(Oe),this.geoTaggingService,Ee.isDrillDisabled).getNumberRangesForRoles(Ee)[ye],Ae=Ee.projections[ye].projected().length;Se&&Se.max<Ae&&this.tryHideOnOverflow(ye,Ee,E.gU.conditionRangeTooLarge,we)}}tryHideOnOverflow(Fe,ye,we,Ee){if(!we)return!0;if(we===E.gU.conditionRangeTooLarge){var Oe=ye.tryGetFieldExprs(Fe);if(_.isEmpty(Oe))return!1;for(var he=0;he<Oe.length;he++){var xe=Oe[he];if((!_.isNumber(Ee)||Ee!==he)&&!xe.isFieldParameter&&(0,Q.t)(xe.expr)&&!xe.isHidden)return ye.toggleHidden(xe.queryName),!0}}return!1}generateNativeReferenceNameForOperation(Fe,ye){var we=ye.singleVisual.query.getQueryRef(Fe.role,{fieldIndex:Fe.index});if(null==we)return c.Y.assertFail(`queryRef does not exist while role ${Fe.role}, field index ${Fe.index}`),"";var Ee=ye.singleVisual.query.defn.select().withName(we),Oe=this.visualPluginService.capabilities(ye.singleVisual.visualType);return this.displayNameService.createUniqueNativeReference(Ee.expr,Fe.schema,ye.singleVisual.query,Oe,we)}captureCurrentActiveProjectionsByRole(Fe){if(Fe){var ye=this.visualPluginService.capabilities(Fe.config.singleVisual.visualType),we=Fe.config.singleVisual.query;if(we){var Ee={};if(ye&&ye.expandAndSort)return ye.expandAndSort.forEach(Oe=>{var he=(0,m.Lw)(we.projections,Oe);!he||!he.activeProjectionRefs||(Ee[Oe]={projectionName:_.last(he.activeProjectionRefs),currentPosition:he.activeProjectionRefs.length,totalNumberOfProjections:he.getQueryRefs().length})}),Ee}}}ensureCorrectKeyInfluencersRole(Fe,ye,we){return Fe!==te.U.keyDriversVisual||ye.name!==t.Wx.details||we?ye:_.find((0,t.RH)().dataRoles,Ee=>Ee.name===t.Wx.explainBy)}ensureCorrectSmallMultiplesRole(Fe,ye,we,Ee,Oe){return this.featureSwitchService.featureSwitches?.cartesianMultiplesAuthoring||!(0,o.oY)(ye?.dataViewMappings)||we.name!==r.lP.rows||Ee&&Oe===r.lP.rows&&(0,o.oY)(Ee?.dataViewMappings)||Fe.hasUsedSmallMultiples?we:_.find(ye.dataRoles,he=>he.name===r.lP.category)}ensureDependentObjectDefn(Fe,ye,we){if(Fe)for(var Ee in Fe){var Oe=Fe[Ee];for(var he in Oe.properties){var xe=Oe.properties[he];if(xe.rule&&xe.rule.inputRole===ye){var Se=we.objects;Se||(Se=we.objects={});var Ae=(0,D.D8)(Se,Ee,null);Ae.properties[he]||(Ae.properties[he]=this.createDefaultDefinition(xe.type))}}}}createDefaultDefinition(Fe){if(Fe.fillRule)return(0,d.s6)()}getSourceShowAllInfo(Fe){var ye={};for(var we of _.values(Fe)){var Ee=we.showAll;for(var Oe of we.all())ye[Oe.queryRef]=Ee}return ye}updateTargetShowAllInfo(Fe,ye,we){var Ee=this.getSourceShowAllInfo(Fe.query.projections);for(var Oe of _.keys(ye.projections)){var he=we.roles.withName(Oe).kind;if(this.isShowAllRole(he))for(var xe of ye.projections[Oe].all()){var Se=Ee[xe.queryRef];Se&&(ye.projections[Oe].showAll=Se)}}}isShowAllRole(Fe){return Fe===l.Ts.Grouping||Fe===l.Ts.GroupingOrMeasure}shouldDefaultExpandSort(Fe,ye,we){return _.includes(ye,Fe)&&we>1}setDrillMode(Fe,ye,we){we.setDrillMode(Fe,ye)}}},323954:function(ve,z,e){e.d(z,{Z:function(){return D}});var a=e(620825),i=e(98138),r=e(469391);function t(h,C){return null==h||isNaN(h)?C:null==C||isNaN(C)?h:Math.min(h,C)}function o(h,C){return null==h||isNaN(h)?C:null==C||isNaN(C)?h:Math.max(h,C)}var d=e(579260),n=e(18122),c=e(693029),s=e(309754),p=e(814691),l=e(775157),u=e(188076),m=(e(757406),e(337965)),g=e(371320),E=e(456339);function D(){var C=g.r,y=m.eV;function f(T){return T&&T.geography&&(T.geography.latitude||T.geography.longitude)}function S(T){return _.some(T.preferredTypes,N=>f(N)||N.numeric)}function b(T){return T.cartesianKind===c.Xk.X||T.cartesianKind===c.Xk.Y}class V{constructor(N,w,I,O){n.Y.assertValue(N,"capabilities"),n.Y.assertValue(w,"roles"),n.Y.assertAnyValue(I,"objectDescs"),n.Y.assertValue(O,"roleMappings"),this.capabilities=N,this.roles=w,this.objectDescs=I,this.roleMappings=O}findCompatibleRole(N){n.Y.assertValue(N.queryProjections,"config"),n.Y.assertValue(N.schema,"schema"),n.Y.assertValue(N.expr,"expr"),n.Y.assertAnyValue(N.targetRole,"targetRole"),n.Y.assertAnyValue(N.roleToExprMap,"roleToExprMap");var w=N.expr,I=N.roleToExprMap,O=N.targetRole,x=N.preferDrillableRoles;if((0,a.Ah)(w)){x=!0;var j=this.getExistingTargetRoleForHierarchyLevelIfAny(w,I);if(j){if(O&&O!==j.name)return;O=j.name}}var F,U=(0,u.F)(w,N.schema);U&&(F=U.column||U.columnAggr||U.groupingColumn||U.groupingColumnAggr||U.measure);var R={projections:N.queryProjections,metadata:w.getMetadata(N.schema),columnName:F?F.name:void 0,preferDrillableRoles:x,targetRole:O,isFieldParameter:N.isFieldParameter,useStrict:N.useStrict,sourceRole:N.sourceRole,overflowIsWarning:N.overflowIsWarning,isHidden:N.isHidden},B=this.findRole(R);if(!B||!_.isEmpty(B?.error)){R.preferDrillableRoles=!N.preferDrillableRoles;var A=this.findRole(R);_.isEmpty(A?.error)&&(B=A)}return B&&B.role&&I&&I.add(w,B.role),B}findRole(N){var I,w=this.roleMappings;if(!_.isEmpty(w)){var O=w[0].getValueType(N.metadata?N.metadata.type:void 0,N.columnName),x=this.roles.allRolesWithPreference(O?O.extendedType:void 0,N.projections,N.preferDrillableRoles,N.useStrict,N.sourceRole),j=N.targetRole?[N.targetRole]:x;for(var U of j)for(var F of w){var R=F.checkRoleCompatibility(N,U,x);if(R&&R.role&&!R.error)return R;R&&(I=R)}return I}}getExistingTargetRoleForHierarchyLevelIfAny(N,w){return n.Y.assertValue(w,"roleToExprMap"),w.get(N)}orderByRolePreferences(N,w){n.Y.assertValue(N,"schema"),n.Y.assertValue(w,".orderRoleByPreferences - fields is undefined");for(var I=this.roles.defns,O=0,x=w.length,j=0,U=I.length;j<U;j++){var F=I[j].preferredTypes;if(!_.isEmpty(F))for(var R=O;R<x;R++){var B=w[R],W=B.expr.getMetadata(N);if(W){var G=W.type;if(G)for(var K=0,q=F.length;K<q;K++)if(G.extendedType===y.fromDescriptor(F[K]).extendedType){w.splice(R,1),w.splice(O,0,B),O++;break}}}}}getNumberRangesForRoles(N){var I,w=_.map(this.roles.defns,K=>K.name);n.Y.assertValue(I=N instanceof C?N.projections:N,"projectionsByRole");var O={};for(var x of w)O[x]={min:1/0,max:0};var j=_.filter(this.roleMappings,K=>void 0===K.verifyMappingConditions({projections:I,roleNames:w,preferDrillableRoles:!0,ignoreMin:!0}));for(var U of j){var F=U.getCondition();for(var R of w){var A,B=F&&F[R];A=B?{min:o(B.min,0),max:t(B.max,1/0)}:{min:0,max:1/0};var W=O[R];W.min=Math.min(A.min,W.min),W.max=Math.max(A.max,W.max)}}for(var G of _.values(O))G.min=Math.min(G.min,G.max);return O}getNonLatLongRoles(){var N=this.getLatLongRoleNames();return this.getFilteredRoleNames(N)}getFilteredRoleNames(N){var I=this.capabilities.dataViewMappings,O=[];for(var x of I)x.categorical&&(0,l.Ax)(x.categorical.categories,{visitRole:U=>{O.push(U)}}),x.matrix&&(0,l.ms)(x.matrix.rows,{visitRole:U=>{O.push(U)}});return _.without(_.uniq(O),...N||[])}getLatLongRoleNames(){return this.getRoleNames(N=>S(N))}getCartesianGroupingOrMeasureRoleNames(){return this.getRoleNames(N=>b(N))}getRoleNames(N){return _.chain(this.capabilities.dataRoles).filter(N).map(w=>w.name).value()}hasPreferredTypes(){return _.some(this.capabilities.dataRoles,N=>!_.isEmpty(N.preferredTypes))}validateDuplicateColumnsInRole(N,w,I,O){if(n.Y.assertValue(N,"targetRole"),n.Y.assertValue(w,"expr"),n.Y.assertValue(I,"VisualQuery"),!N.noDuplicates)return!0;var x=N.name,j=I.projections;if(j&&j[x]){var U;if(O){var W=j[x].getFieldParameters(),G=_.map(W,K=>K.expr);U=_.some(G,K=>(0,i.aI)(w,K))}else{var F=j[x].all(),R=_.map(F,K=>K.queryRef),B=I&&I.defn&&I.defn.select(),A=_.map(R,K=>B.withName(K).expr);U=_.some(A,K=>(0,i.aI)(w,K))}return!U}return!0}}class M{constructor(N,w,I,O){n.Y.assertValue(N,"roles"),this.roles=N,this.geoTaggingService=w,this.condition=O,this.drillableRoles=I}getCondition(){return this.condition}checkRoleCompatibility(N,w,I){if(n.Y.assertValue(N.projections,"projections"),n.Y.assertAnyValue(N.metadata,"metadata"),N.metadata){var O=this.roles.withName(w);if(O){if(N.isFieldParameter)return{role:O};var x=(0,p.bD)(w,N.projections);N.isHidden||x++;var j=this.validateRoleCompatibility(O,N.metadata,x,N.preferDrillableRoles),U=j?{code:j,roleName:w}:void 0;if(!U&&!this.verifyMappingConditions({projections:N.projections,roleNames:_.without(I,w),preferDrillableRoles:N.preferDrillableRoles,ignoreMin:!1}))return{role:O};if(U&&U.roleName===w&&U.code===p.gU.conditionRangeTooLarge&&N.overflowIsWarning)return{role:O,error:U.code};if(U?.code)return{error:U.code}}}}getValueType(N,w){if(N&&null==N.categoryString){var I=w&&this.geoTaggingService.getFieldType(w);null!=I&&(N=y.fromPrimitiveTypeAndCategory(N.primitiveType,I))}return N}verifyMappingConditions(N){for(var w of(n.Y.assertValue(N.projections,"projections"),n.Y.assertValue(N.roleNames,"roleNames"),N.roleNames)){var I=this.roles.withName(w);if(!I)return{code:r.$T.roleDoesNotExist,roleName:w};var O=(0,p.bD)(w,N.projections),x=this.validateRange({count:O,roleName:I.name,preferDrillableRoles:N.preferDrillableRoles,ignoreMin:N.ignoreMin});if(x)return{code:x,roleName:w}}}validateRoleCompatibility(N,w,I,O){n.Y.assertValue(N,"roleInfo"),n.Y.assertValue(w,"exprMetadata");var x=N.kind;if(w.kind===s.L.Measure){if(x===c.Ts.Grouping)return p.gU.conditionKindExpectedGrouping}else if(x===c.Ts.Measure)return p.gU.conditionKindExpectedMeasure;var j=N.requiredTypes;return j&&!y.isCompatibleTo(w.type,j)?r.$T.exprTypeMismatch:w.type?.misc?.sparkline&&!N.supportsSparklines?r.$T.sparklineSupportMismatch:this.validateRange({count:I,roleName:N.name,preferDrillableRoles:O,ignoreMin:!1})||void 0}isRoleDrillable(N){return _.includes(this.drillableRoles,N)&&(!this.condition[N]||void 0===this.condition[N].max||1===this.condition[N].max)}validateRange(N){if(this.condition&&(!N.preferDrillableRoles||!this.isRoleDrillable(N.roleName))){var w=this.condition[N.roleName];return w?(0,p.i8)(N.count,w,N.ignoreMin):void 0}}}class P{constructor(N){n.Y.assertValue(N,"roles"),this.defns=N}withName(N){return(0,d.q7)(this.defns,N)}allRolesWithPreference(N,w,I,O,x){var j=_.map(this.defns,U=>U.name);return x?this.promoteAndPenalize(j,U=>this.getRoleWeight(x,U)):this.promoteAndPenalize(j,U=>this.getTypeWeightForRole(N,U.preferredTypes),O),this.promoteAndPenalize(j,U=>this.getProjectionWeightForRole(U,w,I)),j}promoteAndPenalize(N,w,I){var O=0;for(var x of this.defns){var j=w(x);if(null!=j){var U=N.splice(N.indexOf(x.name),1)[0];j!==P.penalize||I?j===P.promote&&N.splice(O++,0,U):N.push(U)}}}getRoleWeight(N,w){return N.kind===w.kind||this.hasCommonTypes(N.requiredTypes,w.requiredTypes)||this.hasCommonTypes(N.requiredTypes,w.preferredTypes)||this.hasCommonTypes(N.preferredTypes,w.requiredTypes)||this.hasCommonTypes(N.preferredTypes,w.preferredTypes)?P.promote:P.penalize}hasCommonTypes(N,w){return!_.isEmpty(N)&&!_.isEmpty(w)&&!_.isEmpty(_.intersectionWith(N,w,_.isEqual))}getTypeWeightForRole(N,w){if(w){var I=P.penalize;for(var O of w)if(N===y.fromDescriptor(O).extendedType){I=P.promote;break}return I}}getProjectionWeightForRole(N,w,I){var O=w[N.name],x=O&&O.projected();if(!I&&!_.isEmpty(x)&&N.kind!==c.Ts.Measure||I&&N.kind===c.Ts.Measure)return P.penalize}}return P.penalize=-1,P.promote=1,{create(T,N,w){if(n.Y.assertAnyValue(T,"capabilities"),T&&!_.isEmpty(T.dataRoles)){var I=T.dataViewMappings,O=new P(T.dataRoles),x=[];for(var j of I){var U=j.conditions;if(_.isEmpty(U))x.push(new M(O,N,(0,E.xY)(T,w)));else for(var F of U)x.push(new M(O,N,(0,E.xY)(T,w),F))}return new V(T,O,T.objects,x)}},dataRoleWrapper:T=>new P(T),isValueTypeDescriptorLatLong:f,isRoleCompatibleWithLatLong:S,isRoleCompatibleWithScatterXY:b}}},415896:function(ve,z,e){e.d(z,{Q:function(){return r}});var a=e(18122),i=e(827431);function r(o){return new t(o)}class t{constructor(d){this.visualPlugins=d,a.Y.assertValue(this.visualPlugins,"visualPlugin")}hasFilterCapabilities(d){var n=this.visualPlugins.getPlugin(d);return!!(n&&n.capabilities&&n.capabilities.objects&&(0,i.x_)(n.capabilities.objects))}}},487150:function(ve,z,e){e.d(z,{n:function(){return V}});var a=e(233390),i=e(540673),r=e(709190),t=e(811748),o=e(333129),d=e(101751),n=e(252881),c=e(18972),s=e(18122),p=e(865429),l=e(370061),u=e(146066),v=e(332603),m=e(554109),g=e(413399),E=e(261480),D=e(387797),h=e(763714),C=e(700280),y=e(47461),f=e(255556),S=e(812398),b=e(884637);function V(P,T,N,w,I,O,x,j,U,F,R,B,A,W,G,K,q,ne,k,L,X,Y,Q){return new M(P,T,N,w,I,O,x,j,U,F,R,B,A,W,G,K,q,Q,Y,ne,k,L,X)}class M{constructor(T,N,w,I,O,x,j,U,F,R,B,A,W,G,K,q,ne,k,L,X,Y,Q,H){this.queryExecutionServices=T,this.hostServices=N,this.promiseFactory=w,this.conceptualSchemaProxy=I,this.featureSwitchService=O,this.telemetryService=x,this.visualQueryGenerator=j,this.visualPlugin=U,this.visualPluginOps=F,this.filterGenerator=R,this.displayNameService=B,this.explorationNavigation=A,this.visualValidationService=W,this.resourceLoader=G,this.eventBridge=K,this.dataProxyService=q,this.dataSources=ne,this.visualLifecycleService=k,this.resourceRegistration=L,this.cachePolicyProviderService=X,this.visualInsightsAnalysisHandler=Y,this.visualParameterService=Q,this.visualDataProxyExecutionService=H}attach(T){this.queryExecutionServices=T}cancelQuery(T){this.visualDataProxyExecutionService.cancelQuery(T),this.visualParameterService.cancelResolve(T)}generateApplicationContext(T,N){var w=this.explorationNavigation&&this.explorationNavigation.getCurrentExploration()&&this.explorationNavigation.getCurrentExploration().report,I=w&&w.objectId,O=this.dataSources.get(),x=O?.filter(j=>!!j.dsr)[0]?.dsr?.dbName;return{DatasetId:x,Sources:[{ReportId:I,Operation:T,VisualId:N&&N.name}]}}runQuery(T){var I,N=(0,h.B)(T.performanceActivity,g.RP,this.telemetryService),w=T.performanceActivity;this.featureSwitchService.featureSwitches.resolveParametersEvent&&(I=this.startResolveParametersPerformanceActivity(w));var O=this.startQueryPerformanceActivity(w),x=this.dataSources.get(),j=T.contract,U=j.config.singleVisual,F=U.query&&U.query.hasQueryFieldParameters();if(this.visualValidationService.shouldBlockVisualQuery&&this.visualValidationService.shouldBlockVisualQuery(j)||!(T.skipShouldRunQueryVerification||this.visualQueryGenerator.shouldExecute(U,x)||this.visualParameterService.shouldExecute(U,x)))return this.featureSwitchService.featureSwitches.resolveParametersEvent&&this.transitionResolveParametersToQuery(!1,I,O),O&&O.queryActivity.resolve(),N&&N.resolve(),!1;this.queryExecutionServices.notifyStart(O&&O.telemetryActivity),I&&I.setProperty("start",(0,p.t)());var A=this.resolveQueryParameters(T,I);return(this.visualInsightsAnalysisHandler.supportsInsights(j)?A.then(W=>{if((W.queryChange||W.aliasChange)&&this.queryExecutionServices.applyResolveParametersUpdate(),this.featureSwitchService.featureSwitches.resolveParametersEvent&&this.transitionResolveParametersToQuery(!0,I,O),!F||this.visualQueryGenerator.shouldExecute(U,x))return this.visualInsightsAnalysisHandler.runInsights(j).then(G=>{if(G){if(G.error)throw G.error;G.queryExecutionOptions&&_.merge(T,G.queryExecutionOptions)}return this.runQueryImpl(T,x,j,O,G&&G.warnings)});O?.queryActivity?.cancel(!0)}):A.then(W=>{if((W.queryChange||W.aliasChange)&&this.queryExecutionServices.applyResolveParametersUpdate(),this.featureSwitchService.featureSwitches.resolveParametersEvent&&this.transitionResolveParametersToQuery(!0,I,O),!F||this.visualQueryGenerator.shouldExecute(U,x))return this.runQueryImpl(T,x,j,O,void 0);O?.queryActivity?.cancel(!0)})).catch(W=>{this.queryExecutionServices.handleErrors(W,O)}).finally(()=>{this.queryExecutionServices.notifyEnd(),N&&N.resolve()}),!0}transitionResolveParametersToQuery(T,N,w){N&&N.isRunning()&&(w&&w.queryActivity.isRunning()&&w.queryActivity.setProperty("start",(0,p.t)()),T&&N.getProperty("metadataParameterCount")>0?N.resolve():N.cancel(!0))}resolveQueryParameters(T,N){var w=this.dataSources.get();return this.conceptualSchemaProxy.get(w).then(I=>{var O=this.generateApplicationContext(T.queryOperation,T.contract),x=this.getDatasetCacheOptions(T,w,!1),j={dataSources:w,schema:I,additionalFilters:this.hostServices.getFilters(this.filterGenerator,I),config:T.contract.config.singleVisual,cacheOptions:x,allowResultFromClientCache:T.allowResultFromClientCache,applicationContext:O,cacheResponseOnServer:T.cacheResponseOnServer,visual:T.contract,performanceActivity:N,metricsKind:T.executionMetricsKind};return this.visualParameterService.resolve(j)})}runQueryImpl(T,N,w,I,O){!T.initialLoad&&this.hostServices&&this.updateCachedData(T);var U,F,x=this.getDatasetCacheOptions(T,N,!0),j=T.initialLoad&&this.featureSwitchService.featureSwitches.verboseTelemetry;j&&(U=this.startVisualFirstLoadTelemetryEvent(x,N,w.name,I&&I.telemetryActivity)),F=this.generateApplicationContext(T.queryOperation,w);var R=this.visualDataProxyExecutionService.runQuery({dataSources:N,contract:w,viewport:T.viewport,hostServices:this.hostServices,initialLoad:T.initialLoad,useVisualContainerCache:T.useVisualContainerCache,preferCurrentData:T.preferCurrentData,allowResultFromClientCache:T.allowResultFromClientCache,cacheResponseOnServer:T.cacheResponseOnServer,cacheResponseOnContract:T.cacheResponseOnContract,cacheOptions:x,clientCacheOnly:T.clientCacheOnly,visualFirstLoadEvent:U,performanceActivity:I&&I.queryActivity,executionMetricsKind:T.executionMetricsKind,canDefer:T.canDefer,requestPriority:T.requestPriority,applicationContext:F,windowExpansionTransform:T.windowExpansionTransform,skipShouldRunQueryVerification:T.skipShouldRunQueryVerification,previewGate:T.previewGate,customizeQueryOverride:T.customizeQueryOverride}),B=w.config.singleVisual.visualType,W=this.loadResourcePackageReferences(B,w.config.singleVisual.objects);T.geocodingTracker&&T.geocodingTracker.newQuery(I&&I.rootActivity);var G=!1;return R.previewPromise.then(K=>{K&&!G&&this.resolveResourcePackageReferences(B,K.dataProxyQuery.transforms.objects,I&&I.rootActivity).then(q=>{this.handleQueryResult(w,K.result,K.dataProxyQuery,q,null,null,!0,I,O)})},K=>{s.Y.assert(()=>K.ignorable,"Preview promise should be rejected with ignorable errors only")}),R.finalPromise.then(K=>{var q=K&&K.result&&K.result.dataReaderResult,ne=!!(x&l.b.AllowCache);q&&ne&&U&&(U.event.info.cacheResultFromServer=K.result.dataReaderResult.fromCache);var k=this.getLastRefreshTime(N);if(ne&&q&&this.isResultStale(k,K.result.dataReaderResult.timestamp)){var X=l.b.AllowQuery|l.b.CacheResult;return X=x&l.b.PreventRefresh?X|l.b.PreventRefresh:X,U&&(U.event.info.staleCacheResultFromServer=!0),this.visualDataProxyExecutionService.runQuery({dataSources:N,contract:w,viewport:T.viewport,hostServices:this.hostServices,initialLoad:T.initialLoad,useVisualContainerCache:!1,preferCurrentData:T.preferCurrentData,allowResultFromClientCache:!1,cacheResponseOnServer:!1,cacheOptions:X,visualFirstLoadEvent:U,performanceActivity:I&&I.queryActivity,executionMetricsKind:T.executionMetricsKind,requestPriority:T.requestPriority,canDefer:T.canDefer}).finalPromise}return K}).then(K=>W.then(()=>{this.processQueryResult(T,K,I,O)})).finally(()=>{G=!0,j&&U&&U.resolve()})}startQueryPerformanceActivity(T){if(T&&T.isRunning())return{rootActivity:T,queryActivity:T.createChildActivity({name:i.n.Query}),telemetryActivity:this.telemetryService.getOpenActivityById(T&&T.getProperty("telemetryActivityId"))}}startResolveParametersPerformanceActivity(T){if(T)return T.createChildActivity({name:i.n.ResolveParameters})}startVisualFirstLoadTelemetryEvent(T,N,w,I){var j,O=!!(T&l.b.AllowCache),x=(0,D.xR)(N);return j=I?this.telemetryService.startChildEvent(I.event,g.AI,{onPrem:x,isServerCacheEligible:O,visualName:w}):this.telemetryService.startEvent(g.AI,{onPrem:x,isServerCacheEligible:O,visualName:w}),(0,y.SA)(j.event,this.explorationNavigation),j}getCachedQueryOrGenerate(T){var N=this;return(0,a.A)(function*(){var w=(0,h.B)(T.performanceActivity,g.qK,N.telemetryService),I=N.dataProxyService.lastExecutedQuery();if(I)return N.cachedQueryResult=void 0,I;try{return N.cachedQueryResult||(yield N.generateQuery(T))}finally{w&&w.resolve()}})()}generateQuery(T){var N=this;return(0,a.A)(function*(){var w=N.dataSources.get(),I=yield N.conceptualSchemaProxy.get(w),x=N.visualDataProxyExecutionService.generateQuery({dataSources:w,schema:I,config:T.contract.config.singleVisual,hostServices:N.hostServices,visualQueryGenerator:N.visualQueryGenerator,executionType:S.by.Default,preferCurrentData:null==T.preferCurrentData||T.preferCurrentData,viewport:T.viewport,allowResultFromClientCache:null==T.allowResultFromClientCache||T.allowResultFromClientCache,cacheOptions:void 0,performanceActivity:T.performanceActivity,executionMetricsKind:T.executionMetricsKind});return N.cachedQueryResult=N.dataProxyService.lastExecutedQuery()?void 0:x,x})()}updateCachedData(T){var N=this;return(0,a.A)(function*(){if(!1!==T.cacheResponseOnContract){var w=yield N.generateQuery({...T,performanceActivity:void 0}),I=T.contract;if(w&&!w.error&&I.cachedData){I.cachedData.dataUpdatedTime=void 0;var O=N.visualPlugin.capabilities(I.config.singleVisual.visualType);I.cachedData.transformsObject=o.R.serializeDataViewTransformActions(w.transforms,O.objects),I.cachedData.queryObject=w.options.query.command,I.cachedData.dataObject=void 0}}})()}loadMoreData(T){var N=this.startQueryPerformanceActivity(T.performanceActivity);this.queryExecutionServices.notifyStart(),this.getNextDataSegment(T,N).then(w=>{w&&this.mergeMoreData(w.result,w.dataProxyQuery,T.currentData,w.performanceActivityContext)}).catch(w=>{N&&N.queryActivity.reject(w)}).finally(()=>{this.queryExecutionServices.notifyEnd()})}canLoadMoreData(){return this.visualDataProxyExecutionService.canLoadMoreData()}loadWindow(T){var N=this.startQueryPerformanceActivity(T.performanceActivity);this.queryExecutionServices.notifyStart(),this.visualDataProxyExecutionService.loadWindow({dataSources:this.dataSources.get(),contract:T.contract,hostServices:this.hostServices,viewport:T.viewport,useVisualContainerCache:T.useVisualContainerCache,performanceActivity:N?.queryActivity,executionMetricsKind:T.executionMetricsKind,windowExpansionState:T.windowExpansionState}).then(w=>{this.handleLoadMoreDataWarnings(w&&w.result,w&&w.dataProxyQuery),this.processQueryResult(T,w,N,void 0)}).catch(w=>{this.queryExecutionServices.handleErrors(w),N&&N.queryActivity.reject(new c.PJ(w))}).finally(()=>{this.queryExecutionServices.notifyEnd()})}getNextDataSegment(T,N){var w=N||this.startQueryPerformanceActivity(T.performanceActivity),I=this.promiseFactory.defer();return this.visualDataProxyExecutionService.canLoadMoreData()?this.visualDataProxyExecutionService.loadMoreData({dataSources:this.dataSources.get(),contract:T.contract,hostServices:this.hostServices,viewport:T.viewport,useVisualContainerCache:T.useVisualContainerCache,performanceActivity:w?.queryActivity,executionMetricsKind:T.executionMetricsKind}).then(O=>{this.handleLoadMoreDataWarnings(O&&O.result,O&&O.dataProxyQuery);var x=O;w&&(x={...x,performanceActivityContext:w}),I.resolve(x)},O=>{this.queryExecutionServices.handleErrors(O),w&&w.queryActivity.reject(new c.PJ(O)),I.reject(O)}):(w&&w.queryActivity.reject(new b.iD("Cannot load more data","User")),I.reject("Cannot load more data")),I.promise}reloadDataSegment(T,N){var w=T.currentData&&T.currentData.dataView&&T.currentData.dataView.matrix&&T.currentData.dataView.matrix.rows&&T.currentData.dataView.matrix.rows.root;if(w){var I=this.dataProxyService.getNodeSegment(N);if(I&&0!==I.index){this.dataProxyService.discardSegmentsFrom(I.index);var O=this.dataProxyService.getLastNodeIndex();(0,u.BX)(w,O)?this.loadMoreData(T):this.runQuery(T)}else this.runQuery(T)}else this.runQuery(T)}mergeMoreData(T,N,w,I){var O=M.getDataProxyQueryExecutionResultWarnings(T,N),x=T&&T.dataReaderResult?T.dataReaderResult.dataView:null;if(x){s.Y.assert(()=>null!=w&&null!=w.dataView,"Expected to have previous segment already");var j=w.dataView;(0,u.Jn)(j,x);var U={dataView:j,dataViewSource:T&&T.dataViewSource,performanceActivities:T&&T.dataReaderResult&&T.dataReaderResult.performanceActivities,isFirstSegment:!1};_.isEmpty(O)||(U.warnings=O),this.queryExecutionServices.loadMergedData(U,I)}else I&&I.queryActivity.resolve()}visualizeDataViewSource(T,N,w,I){s.Y.assertValue(N,"dataViewSource");var O=this.startQueryPerformanceActivity(I),x=T.config.singleVisual,j=this.visualPluginOps.targetedDataViewKinds(x.visualType,x.query),U=(0,t.LF)(j,N.data,(0,n.p)(this.featureSwitchService.featureSwitches)),F=U.error;if(F)this.queryExecutionServices.handleErrors(F);else{var R=this.dataSources.get();s.Y.assertValue(R,"dataSources");var B=T&&T.config&&T.config.singleVisual;!R||!B||this.conceptualSchemaProxy.get(R).then(A=>{var W=this.visualQueryGenerator.execute({config:B,dataSources:R,schema:A,additionalFilters:this.hostServices.getFilters(this.filterGenerator,A),restartToken:U.restartToken,dataWindow:w,dataSourceVariables:this.hostServices.getDataSourceVariables(),disableAnchorTime:!!this.hostServices.disableAnchorTime||this.visualPluginOps.isQnaVisual(B.visualType)});if(W){var G=this.promiseFactory.defer();G.resolve(W.options),this.handleQueryResult(T,{dataViewSource:N,dataReaderResult:U},{transforms:W.transforms,error:W.error,warnings:W.warnings,options:G.promise},null,{updateContractCache:!0},null,!1,O)}})}}updateNonQueryVisual(T,N,w){var I=this.startQueryPerformanceActivity(w),O={dataView:null,dataViewSource:null};if(N){var x=T.config.singleVisual.visualType,j=T.config.singleVisual.objects;this.queryExecutionServices.notifyStart(),this.resolveResourcePackageReferences(x,j,w).then(U=>{this.queryExecutionServices.applyUpdate(O,N,U,I)}).finally(()=>{this.queryExecutionServices.notifyEnd()})}else this.queryExecutionServices.applyUpdate(O,N,null,I)}updateContractCache(T,N,w){if(s.Y.assertAnyValue(N,"result"),!T)return this.promiseFactory.reject(new Error("VisualContainerQueryHandler.updateContractCache() contract is undefined"));var I=this.dataSources.get();if(!I)return this.promiseFactory.reject(new Error("VisualContainerQueryHandler.updateContractCache() dataSources is undefined"));s.Y.assertValue(w,"dataProxyQuery is expected to be defined when there is a dataSource");var O=T.cachedData&&T.cachedData.dataUpdatedTime?T.cachedData.dataUpdatedTime:null,x=N&&N.dataViewSource?N.dataViewSource.data:void 0,j=w&&w.error;return N&&N.dataReaderResult&&N.dataReaderResult.disallowPersisting&&(O=null,x=null,j=new c.r8("VisualContainerQueryHandler.updateContractCache() cachingError")),this.conceptualSchemaProxy.get(I).then(U=>w.options.then(F=>{T.cachedData=(0,D.Tg)(this.visualPlugin,this.displayNameService,x,{transforms:w.transforms,error:j,warnings:w.warnings,options:F,compiledMappings:w.compiledMappings},U,T.config.singleVisual,this.featureSwitchService.featureSwitches,(0,f.XF)(T.filters),O)}))}getLastRefreshTime(T){for(var N of T)if(N&&N.dsr&&N.dsr.lastRefreshTime)return N.dsr.lastRefreshTime}processQueryResult(T,N,w,I){var O;N&&(O={updateContractCache:T.cacheResponseOnContract??!0,updateServerCache:N.updateServerVisualContainerCache},this.resolveResourcePackageReferences(T.contract.config.singleVisual.visualType,N.dataProxyQuery.transforms.objects,w&&w.rootActivity).then(x=>{this.handleQueryResult(T.contract,N&&N.result,N.dataProxyQuery,x,O,T.currentData,!1,w,I)}))}isResultStale(T,N){var I=(0,d.z3)(T),O=(0,d.jT)(N);return s.Y.assert(()=>!!O,"A result date should be returned -- this is needed to check for freshness."),!(!I||!O)&&I.getTime()-12e4>O.getTime()}getDatasetCacheOptions(T,N,w){var O=T.initialLoad,x=this.visualLifecycleService&&this.visualLifecycleService.has(T.contract.id,w);if(this.featureSwitchService.featureSwitches.expandQueryCaching){if(this.isQueryCachingEnabledForAnyDataset(N))return this.cachePolicyProviderService.getInteractiveQueryPolicy(O&&x,T.interactiveQueryCachingSetting)}else if(O&&x&&this.isQueryCachingEnabledForAnyDataset(N))return l.b.AllowCache|l.b.AllowQuery|l.b.CacheResult}isQueryCachingEnabledForAnyDataset(T){return!!_.some(T,N=>N.dsr&&N.dsr.isQueryCachingEnabled)}handleQueryResult(T,N,w,I,O={},x,j=!1,U,F){var R,B;if(this.queryExecutionServices.clearErrors(),N){R={dataView:N.dataReaderResult?N.dataReaderResult.dataView:null,dataViewSource:N.dataViewSource?N.dataViewSource:null,performanceActivities:N.dataReaderResult?N.dataReaderResult.performanceActivities:null},B=M.getDataProxyQueryExecutionResultWarnings(N,w)||[],F&&(B=_.concat(B,F)),_.isEmpty(B)||(R.warnings=B);var A=(0,D.wk)(R.dataView);if(A&&(R.isFirstSegment=A),this.featureSwitchService?.featureSwitches?.queryContext){var W=N.dataReaderResult?.queryContext;W&&(R.queryContext=W)}}else if(R={dataView:x&&x.dataView,dataViewSource:x&&x.dataViewSource,isFirstSegment:x&&x.isFirstSegment},B=x&&x.warnings||[],F&&(B=_.concat(B,F)),_.isEmpty(B)||(R.warnings=B),this.featureSwitchService?.featureSwitches?.queryContext){var G=x?.queryContext;G&&(R.queryContext=G)}if(this.queryExecutionServices.handleWarnings(B,w&&w.transforms),this.queryExecutionServices.applyUpdate(R,w.transforms,I,U,j),O&&O.updateContractCache){var q=this.updateContractCache(T,N&&N.dataViewSource?N.dataViewSource.data:void 0,w);O.updateServerCache&&q.then(()=>{w.options.then(ne=>{if(!_.isEmpty(ne.query.command)){var L={visualContainerId:T.id,query:JSON.stringify(ne.query.command),dataTransforms:this.getCachedTransformsString(T)};this.eventBridge.publishToChannel(C.r7Z,L)}})})}}handleLoadMoreDataWarnings(T,N){this.queryExecutionServices.clearErrors();var w=M.getDataProxyQueryExecutionResultWarnings(T,N)||[];this.queryExecutionServices.handleWarnings(w,N&&N.transforms)}getCachedTransformsString(T){var N=T.cachedData;if(N){var w=N.transformsObject;if(w)return o.R.serializeTransformActions(w)}}loadResourcePackageReferences(T,N){var w=this.visualPlugin.capabilities(T),I=w&&w.objects,O=this.explorationNavigation.getCurrentExploration();return s.Y.assert(()=>!!O||!(0,v.SA)(N,I),"currentExploration"),(0,v.gB)(N,I,()=>O?O.resourcePackages:null,this.resourceLoader,this.promiseFactory,(x,j)=>this.ensureSharedResource(O,x,j))}ensureSharedResource(T,N,w){if(this.resourceRegistration){var I=(0,E.ZC)(T,r.X.SharedResources);(0,m.AU)(I,N)||this.resourceRegistration.add(N,r.X.SharedResources,w)}}resolveResourcePackageReferences(T,N,w){var I=this.visualPlugin.capabilities(T),O=I&&I.objects,x=this.explorationNavigation.getCurrentExploration();return s.Y.assert(()=>!!x||!(0,v.SA)(N,O),"currentExploration"),(0,v.dQ)(N,O,x?x.resourcePackages:null,this.resourceLoader,this.promiseFactory,void 0,w)}static getDataProxyQueryExecutionResultWarnings(T,N){var w;return N&&!_.isEmpty(N.warnings)&&(w=w||[]).push(...N.warnings||[]),T&&T.dataReaderResult&&!_.isEmpty(T.dataReaderResult.warnings)&&(w=w||[]).push(...T.dataReaderResult.warnings||[]),w}}},812398:function(ve,z,e){e.d(z,{bS:function(){return m},by:function(){return u}});var a=e(540673),i=e(115315),r=e(886334),t=e(431575),o=e(884637),d=e(18122),n=e(454840),c=e(237230),s=e(838751),p=e(146066),l=e(620455),u=function(D){return D[D.Default=0]="Default",D[D.LoadMore=1]="LoadMore",D[D.EnsureData=2]="EnsureData",D[D.LoadWindow=3]="LoadWindow",D}({});class v{constructor(h,C,y){this.index=h,this.restartToken=C,y&&(this.hierarchyLastNodeIndex=y)}endsBeforeNode(h){d.Y.assertValue(this.hierarchyLastNodeIndex,"this.hierarchyLastNodeIndex");for(var C=this.hierarchyLastNodeIndex,y=Math.min(C.length,h.length),f=0;f<y;f++){var S=C[f],b=h[f];if(S<b)return!0;if(S>b)return!1}return h.length>C.length}}function m(D,h,C,y,f=!1){return new g(D,h,C,y,f)}class g{constructor(h,C,y,f,S){this.hasExecutedQuery=!0,this.dataProxy=h,this.promiseFactory=y,this.filterGenerator=C,this.dataSegments=[],this.telemetryV2Enabled=S,this.visualPluginService=f}generateQuery(h){var C=(0,n.ni)(`visualQueryGenerator(${h.config.visualType})`),y=h.visualQueryGenerator.execute({config:h.config,dataSources:h.dataSources,schema:h.schema,additionalFilters:h.hostServices.getFilters(this.filterGenerator,h.schema),restartToken:this.getRestartToken(h),cacheResponseOnServer:!(!h.isInitialLoad&&!h.cacheResponseOnServer),allowResultFromClientCache:h.allowResultFromClientCache,dataWindow:h.viewport,cacheOptions:h.cacheOptions,clientCacheOnly:h.clientCacheOnly,dataSourceVariables:h.hostServices.getDataSourceVariables(),performanceActivity:h.performanceActivity,executionMetricsKind:h.executionMetricsKind,telemetryV2Enabled:this.telemetryV2Enabled,requestPriority:h.requestPriority,applicationContext:h.applicationContext,windowExpansion:this.getWindowExpansion(h),disableAnchorTime:!!h.hostServices.disableAnchorTime||h.config.visualType===l.U.qnaVisual,drillableRoles:h.drillableRoles,projectVisualCalculationContext:h.projectVisualCalculationContext,customizeQueryOverride:h.customizeQueryOverride,isPivoted:h.isPivoted,dataViewMappingsOverride:h.dataViewMappingsOverride});return C(),y}getSegmentRestartToken(h){if(!(h<=0))return d.Y.assert(()=>h<=this.dataSegments.length,"SegmentIndex out of bounds"),this.dataSegments[h-1].restartToken}runQuery(h){d.Y.assertValue(h.config,"config"),d.Y.assert(()=>h.executionType!==u.LoadMore||!0!==h.preferCurrentData,"PreferCurrentData true cannot be combined with QueryExecutionType.LoadMore.");var C=this.promiseFactory.defer(this.telemetryV2Enabled),y=_.last(this.dataSegments);if(h.executionType!==u.LoadMore||y&&y.restartToken){var S=h.generatedQuery||this.generateQuery(h);if(S)if(h.additionalDataViewKinds&&S.options&&(S.options.kinds|=h.additionalDataViewKinds),S.error)C.reject(S.error),this.generatedQuery=void 0;else{if(!(this.generatedQuery&&this.hasExecutedQuery&&h.preferCurrentData&&(0,r.Pv)(S.options,this.generatedQuery.options))){if(S=this.ensureRestartToken(h,S),this.shouldDelayExecution(h,S))return this.resolveEmptyResult(S,C),(0,t.Z)(C);if(h.performanceActivity){S.options.isColdLoad=function(D){var h=(0,o.hM)(C=>C.name===a.n.OpenReport,D);return h&&h.includesBootstrap}(h.performanceActivity);var b=h.performanceActivity.getProperty("parent");b&&b.name===a.n.VisualContainerLifecycle&&(b.lifecycleFlags|=i.$c.ranQuery)}var V=this.dataProxy.execute(S.options);return V.then(M=>this.handleQueryResult(M,S,V,h.config.query),M=>{throw this.generatedQuery=void 0,M})}this.generatedQuery=S,C.resolve(null)}else this.generatedQuery=void 0,C.reject()}else C.reject();return(0,t.Z)(C)}cancelQuery(h){this.dataProxy.cancelQuery(h)}ensureRestartToken(h,C){return h.executionType!==u.LoadMore&&(this.dataSegments=[],h.preferCurrentData&&(C=this.generateQuery(h),h.additionalDataViewKinds&&(C.options.kinds|=h.additionalDataViewKinds))),C}getRestartToken(h){var C=this.dataSegments.length-1;return h.preferCurrentData?this.getSegmentRestartToken(C):h.executionType===u.LoadMore?this.getSegmentRestartToken(C+1):void 0}getWindowExpansion(h){if(h.config&&h.config.query&&h.config.query.expansionStates){var C=h.config.visualType;d.Y.assertValue(C,"Visual type must be defined");var y=this.visualPluginService.capabilities(C);if(!_.some(y.dataViewMappings,S=>S&&S.matrix&&S.matrix.rows&&S.matrix.rows.dataReductionAlgorithm&&S.matrix.rows.dataReductionAlgorithm.topNPerLevel))return void d.Y.assert(()=>h.executionType!==u.LoadWindow,"LoadWindow is only supported when data reduction is topNPerLevel");var f=this.windowExpansionState;return h.executionType===u.LoadWindow&&(d.Y.assertValue(h.windowExpansionState,"Missing window information"),f=h.windowExpansionState),h.windowExpansionTransform?h.windowExpansionTransform(f):(d.Y.assert(()=>_.size(h.config.query.expansionStates)<=1,"Expected at most one expansion state"),(0,c.tU)(_.first(h.config.query.expansionStates),f,h.config.query.defn.select(),h.schema))}}shouldDelayExecution(h,C){return!C.options.query.command||C.deferred&&h.executionType!==u.LoadMore&&h.executionType!==u.EnsureData}resolveEmptyResult(h,C){this.generatedQuery=h,this.hasExecutedQuery=!1,C.resolve({dataReaderResult:{dataView:{metadata:{columns:[]}}}})}handleQueryResult(h,C,y,f){return this.hasExecutedQuery=!0,this.generatedQuery=C,y.matchesLastExecuteQuery&&(h=this.rewriteQueryResultWithoutPerformanceActivities(h)),this.addNewDataSegment(h&&h.dataReaderResult),this.addWindowExpansionState(C,f,h&&h.dataReaderResult),null!=h&&(h.isPivoted=C.isPivoted),h}addWindowExpansionState(h,C,y){1===_.size(h.compiledMappings)&&h.compiledMappings[0].matrix&&h.compiledMappings[0].matrix.rows&&h.compiledMappings[0].matrix.rows.dataReductionAlgorithm&&h.compiledMappings[0].matrix.rows.dataReductionAlgorithm.topNPerLevel?(d.Y.assert(()=>_.size(C.expansionStates)<=1,"Expected at most one expansion state"),this.windowExpansionState=(0,s.kD)(y.dataView)):this.windowExpansionState=null}addNewDataSegment(h){var b,C=h&&h.restartToken,y=h&&h.dataView,f=y&&y.matrix&&y.matrix.rows&&y.matrix.rows.root,S=this.dataSegments.length;if(_.isEmpty(f&&f.children))b=new v(S,C);else{var M,V=_.last(this.dataSegments);V?(d.Y.assertValue(V.hierarchyLastNodeIndex,"LoadMore is not allowed between segments of different DataViewKinds"),M=_.clone(V.hierarchyLastNodeIndex)):M=[],(0,p.WE)(f,M),d.Y.assert(()=>!V||V.endsBeforeNode(M),"Segment lastNodeIndex must be incremental"),b=new v(S,C,M)}this.dataSegments.push(b)}rewriteQueryResultWithoutPerformanceActivities(h){if(h&&h.dataReaderResult&&h.dataReaderResult.performanceActivities){var C={...h.dataReaderResult};return delete C.performanceActivities,{...h,dataReaderResult:C}}return h}canLoadMore(){var h=_.last(this.dataSegments);return null!=h&&null!=h.restartToken}lastExecutedQuery(){return this.generatedQuery}getNodeSegment(h){return d.Y.assert(()=>!_.some(this.dataSegments,C=>_.isEmpty(C.hierarchyLastNodeIndex)),"discardSegmentsFrom is only allowed with Segments of Matrix DataView"),_.find(this.dataSegments,C=>!C.endsBeforeNode(h))}discardSegmentsFrom(h){d.Y.assert(()=>h<this.dataSegments.length,"segmentIndex out of bounds"),this.dataSegments.length=h}getLastNodeIndex(){if(!_.isEmpty(this.dataSegments))return _.last(this.dataSegments).hierarchyLastNodeIndex}getSecondToLastNodeIndex(){if(this.dataSegments&&!(this.dataSegments.length<2))return[...this.dataSegments[this.dataSegments.length-2].hierarchyLastNodeIndex]}}},93218:function(ve,z,e){function a(){return new i}e.d(z,{u:function(){return a}});class i{constructor(){this.visualIds={}}add(t){this.visualIds[t]=1}delete(t){delete this.visualIds[t]}has(t,o=!0){var d=1===this.visualIds[t];return d&&o&&this.delete(t),d}}},787428:function(ve,z,e){e.d(z,{i:function(){return m}});var a=e(343872),i=e(65994),r=e(18122),t=e(693029),o=e(814691),d=e(111199),n=e(827431),c=e(334734),s=e(725919),p=e(534629),l=e(387797),u=e(408509),v=e(620455);function m(E,D){return new g(E,D)}class g{constructor(D,h){this.plugins=D,this.featureSwitchService=h,r.Y.assertValue(D,"VisualUtil - plugins"),r.Y.assertValue(h,"VisualUtil - featureSwitchService")}canEdit(D,h){var C=this.plugins.capabilities(D);switch(C&&C.advancedEditModeSupport){case t.bU.SupportedNoAction:return!0;case t.bU.SupportedInFocus:return h;default:return!1}}dataViewKinds(D,h){if(D){var C=this.plugins.capabilities(D);if(C){var y=C.dataViewMappings,f=(0,d.my)(y);if(h){var S=(0,l.L)(h),b=(0,o.i7)(h.projections,y,S,this.featureSwitchService.featureSwitches);f=(0,d.my)(b.supportedMappings),"map"===D&&f&a.k.Categorical&&(0,i.K5)(h.projections,b.supportedMappings)&&(f|=a.k.Matrix)}if(f)return f}}}targetedDataViewKinds(D,h){var C=this.plugins.getPlugin(D);return(0,s.g4)(C,D)&&!(0,p.Ht)(C)?a.k.All:this.dataViewKinds(D,h)||a.k.All}supportsFocusMode(D){var h=this.plugins.capabilities(D);return h&&h.dataViewMappings&&!h.disableFocusMode}isSupportedVisual(D){var h=(0,u.d)(D);return!!h&&!!this.plugins.getPlugin(h)}canConvertVisual(D){if(!D)return!1;var h=(0,u.d)(D);if(!h)return!1;var C=this.plugins.capabilities(h);return(this.isQueryVisual(h)||!(!C||!C.isConvertible))&&!(0,l.aj)(D)}canFormatVisual(D){return!!D&&!(0,l.aj)(D)}canSummarizeVisual(D){var h=this.plugins.getPlugin(D);return!!h&&(this.isAnalysisVisualPlugin(h)?!!h.getAnalysisVisualNarrativeSummaryConfiguration:!!h.getNarrativeSummaryBindings)}isAnalysisVisualPlugin(D){return this.isAnalysisVisual(D.name)}isQueryVisual(D){var h=this.plugins.capabilities(D);return!h||!this.isQueryDisabled(D,h)&&null!=h.dataViewMappings}isQueryDisabled(D,h){if(r.Y.assertValue(D,"visualType"),r.Y.assertAnyValue(h,"capabilities"),h&&(0,c.Ol)(h.dataViewMappings))return!this.plugins.isScriptVisualQueryable(D)}supportVisualSearch(D){var h=this.plugins.capabilities(D);return!(!h||!this.isQueryVisual(D)||!(0,n.Es)(h.objects))}isAnalysisVisual(D){return D===v.U.keyDriversVisual}isQnaVisual(D){return D===v.U.qnaVisual}isTableVisual(D){return D===v.U.tableEx}isMatrixVisual(D){return D===v.U.pivotTable}}},151072:function(ve,z,e){e.d(z,{k:function(){return p}});var a=e(946120),i=e(430269),r=e(18122),t=e(371577),o=e(576086),d=e(850990),n=e(408509),c=e(387797),s=e(620455);function p(v,m,g,E,D){return new l(v,m,g,E,D)}class l{constructor(m,g,E,D,h){this.visualPluginService=m,this.pluginOps=g,this.explorationNavigationService=E,this.featureSwitchService=D,this.visualCapabilitiesService=h}relationship(m,g,E){return r.Y.assertValue(m,"section"),this.getRelationship(m.relationships,g,E)}drillRelationship(m,g,E){r.Y.assertValue(m,"section");var D=this.getRelationship(m.relationships,g,E);if(D){var h=D;return D.type===o.NJ.HighlightFilter&&(h={source:D.source,target:D.target,type:o.NJ.DataFilter}),h}}getRelationship(m,g,E){return r.Y.assertValue(g,"sourceVisual"),r.Y.assertValue(E,"targetVisual"),r.Y.assertAnyValue(m,"relationships"),_.find(m,D=>D.source.name===g.name&&D.target.name===E.name)}getIsCrossHighlightingDisabled(){var m=this.explorationNavigationService&&this.explorationNavigationService.getCurrentExploration(),g=m&&m.slowDataSourceSettings;return g&&g.isCrossHighlightingDisabled}relationshipFilterAction(m,g,E,D,h){var C=this.relationship(m,g,E);return this.getRelationshipFilterAction(C,g,E,D,h)}drillRelationshipFilterAction(m,g,E,D){if(!g.drillFilterOtherVisuals)return o.NJ.NoFilter;var h=this.drillRelationship(m,g,E);r.Y.assert(()=>!h||h.type!==o.NJ.HighlightFilter,"Expect drill relationship NOT to be HighlightFilter.");var C=this.getRelationshipFilterAction(h,g,E,D,!1);return r.Y.assert(()=>C!==o.NJ.HighlightFilter,"Expect drill relationship filter action NOT to be HighlightFilter."),C}shouldApplyCrossDrill(m,g,E,D){if(g===E||(0,n.d)(E)===s.U.slicer)return!1;var h=this.drillRelationshipFilterAction(m,g,E,D);return h===o.NJ.DataFilter||h===o.NJ.Default&&this.defaultDrillFilterAction(g,E)===o.NJ.DataFilter}getRelationshipFilterAction(m,g,E,D,h){if(m&&this.supportsFilterActionTarget(g,E,m.type))return m.type;var C=E&&E.config&&E.config.singleVisual,y=C&&E.config.singleVisual.visualType,f=this.visualPluginService.capabilities(y),S=o.NJ.Default;if(m&&m.type===o.NJ.HighlightFilter&&(0,c.il)(E)&&(S=o.NJ.DataFilter),this.getIsCrossHighlightingDisabled()&&!this.isSlicer(f,y)){var V=g&&g.config&&g.config.singleVisual,M=V&&g.config.singleVisual.visualType,P=this.visualPluginService.capabilities(M);if(!this.isFilter(P,M,V&&V.objects))return o.NJ.NoFilter}if(f){var T=C.query;if(T){var N=this.visualPluginService.getPlugin(y);if(N&&N.customizeDefaultFilterAction){var I={mappings:f.dataViewMappings,queryDefn:T.defn,queryProjections:T.projections,schema:D,objectDescriptors:f.objects,objectDefinitions:C.objects,roles:f.dataRoles,featureSwitches:this.featureSwitchService.featureSwitches,transformPluginService:(0,i.r)()},O=(0,a.$)(I),x=N.customizeDefaultFilterAction({dataViewMappings:O,filterForFieldParameter:h});if(null!=x)return function(v){switch(v){case t.$O.DataFilter:return o.NJ.DataFilter;case t.$O.NoFilter:return o.NJ.NoFilter;case t.$O.HighlightFilter:return o.NJ.HighlightFilter;default:r.Y.assertFail("Filter action is not supported: "+v)}}(x)}}}return S}isSlicer(m,g){return!!d.M.tryGetFilterPropertyIdentifier(m,g,this.visualPluginService)}isFilter(m,g,E){return m?this.isSlicer(m,g):null!=d.M.tryGetFilterProperty(m,g,this.visualPluginService,E)}supportsFilterActionTarget(m,g,E){r.Y.assertValue(m,"sourceVisual"),r.Y.assertValue(g,"targetVisual"),r.Y.assertValue(E,"visualRelationshipFilterAction");var D=(0,n.d)(g),h=(0,n.d)(m);if(!_.isEmpty(h)&&!_.isEmpty(D))switch(E){case o.NJ.DataFilter:case o.NJ.NoFilter:return!0;case o.NJ.HighlightFilter:if((0,c.il)(g))return!1;var C=this.visualPluginService.capabilities(D);return(!C||C.supportsHighlight)&&!this.visualCapabilitiesService.hasFilterCapabilities(h)}return!1}supportsAnyFilterAction(m){r.Y.assertValue(m,"visualContainer");var g=(0,n.d)(m);if(_.isEmpty(g)||!this.pluginOps.isQueryVisual(g)&&!this.pluginOps.isQnaVisual(g))return!1;var E=this.visualPluginService.capabilities(g);return!E||!1!==E.supportsSelection}defaultFilterAction(m,g){r.Y.assertValue(m,"sourceVisualContainer"),r.Y.assertValue(g,"targetVisualContainer");var E=this.explorationNavigationService&&this.explorationNavigationService.getCurrentExploration(),D=E&&E.settings;return D&&D.defaultFilterActionIsDataFilter||!this.supportsFilterActionTarget(m,g,o.NJ.HighlightFilter)?this.supportsFilterActionTarget(m,g,o.NJ.DataFilter)?o.NJ.DataFilter:void 0:o.NJ.HighlightFilter}defaultDrillFilterAction(m,g){r.Y.assertValue(m,"sourceVisualContainer"),r.Y.assertValue(g,"targetVisualContainer");var E=this.defaultFilterAction(m,g);return E===o.NJ.HighlightFilter&&(E=o.NJ.DataFilter),r.Y.assert(()=>!E||E===o.NJ.DataFilter||E===o.NJ.NoFilter,"The returned value of has to be one of these values undefined/DataFilter/NoFilter"),E}}},413399:function(ve,z,e){e.d(z,{AI:function(){return S},Cj:function(){return V},EX:function(){return U},Fb:function(){return sr},Fk:function(){return me},Fn:function(){return vt},Iz:function(){return fe},J2:function(){return At},MH:function(){return o},N7:function(){return q},NM:function(){return p},OW:function(){return N},Ps:function(){return l},Px:function(){return Ye},RP:function(){return E},RT:function(){return Nt},S5:function(){return It},TB:function(){return xe},VD:function(){return Ge},XE:function(){return W},XP:function(){return h},XV:function(){return X},Xo:function(){return Xe},YV:function(){return G},Yc:function(){return K},Yy:function(){return k},ZU:function(){return B},_8:function(){return w},_F:function(){return F},aA:function(){return x},ax:function(){return s},b:function(){return n},bP:function(){return I},dO:function(){return Fe},dR:function(){return rt},fU:function(){return R},hP:function(){return Ae},hR:function(){return T},j:function(){return m},jZ:function(){return Pe},jj:function(){return d},ks:function(){return i},l5:function(){return zt},lT:function(){return it},lu:function(){return u},mc:function(){return M},mh:function(){return Oe},op:function(){return lt},ou:function(){return Ce},qK:function(){return y},qr:function(){return A},qy:function(){return J},rc:function(){return He},s3:function(){return tt},t1:function(){return de},t9:function(){return Je},ul:function(){return Yt},y5:function(){return we},zB:function(){return P}});var a=e(285264),i=function(je){return je.Create="Create",je.Update="Update",je.Delete="Delete",je.Other="Other",je}({}),o=function(je){return je.List="List",je.Bin="Bin",je}({}),d=function(je){return je.Capture="Capture",je.Undo="Undo",je.Redo="Redo",je}({}),n=function(je){return je.Normal="Normal",je.EmailSubscription="EmailSubscription",je.ReportInvitation="ReportInvitation",je.SubscribeOthers="SubscribeOthers",je.Commenting="Commenting",je.Invalid="Invalid",je}({}),s=function(je){return je.NonExistingBoundSection="NonExistingBoundSection",je.DuplicateBoundSection="DuplicateBoundSection",je.ExceedingPodsNumberAfterInitialFix="ExceedingPodsNumberAfterInitialFix",je}({}),p=function(je){return je.Normal="Normal",je.Maximized="Maximized",je.MaximizedWithData="MaximizedWithData",je.MaximizedWithAccessibleData="MaximizedWithAccessibleData",je.Spotlight="Spotlight",je.Elevation="Elevation",je.VisualCalcEditing="VisualCalcEditing",je}({}),l=function(je){return je.NoCache="NoCache",je.Cache="Cache",je.StaleCache="StaleCache",je}({}),u=function(je){return je.None="None",je.CacheMissing="CacheMissing",je.JsonParseFailed="JsonParseFailed",je.DsrReadFailed="DsrReadFailed",je.DataObjectNull="DataObjectNull",je.DsrHasOdataError="DsrHasOdataError",je.DataTransformsMissing="DataTransformsMissing",je}({}),v="PBI.EX.RetrieveFromVisualContainerCache",m=a.Xi[v]=(0,a.Vp)(v),g="PBI.EX.RunQuery",E=a.Xi[g]=(0,a.Vp)(g,{logRatio:0}),D="PBI.EX.RunQueryImpl",h=a.Xi[D]=(0,a.Vp)(D,{logRatio:0}),C="PBI.EX.GetCachedQueryOrGenerate",y=a.Xi[C]=(0,a.Vp)(C,{logRatio:0}),f="PBI.EX.VisualFirstLoad",S=a.Xi[f]=(0,a.Vp)(f),b="PBI.EX.ToggleVisualDisplay",V=a.Xi[b]=(0,a.Vp)(b,{logExpAssignment:!0}),M="PBI.EX.GetExploration",P=a.Xi[M]=(0,a.Vp)(M),T="PBI.EX.DeserializeExploration",N=a.Xi[T]=(0,a.Vp)(T),w="PBI.EX.OpenExploration",I=a.Xi[w]=(0,a.Vp)(w,{shouldLogStartEnd:!0,logExpAssignment:!0}),O="PBI.EX.ExplorationStateApplyImpact",x=a.Xi[O]=(0,a.Vp)(O),j="PBI.EX.ExplorationStateApplyImpactIssues",U=a.Xi[j]=(0,a.Vp)(j),F="PBI.EX.SwitchSection",R=a.Xi[F]=(0,a.Vp)(F),B="PBI.EX.SwitchToAdjacentSection",A=a.Xi[B]=(0,a.Vp)(B),W="PBI.EX.NavigateBack",G=a.Xi[W]=(0,a.Vp)(W,{logExpAssignment:!0}),K="PBI.EX.NavigationButtonClicked",q=a.Xi[K]=(0,a.Vp)(K,{logExpAssignment:!0}),ne="PBI.EX.VisualQueryGeneratorWarning",k=a.Xi[ne]=(0,a.Vp)(ne),L="PBI.EX.VisualQueryGeneratorError",X=a.Xi[L]=(0,a.Vp)(L),Y="PBI.EX.Groups.GroupsAction",H=(a.Xi[Y]=(0,a.Vp)(Y),"PBI.EX.Groups.BinBySizeAction"),ee=(a.Xi[H]=(0,a.Vp)(H),"PBI.EX.Groups.BinByCountAction"),Te=(a.Xi[ee]=(0,a.Vp)(ee),"PBI.EX.Groups.Usage"),He=a.Xi[Te]=(0,a.Vp)(Te),We="PBI.EX.Groups.Error",mt=(a.Xi[We]=(0,a.Vp)(We),"PBI.EX.ModelChange"),At=a.Xi[mt]=(0,a.Vp)(mt),Qe="PBI.EX.Measures",Fe=a.Xi[Qe]=(0,a.Vp)(Qe),ye="PBI.EX.ReportMeasureDataTypeChange",we=a.Xi[ye]=(0,a.Vp)(ye),Ee="PBI.EX.ReportMeasureDataCategoryChange",Oe=a.Xi[Ee]=(0,a.Vp)(Ee),he="PBI.EX.ReportMeasureMoveRoleKind",xe=a.Xi[he]=(0,a.Vp)(he),Se="PBI.EX.QuickCalcMeasureEdited",Ae=a.Xi[Se]=(0,a.Vp)(Se),Ie="PBI.EX.QuickCalcMeasureDeleted",Je=a.Xi[Ie]=(0,a.Vp)(Ie),pe="PBI.EX.VisualDrillableRoleActiveItemsFixed",Pe=a.Xi[pe]=(0,a.Vp)(pe),Me="PBI.PersistentState.SerializationError",Ge=a.Xi[Me]=(0,a.Vp)(Me),De="PBI.Pod.SerializationErrorFixed",lt=a.Xi[De]=(0,a.Vp)(De),ct="PBI.SerializationError",vt=a.Xi[ct]=(0,a.Vp)(ct),Vt="PBI.EX.EmptyVisualContainerConfig",It=a.Xi[Vt]=(0,a.Vp)(Vt),Ot="PBI.ClipboardService.Paste",de=a.Xi[Ot]=(0,a.Vp)(Ot),Ze="PBI.ClipboardService.UnsupportedVersion",Ye=a.Xi[Ze]=(0,a.Vp)(Ze),qe="PBI.DataPointLassoSelect.PreviewSerialized",et=(a.Xi[qe]=(0,a.Vp)(qe),"PBI.EX.LoopingSQExpr"),me=(a.Xi[et]=(0,a.Vp)(et),"PBI.EX.GetLinguisticSchema"),Ke=(a.Xi[me]=(0,a.Vp)(me),"PBI.EX.GetAutoRefreshAdminConfig"),Xe=a.Xi[Ke]=(0,a.Vp)(Ke),re="PBI.EX.GetChangeDetectionAdminConfig",fe=a.Xi[re]=(0,a.Vp)(re),ae="PBI.EX.AnchorTimeUndefined",tt=a.Xi[ae]=(0,a.Vp)(ae),ot="PBI.EX.GetAPRConfigFailure",rt=a.Xi[ot]=(0,a.Vp)(ot),Re="PBI.EX.DefnsDuplicateSelector",J=a.Xi[Re]=(0,a.Vp)(Re),ce="PBI.EX.CertifiedTelemetryChildrenCountMismatch",Ce=a.Xi[ce]=(0,a.Vp)(ce),ze="PBI.EX.UndoEventTime",it=a.Xi[ze]=(0,a.Vp)(ze),yt="PBI.EX.ConsecutiveUndoCount",Nt=a.Xi[yt]=(0,a.Vp)(yt),Lt="PBI.EX.DeserializeNonUniqueIdentifier",zt=function(je){return je.VisualsNamePerPage="VisualsNamePerPage",je.PageNames="PageNames",je.BookmarkNames="BookmarkNames",je.PodNames="PodNames",je}({}),Yt=a.Xi[Lt]=(0,a.Vp)(Lt),Qt="PBI.EX.SerializeSizeAndCount",sr=a.Xi[Qt]=(0,a.Vp)(Qt)},572920:function(ve,z,e){e.d(z,{JH:function(){return l},Qt:function(){return u},hr:function(){return p},kW:function(){return s},tk:function(){return m}});var a=e(920468),i=e(18122),r=e(798553),t=e(989417),o=e(358719),d=e(448724),n=e(417841),c=e(153484);class s{constructor(h,C,y){this.op=h,this.onOperatorChanged(),this.isCalendarShown=!1,this.value=new p(C,y)}get operator(){return this.op}set operator(h){this.op!==h&&(this.op=h,this.onOperatorChanged())}get operatorLabel(){return this.opLabel}set operatorLabel(h){this.opLabel=h}get valueRequired(){return this.valRequired}accept(h){return h.visit(this)}static empty(){return new s(d.tl.None)}static equals(h,C){return(h=h||null)===(C=C||null)||!h==!C&&(i.Y.assertValue(h,"x"),i.Y.assertValue(C,"y"),h.operator===C.operator&&p.equals(h.value,C.value))}onOperatorChanged(){this.valRequired=m(this.operator),this.valRequired?this.cachedValue&&(this.value=this.cachedValue,this.cachedValue=void 0):this.value&&(this.cachedValue=this.value,this.value=void 0)}}class p{constructor(h,C){null!=h&&(h instanceof Date&&(this.dateValue=h),this.value=h,this.formatter=C,this.stringValue=this.formatter?this.formatter.format(this.value):this.value.toString()),this.dateValue?this.timeValue=new Date(this.dateValue.getTime()):(this.timeValue=new Date,this.timeValue.setHours(0,0,0,0))}get isDate(){return null!=this.dateValue}get hasValue(){return null!=this.dateValue||!(0,t.M)(this.stringValue)}isValidDate(){return this.isDate&&(!_.isString(this.value)||null!==c.r9.parseDate(this.value))}static equals(h,C){return(h=h||null)===(C=C||null)||!h==!C&&(i.Y.assertValue(h,"left"),i.Y.assertValue(C,"right"),p.compareDateTimeValue(h,C)&&h.stringValue===C.stringValue)}static compareDateTimeValue(h,C){return(h.dateValue?h.dateValue.valueOf():0)===(C.dateValue?C.dateValue.valueOf():0)}}class l{constructor(h){this.localizationService=h,this.isOperator=new r.d(()=>({value:d.tl.Is,label:this.getLocalize().get("FilterOperator_Is"),tooltip:this.getLocalize().get("FilterOperator_IsTooltip")})),this.isNotOperator=new r.d(()=>({value:d.tl.IsNot,label:this.getLocalize().get("FilterOperator_IsNot"),tooltip:this.getLocalize().get("FilterOperator_IsNotTooltip")})),this.isBlankOperator=new r.d(()=>({value:d.tl.IsBlank,label:this.getLocalize().get("FilterOperator_IsBlank"),tooltip:this.getLocalize().get("FilterOperator_IsBlankTooltip")})),this.isNotBlankOperator=new r.d(()=>({value:d.tl.IsNotBlank,label:this.getLocalize().get("FilterOperator_IsNotBlank"),tooltip:this.getLocalize().get("FilterOperator_IsNotBlankTooltip")})),this.containsOperator=new r.d(()=>({value:d.tl.Contains,label:this.getLocalize().get("FilterOperator_Contains"),tooltip:this.getLocalize().get("FilterOperator_ContainsTooltip")})),this.doesNotContainOperator=new r.d(()=>({value:d.tl.DoesNotContain,label:this.getLocalize().get("FilterOperator_DoesNotContain"),tooltip:this.getLocalize().get("FilterOperator_DoesNotContainTooltip")})),this.startsWithOperator=new r.d(()=>({value:d.tl.StartWith,label:this.getLocalize().get("FilterOperator_StartsWith"),tooltip:this.getLocalize().get("FilterOperator_StartsWithTooltip")})),this.doesNotStartWithOperator=new r.d(()=>({value:d.tl.DoesNotStartWith,label:this.getLocalize().get("FilterOperator_DoesNotStartWith"),tooltip:this.getLocalize().get("FilterOperator_DoesNotStartWithTooltip")})),this.isEmptyString=new r.d(()=>({value:d.tl.IsEmptyString,label:this.getLocalize().get("FilterOperator_IsEmptyString"),tooltip:this.getLocalize().get("FilterOperator_IsEmptyStringTooltip")})),this.isNotEmptyString=new r.d(()=>({value:d.tl.IsNotEmptyString,label:this.getLocalize().get("FilterOperator_IsNotEmptyString"),tooltip:this.getLocalize().get("FilterOperator_IsNotEmptyStringTooltip")})),this.greaterThanOperator_ForDateTime=new r.d(()=>({value:d.tl.GreaterThan,label:this.getLocalize().get("FilterOperator_GreaterThan_DT"),tooltip:this.getLocalize().get("FilterOperator_GreaterThan_DT")})),this.greaterThanOrEqualToOperator_ForDateTime=new r.d(()=>({value:d.tl.GreaterThanOrEqual,label:this.getLocalize().get("FilterOperator_GreaterThanOrEqual_DT"),tooltip:this.getLocalize().get("FilterOperator_GreaterThanOrEqual_DT")})),this.isLessThanOperator_ForDateTime=new r.d(()=>({value:d.tl.LessThan,label:this.getLocalize().get("FilterOperator_LessThan_DT"),tooltip:this.getLocalize().get("FilterOperator_LessThan_DT")})),this.isLessThanOrEqualToOperator_ForDateTime=new r.d(()=>({value:d.tl.LessThanOrEqual,label:this.getLocalize().get("FilterOperator_LessThanOrEqual_DT"),tooltip:this.getLocalize().get("FilterOperator_LessThanOrEqual_DT")})),this.greaterThanOperator=new r.d(()=>({value:d.tl.GreaterThan,label:this.getLocalize().get("FilterOperator_GreaterThan"),tooltip:this.getLocalize().get("FilterOperator_GreaterThan")})),this.greaterThanOrEqualToOperator=new r.d(()=>({value:d.tl.GreaterThanOrEqual,label:this.getLocalize().get("FilterOperator_GreaterThanOrEqual"),tooltip:this.getLocalize().get("FilterOperator_GreaterThanOrEqual")})),this.isLessThanOperator=new r.d(()=>({value:d.tl.LessThan,label:this.getLocalize().get("FilterOperator_LessThan"),tooltip:this.getLocalize().get("FilterOperator_LessThan")})),this.isLessThanOrEqualToOperator=new r.d(()=>({value:d.tl.LessThanOrEqual,label:this.getLocalize().get("FilterOperator_LessThanOrEqual"),tooltip:this.getLocalize().get("FilterOperator_LessThanOrEqual")}))}getLocalize(){return(0,a.oB)(this.localizationService)}operatorsForColumnMappedToMParameter(){var h=[];return h.push(this.isOperator.getValue()),h}dateTimeOperator(){var h=[];return h.push(this.isOperator.getValue()),h.push(this.isNotOperator.getValue()),h.push(this.greaterThanOperator_ForDateTime.getValue()),h.push(this.greaterThanOrEqualToOperator_ForDateTime.getValue()),h.push(this.isLessThanOperator_ForDateTime.getValue()),h.push(this.isLessThanOrEqualToOperator_ForDateTime.getValue()),h.push(this.isBlankOperator.getValue()),h.push(this.isNotBlankOperator.getValue()),h}stringTypeOperator(){var h=[];return h.push(this.containsOperator.getValue()),h.push(this.doesNotContainOperator.getValue()),h.push(this.startsWithOperator.getValue()),h.push(this.doesNotStartWithOperator.getValue()),h.push(this.isOperator.getValue()),h.push(this.isNotOperator.getValue()),h.push(this.isBlankOperator.getValue()),h.push(this.isNotBlankOperator.getValue()),h.push(this.isEmptyString.getValue()),h.push(this.isNotEmptyString.getValue()),h}numericOperator(){var h=[];return h.push(this.isLessThanOperator.getValue()),h.push(this.isLessThanOrEqualToOperator.getValue()),h.push(this.greaterThanOperator.getValue()),h.push(this.greaterThanOrEqualToOperator.getValue()),h.push(this.isOperator.getValue()),h.push(this.isNotOperator.getValue()),h.push(this.isBlankOperator.getValue()),h.push(this.isNotBlankOperator.getValue()),h}tryGetExprFilterOperators(h,C,y,f){if(!_.isEmpty(h.validate(C,y)))return{hasError:!0,operators:void 0};var S=h.getMetadata(C);return i.Y.assertValue(S,"metadata"),{hasError:!1,operators:this.getFilterOperators(S.type,f)}}getFilterOperators(h,C){return C?this.operatorsForColumnMappedToMParameter():h.text?this.stringTypeOperator():h.integer||h.numeric?this.numericOperator():h.dateTime?this.dateTimeOperator():void 0}isOperatorForColumnMappedToMParameter(h){return this.operatorsForColumnMappedToMParameter().some(C=>C.value===h)}}class u{constructor(h){this.localizationService=h}fromCondition(h,C,y){var S,f=new E(C,y,this.localizationService);for(var b of h)null==b.operator||b.operator===d.tl.None||(S=b.accept(f));return S}fromLabels(h,C){var y;if(h.length>0){var S=[];for(var b of h)S.push(g(b));y=(0,o.be)(S),y=(0,t.G)(C?(0,a.oB)(this.localizationService).get("FilterRestatement_NotEqual"):(0,a.oB)(this.localizationService).get("FilterRestatement_Equal"),y)}return y}fromDataViewScopeIdentities(h,C,y){var f=[];for(var S of h)f.push(v(S,y));return this.fromLabels(f,C)}fromDefault(h){if(null!=h)return(0,t.G)((0,a.oB)(this.localizationService).get("FilterRestatement_IsDefault"),g(h))}}function v(D,h){var C=(0,n.vl)(D);return h?h.format(C):C}function m(D){return D!==d.tl.IsBlank&&D!==d.tl.IsNotBlank&&D!==d.tl.None&&D!==d.tl.IsEmptyString&&D!==d.tl.IsNotEmptyString}function g(D){return null===D?null:_.isString(D)?D:D.displayName?D.displayName:"function"!=typeof D||"object"!=typeof D?D:void 0}class E{constructor(h,C,y){this.localizationService=y,this.localizationService=(0,a.oB)(this.localizationService),h===d.um.And?this.logicalOperatorResourceId=this.localizationService.get("FilterRestatement_CompoundAnd"):h===d.um.Or&&(this.logicalOperatorResourceId=this.localizationService.get("Generic_Or")),this.formatter=C}visit(h){var C=this.conditionToString(h);if(C)return _.isEmpty(this.result)?this.result=C:(i.Y.assert(()=>!_.isEmpty(this.logicalOperatorResourceId),"Logical operator is not set"),this.result=(0,t.G)(this.logicalOperatorResourceId,this.result,C)),this.result}conditionToString(h){var y,C=h.value;if(!m(h.operator)||C&&C.hasValue)switch(C&&(y=this.formatter?this.formatter.format(C.value||C.stringValue):C.stringValue),h.operator){case d.tl.Is:return(0,t.G)(this.localizationService.get("FilterRestatement_Equal"),y);case d.tl.IsNot:return(0,t.G)(this.localizationService.get("FilterRestatement_NotEqual"),y);case d.tl.GreaterThan:return(0,t.G)(this.localizationService.get(C.isDate?"FilterRestatement_GreaterThan_DT":"FilterRestatement_GreaterThan"),y);case d.tl.GreaterThanOrEqual:return(0,t.G)(this.localizationService.get(C.isDate?"FilterRestatement_GreaterThanOrEqual_DT":"FilterRestatement_GreaterThanOrEqual"),y);case d.tl.LessThan:return(0,t.G)(this.localizationService.get(C.isDate?"FilterRestatement_LessThan_DT":"FilterRestatement_LessThan"),y);case d.tl.LessThanOrEqual:return(0,t.G)(this.localizationService.get(C.isDate?"FilterRestatement_LessThanOrEqual_DT":"FilterRestatement_LessThanOrEqual"),y);case d.tl.Contains:return(0,t.G)(this.localizationService.get("FilterRestatement_Contains"),y);case d.tl.DoesNotContain:return(0,t.G)(this.localizationService.get("FilterRestatement_DoesNotContain"),y);case d.tl.StartWith:return(0,t.G)(this.localizationService.get("FilterRestatement_StartWith"),y);case d.tl.DoesNotStartWith:return(0,t.G)(this.localizationService.get("FilterRestatement_DoesNotStartWith"),y);case d.tl.IsBlank:return this.localizationService.get("FilterOperator_IsBlank");case d.tl.IsNotBlank:return this.localizationService.get("FilterOperator_IsNotBlank");case d.tl.IsEmptyString:return this.localizationService.get("FilterOperator_IsEmptyString");case d.tl.IsNotEmptyString:return this.localizationService.get("FilterOperator_IsNotEmptyString");default:return i.Y.assertFail("Not supported filter operator"),""}}}},447027:function(ve,z,e){e.d(z,{a:function(){return A}});var a=e(81825),i=e(327761),r=e(946120),t=e(698244),o=e(285264),d=e(429943),n=e(309857),c=e(18122),s=e(989417),p=e(140318),l=e(943509),u=e(8343),v=e(890741),m=e(702794),g=e(814691),E=e(999904),D=e(31802),h=e(266092),C=e(358719),y=e(335128),f=e(910058),S=e(448724),b=e(258480),V=e(757406),M=e(858225),P=e(371320),T=e(413399),N=e(850990),w=e(888411),I=e(387797),O=e(620825),x=e(98138),j=e(44646),U=e(188076),F=e(348580),R=e(620455),B=function(Ie){return Ie[Ie.TopN=0]="TopN",Ie[Ie.Exist=1]="Exist",Ie}({});function A(Ie,Je,pe,Pe,Me,Ge,De,lt,ct){if(c.Y.assertValue(Ie,"visualConfig"),c.Y.assertValue(Je,"visualType"),c.Y.assertValue(pe,"schema"),Ie&&Je&&pe){var vt=Me.visualPluginService.getPlugin(Je);if(vt){var Ye,Vt=vt.capabilities,It=De||Vt.dataViewMappings,Ot=Ie.query,de=Vt.sorting?Vt.sorting.implicit:null,Ze=Ot?(0,I.L)(Ot):{};if(It&&Ot){var ut=(0,g.i7)(Ot.projections,It,Ze,Me.featureSwitchService.featureSwitches,Vt.objects,Ie.objects,Ot.defn.select(),pe);if(!ut.supportedMappings)return function(Ie,Je,pe,Pe,Me,Ge){var De=function(Ie,Je,pe,Pe,Me){var Ge,De=[];switch(Ie.name){case R.U.map:case R.U.azureMap:Ge=function(Ie){var Je=_.some(Ie,Me=>"Category"===Me.roleName&&Me.code===g.gU.conditionRangeTooLarge),pe=_.some(Ie,Me=>"X"===Me.roleName&&Me.code===g.gU.conditionKindExpectedGrouping),Pe=_.some(Ie,Me=>"Y"===Me.roleName&&Me.code===g.gU.conditionKindExpectedGrouping);return Je?"DataViewMappingError_LocationAndLatLongGroup":pe||Pe?"DataViewMappingError_LatLongAggregateWithNoLocation":void 0}(Je);break;case R.U.scatterChart:Ge=function(Ie,Je){var pe=_.some(Ie,Ge=>Ge.roleName===d.Jl.category&&Ge.code===g.gU.conditionRangeTooLarge),Pe=_.some(Ie,Ge=>Ge.roleName===d.Jl.play&&Ge.code===g.gU.conditionRangeTooLarge),Me=_.some(Ie,Ge=>Ge.roleName===d.Jl.x&&(Ge.code===g.gU.conditionKindExpectedGrouping||Ge.code===g.gU.conditionKindExpectedMeasure));return pe?Je.featureSwitches.useModernFormatPane?"DataViewMappingError_ScatterGroupingValues":"DataViewMappingError_ScatterGroupingDetails":Pe?"DataViewMappingError_ScatterGroupingPlayAxis":Me?"DataViewMappingError_ScatterXMismatchType":void 0}(Je,Pe);break;case R.U.slicer:_.find(Je,vt=>vt.code===g.gU.conditionNotHierarchicallyRelated)&&(Ge="DataViewMappingError_ConditionNotHierarchicallyRelated")}if(!Ge&&!_.isEmpty(Je)){var lt=function(Ie){if(_.isEmpty(Ie))return null;var Je=[];for(var pe of Ie)if(void 0!==pe.conditionIndex&&void 0!==pe.mappingIndex){var Pe=pe.conditionIndex,Me=pe.mappingIndex;Je[Pe]||(Je[Pe]=[]),Je[Pe][Me]?Je[Pe][Me]++:Je[Pe][Me]=1}for(var De,lt,Ge=Ie.length+1,ct=0;ct<Je.length;ct++)for(var vt=0;vt<Je[ct].length;vt++)void 0!==Je[ct][vt]&&Ge>Je[ct][vt]&&(De=ct,Ge=Je[ct][vt],lt=vt);var Vt=Ie[0];return void 0!==De&&(Vt=_.find(Ie,It=>It.conditionIndex===De&&It.mappingIndex===lt)),Vt}(Je);switch(lt.code){case g.gU.conditionRangeTooLarge:Ge="DataViewMappingError_ConditionRangeTooLarge";break;case g.gU.conditionRangeTooSmall:Ge="DataViewMappingError_ConditionRangeTooSmall";break;case g.gU.conditionKindExpectedMeasure:Ge="DataViewMappingError_ConditionKindExpectedMeasure";break;case g.gU.conditionKindExpectedGrouping:Ge="DataViewMappingError_ConditionKindExpectedGrouping";break;case g.gU.conditionNotHierarchicallyRelated:return new j.Q(Ge="DataViewMappingError_ConditionNotHierarchicallyRelated",pe);case g.gU.conditionSchemaCapabilities_TupleFilters_InstanceFilters:Ge="DataViewMappingError_ConditionSchemaCapabilities_TupleFilters";break;case g.gU.conditionKindExpectedGroupingOrMeasure:break;default:c.Y.assertNever(lt.code)}De=[we(lt,Me,pe)]}if(Ge)return ye(pe.format(Ge,De),Ge)}(Ie,Pe,Me.localizationService,Me.featureSwitchService,Ge);if(De)return{error:De,compiled:null};var lt=(0,u.o8)(Je.projections);for(var ct in lt){var vt=lt[ct];vt.activeProjectionRefs=_.map(vt.activeProjectionRefs,de=>"select"+(0,o.$F)(de));for(var Vt=0,It=vt.all();Vt<It.length;Vt++)vt.assignProjection(It[Vt]?{queryRef:"select"+(0,o.$F)(It[Vt].queryRef)}:null,Vt)}var Ot=new j.Q("ClientError_NoSupportedDataViewMappingFound",Me.localizationService);return Ot.addDebugInfo("VisualType",pe),Ot.addDebugInfo("QueryProjectionsByRole",JSON.stringify(lt)),Me.telemetryService.logEvent(T.XV,{code:pe,debugInfo:JSON.stringify(Ot.getDetails(Me.localizationService).debugErrorInfo)}),{error:Ot,compiled:null}}(vt,Ot,Je,ut.mappingErrors,Me,Vt.dataRoles);var et=Ot.hasHiddenProjections()?(0,g.i7)(Ot.projections,It,Ze,Me.featureSwitchService.featureSwitches,Vt.objects,Ie.objects,Ot.defn.select(),pe,!0):void 0,le=function(Ie,Je,pe,Pe,Me,Ge){var De=Ie?.query;if(_.isEmpty(Ge)&&!_.isEmpty(Pe.visualShapeDataViewMappings)&&De.hasVisualCalcExpressions()){var lt=_.some(Pe.visualShapeDataViewMappings,vt=>!_.isEmpty(vt.conditions)&&!_.isEmpty(vt.matrix)&&_.isEmpty(vt.table)&&_.isEmpty(vt.categorical)&&_.isEmpty(vt.tree)&&_.isEmpty(vt.usage)&&_.isEmpty(vt.single)&&_.isEmpty(vt.scriptResult)&&_.isEmpty(vt.requiredProperties));c.Y.assert(()=>lt,"visualShapeDataViewMappings should only have conditions and matrix");var ct=(0,g.i7)(De.projections,Pe.visualShapeDataViewMappings,Me,pe.featureSwitchService.featureSwitches,Pe.objects,Ie.objects,De.defn.select(),Je);if(!_.isEmpty(ct.supportedMappings))return ct.supportedMappings}}(Ie,pe,Me,Vt,Ze,De);Ye=function(Ie,Je,pe,Pe,Me,Ge,De,lt,ct,vt,Vt,It,Ot,de,Ze,Ye,qe,ut,et,le){c.Y.assertValue(Ie,"visualType"),c.Y.assertValue(Je,"schema"),c.Y.assertAnyValue(pe,"query"),c.Y.assertNonEmpty(Pe,"supportedMappings"),c.Y.assertAnyValue(Ge,"dataRoles"),c.Y.assertAnyValue(Vt,"additionalFilters"),c.Y.assertAnyValue(ut,"queryGeneratorCapabilities"),pe=(0,w.xg)(vt.visual.objects,Pe,pe,It,De);var me=(0,r.$)({mappings:Pe,queryDefn:pe.defn,queryProjections:pe.projections,schema:Je,objectDescriptors:vt.visual.descriptors,objectDefinitions:vt.visual.objects,roles:Ge,featureSwitches:Ot.featureSwitches,transformPluginService:It});if(!_.isEmpty(le)&&(Ie===R.U.lineStackedColumnComboChart||Ie===R.U.lineClusteredColumnComboChart)){var Be=(0,r.$)({mappings:le,queryDefn:pe.defn,queryProjections:pe.projections,schema:Je,objectDescriptors:vt.visual.descriptors,objectDefinitions:vt.visual.objects,roles:Ge,featureSwitches:Ot.featureSwitches,transformPluginService:It});1===me.length&&2===Be.length&&me.push(Be[1])}if(function(Ie,Je){if(Ie!==R.U.slicer)return!1;for(var pe of Je){var Pe=pe?.metadata?.columns;if(1!==Pe?.length&&_.some(Pe,Me=>Me?.parameter?.kind===l.t_.MParameters))return!0}return!1}(Ie,me))return{error:new j.Q("DQP_No_MappedColumns_In_HierarchySlicers",de),query:void 0,mappings:void 0,additionalProjections:void 0,objectDefinitions:void 0};if(Ye){var Ke=H(me),re=Ye({dataViewMappings:me,scopedAggregates:Ot.featureSwitches.scopedAggregates,queryProperties:{hasVisualCalculations:pe.hasVisualCalcExpressions()}});if(re&&re.error){var fe=re.error.code;return{error:ye(de.get(fe),fe),query:void 0,mappings:void 0,additionalProjections:void 0,objectDefinitions:void 0}}if(!_.isEmpty(pe.expansionStates)){var ae=[];c.Y.assert(()=>1===me.length,"visualQueryGenerator.compileMappingsWithProperties - compiledMappings should only have 1 mapping");var tt=!_.isEmpty(me)&&me[0].matrix;if(tt){var ot=tt.rows;ot.for?ae=_.map(ot.for.in.items,Tt=>Tt):c.Y.assertFail("visualQueryGenerator.compileMappingsWithProperties - invalid row mapping type")}for(var rt of pe.expansionStates)if(!_.isEmpty(rt.root.children)&&!_.isEmpty(rt.levels))for(var Re of rt.levels)for(var J of ae)_.isEmpty(Re.queryRefs)||J.queryName!==Re.queryRefs[0]||J.subtotalType!==p.y.After&&(J.subtotalType=p.y.Before)}pe=function(Ie,Je,pe){if(_.isEqual(Je,pe))return Ie;var Pe=[],Me=Ie.defn.select();for(var Ge of pe){var De=_.sortBy(Ge,vt=>vt.sortOrder);for(var lt of De){var ct=Me.withName(lt.queryName);Pe.push({direction:lt.sort,expr:ct.expr})}}return new P.r(Ie.defn.orderBy(Pe),Ie.projections,Ie.expansionStates,Ie.isDrillDisabled)}(pe,Ke,H(me))}(function(Ie,Je,pe){for(var Pe of Ie)Je&&!1===Je.allowBinnedLineSample&&Te(Pe),Je&&!1===Je.allowOverlappingPointsSample&&He(Pe),ue(pe)||We(Pe)})(me,lt,Je),pe=(0,w.ZI)(It,pe,me),pe=Ze.applyImplicitSort(pe,qe),pe=Ze.ensureValidSorting({query:pe,schema:Je,visualType:Ie,columnProperties:ct,compiledMappings:me});var{modifiedObjectDefinitions:Ce,addedScalarKeys:ze}=function(Ie,Je,pe,Pe,Me){var Ge,De=[];for(var lt of Je)(0,m.o4)(lt,{visitRole:ct=>{if(ct.items)for(var vt of ct.items)if(vt.scalarKeyInfo&&vt.scalarKeyInfo.scalarKeyMinProperty){if(!Ge)if(Pe){var Vt=(0,t.Eo)(Pe,Me,void 0,!1);Ge=(0,t.EP)(Vt,Me)}else Ge={};De.push(mt(Ie,pe,vt,Ge))}}});return{modifiedObjectDefinitions:Ge||Pe,addedScalarKeys:De}}(Je,me,pe,vt.visual.objects,vt.visual.descriptors);Ce=function(Ie,Je,pe,Pe,Me,Ge){if(!Ie||!Ie.dataFilter)return Ge;var vt,De=Me.defn.select(),lt=Ie.dataFilter.where(),ct=Ie.queryRefsForSingleItemDrillFilters;for(var Vt of Pe)!Vt||!Vt.categorical||!Vt.categorical.categories||(0,m.Ax)(Vt.categorical.categories,{visitRole:It=>{if(!_.isEmpty(It.items))for(var Ot of It.items){var de=Ot.queryName;if(Ot.filteredToUniqueValueProperty&&_.includes(ct,de)){var Ye=Qe(De.withName(de).expr,lt,pe,Je);Ye&&(vt||(vt=Ge?(0,E.o8)(Ge):{}),Fe(Ye,Ot,vt))}}}});return vt||Ge}(Vt,ut,Je,me,pe,Ce),vt.visual.objects=Ce;var it=(0,F._)(pe,Ge),yt=[vt.visual];vt.visualContainer&&yt.push(vt.visualContainer);var Lt,zt,Yt,Nt=(0,i.X$)(pe.defn,Je,yt,it,pe.projections,Me,Vt&&Vt.dataFilter,!0,Ot.featureSwitches);if(Nt){for(var Qt of(Lt=new P.r(Nt.queryDefn,pe.projections,pe.expansionStates,pe.isDrillDisabled),zt=Nt.additionalProjections,Yt=Nt.warnings,ze)){var sr=Lt.defn.selectNameOf(Qt.expr);c.Y.assertValue(sr,"scalar key select name"),Qt.roleItem.scalarKeyInfo||(Qt.roleItem.scalarKeyInfo={}),Qt.roleItem.scalarKeyInfo.scalarKeyQueryName=sr}vt.visual=k(vt.visual,Je,M.B.buildExprEvaluationContext(pe.defn.from())),vt.visual=L(Nt.objectDefinitionRewrites,vt.visual)}var je=_.isEmpty(et)?void 0:(0,r.$)({mappings:et,queryDefn:pe.defn,queryProjections:pe.projections,schema:Je,objectDescriptors:vt.visual.descriptors,objectDefinitions:vt.visual.objects,roles:Ge,featureSwitches:Ot.featureSwitches,transformPluginService:It});return{query:Lt||pe,mappings:me,visualShapeMapping:je,additionalProjections:zt,warnings:Yt,objectDefinitions:vt.visual.objects}}(Je,pe,Ot,ut.supportedMappings,Ze,Vt.dataRoles,Vt,Ie.queryOptions,Ie.columnProperties,(0,I.YF)(Ie,Vt),Ge,Me.transformPluginService,Me.featureSwitchService,Me.localizationService,Me.sortService,ct??vt.customizeQuery,de,Pe,le,et?.supportedMappings)}else{var qe=(0,I.YF)(Ie,Vt);Ye=function(Ie,Je,pe,Pe,Me,Ge,De,lt,ct){if(c.Y.assertAnyValue(Ie,"schema"),c.Y.assertAnyValue(Je,"query"),c.Y.assertAnyValue(Pe,"roleMapping"),c.Y.assertAnyValue(Me,"dataRoles"),c.Y.assertAnyValue(De,"additionalFilters"),!Je&&_.isEmpty(Pe)){Je=new P.r(b.DC.create(),{},[]);var vt=(0,F._)(Je,Me),Vt=[Ge.visual];Vt.push(Ge.visualContainer);var It=(0,i.X$)(Je.defn,Ie,Vt,vt,Je.projections,pe,De&&De.dataFilter,!0,lt.featureSwitches);if(It){var Ot=new P.r(It.queryDefn,Je.projections,Je.expansionStates,Je.isDrillDisabled),de=It.additionalProjections,Ze=(0,r.$)({mappings:[{table:{rows:{for:{in:"*"}}}}],queryDefn:Je.defn,queryProjections:Je.projections,schema:Ie,objectDescriptors:Ge.visual.descriptors,objectDefinitions:Ge.visual.objects,roles:Me,featureSwitches:lt.featureSwitches,transformPluginService:ct});return Ge.visual=k(Ge.visual,Ie,M.B.buildExprEvaluationContext(Je.defn.from())),Ge.visual=L(It.objectDefinitionRewrites,Ge.visual),{query:Ot||Je,mappings:Ze,additionalProjections:de,warnings:It.warnings,objectDefinitions:Ge.visual.objects}}}}(pe,Ot,Ze,It,Vt.dataRoles,qe,Ge,Me.featureSwitchService,Me.transformPluginService)}var me=[];if(Ye){if(Ye.error)return{error:Ye.error,compiled:null};me.push(...function(Ie,Je,pe,Pe,Me){var Ge=new Ae(Je.defn,pe,Pe,Me);for(var De of Ie)(0,m.o4)(De,Ge);return Ge.warnings}(Ye.mappings,Ye.query,pe,Me.displayNameService,Vt)||[]),me.push(...function(Ie){if(Ie&&Ie.highlightFilter){var Je=Ie.highlightFilter.where(),pe=_.find(Je,Me=>(0,f.m)(Me.condition)===S.l0.Subquery),Pe=_.find(Je,Me=>(0,O.D$)(Me.condition));if(pe||Pe)return Ie.dataFilter=Ie.dataFilter?b.b0.merge([Ie.dataFilter,Ie.highlightFilter]):Ie.highlightFilter,Ie.highlightFilter=void 0,[new Se(pe?B.TopN:B.Exist)]}}(Ge)||[]),Ye.warnings&&me.push(...Ye.warnings||[]);var Be=Me.telemetryService.getOpenActivityById(lt&&lt.getProperty("telemetryActivityId"));for(var Ke of me)Me.telemetryService.logChildEvent(Be&&Be.event,T.Yy,{code:Ke.code})}return{compiled:Ye,warnings:me}}}}function k(Ie,Je,pe){var Pe={};for(var Me in Ie.objects){var Ge=Ie.descriptors[Me];if(Ge)for(var De of Ie.objects[Me])for(var lt in De.properties){var ct=Ge.properties[lt];if(ct&&ct.formatStringProperty){var vt=De.properties[lt],Vt=void 0;if((0,E.ui)(vt))Vt=vt;else{if(!(0,E.JZ)(vt))continue;Vt=vt.value}if(!(0,E._W)(Ie.objects,ct.formatStringProperty,De.selector)){var Ot=Vt.getMetadata(Je,pe);if(Ot&&(Ot.type||Ot.format)){var de=Ot.format??(0,C.gQ)(Ot.type);de&&(0,E.KY)(Pe,ct.formatStringProperty,De.selector,(0,V.Qq)(de))}}}}}if(!_.isEmpty(Pe))for(var Ze in Ie.objects=(0,E.o8)(Ie.objects),Pe)for(var Ye of Pe[Ze])for(var qe in Ye.properties)(0,E.KY)(Ie.objects,{objectName:Ze,propertyName:qe},Ye.selector,Ye.properties[qe]);return Ie}function L(Ie,Je){if(!_.isEmpty(Ie))for(var pe of(Je.objects=(0,E.o8)(Je.objects),Ie))for(var Pe in Je.objects)for(var Me of Je.objects[Pe])if((0,v.aI)(Me.selector,pe.selector))for(var Ge in Me.properties){var De=Me.properties[Ge],lt=void 0;if((0,E.ui)(De))lt=De;else{if(!(0,E.JZ)(De))continue;lt=De.value}(0,x.aI)(lt,pe.from)&&(Me.properties[Ge]=pe.to)}return Je}function H(Ie){var Je=[];for(var pe of Ie){var Pe=[];for(var Me of pe.metadata.columns)Me.sort&&Pe.push({queryName:Me.queryName,sort:Me.sort,sortOrder:Me.sortOrder});Je.push(Pe)}return Je}function ue(Ie){return _.every(Ie.schemas,Je=>Je.capabilities&&Je.capabilities.supportsTopNPerLevel)}function Te(Ie){var Je=Ie.categorical;if(Je&&Je.dataReductionAlgorithm&&Je.dataReductionAlgorithm.binnedLineSample&&(Je.dataReductionAlgorithm=void 0,Je.categories&&(Je.categories.dataReductionAlgorithm={sample:{}}),Je.values)){var pe=Je.values;pe.group&&(pe.group.dataReductionAlgorithm={top:{}})}}function He(Ie){var Je=Ie.categorical,pe=Ie.matrix;if(Je&&Je.dataReductionAlgorithm&&Je.dataReductionAlgorithm.overlappingPointsSample){var Pe=Je.dataReductionAlgorithm.overlappingPointsSample.count;Je.dataReductionAlgorithm={sample:{}},Pe&&(Je.dataReductionAlgorithm.sample.count=Pe)}else if(pe&&pe.rows&&pe.rows.dataReductionAlgorithm&&pe.rows.dataReductionAlgorithm.overlappingPointsSample){var Me=pe.rows.dataReductionAlgorithm.overlappingPointsSample.count;pe.rows.dataReductionAlgorithm={sample:{}},Me&&(pe.rows.dataReductionAlgorithm.sample.count=Me)}}function We(Ie){var Je=Ie.matrix;if(Je&&Je.rows&&Je.rows.dataReductionAlgorithm&&Je.rows.dataReductionAlgorithm.topNPerLevel){var pe=Je.rows.dataReductionAlgorithm.topNPerLevel.fallbackTopCount;Je.rows.dataReductionAlgorithm={top:{}},pe&&(Je.rows.dataReductionAlgorithm.top.count=pe)}}function mt(Ie,Je,pe,Pe){var Me=pe.scalarKeyInfo.scalarKeyMinProperty;c.Y.assertValue(Me,"scalarKeyMinProperty"),(0,n.z6)(pe.scalarKeyInfo.hasScalarKey,"Scalar key requested when not available");var Ge=Je.defn.select().withName(pe.queryName).expr,De=(0,V.QD)((0,D.dY)(Ge,Ie),a.Sn.Min);return(0,E.KY)(Pe,Me,pe.scalarKeyInfo.selector,De),{roleItem:pe,expr:De}}function Qe(Ie,Je,pe,Pe){if(!Pe||!Pe.hasAmbiguousEqualitySemantics)return!0;var Me=Ie.getKeyColumns(pe);return _.every(Me,Ge=>_.some(Je,De=>{var lt=N.M.getFilterValuesForColumn(Ge,De);if(1===_.size(lt)){var vt=lt[0];if((0,O.VO)(vt)&&!Pe.hasAmbiguousEqualitySemantics(vt))return!0}return!1}))}function Fe(Ie,Je,pe){var Pe=Je.filteredToUniqueValueProperty;c.Y.assertValue(Pe,"filteredToUniqueValueProperty");var Me=(0,V.zM)(Ie);(0,E.KY)(pe,Pe,{metadata:Je.queryName},Me)}function ye(Ie,Je){return{code:Je,getDetails:()=>({displayableErrorInfo:[],message:Ie})}}function we(Ie,Je,pe){var Pe=Ie.roleName;if(!_.isEmpty(Je)){var Me=_.find(Je,Ge=>Ge.name===Ie.roleName);Me&&Me.displayName&&(Pe=(0,h.M)(Me.displayName,pe))}return Pe}class xe{constructor(Je){this.errorInfos=Je}get code(){return"ShowAllDiabledWarning"}getDetails(Je){var pe=Je.get("ShowAllDisabledWarning_Value"),Pe=_.map(this.errorInfos,Ge=>Ge.fieldDisplayName).join(", ");return{message:Je.get("ShowAllDisabledWarning_Message"),displayableErrorInfo:[{errorInfoKey:Je.get("ShowAllDiabledWarning_ErrorInfoKey"),errorInfoValue:(0,s.G)(pe,Pe)}]}}}class Se{constructor(Je){this.highlightDisableType=Je}get code(){switch(this.highlightDisableType){case B.TopN:return"HighlightWithTOPNDisabledWarning";case B.Exist:return"HighlightWithExistsFiltersDisabledWarning"}}getDetails(Je){var pe=this.highlightDisableType===B.TopN,Me=pe?"HighlightWithTOPNDisabledWarning_ErrorInfoKey":"HighlightWithExistFiltersDisabledWarning_ErrorInfoKey",Ge=pe?"HighlightWithTOPNDisabledWarning_Value":"HighlightWithExistFiltersDisabledWarning_Value";return{message:Je.get(pe?"HighlightWithTOPNDisabledWarning_Message":"HighlightWithExistFiltersDisabledWarning_Message"),displayableErrorInfo:[{errorInfoKey:Je.get(Me),errorInfoValue:Je.get(Ge)}]}}}class Ae{constructor(Je,pe,Pe,Me){for(var Ge of(c.Y.assertValue(Je,"query"),c.Y.assertValue(pe,"schema"),c.Y.assertValue(Pe,"displayNameService"),this.displayNameService=Pe,this.incompatibleExprInfo=[],Je.select())){var De=(0,U.F)(Ge.expr);De&&De.percentOfGrandTotal&&this.incompatibleExprInfo.push({basePropertyName:(0,y.hm)(De),fieldDisplayName:this.displayNameService.getQualifiedDisplayName(Ge.expr,pe,Me)})}this.warnings=[]}visitRole(Je){Je.showAll&&this.incompatibleExprInfo.length>0&&(Je.showAll=!1,this.warnings.push(new xe(this.incompatibleExprInfo)))}}},647479:function(ve,z,e){e.d(z,{h:function(){return t}});var r,a=e(576086),i=e(850990);class t{}r=t,t.DetailVisualBorder=10,t.supportsVisualDetails=(o,d,n)=>{var c=d.capabilities(o);return!(!c||!n.isQueryVisual(o)||n.isAnalysisVisual(o)||c.disableVisualDetails)&&_.some(c.dataViewMappings,s=>s.categorical||s.matrix||s.table||s.tree)},t.supportsMatrixView=(o,d,n)=>r.supportsVisualDetails(o,d,n)&&!n.isTableVisual(o)&&!n.isMatrixVisual(o)&&!i.M.supportsFilterOutput(d.capabilities(o)),t.getDetailVisualViewport=(o,d)=>{var c,s;return(d||a.Kb.Horizontal)===a.Kb.Horizontal?(c=o.width-2*r.DetailVisualBorder,s=o.height-r.DetailVisualBorder):(c=o.width-r.DetailVisualBorder,s=o.height-2*r.DetailVisualBorder),{width:Math.max(c,0),height:Math.max(s,0),scale:o.scale}},t.adjustViewport=(o,d,n)=>{var s=o||a.Kb.Horizontal,p=r.getDetailVisualViewport(d,s);return n&&s===a.Kb.Horizontal&&(p={width:p.width,height:Math.max(p.height-33,0),scale:p.scale}),p}},968888:function(ve,z,e){e.d(z,{D:function(){return d},x:function(){return o}});var a=e(678162),i=e(989417),r=e(81825),t=e(18122);function o(n,c,s,p,l){if(!_.isEmpty(n)){if(1===n.length)return n[0];var u=l?.limit;if(null!=u&&u<=0&&(t.Y.assertFail("The given displayIndividualValuesLimitInfo.limit value cannot be a number that is <= 0."),u=null),null!=u&&_.size(n)>u+1){var v=_.take(n,u);return 1===_.size(v)?(0,i.G)(s.stringResourceProvider.get(l.limitedValueShownResourceKey),v[0]):(0,i.G)(s.stringResourceProvider.get(l.multiLimitedValuesShownResourceKey??l.limitedValueShownResourceKey),v.join(s.stringResourceProvider.get("ListJoin_Separator")))}var g=n.pop();return 1===_.size(n)?(0,i.G)(s.stringResourceProvider.get(c),n[0],g):(0,i.G)(s.stringResourceProvider.get(p??c),n.join(s.stringResourceProvider.get("ListJoin_Separator")),g)}}function d(n,c){var s=(0,a.V)(n);return(n===r.Sn.Min||n===r.Sn.Max)&&c&&c.type&&(c.type.dateTime?s="Date"+s:c.type.text&&(s="String"+s)),s}},456339:function(ve,z,e){e.d(z,{Q:function(){return u},mn:function(){return c},p9:function(){return d},xY:function(){return t},yT:function(){return o}});var a=e(579260),i=e(18122),r=e(960179);function t(m,g){if(i.Y.assertAnyValue(m,"capabilities"),g)return[];var E=m.drilldown;return null!=E&&E.roles?E.roles:[]}function o(m){return i.Y.assertValue(m,"capabilities"),!!m.drilldown?.canDisableDrill}function d(m){return i.Y.assertValue(m,"capabilities"),o(m)&&!!m.drilldown.canDisableDrill.disabledByDefault}function n(m,g,E){i.Y.assert(()=>null!=g,"queryRef should exist while removing drill filters");var D=m.defn.select().withName(g);return i.Y.assertValue(D,"did not find queryRef in query.select while removing drill filter"),D?{expr:D.expr,roleName:E}:void 0}function c(m,g,E){if(g){var D;switch(E){case r.S5.Move:D=function(m,g){var E=[],D=m.projections,h=g.sourceCount,C=g.sourceIndex,y=g.sourceRole,f=g.targetRole;if(D[f]){var S=D[f],b=S.all(),V=g.targetIndex;V>=C&&y===f&&(V+=h);for(var P=S.convertFieldIndexToProjectionIndex(V),T=b.length;P<T;P++){var N=S.getProjectionsByProjectionIndex(P);for(var w of N)E.push(n(m,w.queryRef,f));P+=N.length-1}}if(D[y])for(var I=D[y],O=h-1;O>=0;O--){var x=I.getProjectionsByFieldIndex(C+O);for(var j of x)E.push(n(m,j.queryRef,y))}return E}(m,g);break;case r.S5.Remove:if(g.expr){var C=(0,a.eC)(g.expr);for(var y of(D=[],C))D.push(p(m,y))}else D=function(m,g){var E=[],D=g.count??1,h=g.role,C=m.projections[h];if(C)for(var y=g.projOptions.fieldIndex+D-1,f=D-1;f>=0;f--,y--){var S=C.getProjectionsByFieldIndex(y);for(var b of S)E.push(n(m,b.queryRef,h))}return E}(m,g);break;case r.S5.Add:break;default:return void i.Y.assertNever(E)}return _.compact(D)}}function p(m,g){var E=m.defn.selectNameOf(g),D=function(m,g){for(var E in m){var D=m[E].all();if(_.findIndex(D,C=>C.queryRef===g)>=0)return E}}(m.projections,E);return{expr:g,roleName:D}}function u(m,g,E){if(!_.isEmpty(g)){i.Y.assert(()=>E>=0,"Expected lastActiveProjectionRefsIndex to be valid");var D=_.last(g),h=m.getQueryRefs();if(_.isEmpty(h))return void(m.activeProjectionRefs=[]);var C=[];if(_.some(h,b=>b===D)){if(g.length>1){var f=h.indexOf(D);C=h.slice(0,f+1)}}else if(!_.isEmpty(g)){var S=Math.min(E,h.length-1);S>=0?g.length>1?C=h.slice(0,S+1):C.push(h[S]):g.length>1?C.push(...h):C.push(_.last(h))}_.isEmpty(C)||(m.activeProjectionRefs=C)}}},447414:function(ve,z,e){e.d(z,{s:function(){return r}});var a=e(620825),i=e(576086);function r(t,o){return(t===i.cN.Drillthrough||t===i.cN.Tooltip)&&_.some(o,d=>d.asAggregation||d.fieldExpr&&(0,a.tx)(d.fieldExpr))}},259243:function(ve,z,e){e.d(z,{Dm:function(){return l},KN:function(){return n},L4:function(){return r},fN:function(){return t},lZ:function(){return o},nC:function(){return d},uw:function(){return p}});var a=e(18122),i=e(690966);function r(u,v,m){var g=c(u,v);return(m&&""!==m?(0,i.DE)((0,i.sk)(m)):-Number.MAX_VALUE)>g}function t(u,v,m){var g=c(u,v);return(m&&""!==m?(0,i.DE)((0,i.sk)(m)):Number.MAX_VALUE)<g}function o(u,v){var m=u.value,g=u.unit,E=u.isTimeUnit;switch(g){case"S":return v.get(1===m?"TimeUnit_Second":"TimeUnit_Seconds");case"M":return v.get(E?1===m?"TimeUnit_Minute":"TimeUnit_Minutes":1===m?"TimeUnit_Month":"TimeUnit_Months");case"H":return v.get(1===m?"TimeUnit_Hour":"TimeUnit_Hours");case"D":return v.get(1===m?"TimeUnit_Day":"TimeUnit_Days");case"W":return v.get(1===m?"TimeUnit_Week":"TimeUnit_Weeks");case"Y":return v.get(1===m?"TimeUnit_Year":"TimeUnit_Years");default:return a.Y.assertNever(g),""}}function d(u,v){var m=(0,i.sk)(u),g=(0,i.V_)(m);return g.length<=0?(a.Y.assertFail("Unable to parse the value and units"),""):`${g[0].value} ${o(g[0],v)}`}function n(u){switch(u){case"S":case"M":case"H":return!0;default:return!1}}function c(u,v){var m=[{value:u,unit:v,isTimeUnit:n(v)}],g=(0,i.s1)(m);return(0,i.DE)(g)}function s(u,v){var m=Math.pow(10,v||0);return Math.round(u*m)/m}function p(u,v){return isNaN(u)?v.get("TwoDashes"):u<60?1===u?v.get("TimeUnit_One_second"):v.format("TimeUnit_seconds_with_value",[s(u,1)]):(u/=60)<60?1===u?v.get("TimeUnit_One_minute"):v.format("TimeUnit_minutes_with_value",[s(u,1)]):1==(u/=60)?v.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_OneHour"):v.format("TimeUnit_hours_with_value",[s(u,1)])}function l(u,v){var m=u.value,g=u.unit,E=u.isTimeUnit;switch(g){case"S":return 1===m?v.get("TimeUnit_One_second"):v.format("TimeUnit_seconds_with_value",m);case"M":return E?1===m?v.get("TimeUnit_One_minute"):v.format("CdsaAuthoring_Iframe_TheNumberOfHowManyMinutes",m):1===m?v.get("TimeUnit_One_month"):v.format("TimeUnit_months_with_value",m);case"H":return 1===m?v.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_OneHour"):v.format("TimeUnit_hours_with_value",m);case"D":return 1===m?v.get("TimeUnit_One_day"):v.format("TimeUnit_days_with_value",m);case"W":return 1===m?v.get("TimeUnit_One_week"):v.format("TimeUnit_weeks_with_value",m);case"Y":return 1===m?v.get("TimeUnit_One_year"):v.format("TimeUnit_years_with_value",m);default:return a.Y.assertNever(g),""}}},323285:function(ve,z,e){e.d(z,{v:function(){return t}});var a=e(18122),i=e(417686);class r{constructor(d){this.visualContainerStateVisitor=d}visitFilterContainer(d){}visitSectionState(d){}}class t extends r{constructor(d,n){super(n),this.rewriters=d,a.Y.assertValue(d,"rewriters")}visitFilterContainer(d){(0,i.Rm)(d,this.rewriters)}}},488872:function(ve,z,e){e.d(z,{IJ:function(){return o},wW:function(){return p}});var a=e(18122),i=e(693818),r=e(11733),t=e(387797);function o(C,y,f){a.Y.assertValue(y,"visitor"),a.Y.assertValue(C,"exploration"),y.visitExploration(C),m(C.filters,y);var S=C.bookmarks;if(!_.isEmpty(S))for(var b of S)d(b,C.sections,f,y);var V=C.sections;if(!_.isEmpty(V))for(var M of V)c(M,y,f);!function(C,y){if(!_.isEmpty(C))for(var f of C)y.visitPod(f)}(C.pods,y)}function d(C,y,f,S){if(S.visitBookmark(C),i.$.isBookmarkGroup(C))for(var b of C.children)d(b,y,f,S);else!function(C,y,f,S){C&&(g(C.filters,S),_.forOwn(C.sections,(b,V)=>{!function(C,y,f,S){if(C&&y){S.visitSectionState(C),g(C.filters,S);var b=S.visualContainerStateVisitor;if(b){var V=y.visualContainers;_.forOwn(C.visualContainers,(M,P)=>{!function(C,y,f,S){!C||!y||(S.visitVisualContainerState(C),g(C.filters,S),function(C,y){if(C){if(!_.isEmpty(C.selection))for(var f of C.selection)y.visitSelectorsByColumn(f);C.filterExpressionMetadata&&y.visitFilterExpressionMetadata(C.filterExpressionMetadata)}}(C.highlight,S),function(C,y,f,S){if(C){S.visitSingleVisualState(C);var b=C.orderBy;b&&S.visitOrderByStates(b);var V=C.objects;if(V){var M=(0,t.p6)(y,f);if(M){var P=M.objects;P&&S.visitDataViewObjectDefinitionUpdates(V,P)}var T=V.merge;T&&E(T,S);var N=V.remove;if(!_.isEmpty(N))for(var w of N){var I=w.selector;I&&S.visitSelector(I)}}var O=C.activeProjections;O&&S.visitActiveProjectionStates(O)}}(C&&C.singleVisual,y,f,S))}(M,_.find(V,N=>N.name===P),f,b)})}}}(b,_.find(y,P=>P.name===V),f,S)}))}(C.explorationState,y,f,S.explorationStateVisitor)}function c(C,y,f){a.Y.assertValue(C,"section"),y.visitSection(C),m(C.filters,y),function(C,y){if(!_.isEmpty(C))for(var f of C)y.visitLinkField(f)}(C.linkFields,y);var S=C.visualContainers;if(!_.isEmpty(S))for(var b=0,V=S.length;b<V;b++)p(S[b],y.visualContainerVisitor,f)}function p(C,y,f){var S;if(y.visitVisualContainer(C),C.config&&(S=C.config.singleVisual)){y.visitSingleVisualConfig(S);var b=S.query;b&&y.visitQuery(b);var V=function(O,x){x&&y.visitDataViewObjects(O,x),E(O,y)},M=S.objects;if(M){var P,T=(0,t.p6)(C,f);T&&(P=T.objects),V(M,P)}var N=S.vcObjects;if(N){V(N,r.Xe);var I=S.vcObjects.visualLink;I&&y.visitVisualLinks(I)}}m(C.filters,y)}function m(C,y){if(!_.isEmpty(C))for(var f of C)a.Y.assertValue(f,"traverseFilters: collection contains null filterContainer"),null!=f&&y.visitFilterContainer(f)}function g(C,y){if(C){_.forOwn(C.nameIdentifiedMerges,V=>{y.visitFilterContainer(V)});var S=C.exprIdentifiedMerges;if(!_.isEmpty(S))for(var b of S)y.visitFilterContainer(b)}}function E(C,y){_.forOwn(C,f=>{if(!_.isEmpty(f))for(var S of f){var b=S.selector;b&&y.visitSelector(b)}})}},507768:function(ve,z,e){e.d(z,{x:function(){return a}});class a{constructor(r,t){this.explorationStateVisitor=r,this.visualContainerVisitor=t}visitBookmark(r){}visitFilterContainer(r){}visitExploration(r){}visitSection(r){}visitLinkField(r){}visitPod(r){}}},837423:function(ve,z,e){e.d(z,{Jv:function(){return y},M8:function(){return u},N6:function(){return b},QM:function(){return m},QP:function(){return g},XD:function(){return l},ZL:function(){return v},oI:function(){return h}});var a=e(132409),i=e(579260),r=e(18122),t=e(482713),o=e(890741),d=e(476271),n=e(106302),c=e(757406),s=e(620825),p=e(98138);function l(V,M,P,T=!1){if(!_.isEmpty(V)&&function(V,M){if(!_.isEmpty(V)){var P=_.map(V,T=>(0,o.j9)(T));return y(P,M)}}(V,M))return _.some(V,I=>I.valueDetails)&&T?function(V,M){if(!_.isEmpty(V)){var P={expressions:[],cachedValueItems:[]};for(var T of V){var N={identities:[],valueMap:{}};if(!T.valueDetails){var w=a.WZ.getDataViewKind(M);T.valueDetails=a.WZ.query([M],T,w,[],!0)}for(var I of T.valueDetails)if(I.expr&&((0,s.R3)(I.expr)||(0,s.Ah)(I.expr))){var O=_.indexOf(P.expressions,I.expr);O<0&&(P.expressions.push(I.expr),O=P.expressions.length-1),N.valueMap[O]=I.formattedValue}if(!_.isEmpty(N.valueMap)){for(var x in T.dataMap){var j=(0,i.eC)(T.dataMap[x]);for(var U of j)U.kind===t.y.ScopeIdentity?N.identities.push(U):r.Y.assertFail("Unexpected item.kind")}P.cachedValueItems.push(N)}}return P}}(V,P):function(V){if(!_.isEmpty(V)){var M={expressions:[],cachedValueItems:[]};for(var P of V){var T={identities:[],valueMap:{}};for(var N of P.selector.data)N.kind===t.y.ScopeIdentity?T.identities.push(N):r.Y.assertFail("Unexpected item.kind");for(var w of P.values)if(w.expr instanceof c.Dw||(0,s.Ah)(w.expr)){var I=_.indexOf(M.expressions,w.expr);I<0&&(M.expressions.push(w.expr),I=M.expressions.length-1),T.valueMap[I]=w.formattedValue}_.isEmpty(T.valueMap)||M.cachedValueItems.push(T)}return M}}(a.WZ.getDataPointsDescription(P,V))}function u(V,M){if(!V||!M)return V||M;for(var P={expressions:M.expressions.slice(),cachedValueItems:_.isEmpty(M.cachedValueItems)?[]:M.cachedValueItems.slice()},T={},N=function(){var j=V.expressions[w],U=_.findIndex(P.expressions,F=>F===j||(0,p.aI)(F,j));-1===U&&(U=M.expressions.length,P.expressions.push(j)),T[w]=U},w=0;w<V.expressions.length;w++)N();if(!_.isEmpty(V.cachedValueItems))for(var I of V.cachedValueItems){var O={};for(var x in I.valueMap)O[T[x]]=I.valueMap[x];P.cachedValueItems.push({identities:I.identities,valueMap:O})}return P}function v(V){var M=null;for(var P of V)M=u(P,M);return M}function m(V,M){if(!_.isEmpty(M)&&V){var P=[];for(var T of M){var N={identities:[T.identity],valueMap:{}};N.valueMap[0]=T.displayName,P.push(N)}return{expressions:[V],cachedValueItems:P}}}function g(V,M){if(V.length&&M.cachedValueItems&&M.cachedValueItems.length)for(var P=function(){var N=V[T],w=N.dataMap,I=T,O=M.cachedValueItems[I].identities,x=!0,j=0;for(var U in w){var F=(0,i.eC)(w[U]);for(var R of F){if(!O[j]||!(0,d.aI)(R,O[j])){x=!1;break}j++}}if(x||(I=_.findIndex(M.cachedValueItems,G=>{var K=0;for(var q in w){var ne=(0,i.eC)(w[q]);for(var k of ne){if(!G.identities[K]||!(0,d.aI)(k,G.identities[K]))return!1;K++}}return!0})),I<0)return r.Y.assertFail("cannot find matching cacheMap with same set of identities in selectorsByColumn in filterExpressionMetadata"),1;var B=[],A=M.cachedValueItems[I].valueMap;for(var W in A)B.push({identity:M.cachedValueItems[I].identities[0],expr:M.expressions[W],formattedValue:A[W],value:A[W]});N.valueDetails=B},T=0;T<V.length;T++)P()}function h(V){if(V&&!(_.isEmpty(V.expressions)||V.expressions.length>1)){var M=[];for(var P of V.cachedValueItems){if(_.isEmpty(P.identities)||P.identities.length>1)return;r.Y.assertAnyValue(P.valueMap[0],".tryGetDisplayNameIdentityPairs cache should always have value set"),M.push({identity:P.identities[0],displayName:P.valueMap[0]})}return M}}function y(V,M){if(!_.isEmpty(V)&&M&&M.query){var P=M.query.defn.select();for(var T of V){var N=(0,o.uR)(T);if(_.isEmpty(N))return;for(var w of N){var O=(0,n.xD)(w.expr);for(var x of(r.Y.assertNonEmpty(O,"identityFields are expected"),O))for(var j of P)if(!(0,p.aI)(x,j.expr))return!0}}}}function b(V,M){if(!V)return null;for(var P,T=0;T<V.length;T++){var N=(0,c.LC)(V[T],M[T]);P=P?(0,c.Uo)(P,N):N}return(0,d.UQ)(P)}},850990:function(ve,z,e){e.d(z,{M:function(){return W}});var a=e(115315),i=e(540673),r=e(81825),t=e(690332),o=e(200367),d=e(124115),n=e(18122),c=e(531093),s=e(999904),p=e(827431),l=e(476271),u=e(358719),v=e(335128),m=e(188076),g=e(910058),E=e(106302),D=e(258480),h=e(34584),C=e(448724),y=e(858225),f=e(73646),S=e(671825),b=e(534629),V=e(930845),M=e(989917),P=e(576086),T=e(960179),N=e(11733),w=e(700280),I=e(483378),O=e(387797),x=e(912186),j=e(620825),U=e(664158),F=e(759831),R=e(98138),B=e(71712),A=e(693029);class W{static getFormatter(k,L){var X=k.getMetadata(L);if(X)return(0,u.vt)({format:X.format,allowFormatBeautification:!0})}static getFilterType(k,L){return(0,U.t)(k)||!L?M.RJ.Advanced:M.RJ.Categorical}static canAdd(k,L,X,Y,Q,H,te){if(n.Y.assertValue(Y,"scope"),Y.scopeType===T.$d.Visual){var ee=Y.container;if(!ee||!(0,x.gz)(ee,te))return!1}if(H)return!0;if(!L||!X)return!1;if(!(0,x.E4)(k,te)&&(0,U.t)(L))return!1;var Te=(0,m.F)(L,X),He=(0,v.vG)(Te),We=X.schema(He.schema);if(!We)return!1;var mt,At,ft=We.findProperty(He.entity,(0,v.hm)(Te));if(ft||(Te.hierarchyLevel?(mt=We.findHierarchy(He.entity,Te.hierarchyLevel.name))&&(At=mt.levels.withName(Te.hierarchyLevel.level)):Te.columnHierarchyLevelVariation&&(mt=We.findHierarchy(Te.columnHierarchyLevelVariation.level.entity,Te.columnHierarchyLevelVariation.level.name))&&(At=mt.levels.withName(Te.columnHierarchyLevelVariation.level.level))),!ft&&!At||!Y||!Y.container||ft&&ft.kind===h.ye.Measure&&(Y.scopeType!==T.$d.Visual||We.capabilities.limitMultiColumnFiltersToQueryGroupColumns)&&!Q)return!1;if(Q){var Qe=ft&&ft.kind;if(!At&&Qe!==h.ye.Column&&Qe!==h.ye.Measure)return!1;var ye=!1;if(Y.scopeType===T.$d.Section){var we=Y.container;we&&!we.transient&&(ye=!0)}if(!ye)return!1}return!0}static supportsFilterOutput(k){return null!=this.tryGetFilterPropertyIdentifier(k,null,null)}static tryGetFilterPropertyIdentifier(k,L,X){return L&&X&&X.isCustomVisual(L)?b.PO:k?(0,p.x_)(k.objects):void 0}static tryGetFilterProperty(k,L,X,Y){var Q=this.tryGetFilterPropertyIdentifier(k,L,X);if(Q)return(0,s._W)(Y,Q,void 0)}static add(k,L){k.filters||(k.filters=[]),k.filters.push(L)}static getFiltersContainer(k,L,X){switch(k){case T.$d.Visual:return I.qN.getSelectedVisual(L);case T.$d.Section:return X.getCurrentSection();case T.$d.Exploration:return X.getCurrentExploration();default:n.Y.assertNever(k)}}static getMatchingReportFilterContainers(k,L){if(L)return this.getMatchingFilterContainers(k,L.filters)}static getMatchingSectionFilterContainers(k,L){if(L)return this.getMatchingFilterContainers(k,L.filters)}static getMatchingVisualsFilterContainers(k,L){var X=[];for(var Y of L)if((0,B.iA)(Y)&&Y.filters){var Q=this.getMatchingFilterContainers(k,Y.filters);Q&&X.push(...Q)}return _.isEmpty(X)?void 0:X}static getMatchingFilterContainers(k,L){if(L){var X=L.filter(Y=>(0,R.aI)(Y.expression,k,!1,!0,!0));return _.isEmpty(X)?void 0:X}}static getMatchingFilterVisuals(k,L,X){var Y=[],Q=this.getFilteringSupportedVisuals(L,X);if(Q){var H=function(){var ue=X.capabilities(te.config.singleVisual.visualType),Te=(0,O.NU)(te),He=W.getSupportedQueryRefs(ue,Te);if(!Te.defn.select().filter(mt=>He.some(At=>mt.name===At)).map(mt=>mt.expr).some(mt=>(0,R.aI)(mt,k,!1,!0,!0)))return 1;Y.push(te)};for(var te of Q)H();return _.isEmpty(Y)?void 0:Y}}static getFilteringSupportedVisuals(k,L){var X=[];for(var Y of k){var Q=Y.config.singleVisual,H=Q.visualType;if(!(0,N.dK)(Q)){var te=L.capabilities(H),ee=W.supportsFilterOutput(te),ue=(0,O.NU)(Y),Te=L.getPlugin(H);if(ee&&!_.isEmpty(ue)&&Te&&Te.tryCreateFilterObjectsToPersist){var He=W.getSupportedQueryRefs(te,ue);_.isEmpty(He)||X.push(Y)}}}return _.isEmpty(X)?void 0:X}static getSupportedQueryRefs(k,L){if(!k||!L)return[];var Q=k.dataRoles.filter(Te=>Te.kind===A.Ts.Grouping).map(Te=>Te.name),H=L.projections;if(_.isEmpty(H))return[];var te=[];for(var ee of Q){var ue=H[ee].getQueryRefs();te.push(...ue)}return te}static convertFilterData(k,L,X){if(k){var Y={filter:k.filter,name:this.getNextFilterName(L),type:k.type,restatement:k.restatement,howCreated:X};if(k.type===M.RJ.Categorical||k.filterExpressionMetadata&&1===k.filterExpressionMetadata.expressions.length){Y.expression=k.filterExpressionMetadata.expressions[0];var Q=[];if(!_.isEmpty(k.filterExpressionMetadata.cachedValueItems)){for(var H of k.filterExpressionMetadata.cachedValueItems)1===H.identities.length&&Q.push({identity:H.identities[0],displayName:H.valueMap[0]});Y.cachedValueItems=Q}}else k.filterExpressionMetadata&&(Y.filterExpressionMetadata=k.filterExpressionMetadata);return Y}}static shouldDisableFilter(k,L,X,Y,Q){if(!X)return!1;var H=k.expression;if(!H)return!1;var te=(0,U.t)(H),ee=!_.isEmpty(this.validate(k,L,Y)),ue=(0,O.gk)(X,L);if(te){if(!ue&&!ee)return!0;var Te=H.getTargetEntity();if(!Te)return!0;if(L.schema(Te.schema).capabilities.limitMultiColumnFiltersToQueryGroupColumns||(0,O.Pg)(X,L,Q)||(0,O.aj)(X))return!0}return!1}static getValueType(k,L){var X=k.getMetadata(L);if(X)return X.type}static getDefaultRetainedValue(k,L){var X=y.B.getDefaultValues(k,L);if(!_.isEmpty(X))return{isNot:!1,scopeIds:[[(0,l.UQ)((0,F.o)(k,X))]]}}static validate(k,L,X){n.Y.assertValue(k,"filterContainer");var Q=k.filter,H=y.B.validate(k.expression,L,X);if(Q&&(H=Q.validate(L,X,H)),!_.isEmpty(H))return H}static getNextFilterName(k){null==k&&(k=[]);var L={};for(var X of k)n.Y.assertValue(X,"getNextFilterName: collection contains null filter"),null!=X&&(L[X.name]=!0);return d.Q.generateUniqueId(L)}static isCategoricalFilter(k){return k===M.RJ.Categorical||k===M.RJ.Visual}static getQueryRefsForSingleItemDrillFilters(k,L,X){var Y=k.filters,Q=[];if(Y)for(var H of Y){var te=H&&H.filter;if(te&&_.isEmpty(te.validate(L,X))&&H.howCreated===P.GS.Drill&&this.areDrillFiltersSingleValue(te.where())){var ee=this.getQueryRefFromFilter(k,H.expression);ee&&Q.push(ee)}}return Q}static areDrillFiltersSingleValue(k){return!_.isEmpty(k)&&_.every(k,L=>{if(null==L)return!1;var X=L.condition;return(0,j.S1)(X)?X.values&&1===X.values.length:!!(0,j.Ze)(X)&&X.comparison===r.mq.Equal})}static getQueryRefFromFilter(k,L){var X=(0,O.NU)(k);if(X)return X.defn.selectNameOf(L)}static getFilterValuesForColumn(k,L){if(n.Y.assertAnyValue(L,"filters"),n.Y.assertValue(k,"column"),L){var X=L.condition,Y=new q(k);return X.accept(Y),Y.values}}static deriveFromSQFilters(k,L,X){var Y=[],Q=X&&X.Filters&&0!==X.Filters.length?X.Filters:null;Q&&Q.length!==L.length&&(Q=null);for(var H=0,te=L.length;H<te;H++){var ee=L[H],ue=Q&&Q[H],Te=ue&&ue.expression&&t.F3.deserializeExpr(ue.expression);Y.push({name:this.getNextFilterName(Y),filter:new D.b0(k,[ee]),restatement:ue&&ue.Restatement,expression:Te,howCreated:P.GS.Auto,type:ue&&ue.type})}return Y}static extractParameterFilters(k,L){n.Y.assertValue(k,"queryDefn"),n.Y.assertAnyValue(L,"queryMetadata");var X=_.filter(k.From,te=>te.Type!==r.nO.Pod),Q={RemovedIndexes:[]},H=t.F3.deserializeFilter({Version:k.Version,From:X,Where:k.Where},Q);if(L&&!_.isEmpty(Q.RemovedIndexes)&&(L.Filters=_.filter(L.Filters,(te,ee)=>!_.includes(Q.RemovedIndexes,ee))),H)return this.deriveFromSQFilters(H.from(),H.where(),L)}static mergeExplorationSectionFilters(k,L){n.Y.assertValue(k,"exploration"),n.Y.assertValue(L,"section"),_.isEmpty(k.filters)||(L.filters=this.mergeFilters(L.filters,k.filters,"explore"),k.filters=[])}static isFilterModified(k){var H=!0===k.isHiddenInViewMode||!0===k.isLockedInViewMode||!!k.displayName||void 0!==k.ordinal;return!!k.filter||!(0,s.Im)(k.objects)||H}static ensureFilterHasName(k,L){null==k.name&&this.isFilterModified(k)&&(k.name=this.getNextFilterName(L.container&&L.container.filters))}static applySectionParameterFilters(k,L,X,Y,Q){n.Y.assertValue(k,"section"),n.Y.assertAnyValue(L,"pod"),n.Y.assertAnyValue(Y,"parameterFilters"),n.Y.assertAnyValue(X,"additionalSourceFilters");var H=Q;if(k.filters=this.getSectionParameterFiltersToApply(L,k.filters,X,Y),(!_.isEmpty(Y)||!_.isEmpty(X))&&(H=!0),H)for(var te of k.visualContainers)te.cachedData=null}static getFiltersToApplyFromVisualQueryFilterContext(k){if(k){var L=k.dataFilters?k.dataFilters.slice():[];k.highlightFiltersUnmerged&&(L=L.concat(k.highlightFiltersUnmerged));var X=k.query,Y=[],Q=[],H=!1;for(var te of L){var ee=te.filter.where();if(_.find(ee,Fe=>(0,g.m)(Fe.condition)===C.l0.VisualTopN))H=!0;else if(!_.isEmpty(ee)){var ue=_.filter(ee,Fe=>(0,g.m)(Fe.condition)===C.l0.Measure);if(Q.push(...ue||[]),!_.isEmpty(ue)){var Te=_.filter(ee,Fe=>(0,g.m)(Fe.condition)!==C.l0.Measure&&(0,g.m)(Fe.condition)!==C.l0.VisualTopN);if(_.isEmpty(Te))continue;te={filter:D.b0.fromSQFromAndSQFilters(te.filter.from(),Te)}}Y.push(te)}}if(!_.isEmpty(Q)){var He=D.b0.fromMeasureFilters(X,Q);He&&Y.push({filter:He})}if(H){var We=X.from().getSubquerySources(),ft=_.findKey(We,Fe=>Fe.inheritsSorting),mt=We[ft],At=_.find(X.where(),Fe=>{var ye=new K;return Fe.condition.accept(ye),ye.source===ft});if(At){var Qe=new S.l0({[ft]:mt});Y.push({filter:D.b0.fromSQFromAndSQFilters(Qe,[At])})}}return Y}}static findValuesInFilterCache(k,L,X){if(n.Y.assert(()=>k.length===L.length,".extractValuesFromMetadata the columns length should be equal to values length"),X&&!_.isEmpty(X.cachedValueItems)){var Y=this.findIdentityMapInFilterCache(k,L,X);if(Y){var Q=[],H=[];for(var te in Y.valueMap)Q.push(Y.valueMap[te]),H.push(X.expressions[te]);return{values:Q,columns:H}}}}static removeEntryFromFilterCache(k,L,X){if(n.Y.assert(()=>k.length===L.length,".removeEntryFromFilterCache the columns length should be equal to values length"),X&&!_.isEmpty(X.cachedValueItems)){var Y=this.findIdentityMapInFilterCache(k,L,X);Y&&_.remove(X.cachedValueItems,Q=>Q===Y)}}static findIdentityMapInFilterCache(k,L,X){if(n.Y.assert(()=>k.length===L.length,".findIdentityMapInFilterCache the columns length should be equal to values length"),X&&!_.isEmpty(X.cachedValueItems))for(var Y of X.cachedValueItems){var Q=new E.Rq;for(var H of Y.identities)H.expr.accept(Q);if(Q.keys.length===k.length){for(var te=!0,ee=function(){var Te=Q.keys[ue];if(_.findIndex(k,We=>(0,R.aI)(We,Te))<0||L[ue].value!==Q.values[ue].value)return te=!1,1},ue=0;ue<Q.keys.length&&!ee();ue++);if(te)return Y}}}static fillMissingValuesFromCache(k,L){if(!L||_.isEmpty(L.cachedValueItems))return k;var X=new Map,Y=function(ee){ee.identities.forEach((ue,Te)=>X.set(ue.key,ee.valueMap[Te]))};for(var Q of L.cachedValueItems)Y(Q);var H=function(ee){ee.identities.forEach((ue,Te)=>{var He;return(He=ee.valueMap)[Te]??(He[Te]=X.get(ue.key))})};for(var te of k)H(te);return k}static getSectionParameterFiltersToApply(k,L,X,Y){n.Y.assertAnyValue(k,"pod"),n.Y.assertAnyValue(L,"sectionFilters"),n.Y.assertAnyValue(Y,"parameterFilters"),n.Y.assertAnyValue(X,"additionalSourceFilters");var Q=[...L||[]];if(_.isEmpty(Y)||k&&!_.isEmpty(k.parameters)&&_.remove(Q,te=>_.some(k.parameters,ee=>ee.boundFilter===te.name)),!_.isEmpty(Y)||!_.isEmpty(X)){var H=this.getUnOverriddenAndMergedFilters(Y,X);return this.getUnOverriddenAndMergedFilters(H,Q)}return Q}static getUnOverriddenAndMergedFilters(k,L){if(n.Y.assertAnyValue(k,"higherPrecedenceFilters"),n.Y.assertAnyValue(L,"lowerPrecedenceFilters"),_.isEmpty(k))return L;if(_.isEmpty(L))return k;var X=this.getNonoverriddenFilters(k,L);return this.mergeFilters(X||[],k||[],"param")}static getNonoverriddenFilters(k,L){if(n.Y.assertAnyValue(k,"higherPrecedenceFilters"),n.Y.assertAnyValue(L,"lowerPrecedenceFilters"),_.isEmpty(k)||_.isEmpty(L))return L;var X=this.extractAllReferencedFields(k);return _.filter(L,Q=>{var H=this.extractReferencedFields(Q);return!_.some(H,te=>_.some(X,ee=>(0,R.aI)(ee,te,!1,!0)))})}static extractParameterFiltersFromSection(k,L){n.Y.assertAnyValue(k,"sectionFilters"),n.Y.assertAnyValue(L,"originalFilters"),k=k||[],L=L||[];var X={},Y=[];for(var Q of L)X[Q.name]=Q;for(var H of k){var te=X[H.name];(!te||!_.isEqual(te,H))&&Y.push(H)}return Y}static mergeFilters(k,L,X){var Y={};for(var Q of k=k||[])Y[Q.name]=!0;for(var H of L)H.name=X+"_"+H.name,Y[H.name]?n.Y.assertFail("Filter name conflict: "+H.name):Y[H.name]=!0;return k.concat(L)}static canExpandManually(k,L,X,Y,Q){return k!==P.GS.CrossDrill&&!(k===P.GS.Drillthrough&&!L&&Q!==M.RJ.Exclude&&Q!==M.RJ.Include&&X&&(0,j.tx)(X)||!Y)}static hasMeasureOrAsAggregationLinkField(k){return n.Y.assertValue(k,"section"),_.some(k.filters,L=>L.howCreated===P.GS.Drillthrough&&!L.isTransient&&(L.isLinkedAsAggregation||L.expression&&(0,j.tx)(L.expression)))}static notifyFilterContainerChangedByUser(k,L){k.publishToChannel(w.LZI,{source:a.vd.FilterChange}),k.publishToChannel(w.gsd,L)}static createChangeFilterActivity(k,L,X){var Y={name:i.n.ChangeFilter,operationType:L};return X?X.createChildActivity(Y):k.createActivity(Y)}static notifyBufferedFilterChanges(k,L,X,Y,Q,H){k.publishToChannel(w.D6m,{filterScopeType:L,filterType:X,id:Y,canApply:Q,wasDeleted:H})}static isApplyAllEnabled(k,L){var X=L.getCurrentExploration();return!!(k&&X&&X.slowDataSourceSettings)&&X.slowDataSourceSettings.isApplyAllButtonEnabled}static getFilterCardStyle(k,L,X,Y){var H,te,Q=k&&k.filterCard;L?(H=Q&&Q.$instances&&Q.$instances[V.Mm],te=V.Lt):(H=Q&&Q.$instances&&Q.$instances[V.y],te=V.RT);var ee=this.getDefaultFilterCardStyle(k,L,X,Y);return Y?.forceApplyDefaultStyleOverride?ee:{checkboxAndApplyColor:this.getCheckboxAndApplyColor(k&&k.outspacePane,ee.checkboxAndApplyColor),borderColor:this.getBorderColor(H,ee.borderColor,Y?.alwaysEnableBorder),backgroundColor:this.getBackgroundColor(H,ee.backgroundColor,te,L,ee.backgroundColorApplied),foregroundColor:this.getColor(H,"foregroundColor",ee.foregroundColor),inputBoxBorderColor:this.getBorderColor(H,ee.inputBoxBorderColor,!0),inputBoxBackgroundColor:this.getColor(H,"inputBoxColor",ee.inputBoxBackgroundColor),inputBoxForegroundColor:this.getColor(H,"foregroundColor",ee.inputBoxForegroundColor),fontSize:Y?.ignoreFontSizeAndFamily?null:ee.fontSize,fontFamily:Y?.ignoreFontSizeAndFamily?null:ee.fontFamily}}static getDefaultFilterCardStyle(k,L,X,Y){var H,te,Q=k&&k.filterCard;L?(H=Q&&Q.$instances&&Q.$instances[V.Mm],te=X.colorPalette.backgroundLight.value):(H=Q&&Q.$instances&&Q.$instances[V.y],te=X.colorPalette.background.value);var ee=L?Y?.defaultStyleOverride?.backgroundColorApplied:Y?.defaultStyleOverride?.backgroundColorAvailable,ue=Y?.defaultStyleOverride,Te=ee||ue?.backgroundColor;return ue?{...ue,backgroundColor:Te}:{checkboxAndApplyColor:V.VF,borderColor:V.DE,backgroundColor:te,foregroundColor:X.colorPalette.foreground.value,inputBoxBorderColor:V.DE,inputBoxBackgroundColor:V.Cv,inputBoxForegroundColor:V.tU,fontSize:this.getFontSize(H),fontFamily:this.getFontFamily(H)}}static determineIsLinkedAsAggregation(k,L,X){if(k.howCreated===P.GS.Drillthrough)return null!=X.defaultAggregate(k.expression,L)}static getDisplayNameForIncludeExcludeFilters(k,L,X){return k.get(L===M.RJ.Include?"Include_Label":"FilterPane_Exclude")+" ("+X+")"}static getCheckboxAndApplyColor(k,L=V.VF){var X=(0,c.a)(k,"checkboxAndApplyColor",L);return(0,o.ND)(X)}static getBorderColor(k,L,X){var Y=(0,c.a)(k,"borderColor",L),H=0;return(!0===(0,c._)(k,"border",V.iw)||X)&&(H=1),(0,o.ND)(Y,H)}static getBackgroundColor(k,L,X,Y,Q){var te=(0,c.a)(k,"backgroundColor",Y&&Q?Q:L),ee=(0,o.yS)((0,c._)(k,"transparency",X));return(0,o.ND)(te,ee)}static getColor(k,L,X){var Y=(0,c.a)(k,L,X);return(0,o.ND)(Y)}static getFontSize(k){return`${(0,c._)(k,"textSize",V.s1)}pt`}static getFontFamily(k){return(0,c._)(k,"fontFamily",V.D6)}static extractAllReferencedFields(k){return _.flatten(_.map(k,L=>this.extractReferencedFields(L)))}static extractReferencedFields(k){var L=[];if(k.expression&&L.push(k.expression),k.filter)for(var X of k.filter.conditions()){var Y=new G;X.accept(Y),L=L.concat(Y.fields)}return L}static getFilterCapabilities(k){return{canClear:this.canClearManually(k),canDelete:this.canDeleteManually(k),canEdit:this.canEditManually(k),canHide:this.canHideManually(k),canLock:this.canLockManually(k),canRename:this.canRenameManually(k),canSort:this.canSortManually(k)}}static canClearManually(k){return!(k.howCreated!==P.GS.Auto&&k.howCreated!==P.GS.User&&k.howCreated!==P.GS.Drill&&k.howCreated!==P.GS.Drillthrough&&k.howCreated!==P.GS.URL||k.type===M.RJ.Passthrough||k.howCreated===P.GS.Drillthrough&&(k.type===M.RJ.Exclude||k.type===M.RJ.Include))}static canDeleteManually(k){return k.howCreated===P.GS.User||k.howCreated===P.GS.Drillthrough||k.howCreated===P.GS.URL||k.type===M.RJ.Passthrough||k.howCreated===P.GS.Include||k.howCreated===P.GS.Exclude}static canEditManually(k){return(k.howCreated===P.GS.Auto||k.howCreated===P.GS.User||k.howCreated===P.GS.Drill||k.howCreated===P.GS.Drillthrough||k.howCreated===P.GS.URL||k.howCreated===P.GS.Include||k.howCreated===P.GS.Exclude)&&k.type!==M.RJ.Passthrough}static canHideManually(k){return k.howCreated===P.GS.Auto||k.howCreated===P.GS.User||k.howCreated===P.GS.Drillthrough&&!k.isTransient||k.type===M.RJ.Passthrough||k.howCreated===P.GS.Include||k.howCreated===P.GS.Exclude}static canLockManually(k){return(k.howCreated===P.GS.Auto||k.howCreated===P.GS.User||k.howCreated===P.GS.Drillthrough&&!k.isTransient||k.howCreated===P.GS.Include||k.howCreated===P.GS.Exclude)&&k.type!==M.RJ.Passthrough}static canRenameManually(k){return(k.howCreated===P.GS.Auto||k.howCreated===P.GS.User)&&k.type!==M.RJ.Passthrough&&k.type!==M.RJ.VisualTopN}static canSortManually(k){return k.howCreated===P.GS.Auto||k.howCreated===P.GS.User||k.type===M.RJ.Passthrough||k.howCreated===P.GS.Include||k.howCreated===P.GS.Exclude}}class G extends f.ff{constructor(){super(...arguments),this.fields=[]}visitColumnRef(k){this.fields.push(k)}visitHierarchyLevel(k){this.fields.push(k)}visitMeasureRef(k){this.fields.push(k)}visitEntity(k){this.fields.push(k)}visitAggr(){}}class K extends f.ff{visitSubqueryRef(k){this.source=k.variable}}class q extends f.nP{constructor(k){super(),this.comparisonColumn=k,this.values=[]}visitCompare(k){k.comparison===r.mq.Equal&&(0,j.VO)(k.right)&&(0,R.aI)(k.left,this.comparisonColumn)&&this.values.push(k.right)}visitIn(k){if(!_.isEmpty(k.values)){var X=_.findIndex(k.args,Q=>(0,R.aI)(Q,this.comparisonColumn,void 0,!0));if(!(X<0))for(var Y of k.values)this.values.push(Y[X])}}}},912186:function(ve,z,e){e.d(z,{E4:function(){return n},I_:function(){return c},gz:function(){return d}});var a=e(98138),i=e(989917),r=e(576086),t=e(408509),o=e(664158);function d(s,p){var l=(0,t.d)(s);return p.isQueryVisual(l)}function n(s,p){var l=(0,t.d)(s);return!p.isAnalysisVisual(l)}function c(s,p,l,u){var v=s.getMetadata(p);if(v){if(l===r.GS.Drillthrough)return i.RJ.Categorical;var m=v.type,g=m&&(m.text||m.bool||m.dateTime),E=v.idOnEntityKey&&u&&(0,a.aI)(s,u);return!g||(0,o.t)(s)||E?i.RJ.Advanced:i.RJ.Categorical}}},909621:function(ve,z,e){e.d(z,{No:function(){return u},PC:function(){return m},RQ:function(){return v},__:function(){return l},ao:function(){return P},pG:function(){return p},vc:function(){return V}});var a=e(620825),i=e(791709),r=e(18122),t=e(34584),o=e(335128),d=e(188076),n=e(757406),c=e(858225);function p(R,B,A){if(r.Y.assertValue(R,"entity"),!B||!B.column||!B.column.groupingMetadata)return i.r.None;if(A){var W=A.getGroupingDesignState(R,B.name);if(!W)return i.r.Basic;if(W.partitionTable)return i.r.Clustering;if(W.binItem)return i.r.Binning}return i.r.Basic}function l(R,B,A){var W=p(R,B,A);return W===i.r.Basic||W===i.r.Binning}function u(R,B,A){return p(R,B,A)===i.r.Clustering}function v(R,B,A){if(!B||!B.column||!B.column.groupingMetadata)return!1;var W=A.getGroupingDesignState(R,B.name);return!(!W||!W.groupItems&&!W.partitionTable)}function m(R,B){return!(!B||!function(R,B){return function(R,B){var A=(0,o._w)((0,d.F)(B));return R.schema(A)}(R,B).capabilities.canEdit}(R,B)||!(0,a.R3)(B)&&!(0,a.Jq)(B))&&function(R){return R&&!!(R.type.dateTime||R.type.integer||R.type.numeric||R.type.text)}(B.getConceptualProperty(R))}function V(R,B){return _.chain(R.groupedColumns).map(A=>{if(function(R){return R.kind===t.ye.Column}(A))return(0,n.sX)(B,A.name)}).filter(A=>null!=A).value()}function P(R,B){var A=B&&B.defn.select();if(!_.isEmpty(A)&&!_.isEmpty(R)){for(var W of R){if(!W||!W.dataMap)return!1;var G=Object.keys(W.dataMap),K=_.size(W.dataMap);if(K>2)return!1;if(2===K){var q=A.withName(G[0]),ne=A.withName(G[1]);if(q&&ne&&!j(q.expr,ne.expr))return!1}else if(1===K){var k=A.withName(G[0]);if(k&&!(0,a.R3)(k.expr)&&!(0,a.Jq)(k.expr))return!1}}return!0}return!1}function j(R,B){return!!function(R,B){if((0,a.Jq)(R)&&(0,a.R3)(B)&&F(R,B))return R;if((0,a.Jq)(B)&&(0,a.R3)(R)&&F(B,R))return B;if((0,a.Jq)(R)&&(0,a.Jq)(B)){if(F(R,B))return R;if(F(B,R))return B}}(R,B)}function F(R,B){return c.B.sequenceEqual(R.groupedExprs,[B])}},622053:function(ve,z,e){e.d(z,{JI:function(){return p},rT:function(){return c},tc:function(){return l}});var a=e(620825),i=e(98138),t=(e(18122),e(693029)),o=e(757406),d=e(939906),n=e(683116);function c(g,E,D,h){if(D&&E&&(0,a.Ah)(h)){var C=h,y=C.arg,f=(0,n.w)(g,y),S=[],b=function(){var P,M=D.tryGetExprs(V.name);if(!M)return 1;if((0,a.Ir)(y)&&(0,a.sD)(y.arg)){var T=y.arg;P=_((0,d.c)(g,M,{})).filter(I=>I.isHierarchyLevelsGroup&&(0,a.R3)(I.expr)&&(0,i.aI)(I.expr.source,T.arg)&&I.expr.ref===T.property).reverse().value()}else P=_((0,d.c)(g,M,{})).filter(I=>(0,i.aI)(I.expr,y)).reverse().value();for(var N of P){var w=(0,n._q)(f,N.children,C);S.push({expr:C,schema:g,targetRole:V.name,projOptions:{fieldIndex:N.selectQueryIndex+w}})}};for(var V of E.dataRoles)b();return S}}function p(g,E,D,h,C,y){var S=(g.singleVisual.query.tryGetExprs(E)||[]).slice(D,D+h);if(!_.isEmpty(S)){var b;if(b=_.isEmpty(y)?S[0]:y[0],(0,a.Ah)(b)){var V=function(g,E){if(g&&g.kind===t.Ts.Measure){var D=(0,n.PT)(E);if(D)return(0,o.sX)(D.arg,D.property)}}(C,b);if(V)return[V]}return _.isEmpty(y)?S:y}}function l(g,E){return(0,a.Ah)(g)&&(0,a.Ah)(E)&&(0,i.aI)(g.arg,E.arg)}},158997:function(ve,z,e){e.d(z,{J:function(){return d}});var a=e(936622),i=e(18122),r=e(749837),t=e(283941),o=e(664158);class d{static generate(c,s,p,l,u,v,m,g){if(i.Y.assertValue(c,"dataView"),i.Y.assertValue(s,"originalSelects"),i.Y.assertValue(l,"originalDataRoleNames"),i.Y.assertAnyValue(u,"originalProjectionOrdering"),c.matrix){var E=[],D=[],h=[],C=[],y=c.matrix;for(var f of s){var S={...f};S.roles={},E.push(S)}var b=O=>{if(v&&v.featureSwitches.showGeneratedColumnsInDetailView)return!0;var x=s[O.index];return!x||!_.isEmpty(x.roles)||!_.isEmpty(x.relatedSelects)},V=this.getSelectsGroupedByRowHierarchy(p,s,c.matrix,b),P=(m&&g?this.tryProcessDataViewHierarchy(y.rows,E,h,a.o.columns,V,O=>!O.isMeasure):this.tryProcessDataViewHierarchy(y.rows,E,D,a.o.rows,V)&&this.tryProcessDataViewHierarchy(y.columns,E,h,a.o.columns,V,O=>!O.isMeasure))&&this.tryUpdateReferencedSelects(y.valueSources,E,C,a.o.values,V,b),T=_.last(y.rows.levels);if(T&&(P=P&&this.tryUpdateReferencedSelects((0,t.Io)(T),E,C,a.o.values,V,b)),P){var N=c;this.sortMatrixRoleProjectionOrders(l,u,D,h,C,E),_.isEmpty(V)||(N=this.fixMeasuresGroupedByRowHierarchy(c,V));var w={};return D.length>0&&(w[a.o.rows]=D),h.length>0&&(w[a.o.columns]=h),C.length>0&&(w[a.o.values]=C),{transformActions:{selects:E,roles:{ordering:w}},dataView:N}}}}static getSelectsGroupedByRowHierarchyFromMatrix(c,s){var p={},l=c?.rows?.levels;if(!_.isEmpty(l)){var u=_.last(l),v=(0,t.Io)(u);if(!_.isEmpty(v))for(var m of v)_.isNumber(m.index)&&s(m)&&(p[m.index]=!0)}return p}static tryProcessDataViewHierarchy(c,s,p,l,u,v){if(!c||_.isEmpty(c.levels))return!0;for(var m of c.levels)if(!this.tryUpdateReferencedSelects(m.sources,s,p,l,u,v))return!1;return!0}static tryUpdateReferencedSelects(c,s,p,l,u,v){if(_.isEmpty(c))return!0;var g,m=function(D){if(!v||v(D)){if(null==D.index&&_.some(c,y=>y.formatSource&&y.formatSource.formatString===D))return 0;if(u[D.index]){if(!_.isEmpty(s[D.index].relatedSelects)){var h=function(y){var f=_.findIndex(s,S=>S.queryName===y.queryName);u[f]||p.push(D.index)};for(var C of s[D.index].relatedSelects)h(C)}}else p.push(D.index);if(!s[D.index])return{v:!1};s[D.index].roles[l]=!0}};for(var E of c)if(0!==(g=m(E))&&g)return g.v;return!0}static sortMatrixRoleProjectionOrders(c,s,p,l,u,v){if(i.Y.assertValue(c,"originalDataRoleNames"),i.Y.assertAnyValue(s,"originalProjectionOrdering"),i.Y.assertValue(p,"matrixRowsOrdering"),i.Y.assertValue(l,"matrixColumnsOrdering"),i.Y.assertValue(u,"matrixValuesOrdering"),!_.isEmpty(c)&&s){var m=p.length>=2,g=l.length>=2,E=u.length>=2;if(m||g||E){var D=this.createSelectIndexToSortOrderMappings(c,s);D&&(m&&this.applySortOrder(p,D),g&&this.applySortOrder(l,D),E)&&(this.applySortOrder(u,D),(0,r.gZ)(v,{[a.o.values]:u}))}}}static createSelectIndexToSortOrderMappings(c,s){i.Y.assertNonEmpty(c,"originalDataRoleNames"),i.Y.assertValue(s,"originalProjectionOrdering");var p=_.chain(c).map(u=>s[u]).flatten().filter(u=>_.isNumber(u)).value(),l=_.reduce(p,(u,v,m)=>(void 0===u[v]&&(u[v]=m),u),{});return Object.keys(l).length>=2?l:void 0}static applySortOrder(c,s){i.Y.assertNonEmpty(c,"matrixRoleSelectIndices"),i.Y.assertValue(s,"selectIndexToSortOrderMapping"),c.sort((p,l)=>this.getSortOrderOrDefault(p,s)-this.getSortOrderOrDefault(l,s))}static getSortOrderOrDefault(c,s,p=Number.MAX_VALUE){return i.Y.assertValue(c,"selectIndex"),i.Y.assertValue(s,"selectIndexToSortOrderMapping"),_.isNumber(s[c])?s[c]:p}static fixMeasuresGroupedByRowHierarchy(c,s){if(i.Y.assertValue(c,"dataView"),i.Y.assertValue(c.matrix,"matrix"),i.Y.assertValue(c.matrix.columns,"matrix.columns"),this.nothingToFix(s,c.matrix))return c;var l=_.cloneDeep(c);return this.addMeasureValuesGroupedByRowHierarchy(l,s),l}static nothingToFix(c,s){return _.isEmpty(Object.keys(c))||_.isEmpty(s.columns.root.children)||_.isEmpty(s.rows.root.children)}static getSelectsGroupedByRowHierarchy(c,s,p,l){if(c&&c.length>1){i.Y.assertValue(c[0]?.selects&&c[1]?.selects,"Split transforms should be defined");var u=this.categorizeSplitSelects(c[0],s);if(_.isEmpty(u.measureSelectIndices))return{};var v=this.categorizeSplitSelects(c[1],s);if(_.isEqual(u.groupingSelectIndices,v.groupingSelectIndices))return{};if(!_.isEmpty(v.measureSelectIndices))for(var m=_.map(_.keys(v.measureSelectIndices),C=>s[parseInt(C,10)].queryName),g=0;g<s.length;g++){var E=s[g];if(!_.isEmpty(E.relatedSelects)){var D=function(C){null!=_.find(m,y=>C.queryName===y)&&(v.measureSelectIndices[g]=!0)};for(var h of E.relatedSelects)D(h)}}return v.measureSelectIndices}return d.getSelectsGroupedByRowHierarchyFromMatrix(p,l)}static categorizeSplitSelects(c,s){var p={groupingSelectIndices:{},measureSelectIndices:{}};for(var l in c.selects){var u=s[l];u.expr&&((0,o.t)(u.expr)?p.measureSelectIndices[l]=!0:p.groupingSelectIndices[l]=!0)}return p}static addMeasureValuesGroupedByRowHierarchy(c,s){i.Y.assertNonEmpty(c.matrix.columns.root.children,"A Matrix with no ColumnHierarchy is already fixed"),i.Y.assertValue(s,"addMeasureValuesGroupedByRowHierarchy called for no Scoped Values");var p=c.matrix,l=p.columns.levels[0],u=[],v=_.last(p.rows.levels),m=p.valueSources.length;i.Y.assertAnyValue(v.valueSources,"When either Primary or Secondary are missing, Line Values appear on the Intersections");var g=(0,t.Io)(v);if(g){for(var E=p.columns.root,D=this.getColumnLeavesCount(E),h=0;h<g.length;h++){var C=g[h];s[C.index]&&(C.formatSource&&delete C.formatSource,p.valueSources.push(C),this.addStaticMeasureColumnHeader(l,C,E),u.push(h))}(0,t.lq)(c.matrix.rows.root,y=>{var f=D,S=(0,t.de)(y);if(!_.isEmpty(S))for(var b=0;b<u.length;b++)y.values[f++]={value:S[u[b]].value,valueSourceIndex:m+b}})}}static getColumnLeavesCount(c){var s=0;return(0,t.lq)(c,()=>s++),s}static addStaticMeasureColumnHeader(c,s,p){c.sources.push(s),p.children.push({level:0,levelSourceIndex:c.sources.length-1})}}},686278:function(ve,z,e){e.d(z,{U:function(){return i}});var a=e(448510);class i{constructor(t){this.modelExtension=t,this.visited={}}visitReference(t){if(t.schema===this.modelExtension.name){var o=(0,a.J0)(this.modelExtension,t.entity);if(o){var d=(0,a.lS)(o,t.name);if(d){var n=this.toVisitedKey(t);if(!this.visited[n])for(var c of(this.visitMeasure(this.modelExtension,o,d),this.visited[n]=!0,d.references.measures))this.visitReference(c)}}}}visitMeasure(t,o,d){}toVisitedKey(t){return JSON.stringify(t)}}},448510:function(ve,z,e){e.d(z,{FQ:function(){return n},J0:function(){return l},QH:function(){return p},Rx:function(){return h},W_:function(){return m},aX:function(){return C},gM:function(){return P},hZ:function(){return s},lC:function(){return d},lS:function(){return E},p4:function(){return g},tC:function(){return v}});var a=e(293444),i=e(20593),r=e(660683),t=e(579260),o=e(18122);function d(w,I){return w.modelExtensions&&w.modelExtensions.withName(I)}function n(w,I){var O=d(w,I);if(!O)throw new Error("Unable to find expected model extension: "+I);return O}function s(w,I){return{name:w,extends:I,entities:(0,t.OX)()}}function p(w,I,O){var x=function(w,I,O){w.modelExtensions||(w.modelExtensions=(0,t.OX)());var x=w.modelExtensions.withName(I);return x||(x=s(I,O),w.modelExtensions.push(x)),o.Y.assert(()=>x.extends===O,"Found model extension with incompatible extends field"),x}(w,I,r.CF);return v(x,O)}function l(w,I){return w.entities.withName(I)}function u(w,I,O){var j=l(n(w,I),O);if(!j)throw new Error("Unable to find expected entity: "+O);return j}function v(w,I){w.entities||(w.entities=(0,t.OX)());var O=w.entities.withName(I);return O||(O={name:I,extends:I,measures:(0,t.OX)()},w.entities.push(O)),o.Y.assert(()=>O.extends===I,"Found model extension entity with incompatible extends field"),O}function m(w,I){if(w.measures||(w.measures=(0,t.OX)()),w.measures.withName(I.name))throw new Error(`Measure ${I.name} already exists and cannot be added`);w.measures.push(I)}function g(w,I,O,x){return D(u(w,I,O),x)}function E(w,I){return w.measures.withName(I)}function D(w,I){var O=E(w,I);if(!O)throw new Error("Unable to find expected measure:"+I);return O}function h(w,I,O,x){var j=u(w,I,O),U=D(j,x),F=j.measures.indexOf(U);j.measures.splice(F,1),0===j.measures.length&&(delete j.measures,function(w,I,O){if(!M(O)){var x=n(w,I),j=x.entities.indexOf(O);x.entities.splice(j,1),0===x.entities.length&&(delete x.entities,function(w,I){if(!M(I)){var O=w.modelExtensions.indexOf(I);w.modelExtensions.splice(O,1),0===w.modelExtensions.length&&delete w.modelExtensions}}(w,x))}}(w,I,j))}function C(w,I,O){null==O?function(w,I){var O=w.annotations&&w.annotations.withName(I);if(O){var x=w.annotations.indexOf(O);w.annotations.splice(x,1),w.annotations&&0===w.annotations.length&&delete w.annotations}}(w,I):function(w,I,O){w.annotations||(w.annotations=(0,t.OX)());var x=w.annotations.withName(I);x?x.value=O:w.annotations.push(x={name:I,value:O})}(w,I,O)}function M(w){var I=Object.keys(w),O=_.chain(I).filter(x=>"name"!==x&&"extends"!==x).filter(x=>!(_.isArray(w[x])&&_.isEmpty(w[x]))).value();return _.some(O)}function P(w){if(w){var I={Version:i.fn.Version0,Name:w.name,Extends:w.extends};return w.entities&&(I.Entities=_.map(w.entities,O=>function(w){var I={Extends:w.extends,Name:w.name};return w.measures&&(I.Measures=_.map(w.measures,O=>function(w){var I=w.dataType;return(I===a.W.Date||I===a.W.Time)&&(I=a.W.DateTime),{Name:w.name,Expression:w.expression,DataType:I}}(O))),I}(O))),I}}},690966:function(ve,z,e){e.d(z,{DE:function(){return p},EP:function(){return u},V_:function(){return v},s1:function(){return l},sk:function(){return s}});var a=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,i=1e3,r=60*i,t=60*r,o=24*t,d=7*o,n=30*o,c=365*o;function s(E){return function(E){var D=a.exec(E)||new Array(9),h="-"===D[1]?-1:1;return{years:m(D[2],h),months:m(D[3],h),weeks:m(D[4],h),days:m(D[5],h),hours:m(D[6],h),minutes:m(D[7],h),seconds:m(D[8],h)}}(E)}function p(E){return E.years*c+E.months*n+E.weeks*d+E.days*o+E.hours*t+E.minutes*r+E.seconds*i}function l(E){var D={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0};for(var h of E){var C=h.value;h.isTimeUnit&&"S"===h.unit?D.seconds=C:h.isTimeUnit&&"M"===h.unit?D.minutes=C:h.isTimeUnit&&"H"===h.unit?D.hours=C:"D"===h.unit?D.days=C:"W"===h.unit?D.weeks=C:"M"===h.unit?D.months=C:"Y"===h.unit&&(D.years=C)}return D}function u(E){var D="P";return E.years>0&&(D+=`${E.years}Y`),E.months>0&&(D+=`${E.months}M`),E.weeks>0&&(D+=`${E.weeks}W`),E.days>0&&(D+=`${E.days}D`),0===E.hours&&0===E.minutes&&0===E.seconds||(D+="T",E.hours>0&&(D+=`${E.hours}H`),E.minutes>0&&(D+=`${E.minutes}M`),E.seconds>0&&(D+=`${E.seconds}S`)),D}function v(E){var D=[];return E.seconds&&D.push({value:E.seconds,unit:"S",isTimeUnit:!0}),E.minutes&&D.push({value:E.minutes,unit:"M",isTimeUnit:!0}),E.hours&&D.push({value:E.hours,unit:"H",isTimeUnit:!0}),E.days&&D.push({value:E.days,unit:"D",isTimeUnit:!1}),E.weeks&&D.push({value:E.weeks,unit:"W",isTimeUnit:!1}),E.months&&D.push({value:E.months,unit:"M",isTimeUnit:!1}),E.years&&D.push({value:E.years,unit:"Y",isTimeUnit:!1}),D}function m(E,D){var h=E&&parseFloat(E.replace(",","."));return(isNaN(h)?0:h)*D}},495549:function(ve,z,e){e.d(z,{$z:function(){return U},AJ:function(){return N},Ax:function(){return p},DE:function(){return y},Fl:function(){return S},GL:function(){return M},Gg:function(){return W},Il:function(){return h},Sj:function(){return R},TA:function(){return s},TN:function(){return A},VA:function(){return P},W8:function(){return V},Xo:function(){return I},Y_:function(){return E},Yk:function(){return b},_R:function(){return w},_h:function(){return j},dA:function(){return u},gm:function(){return T},i1:function(){return F},lY:function(){return f},rv:function(){return O},s8:function(){return m},so:function(){return x},y1:function(){return B}});var a=e(233390),i=e(579260),r=e(18122),t=e(124115),o=e(960179),d=e(576086),n=e(447414),c=e(850990);function s(Y,Q,H,te){r.Y.assertValue(Q,"sectionName");var ee=te.defer(),ue=T(Y,Q);return-1===ue?ee.resolve(void 0):H.get(Y.reportId,Y.pods[ue].name).then(Te=>{var He=Te&&Te.words.slice();_.isEmpty(He)?ee.resolve(void 0):(He.shift(),ee.resolve({altNames:He}))}),ee.promise}function p(Y,Q,H){return l.apply(this,arguments)}function l(){return(l=(0,a.A)(function*(Y,Q,H){r.Y.assertValue(Q,"sectionName");var te=T(Y,Q);te>-1&&(yield H.set(Y.reportId,Y.pods[te].name,[]),ne(Y,te,H,!1))})).apply(this,arguments)}function u(Y,Q,H){return v.apply(this,arguments)}function v(){return(v=(0,a.A)(function*(Y,Q,H){r.Y.assertValue(Q,"sectionName");var te=T(Y,Q);te>-1&&(yield H.set(Y.reportId,Y.pods[te].name,[]),k(Y,te))})).apply(this,arguments)}function m(Y,Q,H){return g.apply(this,arguments)}function g(){return(g=(0,a.A)(function*(Y,Q,H){r.Y.assertValue(Y,"exploration"),r.Y.assertValue(Q,"section"),yield E(Y,Q.name,Q.displayName,H,!0)})).apply(this,arguments)}function E(Y,Q,H,te,ee){return D.apply(this,arguments)}function D(){return(D=(0,a.A)(function*(Y,Q,H,te,ee){r.Y.assertValue(Y,"exploration"),r.Y.assertValue(Q,"sectionName"),r.Y.assertValue(H,"newSectionDisplayName");var ue=ee?K(Y,Q,d.th.Default,d.G4.Default):N(Y,Q);if(ee||ue){var Te=yield te.get(Y.reportId,ue.name),He=Te&&Te.words;_.isEmpty(He)?He=[H]:He[0]=H,yield te.set(Y.reportId,ue.name,He)}})).apply(this,arguments)}function h(Y,Q,H,te){return C.apply(this,arguments)}function C(){return(C=(0,a.A)(function*(Y,Q,H,te){r.Y.assertValue(Y,"exploration"),r.Y.assertValue(Q,"section");var ee=K(Y,Q.name,d.th.Default,d.G4.Default);H.unshift(Q.displayName),yield te.set(Y.reportId,ee.name,H)})).apply(this,arguments)}function y(Y,Q,H,te,ee,ue,Te){r.Y.assertValue(Y,"exploration"),r.Y.assertValue(Q,"sectionName"),r.Y.assertValue(H,"filterName"),r.Y.assertValue(Te,"podType");var He=K(Y,Q,d.th.Default,d.G4.Default);He.parameters||(He.parameters=[]);var We={name:t.Q.generateUniqueId(_.zipObject(_.map(He.parameters,ft=>ft.name),_.map(He.parameters,()=>!0))),boundFilter:H,fieldExpr:te,asAggregation:ee,isLegacySingleSelection:ue};He.parameters.push(We),(null==He.type||He.type===d.cN.Default)&&Te!==d.cN.Default&&(He.type=Te)}function f(Y,Q,H,te){r.Y.assertValue(Q,"sectionName"),r.Y.assertValue(H,"filterName");var ee=T(Y,Q);if(ee>-1){var ue=Y.pods[ee],Te=G(ue,H);Te>-1&&(ue.parameters.splice(Te,1),ne(Y,ee,te,!0))}}function S(Y,Q,H,te){r.Y.assertValue(Y,"exploration"),r.Y.assertValue(Q,"sectionName"),r.Y.assertValue(H,"filterName");var ee=T(Y,Q);if(ee>-1){var ue=Y.pods[ee],Te=G(ue,H);Te>-1&&(ue.parameters[Te].asAggregation=te)}}function b(Y,Q,H){r.Y.assertValue(Q,"sectionName"),r.Y.assertValue(H,"filterName");var te=T(Y,Q);return-1!==te&&-1!==G(Y.pods[te],H)}function V(Y,Q,H,te){r.Y.assertValue(Q,"sectionName");var ee,ue=T(Y,Q);(-1!==ue||H)&&(-1===ue?(ee=q(Y,Q,d.th.Default,d.G4.Default),ue=Y.pods.length-1):ee=Y.pods[ue],ee.cortanaEnabled=H,ne(Y,ue,te,!0))}function M(Y,Q){if(Y&&Y.pods){var te=_.findIndex(Y.pods,ee=>ee.name===Q);if(-1!==te)return te}}function P(Y,Q,H,te,ee){r.Y.assertValue(Y,"exploration"),r.Y.assertValue(Q,"newSection"),r.Y.assertValue(te,"linguisticSchemaProxy"),r.Y.assert(()=>H<=Y.sections.length,"Expected target index should be less than or equals sections length.");var ue=T(Y,Y.sections[H].name);if(-1===ue)return ee.resolve();var Te=Y.pods[ue],We=q(Y,Q.name,Te.referenceScope,void 0!==Te.config?Te.config.acceptsFilterContext:d.G4.Default);return We.cortanaEnabled=Te.cortanaEnabled,We.parameters=_.cloneDeep(Te.parameters),We.type=Te.type,function(Y,Q,H,te,ee){return ee.get(Y,te.name).then(ue=>{var Te=ue&&ue.words.slice();_.isEmpty(Te)||(Te.shift(),Te.unshift(Q.displayName),ee.set(Y,H.name,Te))})}(Y.reportId,Q,We,Te,te)}function T(Y,Q){return r.Y.assertValue(Q,"sectionName"),Y&&Y.pods?_.findIndex(Y.pods,H=>H.boundSection===Q):-1}function N(Y,Q){var H=T(Y,Q);if(-1!==H)return Y.pods[H]}function w(Y,Q,H){r.Y.assertValue(Y,"exploration"),r.Y.assertValue(Q,"sectionName"),r.Y.assertValue(H,"acceptsFilterContextKind");var te=N(Y,Q);if(!te&&H!==d.G4.Default&&(te=q(Y,Q,d.th.Default,H)),te){if(null==te.config)return void(te.config={acceptsFilterContext:H});te.config.acceptsFilterContext!==H&&(te.config.acceptsFilterContext=H)}}function I(Y,Q,H){r.Y.assertValue(Y,"exploration"),r.Y.assertValue(Q,"sectionName"),r.Y.assertValue(H,"referenceScope");var te=N(Y,Q);!te&&H!==d.th.Default&&(te=q(Y,Q,H,d.G4.Default)),te&&null!=H&&te.referenceScope!==H&&(te.referenceScope=H)}function O(Y,Q){if(!Y||!Q)return!0;var H=N(Y,Q.name);return!H||!H.config||H.config.acceptsFilterContext===d.G4.Default}function x(Y,Q){if(!Y||!Q)return!1;var H=N(Y,Q.name);return!(!H||!H.config)&&(0,n.s)(H.type,H.parameters)}function j(Y,Q){if(!Y||!Q)return!1;var H=N(Y,Q.name);return!!H&&H.referenceScope===d.th.CrossReport}function U(Y){return Y?d.th.CrossReport:d.th.Default}function F(Y){return Y?d.G4.Default:d.G4.None}function R(Y,Q){return r.Y.assertValue(Y,"section"),!Q&&(Y.type===d.gX.Regular||null==Y.type)||Q&&Y.type===d.gX.Drillthrough?d.cN.Drillthrough:Y.type===d.gX.Tooltip?d.cN.Tooltip:d.cN.Default}function B(Y,Q,H){if(!Y||!Q)return!1;var te=N(Y,Q.name);if(!te||_.isEmpty(te.parameters))return!1;var ee=G(te,H.name);return-1!==ee&&te.parameters[ee].asAggregation}function A(Y,Q){return Q&&Q.scopeType===o.$d.Section&&c.M.isCategoricalFilter(Y.type)&&!Y.isTransient}function W(Y,Q,H){r.Y.assertValue(Y,"exploration"),r.Y.assertValue(Q,"sectionName");var te=T(Y,Q);if(-1!==te){var ee=Y.pods[te];_.isEmpty(ee.parameters)&&(ee.type=d.cN.Default),ee.type=H}}function G(Y,Q){return r.Y.assertValue(Q,"filterName"),Y&&Y.parameters?_.findIndex(Y.parameters,H=>H.boundFilter===Q):-1}function K(Y,Q,H,te){return r.Y.assertValue(te,"acceptsFilterContextKind"),N(Y,Q)||q(Y,Q,H,te)}function q(Y,Q,H,te){r.Y.assertValue(Y,"exploration"),r.Y.assertValue(Q,"sectionName"),Y.pods||(Y.pods=[]);var ee={name:L(Y.pods),boundSection:Q,parameters:[],type:d.cN.Default,referenceScope:H,config:{acceptsFilterContext:te}};return Y.pods.push(ee),r.Y.assert(()=>(0,i.Aj)(Y.pods),"pod names must be unique"),ee}function ne(Y,Q,H,te){var ee=Y.pods[Q];_.isEmpty(ee.parameters)&&(ee.type=d.cN.Default),!ee.cortanaEnabled&&_.isEmpty(ee.parameters)&&ee.config.acceptsFilterContext===d.G4.Default&&ee.referenceScope===d.th.Default&&(te?H.get(Y.reportId,ee.name).then(ue=>{(!ue||_.isEmpty(ue.words))&&k(Y,Q)}):k(Y,Q))}function k(Y,Q){Y.pods.splice(Q,1),0===Y.pods.length&&(Y.pods=void 0)}function L(Y){var Q=_.map(Y,te=>te.name),H=_.zipObject(Q,_.map(Q,()=>!0));return t.Q.generateUniqueId(H)}},89452:function(ve,z,e){e.d(z,{$F:function(){return r},fh:function(){return t},gd:function(){return i}});var a=e(18122);function i(o){var d={};for(var n of o.sections)for(var c of(d[n.name]={},n.visualContainers))if(c.config.singleVisual){var s=c.config.singleVisual;d[n.name][c.name]={visualType:s.visualType,autoSelectVisualType:s.autoSelectVisualType,projections:s.query?r(s.query):void 0}}return d}function r(o){var d={},n=o.defn.select();if(!n)return d;for(var c in o.projections){var s=o.projections[c];if(s)for(var p of(d[c]=[],s.all())){var l=n.withName(p.queryRef);null!=l?d[c].push(l.expr):a.Y.assertFail("Select should be defined during projection capture")}}return d}function t(o){var n;if(!o.defn.select())return n;for(var c in o.projections){var s=o.projections[c];if(s){var p=_.sortBy(s.getFieldParameters(),E=>E.index);if(!_.isEmpty(p))for(var l of(n||(n={}),n[c]=[],p)){var{expr:u,index:v,length:m,sortDirection:g}=l;n[c].push({expr:u,index:v,length:m,sortDirection:g})}}}return n}},480724:function(ve,z,e){e.d(z,{g:function(){return r}});var a=e(540673),i=e(18122);class r{constructor(o){this.container=o,this.context={pendingGeocodingCount:0}}newQuery(o){var d=0!==this.context.pendingGeocodingCount,n=this.context.geocodingActivity;this.context={pendingGeocodingCount:0,rootActivity:o},d&&(n&&n.cancel(!0),this.container.onStopGeocoding())}hasPendingGeocoding(){return this.context.pendingGeocodingCount>0}wrapGeocoder(o){return{geocode:this.wrapAsyncGeocoderMethod(o,o.geocode),geocodeBoundary:this.wrapAsyncGeocoderMethod(o,o.geocodeBoundary),geocodePoint:this.wrapAsyncGeocoderMethod(o,o.geocodePoint),geolocation:this.wrapAsyncGeocoderMethod(o,o.geolocation),tryGeocodeImmediate:(d,n,c,s,p,l)=>o.tryGeocodeImmediate(d,n,c,s,p,l),tryGeocodeBoundaryImmediate:(d,n,c,s,p)=>o.tryGeocodeBoundaryImmediate(d,n,c,s,p),getResolvedIsoCode:()=>o.getResolvedIsoCode()}}wrapAsyncGeocoderMethod(o,d){return(...n)=>{var c=this.context,s=d.apply(o,n);1==++c.pendingGeocodingCount&&(this.context.rootActivity&&(this.context.geocodingActivity=this.context.rootActivity.createChildActivity({name:a.n.Geocoding})),this.container.onStartGeocoding());var p=()=>{c===this.context&&--c.pendingGeocodingCount<=0&&(i.Y.assert(()=>0===c.pendingGeocodingCount,"requestContext.pendingGeocodingCount underflow"),this.context.geocodingActivity&&this.context.geocodingActivity.resolve(),this.container.onStopGeocoding())};return s.then(p,p),s}}}},976023:function(ve,z,e){e.d(z,{Ch:function(){return a},JJ:function(){return i},bI:function(){return r}});var a=function(t){return t.AlertCreationRequested="AlertCreationRequested",t.AlertCreationInProgress="AlertCreationInProgress",t.AlertCreationCompleted="AlertCreationCompleted",t}({}),i=function(t){return t[t.PBIToolbar=0]="PBIToolbar",t[t.VisualContextMenu=1]="VisualContextMenu",t[t.VisualRightClickMenu=2]="VisualRightClickMenu",t[t.VisualAlertButton=3]="VisualAlertButton",t[t.VisualFollowButton=4]="VisualFollowButton",t[t.PBIToolbarV2=5]="PBIToolbarV2",t[t.VisualContextMenuV2=6]="VisualContextMenuV2",t[t.VisualRightClickMenuV2=7]="VisualRightClickMenuV2",t[t.VisualAlertButtonV2=8]="VisualAlertButtonV2",t[t.TrialProvisioningV2=9]="TrialProvisioningV2",t}({});class r{static getReflexPaneState(){return this.reflexPaneState}static setReflexPaneState(o=void 0){this.reflexPaneState=o}static getReflexPaneEntryPoint(){return this.reflexPaneEntryPoint}static setReflexPaneEntryPoint(o=void 0){this.reflexPaneEntryPoint=o}static getSelectedArtifactId(){return this.selectedArtifactId}static setSelectedWorkspaceId(o=void 0){this.selectedWorkspaceId=o}static getSelectedWorkspaceId(){return this.selectedWorkspaceId}static setSelectedArtifactId(o=void 0){this.selectedArtifactId=o}static isAlertSupportedVisual(o){return["columnChart","dataDotStackedColumnComboChart","hundredPercentStackedColumnChart","lineStackedColumnComboChart","clusteredColumnChart","dataDotClusteredColumnComboChart","lineClusteredColumnComboChart","barChart","hundredPercentStackedBarChart","clusteredBarChart","ribbonChart","lineChart","realTimeLineChart","areaChart","stackedAreaChart","hundredPercentStackedAreaChart","pieChart","donutChart","gauge","card","kpi","map","filledMap","azureMap","tableEx","pivotTable","treemap","funnel","decompositionTreeVisual","multiRowCard","cardVisual"].includes(o)}}},261480:function(ve,z,e){e.d(z,{P8:function(){return r},Sh:function(){return o},Wt:function(){return d},ZC:function(){return t},g$:function(){return n},nk:function(){return c}});var a=e(18122),i=e(554109);function r(s,p,l){return(0,i.P8)(s,p,l)}function t(s,p,l){var u=d(s);return(0,i.J)(u,p,l)}function o(s){var p=s.publicCustomVisuals;return p||(s.publicCustomVisuals=p=[]),p}function d(s){var p=s.resourcePackages;return p||(s.resourcePackages=p=[]),p}function n(s,p){if(!_.isEmpty(p)&&!_.isEmpty(s))for(var l of p){var u=(0,i.uN)(s,l.type,l.name);if(u)for(var v of(a.Y.assertValue(u.id,"ID should exist in new resource package"),l.id=u.id,l.items)){var m=(0,i.AU)(u,v.name);m&&(a.Y.assertValue(m.id,"ID should exist in new resource package item"),v.id=m.id)}}}function c(s,p){a.Y.assert(()=>!!s,"synchronizeExplorationV2Packages - newPackages should be defined"),p.resourcePackages=[...s]}},366968:function(ve,z,e){e.d(z,{F:function(){return c},K:function(){return l}});var a=e(620825),i=e(98138),r=e(692405),t=e(18122),o=e(188076),d=e(757406),n=e(990328);function c(v){t.Y.assertValue(v,"changes");var m=[],g=function(D){D.measureMove&&m.push(new l((0,r.iX)(D.measureMove))),D.entityRename&&m.push(new l((0,r.el)(D.entityRename))),D.propertyRename&&m.push(new l((0,r.y0)(D.propertyRename))),D.hierarchyLevelRename&&m.push(new l((0,r.Mc)(D.hierarchyLevelRename))),D.removeVariation&&m.push(new u(new p(D.removeVariation),D.removeVariation)),D.newMeasureCreated&&_.find(v,function(h){return h.itemDelete&&h.itemDelete.property===D.newMeasureCreated.name&&h.itemDelete.entity===D.newMeasureCreated.entity&&h.itemDelete.schema!==D.newMeasureCreated.schema})&&m.push(new l((0,r.kw)(D.newMeasureCreated)))};for(var E of v)g(E);return m}function s(v,m){t.Y.assertValue(v,"expr");var g=(0,o.F)(v);return g.columnHierarchyLevelVariation&&g.columnHierarchyLevelVariation.source.entity===m.entity&&g.columnHierarchyLevelVariation.source.schema===m.schema&&g.columnHierarchyLevelVariation.source.name===m.property&&g.columnHierarchyLevelVariation.variationName===m.name}class p extends n.k{constructor(m){t.Y.assertValue(m,"change"),super(),this.change=m}visitHierarchyLevel(m){return s(m,this.change)?new d.Dw(new d.BO(this.change.schema,this.change.entity),this.change.property):m}}class l{constructor(m){this.exprRewriter=m}rewriteQuery(m){var g=m.defn;g=g.rewrite(this.exprRewriter),m.defn=g,m.expansionStates=_.map(m.expansionStates,h=>h.rewrite(this.exprRewriter));var E=m.getQueryFieldParameters();if(!_.isEmpty(E))for(var D of E)D.expr=D.expr.accept(this.exprRewriter);return m}rewriteFilter(m){return m.rewrite(this.exprRewriter)}rewriteExpr(m){return m.accept(this.exprRewriter)}}class u{constructor(m,g){this.exprRewriter=m,this.change=g}rewriteQuery(m){this.removeDuplicateSQHierarchyLevelExpr(m);var g=m.defn;return g=g.rewrite(this.exprRewriter),m.defn=g,m.expansionStates=_.map(m.expansionStates,E=>E.rewrite(this.exprRewriter)),m}rewriteFilter(m){return m.rewrite(this.exprRewriter)}rewriteExpr(m){return m.accept(this.exprRewriter)}removeDuplicateSQHierarchyLevelExpr(m){for(var g=m.defn.select(),E=0;E<g.length;){var D=g[E];if(E++,(0,a.Ah)(D.expr)&&s(D.expr,this.change))for(;E<g.length&&(0,a.Ah)(g[E].expr)&&(0,i.aI)(D.expr.arg,g[E].expr.arg);)m.removeExpr(g[E].expr,!1),E++}}}},534608:function(ve,z,e){e.d(z,{CX:function(){return o},E3:function(){return r},K_:function(){return d},ON:function(){return t},Yp:function(){return n}});var a=e(960179);function r(s,p){var l=[];if(!s||!s.visualContainers)return l;for(var u of s.visualContainers)p.addScriptVisualInfo(u,l);return l}function t(s,p){var l={totalVisualsCount:0,info:[]};if(!s||!s.sections)return l;for(var u of s.sections)if(u.visualContainers){var v=r(u,p);l.info=l.info.concat(v),l.totalVisualsCount+=u.visualContainers.length}return l}function o(s,p,l,u,v){var m=[];switch(s){case a.$d.Visual:if(!u)return m;v.addScriptVisualInfo(u,m);break;case a.$d.Section:m=r(l,v);break;case a.$d.Exploration:if(!p)return m;for(var g of p.sections){var E=r(g,v);m=m.concat(E)}break;default:return m}return m}function d(s,p){for(var l of s)if(l&&l.config&&l.config.singleVisual){var u=l.config.singleVisual.visualType;if(u&&p.isScriptVisual(u))return!0}return!1}function n(s){switch(s){case"scriptVisual":return a.wY.RScript;case"pythonVisual":return a.wY.PythonScript;default:return null}}},718665:function(ve,z,e){e.d(z,{OV:function(){return o},QD:function(){return s},Ys:function(){return c},mL:function(){return d},qb:function(){return n}});var a=e(18122),i=e(576086),r=e(71712),t=e(387797);function o(p){return a.Y.assertValue(p,"section"),!!p.dynamicConfig?.quickExplore}function d(p){return _.some(p,l=>o(l))}function n(p){var l=p?.dynamicConfig?.quickExplore?.layout;if(l){if(l.combination)return`Combination.${l.combination.version}`;if(l.related)return`Related.${l.related.version}`}}function c(p,l){var u=_.flatMap(l,v=>v.visualContainerGroups);_.isEmpty(u)||(0,r.Uu)(p.visualContainerGroups,v=>{var m=(0,t.Vz)(u);v.name=m,u.push(v)})}function s(p){function l(v,m){var g=m.howCreated??i.ZM.Default;v[g]||(v[g]=0),v[g]++}return a.Y.assertValue(p,"sections"),function(){var v={};for(var m of p)l(v,m);return v}()}},265883:function(ve,z,e){e.d(z,{k:function(){return s},l:function(){return p}});var a=e(18122),i=e(664158),r=e(258480),t=e(910058),o=e(448724),d=e(98138),n=e(693029),c=e(579260),s=function(g){return g.EmptyTargets="Data_Limit_Empty_Targets",g.MeasureFilterMismatch="Data_Limit_MeasureFilter_Mismatch",g.VisualCalculationsPresent="Data_Limit_VisualCalculations_NotSupported",g.HiddenFieldsPresent="Data_Limit_HiddenFields_NotSupported",g}({});function p(g,E,D,h){a.Y.assertValue(g,"query"),a.Y.assertValue(E,"visualTopNExpr"),a.Y.assertValue(h,"capabilities");var C=function(g){if(g.hasVisualCalcExpressions())return{errorCode:s.VisualCalculationsPresent}}(D);if(C)return C;var y=function(g){if(g.hasHiddenProjections())return{errorCode:s.HiddenFieldsPresent}}(D);if(y)return y;var f=function(g,E,D){var C=_.chain(D.dataRoles).filter(S=>S.joinPredicate!==n.gD.None).map(S=>S.name).value(),y=_(E.projections).entries().filter(([S])=>C.includes(S)).flatMap(([,S])=>S.all().map(b=>b.queryRef)).value(),f=_.chain(g.select()).filter(S=>!(0,i.t)(S.expr)||y.includes(S.name)).sortBy(S=>(0,i.t)(S.expr)?1:0).value();return f}(g,D,h),S=_.chain(f).filter(T=>!(0,i.t)(T.expr)).map(T=>T.expr).value();if(_.isEmpty(S))return{errorCode:s.EmptyTargets};var b=function(g,E){var D=g.where();if(!D||0===D.length)return null;for(var h of D)if((0,t.m)(h.condition)===o.l0.Measure&&!(0,c.m2)(h.target,E,d.aI))return{errorCode:s.MeasureFilterMismatch}}(g,S);if(b)return b;var V=r.DC.createWith({from:g.from(),select:f,orderBy:g.orderBy()||[],top:E.itemCount,where:g.where()}),M=r.b0.fromSubquery(V,S,!0);return{filter:(0,r.m4)(M,g)}}},815791:function(ve,z,e){e.d(z,{F:function(){return i}});var a=e(620825);class i{constructor(t){this.key=[],this.value=[],this.comparer=t}add(t,o){this.key.push(t),this.value.push(o)}get(t){if((0,a.Ah)(t))for(var o=0;o<this.key.length;o++)if(this.comparer(this.key[o],t))return this.value[o]}}},562991:function(ve,z,e){e.d(z,{A:function(){return b},G7:function(){return I},JV:function(){return T},T3:function(){return P},YS:function(){return U},_Z:function(){return m},oi:function(){return O}});var a=e(709190),i=e(824498),r=e(18122),t=e(999904),o=e(95006),d=e(930845),n=e(167616),c=e(481041),s=e(821553),p=e(933729),l=e(92644),u=e(541459),v=e(816030),m={AccessibleDefault:"BuiltInReportThemeAccessibleDefault",AccessibleCityPark:"BuiltInReportThemeAccessibleCityPark",AccessibleTidal:"BuiltInReportThemeAccessibleTidal",AccessibleNeutral:"BuiltInReportThemeAccessibleNeutral",AccessibleOrchid:"BuiltInReportThemeAccessibleOrchid",Default:"Default",Bloom:"BuiltInReportThemeBloom",CityPark:"BuiltInReportThemeCityPark",Classic:"BuiltInReportThemeClassic",Classroom:"BuiltInReportThemeClassroom",ColorblindSafe:"BuiltInReportThemeColorblindSafe",Divergent:"BuiltInReportThemeDivergent",Electric:"BuiltInReportThemeElectric",NewExecutive:"BuiltInReportThemeExecutive",Frontier:"BuiltInReportThemeFrontier",HighContrast:"BuiltInReportThemeHighContrast",Highrise:"BuiltInReportThemeHighrise",Innovate:"BuiltInReportThemeInnovate",Solar:"BuiltInReportThemeSolar",Storm:"BuiltInReportThemeStorm",Sunset:"BuiltInReportThemeSunset",Temperature:"BuiltInReportThemeTemperature",Tidal:"BuiltInReportThemeTidal",Twilight:"BuiltInReportThemeTwilight",CopilotDefault:"BuiltInReportThemeCopilotDefault"},g={CopilotDefault:{letterColor:"#000000"}},E="CY18SU07",D="CY24SU10",h={CY17SU10:s.RPl.v3_6,CY17SU12:s.RPl.v3_7,CY18SU04:s.RPl.v3_12,CY18SU07:s.RPl.v3_15,CY19SU06:s.RPl.v5_3,CY19SU12:s.RPl.v5_6,CY20SU07:s.RPl.v5_13,CY20SU09:s.RPl.v5_15,CY21SU02:s.RPl.v5_18,CY21SU03:s.RPl.v5_19,CY21SU04:s.RPl.v5_20,CY21SU07:s.RPl.v5_24,CY21SU11:s.RPl.v5_27,CY22SU03:s.RPl.v5_30,CY22SU08:s.RPl.v5_35,CY22SU09:s.RPl.v5_37,CY22SU11:s.RPl.v5_40,CY23SU04:s.RPl.v5_43,CY23SU08:s.RPl.v5_47,CY23SU11:s.RPl.v5_49,CY24SU02:s.RPl.v5_51,CY24SU05:s.RPl.v5_54,CY24SU06:s.RPl.v5_55,CY24SU08:s.RPl.v5_57,CY24SU10:s.RPl.v5_59},C="Classic",y="Default",S=["Classic","CityPark","Classroom","ColorblindSafe","Electric","HighContrast","Sunset","Twilight"];function b(F){return r.Y.assertValue(F,"baseThemeName should exist to get its version"),h[F]||s.RPl.v3_6}function P(F,R,B,A){return(0,i.T)(F,R,B||(0,s.yR4)(c.t),A)}function T(F){var R=F&&F.featureSwitches&&F.featureSwitches.useNewCY19SU06BaseTheme;return{name:R?D:E,version:h[R?D:E],type:a.X.SharedResources}}function I(F,R,B){var A=F.themeCollection,G=F.objects,K=R.getVisualObjects(A,d.Jy,void 0,n.F);K&&(G=(0,t.o8)(G||{}),(0,t.X$)(G,K));var q=R.getVisualStyle(A),ne=(0,o.Mo)(G,n.F,q,B);F.evaluatedObjects=ne.dataViewObjects}function O(F,R,B,A,W,G=!1){G&&W.transientUserSetTheme&&((W=_.cloneDeep(W)).customTheme=W.transientUserSetTheme);var K=F.getVisualStyle(W),q=F.getVisualObjects(W,d.Jr,void 0,u.Cq),ne={};q&&(0,t.X$)(ne,q),B[A]&&URL.revokeObjectURL(B[A]);var k=(0,o.Mo)(ne,u.Cq,K,R.featureSwitches),L=(0,v._W)(k.dataViewObjects,{objectName:"outspace",propertyName:"image"}),X=(0,v._W)(k.dataViewObjects,{objectName:"background",propertyName:"image"}),Y=X&&X.url||L&&L.url;if(Y&&_.startsWith(Y,"data:")&&(Y=B[A]=function(F){for(var[R,B]=F.split(","),A=R.split(":")[1].split(";")[0],W=atob(B),G=[],K=0;K<W.length;K++)G.push(W.charCodeAt(K));return URL.createObjectURL(new Blob([new Uint8Array(G)],{type:A}))}(Y)),W.highContrastTheme){var Q=W.highContrastTheme;delete W.highContrastTheme,K=F.getVisualStyle(W),W.highContrastTheme=Q}var H={id:A,palette:K.colorPalette,backgroundUrl:Y};if(W.customTheme?.type===a.X.SharedResources){var te=g[W.customTheme.name];te&&(H={...H,...te})}return function(F){var R=F.palette,B=F.backgroundUrl&&`url(${F.backgroundUrl})`,A=F.letterColor||(B?R.background.value:R.foreground.value);return{root:["highContrastDisabled",{...B&&{backgroundImage:B,backgroundClip:"content-box"},selectors:{".BackgroundFill":B?{fillOpacity:0}:{fill:R.background.value},".BackgroundStroke":{fill:R.foreground.value},".Letter_1":{fill:A},".Letter_2":{fill:A},".Bar_1":{fill:R.dataColors.getColorByIndex(0).value},".Bar_2":{fill:R.dataColors.getColorByIndex(1).value},".Bar_3":{fill:R.dataColors.getColorByIndex(2).value},".Bar_4":{fill:R.dataColors.getColorByIndex(3).value},".Bar_5":{fill:R.dataColors.getColorByIndex(4).value},".Bar_6":{fill:R.dataColors.getColorByIndex(5).value},".Bar_7":{fill:R.dataColors.getColorByIndex(6).value},".Bar_8":{fill:R.dataColors.getColorByIndex(7).value}}}]}}(H)}function U(F,R,B,A,W,G){var K=R.getCurrentExploration();if(!K)return Promise.resolve([]);var q=T(F),ne={name:E,version:h[E],type:a.X.SharedResources},k={};S.forEach(Y=>k[Y]=!0);var L=Object.keys(m).map(Y=>{if(Y===y)return B.add(q.name,a.X.SharedResources,l.gH.BaseTheme),{themeName:Y,metadata:q,themeCollection:{baseTheme:q}};if(Y===C)return B.add(ne.name,a.X.SharedResources,l.gH.BaseTheme),{themeName:Y,metadata:ne,themeCollection:{baseTheme:ne}};var Q=P(Y,a.X.SharedResources);return B.add(Q.name,a.X.SharedResources,l.gH.CustomTheme),{themeName:Y,metadata:Q,themeCollection:{baseTheme:k[Y]?ne:q,customTheme:Q}}}),X=L.map(Y=>p.T.loadTheme(a.X.SharedResources,G,A,W,K.resourcePackages,Y.metadata.name));return Promise.all(X).then(()=>L)}},888411:function(ve,z,e){e.d(z,{Ru:function(){return D},ZI:function(){return m},_b:function(){return h},xg:function(){return v}});var a=e(620825),i=e(98138),r=e(989395),t=e(30885),o=e(18122),d=e(454840),n=e(693029),c=e(702794),s=e(111199),p=e(999904),l=e(757406),u=e(664158);function v(T,N,w,I,O){if(o.Y.assertAnyValue(N,"mappings"),o.Y.assertValue(w,"query"),o.Y.assertValue(I,"transformPluginService"),o.Y.assertValue(O,"visualCapabilities"),!T)return w;var x=[],j=O.objects,U=function(G){var K=j[G],q=function(k){if(K.properties[k].type.queryTransform){var L=_.filter(T[G],X=>function(T,N){if(!T.selector||!_.isString(T.selector.metadata))return!0;var w=N.projections;if(!w)return!1;for(var I in w){var O=w[I];if(O){var x=O.all();if(x)for(var j of x)if(j.queryRef===T.selector.metadata)return!0}}return!1}(X,w));x.push(..._.map(L,X=>({objectName:G,propertyName:k,object:X})))}};for(var ne in K.properties)q(ne)};for(var F in j)U(F);if(_.isEmpty(x))return w;var R=w.clone();for(var B of x){var A=(0,p._W)(T,{objectName:B.objectName,propertyName:B.propertyName},B.object.selector);if(A&&g(A.algorithm,N)){var W=I.getTransformPlugin(A.algorithm);R.addTransform(W,A.parameters,O)}}return R}function m(T,N,w){o.Y.assertValue(T,"transformPluginService"),o.Y.assertValue(N,"query"),o.Y.assertAnyValue(w,"compiledMappings");var I=N.defn.transforms();if(_.isEmpty(I))return N;var O=N.clone();for(var x of I)if(!g(x.algorithm,w)){var j=T.getTransformPlugin(x.algorithm);O.removeTransform(j,x.name)}return O}function g(T,N){switch(T){case r.Nx.Forecast.name:return N.some(w=>(0,s.$7)(w));case r.Nx.SampleAndDetectAnomaly.name:return N.some(w=>(0,s.nM)(w));default:return!0}}function D(T,N,w,I,O,x,j){o.Y.assertValue(N,"query"),o.Y.assertAnyValue(I,"dataRoles"),o.Y.assertValue(O,"queryRefsByRole"),o.Y.assertAnyValue(x,"additionalProjections"),o.Y.assertValue(j,"compiledMappings");var U=N.transforms();if(_.isEmpty(U))return N;var F=N.select();if(_.isEmpty(F))return N;for(var{transformSelects:R,topLevelSelects:B}=function(T,N,w,I,O){o.Y.assertValue(T,"query"),o.Y.assertValue(N,"projections"),o.Y.assertAnyValue(w,"dataRoles"),o.Y.assertValue(I,"queryRefsByRole"),o.Y.assertAnyValue(O,"additionalProjections");var x=[],j=[],U=T.select(),F=function(A){if((0,a.VT)(A.expr))return x.push(A),0;var W=Object.keys(I),G=_.filter(W,k=>_.includes(I[k],A.name));if(!_.isEmpty(G)){var K=!1;for(var q of G)if(!N[q].activeProjectionRefs||_.includes(N[q].activeProjectionRefs,A.name)){x.push(A),K=!0;break}return K||j.push(A),0}if(!_.isEmpty(O)){var ne=_.find(O,k=>k.queryName===A.name);ne&&ne.selector&&ne.selector.data?x.push(A):j.push(A)}};for(var B of U)F(B);return{transformSelects:x,topLevelSelects:j}}(N,w,I,O,x),A=[],W=0;W<U.length;W++){var G=U[W],K=T.getTransformPlugin(G.algorithm),q="input"+W,ne="output"+W;G.input.parameters=P(G.input.parameters,j);var k={algorithm:G.algorithm,name:G.name,input:{parameters:G.input.parameters,table:{name:q,columns:y(R,O,I,K,j)}},output:{table:{name:ne,columns:S(R,q,w)}}};R=_.map(k.output.table.columns,ee=>{var ue=(0,l.sX)((0,l.CR)(ne),ee.expression.name);return{name:ee.expression.name,expr:ue}}),A.push(k)}var Y,L=_.last(A),X=N.orderBy();L&&!_.isEmpty(X)&&(Y=_.map(X,ee=>{var ue=_.find(F,He=>(0,i.aI)(He.expr,ee.expr));o.Y.assertValue(ue,"orderby clause not found in selects");var Te=(0,l.sX)((0,l.CR)(L.output.table.name),ue.name);return{direction:ee.direction,expr:Te}}));var Q=N.transforms(A);if(!_.isEmpty(B)){var H=function(ee){var ue=_.findIndex(F,Te=>Te.name===ee.name);o.Y.assert(()=>ue>=0,"Should be able to find the select in topLevelSelects"),R.splice(ue,0,ee)};for(var te of B)H(te)}return Q=Q.select(R),Y&&(Q=Q.orderBy(Y)),Q}function h(T,N){if(o.Y.assertValue(T,"query"),_.isEmpty(T.transforms())||_.isEmpty(T.select()))return T;var w=[];return _.map(T.select().slice(0,N),I=>{if((0,a.R3)(I.expr)&&(0,a.eN)(I.expr.source)){var O=I.expr.source.source,x=_.find(T.transforms(),U=>U.output.table?.name===O);if(x){var j=function(T,N){o.Y.assertValue(T,"sqTransform"),o.Y.assertValue(T.output.table,"sqTransform.output.table"),o.Y.assertValue(N,"refToOutputColumn");var w=_.find(T.output.table.columns,x=>x.expression.name===N.ref);if(w){var I=w.expression.expr;if((0,a.R3)(I)){var O=_.find(T.input.table?.columns,x=>x.expression?.name===I.ref);return O?.expression.expr}}}(x,I.expr);j&&!(0,a.VT)(j)&&w.push({name:I.name,expr:j})}}else w.push(I)}),T.createModified({select:w,transforms:null})}function y(T,N,w,I,O){o.Y.assertValue(T,"selects"),o.Y.assertValue(N,"queryRefsByRole"),o.Y.assertAnyValue(w,"dataRoles"),o.Y.assertValue(I,"transformPlugin"),o.Y.assertValue(O,"compiledMappings");var x=_.filter(T,U=>!(0,a.VT)(U.expr)),j=function(T){var N,w;for(var I of T){if(I.categorical){var x=I.categorical.categories;_.isEmpty(x)||(0,c.Ax)(x,{visitRole:j=>{var U=_.find(j.items,F=>F.scalarKeyInfo?.scalarKeyMinProperty);U&&(N=j.role,w=U.scalarKeyInfo.scalarKeyQueryName)}})}if(N&&w)return{roleName:N,queryName:w}}}(O);return _.map(x,U=>function(T,N,w,I,O){var x=Object.keys(w),j=T.name===N?.queryName,U=j?N.roleName:_.find(x,B=>_.includes(w[B],T.name)),F=_.find(I,B=>B.name===U);return{role:(null==N?null!=F:j||null!=U&&U!==N.roleName)?M(T.expr,O,F):void 0,expression:T}}(U,j,N,w,I))}function S(T,N,w){o.Y.assertValue(T,"selects"),o.Y.assertValue(N,"inputTableName"),o.Y.assertValue(w,"projections");var I={};for(var O of T)(0,a.VT)(O.expr)||(I[O.name]=!0);return _.map(T,x=>{var j,U,F;if((0,a.VT)(x.expr)){var R;for(var B in w){var A=w[B].all();_.some(A,W=>W.queryRef===x.name)&&(R=B)}o.Y.assertValue(R,"should be able to find the role in projections"),j=R,U=x.expr,F=(0,d.uL)(I,x.name)}else U=(0,l.sX)((0,l.CR)(N),x.name),F=x.name;return{role:j,expression:{name:F,expr:U}}})}function M(T,N,w){o.Y.assertValue(N,"transform"),o.Y.assertAnyValue(w,"visualDataRole");var I=_.find(N.inputRoles,O=>{o.Y.assertValue(O,"transform.inputRoles should not contain undefined/null roles");var x=O.visualDataRoleMatching;return!x||!(void 0!==x.cartesianKind&&x.cartesianKind!==w.cartesianKind||void 0!==x.matchGrouping&&x.matchGrouping===(0,u.t)(T)||void 0!==x.matchMeasure&&x.matchMeasure!==(0,u.t)(T)||x.skipJoinPredicateNone&&w.joinPredicate===n.gD.None)});if(I)return I.name}function P(T,N){o.Y.assertValue(T,"parameters"),o.Y.assertValue(N,"compiledMappings");var w=_.find(N,x=>(0,s.nM)(x));if(w){var I=w.categorical.dataReductionAlgorithm.binnedLineSample.warningCount,O=t.aY;I&&!_.find(T,x=>x.name===O)&&T.push({name:O,expr:(0,l.nd)(I)})}return T}},426544:function(ve,z,e){e.d(z,{C:function(){return r}});var a=e(757406),i=e(990328);class r extends i.k{constructor(o){super(),this.schema=o}visitEntity(o){var d=this.getVariationMapping(o);return d?new a.BO(o.schema,d.sourceEntity.name):o}visitColumnRef(o){var d=o.source.accept(this);if(d!==o.source){var n=this.getVariationMapping(o.source);if(n){var c=_.find(n.variation.defaultHierarchy.levels,s=>s.column.name===o.ref);if(c)return new a.LV(new a.t9(new a.P0(d,n.variation.name,n.sourceProperty.name),n.variation.defaultHierarchy.name),c.name)}}return o}getVariationMapping(o){var d=this.schema.schema(o.schema).findVariationToHierarchyMappings(o.entity);if(d)return _.last(d)}}},417686:function(ve,z,e){e.d(z,{Ki:function(){return w},L4:function(){return D},Rm:function(){return C},SR:function(){return v},ZZ:function(){return T},_9:function(){return O},dM:function(){return I},iT:function(){return j},mC:function(){return h},oI:function(){return f},sL:function(){return y}});var a=e(579260),i=e(18122),r=e(178748),t=e(890741),o=e(999904),d=e(827431),n=e(476271),c=e(619895),s=e(735183),p=e(757406),l=e(312185),u=e(154277);function v(U,F){if(i.Y.assertAnyValue(U,"dataSelectors"),_.isEmpty(U))return U;var R=(0,a.cd)(U,B=>(0,t.fF)(B)?m(B,F):(0,t.rh)(B)?function(U,F){i.Y.assertValue(U,"scopeWildcard");var R=(0,a.cd)(U.exprs,B=>w(B,F));return R!==U.exprs?(0,s.Hg)(R):U}(B,F):(0,t.jG)(B)||(0,t.z2)(B)?B:(0,t.pB)(B)?function(U,F){i.Y.assertValue(U,"scopeTotal");var R=(0,a.cd)(U.exprs,B=>w(B,F));return R!==U.exprs?(0,c.Hg)(R):U}(B,F):(i.Y.assertFail("Unknown selector type"),B));return R}function m(U,F){i.Y.assertValue(U,"scopeIdentity");var R=w(U.expr,F);return R!==U.expr?(0,n.UQ)(R):U}function D(U,F){}function h(U,F){P(U,F)}function C(U,F){P(U,F)}function y(U,F,R){i.Y.assertValue(U,"objects"),i.Y.assertValue(F,"descriptors");var B=(0,d.x_)(F);if(B){var A=(0,o.pG)(U,B,null);if(A){var W=B.propertyName,G=A[W];if(G){for(var K of R)G=K.rewriteFilter(G);A[W]=G}}}}function f(U,F,R){function B(q){var ne=A(q.value);return{textStyle:q.textStyle,url:q.url,value:ne,mentionEmail:q.mentionEmail}}function A(q){var ne=q;return ne instanceof p.yj&&(ne=K(ne,R)),ne}function G(q){return{textRuns:_.map(q.textRuns,k=>B(k))}}function K(q,ne){for(var k of(i.Y.assertNonEmpty(ne,"rewriters"),i.Y.assertValue(q,"rewriters"),ne))q=k.rewriteExpr(q);return q}U&&F&&!_.isEmpty(R)&&(0,o.po)(U,F,(q,ne,k,L,X)=>{var Y=X&&X.properties[ne],Q=q[ne];if(Q instanceof p.yj)for(var H of R)Q=H.rewriteExpr(Q);else if((0,o.JZ)(Q))for(var te of R){if(!_.isEmpty(Q.context?.filterContext))for(var ee of Q.context.filterContext)ee.filter=te.rewriteFilter(ee.filter);Q.value=te.rewriteExpr(Q.value)}else{var ue=Y.type;if(ue.fill&&ue.fill.solid&&ue.fill.solid.color){if(!(0,u.xo)(Q))return;var Te=Q.solid.color;if(!Te)return;var He=Te;(Te=K(Te,R))!==He&&(Q={solid:{color:Te}})}else if(ue.paragraphs){if(!(0,u.pj)(Q)||!function(U,F){for(var R of U){var B=R.textRuns;for(var A of B)if((0,l.OX)(A)){if(b(A.value,F))return!0}else if((0,l.k9)(A)){for(var W of A.cases)if(V(W,F))return!0;if(M(A.defaultCase,F)||b(A.expression,F))return!0}else i.Y.assertNever(A)}return!1}(Q,R))return;Q=_.map(Q,we=>({horizontalTextAlignment:we.horizontalTextAlignment,textRuns:_.map(we.textRuns,Ee=>{if((0,l.OX)(Ee))return B(Ee);if((0,l.k9)(Ee)){var Oe=_.map(Ee.cases,Se=>function(q){var ne=q.pattern;return ne instanceof p.yj&&(ne=K(ne,R)),{pattern:ne,...G(q)}}(Se));return{cases:Oe,defaultCase:G(Ee.defaultCase),expression:A(Ee.expression)}}i.Y.assertNever(Ee)})}))}else if(ue.icon){if(!(0,u.P3)(Q))return;var We={kind:r.P.Icon,value:Q.value?K(Q.value,R):Q.value,layout:Q.layout?K(Q.layout,R):Q.layout,verticalAlignment:Q.verticalAlignment?K(Q.verticalAlignment,R):Q.verticalAlignment};(Q.value!==We.value||Q.layout!==We.layout||Q.layout!==We.layout)&&(Q=We)}else if(ue.errorRange){if(!(0,u.lF)(Q))return;var ft={kind:r.P.ErrorRange};if(Q.explicit){var mt=Q.explicit,At=ft.explicit={isRelative:K(mt.isRelative,R)};mt.lowerBound&&(At.lowerBound=K(mt.lowerBound,R)),mt.upperBound&&(At.upperBound=K(mt.upperBound,R))}else if(Q.symmetricalExplicit)ft.symmetricalExplicit={delta:K(Q.symmetricalExplicit.delta,R)};else if(Q.standardDeviation){var Qe=Q.standardDeviation;ft.standardDeviation={value:K(Qe.value,R),multiplier:K(Qe.multiplier,R)}}else if(Q.percentage){var Fe=Q.percentage;ft.percentage={lowerBoundDelta:K(Fe.lowerBoundDelta,R),upperBoundDelta:K(Fe.upperBoundDelta,R)}}else if(Q.percentile){var ye=Q.percentile;ft.percentile={lowerBound:K(ye.lowerBound,R),upperBound:K(ye.upperBound,R)}}Q=ft}}q[ne]=Q})}function b(U,F){if(U instanceof p.yj){var R=U;for(var B of F)if((R=B.rewriteExpr(R))!==U)return!0}}function V(U,F){if(M(U,F)||b(U.pattern,F))return!0}function M(U,F){for(var R of U.textRuns)if(b(R.value,F))return!0}function P(U,F){var R=U.expression,B=U.filter,A=U.cachedValueItems;R&&(U.expression=w(R,F)),B&&(U.filter=function(U,F){return _.reduce(F,(R,B)=>B.rewriteFilter(R),U)}(B,F)),A&&T(A,F)}function T(U,F){for(var R of U){var B=m(R.identity,F);B!==R.identity&&(R.identity=B)}}function w(U,F){return _.reduce(F,(R,B)=>B.rewriteExpr(R),U)}function I(U,F){var R=U.fieldExpr;i.Y.assertValue(R,"link field expression should always exist"),U.fieldExpr=w(R,F)}function O(U,F){if(!_.isEmpty(U.parameters))for(var R of U.parameters)R.fieldExpr&&(R.fieldExpr=w(R.fieldExpr,F))}function j(U,F){U.expressions=(0,a.cd)(U.expressions,R=>w(R,F)),U.cachedValueItems&&function(U,F){for(var R of U)R.identities=(0,a.cd)(R.identities,B=>m(B,F))}(U.cachedValueItems,F)}},172831:function(ve,z,e){e.d(z,{H:function(){return o}});var a=e(579260),i=e(18122),r=e(417686);class t{visitActiveProjectionStates(n){}visitDataViewObjectDefinitionUpdates(n,c){}visitFilterContainer(n){}visitOrderByStates(n){}visitSelector(n){}visitSelectorsByColumn(n){}visitSingleVisualState(n){}visitVisualContainerState(n){}visitFilterExpressionMetadata(n){}}class o extends t{constructor(n){super(),this.rewriters=n,i.Y.assertValue(n,"rewriters")}visitActiveProjectionStates(n){_.forOwn(n,(c,s)=>{var p=c.map(l=>(0,r.Ki)(l,this.rewriters));n[s]=p})}visitFilterContainer(n){(0,r.Rm)(n,this.rewriters)}visitDataViewObjectDefinitionUpdates(n,c){var s=n.merge;s&&((0,r.sL)(s,c,this.rewriters),(0,r.oI)(s,c,this.rewriters))}visitOrderByStates(n){for(var c of n)c.expr=(0,r.Ki)(c.expr,this.rewriters)}visitSelector(n){var c=(0,r.SR)(n.data,this.rewriters);c!==n.data&&(n.data=c)}visitSelectorsByColumn(n){var c=(0,a.nC)(n.dataMap,(s,p)=>(0,r.SR)(p,this.rewriters));c!==n.dataMap&&(n.dataMap=c)}visitFilterExpressionMetadata(n){(0,r.iT)(n,this.rewriters)}}},387797:function(ve,z,e){e.d(z,{$c:function(){return ee},AD:function(){return Re},AX:function(){return ar},CL:function(){return lt},D_:function(){return xe},Dh:function(){return Yt},E5:function(){return re},E8:function(){return Fe},EP:function(){return J},Em:function(){return jr},FR:function(){return Ir},Fi:function(){return ye},Gp:function(){return Ze},Ji:function(){return zt},K_:function(){return nr},Kj:function(){return rt},L:function(){return or},L7:function(){return De},M3:function(){return Ur},M9:function(){return He},MU:function(){return fe},N3:function(){return Ge},NU:function(){return At},Nb:function(){return aa},Oh:function(){return qe},PN:function(){return Q},Pg:function(){return er},Pv:function(){return je},QC:function(){return We},QZ:function(){return mr},TQ:function(){return ut},Tb:function(){return Qe},Td:function(){return Lt},Tg:function(){return Ke},U0:function(){return Lr},Ui:function(){return ot},Vz:function(){return Xe},W3:function(){return Yr},WC:function(){return Ce},WQ:function(){return Wr},XY:function(){return me},YB:function(){return na},YF:function(){return Qr},Z3:function(){return Qt},ZW:function(){return Tr},_I:function(){return Je},aB:function(){return sr},aO:function(){return mt},aj:function(){return Ut},ep:function(){return ue},ey:function(){return le},gZ:function(){return ce},gj:function(){return ft},gk:function(){return de},hb:function(){return Nr},iU:function(){return Be},il:function(){return Ye},kE:function(){return Tt},kW:function(){return vr},kl:function(){return Zr},lU:function(){return Me},m2:function(){return Kt},mZ:function(){return tt},p6:function(){return he},r7:function(){return Ae},rA:function(){return Se},rf:function(){return pt},rm:function(){return we},sB:function(){return Rr},sX:function(){return pe},sx:function(){return Xr},tD:function(){return zr},tb:function(){return Oe},ti:function(){return Cr},ty:function(){return $t},uM:function(){return ct},uk:function(){return yt},vC:function(){return Kr},vG:function(){return et},wk:function(){return $e},xC:function(){return Nt},xR:function(){return ze},yF:function(){return Pe},zK:function(){return Ie}});var a=e(233390),i=e(316051),r=e(115315),t=e(540673),o=e(293444),d=e(81825),n=e(698244),c=e(333129),s=e(441877),p=e(200367),l=e(124115),u=e(858807),v=e(429943),m=e(735553),g=e(799660),E=e(579260),D=e(512655),h=e(18122),C=e(649738),y=e(223431),f=e(623670),S=e(693029),b=e(309754),V=e(545414),M=e(848665),P=e(34584),T=e(722442),N=e(370061),w=e(814691),I=e(999904),O=e(95006),x=e(858225),j=e(576086),U=e(11733),F=e(919601),R=e(71712),B=e(700280),A=e(323954),W=e(408509),G=e(620825),K=e(664158),q=e(620455),ne=e(348580),k=e(912186),L=12,X="'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",Q="largeTitle",ee="lightLabel",ue="foreground",Te=f.V4.toPoint(L),He={size:m.Z.createFromPt(Te),family:X,color:"#C8C8C8"},We=U.Mx,ft=U.f_,mt=function(Pt){return Pt[Pt.Title=0]="Title",Pt[Pt.SubTitle=1]="SubTitle",Pt[Pt.Divider=2]="Divider",Pt}({});function At(Pt){return Pt&&Pt.config&&Pt.config.singleVisual?Pt.config.singleVisual.query:null}function Qe(Pt){return Pt&&Pt.config&&Pt.config.singleVisual}function Fe(Pt){return Pt?.config?.singleVisual?.autoSelectVisualType}function ye(Pt){var nt=At(Pt);if(nt)return nt.defn.select()}function we(Pt){var nt=At(Pt);if(nt)return nt.projections}function Ee(Pt,nt){if(Pt&&nt){var _e=nt.getPlugin(Pt);if(_e)return _e.capabilities}}function Oe(Pt,nt){return Ee(Pt&&Pt.config&&Pt.config.singleVisual?Pt.config.singleVisual.visualType:null,nt)}function he(Pt,nt){return Ee((0,W.d)(Pt),nt)}function xe(Pt,nt){var _e=he(Pt,nt);if(_e&&!_.isEmpty(_e.dataRoles))return _e.dataRoles}function Se(Pt,nt,_e){if(Pt)return _e||nt===r.vd.ModelChange||nt===r.vd.Refresh?N.D.BypassCache:N.D.Default}function Ae(Pt,nt){return(0,ne.i)(Pt.config.singleVisual.query,nt)}function Ie(Pt){if(Pt.config&&Pt.config.singleVisual){var nt=Pt.config.singleVisual;nt&&nt.query&&nt.query.hasShowAll()&&(nt.queryOptions=nt.queryOptions||{},nt.queryOptions.keepProjectionOrder=!0)}}function Je(Pt){if(Pt){var nt=Pt.capabilities;if(nt&&!_.isEmpty(nt.dataRoles))return nt.dataRoles}}function pe(Pt,nt,_e){var ke=he(Pt,nt);if(ke){var dt=At(Pt);if(dt)return(0,A.Z)().create(ke,_e,dt.isDrillDisabled).getNumberRangesForRoles(dt)}}function Pe(Pt,nt){var _e=(0,W.d)(Pt);return nt&&nt.isScriptVisual(_e)}function Me(Pt){if([q.U.lineChart,q.U.areaChart,q.U.stackedAreaChart,q.U.hundredPercentStackedAreaChart,q.U.barChart,q.U.clusteredBarChart,q.U.hundredPercentStackedBarChart,q.U.columnChart,q.U.clusteredColumnChart,q.U.hundredPercentStackedColumnChart,q.U.lineClusteredColumnComboChart,q.U.lineStackedColumnComboChart].indexOf(Pt.visualType)>=0){var _e=Pt.query?.projections;if(_e&&_e[v.lP.rows]&&_e[v.lP.rows].all().length>0)return!0}return!1}function Ge(Pt){return Pt.config?.singleVisual?.objects}function De(Pt){return Pt.config&&Pt.config.singleVisual&&Pt.config.singleVisual.vcObjects}function lt(Pt,nt,_e){var ke=Pt.config.singleVisual.query.projections[nt],dt=ke.convertFieldIndexToProjectionIndex(_e),Ht=ke.all()[dt];return h.Y.assertValue(Ht,"items[projectionIndex]"),Ht.queryRef}function ct(Pt,nt,_e,ke,dt,xt,Ht){if(_e){var dr=_e.defn.select(),Sr=_e.projections,fr=[],Zt=[],Er=or(_e),be=(0,w.i7)(_e.projections,dt.dataViewMappings,Er,xt).supportedMappings;if(be){for(var Z of be){var ie=be.length>1?Vt(Z):null,Ue=[];for(var st in Sr)if(null==ie||_.includes(ie,st)){var ht=Sr[st];for(var bt of ht.all()){var kt=(0,E.i4)(dr,bt.queryRef);if(-1!==kt){var Ft=dr[kt];if(!(0,G.VT)(Ft.expr)){var Jt=Ft.expr.getMetadata(nt,x.B.buildExprEvaluationContext(_e.defn.from()));h.Y.assertValue(Jt,"exprMetadata");var lr={Restatement:Pt.getDisplayName(Ft.expr,nt,dt,Ft.name,ke),Name:bt.queryRef,Type:It(Jt.type)},Wt=x.B.getKpiMetadata(Ft.expr,nt);Wt&&(lr.kpi=Wt);var _t,Mt=ke?.[bt.queryRef]?.formatString;(_t=xt.visualLevelFormatStringConsumption&&null!=Mt?Mt:Jt.format)&&(lr.Format=_t);var Dt=Ot(Jt.type);Dt&&(lr.DataCategory=Dt),fr[kt]=lr,Ue.push({Name:st,Projection:kt,isActive:_.includes(ht.activeProjectionRefs,bt.queryRef)})}}}}Zt.push({DataRoles:Ue})}return{queryMetadata:{Select:fr,Filters:Ht},visualElements:Zt}}}}function vt(Pt,nt){if(Pt.role)nt.push(Pt.role);else if(Pt.bind)Pt.bind.to&&nt.push(Pt.bind.to);else if(Pt.for)Pt.for.in&&nt.push(Pt.for.in);else{var xt=Pt;if(xt.group){if(xt.group.by&&nt.push(xt.group.by),xt.group.select)for(var Ht of xt.group.select)vt(Ht,nt)}else{var dr=Pt;if(dr.composite)for(var Sr of dr.composite)vt(Sr,nt);else{var fr=Pt;if(fr.select)for(var Zt of fr.select)vt(Zt,nt)}}}}function Vt(Pt){var nt=[];return Pt&&(Pt.categorical&&(Pt.categorical.categories&&vt(Pt.categorical.categories,nt),Pt.categorical.values&&vt(Pt.categorical.values,nt)),Pt.table&&Pt.table.rows&&vt(Pt.table.rows,nt),Pt.single&&vt(Pt.single,nt),Pt.tree&&(Pt.tree.nodes&&vt(Pt.tree.nodes,nt),Pt.tree.values&&vt(Pt.tree.values,nt)),Pt.matrix&&(Pt.matrix.columns&&vt(Pt.matrix.columns,nt),Pt.matrix.rows&&vt(Pt.matrix.rows,nt),Pt.matrix.values&&vt(Pt.matrix.values,nt))),_.uniq(nt)}function It(Pt){switch(h.Y.assertValue(Pt,"type"),Pt.extendedType){case V.K.Years:return d.r$.Year;case V.K.Months:return d.r$.Month}switch(Pt.primitiveType){case o.W.Text:return d.r$.String;case o.W.Decimal:case o.W.Double:return d.r$.Number;case o.W.Integer:return d.r$.Integer;case o.W.Boolean:return d.r$.Boolean;case o.W.Date:return d.r$.Date;case o.W.DateTime:return d.r$.DateTime;case o.W.Time:return d.r$.Time}}function Ot(Pt){return h.Y.assertValue(Pt,"type"),(0,M.iL)(Pt.categoryString)}function de(Pt,nt){if(Pt&&Pt.config&&Pt.config.singleVisual&&Pt.config.singleVisual.query&&Pt.config.singleVisual.query.defn){var _e=Pt.config.singleVisual.query.projections,ke=Pt.config.singleVisual.query.defn.select();if(_e&&ke.length>0)for(var dt in _e){var xt=_e[dt];for(var Ht of xt.all()){var dr=(0,E.q7)(ke,Ht.queryRef);if(dr){var fr=dr.expr.getMetadata(nt);if(fr&&fr.kind===b.L.Column&&null==fr.aggregate)return!0}}}return!1}}function Ze(Pt){return Pt.some(nt=>Ye(nt)||qe(nt))}function Ye(Pt){var nt=ye(Pt);return _.some(nt,_e=>(0,G.$M)(_e.expr))}function qe(Pt){var nt=At(Pt);return null!=nt&&nt.hasHiddenProjections()}function ut(Pt){var nt=At(Pt);return null!=nt&&nt.hasVisibleProjections()}function et(Pt){return nt=>Pt===nt}function le(Pt){return nt=>Pt!==nt}function me(Pt,nt,_e,ke,dt){return xt=>Pt===xt||(_e&&_e.relationshipFilterAction(nt,Pt,xt,ke,dt))!==j.NJ.NoFilter}function Be(Pt,nt){Pt.publishToChannel(B.N3x,{affectContainer:_e=>_e===nt})}function Ke(Pt,nt,_e,ke,dt,xt,Ht,dr,Sr){if(h.Y.assertAnyValue(_e,"dataAsObject"),xt){var Zt,fr=Pt.capabilities(xt.visualType);if(fr){var Er=ct(nt,dt,xt.query,xt.columnProperties,fr,Ht,dr);if(Er){var Le=(0,n.Eo)(xt.objects,fr.objects,Ht.serializeSpaceOptimization,!1);(Zt=ke.transforms&&fr&&fr.objects?c.R.serializeDataViewTransformActions(ke.transforms,fr.objects):{objects:Le}).objects=Zt.objects||Le,Zt.visualElements=Er.visualElements,Zt.queryMetadata=Er.queryMetadata}}return{queryObject:ke.options.query.command,dataObject:_e,transformsObject:Zt,dataUpdatedTime:Sr}}}function Xe(Pt){h.Y.assertValue(Pt,"visualContainerGroups");var nt={};return(0,R.Uu)(Pt,_e=>{h.Y.assertValue(_e.name,"visualContainer.name"),nt[_e.name]=!0}),re(nt)}function re(Pt){return h.Y.assertValue(Pt,"existingNames"),l.Q.generateUniqueId(Pt)}function fe(Pt){var nt=[];return(0,R.Uu)(Pt,_e=>{(0,R.tx)(_e)&&nt.push(_e)}),nt}function tt(Pt){return(0,U.dK)(Pt.config.singleVisual)||function(Pt){for(var nt=Pt.parentGroup;nt;){if((0,F.dK)(nt))return!0;nt=nt.parentGroup}return!1}(Pt)}function ot(Pt,nt=i.v.Master,_e){var ke=_.cloneDeep(Pt),dt=_e;if(nt===i.v.PhonePortrait)return ke;for(;dt;){if(!dt.layouts.withId(nt))return h.Y.assertFail(`must provide a layout for groups for layout${nt}`),ke;var xt=dt.layouts.withId(nt).position;ke.x+=xt.x,ke.y+=xt.y,dt=dt.parentGroup}return ke}function rt(Pt,nt,_e=i.v.Master){for(var ke=_.cloneDeep(Pt),dt=nt.parentGroup;dt;){var xt=dt.layouts.withId(_e).position;ke.x-=xt.x,ke.y-=xt.y,dt=dt.parentGroup}return ke}function Re(Pt,nt,_e,ke,dt){Pt.publishToChannel(B.wl,{affectContainer:xt=>xt!==nt,sourceLabelKey:_e,parentActivity:ke,parentContextActivity:dt})}function J(Pt,nt,_e,ke,dt){_.isEmpty(nt)||Pt.publishToChannel(B.wl,{affectContainer:xt=>_.includes(nt,xt),sourceLabelKey:_e,parentActivity:ke,parentContextActivity:dt})}function ce(Pt,nt){return Pt.createActivity({name:t.n.CrossHighlight,operationType:nt})}function Ce(Pt){return Pt.createActivity({name:t.n.ChangeSlicer})}function ze(Pt){return _.some(Pt,nt=>nt.dsr&&nt.dsr.vsName===u.PUe)}function yt(Pt){var nt=function(Pt){return Pt&&null!=Pt.size?f.V4.fromPoint(Pt.size.pt):f.V4.toString(L)}(Pt);return C.N.estimateSvgTextHeight({fontFamily:Pt&&Pt.family||X,fontSize:nt})}function Nt(Pt,nt,_e,ke,dt,xt,Ht){var dr=_e.config.singleVisual.visualType,Sr=_e.config.singleVisual.vcObjects,fr={objectName:"stylePreset",propertyName:"name"},Zt=(0,I._W)(Sr,fr,void 0);if(null==Zt){var Er=nt.getVisualObjects(Pt,dr,void 0,{stylePreset:U.Xe.stylePreset});Zt=(0,I._W)(Er,fr,void 0)}var Le=nt.getVisualObjects(Pt,dr,Zt&&(0,G.VO)(Zt)&&Zt.value,U.Xe);Le&&(Sr=(0,I.o8)(Sr||{}),(0,I.X$)(Sr,Le,!0));var be=nt.getVisualStyle(Pt);return(0,O.Mo)(Sr,U.Xe,be,ke,dt,xt,Ht)}function Lt(Pt,nt){nt.toggleClass("showHover",Pt)}function zt(Pt,nt,_e){_e.publishToChannel(Pt?s.E8:s.Tv,{containerName:nt})}function Yt(Pt,nt,_e,ke,dt){var xt={};return xt[D.gA]=nt||"",xt[D.OL]=ke||"",xt[D._o]=_e||"",xt[D.FI]=Pt||"",xt[D.hr]=dt||"",xt}function Qt(Pt,nt){var _e={};return _e[D.ut]=null!=nt?"scale("+nt+")":"scale(1)",_e[D.u5]=Pt.width,_e[D.xf]=Pt.height,_e}function sr(Pt){if(Pt&&Pt.show){var nt=(0,g.wY)();return(Pt.transparency||0===Pt.transparency)&&(nt.transparency=Pt.transparency),Pt.color&&Pt.color.solid.color&&(nt.color=Pt.color),(0,p.Pz)(nt.color.solid.color,(100-nt.transparency)/100)}}function je(Pt,nt){return{show:Pt?Pt.show:nt.show,color:Pt&&Pt.color&&Pt.color.solid&&Pt.color.solid.color?Pt.color:nt.color,radius:Pt&&Pt.radius||nt.radius,width:Pt&&Pt.width}}function Tt(Pt,nt){return{show:Pt?Pt.show:nt.show,preset:Pt&&Pt.preset?Pt.preset:nt.preset,position:Pt&&Pt.position?Pt.position:nt.position,color:Pt&&Pt.color&&Pt.color.solid&&Pt.color.solid.color?Pt.color:nt.color,transparency:Pt&&void 0!==Pt.transparency?Pt.transparency:nt.transparency,shadowBlur:Pt&&void 0!==Pt.shadowBlur?Pt.shadowBlur:nt.shadowBlur,shadowSpread:Pt&&void 0!==Pt.shadowSpread?Pt.shadowSpread:nt.shadowSpread,angle:Pt&&void 0!==Pt.angle?Pt.angle:nt.angle,shadowDistance:Pt&&void 0!==Pt.shadowDistance?Pt.shadowDistance:nt.shadowDistance}}function Kt(Pt,nt,_e=!1){Pt=Pt||{};var ke=nt?.suppressDefaultPadding?0:5;return{top:Pt.top??(_e?0:ke),bottom:Pt.bottom??ke,left:Pt.left??ke,right:Pt.right??ke}}function nr(Pt,nt,_e){return _.isEmpty(nt)&&_e&&((isNaN(_e)||_e<0)&&(_e=0),0!==_e)?{left:Pt.left+_e,right:Pt.right+_e,top:Pt.top+_e,bottom:Pt.bottom+_e}:Pt}function ar(Pt,nt){if(!nt?.customizeSpacing)return nt?.verticalSpacing??5;switch(Pt){case mt.Title:return void 0!==nt?.verticalSpacing&&void 0===nt?.spaceBelowTitle?nt?.verticalSpacing:void 0!==nt?.spaceBelowTitle?nt?.spaceBelowTitle:5;case mt.SubTitle:return void 0!==nt?.verticalSpacing&&void 0===nt?.spaceBelowSubTitle?nt.verticalSpacing:void 0!==nt?.spaceBelowSubTitle?nt.spaceBelowSubTitle:5;case mt.Divider:return void 0!==nt?.verticalSpacing&&void 0===nt?.spaceBelowTitleArea?nt?.verticalSpacing:void 0!==nt?.spaceBelowTitleArea?nt?.spaceBelowTitleArea:5;default:return h.Y.assertNever(Pt),5}}function $e(Pt){return null!=Pt&&null!=Pt.metadata&&null!=Pt.metadata.segment}function pt(Pt){if(Pt&&Pt.defn){var nt=Pt.defn.groupBy();return!_.isEmpty(nt)}return!1}function Ut(Pt){return pt(At(Pt))}function $t(Pt,nt,_e){var ke=xe(Pt,nt),dt=At(Pt);if(dt&&!_.isEmpty(ke)){var Ht=dt.tryGetExprs(ke[0].name);return!_.isEmpty(Ht)&&!_.some(Ht,dr=>{var Sr=dr.getMetadata(_e);if(Sr)return!Sr.type.text})}}function er(Pt,nt,_e){var ke=function(Pt,nt){var _e=At(Pt);if(_e){var ke=he(Pt,nt);if(ke&&ke.filterMappings&&ke.filterMappings.measureFilter&&ke.filterMappings.measureFilter.targetRoles){var dt=ke.filterMappings.measureFilter.targetRoles,xt=_.chain(ke.dataRoles).filter(fr=>fr.kind===S.Ts.Grouping).map(fr=>fr.name).difference(dt).value(),Ht=[];for(var dr of xt)_e.projections[dr]&&Ht.push.apply(Ht,_e.projections[dr].all());var Sr=ye(Pt);if(!_.isEmpty(Ht))return _.chain(Sr).filter(fr=>_.some(Ht,Zt=>Zt.queryRef===fr.name)).map(fr=>fr.expr).value()}}}(Pt,_e);if(_.isEmpty(ke))return!1;for(var dt of ke)if(x.B.getAggregateBehavior(dt,nt)===P.u2.DiscourageAcrossGroups)return!0;return!1}function or(Pt){var nt={},_e=Pt.defn.select();for(var ke of _e){var dt;dt=(0,K.t)(ke.expr)?S.Ts.Measure:S.Ts.Grouping,nt[ke.name]=dt}return nt}function vr(Pt){for(var nt of(h.Y.assertValue(Pt,"exploration"),Pt.sections))mr(nt)}function mr(Pt){for(var nt of(h.Y.assertValue(Pt,"section"),Pt.visualContainers))delete nt.cachedData,nt.disableCacheOnServerForInitialLoad=!0}function Lr(Pt){function nt(ke,dt){var xt=dt.howCreated??j.S_.Default;ke[xt]||(ke[xt]=0),ke[xt]++}return h.Y.assertValue(Pt,"section"),function(){var ke=Pt&&Pt.visualContainers||[],dt={};for(var xt of ke=_.reject(ke,Ht=>(0,U.dK)(Ht.config.singleVisual)))nt(dt,xt);return dt}()}function Ur(Pt){function nt(dt,xt){var Ht=xt.config.singleVisual.visualType;dt[Ht]||(dt[Ht]=0),dt[Ht]++}function _e(){var dt=Pt&&Pt.visualContainers||[],xt={};for(var Ht of dt=_.reject(dt,dr=>(0,U.dK)(dr.config.singleVisual)))nt(xt,Ht);return xt}h.Y.assertValue(Pt,"section");try{return function(){if(_.isEmpty(Pt&&Pt.visualContainerGroups))return _e();var xt={},Ht={__hidden:xt};return(0,R.Uu)(Pt.visualContainerGroups,(dr,Sr)=>{(0,R.iA)(dr)&&nt(Sr?xt:Ht,dr)}),Ht}()}catch(dt){return y.Cn.error(`Error getting visuals from groups ${dt&&dt.message}: ${dt&&dt.stack}`),_e()}}function Yr(Pt,nt,_e,ke){if((0,k.gz)(Pt,nt)){var Ht=(0,k.E4)(Pt,nt),dr=ye(Pt);if(Ht||(dr=_.filter(dr,fr=>!(0,K.t)(fr.expr))),dr=_.filter(dr,fr=>!(0,G.$M)(fr.expr)))return _.chain(dr).map(fr=>fr.expr).filter(fr=>x.B.isExprValidForFiltering(fr)&&_.isEmpty(fr.validate(_e,ke))).map(fr=>(fr=>{var Zt=j.GS.Auto;return{name:void 0,expression:fr,expanded:!1,howCreated:Zt,type:(0,k.I_)(fr,_e,Zt),isHiddenInViewMode:!1}})(fr)).value()}}function Kr(Pt,nt,_e,ke){var dt=_e.getDrillCrossFiltersToApply(Pt,nt,ke);return _.map(dt,Ht=>(Ht=>({name:void 0,type:Ht.type,filter:Ht.filter,expression:Ht.expression,expanded:!1,howCreated:j.GS.CrossDrill,precedence:Ht.precedence}))(Ht))}function Wr(Pt){var nt=Pt.resourcePackages,_e=Pt.publicCustomVisuals??[];if(!nt&&0===_e.length)return!1;for(var ke of Pt.sections)if(ke.visualContainers){var Ht,dt=ke.visualContainers,xt=function(){if(dr.config&&dr.config.singleVisual&&dr.config.singleVisual.visualType){var Sr=dr.config.singleVisual.visualType;if(_(nt).find(fr=>fr.name===Sr))return{v:!0};if(_(_e).includes(Sr))return{v:!0}}};for(var dr of dt)if(Ht=xt())return Ht.v}return!1}function Xr(Pt,nt){var _e={usingImprovedFilterExperience:!0,viewMode:nt===S.nE.View},ke=function(Pt){var nt=Pt.objects;if(nt&&nt.outspacePane){var _e=(0,I._W)(nt,{objectName:"outspacePane",propertyName:"expanded"},null);return _e&&_e.value}}(Pt);_.isUndefined(ke)||(_e.isOutspacePaneExpanded=ke);var dt=function(Pt){var nt=Pt.objects;if(nt&&nt.outspacePane){var _e=(0,I._W)(nt,{objectName:"outspacePane",propertyName:"visible"},null);return _e&&_e.value}}(Pt);return _.isUndefined(dt)||(_e.isOutspacePaneVisible=dt),_e}function aa(Pt,nt){return Pt.id&&!nt}function jr(Pt){return Pt?T.bc.Basic|T.bc.QueryText:T.bc.Basic}function Cr(Pt,nt,_e){var ke;nt&&(ke=nt.createChildActivity(Pt));var dt=_e();return ke&&ke.resolve(),dt}function Ir(Pt,nt,_e){return ia.apply(this,arguments)}function ia(){return(ia=(0,a.A)(function*(Pt,nt,_e){var ke;nt&&(ke=nt.createChildActivity(Pt));var dt=yield _e();return ke&&ke.resolve(),dt})).apply(this,arguments)}function Rr(Pt){var nt=Qe(Pt);return nt&&nt.columnProperties}function zr(Pt){if(_.isEmpty(Pt))return!1;for(var nt of Pt)if((0,R.iA)(nt)){var _e=Rr(nt);if(_e)for(var ke in _e)if(_e[ke].displayName)return!0}return!1}function Tr(Pt){if(_.isEmpty(Pt))return!1;for(var nt of Pt)if(null!=nt&&(0,R.iA)(nt)){var _e=Rr(nt);if(_e)for(var ke in _e)if(_e[ke].formatString)return!0}return!1}function Zr(Pt){if(_.isEmpty(Pt))return!1;for(var nt of Pt)if((0,R.iA)(nt)){var _e=ye(nt);if(_e)for(var ke of _e){var dt=ke.expr;if((0,G.$M)(dt)&&null!=dt.dataType)return!0}}return!1}function na(Pt,nt){var _e=(0,W.d)(nt);return Pt.isQnaVisual(_e)||Pt.isQueryVisual(_e)}function Nr(Pt,nt){return br.apply(this,arguments)}function br(){return(br=(0,a.A)(function*(Pt,nt){var _e=Qe(Pt),ke=nt.dataSources.get(),dt=yield nt.conceptualSchemaProxy.get(ke),xt=he(Pt,nt.visualPlugin);return nt.displayNameService.getVisualTitle(_e,dt,xt,void 0,void 0,!0)?.text})).apply(this,arguments)}function Qr(Pt,nt){return{visual:{objects:Pt.objects,descriptors:nt.objects},visualContainer:{objects:Pt.vcObjects,descriptors:U.Xe}}}},408509:function(ve,z,e){e.d(z,{d:function(){return r}});var a=e(930845),i=e(71712);function r(t){if(t){if((0,i.tx)(t))return a.Ts;if(t.config&&t.config.singleVisual)return t.config.singleVisual.visualType}}},946002:function(ve,z,e){e.d(z,{A:function(){return t}});var a=e(18122),i=e(417686);class r{visitVisualContainer(d){}visitSingleVisualConfig(d){}visitQuery(d){}visitDataViewObjects(d,n){}visitSelector(d){}visitFilterContainer(d){}visitVisualLinks(d){}}class t extends r{constructor(d){super(),this.rewriters=d,a.Y.assertValue(d,"rewriters")}visitSingleVisualConfig(d){d.cachedFilterDisplayItems&&(0,i.ZZ)(d.cachedFilterDisplayItems,this.rewriters)}visitQuery(d){if(a.Y.assertValue(d,"query"),d.defn){var c=this.rewriters;for(var s of c)d=s.rewriteQuery(d)}}visitDataViewObjects(d,n){(0,i.sL)(d,n,this.rewriters),(0,i.oI)(d,n,this.rewriters)}visitFilterContainer(d){a.Y.assertValue(d,"filter"),(0,i.mC)(d,this.rewriters)}visitVisualLinks(d){for(var n of(a.Y.assertValue(d,"visualLink"),d))(0,i.L4)(n,this.rewriters)}visitSelector(d){var n=(0,i.SR)(d.data,this.rewriters);n!==d.data&&(d.data=n)}}},473840:function(ve,z,e){e.d(z,{NW:function(){return v},wY:function(){return l}});var a=e(993531),i=!1,r=a.xn,t=a.hL,o=70,d=3,n=10,c=45,s=10,p="#000";function l(m,g){var E=m&&m.preset?m.preset:r,D=m&&m.position?m.position:t,h=v(E,D);return{show:i,preset:E,position:D,color:{solid:{color:g?g.colorPalette.foreground.value:p}},shadowSpread:h?h.shadowSpread:d,shadowBlur:h?h.shadowBlur:n,angle:h?h.angle:c,shadowDistance:h?h.shadowDistance:s,transparency:h?h.transparency:o}}function v(m,g){var E=function(m){var g=m===a.U9,E=10,D=g?15:10,h=g?0:3,C=o;return{[a.xn]:{angle:g?225:45,shadowDistance:E,shadowBlur:D,shadowSpread:h,transparency:C},[a.NQ]:{angle:g?270:90,shadowDistance:E,shadowBlur:D,shadowSpread:h,transparency:C},[a.yS]:{angle:g?315:135,shadowDistance:E,shadowBlur:D,shadowSpread:h,transparency:C},[a.bz]:{angle:g?180:0,shadowDistance:E,shadowBlur:D,shadowSpread:h,transparency:C},[a.bW]:{angle:0,shadowDistance:0,shadowBlur:g?20:15,shadowSpread:h,transparency:C},[a.kW]:{angle:g?0:180,shadowDistance:E,shadowBlur:D,shadowSpread:h,transparency:C},[a.xm]:{angle:g?135:315,shadowDistance:E,shadowBlur:D,shadowSpread:h,transparency:C},[a.Lw]:{angle:g?90:270,shadowDistance:E,shadowBlur:D,shadowSpread:h,transparency:C},[a.Cj]:{angle:g?45:225,shadowDistance:E,shadowBlur:D,shadowSpread:h,transparency:C}}}(g||t);return E.hasOwnProperty(m)?E[m]:null}},469966:function(ve,z,e){e.d(z,{zi:function(){return d}});var a=e(223303),i=e(690332),r=e(620825),t=e(993337),o=new Set(["color","fontColor","fillColor","lineColor"]);function d(u){if(!_.isEmpty(u))for(var v in function(u){for(var v in u){var m=u[v];if(!_.isEmpty(m))for(var g of m)g.selector&&(g.selector.id=n(g.selector.id))}}(u),u){var m=u[v];_.isEmpty(m)||p(m)}}function n(u){if(!u||"default"===u)return u;switch(u){case a.JF.selected:return"selection:selected";case a.JF.hover:return"interaction:hover";case a.JF.press:return"interaction:press";case a.JF.mixed:return"selection:mixed";default:return u}}function s(u,v,m){if(u&&!_.isEmpty(u.properties)&&u.selector&&!_.isEmpty(u.selector.data)){var g=function(){var D=u.properties[E];if(D){var h={...u.selector};!function(u){var v=u?.expr||u?.solid?.color?.expr;if(!v)return!1;var m=i.F3.deserializeExpr(v);if(m&&(0,r.Jz)(m)){var g=m.cases;if(1===g.length){var E=g[0];if(E&&(0,r.VO)(E.condition)&&(0,r.VO)(E.value))return!1}}return null!=m&&!(0,r.VO)(m)&&!(0,r.Hf)(m)}(D)?delete h.data:h.hierarchyMatching=t.v.Partial;var C=_.find(v,y=>_.isEqual(y.selector,h));C?.properties?C!==u&&(C.properties[E]=D,delete u.properties[E],_.isEmpty(u.properties)&&(v.splice(m,1),m--)):(v.push({properties:{[E]:D},selector:h}),delete u.properties[E],_.isEmpty(u.properties)&&(v.splice(m,1),m--))}};for(var E of o)g()}}function p(u){for(var v of u)v.selector&&(v.selector.id=n(v.selector.id));for(var m=u.length-1;m>=0;m--)s(u[m],u,m)}},763714:function(ve,z,e){e.d(z,{B:function(){return i}});var a=e(18122);function i(r,t,o){if(r&&r.getProperty("telemetryActivityId")){var d=o.getOpenActivityById(r&&r.getProperty("telemetryActivityId"));if(a.Y.assert(()=>d&&d.isActive(),"parentActivity stored in performanceActivity not found or not active. The parent/child relationships are broken due to a parent activity resolved before a child could start."),d&&d.isActive()){var n=o.startChildActivity(d.event,t);return r.setProperty("telemetryActivityId",n.event.id),n}}}},44646:function(ve,z,e){e.d(z,{Q:function(){return c}});var a=e(188076),i=e(18972),r=e(155281),t=e(18122),o=e(335128),d=e(989417),n=e(265883);class c{constructor(p,l,u){this.messageId="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo=[{errorInfoKey:"",errorInfoValue:""}],this.errorCode=p,this.hideErrorHelperText=!1,"Missing_References"===p?(this.displayableErrorInfo[0].errorInfoKey="Missing_References_Details_Title",this.displayableErrorInfo[0].errorInfoValue=u,this.detailsMessageFormat="Missing_References_Details_Message",this.messageId="Missing_References_Message",this.errorSource=r.gf.User):"Broken_Filters"===p?(this.displayableErrorInfo[0].errorInfoKey="ServiceError_CannotLoadVisual",this.displayableErrorInfo[0].errorInfoValue=l.get("Broken_Filters_Details_Message"),this.messageId="Broken_Filters_Message"):"ClientError_NoSupportedDataViewMappingFound"===p?(this.displayableErrorInfo[0].errorInfoKey="VisualDisplayError_Title",this.displayableErrorInfo[0].errorInfoValue=l.get("ClientError_NoSupportedDataViewMappingFound_Message"),this.messageId="ClientError_NoSupportedDataViewMappingFound_Message"):"NoSupportRTS_PublishToWeb"===p?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_UnableToFindVisualKey",this.displayableErrorInfo[0].errorInfoValue=l.get("NoSupportRTS_PublishToWeb_Message"),this.messageId="NoSupportRTS_PublishToWeb_Title",this.errorSource=r.gf.User,this.hideErrorHelperText=!0):"DQP_No_MappedColumns_In_HierarchySlicers"===p?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=l.get("DQP_No_MappedColumns_In_HierarchySlicers"),this.errorSource=r.gf.User,this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2139315"):"DataViewMappingError_ConditionNotHierarchicallyRelated"===p?(this.messageId="DataViewMappingError_ConditionNotHierarchicallyRelated",this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=l.get("DataViewMappingError_ConditionNotHierarchicallyRelated_Details"),this.errorSource=r.gf.User,this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2114278"):"NoSupportSpecificRolesWithVC_Hidden"===p?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=u,this.errorSource=r.gf.User,this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2249857"):"Data_Limit_VisualCalculations_NotSupported"===p||"Data_Limit_HiddenFields_NotSupported"===p?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.messageId="Data_Limit_Not_Supported",this.displayableErrorInfo[0].errorInfoValue=l.get("Data_Limit_Disabled_VisualCalc_Hidden"),this.errorSource=r.gf.User,this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2249857"):(p===n.k.EmptyTargets||p===n.k.MeasureFilterMismatch)&&(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.messageId="Data_Limit_Not_Supported",this.displayableErrorInfo[0].errorInfoValue=l.get(p),this.errorSource=r.gf.User,this.hideErrorHelperText=!0,this.hideDebugInfo=!0)}static create(p,l,u){if(!_.isEmpty(p)){var v=[],m=(D,h)=>D.hierarchy?D.hierarchy.name:D.hierarchyLevel?D.hierarchyLevel.name+"."+D.hierarchyLevel.level:h,g=function(){var h,D=(0,a.F)(E);if(D.sparklineData){var C=D.sparklineData.measure;t.Y.assert(()=>1===_.size(D.sparklineData.grouping),"expect 1 field in grouping for sparklines");var y=_.first(D.sparklineData.grouping),f=m(C,(0,o.hm)(C)),S=m(y,(0,o.hm)(y));h=u.format("VisualTitle_By_Template",f,S)}else{var b=(0,o.vG)(D);if(!b)return 1;var V=m(D,(0,o.hm)(D));h="("+b.entity+") "+V;var M=l.schema(b.schema),P=M&&M.findProperty(b.entity,V);P&&P.errorMessage&&(h+=": "+P.errorMessage)}v.push(h)};for(var E of p)g();return new c("Missing_References",u,v.join(", "))}}get code(){return this.errorCode}get source(){return this.errorSource}addDebugInfo(p,l){this.debugErrorInfo||(this.debugErrorInfo=[]),this.debugErrorInfo.push({errorInfoKey:p,errorInfoValue:l})}getDetails(p){var l=p.get(this.displayableErrorInfo[0].errorInfoKey),u=this.displayableErrorInfo[0].errorInfoValue;return this.detailsMessageFormat&&(u=(0,d.G)(p.get(this.detailsMessageFormat),u)),{message:p.get(this.messageId),displayableErrorInfo:[{errorInfoKey:l,errorInfoValue:u}],debugErrorInfo:[{errorInfoKey:i.JM,errorInfoValue:this.code}].concat(...this.debugErrorInfo||[]),hideErrorHelperText:this.hideErrorHelperText,hideDebugInfo:this.hideDebugInfo,helpLink:this.helperLink}}}},348580:function(ve,z,e){function a(r,t){var o={};if(_.isEmpty(t))return o;for(var d of t){var n=r.tryGetExprs(d.name);o[d.name]=_.map(n,c=>r.defn.selectNameOf(c))}return o}function i(r,t){return!(!r?.projections||!r.projections[t])&&r.projections[t].all().some(o=>void 0!==o.queryRef)}e.d(z,{_:function(){return a},i:function(){return i}})},912811:function(ve){ve.exports=function(z){var e={};function a(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return z[i].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}return a.m=z,a.c=e,a.p="",a(0)}([function(z,e){var a=function(){function i(r,t,o){void 0===t&&(t={}),this.defaultHeaders=t,this.defaultTargetWindow=o,this.windowPostMessageProxy=r}return i.addTrackingProperties=function(r,t){return r.headers=r.headers||{},t&&t.id&&(r.headers.id=t.id),r},i.getTrackingProperties=function(r){return{id:r.headers&&r.headers.id}},i.isErrorMessage=function(r){return"number"==typeof(r&&r.statusCode)&&!(200<=r.statusCode&&r.statusCode<300)},i.prototype.get=function(r,t,o){return void 0===t&&(t={}),void 0===o&&(o=this.defaultTargetWindow),this.send({method:"GET",url:r,headers:t},o)},i.prototype.post=function(r,t,o,d){return void 0===o&&(o={}),void 0===d&&(d=this.defaultTargetWindow),this.send({method:"POST",url:r,headers:o,body:t},d)},i.prototype.put=function(r,t,o,d){return void 0===o&&(o={}),void 0===d&&(d=this.defaultTargetWindow),this.send({method:"PUT",url:r,headers:o,body:t},d)},i.prototype.patch=function(r,t,o,d){return void 0===o&&(o={}),void 0===d&&(d=this.defaultTargetWindow),this.send({method:"PATCH",url:r,headers:o,body:t},d)},i.prototype.delete=function(r,t,o,d){return void 0===t&&(t=null),void 0===o&&(o={}),void 0===d&&(d=this.defaultTargetWindow),this.send({method:"DELETE",url:r,headers:o,body:t},d)},i.prototype.send=function(r,t){if(void 0===t&&(t=this.defaultTargetWindow),r.headers=this.assign({},this.defaultHeaders,r.headers),!t)throw new Error("target window is not provided.  You must either provide the target window explicitly as argument to request, or specify default target window when constructing instance of this class.");return this.windowPostMessageProxy.postMessage(t,r)},i.prototype.assign=function(r){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];if(null==r)throw new TypeError("Cannot convert undefined or null to object");var d=Object(r);return t.forEach(function(n){if(null!=n)for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(d[c]=n[c])}),d},i}();e.HttpPostMessage=a}])},477055:function(ve){var a;a=()=>{return z=[function(r,t,o){var d=this&&this.__extends||function(){var je=function(Tt,Kt){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nr,ar){nr.__proto__=ar}||function(nr,ar){for(var $e in ar)Object.prototype.hasOwnProperty.call(ar,$e)&&(nr[$e]=ar[$e])})(Tt,Kt)};return function(Tt,Kt){if("function"!=typeof Kt&&null!==Kt)throw new TypeError("Class extends value "+String(Kt)+" is not a constructor or null");function nr(){this.constructor=Tt}je(Tt,Kt),Tt.prototype=null===Kt?Object.create(Kt):(nr.prototype=Kt.prototype,new nr)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CommonErrorCodes=t.BookmarksPlayMode=t.ExportDataType=t.QnaMode=t.PageNavigationPosition=t.BrowserPrintAdjustmentsMode=t.AggregateFunction=t.DataCacheMode=t.CredentialType=t.isPercentOfGrandTotal=t.isColumnAggr=t.isHierarchyLevelAggr=t.isHierarchyLevel=t.isColumn=t.isMeasure=t.getFilterType=t.isBasicFilterWithKeys=t.isFilterKeyColumnsTarget=t.HierarchyIdentityFilter=t.HierarchyFilter=t.AdvancedFilter=t.TupleFilter=t.IdentityFilter=t.BasicFilterWithKeys=t.BasicFilter=t.RelativeTimeFilter=t.RelativeDateFilter=t.TopNFilter=t.IncludeExcludeFilter=t.NotSupportedFilter=t.Filter=t.RelativeDateOperators=t.RelativeDateFilterTimeUnit=t.FilterType=t.FiltersLevel=t.FiltersOperations=t.MenuLocation=t.ContrastMode=t.TokenType=t.ViewMode=t.Permissions=t.SectionVisibility=t.ReportAlignment=t.HyperlinkClickBehavior=t.LayoutType=t.VisualContainerDisplayMode=t.BackgroundType=t.DisplayOption=t.PageSizeType=t.TraceType=void 0,t.validateExportDataRequest=t.validateQnaInterpretInputData=t.validateLoadQnaConfiguration=t.validateSaveAsParameters=t.validateUpdateFiltersRequest=t.validateFilter=t.validatePage=t.validateTileLoad=t.validateDashboardLoad=t.validateQuickCreate=t.validateCreateReport=t.validatePaginatedReportLoad=t.validateReportLoad=t.validateMenuGroupExtension=t.validateExtension=t.validateCustomPageSize=t.validateVisualizationsPane=t.validateSyncSlicersPane=t.validateSelectionPane=t.validatePageNavigationPane=t.validateFieldsPane=t.validateFiltersPane=t.validateBookmarksPane=t.validatePanes=t.validateSettings=t.validateCaptureBookmarkRequest=t.validateApplyBookmarkStateRequest=t.validateApplyBookmarkByNameRequest=t.validateAddBookmarkRequest=t.validatePlayBookmarkRequest=t.validateSlicerState=t.validateSlicer=t.validateVisualSelector=t.isIExtensionArray=t.isIExtensions=t.isGroupedMenuExtension=t.isFlatMenuExtension=t.isReportFiltersArray=t.isOnLoadFilters=t.VisualDataRoleKindPreference=t.VisualDataRoleKind=t.CommandDisplayOption=t.SlicerTargetSelector=t.VisualTypeSelector=t.VisualSelector=t.PageSelector=t.Selector=t.SortDirection=t.LegendPosition=t.TextAlignment=void 0,t.validatePrintSettings=t.validateZoomLevel=t.validateCustomTheme=t.validateCommandsSettings=t.validateVisualSettings=t.validateVisualHeader=void 0;var je,V,n=o(1);(je=t.TraceType||(t.TraceType={}))[je.Information=0]="Information",je[je.Verbose=1]="Verbose",je[je.Warning=2]="Warning",je[je.Error=3]="Error",je[je.ExpectedError=4]="ExpectedError",je[je.UnexpectedError=5]="UnexpectedError",je[je.Fatal=6]="Fatal",function(je){je[je.Widescreen=0]="Widescreen",je[je.Standard=1]="Standard",je[je.Cortana=2]="Cortana",je[je.Letter=3]="Letter",je[je.Custom=4]="Custom",je[je.Mobile=5]="Mobile"}(t.PageSizeType||(t.PageSizeType={})),function(je){je[je.FitToPage=0]="FitToPage",je[je.FitToWidth=1]="FitToWidth",je[je.ActualSize=2]="ActualSize"}(t.DisplayOption||(t.DisplayOption={})),function(je){je[je.Default=0]="Default",je[je.Transparent=1]="Transparent"}(t.BackgroundType||(t.BackgroundType={})),function(je){je[je.Visible=0]="Visible",je[je.Hidden=1]="Hidden"}(t.VisualContainerDisplayMode||(t.VisualContainerDisplayMode={})),function(je){je[je.Master=0]="Master",je[je.Custom=1]="Custom",je[je.MobilePortrait=2]="MobilePortrait",je[je.MobileLandscape=3]="MobileLandscape"}(t.LayoutType||(t.LayoutType={})),function(je){je[je.Navigate=0]="Navigate",je[je.NavigateAndRaiseEvent=1]="NavigateAndRaiseEvent",je[je.RaiseEvent=2]="RaiseEvent"}(t.HyperlinkClickBehavior||(t.HyperlinkClickBehavior={})),function(je){je[je.Left=0]="Left",je[je.Center=1]="Center",je[je.Right=2]="Right",je[je.None=3]="None"}(t.ReportAlignment||(t.ReportAlignment={})),function(je){je[je.AlwaysVisible=0]="AlwaysVisible",je[je.HiddenInViewMode=1]="HiddenInViewMode"}(t.SectionVisibility||(t.SectionVisibility={})),function(je){je[je.Read=0]="Read",je[je.ReadWrite=1]="ReadWrite",je[je.Copy=2]="Copy",je[je.Create=4]="Create",je[je.All=7]="All"}(t.Permissions||(t.Permissions={})),function(je){je[je.View=0]="View",je[je.Edit=1]="Edit"}(t.ViewMode||(t.ViewMode={})),function(je){je[je.Aad=0]="Aad",je[je.Embed=1]="Embed"}(t.TokenType||(t.TokenType={})),function(je){je[je.None=0]="None",je[je.HighContrast1=1]="HighContrast1",je[je.HighContrast2=2]="HighContrast2",je[je.HighContrastBlack=3]="HighContrastBlack",je[je.HighContrastWhite=4]="HighContrastWhite"}(t.ContrastMode||(t.ContrastMode={})),function(je){je[je.Bottom=0]="Bottom",je[je.Top=1]="Top"}(t.MenuLocation||(t.MenuLocation={})),function(je){je[je.RemoveAll=0]="RemoveAll",je[je.ReplaceAll=1]="ReplaceAll",je[je.Add=2]="Add",je[je.Replace=3]="Replace"}(t.FiltersOperations||(t.FiltersOperations={})),function(je){je[je.Report=0]="Report",je[je.Page=1]="Page",je[je.Visual=2]="Visual"}(t.FiltersLevel||(t.FiltersLevel={})),function(je){je[je.Advanced=0]="Advanced",je[je.Basic=1]="Basic",je[je.Unknown=2]="Unknown",je[je.IncludeExclude=3]="IncludeExclude",je[je.RelativeDate=4]="RelativeDate",je[je.TopN=5]="TopN",je[je.Tuple=6]="Tuple",je[je.RelativeTime=7]="RelativeTime",je[je.Identity=8]="Identity",je[je.Hierarchy=9]="Hierarchy",je[je.HierarchyIdentity=10]="HierarchyIdentity"}(V=t.FilterType||(t.FilterType={})),function(je){je[je.Days=0]="Days",je[je.Weeks=1]="Weeks",je[je.CalendarWeeks=2]="CalendarWeeks",je[je.Months=3]="Months",je[je.CalendarMonths=4]="CalendarMonths",je[je.Years=5]="Years",je[je.CalendarYears=6]="CalendarYears",je[je.Minutes=7]="Minutes",je[je.Hours=8]="Hours"}(t.RelativeDateFilterTimeUnit||(t.RelativeDateFilterTimeUnit={})),function(je){je[je.InLast=0]="InLast",je[je.InThis=1]="InThis",je[je.InNext=2]="InNext"}(t.RelativeDateOperators||(t.RelativeDateOperators={}));var T=function(){function je(Tt,Kt){this.target=Tt,this.filterType=Kt}return je.prototype.toJSON=function(){var Tt={$schema:this.schemaUrl,target:this.target,filterType:this.filterType};return void 0!==this.displaySettings&&(Tt.displaySettings=this.displaySettings),Tt},je}();t.Filter=T;var N=function(je){function Tt(Kt,nr,ar){var $e=je.call(this,Kt,V.Unknown)||this;return $e.message=nr,$e.notSupportedTypeName=ar,$e.schemaUrl=Tt.schemaUrl,$e}return d(Tt,je),Tt.prototype.toJSON=function(){var Kt=je.prototype.toJSON.call(this);return Kt.message=this.message,Kt.notSupportedTypeName=this.notSupportedTypeName,Kt},Tt.schemaUrl="http://powerbi.com/product/schema#notSupported",Tt}(T);t.NotSupportedFilter=N;var w=function(je){function Tt(Kt,nr,ar){var $e=je.call(this,Kt,V.IncludeExclude)||this;return $e.target=Kt,$e.values=ar,$e.isExclude=nr,$e.schemaUrl=Tt.schemaUrl,$e}return d(Tt,je),Tt.prototype.toJSON=function(){var Kt=je.prototype.toJSON.call(this);return Kt.isExclude=this.isExclude,Kt.values=this.values,Kt},Tt.schemaUrl="http://powerbi.com/product/schema#includeExclude",Tt}(T);t.IncludeExcludeFilter=w;var I=function(je){function Tt(Kt,nr,ar,$e){var pt=je.call(this,Kt,V.TopN)||this;return pt.operator=nr,pt.itemCount=ar,pt.schemaUrl=Tt.schemaUrl,pt.orderBy=$e,pt}return d(Tt,je),Tt.prototype.toJSON=function(){var Kt=je.prototype.toJSON.call(this);return Kt.operator=this.operator,Kt.itemCount=this.itemCount,Kt.orderBy=this.orderBy,Kt},Tt.schemaUrl="http://powerbi.com/product/schema#topN",Tt}(T);t.TopNFilter=I;var O=function(je){function Tt(Kt,nr,ar,$e,pt){var Ut=je.call(this,Kt,V.RelativeDate)||this;return Ut.operator=nr,Ut.timeUnitsCount=ar,Ut.timeUnitType=$e,Ut.includeToday=pt,Ut.schemaUrl=Tt.schemaUrl,Ut}return d(Tt,je),Tt.prototype.toJSON=function(){var Kt=je.prototype.toJSON.call(this);return Kt.operator=this.operator,Kt.timeUnitsCount=this.timeUnitsCount,Kt.timeUnitType=this.timeUnitType,Kt.includeToday=this.includeToday,Kt},Tt.schemaUrl="http://powerbi.com/product/schema#relativeDate",Tt}(T);t.RelativeDateFilter=O;var x=function(je){function Tt(Kt,nr,ar,$e){var pt=je.call(this,Kt,V.RelativeTime)||this;return pt.operator=nr,pt.timeUnitsCount=ar,pt.timeUnitType=$e,pt.schemaUrl=Tt.schemaUrl,pt}return d(Tt,je),Tt.prototype.toJSON=function(){var Kt=je.prototype.toJSON.call(this);return Kt.operator=this.operator,Kt.timeUnitsCount=this.timeUnitsCount,Kt.timeUnitType=this.timeUnitType,Kt},Tt.schemaUrl="http://powerbi.com/product/schema#relativeTime",Tt}(T);t.RelativeTimeFilter=x;var j=function(je){function Tt(Kt,nr){for(var ar=[],$e=2;$e<arguments.length;$e++)ar[$e-2]=arguments[$e];var pt=je.call(this,Kt,V.Basic)||this;if(pt.operator=nr,pt.schemaUrl=Tt.schemaUrl,0===ar.length&&"All"!==nr)throw new Error('values must be a non-empty array unless your operator is "All".');return pt.values=Array.isArray(ar[0])?ar[0]:ar,pt}return d(Tt,je),Tt.prototype.toJSON=function(){var Kt=je.prototype.toJSON.call(this);return Kt.operator=this.operator,Kt.values=this.values,Kt.requireSingleSelection=!!this.requireSingleSelection,Kt},Tt.schemaUrl="http://powerbi.com/product/schema#basic",Tt}(T);t.BasicFilter=j;var U=function(je){function Tt(Kt,nr,ar,$e){var pt=je.call(this,Kt,nr,ar)||this;pt.keyValues=$e,pt.target=Kt;var Ut=Kt.keys?Kt.keys.length:0;if(Ut>0&&!$e)throw new Error("You should pass the values to be filtered for each key. You passed: no values and ".concat(Ut," keys"));if(0===Ut&&$e&&$e.length>0)throw new Error("You passed key values but your target object doesn't contain the keys to be filtered");for(var $t=0,er=pt.keyValues;$t<er.length;$t++){var or=er[$t];if(or){var vr=or.length;if(vr!==Ut)throw new Error("Each tuple of key values should contain a value for each of the keys. You passed: ".concat(vr," values and ").concat(Ut," keys"))}}return pt}return d(Tt,je),Tt.prototype.toJSON=function(){var Kt=je.prototype.toJSON.call(this);return Kt.keyValues=this.keyValues,Kt},Tt}(j);t.BasicFilterWithKeys=U;var F=function(je){function Tt(Kt,nr){var ar=je.call(this,Kt,V.Identity)||this;return ar.operator=nr,ar.schemaUrl=Tt.schemaUrl,ar}return d(Tt,je),Tt.prototype.toJSON=function(){var Kt=je.prototype.toJSON.call(this);return Kt.operator=this.operator,Kt.target=this.target,Kt},Tt.schemaUrl="http://powerbi.com/product/schema#identity",Tt}(T);t.IdentityFilter=F;var R=function(je){function Tt(Kt,nr,ar){var $e=je.call(this,Kt,V.Tuple)||this;return $e.operator=nr,$e.schemaUrl=Tt.schemaUrl,$e.values=ar,$e}return d(Tt,je),Tt.prototype.toJSON=function(){var Kt=je.prototype.toJSON.call(this);return Kt.operator=this.operator,Kt.values=this.values,Kt.target=this.target,Kt},Tt.schemaUrl="http://powerbi.com/product/schema#tuple",Tt}(T);t.TupleFilter=R;var B=function(je){function Tt(Kt,nr){for(var ar=[],$e=2;$e<arguments.length;$e++)ar[$e-2]=arguments[$e];var Ut,pt=je.call(this,Kt,V.Advanced)||this;if(pt.schemaUrl=Tt.schemaUrl,"string"!=typeof nr||0===nr.length)throw new Error("logicalOperator must be a valid operator, You passed: ".concat(nr));if(pt.logicalOperator=nr,(Ut=Array.isArray(ar[0])?ar[0]:ar).length>2)throw new Error("AdvancedFilters may not have more than two conditions. You passed: ".concat(ar.length));if(1===Ut.length&&"And"!==nr)throw new Error('Logical Operator must be "And" when there is only one condition provided');return pt.conditions=Ut,pt}return d(Tt,je),Tt.prototype.toJSON=function(){var Kt=je.prototype.toJSON.call(this);return Kt.logicalOperator=this.logicalOperator,Kt.conditions=this.conditions,Kt},Tt.schemaUrl="http://powerbi.com/product/schema#advanced",Tt}(T);t.AdvancedFilter=B;var A=function(je){function Tt(Kt,nr){var ar=je.call(this,Kt,V.Hierarchy)||this;return ar.schemaUrl=Tt.schemaUrl,ar.hierarchyData=nr,ar}return d(Tt,je),Tt.prototype.toJSON=function(){var Kt=je.prototype.toJSON.call(this);return Kt.hierarchyData=this.hierarchyData,Kt.target=this.target,Kt},Tt.schemaUrl="http://powerbi.com/product/schema#hierarchy",Tt}(T);t.HierarchyFilter=A;var W=function(je){function Tt(Kt,nr){var ar=je.call(this,Kt,V.HierarchyIdentity)||this;return ar.schemaUrl=Tt.schemaUrl,ar.hierarchyData=nr,ar}return d(Tt,je),Tt.prototype.toJSON=function(){var Kt=je.prototype.toJSON.call(this);return Kt.hierarchyData=this.hierarchyData,Kt.target=this.target,Kt},Tt.schemaUrl="http://powerbi.com/product/schema#hierarchyIdentity",Tt}(T);function q(je){if(je.filterType)return je.filterType;var Kt=je;return"string"==typeof je.operator&&Array.isArray(je.values)?V.Basic:"string"==typeof Kt.logicalOperator&&Array.isArray(Kt.conditions)?V.Advanced:V.Unknown}function k(je){return!(!je.table||!je.column||je.aggregationFunction)}t.HierarchyIdentityFilter=W,t.isFilterKeyColumnsTarget=function(je){return k(je)&&!!je.keys},t.isBasicFilterWithKeys=function(je){return q(je)===V.Basic&&!!je.keyValues},t.getFilterType=q,t.isMeasure=function(je){return void 0!==je.table&&void 0!==je.measure},t.isColumn=k,t.isHierarchyLevel=function(je){return!(!(je.table&&je.hierarchy&&je.hierarchyLevel)||je.aggregationFunction)},t.isHierarchyLevelAggr=function(je){return!!(je.table&&je.hierarchy&&je.hierarchyLevel&&je.aggregationFunction)},t.isColumnAggr=function(je){return!!(je.table&&je.column&&je.aggregationFunction)},t.isPercentOfGrandTotal=function(je){return!!je.percentOfGrandTotal},function(je){je[je.NoConnection=0]="NoConnection",je[je.OnBehalfOf=1]="OnBehalfOf",je[je.Anonymous=2]="Anonymous"}(t.CredentialType||(t.CredentialType={})),function(je){je[je.Import=0]="Import",je[je.DirectQuery=1]="DirectQuery"}(t.DataCacheMode||(t.DataCacheMode={})),function(je){je[je.Default=1]="Default",je[je.None=2]="None",je[je.Sum=3]="Sum",je[je.Min=4]="Min",je[je.Max=5]="Max",je[je.Count=6]="Count",je[je.Average=7]="Average",je[je.DistinctCount=8]="DistinctCount"}(t.AggregateFunction||(t.AggregateFunction={})),function(je){je[je.Default=0]="Default",je[je.NoAdjustments=1]="NoAdjustments"}(t.BrowserPrintAdjustmentsMode||(t.BrowserPrintAdjustmentsMode={})),function(je){je[je.Bottom=0]="Bottom",je[je.Left=1]="Left"}(t.PageNavigationPosition||(t.PageNavigationPosition={})),function(je){je[je.Interactive=0]="Interactive",je[je.ResultOnly=1]="ResultOnly"}(t.QnaMode||(t.QnaMode={})),function(je){je[je.Summarized=0]="Summarized",je[je.Underlying=1]="Underlying"}(t.ExportDataType||(t.ExportDataType={})),function(je){je[je.Off=0]="Off",je[je.Presentation=1]="Presentation"}(t.BookmarksPlayMode||(t.BookmarksPlayMode={})),t.CommonErrorCodes={TokenExpired:"TokenExpired",NotFound:"PowerBIEntityNotFound",InvalidParameters:"Invalid parameters",LoadReportFailed:"LoadReportFailed",NotAuthorized:"PowerBINotAuthorizedException",FailedToLoadModel:"ExplorationContainer_FailedToLoadModel_DefaultDetails"},t.TextAlignment={Left:"left",Center:"center",Right:"right"},t.LegendPosition={Top:"Top",Bottom:"Bottom",Right:"Right",Left:"Left",TopCenter:"TopCenter",BottomCenter:"BottomCenter",RightCenter:"RightCenter",LeftCenter:"LeftCenter"},function(je){je[je.Ascending=1]="Ascending",je[je.Descending=2]="Descending"}(t.SortDirection||(t.SortDirection={}));var At=function(){function je(Tt){this.$schema=Tt}return je.prototype.toJSON=function(){return{$schema:this.$schema}},je}();t.Selector=At;var Qe=function(je){function Tt(Kt){var nr=je.call(this,Tt.schemaUrl)||this;return nr.pageName=Kt,nr}return d(Tt,je),Tt.prototype.toJSON=function(){var Kt=je.prototype.toJSON.call(this);return Kt.pageName=this.pageName,Kt},Tt.schemaUrl="http://powerbi.com/product/schema#pageSelector",Tt}(At);t.PageSelector=Qe;var Fe=function(je){function Tt(Kt){var nr=je.call(this,Tt.schemaUrl)||this;return nr.visualName=Kt,nr}return d(Tt,je),Tt.prototype.toJSON=function(){var Kt=je.prototype.toJSON.call(this);return Kt.visualName=this.visualName,Kt},Tt.schemaUrl="http://powerbi.com/product/schema#visualSelector",Tt}(At);t.VisualSelector=Fe;var ye=function(je){function Tt(Kt){var nr=je.call(this,Fe.schemaUrl)||this;return nr.visualType=Kt,nr}return d(Tt,je),Tt.prototype.toJSON=function(){var Kt=je.prototype.toJSON.call(this);return Kt.visualType=this.visualType,Kt},Tt.schemaUrl="http://powerbi.com/product/schema#visualTypeSelector",Tt}(At);t.VisualTypeSelector=ye;var we=function(je){function Tt(Kt){var nr=je.call(this,Fe.schemaUrl)||this;return nr.target=Kt,nr}return d(Tt,je),Tt.prototype.toJSON=function(){var Kt=je.prototype.toJSON.call(this);return Kt.target=this.target,Kt},Tt.schemaUrl="http://powerbi.com/product/schema#slicerTargetSelector",Tt}(At);function Se(je){return Array.isArray(je)}function Ie(je){return je&&!!je.groupName}function pe(je){return Array.isArray(je)}function Pe(je){var Tt=je.message;return Tt||(Tt="".concat(je.path," is invalid. Not meeting ").concat(je.keyword," constraint")),{message:Tt}}t.SlicerTargetSelector=we,function(je){je[je.Enabled=0]="Enabled",je[je.Disabled=1]="Disabled",je[je.Hidden=2]="Hidden"}(t.CommandDisplayOption||(t.CommandDisplayOption={})),function(je){je[je.Grouping=0]="Grouping",je[je.Measure=1]="Measure",je[je.GroupingOrMeasure=2]="GroupingOrMeasure"}(t.VisualDataRoleKind||(t.VisualDataRoleKind={})),function(je){je[je.Measure=0]="Measure",je[je.Grouping=1]="Grouping"}(t.VisualDataRoleKindPreference||(t.VisualDataRoleKindPreference={})),t.isOnLoadFilters=function(je){return je&&!Se(je)},t.isReportFiltersArray=Se,t.isFlatMenuExtension=function(je){return je&&!Ie(je)},t.isGroupedMenuExtension=Ie,t.isIExtensions=function(je){return je&&!pe(je)},t.isIExtensionArray=pe,t.validateVisualSelector=function(je){var Tt=n.Validators.visualSelectorValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateSlicer=function(je){var Tt=n.Validators.slicerValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateSlicerState=function(je){var Tt=n.Validators.slicerStateValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validatePlayBookmarkRequest=function(je){var Tt=n.Validators.playBookmarkRequestValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateAddBookmarkRequest=function(je){var Tt=n.Validators.addBookmarkRequestValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateApplyBookmarkByNameRequest=function(je){var Tt=n.Validators.applyBookmarkByNameRequestValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateApplyBookmarkStateRequest=function(je){var Tt=n.Validators.applyBookmarkStateRequestValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateCaptureBookmarkRequest=function(je){var Tt=n.Validators.captureBookmarkRequestValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateSettings=function(je){var Tt=n.Validators.settingsValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validatePanes=function(je){var Tt=n.Validators.reportPanesValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateBookmarksPane=function(je){var Tt=n.Validators.bookmarksPaneValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateFiltersPane=function(je){var Tt=n.Validators.filtersPaneValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateFieldsPane=function(je){var Tt=n.Validators.fieldsPaneValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validatePageNavigationPane=function(je){var Tt=n.Validators.pageNavigationPaneValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateSelectionPane=function(je){var Tt=n.Validators.selectionPaneValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateSyncSlicersPane=function(je){var Tt=n.Validators.syncSlicersPaneValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateVisualizationsPane=function(je){var Tt=n.Validators.visualizationsPaneValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateCustomPageSize=function(je){var Tt=n.Validators.customPageSizeValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateExtension=function(je){var Tt=n.Validators.extensionValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateMenuGroupExtension=function(je){var Tt=n.Validators.menuGroupExtensionValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateReportLoad=function(je){var Tt=n.Validators.reportLoadValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validatePaginatedReportLoad=function(je){var Tt=n.Validators.paginatedReportLoadValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateCreateReport=function(je){var Tt=n.Validators.reportCreateValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateQuickCreate=function(je){var Tt=n.Validators.quickCreateValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateDashboardLoad=function(je){var Tt=n.Validators.dashboardLoadValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateTileLoad=function(je){var Tt=n.Validators.tileLoadValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validatePage=function(je){var Tt=n.Validators.pageValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateFilter=function(je){var Tt=n.Validators.filterValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateUpdateFiltersRequest=function(je){var Tt=n.Validators.updateFiltersRequestValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateSaveAsParameters=function(je){var Tt=n.Validators.saveAsParametersValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateLoadQnaConfiguration=function(je){var Tt=n.Validators.loadQnaValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateQnaInterpretInputData=function(je){var Tt=n.Validators.qnaInterpretInputDataValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateExportDataRequest=function(je){var Tt=n.Validators.exportDataRequestValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateVisualHeader=function(je){var Tt=n.Validators.visualHeaderValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateVisualSettings=function(je){var Tt=n.Validators.visualSettingsValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateCommandsSettings=function(je){var Tt=n.Validators.commandsSettingsValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateCustomTheme=function(je){var Tt=n.Validators.customThemeValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validateZoomLevel=function(je){var Tt=n.Validators.zoomLevelValidator.validate(je);return Tt?Tt.map(Pe):void 0},t.validatePrintSettings=function(je){var Tt=n.Validators.printSettingsValidator.validate(je);return Tt?Tt.map(Pe):void 0}},(r,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Validators=void 0;var d=o(2),n=o(5),c=o(6),s=o(7),p=o(8),l=o(9),u=o(10),v=o(11),m=o(12),g=o(13),E=o(14),D=o(15),h=o(16),C=o(17),y=o(18),f=o(19),S=o(20),b=o(21),V=o(22),M=o(23),P=o(24),T=o(25),N=o(26),w=o(27),I=o(28),O=o(29),x=o(4),j=o(30),U=o(31),F=o(32),R=o(33),B=o(34);t.Validators={addBookmarkRequestValidator:new n.AddBookmarkRequestValidator,advancedFilterTypeValidator:new x.EnumValidator([0]),advancedFilterValidator:new m.AdvancedFilterValidator,anyArrayValidator:new x.ArrayValidator([new N.AnyOfValidator([new x.StringValidator,new x.NumberValidator,new x.BooleanValidator])]),anyFilterValidator:new N.AnyOfValidator([new m.BasicFilterValidator,new m.AdvancedFilterValidator,new m.IncludeExcludeFilterValidator,new m.NotSupportedFilterValidator,new m.RelativeDateFilterValidator,new m.TopNFilterValidator,new m.RelativeTimeFilterValidator,new m.HierarchyFilterValidator]),anyValueValidator:new N.AnyOfValidator([new x.StringValidator,new x.NumberValidator,new x.BooleanValidator]),actionBarValidator:new d.ActionBarValidator,statusBarValidator:new d.StatusBarValidator,applyBookmarkByNameRequestValidator:new n.ApplyBookmarkByNameRequestValidator,applyBookmarkStateRequestValidator:new n.ApplyBookmarkStateRequestValidator,applyBookmarkValidator:new N.AnyOfValidator([new n.ApplyBookmarkByNameRequestValidator,new n.ApplyBookmarkStateRequestValidator]),backgroundValidator:new x.EnumValidator([0,1]),basicFilterTypeValidator:new x.EnumValidator([1]),basicFilterValidator:new m.BasicFilterValidator,booleanArrayValidator:new x.BooleanArrayValidator,booleanValidator:new x.BooleanValidator,bookmarksPaneValidator:new D.BookmarksPaneValidator,captureBookmarkOptionsValidator:new n.CaptureBookmarkOptionsValidator,captureBookmarkRequestValidator:new n.CaptureBookmarkRequestValidator,columnSchemaArrayValidator:new x.ArrayValidator([new U.ColumnSchemaValidator]),commandDisplayOptionValidator:new x.EnumValidator([0,1,2]),commandExtensionSelectorValidator:new N.AnyOfValidator([new b.VisualSelectorValidator,new b.VisualTypeSelectorValidator]),commandExtensionArrayValidator:new x.ArrayValidator([new v.CommandExtensionValidator]),commandExtensionValidator:new v.CommandExtensionValidator,commandsSettingsArrayValidator:new x.ArrayValidator([new c.CommandsSettingsValidator]),commandsSettingsValidator:new c.CommandsSettingsValidator,conditionItemValidator:new m.ConditionItemValidator,contrastModeValidator:new x.EnumValidator([0,1,2,3,4]),credentialDetailsValidator:new O.MapValidator([new x.StringValidator],[new x.StringValidator]),credentialsValidator:new U.CredentialsValidator,credentialTypeValidator:new x.EnumValidator([0,1,2]),customLayoutDisplayOptionValidator:new x.EnumValidator([0,1,2]),customLayoutValidator:new g.CustomLayoutValidator,customPageSizeValidator:new E.CustomPageSizeValidator,customThemeValidator:new s.CustomThemeValidator,dashboardLoadValidator:new p.DashboardLoadValidator,dataCacheModeValidator:new x.EnumValidator([0,1]),datasetBindingValidator:new l.DatasetBindingValidator,datasetCreateConfigValidator:new U.DatasetCreateConfigValidator,datasourceConnectionConfigValidator:new U.DatasourceConnectionConfigValidator,displayStateModeValidator:new x.EnumValidator([0,1]),displayStateValidator:new g.DisplayStateValidator,exportDataRequestValidator:new u.ExportDataRequestValidator,extensionArrayValidator:new x.ArrayValidator([new v.ExtensionValidator]),extensionsValidator:new N.AnyOfValidator([new x.ArrayValidator([new v.ExtensionValidator]),new v.ExtensionsValidator]),extensionPointsValidator:new v.ExtensionPointsValidator,extensionValidator:new v.ExtensionValidator,fieldForbiddenValidator:new w.FieldForbiddenValidator,fieldRequiredValidator:new I.FieldRequiredValidator,fieldsPaneValidator:new D.FieldsPaneValidator,filterColumnTargetValidator:new m.FilterColumnTargetValidator,filterDisplaySettingsValidator:new m.FilterDisplaySettingsValidator,filterConditionsValidator:new x.ArrayValidator([new m.ConditionItemValidator]),filterHierarchyTargetValidator:new m.FilterHierarchyTargetValidator,filterMeasureTargetValidator:new m.FilterMeasureTargetValidator,filterTargetValidator:new N.AnyOfValidator([new m.FilterColumnTargetValidator,new m.FilterHierarchyTargetValidator,new m.FilterMeasureTargetValidator,new x.ArrayValidator([new N.AnyOfValidator([new m.FilterColumnTargetValidator,new m.FilterHierarchyTargetValidator,new m.FilterMeasureTargetValidator,new m.FilterKeyColumnsTargetValidator,new m.FilterKeyHierarchyTargetValidator,new x.ArrayValidator([new N.AnyOfValidator([new m.FilterColumnTargetValidator,new m.FilterHierarchyTargetValidator,new m.FilterMeasureTargetValidator,new m.FilterKeyColumnsTargetValidator,new m.FilterKeyHierarchyTargetValidator])])])])]),filterValidator:new m.FilterValidator,filterTypeValidator:new x.EnumValidator([0,1,2,3,4,5,6,7,9]),filtersArrayValidator:new x.ArrayValidator([new m.FilterValidator]),filtersOperationsUpdateValidator:new x.EnumValidator([1,2,3]),filtersOperationsRemoveAllValidator:new x.EnumValidator([0]),filtersPaneValidator:new D.FiltersPaneValidator,hyperlinkClickBehaviorValidator:new x.EnumValidator([0,1,2]),includeExcludeFilterValidator:new m.IncludeExcludeFilterValidator,includeExludeFilterTypeValidator:new x.EnumValidator([3]),includeExcludeFilterValuesValidator:new x.ArrayValidator([new N.AnyOfValidator([new x.StringValidator,new x.NumberValidator,new x.BooleanValidator,new x.ArrayValidator([new x.ArrayValidator([new m.IncludeExcludePointValueValidator])])])]),hierarchyFilterTypeValidator:new x.EnumValidator([9]),hierarchyFilterValuesValidator:new x.ArrayValidator([new m.HierarchyFilterNodeValidator]),layoutTypeValidator:new x.EnumValidator([0,1,2,3]),loadQnaValidator:new h.LoadQnaValidator,menuExtensionValidator:new N.AnyOfValidator([new v.FlatMenuExtensionValidator,new v.GroupedMenuExtensionValidator]),menuGroupExtensionArrayValidator:new x.ArrayValidator([new v.MenuGroupExtensionValidator]),menuGroupExtensionValidator:new v.MenuGroupExtensionValidator,menuLocationValidator:new x.EnumValidator([0,1]),notSupportedFilterTypeValidator:new x.EnumValidator([2]),notSupportedFilterValidator:new m.NotSupportedFilterValidator,numberArrayValidator:new x.NumberArrayValidator,numberValidator:new x.NumberValidator,onLoadFiltersBaseValidator:new N.AnyOfValidator([new m.OnLoadFiltersBaseValidator,new m.OnLoadFiltersBaseRemoveOperationValidator]),pageLayoutValidator:new O.MapValidator([new x.StringValidator],[new g.VisualLayoutValidator]),pageNavigationPaneValidator:new D.PageNavigationPaneValidator,pageNavigationPositionValidator:new x.EnumValidator([0,1]),pageSizeTypeValidator:new x.EnumValidator([0,1,2,3,4,5]),pageSizeValidator:new E.PageSizeValidator,pageValidator:new E.PageValidator,pageViewFieldValidator:new E.PageViewFieldValidator,pagesLayoutValidator:new O.MapValidator([new x.StringValidator],[new g.PageLayoutValidator]),paginatedReportCommandsValidator:new c.PaginatedReportCommandsValidator,paginatedReportDatasetBindingArrayValidator:new x.ArrayValidator([new B.PaginatedReportDatasetBindingValidator]),paginatedReportLoadValidator:new f.PaginatedReportLoadValidator,paginatedReportsettingsValidator:new V.PaginatedReportSettingsValidator,parameterValuesArrayValidator:new x.ArrayValidator([new f.ReportParameterFieldsValidator]),parametersPanelValidator:new j.ParametersPanelValidator,permissionsValidator:new x.EnumValidator([0,1,2,4,7]),playBookmarkRequestValidator:new n.PlayBookmarkRequestValidator,printSettingsValidator:new R.PrintSettingsValidator,qnaInterpretInputDataValidator:new h.QnaInterpretInputDataValidator,qnaPanesValidator:new D.QnaPanesValidator,qnaSettingValidator:new h.QnaSettingsValidator,quickCreateValidator:new F.QuickCreateValidator,rawDataValidator:new x.ArrayValidator([new x.ArrayValidator([new x.StringValidator])]),relativeDateFilterOperatorValidator:new x.EnumValidator([0,1,2]),relativeDateFilterTimeUnitTypeValidator:new x.EnumValidator([0,1,2,3,4,5,6]),relativeDateFilterTypeValidator:new x.EnumValidator([4]),relativeDateFilterValidator:new m.RelativeDateFilterValidator,relativeDateTimeFilterTypeValidator:new x.EnumValidator([4,7]),relativeDateTimeFilterUnitTypeValidator:new x.EnumValidator([0,1,2,3,4,5,6,7,8]),relativeTimeFilterTimeUnitTypeValidator:new x.EnumValidator([7,8]),relativeTimeFilterTypeValidator:new x.EnumValidator([7]),relativeTimeFilterValidator:new m.RelativeTimeFilterValidator,reportBarsValidator:new d.ReportBarsValidator,reportCreateValidator:new C.ReportCreateValidator,reportLoadFiltersValidator:new N.AnyOfValidator([new x.ArrayValidator([new m.FilterValidator]),new m.OnLoadFiltersValidator]),reportLoadValidator:new y.ReportLoadValidator,reportPanesValidator:new D.ReportPanesValidator,saveAsParametersValidator:new S.SaveAsParametersValidator,selectionPaneValidator:new D.SelectionPaneValidator,settingsValidator:new V.SettingsValidator,singleCommandSettingsValidator:new c.SingleCommandSettingsValidator,slicerSelectorValidator:new N.AnyOfValidator([new b.VisualSelectorValidator,new b.SlicerTargetSelectorValidator]),slicerStateValidator:new M.SlicerStateValidator,slicerTargetValidator:new N.AnyOfValidator([new m.FilterColumnTargetValidator,new m.FilterHierarchyTargetValidator,new m.FilterMeasureTargetValidator,new m.FilterKeyColumnsTargetValidator,new m.FilterKeyHierarchyTargetValidator]),slicerValidator:new M.SlicerValidator,stringArrayValidator:new x.StringArrayValidator,stringValidator:new x.StringValidator,syncSlicersPaneValidator:new D.SyncSlicersPaneValidator,tableDataArrayValidator:new x.ArrayValidator([new U.TableDataValidator]),tableSchemaListValidator:new x.ArrayValidator([new U.TableSchemaValidator]),tileLoadValidator:new P.TileLoadValidator,tokenTypeValidator:new x.EnumValidator([0,1]),topNFilterTypeValidator:new x.EnumValidator([5]),topNFilterValidator:new m.TopNFilterValidator,updateFiltersRequestValidator:new N.AnyOfValidator([new m.UpdateFiltersRequestValidator,new m.RemoveFiltersRequestValidator]),viewModeValidator:new x.EnumValidator([0,1]),visualCommandSelectorValidator:new N.AnyOfValidator([new b.VisualSelectorValidator,new b.VisualTypeSelectorValidator]),visualHeaderSelectorValidator:new N.AnyOfValidator([new b.VisualSelectorValidator,new b.VisualTypeSelectorValidator]),visualHeaderSettingsValidator:new T.VisualHeaderSettingsValidator,visualHeaderValidator:new T.VisualHeaderValidator,visualHeadersValidator:new x.ArrayValidator([new T.VisualHeaderValidator]),visualizationsPaneValidator:new D.VisualizationsPaneValidator,visualLayoutValidator:new g.VisualLayoutValidator,visualSelectorValidator:new b.VisualSelectorValidator,visualSettingsValidator:new T.VisualSettingsValidator,visualTypeSelectorValidator:new b.VisualTypeSelectorValidator,zoomLevelValidator:new x.RangeValidator(.25,4)}},function(r,t,o){var d=this&&this.__extends||function(){var v=function(m,g){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var h in D)Object.prototype.hasOwnProperty.call(D,h)&&(E[h]=D[h])})(m,g)};return function(m,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function E(){this.constructor=m}v(m,g),m.prototype=null===g?Object.create(g):(E.prototype=g.prototype,new E)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBarValidator=t.ActionBarValidator=t.ReportBarsValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return d(m,v),m.prototype.validate=function(g,E,D){return null==g?null:v.prototype.validate.call(this,g,E,D)||new n.MultipleFieldsValidator([{field:"actionBar",validators:[s.Validators.actionBarValidator]},{field:"statusBar",validators:[s.Validators.statusBarValidator]}]).validate(g,E,D)},m}(c.ObjectValidator);t.ReportBarsValidator=p;var l=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return d(m,v),m.prototype.validate=function(g,E,D){return null==g?null:v.prototype.validate.call(this,g,E,D)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]}]).validate(g,E,D)},m}(c.ObjectValidator);t.ActionBarValidator=l;var u=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return d(m,v),m.prototype.validate=function(g,E,D){return null==g?null:v.prototype.validate.call(this,g,E,D)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]}]).validate(g,E,D)},m}(c.ObjectValidator);t.StatusBarValidator=u},(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MultipleFieldsValidator=void 0,t.MultipleFieldsValidator=function(){function d(n){this.fieldValidatorsPairs=n}return d.prototype.validate=function(n,c,s){if(!this.fieldValidatorsPairs)return null;for(var p=c?c+"."+s:s,l=0,u=this.fieldValidatorsPairs;l<u.length;l++)for(var v=u[l],m=0,g=v.validators;m<g.length;m++){var D=g[m].validate(n[v.field],p,v.field);if(D)return D}return null},d}()},function(r,t){var o=this&&this.__extends||function(){var C=function(y,f){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,b){S.__proto__=b}||function(S,b){for(var V in b)Object.prototype.hasOwnProperty.call(b,V)&&(S[V]=b[V])})(y,f)};return function(y,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function S(){this.constructor=y}C(y,f),y.prototype=null===f?Object.create(f):(S.prototype=f.prototype,new S)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.RangeValidator=t.NumberArrayValidator=t.BooleanArrayValidator=t.StringArrayValidator=t.EnumValidator=t.SchemaValidator=t.ValueValidator=t.NumberValidator=t.BooleanValidator=t.StringValidator=t.TypeValidator=t.ArrayValidator=t.ObjectValidator=void 0,t.ObjectValidator=function(){function C(){}return C.prototype.validate=function(y,f,S){return null==y?null:"object"!=typeof y||Array.isArray(y)?[{message:void 0!==S?S+" must be an object":"input must be an object",path:f,keyword:"type"}]:null},C}();var n=function(){function C(y){this.itemValidators=y}return C.prototype.validate=function(y,f,S){if(null==y)return null;if(!Array.isArray(y))return[{message:S+" property is invalid",path:(f?f+".":"")+S,keyword:"type"}];for(var b=0;b<y.length;b++)for(var V=(f?f+".":"")+S+"."+b.toString(),M=0,P=this.itemValidators;M<P.length;M++)if(P[M].validate(y[b],V,S))return[{message:S+" property is invalid",path:(f?f+".":"")+S,keyword:"type"}];return null},C}();t.ArrayValidator=n;var c=function(){function C(y){this.expectedType=y}return C.prototype.validate=function(y,f,S){return null==y?null:typeof y!==this.expectedType?[{message:S+" must be a "+this.expectedType,path:(f?f+".":"")+S,keyword:"type"}]:null},C}();t.TypeValidator=c;var s=function(C){function y(){return C.call(this,"string")||this}return o(y,C),y}(c);t.StringValidator=s;var p=function(C){function y(){return C.call(this,"boolean")||this}return o(y,C),y}(c);t.BooleanValidator=p;var l=function(C){function y(){return C.call(this,"number")||this}return o(y,C),y}(c);t.NumberValidator=l;var u=function(){function C(y){this.possibleValues=y}return C.prototype.validate=function(y,f,S){return null==y?null:this.possibleValues.indexOf(y)<0?[{message:S+" property is invalid",path:(f?f+".":"")+S,keyword:"invalid"}]:null},C}();t.ValueValidator=u,t.SchemaValidator=function(C){function y(f){var S=C.call(this,[f])||this;return S.schemaValue=f,S}return o(y,C),y.prototype.validate=function(f,S,b){return C.prototype.validate.call(this,f,S,b)},y}(u),t.EnumValidator=function(C){function y(f){var S=C.call(this)||this;return S.possibleValues=f,S}return o(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new u(this.possibleValues).validate(f,S,b)},y}(l),t.StringArrayValidator=function(C){function y(){return C.call(this,[new s])||this}return o(y,C),y.prototype.validate=function(f,S,b){return C.prototype.validate.call(this,f,S,b)?[{message:b+" must be an array of strings",path:(S?S+".":"")+b,keyword:"type"}]:null},y}(n),t.BooleanArrayValidator=function(C){function y(){return C.call(this,[new p])||this}return o(y,C),y.prototype.validate=function(f,S,b){return C.prototype.validate.call(this,f,S,b)?[{message:b+" must be an array of booleans",path:(S?S+".":"")+b,keyword:"type"}]:null},y}(n),t.NumberArrayValidator=function(C){function y(){return C.call(this,[new l])||this}return o(y,C),y.prototype.validate=function(f,S,b){return C.prototype.validate.call(this,f,S,b)?[{message:b+" must be an array of numbers",path:(S?S+".":"")+b,keyword:"type"}]:null},y}(n),t.RangeValidator=function(C){function y(f,S){var b=C.call(this)||this;return b.minValue=f,b.maxValue=S,b}return o(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||(f>this.maxValue||f<this.minValue?[{message:b+" must be a number between "+this.minValue.toString()+" and "+this.maxValue.toString(),path:(S?S+".":"")+b,keyword:"range"}]:null)},y}(l)},function(r,t,o){var d=this&&this.__extends||function(){var E=function(D,h){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,y){C.__proto__=y}||function(C,y){for(var f in y)Object.prototype.hasOwnProperty.call(y,f)&&(C[f]=y[f])})(D,h)};return function(D,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function C(){this.constructor=D}E(D,h),D.prototype=null===h?Object.create(h):(C.prototype=h.prototype,new C)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CaptureBookmarkRequestValidator=t.CaptureBookmarkOptionsValidator=t.ApplyBookmarkStateRequestValidator=t.ApplyBookmarkByNameRequestValidator=t.AddBookmarkRequestValidator=t.PlayBookmarkRequestValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(E){function D(){return null!==E&&E.apply(this,arguments)||this}return d(D,E),D.prototype.validate=function(h,C,y){if(null==h)return null;var f=E.prototype.validate.call(this,h,C,y);if(f)return f;var S=[{field:"playMode",validators:[s.Validators.fieldRequiredValidator,new c.EnumValidator([0,1])]}];return new n.MultipleFieldsValidator(S).validate(h,C,y)},D}(c.ObjectValidator);t.PlayBookmarkRequestValidator=p;var l=function(E){function D(){return null!==E&&E.apply(this,arguments)||this}return d(D,E),D.prototype.validate=function(h,C,y){return null==h?null:E.prototype.validate.call(this,h,C,y)||new n.MultipleFieldsValidator([{field:"state",validators:[s.Validators.stringValidator]},{field:"displayName",validators:[s.Validators.stringValidator]},{field:"apply",validators:[s.Validators.booleanValidator]}]).validate(h,C,y)},D}(c.ObjectValidator);t.AddBookmarkRequestValidator=l;var u=function(E){function D(){return null!==E&&E.apply(this,arguments)||this}return d(D,E),D.prototype.validate=function(h,C,y){return null==h?null:E.prototype.validate.call(this,h,C,y)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(h,C,y)},D}(c.ObjectValidator);t.ApplyBookmarkByNameRequestValidator=u;var v=function(E){function D(){return null!==E&&E.apply(this,arguments)||this}return d(D,E),D.prototype.validate=function(h,C,y){return null==h?null:E.prototype.validate.call(this,h,C,y)||new n.MultipleFieldsValidator([{field:"state",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(h,C,y)},D}(c.ObjectValidator);t.ApplyBookmarkStateRequestValidator=v;var m=function(E){function D(){return null!==E&&E.apply(this,arguments)||this}return d(D,E),D.prototype.validate=function(h,C,y){return null==h?null:E.prototype.validate.call(this,h,C,y)||new n.MultipleFieldsValidator([{field:"personalizeVisuals",validators:[s.Validators.booleanValidator]},{field:"allPages",validators:[s.Validators.booleanValidator]}]).validate(h,C,y)},D}(c.ObjectValidator);t.CaptureBookmarkOptionsValidator=m;var g=function(E){function D(){return null!==E&&E.apply(this,arguments)||this}return d(D,E),D.prototype.validate=function(h,C,y){return null==h?null:E.prototype.validate.call(this,h,C,y)||new n.MultipleFieldsValidator([{field:"options",validators:[s.Validators.fieldRequiredValidator,s.Validators.captureBookmarkOptionsValidator]}]).validate(h,C,y)},D}(c.ObjectValidator);t.CaptureBookmarkRequestValidator=g},function(r,t,o){var d=this&&this.__extends||function(){var v=function(m,g){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var h in D)Object.prototype.hasOwnProperty.call(D,h)&&(E[h]=D[h])})(m,g)};return function(m,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function E(){this.constructor=m}v(m,g),m.prototype=null===g?Object.create(g):(E.prototype=g.prototype,new E)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PaginatedReportCommandsValidator=t.SingleCommandSettingsValidator=t.CommandsSettingsValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return d(m,v),m.prototype.validate=function(g,E,D){return null==g?null:v.prototype.validate.call(this,g,E,D)||new n.MultipleFieldsValidator([{field:"copy",validators:[s.Validators.singleCommandSettingsValidator]},{field:"drill",validators:[s.Validators.singleCommandSettingsValidator]},{field:"drillthrough",validators:[s.Validators.singleCommandSettingsValidator]},{field:"expandCollapse",validators:[s.Validators.singleCommandSettingsValidator]},{field:"exportData",validators:[s.Validators.singleCommandSettingsValidator]},{field:"includeExclude",validators:[s.Validators.singleCommandSettingsValidator]},{field:"removeVisual",validators:[s.Validators.singleCommandSettingsValidator]},{field:"search",validators:[s.Validators.singleCommandSettingsValidator]},{field:"seeData",validators:[s.Validators.singleCommandSettingsValidator]},{field:"sort",validators:[s.Validators.singleCommandSettingsValidator]},{field:"spotlight",validators:[s.Validators.singleCommandSettingsValidator]},{field:"insightsAnalysis",validators:[s.Validators.singleCommandSettingsValidator]},{field:"addComment",validators:[s.Validators.singleCommandSettingsValidator]},{field:"groupVisualContainers",validators:[s.Validators.singleCommandSettingsValidator]},{field:"summarize",validators:[s.Validators.singleCommandSettingsValidator]},{field:"clearSelection",validators:[s.Validators.singleCommandSettingsValidator]}]).validate(g,E,D)},m}(c.ObjectValidator);t.CommandsSettingsValidator=p;var l=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return d(m,v),m.prototype.validate=function(g,E,D){return null==g?null:v.prototype.validate.call(this,g,E,D)||new n.MultipleFieldsValidator([{field:"displayOption",validators:[s.Validators.fieldRequiredValidator,s.Validators.commandDisplayOptionValidator]},{field:"selector",validators:[s.Validators.visualCommandSelectorValidator]}]).validate(g,E,D)},m}(c.ObjectValidator);t.SingleCommandSettingsValidator=l;var u=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return d(m,v),m.prototype.validate=function(g,E,D){return null==g?null:v.prototype.validate.call(this,g,E,D)||new n.MultipleFieldsValidator([{field:"parameterPanel",validators:[s.Validators.parametersPanelValidator]}]).validate(g,E,D)},m}(c.ObjectValidator);t.PaginatedReportCommandsValidator=u},function(r,t,o){var d=this&&this.__extends||function(){var p=function(l,u){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(v[g]=m[g])})(l,u)};return function(l,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function v(){this.constructor=l}p(l,u),l.prototype=null===u?Object.create(u):(v.prototype=u.prototype,new v)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CustomThemeValidator=void 0;var n=o(3),c=o(4),s=function(p){function l(){return null!==p&&p.apply(this,arguments)||this}return d(l,p),l.prototype.validate=function(u,v,m){if(null==u)return null;var g=p.prototype.validate.call(this,u,v,m);if(g)return g;var E=[{field:"themeJson",validators:[new c.ObjectValidator]}];return new n.MultipleFieldsValidator(E).validate(u,v,m)},l}(c.ObjectValidator);t.CustomThemeValidator=s},function(r,t,o){var d=this&&this.__extends||function(){var l=function(u,v){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(m[E]=g[E])})(u,v)};return function(u,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=u}l(u,v),u.prototype=null===v?Object.create(v):(m.prototype=v.prototype,new m)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.DashboardLoadValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(l){function u(){return null!==l&&l.apply(this,arguments)||this}return d(u,l),u.prototype.validate=function(v,m,g){return null==v?null:l.prototype.validate.call(this,v,m,g)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"id",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"groupId",validators:[s.Validators.stringValidator]},{field:"pageView",validators:[s.Validators.pageViewFieldValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"embedUrl",validators:[s.Validators.stringValidator]}]).validate(v,m,g)},u}(c.ObjectValidator);t.DashboardLoadValidator=p},function(r,t,o){var d=this&&this.__extends||function(){var l=function(u,v){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(m[E]=g[E])})(u,v)};return function(u,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=u}l(u,v),u.prototype=null===v?Object.create(v):(m.prototype=v.prototype,new m)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.DatasetBindingValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(l){function u(){return null!==l&&l.apply(this,arguments)||this}return d(u,l),u.prototype.validate=function(v,m,g){return null==v?null:l.prototype.validate.call(this,v,m,g)||(v.datasetId||v.paginatedReportBindings?new n.MultipleFieldsValidator([{field:"datasetId",validators:[s.Validators.stringValidator]},{field:"paginatedReportBindings",validators:[s.Validators.paginatedReportDatasetBindingArrayValidator]}]).validate(v,m,g):[{message:"datasetBinding cannot be empty",path:(m?m+".":"")+g,keyword:"invalid"}])},u}(c.ObjectValidator);t.DatasetBindingValidator=p},function(r,t,o){var d=this&&this.__extends||function(){var p=function(l,u){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(v[g]=m[g])})(l,u)};return function(l,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function v(){this.constructor=l}p(l,u),l.prototype=null===u?Object.create(u):(v.prototype=u.prototype,new v)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ExportDataRequestValidator=void 0;var n=o(3),c=o(4),s=function(p){function l(){return null!==p&&p.apply(this,arguments)||this}return d(l,p),l.prototype.validate=function(u,v,m){if(null==u)return null;var g=p.prototype.validate.call(this,u,v,m);if(g)return g;var E=[{field:"rows",validators:[new c.NumberValidator]},{field:"exportDataType",validators:[new c.EnumValidator([0,1])]}];return new n.MultipleFieldsValidator(E).validate(u,v,m)},l}(c.ObjectValidator);t.ExportDataRequestValidator=s},function(r,t,o){var d=this&&this.__extends||function(){var C=function(y,f){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,b){S.__proto__=b}||function(S,b){for(var V in b)Object.prototype.hasOwnProperty.call(b,V)&&(S[V]=b[V])})(y,f)};return function(y,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function S(){this.constructor=y}C(y,f),y.prototype=null===f?Object.create(f):(S.prototype=f.prototype,new S)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionsValidator=t.MenuGroupExtensionValidator=t.ExtensionValidator=t.CommandExtensionValidator=t.ExtensionItemValidator=t.ExtensionPointsValidator=t.GroupedMenuExtensionValidator=t.FlatMenuExtensionValidator=t.MenuExtensionBaseValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return d(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new n.MultipleFieldsValidator([{field:"title",validators:[s.Validators.stringValidator]},{field:"icon",validators:[s.Validators.stringValidator]}]).validate(f,S,b)},y}(c.ObjectValidator);t.MenuExtensionBaseValidator=p;var l=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return d(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new n.MultipleFieldsValidator([{field:"menuLocation",validators:[s.Validators.menuLocationValidator]},{field:"groupName",validators:[s.Validators.fieldForbiddenValidator]}]).validate(f,S,b)},y}(p);t.FlatMenuExtensionValidator=l;var u=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return d(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new n.MultipleFieldsValidator([{field:"groupName",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"menuLocation",validators:[s.Validators.fieldForbiddenValidator]}]).validate(f,S,b)},y}(p);t.GroupedMenuExtensionValidator=u;var v=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return d(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new n.MultipleFieldsValidator([{field:"visualContextMenu",validators:[s.Validators.menuExtensionValidator]},{field:"visualOptionsMenu",validators:[s.Validators.menuExtensionValidator]}]).validate(f,S,b)},y}(c.ObjectValidator);t.ExtensionPointsValidator=v;var m=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return d(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"extend",validators:[s.Validators.fieldRequiredValidator,s.Validators.extensionPointsValidator]}]).validate(f,S,b)},y}(c.ObjectValidator);t.ExtensionItemValidator=m;var g=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return d(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new n.MultipleFieldsValidator([{field:"title",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"icon",validators:[s.Validators.stringValidator]},{field:"selector",validators:[s.Validators.commandExtensionSelectorValidator]}]).validate(f,S,b)},y}(m);t.CommandExtensionValidator=g;var E=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return d(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new n.MultipleFieldsValidator([{field:"command",validators:[s.Validators.commandExtensionValidator]}]).validate(f,S,b)},y}(c.ObjectValidator);t.ExtensionValidator=E;var D=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return d(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"title",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"menuLocation",validators:[s.Validators.menuLocationValidator]}]).validate(f,S,b)},y}(c.ObjectValidator);t.MenuGroupExtensionValidator=D;var h=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return d(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new n.MultipleFieldsValidator([{field:"commands",validators:[s.Validators.fieldRequiredValidator,s.Validators.commandExtensionArrayValidator]},{field:"groups",validators:[s.Validators.menuGroupExtensionArrayValidator]}]).validate(f,S,b)},y}(c.ObjectValidator);t.ExtensionsValidator=h},function(r,t,o){var d=this&&this.__extends||function(){var F=function(R,B){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,W){A.__proto__=W}||function(A,W){for(var G in W)Object.prototype.hasOwnProperty.call(W,G)&&(A[G]=W[G])})(R,B)};return function(R,B){if("function"!=typeof B&&null!==B)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function A(){this.constructor=R}F(R,B),R.prototype=null===B?Object.create(B):(A.prototype=B.prototype,new A)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.OnLoadFiltersValidator=t.OnLoadFiltersBaseRemoveOperationValidator=t.OnLoadFiltersBaseValidator=t.ConditionItemValidator=t.RemoveFiltersRequestValidator=t.UpdateFiltersRequestValidator=t.FilterValidator=t.IncludeExcludePointValueValidator=t.HierarchyFilterNodeValidator=t.HierarchyFilterValidator=t.IncludeExcludeFilterValidator=t.NotSupportedFilterValidator=t.TopNFilterValidator=t.RelativeTimeFilterValidator=t.RelativeDateFilterValidator=t.RelativeDateTimeFilterValidator=t.AdvancedFilterValidator=t.BasicFilterValidator=t.FilterValidatorBase=t.FilterDisplaySettingsValidator=t.FilterMeasureTargetValidator=t.FilterKeyHierarchyTargetValidator=t.FilterHierarchyTargetValidator=t.FilterKeyColumnsTargetValidator=t.FilterColumnTargetValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"table",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"column",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(B,A,W)},R}(c.ObjectValidator);t.FilterColumnTargetValidator=p;var l=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"keys",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringArrayValidator]}]).validate(B,A,W)},R}(p);t.FilterKeyColumnsTargetValidator=l;var u=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"table",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"hierarchy",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"hierarchyLevel",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(B,A,W)},R}(c.ObjectValidator);t.FilterHierarchyTargetValidator=u;var v=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"keys",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringArrayValidator]}]).validate(B,A,W)},R}(u);t.FilterKeyHierarchyTargetValidator=v;var m=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"table",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"measure",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(B,A,W)},R}(c.ObjectValidator);t.FilterMeasureTargetValidator=m;var g=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"isLockedInViewMode",validators:[s.Validators.booleanValidator]},{field:"isHiddenInViewMode",validators:[s.Validators.booleanValidator]},{field:"displayName",validators:[s.Validators.stringValidator]}]).validate(B,A,W)},R}(c.ObjectValidator);t.FilterDisplaySettingsValidator=g;var E=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"target",validators:[s.Validators.fieldRequiredValidator,s.Validators.filterTargetValidator]},{field:"$schema",validators:[s.Validators.stringValidator]},{field:"filterType",validators:[s.Validators.filterTypeValidator]},{field:"displaySettings",validators:[s.Validators.filterDisplaySettingsValidator]}]).validate(B,A,W)},R}(c.ObjectValidator);t.FilterValidatorBase=E;var D=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"operator",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"values",validators:[s.Validators.fieldRequiredValidator,s.Validators.anyArrayValidator]},{field:"filterType",validators:[s.Validators.basicFilterTypeValidator]},{field:"requireSingleSelection",validators:[s.Validators.booleanValidator]}]).validate(B,A,W)},R}(E);t.BasicFilterValidator=D;var h=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"logicalOperator",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"conditions",validators:[s.Validators.filterConditionsValidator]},{field:"filterType",validators:[s.Validators.advancedFilterTypeValidator]}]).validate(B,A,W)},R}(E);t.AdvancedFilterValidator=h;var C=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"operator",validators:[s.Validators.fieldRequiredValidator,s.Validators.relativeDateFilterOperatorValidator]},{field:"timeUnitsCount",validators:[s.Validators.numberValidator]},{field:"timeUnitType",validators:[s.Validators.fieldRequiredValidator,s.Validators.relativeDateTimeFilterUnitTypeValidator]},{field:"filterType",validators:[s.Validators.relativeDateTimeFilterTypeValidator]}]).validate(B,A,W)},R}(E);t.RelativeDateTimeFilterValidator=C;var y=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"includeToday",validators:[s.Validators.fieldRequiredValidator,s.Validators.booleanValidator]},{field:"timeUnitType",validators:[s.Validators.fieldRequiredValidator,s.Validators.relativeDateFilterTimeUnitTypeValidator]},{field:"filterType",validators:[s.Validators.relativeDateFilterTypeValidator]}]).validate(B,A,W)},R}(C);t.RelativeDateFilterValidator=y;var f=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"timeUnitType",validators:[s.Validators.fieldRequiredValidator,s.Validators.relativeTimeFilterTimeUnitTypeValidator]},{field:"filterType",validators:[s.Validators.relativeTimeFilterTypeValidator]}]).validate(B,A,W)},R}(C);t.RelativeTimeFilterValidator=f;var S=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"operator",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"itemCount",validators:[s.Validators.fieldRequiredValidator,s.Validators.numberValidator]},{field:"filterType",validators:[s.Validators.topNFilterTypeValidator]},{field:"orderBy",validators:[s.Validators.fieldRequiredValidator,s.Validators.filterTargetValidator]}]).validate(B,A,W)},R}(E);t.TopNFilterValidator=S;var b=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"message",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"notSupportedTypeName",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"filterType",validators:[s.Validators.notSupportedFilterTypeValidator]}]).validate(B,A,W)},R}(E);t.NotSupportedFilterValidator=b;var V=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"isExclude",validators:[s.Validators.fieldRequiredValidator,s.Validators.booleanValidator]},{field:"values",validators:[s.Validators.fieldRequiredValidator,s.Validators.includeExcludeFilterValuesValidator]},{field:"filterType",validators:[s.Validators.includeExludeFilterTypeValidator]}]).validate(B,A,W)},R}(E);t.IncludeExcludeFilterValidator=V;var M=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"hierarchyData",validators:[s.Validators.fieldRequiredValidator,s.Validators.hierarchyFilterValuesValidator]},{field:"filterType",validators:[s.Validators.hierarchyFilterTypeValidator]}]).validate(B,A,W)},R}(E);t.HierarchyFilterValidator=M;var P=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"value",validators:[s.Validators.anyValueValidator]},{field:"keyValues",validators:[s.Validators.anyArrayValidator]},{field:"children",validators:[s.Validators.hierarchyFilterValuesValidator]},{field:"operator",validators:[s.Validators.stringValidator]}]).validate(B,A,W)},R}(c.ObjectValidator);t.HierarchyFilterNodeValidator=P;var T=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"value",validators:[s.Validators.fieldRequiredValidator,s.Validators.anyValueValidator]},{field:"keyValues",validators:[s.Validators.anyArrayValidator]}]).validate(B,A,W)},R}(c.ObjectValidator);t.IncludeExcludePointValueValidator=T;var N=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||s.Validators.anyFilterValidator.validate(B,A,W)},R}(c.ObjectValidator);t.FilterValidator=N;var w=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"filtersOperation",validators:[s.Validators.fieldRequiredValidator,s.Validators.filtersOperationsUpdateValidator]},{field:"filters",validators:[s.Validators.fieldRequiredValidator,s.Validators.filtersArrayValidator]}]).validate(B,A,W)},R}(c.ObjectValidator);t.UpdateFiltersRequestValidator=w;var I=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"filtersOperation",validators:[s.Validators.fieldRequiredValidator,s.Validators.filtersOperationsRemoveAllValidator]},{field:"filters",validators:[s.Validators.fieldForbiddenValidator,s.Validators.filtersArrayValidator]}]).validate(B,A,W)},R}(c.ObjectValidator);t.RemoveFiltersRequestValidator=I;var O=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"value",validators:[s.Validators.anyValueValidator]},{field:"operator",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(B,A,W)},R}(c.ObjectValidator);t.ConditionItemValidator=O;var x=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"operation",validators:[s.Validators.fieldRequiredValidator,s.Validators.filtersOperationsUpdateValidator]},{field:"filters",validators:[s.Validators.fieldRequiredValidator,s.Validators.filtersArrayValidator]}]).validate(B,A,W)},R}(c.ObjectValidator);t.OnLoadFiltersBaseValidator=x;var j=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"operation",validators:[s.Validators.fieldRequiredValidator,s.Validators.filtersOperationsRemoveAllValidator]},{field:"filters",validators:[s.Validators.fieldForbiddenValidator,s.Validators.filtersArrayValidator]}]).validate(B,A,W)},R}(c.ObjectValidator);t.OnLoadFiltersBaseRemoveOperationValidator=j;var U=function(F){function R(){return null!==F&&F.apply(this,arguments)||this}return d(R,F),R.prototype.validate=function(B,A,W){return null==B?null:F.prototype.validate.call(this,B,A,W)||new n.MultipleFieldsValidator([{field:"allPages",validators:[s.Validators.onLoadFiltersBaseValidator]},{field:"currentPage",validators:[s.Validators.onLoadFiltersBaseValidator]}]).validate(B,A,W)},R}(c.ObjectValidator);t.OnLoadFiltersValidator=U},function(r,t,o){var d=this&&this.__extends||function(){var m=function(g,E){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,h){D.__proto__=h}||function(D,h){for(var C in h)Object.prototype.hasOwnProperty.call(h,C)&&(D[C]=h[C])})(g,E)};return function(g,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function D(){this.constructor=g}m(g,E),g.prototype=null===E?Object.create(E):(D.prototype=E.prototype,new D)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PageLayoutValidator=t.DisplayStateValidator=t.VisualLayoutValidator=t.CustomLayoutValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(m){function g(){return null!==m&&m.apply(this,arguments)||this}return d(g,m),g.prototype.validate=function(E,D,h){return null==E?null:m.prototype.validate.call(this,E,D,h)||new n.MultipleFieldsValidator([{field:"pageSize",validators:[s.Validators.pageSizeValidator]},{field:"displayOption",validators:[s.Validators.customLayoutDisplayOptionValidator]},{field:"pagesLayout",validators:[s.Validators.pagesLayoutValidator]}]).validate(E,D,h)},g}(c.ObjectValidator);t.CustomLayoutValidator=p;var l=function(m){function g(){return null!==m&&m.apply(this,arguments)||this}return d(g,m),g.prototype.validate=function(E,D,h){return null==E?null:m.prototype.validate.call(this,E,D,h)||new n.MultipleFieldsValidator([{field:"x",validators:[s.Validators.numberValidator]},{field:"y",validators:[s.Validators.numberValidator]},{field:"z",validators:[s.Validators.numberValidator]},{field:"width",validators:[s.Validators.numberValidator]},{field:"height",validators:[s.Validators.numberValidator]},{field:"displayState",validators:[s.Validators.displayStateValidator]}]).validate(E,D,h)},g}(c.ObjectValidator);t.VisualLayoutValidator=l;var u=function(m){function g(){return null!==m&&m.apply(this,arguments)||this}return d(g,m),g.prototype.validate=function(E,D,h){return null==E?null:m.prototype.validate.call(this,E,D,h)||new n.MultipleFieldsValidator([{field:"mode",validators:[s.Validators.displayStateModeValidator]}]).validate(E,D,h)},g}(c.ObjectValidator);t.DisplayStateValidator=u;var v=function(m){function g(){return null!==m&&m.apply(this,arguments)||this}return d(g,m),g.prototype.validate=function(E,D,h){return null==E?null:m.prototype.validate.call(this,E,D,h)||new n.MultipleFieldsValidator([{field:"visualsLayout",validators:[s.Validators.fieldRequiredValidator,s.Validators.pageLayoutValidator]},{field:"defaultLayout",validators:[s.Validators.visualLayoutValidator]}]).validate(E,D,h)},g}(c.ObjectValidator);t.PageLayoutValidator=v},function(r,t,o){var d=this&&this.__extends||function(){var m=function(g,E){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,h){D.__proto__=h}||function(D,h){for(var C in h)Object.prototype.hasOwnProperty.call(h,C)&&(D[C]=h[C])})(g,E)};return function(g,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function D(){this.constructor=g}m(g,E),g.prototype=null===E?Object.create(E):(D.prototype=E.prototype,new D)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PageViewFieldValidator=t.PageValidator=t.CustomPageSizeValidator=t.PageSizeValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(m){function g(){return null!==m&&m.apply(this,arguments)||this}return d(g,m),g.prototype.validate=function(E,D,h){return null==E?null:m.prototype.validate.call(this,E,D,h)||new n.MultipleFieldsValidator([{field:"type",validators:[s.Validators.fieldRequiredValidator,s.Validators.pageSizeTypeValidator]}]).validate(E,D,h)},g}(c.ObjectValidator);t.PageSizeValidator=p;var l=function(m){function g(){return null!==m&&m.apply(this,arguments)||this}return d(g,m),g.prototype.validate=function(E,D,h){return null==E?null:m.prototype.validate.call(this,E,D,h)||new n.MultipleFieldsValidator([{field:"width",validators:[s.Validators.numberValidator]},{field:"height",validators:[s.Validators.numberValidator]}]).validate(E,D,h)},g}(p);t.CustomPageSizeValidator=l;var u=function(m){function g(){return null!==m&&m.apply(this,arguments)||this}return d(g,m),g.prototype.validate=function(E,D,h){return null==E?null:m.prototype.validate.call(this,E,D,h)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(E,D,h)},g}(c.ObjectValidator);t.PageValidator=u;var v=function(m){function g(){return null!==m&&m.apply(this,arguments)||this}return d(g,m),g.prototype.validate=function(E,D,h){return null==E?null:m.prototype.validate.call(this,E,D,h)||(["actualSize","fitToWidth","oneColumn"].indexOf(E)<0?[{message:'pageView must be a string with one of the following values: "actualSize", "fitToWidth", "oneColumn"'}]:null)},g}(c.StringValidator);t.PageViewFieldValidator=v},function(r,t,o){var d=this&&this.__extends||function(){var C=function(y,f){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,b){S.__proto__=b}||function(S,b){for(var V in b)Object.prototype.hasOwnProperty.call(b,V)&&(S[V]=b[V])})(y,f)};return function(y,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function S(){this.constructor=y}C(y,f),y.prototype=null===f?Object.create(f):(S.prototype=f.prototype,new S)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.VisualizationsPaneValidator=t.SyncSlicersPaneValidator=t.SelectionPaneValidator=t.PageNavigationPaneValidator=t.FiltersPaneValidator=t.FieldsPaneValidator=t.BookmarksPaneValidator=t.QnaPanesValidator=t.ReportPanesValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return d(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new n.MultipleFieldsValidator([{field:"bookmarks",validators:[s.Validators.bookmarksPaneValidator]},{field:"fields",validators:[s.Validators.fieldsPaneValidator]},{field:"filters",validators:[s.Validators.filtersPaneValidator]},{field:"pageNavigation",validators:[s.Validators.pageNavigationPaneValidator]},{field:"selection",validators:[s.Validators.selectionPaneValidator]},{field:"syncSlicers",validators:[s.Validators.syncSlicersPaneValidator]},{field:"visualizations",validators:[s.Validators.visualizationsPaneValidator]}]).validate(f,S,b)},y}(c.ObjectValidator);t.ReportPanesValidator=p;var l=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return d(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new n.MultipleFieldsValidator([{field:"filters",validators:[s.Validators.filtersPaneValidator]}]).validate(f,S,b)},y}(c.ObjectValidator);t.QnaPanesValidator=l;var u=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return d(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]}]).validate(f,S,b)},y}(c.ObjectValidator);t.BookmarksPaneValidator=u;var v=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return d(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new n.MultipleFieldsValidator([{field:"expanded",validators:[s.Validators.booleanValidator]}]).validate(f,S,b)},y}(c.ObjectValidator);t.FieldsPaneValidator=v;var m=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return d(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]},{field:"expanded",validators:[s.Validators.booleanValidator]}]).validate(f,S,b)},y}(c.ObjectValidator);t.FiltersPaneValidator=m;var g=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return d(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]},{field:"position",validators:[s.Validators.pageNavigationPositionValidator]}]).validate(f,S,b)},y}(c.ObjectValidator);t.PageNavigationPaneValidator=g;var E=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return d(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]}]).validate(f,S,b)},y}(c.ObjectValidator);t.SelectionPaneValidator=E;var D=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return d(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]}]).validate(f,S,b)},y}(c.ObjectValidator);t.SyncSlicersPaneValidator=D;var h=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return d(y,C),y.prototype.validate=function(f,S,b){return null==f?null:C.prototype.validate.call(this,f,S,b)||new n.MultipleFieldsValidator([{field:"expanded",validators:[s.Validators.booleanValidator]}]).validate(f,S,b)},y}(c.ObjectValidator);t.VisualizationsPaneValidator=h},function(r,t,o){var d=this&&this.__extends||function(){var v=function(m,g){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var h in D)Object.prototype.hasOwnProperty.call(D,h)&&(E[h]=D[h])})(m,g)};return function(m,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function E(){this.constructor=m}v(m,g),m.prototype=null===g?Object.create(g):(E.prototype=g.prototype,new E)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.QnaInterpretInputDataValidator=t.QnaSettingsValidator=t.LoadQnaValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return d(m,v),m.prototype.validate=function(g,E,D){return null==g?null:v.prototype.validate.call(this,g,E,D)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"datasetIds",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringArrayValidator]},{field:"question",validators:[s.Validators.stringValidator]},{field:"viewMode",validators:[s.Validators.viewModeValidator]},{field:"settings",validators:[s.Validators.qnaSettingValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"groupId",validators:[s.Validators.stringValidator]}]).validate(g,E,D)},m}(c.ObjectValidator);t.LoadQnaValidator=p;var l=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return d(m,v),m.prototype.validate=function(g,E,D){return null==g?null:v.prototype.validate.call(this,g,E,D)||new n.MultipleFieldsValidator([{field:"filterPaneEnabled",validators:[s.Validators.booleanValidator]},{field:"hideErrors",validators:[s.Validators.booleanValidator]},{field:"panes",validators:[s.Validators.qnaPanesValidator]}]).validate(g,E,D)},m}(c.ObjectValidator);t.QnaSettingsValidator=l;var u=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return d(m,v),m.prototype.validate=function(g,E,D){return null==g?null:v.prototype.validate.call(this,g,E,D)||new n.MultipleFieldsValidator([{field:"datasetIds",validators:[s.Validators.stringArrayValidator]},{field:"question",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(g,E,D)},m}(c.ObjectValidator);t.QnaInterpretInputDataValidator=u},function(r,t,o){var d=this&&this.__extends||function(){var l=function(u,v){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(m[E]=g[E])})(u,v)};return function(u,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=u}l(u,v),u.prototype=null===v?Object.create(v):(m.prototype=v.prototype,new m)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ReportCreateValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(l){function u(){return null!==l&&l.apply(this,arguments)||this}return d(u,l),u.prototype.validate=function(v,m,g){return null==v?null:l.prototype.validate.call(this,v,m,g)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"datasetId",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"groupId",validators:[s.Validators.stringValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"theme",validators:[s.Validators.customThemeValidator]}]).validate(v,m,g)},u}(c.ObjectValidator);t.ReportCreateValidator=p},function(r,t,o){var d=this&&this.__extends||function(){var l=function(u,v){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(m[E]=g[E])})(u,v)};return function(u,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=u}l(u,v),u.prototype=null===v?Object.create(v):(m.prototype=v.prototype,new m)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ReportLoadValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(l){function u(){return null!==l&&l.apply(this,arguments)||this}return d(u,l),u.prototype.validate=function(v,m,g){return null==v?null:l.prototype.validate.call(this,v,m,g)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"id",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"groupId",validators:[s.Validators.stringValidator]},{field:"settings",validators:[s.Validators.settingsValidator]},{field:"pageName",validators:[s.Validators.stringValidator]},{field:"filters",validators:[s.Validators.reportLoadFiltersValidator]},{field:"permissions",validators:[s.Validators.permissionsValidator]},{field:"viewMode",validators:[s.Validators.viewModeValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"bookmark",validators:[s.Validators.applyBookmarkValidator]},{field:"theme",validators:[s.Validators.customThemeValidator]},{field:"embedUrl",validators:[s.Validators.stringValidator]},{field:"datasetBinding",validators:[s.Validators.datasetBindingValidator]},{field:"contrastMode",validators:[s.Validators.contrastModeValidator]}]).validate(v,m,g)},u}(c.ObjectValidator);t.ReportLoadValidator=p},function(r,t,o){var d=this&&this.__extends||function(){var u=function(v,m){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,E){g.__proto__=E}||function(g,E){for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(g[D]=E[D])})(v,m)};return function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function g(){this.constructor=v}u(v,m),v.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ReportParameterFieldsValidator=t.PaginatedReportLoadValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(u){function v(){return null!==u&&u.apply(this,arguments)||this}return d(v,u),v.prototype.validate=function(m,g,E){return null==m?null:u.prototype.validate.call(this,m,g,E)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"id",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"groupId",validators:[s.Validators.stringValidator]},{field:"settings",validators:[s.Validators.paginatedReportsettingsValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"embedUrl",validators:[s.Validators.stringValidator]},{field:"type",validators:[s.Validators.stringValidator]},{field:"parameterValues",validators:[s.Validators.parameterValuesArrayValidator]},{field:"datasetBindings",validators:[s.Validators.paginatedReportDatasetBindingArrayValidator]}]).validate(m,g,E)},v}(c.ObjectValidator);t.PaginatedReportLoadValidator=p,t.ReportParameterFieldsValidator=function(){function u(){}return u.prototype.validate=function(v,m,g){return null==v?null:new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"value",validators:[s.Validators.stringValidator]}]).validate(v,m,g)},u}()},function(r,t,o){var d=this&&this.__extends||function(){var l=function(u,v){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(m[E]=g[E])})(u,v)};return function(u,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=u}l(u,v),u.prototype=null===v?Object.create(v):(m.prototype=v.prototype,new m)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.SaveAsParametersValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(l){function u(){return null!==l&&l.apply(this,arguments)||this}return d(u,l),u.prototype.validate=function(v,m,g){return null==v?null:l.prototype.validate.call(this,v,m,g)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(v,m,g)},u}(c.ObjectValidator);t.SaveAsParametersValidator=p},function(r,t,o){var d=this&&this.__extends||function(){var m=function(g,E){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,h){D.__proto__=h}||function(D,h){for(var C in h)Object.prototype.hasOwnProperty.call(h,C)&&(D[C]=h[C])})(g,E)};return function(g,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function D(){this.constructor=g}m(g,E),g.prototype=null===E?Object.create(E):(D.prototype=E.prototype,new D)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.SlicerTargetSelectorValidator=t.VisualTypeSelectorValidator=t.VisualSelectorValidator=void 0;var n=o(3),c=o(4),s=o(4),p=o(1),l=function(m){function g(){return null!==m&&m.apply(this,arguments)||this}return d(g,m),g.prototype.validate=function(E,D,h){if(null==E)return null;var C=m.prototype.validate.call(this,E,D,h);if(C)return C;var y=[{field:"$schema",validators:[p.Validators.stringValidator,new s.SchemaValidator("http://powerbi.com/product/schema#visualSelector")]},{field:"visualName",validators:[p.Validators.fieldRequiredValidator,p.Validators.stringValidator]}];return new n.MultipleFieldsValidator(y).validate(E,D,h)},g}(c.ObjectValidator);t.VisualSelectorValidator=l;var u=function(m){function g(){return null!==m&&m.apply(this,arguments)||this}return d(g,m),g.prototype.validate=function(E,D,h){if(null==E)return null;var C=m.prototype.validate.call(this,E,D,h);if(C)return C;var y=[{field:"$schema",validators:[p.Validators.fieldRequiredValidator,p.Validators.stringValidator,new s.SchemaValidator("http://powerbi.com/product/schema#visualTypeSelector")]},{field:"visualType",validators:[p.Validators.fieldRequiredValidator,p.Validators.stringValidator]}];return new n.MultipleFieldsValidator(y).validate(E,D,h)},g}(c.ObjectValidator);t.VisualTypeSelectorValidator=u;var v=function(m){function g(){return null!==m&&m.apply(this,arguments)||this}return d(g,m),g.prototype.validate=function(E,D,h){if(null==E)return null;var C=m.prototype.validate.call(this,E,D,h);if(C)return C;var y=[{field:"$schema",validators:[p.Validators.fieldRequiredValidator,p.Validators.stringValidator,new s.SchemaValidator("http://powerbi.com/product/schema#slicerTargetSelector")]},{field:"target",validators:[p.Validators.fieldRequiredValidator,p.Validators.slicerTargetValidator]}];return new n.MultipleFieldsValidator(y).validate(E,D,h)},g}(c.ObjectValidator);t.SlicerTargetSelectorValidator=v},function(r,t,o){var d=this&&this.__extends||function(){var u=function(v,m){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,E){g.__proto__=E}||function(g,E){for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(g[D]=E[D])})(v,m)};return function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function g(){this.constructor=v}u(v,m),v.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PaginatedReportSettingsValidator=t.SettingsValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(u){function v(){return null!==u&&u.apply(this,arguments)||this}return d(v,u),v.prototype.validate=function(m,g,E){return null==m?null:u.prototype.validate.call(this,m,g,E)||new n.MultipleFieldsValidator([{field:"filterPaneEnabled",validators:[s.Validators.booleanValidator]},{field:"navContentPaneEnabled",validators:[s.Validators.booleanValidator]},{field:"bookmarksPaneEnabled",validators:[s.Validators.booleanValidator]},{field:"useCustomSaveAsDialog",validators:[s.Validators.booleanValidator]},{field:"extensions",validators:[s.Validators.extensionsValidator]},{field:"layoutType",validators:[s.Validators.layoutTypeValidator]},{field:"customLayout",validators:[s.Validators.customLayoutValidator]},{field:"background",validators:[s.Validators.backgroundValidator]},{field:"visualSettings",validators:[s.Validators.visualSettingsValidator]},{field:"hideErrors",validators:[s.Validators.booleanValidator]},{field:"commands",validators:[s.Validators.commandsSettingsArrayValidator]},{field:"hyperlinkClickBehavior",validators:[s.Validators.hyperlinkClickBehaviorValidator]},{field:"bars",validators:[s.Validators.reportBarsValidator]},{field:"panes",validators:[s.Validators.reportPanesValidator]},{field:"personalBookmarksEnabled",validators:[s.Validators.booleanValidator]},{field:"persistentFiltersEnabled",validators:[s.Validators.booleanValidator]},{field:"visualRenderedEvents",validators:[s.Validators.booleanValidator]},{field:"authoringHintsEnabled",validators:[s.Validators.booleanValidator]},{field:"printSettings",validators:[s.Validators.printSettingsValidator]}]).validate(m,g,E)},v}(c.ObjectValidator);t.SettingsValidator=p;var l=function(u){function v(){return null!==u&&u.apply(this,arguments)||this}return d(v,u),v.prototype.validate=function(m,g,E){return null==m?null:u.prototype.validate.call(this,m,g,E)||new n.MultipleFieldsValidator([{field:"commands",validators:[s.Validators.paginatedReportCommandsValidator]}]).validate(m,g,E)},v}(c.ObjectValidator);t.PaginatedReportSettingsValidator=l},function(r,t,o){var d=this&&this.__extends||function(){var u=function(v,m){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,E){g.__proto__=E}||function(g,E){for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(g[D]=E[D])})(v,m)};return function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function g(){this.constructor=v}u(v,m),v.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.SlicerStateValidator=t.SlicerValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(u){function v(){return null!==u&&u.apply(this,arguments)||this}return d(v,u),v.prototype.validate=function(m,g,E){return null==m?null:u.prototype.validate.call(this,m,g,E)||new n.MultipleFieldsValidator([{field:"selector",validators:[s.Validators.fieldRequiredValidator,s.Validators.slicerSelectorValidator]},{field:"state",validators:[s.Validators.fieldRequiredValidator,s.Validators.slicerStateValidator]}]).validate(m,g,E)},v}(c.ObjectValidator);t.SlicerValidator=p;var l=function(u){function v(){return null!==u&&u.apply(this,arguments)||this}return d(v,u),v.prototype.validate=function(m,g,E){return null==m?null:u.prototype.validate.call(this,m,g,E)||new n.MultipleFieldsValidator([{field:"filters",validators:[s.Validators.filtersArrayValidator]}]).validate(m,g,E)},v}(c.ObjectValidator);t.SlicerStateValidator=l},function(r,t,o){var d=this&&this.__extends||function(){var l=function(u,v){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(m[E]=g[E])})(u,v)};return function(u,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=u}l(u,v),u.prototype=null===v?Object.create(v):(m.prototype=v.prototype,new m)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TileLoadValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(l){function u(){return null!==l&&l.apply(this,arguments)||this}return d(u,l),u.prototype.validate=function(v,m,g){return null==v?null:l.prototype.validate.call(this,v,m,g)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"id",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"dashboardId",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"groupId",validators:[s.Validators.stringValidator]},{field:"pageView",validators:[s.Validators.stringValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"width",validators:[s.Validators.numberValidator]},{field:"height",validators:[s.Validators.numberValidator]}]).validate(v,m,g)},u}(c.ObjectValidator);t.TileLoadValidator=p},function(r,t,o){var d=this&&this.__extends||function(){var v=function(m,g){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var h in D)Object.prototype.hasOwnProperty.call(D,h)&&(E[h]=D[h])})(m,g)};return function(m,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function E(){this.constructor=m}v(m,g),m.prototype=null===g?Object.create(g):(E.prototype=g.prototype,new E)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.VisualHeaderValidator=t.VisualHeaderSettingsValidator=t.VisualSettingsValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return d(m,v),m.prototype.validate=function(g,E,D){return null==g?null:v.prototype.validate.call(this,g,E,D)||new n.MultipleFieldsValidator([{field:"visualHeaders",validators:[s.Validators.visualHeadersValidator]}]).validate(g,E,D)},m}(c.ObjectValidator);t.VisualSettingsValidator=p;var l=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return d(m,v),m.prototype.validate=function(g,E,D){return null==g?null:v.prototype.validate.call(this,g,E,D)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]}]).validate(g,E,D)},m}(c.ObjectValidator);t.VisualHeaderSettingsValidator=l;var u=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return d(m,v),m.prototype.validate=function(g,E,D){return null==g?null:v.prototype.validate.call(this,g,E,D)||new n.MultipleFieldsValidator([{field:"settings",validators:[s.Validators.fieldRequiredValidator,s.Validators.visualHeaderSettingsValidator]},{field:"selector",validators:[s.Validators.visualHeaderSelectorValidator]}]).validate(g,E,D)},m}(c.ObjectValidator);t.VisualHeaderValidator=u},(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnyOfValidator=void 0,t.AnyOfValidator=function(){function d(n){this.validators=n}return d.prototype.validate=function(n,c,s){if(null==n)return null;for(var p=!1,l=0,u=this.validators;l<u.length;l++)if(!u[l].validate(n,c,s)){p=!0;break}return p?null:[{message:s+" property is invalid",path:(c?c+".":"")+s,keyword:"invalid"}]},d}()},(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FieldForbiddenValidator=void 0,t.FieldForbiddenValidator=function(){function d(){}return d.prototype.validate=function(n,c,s){return void 0!==n?[{message:s+" is forbidden",path:(c?c+".":"")+s,keyword:"forbidden"}]:null},d}()},(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FieldRequiredValidator=void 0,t.FieldRequiredValidator=function(){function d(){}return d.prototype.validate=function(n,c,s){return null==n?[{message:s+" is required",path:(c?c+".":"")+s,keyword:"required"}]:null},d}()},function(r,t,o){var d=this&&this.__extends||function(){var s=function(p,l){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,v){u.__proto__=v}||function(u,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(u[m]=v[m])})(p,l)};return function(p,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=p}s(p,l),p.prototype=null===l?Object.create(l):(u.prototype=l.prototype,new u)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.MapValidator=void 0;var n=o(4);t.MapValidator=function(s){function p(l,u){var v=s.call(this)||this;return v.keyValidators=l,v.valueValidators=u,v}return d(p,s),p.prototype.validate=function(l,u,v){if(null==l)return null;var m=s.prototype.validate.call(this,l,u,v);if(m)return m;for(var g in l)if(l.hasOwnProperty(g)){for(var E=(u?u+".":"")+v+"."+g,D=0,h=this.keyValidators;D<h.length;D++)if(m=h[D].validate(g,E,v))return m;for(var y=0,f=this.valueValidators;y<f.length;y++)if(m=f[y].validate(l[g],E,v))return m}return null},p}(n.ObjectValidator)},function(r,t,o){var d=this&&this.__extends||function(){var l=function(u,v){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(m[E]=g[E])})(u,v)};return function(u,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=u}l(u,v),u.prototype=null===v?Object.create(v):(m.prototype=v.prototype,new m)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ParametersPanelValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(l){function u(){return null!==l&&l.apply(this,arguments)||this}return d(u,l),u.prototype.validate=function(v,m,g){return null==v?null:l.prototype.validate.call(this,v,m,g)||new n.MultipleFieldsValidator([{field:"expanded",validators:[s.Validators.booleanValidator]},{field:"enabled",validators:[s.Validators.booleanValidator]}]).validate(v,m,g)},u}(c.ObjectValidator);t.ParametersPanelValidator=p},function(r,t,o){var d=this&&this.__extends||function(){var E=function(D,h){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,y){C.__proto__=y}||function(C,y){for(var f in y)Object.prototype.hasOwnProperty.call(y,f)&&(C[f]=y[f])})(D,h)};return function(D,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function C(){this.constructor=D}E(D,h),D.prototype=null===h?Object.create(h):(C.prototype=h.prototype,new C)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TableDataValidator=t.TableSchemaValidator=t.ColumnSchemaValidator=t.CredentialsValidator=t.DatasourceConnectionConfigValidator=t.DatasetCreateConfigValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(E){function D(){return null!==E&&E.apply(this,arguments)||this}return d(D,E),D.prototype.validate=function(h,C,y){if(null==h)return null;var f=E.prototype.validate.call(this,h,C,y);return f||((f=new n.MultipleFieldsValidator([{field:"locale",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"mashupDocument",validators:[s.Validators.stringValidator]},{field:"datasourceConnectionConfig",validators:[s.Validators.datasourceConnectionConfigValidator]},{field:"tableSchemaList",validators:[s.Validators.tableSchemaListValidator]},{field:"data",validators:[s.Validators.tableDataArrayValidator]}]).validate(h,C,y))?f:h.datasourceConnectionConfig&&null==h.mashupDocument?[{message:"mashupDocument cannot be empty when datasourceConnectionConfig is presented"}]:h.data&&null==h.tableSchemaList?[{message:"tableSchemaList cannot be empty when data is provided"}]:null==h.data&&null==h.mashupDocument?[{message:"At least one of data or mashupDocument must be provided"}]:void 0)},D}(c.ObjectValidator);t.DatasetCreateConfigValidator=p;var l=function(E){function D(){return null!==E&&E.apply(this,arguments)||this}return d(D,E),D.prototype.validate=function(h,C,y){return null==h?null:E.prototype.validate.call(this,h,C,y)||new n.MultipleFieldsValidator([{field:"dataCacheMode",validators:[s.Validators.dataCacheModeValidator]},{field:"credentials",validators:[s.Validators.credentialsValidator]}]).validate(h,C,y)},D}(c.ObjectValidator);t.DatasourceConnectionConfigValidator=l;var u=function(E){function D(){return null!==E&&E.apply(this,arguments)||this}return d(D,E),D.prototype.validate=function(h,C,y){return null==h?null:E.prototype.validate.call(this,h,C,y)||new n.MultipleFieldsValidator([{field:"credentialType",validators:[s.Validators.credentialTypeValidator]},{field:"credentialDetails",validators:[s.Validators.credentialDetailsValidator]}]).validate(h,C,y)},D}(c.ObjectValidator);t.CredentialsValidator=u;var v=function(E){function D(){return null!==E&&E.apply(this,arguments)||this}return d(D,E),D.prototype.validate=function(h,C,y){return null==h?null:E.prototype.validate.call(this,h,C,y)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"displayName",validators:[s.Validators.stringValidator]},{field:"dataType",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(h,C,y)},D}(c.ObjectValidator);t.ColumnSchemaValidator=v;var m=function(E){function D(){return null!==E&&E.apply(this,arguments)||this}return d(D,E),D.prototype.validate=function(h,C,y){return null==h?null:E.prototype.validate.call(this,h,C,y)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"columns",validators:[s.Validators.fieldRequiredValidator,s.Validators.columnSchemaArrayValidator]}]).validate(h,C,y)},D}(c.ObjectValidator);t.TableSchemaValidator=m;var g=function(E){function D(){return null!==E&&E.apply(this,arguments)||this}return d(D,E),D.prototype.validate=function(h,C,y){return null==h?null:E.prototype.validate.call(this,h,C,y)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"rows",validators:[s.Validators.fieldRequiredValidator,s.Validators.rawDataValidator]}]).validate(h,C,y)},D}(c.ObjectValidator);t.TableDataValidator=g},function(r,t,o){var d=this&&this.__extends||function(){var l=function(u,v){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(m[E]=g[E])})(u,v)};return function(u,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=u}l(u,v),u.prototype=null===v?Object.create(v):(m.prototype=v.prototype,new m)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.QuickCreateValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(l){function u(){return null!==l&&l.apply(this,arguments)||this}return d(u,l),u.prototype.validate=function(v,m,g){return null==v?null:l.prototype.validate.call(this,v,m,g)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"groupId",validators:[s.Validators.stringValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"theme",validators:[s.Validators.customThemeValidator]},{field:"datasetCreateConfig",validators:[s.Validators.fieldRequiredValidator,s.Validators.datasetCreateConfigValidator]}]).validate(v,m,g)},u}(c.ObjectValidator);t.QuickCreateValidator=p},function(r,t,o){var d=this&&this.__extends||function(){var p=function(l,u){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(v[g]=m[g])})(l,u)};return function(l,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function v(){this.constructor=l}p(l,u),l.prototype=null===u?Object.create(u):(v.prototype=u.prototype,new v)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PrintSettingsValidator=void 0;var n=o(3),c=o(4),s=function(p){function l(){return null!==p&&p.apply(this,arguments)||this}return d(l,p),l.prototype.validate=function(u,v,m){if(null==u)return null;var g=p.prototype.validate.call(this,u,v,m);if(g)return g;var E=[{field:"browserPrintAdjustmentsMode",validators:[new c.EnumValidator([0,1])]}];return new n.MultipleFieldsValidator(E).validate(u,v,m)},l}(c.ObjectValidator);t.PrintSettingsValidator=s},function(r,t,o){var d=this&&this.__extends||function(){var l=function(u,v){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(m[E]=g[E])})(u,v)};return function(u,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=u}l(u,v),u.prototype=null===v?Object.create(v):(m.prototype=v.prototype,new m)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PaginatedReportDatasetBindingValidator=void 0;var n=o(3),c=o(4),s=o(1),p=function(l){function u(){return null!==l&&l.apply(this,arguments)||this}return d(u,l),u.prototype.validate=function(v,m,g){return null==v?null:l.prototype.validate.call(this,v,m,g)||new n.MultipleFieldsValidator([{field:"sourceDatasetId",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"targetDatasetId",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(v,m,g)},u}(c.ObjectValidator);t.PaginatedReportDatasetBindingValidator=p}],e={},function a(r){var t=e[r];if(void 0!==t)return t.exports;var o=e[r]={exports:{}};return z[r].call(o.exports,o,o.exports,a),o.exports}(0);var z,e},ve.exports=a()},709637:function(ve){ve.exports=function(z){var e={};function a(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return z[i].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}return a.m=z,a.c=e,a.p="",a(0)}([function(z,e,a){var i=a(1),r=function(){function o(d){this.handlers=d,this.getRouteRecognizer=new i,this.patchRouteRecognizer=new i,this.postRouteRecognizer=new i,this.putRouteRecognizer=new i,this.deleteRouteRecognizer=new i}return o.prototype.get=function(d,n){return this.registerHandler(this.getRouteRecognizer,"GET",d,n),this},o.prototype.patch=function(d,n){return this.registerHandler(this.patchRouteRecognizer,"PATCH",d,n),this},o.prototype.post=function(d,n){return this.registerHandler(this.postRouteRecognizer,"POST",d,n),this},o.prototype.put=function(d,n){return this.registerHandler(this.putRouteRecognizer,"PUT",d,n),this},o.prototype.delete=function(d,n){return this.registerHandler(this.deleteRouteRecognizer,"DELETE",d,n),this},o.prototype.registerHandler=function(d,n,c,s){d.add([{path:c,handler:function(u){var v=new t;return Promise.resolve(s(u,v)).then(function(m){return v})}}]),this.handlers.addHandler({test:function(u){if(u.method!==n)return!1;var v=d.recognize(u.url);if(void 0===v)return!1;var m=v[0];return u.params=m.params,u.queryParams=v.queryParams,u.handler=m.handler,!0},handle:function(u){return u.handler(u)}})},o}();e.Router=r;var t=function(){function o(){this.statusCode=200,this.headers={},this.body=null}return o.prototype.send=function(d,n){this.statusCode=d,this.body=n},o}();e.Response=t},function(z,e,a){var i;(function(r){(function(){function t(T,N,w){this.path=T,this.matcher=N,this.delegate=w}function o(T){this.routes={},this.children={},this.target=T}function d(T,N,w){return function(I,O){var x=T+I;if(!O)return new t(T+I,N,w);O(d(x,N,w))}}function n(T,N,w){for(var I=0,O=0;O<T.length;O++)I+=T[O].path.length;N=N.substr(I),T.push({path:N,handler:w})}function c(T,N,w,I){var O=N.routes;for(var x in O)if(O.hasOwnProperty(x)){var j=T.slice();n(j,x,O[x]),N.children[x]?c(j,N.children[x],w,I):w.call(I,j)}}t.prototype={to:function(T,N){var w=this.delegate;if(w&&w.willAddRoute&&(T=w.willAddRoute(this.matcher.target,T)),this.matcher.add(this.path,T),N){if(0===N.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,T,N,this.delegate)}return this}},o.prototype={add:function(T,N){this.routes[T]=N},addChild:function(T,N,w,I){var O=new o(N);this.children[T]=O;var x=d(T,O,I);I&&I.contextEntered&&I.contextEntered(N,x),w(x)}};var l=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g");function u(T){return"[object Array]"===Object.prototype.toString.call(T)}function v(T){this.string=T}function m(T){this.name=T}function g(T){this.name=T}function E(){}function D(T,N,w){"/"===T.charAt(0)&&(T=T.substr(1));var I=T.split("/"),O=new Array(I.length);w.val="";for(var x=0;x<I.length;x++){var U,j=I[x];(U=j.match(/^:([^\/]+)$/))?(O[x]=new m(U[1]),N.push(U[1]),w.val+="3"):(U=j.match(/^\*([^\/]+)$/))?(O[x]=new g(U[1]),w.val+="1",N.push(U[1])):""===j?(O[x]=new E,w.val+="2"):(O[x]=new v(j),w.val+="4")}return w.val=+w.val,O}function h(T){this.charSpec=T,this.nextStates=[],this.charSpecs={},this.regex=void 0,this.handlers=void 0,this.specificity=void 0}function y(T,N){for(var w=[],I=0,O=T.length;I<O;I++)w=w.concat(T[I].match(N));return w}function S(T){this.queryParams=T||{}}function V(T){var N;T=T.replace(/\+/gm,"%20");try{N=decodeURIComponent(T)}catch{N=""}return N}v.prototype={eachChar:function(T){for(var w,N=this.string,I=0;I<N.length;I++)w=N.charAt(I),T=T.put({invalidChars:void 0,repeat:!1,validChars:w});return T},regex:function(){return this.string.replace(l,"\\$1")},generate:function(){return this.string}},m.prototype={eachChar:function(T){return T.put({invalidChars:"/",repeat:!0,validChars:void 0})},regex:function(){return"([^/]+)"},generate:function(T){return T[this.name]}},g.prototype={eachChar:function(T){return T.put({invalidChars:"",repeat:!0,validChars:void 0})},regex:function(){return"(.+)"},generate:function(T){return T[this.name]}},E.prototype={eachChar:function(T){return T},regex:function(){return""},generate:function(){return""}},h.prototype={get:function(T){if(this.charSpecs[T.validChars])return this.charSpecs[T.validChars];for(var N=this.nextStates,w=0;w<N.length;w++){var I=N[w],O=I.charSpec.validChars===T.validChars;if(O=O&&I.charSpec.invalidChars===T.invalidChars)return this.charSpecs[T.validChars]=I,I}},put:function(T){var N;return(N=this.get(T))||(N=new h(T),this.nextStates.push(N),T.repeat&&N.nextStates.push(N)),N},match:function(T){for(var w,I,O,N=this.nextStates,x=[],j=0;j<N.length;j++)typeof(O=(I=(w=N[j]).charSpec).validChars)<"u"?-1!==O.indexOf(T)&&x.push(w):typeof(O=I.invalidChars)<"u"&&-1===O.indexOf(T)&&x.push(w);return x}},S.prototype=(Object.create||function(T){function N(){}return N.prototype=T,new N})({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var M=function(){this.rootState=new h,this.names={}};(M.prototype={add:function(T,N){for(var U,w=this.rootState,I="^",O={},x=new Array(T.length),j=[],F=!0,R=0;R<T.length;R++){var B=T[R],A=[],W=D(B.path,A,O);j=j.concat(W);for(var G=0;G<W.length;G++){var K=W[G];K instanceof E||(F=!1,w=w.put({invalidChars:void 0,repeat:!1,validChars:"/"}),I+="/",w=K.eachChar(w),I+=K.regex())}x[R]={handler:B.handler,names:A}}F&&(w=w.put({invalidChars:void 0,repeat:!1,validChars:"/"}),I+="/"),w.handlers=x,w.regex=new RegExp(I+"$"),w.specificity=O,(U=N&&N.as)&&(this.names[U]={segments:j,handlers:x})},handlersFor:function(T){var N=this.names[T];if(!N)throw new Error("There is no route named "+T);for(var w=new Array(N.handlers.length),I=0;I<N.handlers.length;I++)w[I]=N.handlers[I];return w},hasRoute:function(T){return!!this.names[T]},generate:function(T,N){var w=this.names[T],I="";if(!w)throw new Error("There is no route named "+T);for(var O=w.segments,x=0;x<O.length;x++){var j=O[x];j instanceof E||(I+="/",I+=j.generate(N))}return"/"!==I.charAt(0)&&(I="/"+I),N&&N.queryParams&&(I+=this.generateQueryString(N.queryParams,w.handlers)),I},generateQueryString:function(T,N){var w=[],I=[];for(var O in T)T.hasOwnProperty(O)&&I.push(O);I.sort();for(var x=0;x<I.length;x++){var j=T[O=I[x]];if(null!=j){var U=encodeURIComponent(O);if(u(j))for(var F=0;F<j.length;F++){var R=O+"[]="+encodeURIComponent(j[F]);w.push(R)}else U+="="+encodeURIComponent(j),w.push(U)}}return 0===w.length?"":"?"+w.join("&")},parseQueryString:function(T){for(var N=T.split("&"),w={},I=0;I<N.length;I++){var F,O=N[I].split("="),x=V(O[0]),j=x.length,U=!1;1===O.length?F="true":(j>2&&"[]"===x.slice(j-2)&&(U=!0,w[x=x.slice(0,j-2)]||(w[x]=[])),F=O[1]?V(O[1]):""),U?w[x].push(F):w[x]=F}return w},recognize:function(T){var w,I,x,N=[this.rootState],j={},U=!1;if(-1!==(x=T.indexOf("?"))){var F=T.substr(x+1,T.length);T=T.substr(0,x),j=this.parseQueryString(F)}for("/"!==(T=decodeURI(T)).charAt(0)&&(T="/"+T),(w=T.length)>1&&"/"===T.charAt(w-1)&&(T=T.substr(0,w-1),U=!0),I=0;I<T.length&&(N=y(N,T.charAt(I))).length;I++);var R=[];for(I=0;I<N.length;I++)N[I].handlers&&R.push(N[I]);N=function(T){return T.sort(function(N,w){return w.specificity.val-N.specificity.val})}(R);var B=R[0];if(B&&B.handlers)return U&&"(.+)$"===B.regex.source.slice(-5)&&(T+="/"),function(T,N,w){var I=T.handlers,x=N.match(T.regex),j=1,U=new S(w);U.length=I.length;for(var F=0;F<I.length;F++){for(var R=I[F],B=R.names,A={},W=0;W<B.length;W++)A[B[W]]=x[j++];U[F]={handler:R.handler,params:A,isDynamic:!!B.length}}return U}(B,T,j)}}).map=function(T,N){var w=new o;T(d("",w,this.delegate)),c([],w,function(I){N?N(this,I):this.add(I)},this)},M.VERSION="0.1.11";var P=M;a(3).amd?void 0!==(i=function(){return P}.call(e,a,e,r))&&(r.exports=i):typeof r<"u"&&r.exports?r.exports=P:typeof this<"u"&&(this.RouteRecognizer=P)}).call(this)}).call(e,a(2)(z))},function(z,e){z.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1),a}},function(z,e){z.exports=function(){throw new Error("define cannot be used indirect")}}])},752959:function(ve){var z;self,ve.exports=(z={},(()=>{var e=z;Object.defineProperty(e,"__esModule",{value:!0}),e.WindowPostMessageProxy=void 0;var a=function(){function i(r){void 0===r&&(r={processTrackingProperties:{addTrackingProperties:i.defaultAddTrackingProperties,getTrackingProperties:i.defaultGetTrackingProperties},isErrorMessage:i.defaultIsErrorMessage,receiveWindow:window,name:i.createRandomString()});var t=this;this.pendingRequestPromises={},this.addTrackingProperties=r.processTrackingProperties&&r.processTrackingProperties.addTrackingProperties||i.defaultAddTrackingProperties,this.getTrackingProperties=r.processTrackingProperties&&r.processTrackingProperties.getTrackingProperties||i.defaultGetTrackingProperties,this.isErrorMessage=r.isErrorMessage||i.defaultIsErrorMessage,this.receiveWindow=r.receiveWindow||window,this.name=r.name||i.createRandomString(),this.logMessages=r.logMessages||!1,this.eventSourceOverrideWindow=r.eventSourceOverrideWindow,this.suppressWarnings=r.suppressWarnings||!1,this.receivedMessageValidation=r.receivedMessageValidation,this.handlers=[],this.windowMessageHandler=function(o){return t.onMessageReceived(o)},this.start()}return i.defaultAddTrackingProperties=function(r,t){return r[i.messagePropertyName]=t,r},i.defaultGetTrackingProperties=function(r){return r[i.messagePropertyName]},i.defaultIsErrorMessage=function(r){return!!r.error},i.createDeferred=function(){var r={resolve:null,reject:null,promise:null},t=new Promise(function(o,d){r.resolve=o,r.reject=d});return r.promise=t,r},i.createRandomString=function(){var r=window.crypto||window.msCrypto,t=new Uint32Array(1);return r.getRandomValues(t),t[0].toString(36).substring(1)},i.prototype.addHandler=function(r){this.handlers.push(r)},i.prototype.removeHandler=function(r){var t=this.handlers.indexOf(r);if(-1===t)throw new Error("You attempted to remove a handler but no matching handler was found.");this.handlers.splice(t,1)},i.prototype.start=function(){var r=this;this.receiveWindow.addEventListener("message",function(t){r.isReceivedMessageValid(t)&&r.windowMessageHandler(t)})},i.prototype.stop=function(){this.receiveWindow.removeEventListener("message",this.windowMessageHandler)},i.prototype.postMessage=function(r,t){var o={id:i.createRandomString()};this.addTrackingProperties(t,o),r.postMessage(t,"*");var d=i.createDeferred();return this.pendingRequestPromises[o.id]=d,d.promise},i.prototype.sendResponse=function(r,t,o){this.addTrackingProperties(t,o),r.postMessage(t,"*")},i.prototype.isReceivedMessageValid=function(r){if(this.receivedMessageValidation){var t=this.receivedMessageValidation.expectedMessageSource,o=this.receivedMessageValidation.expectedMessageOrigin;if(t&&r.source!==t)return!1;if(o&&r.origin!==o)return!1}return!0},i.prototype.onMessageReceived=function(r){var t=this,o=this.eventSourceOverrideWindow||r.source;if(o){var n,c,d=r.data;if("object"!=typeof d)return;try{n=this.getTrackingProperties(d)}catch(l){}if(n&&(c=this.pendingRequestPromises[n.id]),c){var p=!0;try{p=this.isErrorMessage(d)}catch(l){}p?c.reject(d):c.resolve(d),delete this.pendingRequestPromises[n.id]}else this.handlers.some(function(l){var u=!1;try{u=l.test(d)}catch(m){}if(u){var v=void 0;try{v=Promise.resolve(l.handle(d))}catch(m){v=Promise.resolve()}return v.then(function(m){m||(m={warning:"Handler for message: ".concat(JSON.stringify(d,null,"  ")," did not return a response message. The default response message will be returned instead.")}),t.sendResponse(o,m,n)}),!0}})}},i.messagePropertyName="windowPostMessageProxy",i}();e.WindowPostMessageProxy=a})(),z)},3121:function(ve,z,e){e.d(z,{G:function(){return a}});class a{constructor(){this.eimInformationProtectionEditEnabled=null,this.eimInformationProtectionMandatoryLabelSettingEnabled=null,this.cesTeamsGiveUsFeedbackButton=null,this.azureMapEnabled=null,this.azureMapsEnabled=null,this.azureMapsCrossRegionDataProcessingEnabled=null,this.azureMapsThirdPartyDataProcessingEnabled=null,this.adminCustomDisclaimerEnabled=null,this.bingMapEnabled=null,this.datamartTenantEnabled=null,this.deprovisionScdInstanceEnabled=null,this.externalDatasetSharingTenantEnabled=null,this.allowCVWebAccessTenantEnabled=null,this.liveChatWithSalesEnabled=null,this.enableDatasetInPlaceSharingEnabled=null,this.removePreview_HEAD_TenantSwitcher_FE=null,this.clarityCollection=null,this.enableAOAIEnabled=null,this.enableCopilotLifecycleService=null,this.sendOrchestratorTurnId=null,this.EnableOpenAIAdminControl=null,this.RestrictAccessListsToGroupsSupport=null,this.allowCVLocalStorageV2TenantSwitch=null,this.disablePromotionalBanner=null,this.immersiveTenantAdminSwitchEnabled=null,this.microsoftOrgAppEnabled=null,this.withinDXT=null,this.liveWorkbookTiles=null,this.csvContentProviderEnabled=null,this.vsoVnextAppEnabled=null,this.excelWorkbooksInContentPackEnabled=null,this.ffxlChartSelectionEnabled=null,this.ffxlLocalFilesEnabled=null,this.sharePointDocumentLibrariesEnabled=null,this.sparkAppEnabled=null,this.psaPracticeManagerAppEnabled=null,this.anonymousEmbeddingEnabled=null,this.psaResourceManagerAppEnabled=null,this.psaAccountManagerAppEnabled=null,this.azureUsageAndBillingAppEnabled=null,this.bingAdsAppEnabled=null,this.salesforcePersonasEnabled=null,this.fullFidelityExcelEnabled=!0,this.disableAnimation=null,this.pseudoLocEnabled=null,this.includeFlightingContentProviders=null,this.exportallowed=null,this.ignoreGettingStartedPopups=null,this.insightsDevModeEnabled=null,this.snapshotEmbedEnabled=null,this.closeAccountEnabled=null,this.dataDotChartEnabled=null,this.enterpriseGatewayEnabled=null,this.enterpriseGatewayETLEnabled=null,this.quotaSmallLimitEnabled=null,this.forceFreeUserEnabled=null,this.salesforceAndOneDriveCredentialsEnabled=null,this.scriptVisualEnabled=null,this.embedFullFidelityWorkbooks=null,this.readOnlyGroupEnabled=null,this.sandboxVisualsEnabled=!0,this.pauseQueriesEnabled=null,this.sunburstVisualEnabled=null,this.cloudRlsImpersonationEnabled=null,this.cloudRlsRoleMembershipEnabled=null,this.filledMapDataLabelsEnabled=null,this.enableTableToTableRelationship=null,this.isLabelInteractivityEnabled=null,this.importPbiviz=null,this.analyzeInExcelEnabled=null,this.dataClassificationEnabled=null,this.scriptVisualAuthoringEnabled=null,this.devToolsVisualApiVersioning=null,this.insightsStoreEnabled=null,this.saasMarketplace=null,this.permissionCenterEnabled=null,this.oneGBUploadFileSizeEnabled=null,this.templatePublishFlightingWorkAroundEnabled=null,this.enableGroupAuthoring=null,this.exportVisualToExcelEnabled=null,this.showGeneratedColumnsInDetailView=null,this.alwaysPromptForContentProviderCreds=null,this.serviceAppsDisabled=null,this.builtInContentProvidersDisabled=null,this.shapeMapVisualEnabled=null,this.exportReportToPowerPointEnabled=null,this.adminAuditingEnabled=null,this.dynamicMessageEnabled=null,this.preloadLinkedDashboardEnabled=null,this.scriptVisualLaunchExternalIDEEnabled=null,this.esriEnabled=null,this.sharePointEmbedEnabled=null,this.emailSubscriptionEnabled=!0,this.downloadReportEnabled=null,this.socialSharingEnabled=!0,this.isSovereignCloud=null,this.scriptVisualAnonymousEmbeddingEnabled=null,this.analyzeInExcelSovereignFormatEnabled=null,this.appTemplatesEnabled=null,this.directQueryScheduledRefresh=null,this.previewDefaultOptIn=null,this.serviceAppsEnabled=null,this.templateAppUpgradeEnabled=null,this.useBackendFSEnabled=null,this.granularTenantControls=null,this.adminCapacityEnabled=null,this.clientUsageMetricsEnabled=null,this.pivotTableVisualEnabled=null,this.multipleODataPredicates=null,this.datasetDownloadPbix=null,this.dashboardEmailSubscription=null,this.approvedResourcesDisabled=null,this.groupCapacity=null,this.reportMeasures=null,this.customVisuals=null,this.showHiddenUsageMetricsModels=null,this.appStoreCdnOverride=null,this.onPremDirectQuerySingleSignOnForSql=null,this.onPremDirectQuerySingleSignOnForOracle=null,this.onPremDirectQuerySingleSignOnForSAP=null,this.onPremDirectQuerySingleSignOnForTeradata=null,this.cellLevelFormatting=null,this.canvasItemsPane=null,this.instantEmail=null,this.usageMetricsUpgrade=null,this.authoringCapabilitiesAdminControl=null,this.customVisualsPerformanceTelemetry=null,this.customCommands=null,this.loadBaseTheme=null,this.baseTheme=null,this.reportSharingUI=null,this.slowDataSourceModeEnabled=null,this.dsrV2=null,this.drillFilterOtherVisuals=null,this.CDSA=null,this.useBatchGeocoding=null,this.stickyUserStateUI=null,this.stickyUserStateUIThrottling=null,this.showIncrementalRefreshPolicy=null,this.cdsaFrontend=null,this.createAppWorkspaceSettingMigration=null,this.subscribeOthersUI=null,this.dashboardThemesUI=null,this.filtersInDataView=null,this.cdsaExternalStorageReferenceUI=null,this.notifyLegacyExternalUsers=null,this.insightApps=null,this.paginatedReports=null,this.annotationsUI=null,this.urlBookmarksUI=null,this.donutImprovements=null,this.dataClassification=null,this.editWorkspaceShowsRegion=null,this.comparisonODataPredicates=null,this.stickyUserStateCustomViz=null,this.multiGeoGatewaysCredentialsWarning=null,this.gatewayBasicLoadBalancing=null,this.showManageAggregations=null,this.dateODataType=null,this.nonAsciiODataNames=null,this.inODataPredicates=null,this.bookmarkGrouping=null,this.personalBookmarksUI=null,this.spoWithTutorialVisuals=null,this.securePublishToWeb=null,this.redlineAlignment=null,this.capacityWorkloads=null,this.rdlReportSharingUI=null,this.lessIntrusiveNpsDialog=null,this.cartesianConditionalFormatting=null,this.openExploreErrorDetails=null,this.onPremDirectQuerySingleSignOnForSapBw=null,this.cdsaUseMashupEditorClientLibrary=null,this.capacitySettingsTabs=null,this.copyBetweenPbix=null,this.datasetPropertiesSection=null,this.certifyDatasetsSetting=null,this.allowExploreDatasetOfApp=null,this.exportExcelExcludeMeasures=null,this.exportDataMode=null,this.capacityRestartButton=null,this.cdsaExperimentalConnectors=null,this.optimizePublishToWeb=null,this.sharedDatasetDiscovery=null,this.reportAnnotationsUI=null,this.autoShareAnnotatedArtifact=null,this.onPremDirectQuerySingleSignOnForSapBwMessageServer=null,this.scheduledSubscriptionUI=null,this.userStateBookmarkImprovements=null,this.cdsaCDMFolderReferenceUI=null,this.elevatedGuests=null,this.cdsaFolderStorageAccountUI=null,this.rdlReportJsonRplRenderer=null,this.localizationModern=null,this.workloadMetrics=null,this.removeAuthoringToolSaveButton=null,this.dashboardB2BSharingWithRegularHost=null,this.PbiDedicatedPublicXmlaEndpoint=null,this.keyDrivers=null,this.cdsaDatasetCopyUI=null,this.rolloutCapacitiesList=null,this.visualTabOrders=null,this.helpAndSupportSettings=null,this.servicePrincipalTenantAdminSettings=null,this.exportReportToPdfEnabled=null,this.newLookUI=null,this.httpServiceModern=null,this.cdsaExistingDatasetCopyUI=null,this.defaultTooltipFormatting=null,this.axisInteractivity=null,this.showDataflowsInGetData=null,this.cdsaFastCombineDefaultOffFrontend=null,this.workspacesV2GA=null,this.workspacesV2GAFeatures=null,this.cdsaStorageAccountDetachUI=null,this.dataSourceVariablesOverride=null,this.capacityBanner=null,this.workspaceCapacityManagement=null,this.userFavoriteResourcePackagesEnabled=null,this.performancePane=null,this.unreadAnnotationsBadge=null,this.paginatedReportsSubscriptions=null,this.cdsaStorageUpdateMissingParamsUI=null,this.scheduledRefreshCCNotifications=null,this.workspacesV2ViewerRole=null,this.exprBoundColorValidation=null,this.gatewayMultipleCredentials=null,this.gatewayMultipleCredentialsRDLReports=null,this.gatewayMultipleCredentialsDatapools=null,this.paneColorRefresh=null,this.dataSourceVariablesOverrideShared=null,this.disableExportDataOnVisualError=null,this.stagingRdlInApps=null,this.rdlReportInGlobalSearch=null,this.useNewCY19SU06BaseTheme=null,this.paginatedReportsSqlAzureSSO=null,this.appRepublishErrorHandlingUpdate=null,this.pbiMarketplace=null,this.tablixIcons=null,this.decompositionTree=null,this.tileEmbedHostEnvChange=null,this.dataBoundPropertiesUseThemeDefaults=null,this.contactsSettingsList=null,this.drillthroughText=null,this.keyDriversDetails=null,this.propertyEvaluationWarnings=null,this.qnaVisual=null,this.workspacesV2OptInUpgrade=null,this.workspacesV2OptInUpgradeButton=null,this.workspacesV2Downgrade=null,this.eimInformationProtectionUI=null,this.homeThumbnailUI=null,this.importJsonModel=null,this.allowCDNUrl=null,this.exprBoundAltText=null,this.disableServicePrincipalNotification=null,this.personalVisualizationPaneEnabled=null,this.newExportDataUI=null,this.newUsageMetrics=null,this.rdlGenerateLinkUI=null,this.queryApplicationContext=null,this.snapshotGenerateUI=null,this.lazyLoadAngularJS=null,this.exprBoundActions=null,this.externalSharingInvitationHostDeprecation=null,this.invitationHostDeprecation=null,this.visualMultiColumnFilterMetadata=null,this.deprecateArchivedContent=null,this.InsightsContinuationTokens=null,this.insightsContinuationTokensUX=null,this.conditionalTablixWebURL=null,this.addHostEnvHeader=null,this.kerberosDqRefresh=null,this.directToMwc=null,this.rdlBootstrapNotInDashboardService=null,this.themeDialog=null,this.subscriptionUpdatePreventionOnAnonymizedUsers=null,this.manageMarketplaceVisuals=null,this.refreshCenterHistory=null,this.refreshCenterTimetable=null,this.forceCapacityFolderAlmPipeline=null,this.adlsBasedModelTakeover=null,this.canvasZoom=null,this.pbiRSKey=null,this.umv2Upgrade=null,this.newAdminUsageMetrics=null,this.scopedAggregates=null,this.exportForPBIE=null,this.decompTreeBarsPerLevel=null,this.navAndDrillthroughActionTypes=null,this.allowSubscribingOnlyExternalUsers=null,this.modernPackageRefreshListener=null,this.emailSubscriptionV2=null,this.instantEmailSubscriptionV2=null,this.decompTreeTooltipMeasure=null,this.reusableFluentList=null,this.fluentAppListView=null,this.webNavigationMigration=null,this.saasReportIsAngular=null,this.saasReportIsAngularToThisPoint=null,this.allowGatewayForRDLWithCloudDS=null,this.decompositionTreeCoreVisual=null,this.visualInsights=null,this.useModernVisualTooltipManager=null,this.totalsConditionalFormatting=null,this.homeGettingStartedP2WSample=null,this.homeGettingStartedP2WSampleForceShow=null,this.homeGettingStartedPbixSample=null,this.updatedGetDataSamples=null,this.hideWorkspacesWidget=null,this.filteredFavoriteFrequent=null,this.discussInTeams=null,this.drillthroughButtonGA=null,this.decompositionTreeCrossHighlight=null,this.deleteSharedDatasetUi=null,this.rebindReportUi=null,this.decompositionTreeResponsiveLayout=null,this.externalTools=null,this.decompositionTreeConditionalFormat=null,this.exportReportWithExecuteScriptAsync=null,this.byoResourcesUI=null,this.byoResourcesStorageAccountUI=null,this.byoResourcesLogAnalyticsUI=null,this.discussInTeamsForDashboard=null,this.fluentTopLevelList=null,this.selfServicePurchase=null,this.fileExportPolling=null,this.openArtifactsInNewTab=null,this.d3v5=null,this.showDisableCommentingTenantSwitch=null,this.azureMapVisual=null,this.azureMapPreviewEnabled=null,this.singlePageExports=null,this.ShowQnaSettingForAllModels=null,this.qnaSupportCommitQuestionOnDemandForAll=null,this.spanishLinguisticsEnabled=null,this.qnaExportLanguageModelPackage=null,this.anomalyDetection=null,this.kustoSSO=null,this.cdpaSSO=null,this.templateAppsSimplifiedAuth=null,this.showThemeLoadError=null,this.interactivityServiceOptimization=null,this.gatewayVNets=null,this.eimInformationProtectionUsageRightsUI=null,this.eimInformationProtectionMandatoryLabelUI=null,this.allowPrivateLinksSecurityGroups=null,this.QnaInterpretVersion=null,this.reportPagePanePositionSetting=null,this.expFlightingTenantSetting=null,this.blankCanvasWatermark=null,this.decompositionAnalysisInsights=null,this.ppuTenantSettings=null,this.sendLocalDatesForSubscription=null,this.postNgMigrationCleanup=null,this.capacityGen2Create=null,this.capacityGen2Toggle=null,this.capacityGen2Notifications=null,this.autoScaleEmailNotifications=null,this.WorkspaceV1AdminUpgrade=null,this.proTrialToPPUTrialRollout=null,this.serializeSpaceOptimization=null,this.workspaceV1AdminUpgradeAll=null,this.databricksSSO=null,this.commonDataServiceSSO=null,this.capacityGen2UsageMetricsLink=null,this.disablePPUConfirmationDialog=null,this.allowSubscribeOthersWithRLS=null,this.premiumPerUserGA=null,this.qnaThumbsUpDown=null,this.cartesianMultiplesAuthoring=null,this.subscriptionOptionalPreviewImage=null,this.consolidateGroupDeleteState=null,this.analyticsRibbon=null,this.sharepointListLicensing=null,this.visualizeListInPowerBIUI=null,this.powerBIGoals=null,this.fluentListMigration=null,this.scorecardVisual=null,this.enhancedTooltips=null,this.MRUOptimizationFE=null,this.capacityAzureGen2Preview=null,this.cartesianMultiplesGridFormatting=null,this.newEmbedOnLoadFiltersFlow=null,this.teamsAnalyticsUI=null,this.automatedInsights=null,this.automatedInsightsBackgroundRefresh=null,this.sharedWithMeOptimizationFE=null,this.azureMapSelectionControl=null,this.promoteTeamsBanner=null,this.enterDataFooter=null,this.capacityGen2PaygUI=null,this.autoAssignTrial=null,this.cartesianMultiplesGridPadding=null,this.cancelTrial=null,this.accessibilityTopLevelNav=null,this.deprecateOldVisuals=null,this.hiddenContent=null,this.streamingDataflowQueryTest=null,this.useModernFormatPane=null,this.formatPaneGroups=null,this.teamsHomePivot=null,this.topLevelListsAreAngular=null,this.shapeVisual=null,this.showLiftChart=null,this.showAllGateways=null,this.daxTransformEnabled=null,this.cesNewUserDayZeroIntent=null,this.cesTest=null,this.smallMultiplesConditionalFormatting=null,this.enableSelectAllForDynamicQueryParameter=null,this.WorkplaceAnalyticsSSO=null,this.powerAutomateNativeVisual=null,this.capacityRegionalSpec=null,this.smallMultiplesSortByMeasure=null,this.teamsMobileFormatting=null,this.dataverseIntegrationUI=null,this.modernCodePaneContainer=null,this.servicePrincipalProfiles=null,this.m365DataSharingSetting=null,this.generateQesTokenPaas=null,this.SPLRegenerateModel=null,this.byolaSGWorkspacePermissionSwitch=null,this.buttonTileFormatting=null,this.visualTitleContainerPadding=null,this.capacityAzureGen2GA=null,this.learnPageSamples=null,this.capacityBannerGen2=null,this.gatewaysAdminCenterLink=null,this.azureMapHeatmapLayer=null,this.sparklines=null,this.accessibilitySlicerNav=null,this.modernGroupingDialog=null,this.textboxSuperSubScriptBulletedList=null,this.navigatorVisuals=null,this.adminPortalSurvey=null,this.eimInformationProtectionMandatoryLabelOnUploadRdlUI=null,this.InformationProtectionPublishRdlFixMandatoryFlow_HEAD_DataProtection_FE=null,this.EimInformationProtectionMandatoryLabelNewPaginatedReport=null,this.displayAdminInsights=null,this.adminInsightsOnTrident=null,this.NlToDax=null,this.EnableNLToDax=null,this.AllowSendNLToDaxDataToOtherRegions=null,this.showAllowPowerBIASDQOnTenant=null,this.useModernDatePickerSlicer=null,this.substrateDeprovisioningSetting=null,this.useCvSandboxHtmlPack=null,this.almDatamarts=null,this.allowDataMartModelAuthoringRLS=null,this.upgradeOutlineProperties=null,this.tridentCapacityUsageReport=null,this.outlineDropdownToCheckboxes=null,this.slicerAccessibility=null,this.cvAggregateUpdateMessages=null,this.showDefaultTooltip=null,this.azureMapsGeocoding=null,this.splitSubTotals=null,this.splitGrandTotals=null,this.removeDefaultToCircleToggle=null,this.bookmarkNavigatorSeparate=null,this.ProvideStaticOAuthOption=null,this.quickCreateSave=null,this.newWorkspaceTableCapacityPane=null,this.formattingPaneEnhancement=null,this.showEmbedPaasFreeTrialNotification=null,this.keyboardShortcutsLassoSelect=null,this.kustoExtension=null,this.datasetWritePermissions=null,this.MyFolderAdminAccess=null,this.MyFolderPreferredCapacity=null,this.remainingCartesianCategoryLogAxisScale=null,this.goalsDetailsUpdatedPeriodicity=null,this.visualFormattingTelemetry=null,this.myFolderPPU=null,this.slicerSliderColors=null,this.spinButtonControl=null,this.formattingPaneStoreUpdate=null,this.MyFolderConvertToAppFolder=null,this.azureMapsFilledMap=null,this.modernClipboard=null,this.interpretRequestGroupIdEnabled=null,this.subscriptionsWithFilters=null,this.categoricalSecondaryCF=null,this.a11yComplianceItaly=null,this.visualSharingEntryPointFromApp=null,this.visualSharingEntryPointOptions=null,this.azureMapsShowLabels=null,this.azureMapsCategoryLabels=null,this.qnaToolingPhrasingEditor=null,this.flexibleDimensionsMenus=null,this.updateFormattingPaneObjects=null,this.moveSlicerTypeSelection=null,this.tealTheme=null,this.useCvSandboxDynamicHtml=null,this.sjdOptimizationRetryPolicy=null,this.useAppArtifactId=null,this.azureMapsProgressiveLoading=null,this.baseThemeUpdate=null,this.validateReportTheme=null,this.vcPadding=null,this.navigatorTogglePage=null,this.azureMapsUseMapControlV3=null,this.tridentCapacitySettings=null,this.tridentCapacityWorkspaceSettings=null,this.showCapacityUnits=null,this.showCapacityUnitsForEMSku=null,this.tablixImageWidth=null,this.azureMapsConversion=null,this.showSCCGateway=null,this.certifiedVisualTelemetry=null,this.SharableCloudDatasources=null,this.officeAddInApp=null,this.hideAzureMapVisual=null,this.a11yMatrix=null,this.closeSupportTicketOrSendMessage=null,this.showAdminSupportCenter=null,this.supportCenterUseGeneratedURL=null,this.supportCenterEditTicket=null,this.supportCenterDemoMode=null,this.supportTicketFilters=null,this.SharedToMSaaS=null,this.SharedToMSaaSGetPeripheralTickets=null,this.skipJqueryCssDimensionHook=null,this.dataBarsUpdate=null,this.workspaceRecovery=null,this.AdminHardDeleteFolder=null,this.azureMapsDataResidency=null,this.capacityMetricsUpdateBanner=null,this.notebookCustomWidgets=null,this.notebookAutomaticRoute=null,this.notebookAznbWarmUp=null,this.azureMapsScreenshot=null,this.pbiExcelAddInDialogControlsInAnaheim=null,this.internalFormattingState=null,this.cardReferenceLabels=null,this.legacyLazyScoped=null,this.azureMapsLatLongPieCharts=null,this.notebookUseCapacityOfWorkspace=null,this.geocoderIndexedDB=null,this.cardVisualRefUpdate=null,this.oneLakeFabricCapacityBanner=null,this.azureMapsBubbleCluster=null,this.azureMapsMultiDataFormats=null,this.azureMapsMultiDataFormatsKeepIconURLs=null,this.matrixLayouts=null,this.ASVirtualConnectionForFabricTDS=null,this.assistedDateTable=null,this.qnaFuzzyMatch=null,this.ASDirectLakeOnOneLake=null,this.ASOneLakeDatasourceManagement=null,this.copilotErrorChatItem=null,this.notebookResourceIdFromPayload=null,this.forceEnhancedTooltips=null,this.cardVisualCFSelector=null,this.bingGeocoderIndexedDB=null,this.freeUserAccessPremiumWorkspace=null,this.restrictFreeUsersActions=null,this.notebookPrefetchAzNB=null,this.copilotPanePreviewLink=null,this.visualBorderWidth=null,this.interactivityServiceCaching=null,this.navigatorAccentBar=null,this.azureMapsCustomFormattingReferenceLayer=null,this.azureMapsCsvSupport=null,this.azureMapsDynamicReferenceLayer=null,this.cardVisualSmallMultiples=null,this.dataBoundAddingQueryExprs=null,this.visualLevelFormatStringAuthoring=null,this.visualLevelFormatStringConsumption=null,this.warehouseCapacityBanner=null,this.visualLevelFormatStringFullSupport=null,this.enableVisualCalcWithFieldParameter=null,this.enableVisualCalculationDaxTemplateMenu=null,this.useTabularLayoutForVisualCalcVisualMatrix=null,this.lineChartMarkerRendering=null,this.newMarkerProperties=null,this.advancedSlicerTypeList=null,this.AllowCopilotUserCapacity=null,this.azureMapsDataBoundReferenceLayer=null,this.dataQuestionPromptSuggestions=null,this.monacoPlaceholderWidget=null,this.textSlicer=null,this.azureMapsPathLayer=null,this.conditionalFormattingVisualCalculation=null,this.visualCalcColumnHighlight=null,this.visualLevelFormatStringExportToExcel=null,this.visualLevelFormatStringUseVBA=null,this.azureMapsPathLayerVisualCalculation=null,this.semanticModelVersioningSoP=null,this.visualThemeStylePresets=null,this.ReferenceLineShadeRegion=null,this.workspaceEncryption=null,this.workspaceEncryptionDisableAutoRefresh=null,this.workspaceEncryptionDemoMode=null,this.CMKForFabric=null,this.workspaceNetworkInbound=null,this.ipFirewall=null,this.ipFirewallDemoMode=null,this.workspaceCmkEnabled=null,this.dataQuestionTextualAnswer=null,this.dataQuestionTextualAnswerVerifiedAnswer=null,this.forceColorSchemeForIFrames=null,this.setTelemetryNameColumnWithEventName=null,this.azureMapsAutoZoomIncludesReferenceLayer=null,this.fieldParameterSort=null,this.lineChartPerCategoryColor=null,this.visualCalcInlineSelection=null,this.reportCopilotDefaultPreview=null,this.fieldParameterModelViewEntryPoint=null,this.sparklineCalculationType=null,this.cartesianAxisRevamp=null,this.visualRecommendationFormattingPresets=null,this.visualCalculationEmptyAxis=null,this.pbi_consumption_2025_06=null,this.fieldParameterExpandCollapse=null,this.scheduleParameters=null,this.feedbackMigration=null,this.visualCalculationEmbed=null,this.enforceImmersiveTenantAdminSwitch=null,this.orgThemes=null,this.webThemesGallery=null,this.removeDataflowGen2FabricPreviewTag=null,this.enableGen2DataflowsGetLatestPublishHistoryEntry=null,this.enableGen2DataflowsDocumentStagingDefinition=null,this.enableGen2DataflowsXButton=null,this.enableGen2SaveAs=null,this.enableOmitCapacityObjectIdInNewFabricDataflowHostContext=null,this.enableNewEvaluationEngine=null,this.enableConvertEditingSessionSaveAsGen2ApiCall=null,this.enableGen2DataflowsGetLatestStatus=null,this.enableGen2DataflowsFrameworkErrorDialog=null,this.enablePersonalAndSharedCloudConnections=null,this.enableFabricDataflowsShowRecentRunsInEditor=null,this.enableGen2DataflowsDiscardAndExit=null,this.enableDataflowArtifactStatusBarClickableItems=null,this.enableFabricDataflowsQueryEditorSettingsAsFlowSettingsOverride=null,this.enableGen2DataflowFallbackToGetPowerQuerySettingsWithCapacityObjectIdFromCapacityStateCheckResult=null,this.enableFabricDataflowsNewPublishAndRefreshAPIs=null,this.enableFabricDataflowCreationChoiceByDefault=null,this.enableParametricDataflowSupport=null,this.enableOpenGen2FabricDataflowAsNonOwner=null,this.DisableRetrievalOfGen2DataflowPublishedVersionOnSpecificFailuresToRetrieveDraft=null,this.disableRetrievalOfGen2DataflowPublishedVersionOnSpecificFailuresToRetrieveDraft2=null,this.enableGen2DataflowsStartFlowV2=null,this.enableGen2DataflowsLocalization=null,this.enableFabricDataflowsParallelApiInvocations=null,this.disableGen2DataflowCapacityStateCheck=null,this.textSlicerMultiselect=null,this.enableGen2DataflowsCachingTokenProvider=null,this.preloadGen2Dataflows=null,this.enableWIForLegacyDataflows=null,this.enableWIForNativeDataflows=null,this.FabricDataflows_WIAuthentication=null,this.TridentDataflowWI=null,this.updateDataflowsFrontendApiToUseObjectId=null,this.a11yShowAsMatrix=null,this.enableNewGetPowerQueryHostUrlApi=null,this.QnAMultiInstanceFiltering=null,this.QnaOverOlsModels=null,this.qnaNLToDaxFallback=null,this.qnaNLToDaxFallbackOverride=null,this.qnaNLToDaxForReportInReadMode=null,this.qnaNLToDaxExpandDialog=null,this.qnaNLToDaxNavigateWithQuery=null,this.qnaNLToDaxDisableInterpret=null,this.NLToDaxAdditionalRetry=null,this.NL2DAXTextualAnswerImprovements=null,this.shareDatamart=null,this.openWithOnDatamartType=null,this.a11yTable=null,this.newResizeSensor=null,this.queryContext=null,this.fieldParameters=null,this.fieldParametersAuthoring=null,this.fieldParametersCV=null,this.capacityMetricsGen2App=null,this.coalesceCD=null,this.exp_coalesceCD=null,this.disableScheduledRefreshForCapacityMetricsGen2=null,this.autoInstallPowerBIAppInTeamsClient=null,this.autoInstallPowerBIAppInTeamsActivesClient=null,this.storytellingSingleVisualTutorial=null,this.storytellingEasyShareEnabled=null,this.storytellingTitleSuggestion=null,this.storytellingRefreshNotification=null,this.storytellingNewExportDialog=null,this.storytellingRedeemOrgLink=null,this.storytellingUsePrintSectionReadyEvent=null,this.storytellingRestoreAnnotationFromBookmark=null,this.teamsPersonalAppSideNav=null,this.showMatDialogConfirmation=null,this.showCopilotInPersonalAppNavbar=null,this.bingMapTenantSetting=null,this.workbookModern=null,this.teamsPersonalAppTopBar=null,this.angularOnlyPermissionCenter=null,this.leadsCollection=null,this.eimInformationProtectionSupportForTridentUI=null,this.eimInformationProtectionFlyoutTrident=null,this.tridentArtifactsEndorsement=null,this.ArtifactStorageTriggerUI=null,this.tridentGit=null,this.tridentGitCheckoutBranch=null,this.tridentGitOnShared=null,this.tridentGitRdlSupport=null,this.tridentGitSwitchesDelegation=null,this.tridentGitForkBranch=null,this.tridentGitRelatedNavigation=null,this.tridentGitSwitchBranchDeletedBranchUI=null,this.passReportIdToOnloadBookmark=null,this.disableBatchTilesDataUpdates=null,this.showWorkspaceUpgradeEmailTenantSetting=null,this.showWorkspaceUpgradeEmptyTenantSetting=null,this.noEmptyUpdateEmbed=null,this.noEmptyUpdate=null,this.browse=null,this.browseMenu=null,this.useTridentErrorDialog=null,this.newZoomControl=null,this.BlockWorkspaceV1Creation=null,this.enableGen2DataflowsForSharedWorkspaces=null,this.enableGen2DataflowsDraft=null,this.enablePublishGen2DataflowWithParams=null,this.enableHostPublishErrorMessagesForGen2Dataflows=null,this.dataflowsPauseConsecutivlyFailingDataflowRefreshes=null,this.logDataflowGen2MenuItemInformation=null,this.logDataflowsDebugInfo=null,this.dataQuestionUseDataModelDescription=null,this.dataQuestionUseCustomInstructions=null,this.disableRetrievalOfGen2DataflowPublishedVersionOnFailureToRetrieveDraft=null,this.enableGen2DataflowsSaveIndicator=null,this.enableQueryOutputDestinations=null,this.enableCopilotInGen2Dataflows=null,this.enableCopilotInFabricDataflows=null,this.enableCopilotStatusPaneInFabricDataflows=null,this.enableFabricDataflowsCheckValidationStatus=null,this.enableDataflowGen2CreationProgress=null,this.enableQuickQueryInFabricDataflows=null,this.enableSupportWorkspacePrivateLinksInFabricDataflows=null,this.enableFastCopyByDefault=null,this.enableGen2EndpointsForDataflows=null,this.enableGen2LegacyDataflowsSaveAs=null,this.enableGen1DataflowsSaveAs=null,this.enableDataflowArtifactStatusBar=null,this.enableCancelRefreshForGen2Dataflows=null,this.enableSharedNewGen2DataflowDialog=null,this.mobileDirectToMwcConnection=null,this.mobileSkipPreloadConceptualSchema=null,this.mobileExplorationProxyContractAdapter=null,this.upsellDataflowGen2=null,this.enableMashupEditorBasedAuthoringForDataflows=null,this.visualCoreInitialCheck=null,this.singleGoalVisual=null,this.rlsEditor=null,this.isDownloadFilesInOfficeEnabled=null,this.isDownloadFilesInOutlookEnabled=null,this.quickExploreMultiTable=null,this.isViewFullScreenInOfficeEnabled=null,this.isViewFullScreenInOutlookEnabled=null,this.isMetaOSStandardClientReportingEvent=null,this.aasMigration=null,this.tooltipsToOverlay=null,this.oneDriveSave=null,this.oneDriveShare=null,this.oneDriveSharePointAllowSharingTenantSetting=null,this.oneDriveViewerShare=null,this.oneDriveViewerWaveOne=null,this.oneDriveViewerWaveTwo=null,this.oneDriveViewerAutoTrial=null,this.oneDriveSharePointViewerLiveConnectSupport=null,this.displayKustoAdminSettings=null,this.adminGroupApiDatamart=null,this.reportEmbedShowKeyboardHint=null,this.aasReportRebind=null,this.defaultAggrDisplayName=null,this.datamartRefreshHistory=null,this.allowCustomVisualsOnReportEmbedExport=null,this.allowCustomVisualsOnDashboardModernExport=null,this.allowCustomVisualsForCopyPasteVisual=null,this.getDataCSVConnector=null,this.ASShareableCloudConnectionBindingSecurityMode=null,this.quickCreateNewImport=null,this.delayGroupMetadataForQC=null,this.fabricArtifactsInCreate=null,this.reportAuthoringCopilot=null,this.customCalendars=null,this.supportUDFs=null,this.rlsSwitchReportEnabled=null,this.formattingRibbon=null,this.workspaceTemplateAndDiagram=null,this.OneLakeUXS3Cache=null,this.OneLakeUXCacheRetentionPeriod=null,this.OneLakeUXResetCache=null,this.newManageRelationshipDialog=null,this.buttonSlicer=null,this.buttonSlicerAuthoring=null,this.modernGetDataM0=null,this.ODSPRefreshEnforcementUI=null,this.pivotTableOnMobileShowAsTable=null,this.ASFixedIdentityByDatasourceBindingState=null,this.allowDirectLakeDataValidation=null,this.showWorkspaceSettingsV2=null,this.clearComponentOnDestroy=null,this.adminPortalDataPolicies=null,this.networkSettingsDataPolicies=null,this.backupVaultsUI=null,this.adminPortalHamburgerMenu=null,this.adminPortalUMBanner=null,this.deprecateAdminPortalUM=null,this.adminPortalUMPredeprecationLandingPage=null,this.adminPortalUMPostdeprecationLandingPage=null,this.adminPortalUMEmbeddedReport=null,this.umv2DeprecationBanner=null,this.showTASDeprecationBanner=null,this.tasDeprecated=null,this.drillStateToggleable=null,this.oneLakeWorkspaceSettings=null,this.datasetSummaryCopilot=null,this.almNewUi=null,this.workspaceSettingsV3=null,this.disallowLongRunningQueries=null,this.supportLargeStorageModePbixDownload=null,this.immersiveCopilotContextSelection=null,this.immersiveCopilotReportContentSkill=null,this.immersiveCopilotReportContentAnnotations=null,this.immersiveCopilotReportContentInlineVisuals=null,this.immersiveCopilotDisableExpandVisual=null,this.immersiveCopilotAnnotationEntitiesInChat=null,this.immersiveCopilotAnnotationEntitiesInChatInput=null,this.immersiveCopilotAISkillToolConsolidation=null,this.immersiveCopilotEnhancedCitations=null,this.immersiveCopilotAppsIntegration=null,this.immersiveCopilotM3Prompting=null,this.immersiveCopilotPersonalBookmarks=null,this.immersiveCopilotFabricNavBar=null,this.immersiveCopilotSlimPicker=null,this.immersiveCopilotUseContext=null,this.immersiveCopilotPushAccess=null,this.immersiveM365HandoffTesting=null,this.immersiveCopilotRedesignZeroPrompt=null,this.unpreppedArtifactWarning=null,this.immersiveCopilotVisualInCitations=null,this.SkipCopilotCapacitySkuRequirements=null,this.trialCapacityFAQ=null,this.embedGetIncludeExcludeMultiTargetsFilter=null,this.DetermineIsCloudMonikerDatasourceByOnPremGatewayRequired=null,this.getAvailableGatewaysV2=null,this.rlsExternalReportImpersonationEnabled=null,this.tridentGitGitHubApis=null,this.tridentGitAdoCrossTenant=null,this.tridentGitAdoCrossTenantAuthenticationDialog=null,this.tridentGitSubfolders=null,this.fabricGitStatusAsync=null,this.downloadPbixAsync=null,this.DirectLakeAutoSyncNotificationUI=null,this.visualCalculationOnComboChart=null,this.newArcSelectionAPI=null,this.irisMessageBar=null,this.getIrisNotificationWithClusterCountryCode=null,this.upgradeLegacyReportToPBIR=null,this.restoreToExpV1UIFlow=null,this.valueFilterBehavior=null,this.tourOnReport=null,this.workloadAnnouncement=null,this.FabricLicensingRulesets=null,this.setAccessTokenThrottling=null,this.azureMapsDefaultOn=null,this.cardVisualSmallMultiplesUpdate=null,this.azureMapsEnsureScreenshotInService=null,this.supportTrialSizeUpgradeInAdminPortal=null,this.appCopilotQnaFallback=null,this.NotebookCopilotV2UI=null,this.UseVerifiedAnswersWithLlmParser=null,this.verifiedAnswersZeroPrompt=null,this.VerifiedAnswers_UseSemanticMatchFirst=null,this.VerifiedAnswers_FilterFramingImprovement=null,this.azureMapsCustomMarkers=null,this.tridentAlm_Map=null,this.cosmosDbValueIndex=null,this.DataAgentEnableDataSourceInstructions=null,this.dataAgentViewAnswerDetails=null,this.modelEndpointUI=null,this.modelEndpointAPIV2=null,this.DataAgentUnstructuredData=null,this.cardVisualGAM0=null,this.buttonSlicerGA=null,this.newDataAgentSetupSwitch=null,this.DataAgentDeepLinks=null,this.dataAgentTabbedLayout=null,this.fabricThemeTokens=null,this.cartesianAxisNiceControl=null,this.showWorkspaceBCDRStatus=null,this.displayFramingTransientError=null,this.bypassTridentTsValidation=null,this.projectTridentOverall=null,this.tridentPortalByDefault=null,this.displayProjectTridentUIEnabled=null,this.fabricGAWorkloadsEnabled=null,this.forceEnableClassicArtifacts=null,this.tridentIgnorePreviewArtifacts=null,this.tridentFreeLicenseAllowances=null,this.blockNonCompliantArtifactCreation=null,this.createArtifactPanel_variantA=null,this.createArtifactPanel_variantB=null,this.trialInviteFlowExperiment_groupA=null,this.trialInviteFlowExperiment_groupB=null,this.migrationEntrySample=null,this.tridentMultitasking=null,this.tridentMultitaskingHorizontal=null,this.tridentMultitaskingObjectExplorer=null,this.tridentMultitaskingOpenInBackground=null,this.tridentMultitaskingUnpinUnintegratedArtifacts=null,this.tridentMultitaskingDataflows=null,this.tridentMultitaskingDataflowsExperience=null,this.tridentMultitaskingDeploymentPipelines=null,this.tridentMultitaskingExternalFunctions=null,this.tridentMultitaskingFabricDataflows=null,this.tridentMultitaskingFunctionSet=null,this.tridentMultitaskingGraphQL=null,this.tridentMultitaskingHLSCohort=null,this.tridentMultitaskingHomeOne=null,this.tridentMultitaskingMLExperiment=null,this.tridentMultitaskingMLModel=null,this.tridentMultitaskingMountedRelationalDatabase=null,this.tridentMultitaskingOperationalAgents=null,this.tridentMultitaskingPipeline=null,this.tridentMultitaskingKeepOnRefresh=null,this.tridentMultitaskingLakehouse=null,this.tridentMultitaskingReflexProject=null,this.tridentMultitaskingSQLDbNative=null,this.tridentMultitaskingEventStream=null,this.tridentMultitaskingCosmosDbNative=null,this.tridentMultitaskingEventSchemaSet=null,this.tridentProductApiPlayground=null,this.tridentProductDatabases=null,this.tridentProductDataEngineering=null,this.tridentProductDataIntegration=null,this.tridentProductDataScience=null,this.tridentProductDataWarehouse=null,this.tridentProductDigitalOperations=null,this.tridentProductBusinessSolutions=null,this.tridentProductFunction=null,this.tridentProductGraph=null,this.tridentProductKusto=null,this.tridentProductMicrosoftSupplyChainCenter=null,this.tridentProductReflex=null,this.tridentRouterOutletDisabled=null,this.sampleWidget=null,this.MountedCosmosdb=null,this.MountedSQLdb=null,this.MountedSnowflakedb=null,this.MountedOracledb=null,this.MountedGoogleBigQuerydb=null,this.MountedAzureSQLdb=null,this.MountedGenericDB=null,this.MirroredSapCdc=null,this.MirroredSap=null,this.MountedPostgreSqlFlexibleServer=null,this.MountedMySQLFlexibleServer=null,this.MountedAzureSQLManagedInstance=null,this.tridentDataflowGen2Experimental=null,this.enableGen2DataflowsInPowerBI=null,this.enableGen2DataflowsInTrident=null,this.enableGen2DataflowsIncrementalRefresh=null,this.forceEnableGen2DataflowsInTrident=null,this.usePPDFConnector=null,this.useTridentThemeInPowerBIGen2Dataflows=null,this.enableTrialSignUpForGen2Dataflows=null,this.dataflowGen2GASwitch=null,this.checkForGen2DataflowThrottling=null,this.useOnlyEditFlowsForGen2Dataflows=null,this.oneLakeUXS3Shortcut=null,this.oneLakeUXGCPShortcut=null,this.oneLakeUXAzureBlobsShortcut=null,this.oneLakeUXS3CompatibleShortcut=null,this.oneLakeUXShortcutApiV2=null,this.oneLakeUXAdlsPowerQueryFirewallByPass=null,this.oneLakeUXAdlsStoredCredentials=null,this.oneLakeUXShortcutNotifications=null,this.oneLakeUXS3StoredCredentials=null,this.oneLakeUXGCPStoredCredentials=null,this.oneLakeUXS3CompatibleStoredCredentials=null,this.oneLakeUXAzureBlobsStoredCredentials=null,this.oneLakeUXBrowseInShortcut=null,this.oneLakeUXShowKustoInBrowse=null,this.oneLakeUXDataverseShortcut=null,this.oneLakeUXDatabricksShortcut=null,this.oneSecurityPublicUXContract=null,this.SchemaSupportForArtifactInUsec=null,this.allowDataVerseConnectionPassthrough=null,this.oneLakeUXShowDWInBrowse=null,this.oneLakeUXShowDatasetInBrowse=null,this.oneLakeUXShowMountedDatabaseInBrowse=null,this.oneLakeUXShowUnityCatalogInBrowse=null,this.oneLakeUXShowSqlDbNativeInBrowse=null,this.oneLakeUXAzureBlobBrowseAtAccountLevel=null,this.oneLakeUXPQGatewaySettingsForADLS=null,this.oneLakeUXPQGatewaySettingsForDataverse=null,this.oneLakeUXPQGatewaySettingsForGCP=null,this.oneLakeUXPQGatewaySettingsForS3=null,this.oneLakeUXPQGatewaySettingsForAzureBlobs=null,this.OneLakeUXParquetToDeltaTransform=null,this.OneLakeUXIcebergShortcutRename=null,this.OneLakeUXJsonToDeltaTransform=null,this.onelakeUXPQADLSExistingConnections=null,this.onelakeUXPQS3ExistingConnections=null,this.onelakeUXPQGCPExistingConnections=null,this.onelakeUXPQS3CompatibleExistingConnections=null,this.onelakeUXPQAzureBlobsExistingConnections=null,this.onelakeUXPQDataverseExistingConnections=null,this.oneLakeUXReplaceTridentDomain=null,this.onelakeOrphanedConnections=null,this.onelakeShortcutEnableCache=null,this.enableSearchInSettings=null,this.storytellingSmartNarrative=null,this.storytellingSlideshowAutoRefresh=null,this.storytellingCustomRequestAccess=null,this.storytellingResetDialog=null,this.storytellingChangeViewModeShortcuts=null,this.storytellingMsaDialog=null,this.appArtifactLevelSecurity=null,this.embedExitToHostShortcut=null,this.UnpublishOrgAppViaSprocFE=null,this.visualCalculations=null,this.visualCalculationsAuthoring=null,this.onObjectTemplateFlyout=null,this.operationalAgentsShouldShowInOneLakeCatalog=null,this.reflexObjectCreation=null,this.reflexBottomPane=null,this.reflexEmailPolicyCreation=null,this.reflexMetric=null,this.reflexMultitagging=null,this.reflexShowEventHub=null,this.reflexShowEventstreamUI=null,this.reflexNewMetricApi=null,this.reflexNewNav=null,this.reflexNewSimulator=null,this.reflexPBI=null,this.reflexPropertyTemplate=null,this.reflexTeamsAction=null,this.reflexPowerAutomateAction=null,this.reflexEditPowerAutomateAction=null,this.reflexICMAction=null,this.reflexFabricJobAction=null,this.reflexFabricActionParameters=null,this.reflexFabricItemsReauth=null,this.reflexEnrichmentComponent=null,this.reflexV2=null,this.reflexSimulatorCreation=null,this.reflexSimulatorSkipStopTime=null,this.copyAsMappingDataFlow=null,this.reflexLiveEngine=null,this.reflexMultiGeoApi=null,this.reflexMultiGeoRSA=null,this.reflexMultiTasking=null,this.reflexShortFetch=null,this.reflexShortRefresh=null,this.reflexAdvancedObjectCreation=null,this.reflexMonitorMode=null,this.reflexTemplateCanvas=null,this.reflexTimeAxis=null,this.reflexAlertMe=null,this.reflexTriggerCondition=null,this.reflexWelcomePage=null,this.reflexPBICoachMark=null,this.reflexPBIMultiDimension=null,this.reflexPBITextMeasure=null,this.reflexPBIToolbar=null,this.reflexMultiEvents=null,this.reflexConvertTrigger=null,this.reflexShowTemplateEvent=null,this.reflexPBIPaneExp=null,this.reflexPBIButtonExp_variantA=null,this.reflexPBIButtonExp_variantB=null,this.reflexPBIButtonExp_variantC=null,this.reflexPBIButtonExp_variantD=null,this.reflexPBIButtonExp_variantE=null,this.reflexPBIButtonExp_variantF=null,this.reflexPBIPaneExpOn=null,this.reflexPBIRecipientsInputEnabled=null,this.reflexPBIRecipientsInputExp=null,this.reflexPBIVisualContextEntry=null,this.reflexPBIVisualToolbarEntry=null,this.reflexPBIAlertCreatedSurvey=null,this.reflexPBIAlertDiscardSurvey=null,this.reflexPBIAlwaysShowSurveys=null,this.reflexPBIArtifact=null,this.reflexPBIArtifactV2=null,this.reflexPBIHideArtifactV1=null,this.reflexPBIOneClick=null,this.reflexPBIFollowVisual=null,this.reflexPBIFabricTrial=null,this.reflexPBIDashboardEntry=null,this.reflexPBIGA=null,this.reflexPBISubscriptionsEntry=null,this.reflexPBISurveyExposureHighIncrease=null,this.reflexPBISurveyExposureLowIncrease=null,this.reflexPBIOneClickFabricTrial=null,this.reflexPBIRefreshTokenV2=null,this.reflexPBIV2=null,this.reflexPBIDelayArtifactCreation=null,this.reflexPBIDelayTrialArtifactCreation=null,this.reflexPBIReuseTrialCapacity=null,this.reflexPBIShowAll=null,this.reflexPBIUseExtensionHost=null,this.reflexPBINewExpressivityTemplateVersion=null,this.reflexGetEventsWizard=null,this.reflexAnomalyDetection=null,this.reflexAnomalyDetectionV2=null,this.reflexTriggerPane=null,this.reflexFirstRunExperience=null,this.reflexMultiConditionEventTrigger=null,this.reflexReauth=null,this.reflexAutoTrialSignupV2=null,this.reflexPBINewCertifiedEvents=null,this.reflexPBIDisableUpdateRuleCertifiedEvent=null,this.reflexOnrampContainersReadonly=null,this.reflexTrialTermsAndConditions=null,this.reflexPBIAdvancedAlertsReadOnly=null,this.reflexPBILightWeightArtifactCreation=null,this.reflexAdvancedPbiOnrampAlerts=null,this.reflexAdvancedNonPbiOnrampAlerts=null,this.reflexManageSourceRunQueryEvery=null,this.reflexRtpOneMinuteCronFrequency=null,this.reflexSimpleRuleAdvancedAction=null,this.reflexSimpleRuleCreation=null,this.reflexSimpleRuleFabricJob=null,this.reflexTeamsChatAction=null,this.reflexTeamsChannelAction=null,this.reflexUseLatestGrammarVersion=null,this.reflexTriggerPaneV2DataPipeline=null,this.reflexActivationEntryPoint=null,this.reflexOcvActivatorActions=null,this.reflexSparkJob=null,this.reflexUdf=null,this.rtpPupr=null,this.rtpEventstreamPush=null,this.rtpNewExpressivityTemplateVersion=null,this.takeoverDatamart=null,this.createGen2CapacityByDefault=null,this.tridentUserDefinedSparkPool=null,this.notebookOptimizeResourceValidate=null,this.notebookServiceWorker=null,this.notebookHighConcurrency=null,this.sparkRuntimeVersion1_1=null,this.sparkRuntimeVersion1_2=null,this.notebookFixedAznbBundleVersion=null,this.notebookAznbBundleVersion16=null,this.tridentNotebookAznbFixedVersion=null,this.tridentAznbAutosaveFallback=null,this.tridentNotebookContentSaveMonitor=null,this.tridentNotebookSaveGuarantee=null,this.tridentNotebookMetadataUpdate=null,this.tridentNotebookCommentTagAccessCheck=null,this.tridentNotebookNormalizedSessionState=null,this.tridentNotebookLiveVersioning=null,this.tridentNotebookContentSizeMonitor=null,this.tridentNotebookLanguageGroupSwitchCheck=null,this.tridentNotebookSaveLeaderReEvaluation=null,this.tridentSparkAutotuneInMetrics=null,this.tridentSparkMetrics=null,this.tridentSparkCompareRun=null,this.tridentTSQLNotebook=null,this.tridentJupyterNotebook=null,this.tridentNewSparkUIHost=null,this.tridentSparkAdvisorFeedbackSystem=null,this.modelingNotebookCleanUp=null,this.tsqlInPythonNotebook=null,this.tridentNotebookBroadcastExternalEditInfo=null,this.tridentNotebookSaveLeaderYield=null,this.tridentNbSetDefaultWarehouseInJupyterKernel=null,this.tridentNotebookFullSizeModeOnCell=null,this.useReactParameterPane=null,this.useTablixImageFields=null,this.datamartsVisualQuerySingleRibbon=null,this.useStandaloneImagesV2=null,this.azureMapsSasToken=null,this.tridentInTeams=null,this.irisUserDays=null,this.consolidatedMessageBar=null,this.activityBasedTimeout=null,this.abtReLoginPage=null,this.appsPageReflow=null,this.eimSensitivityDropdownCreateReactComponent=null,this.tridentUniversalSecurity=null,this.tridentOneLakeSecurity=null,this.mobileClientQueryCache=null,this.mobileAutoReportLayout=null,this.disableLegacyBootstrapForDataset=null,this.useNpsNewUrlOrigin=null,this.useAzureMapsBackend=null,this.cfStrings=null,this.assistedCreationPane=null,this.insightsCancellation=null,this.homeMigrateGettingStartedSample=null,this.scorecardCompactView=null,this.tridentArtifactsSettingsPane=null,this.interactiveMobileCanvas=null,this.mobileVcObjectsProxyFormFactorChange=null,this.mobileVcObjectsProxySelectPopOut=null,this.pbiTooltipWebView2=null,this.modelExplorer=null,this.fluentDataPane=null,this.capacitySettingsExtensions=null,this.capacitySettingsExtensionsPrototype=null,this.tridentHelpPane=null,this.tridentHelpPaneDebug=null,this.reportCreationCopilot=null,this.pbiLLMService=null,this.reportCreationCopilotV2Flow=null,this.capacityBCDR=null,this.workspaceIdentityUI=null,this.workspaceIdentityUIDemoMode=null,this.workspaceIdentityToggleUsage=null,this.workspaceIdentityDisableCapacityCheck=null,this.fabricIdentitiesTable=null,this.fabricIdentitiesDemoMode=null,this.FabricIdentitySharing=null,this.fabricIdentitiesUserAssignedTable=null,this.workspacePrivateEndpoints=null,this.privateEndpointsDemoMode=null,this.RestrictOutBoundPEFromF64=null,this.schemaReduction=null,this.requestParallelEmbedding=null,this.rdlParamAuthoring=null,this.useLayoutEditor=null,this.parameterControlsUpdate=null,this.artifactCloudConnections=null,this.tridentEnvironmentBuiltInLibrary=null,this.tridentEnvironmentGetLMLibsFromPlatform=null,this.tridentMonitoringArtifactMonitoringApi=null,this.tridentEnvironmentPrivateCondaChannel=null,this.tridentEnvironmentRefreshTokenBeforePublish=null,this.tridentEnvironmentExternalRepositories=null,this.tridentEnvironmentLMNewSnapshotApiSupport=null,this.fabricSparkMonitoringCtid=null,this.tridentMultitaskingGraph=null,this.enableOrgAppExplorationV2=null,this.useCvSandboxCspIframe=null,this.rdlVisualReact=null,this.sjdRSupport=null,this.datamartTypesInMRU=null,this.layerOrderPanePbiTree=null,this.storytellingRecommendationUI=null,this.storytellingRecommendationLayout=null,this.datamartTypesInFavorites=null,this.datamartTypesFilepathProperties=null,this.warehouseQueryMonitoring=null,this.quickExploreFieldListMigration=null,this.rdlVirtualizeTables=null,this.almSubfolders=null,this.almCustomizedPipelines=null,this.almFolderContributorDeployments=null,this.increaseOrgAppAudiences=null,this.orgAppDeprecation=null,this.editConnectionFlow=null,this.visualDatapointAnnotations=null,this.consistentPipelineCreation=null,this.consistentDBTItemCreation=null,this.touchScreenOptimizedTooltips=null,this.usageMetricsRetroactiveDisable=null,this.trackUserInfo=null,this.reportLoadIndicator=null,this.cdsaSendEmailOnRefreshFailureUI=null,this.networkStatusNotification=null,this.skipTestConnection=null,this.smartAlertTenantAdminSettings=null,this.cdsaEntitiesRelationships=null,this.removeDataflowPreviewTag=null,this.queryCancellation=null,this.capacityWorkloadMemoryControls=null,this.addPreviewTagToAttachExternalDataflow=null,this.emailSubscriptionTenantAdminSettings=null,this.newDSCompInDataset=null,this.telemetryV2=null,this.skipTestConnectionOnPrem=null,this.northStarBreadcrumb=null,this.managedIdentityAuthorizationTenantAdminSettings=null,this.singleSignOnTestConnection=null,this.disableVisualInDesktopRS=null,this.eimInformationProtectionLicenseEnforcementUI=null,this.copyVisualImage=null,this.showDisableOutboundFlows=null,this.exportPbixForGeneratedModelsUI=null,this.modelingServiceGenerateModel=null,this.personalizeVisualUnifiedFieldList=null,this.artifactEndorsementFeatureUI=null,this.streamingDataflow=null,this.quickCreate=null,this.datamart=null,this.redirectDatamartToDatawarehouse=null,this.redirectDatamartToDatawarehouseWithFabricMessaging=null,this.datamartQueryEditor=null,this.savedQueries=null,this.warehouseCrossDbQueries=null,this.sqlQueryTemplates=null,this.datamartObjectContainerRefresh=null,this.datamartIncrementalRefresh=null,this.easySharingTenantUI=null,this.easySharingProtectionLabelsTenantUI=null,this.verboseTelemetry=null,this.quickCreateSharepointList=null,this.largeFilesUI=null,this.lineageShowCompositeModelsRelationship=null,this.fluentAppsContainer=null,this.modernRLSContainer=null,this.enableHybridTables=null,this.newDatahubDiscoverPage=null,this.datahubLastAccessColumn=null,this.datamartsTransientModel=null,this.lakehouseModeling=null,this.datamartSqlRefresh=null,this.readonlyDatamart=null,this.newDataset=null,this.autoGenerateBIModelDiagram=null,this.teamsBackButtonHandler=null,this.teamsLastVisitedURLApp=null,this.teamsThrottledSave=null,this.teamsAppCaching=null,this.teamsLastVisitedURLTab=null,this.teamsBackButtonNotification=null,this.copilotAddDefaultSchemaAggregationInSerializedDataset=null,this.useTeamsTokenRefreshServiceV2=null,this.dmtsInL1_HEAD_Datahub_FE=null,this.thirdPartyArtifactsInL1_HEAD_Datahub_FE=null,this.sharedQueries=null,this.datamartEndorsement=null,this.homeOneArtifactsInDatahubL1=null,this.tridentArtifactL2=null,this.shouldShowOwnerPhotoDatahubTable_HEAD_DataHub_CompactView_FE=null,this.sqlDatabaseEnabled_HEAD_Datahub_FE=null,this.hostDetailsRequired_HEAD_Datahub_FE=null,this.workspaceNavigationEnabled_HEAD_DataHub_CompactView_FE=null,this.dmtsConnections_HEAD_CompactView_FE=null,this.injectedData_HEAD_CompactView_FE=null,this.appMetadataSlimEffects_HEAD_DataHub_Embed_FE=null,this.favoritesArtifacts_HEAD_CompactView_FE=null,this.dynamicParameters=null,this.eimInformationProtectionExportPbixUI=null,this.skipRequiredDatsourceCredentials=null,this.compositeModelsOverAS=null,this.allowAsyncModelAuthoring=null,this.validateSortByColumnByTypescript=null,this.main_HEAD_PurviewHub_BE_FE=null,this.deprecate_HEAD_ProtectionMetrics_FE=null,this.main_HEAD_ExternalDataSharing_FE=null,this.datamartFieldListFiltering=null,this.receiver_HEAD_ExternalDataSharing_FE=null,this.main_HEAD_CrossTenantDataSharing_Read_FE=null,this.main_HEAD_CrossTenantDataSharing_SupportMultiPath_FE=null,this.acceptReviewPage_HEAD_ExternalDataShare_FE=null,this.eimInformationProtectionForDesktop=null,this.eimInformationProtectionDesktopRemoveLabel=null,this.useModernRealTimeTile=null,this.useModernRealTimeTileBlade=null,this.legacyPromiseFactory=null,this.legacyPbiPromise=null,this.usePbiPromiseMicrotask=null,this.exp_usePbiPromiseMicrotask=null,this.rdlNativeVisual=null,this.rdlEditInPBIRB=null,this.rdlSSOForASAzure=null,this.gatewayVNetsRdl=null,this.calculateArtifactTypesOnFE_HEAD_Datahub_FE=null,this.usageMetricsVnext=null,this.EimInformationProtectionDefaultLabel=null,this.showRelevantUsersForSharing=null,this.appSharingDialogEnabled=null,this.bookmarksForLinks=null,this.authorsStateAsDefaultPresentationInPersonalBookmarks=null,this.DisableContentPacks=null,this.disableUIVirtualization=null,this.CdsaMultipleContributors=null,this.AdminInsightsMultipleReports=null,this.AdminInsightsBlocker=null,this.adminInsightsPermissionControl=null,this.blockNoWorkspaceAdminInsights=null,this.useModernMashupEditor=null,this.forceDownloadPbix=null,this.VisualQueryCustomTimeout=null,this.debugReportAuthoring=null,this.immersiveCopilotAnswerProductQuestionsSkill=null,this.showOneLakeManageSecurityForDatabricksCatalog=null,this.activateMinimePlayground=null,this.emitOrchestratorExceptionMessage=null,this.noSpinnerStateLogging=null,this.verifiedAnswers=null,this.verifiedAnswersCustomVisuals=null,this.copilotModelInstructions=null,this.copilotModelInstructionsLimitInc=null,this.copilotRefineData=null,this.copilotFriendlyNames=null,this.copilotUnifiedTooling=null,this.copilotUnifiedToolingService=null,this.cacheLastAuthoredCopilotTooling=null,this.donutChartBorderFillTransparency=null,this.sqlDbNativeDesktopOneLakeCatalog=null,this.disableReportCreatePageSkill=null,this.disableReportSuggestTopicsSkill=null,this.disableReportContentSkill=null,this.disableReportDatasetSummarySkill=null,this.disableReportDataQuestionSkill=null,this.disableReportModifyFiltersSkill=null,this.allowDisablingReportBackendSkills=null,this.imageVisualImprovements=null,this.monacoEditorInCopilotTooling=null,this.enhancedReportFormat=null,this.copyObjectNamesReportSetting=null,this.fileFormatInFlight=null,this.forceMinervaSchemaValidation=null,this.pbirUpgradeBackgroundValidation=null,this.pbirTenantSettingConsumption=null,this.pbirEnabledByDefault=null,this.pbirUseLegacyComparisonStrategy=null,this.pbir_report_2_0_0=null,this.pbir_report_3_0_0=null,this.pbir_page_2_0_0=null,this.pbir_upgrade_gate_1=null,this.pbir_upgrade_gate_2=null,this.pbir_upgrade_gate_3=null,this.pbir_upgrade_gate_4=null,this.pbir_upgrade_gate_all=null,this.va_definition_2_0_0=null,this.dataExploreFilterCard=null,this.dataExplore=null,this.dataExploreCreatePage=null,this.dataExploreRibbon=null,this.dataExploreGrantModelPermission=null,this.dataExploreVisualEP=null,this.dataExploreLeftDataPane=null,this.dataExploreCopilotPane=null,this.dataExploreCopilotTooling=null,this.DataExploreViewPermission=null,this.HideDataExploreViewPermissionCheckbox=null,this.DataExplorationAdminConfig=null,this.UseDataExplorationArtifact=null,this.webPerformancePane=null,this.dontSerializeDoLoadPowerViewReport=null,this.staticExportReportEnabled=null,this.allUpSaveReport=null,this.highVolume=null,this.customVisualsStore=null,this.gatewayBindingEnhancement=null,this.capacitiesVCores=null,this.capacitiesAzureTab=null,this.capacitiesMigrateSpecificWorkspaces=null,this.assignAdminsAzureCapacitiesEnabled=null,this.reportInstantEmail=null,this.dashboardInstantEmail=null,this.slicerSyncing=null,this.dsrV2_Staging=null,this.workspacesV2=null,this.workspacesV2UsageMetrics=null,this.workspacesV2UnifiedGroups=null,this.customVisualsTenantSwitch=null,this.pinReadable=null,this.artifactSearchUI=null,this.appAccessRequestUI=null,this.spoIntegration=null,this.bookmarkInitRefactor=null,this.disallowWorkbookRefresh=null,this.onDemandSmartAlerts=null,this.exportUnderlyingSetting=null,this.workspaceListView=null,this.pinInsightsFromApp=null,this.useModernExploreCanvas=null,this.quickAccessSearch=null,this.newInfoBarRedlines=null,this.modernDatasetDialog=null,this.showMainWindowAfterRender=null,this.disableNewFeaturesDialog=null,this.copyRdlReportToWorkspaceV2=null,this.allowEmailSecurityGroupsOnOutage=null,this.histogram=null,this.cdsaModelSchemaUpdate=null,this.enableRdlReportCopyFromWorkspaceV1=null,this.narrativeTextbox=null,this.rdlReportAnaheim=null,this.expandQueryCaching=null,this.hideReportVerticalPane=null,this.capacityCachingControl=null,this.dqReactiveCaching=null,this.cdsaGranularSQLUI=null,this.configureAppContacts=null,this.rdlHideCredentialsDialog=null,this.increasedExportSectionLimit=null,this.proPlusServicePlan=null,this.proPlusExcludePPUCapacityCreateWorkspace=null,this.lineChartPowerAutomate=null,this.cesFormsProTest=null,this.feedbackFeature=null,this.ribbonSearchBar=null,this.exportHostErrorList=null,this.linkToPowerAutomateExportTemplate=null,this.allowGatewaysWithoutMashupCreds=null,this.certifiedTelemetry=null,this.certifiedTelemetryDesktop=null,this.certifiedTelemetryUserEvents=null,this.certifiedTelemetryAssertions=null,this.certifiedTelemetryQueryEvent=null,this.certifiedTelemetryResolveParametersEvent=null,this.backstageUI=null,this.appTheme=null,this.qnaCopilotPhrasings=null,this.newWorkloadHubPage=null,this.showWorkloadHubWithEmptyMarketplace=null,this.sqlDbNative_QueryAutoCompletion=null,this.tridentSemanticModelSettings=null,this.openReportWebBootstrap=null,this.resolveParametersEvent=null,this.activityViewer=null,this.gatewaysTableUseConnDetails=null,this.notificationPollTimeoutFast=null,this.notificationPollTimeoutSlow=null,this.enableRefreshNowChecks=null,this.sdfArray=null,this.sdfBlob=null,this.sdfCustomNodeName=null,this.sdfTools=null,this.sdfScheduleRefresh=null,this.sdfDataContinuity=null,this.sdfPublicPreview=null,this.sdfUndo=null,this.sdfRetentionPolicyUpdate=null,this.pushDataflowCreate=null,this.noWaitTrialRenewal=null,this.recommendedContentUI=null,this.hideActionAsDefault=null,this.powerBIGoalsStatusRules=null,this.useReactRenderer=null,this.goalsShowImportFromFileUI=null,this.homeListM3_Test1=null,this.homeListM3_Test2=null,this.infiniteScorllHomeListM3=null,this.homeLearnReport_Test1=null,this.recommendedViewDefault=null,this.homeListVirtualScroll=null,this.suppressDefaultTooltip=null,this.newSearchPage=null,this.selectAppInTeamsTab=null,this.exportScorecard=null,this.loadGroupMetadataOptimization=null,this.rdlInfiniteScrolling=null,this.goalsAggregations=null,this.goalsSparklineChangeAggregations=null,this.goalsColumnSettings=null,this.goalsPermissionSettings=null,this.powerAutomateEntryPointFromGoalsUI=null,this.powerBIGoalsDragAndDrop=null,this.goalsXAxisDragAndDrop=null,this.goalsDelayDragAndDrop=null,this.powerBIGoalsMultipleGoalOwners=null,this.powerBIGoalsMultipleTargets=null,this.scorecardsInMyWorkspace=null,this.datamartDatawarehouseInMyWorkspace=null,this.disableDatawarehousePPU=null,this.datasetsHubFreeUser=null,this.capacityGen2RestoreToggle=null,this.goalsHubFRE=null,this.goalsAllowedOnShared=null,this.goalsDraftScorecards=null,this.recDefaultNoRecent=null,this.recommendedScaleCard=null,this.checkPbivizFileContentOnImport=null,this.goalsCustomizeStatus=null,this.copyVisualNoTimeout=null,this.rdlThrottlingIndicator=null,this.disableTrial=null,this.ExportToExcelConnectedSummarized=null,this.exportToExcelConnectedRdl=null,this.goalsCategoricalValues=null,this.teamsLearnTabCoachmark=null,this.onObject=null,this.onObjectFormatPaneUid=null,this.onObjectMobileAuthoring=null,this.newMobileDownloadQRDialog=null,this.teamsUseSDKSharing=null,this.teamsUseRegularLinkInShareInTeams=null,this.goalsScorecardAccessBanner=null,this.undoGetAvailableGatewayCloudDS=null,this.goalsBulkDelete=null,this.multipleGoalTilesVisual=null,this.goalsReportSource=null,this.goalsSharingLink=null,this.storeLogs=null,this.reportThemeSchema=null,this.goalsYouOwn=null,this.goalsFavoriteGoals=null,this.goalsNewEditButton=null,this.goalsNewHeader=null,this.diagnosticsBar=null,this.stickyFeatureSwitches=null,this.teamsLegacyTabMigration=null,this.fieldParameterDynamicSlicer=null,this.conditionalFormattingDataLabels=null,this.useAngularJSAuthDialog=null,this.useAngularJSScheduledRefresh=null,this.useAngularJSSettingsGateways=null,this.useAngularJSDataSourceCredentialsComponent=null,this.datamartsNewReportTab=null,this.goalsMultipleValuesEditor=null,this.modeling_enableFormulaBarDAXEditor=null,this.relationshipValidation=null,this.dialogReflow=null,this.angularRls=null,this.goalsHierarchiesOwnerMapping=null,this.goalsHierarchiesHeatmap=null,this.goalsHierarchiesHideInfoTooltips=null,this.tridentNotification=null,this.tridentNotificationFetchBackendV2=null,this.disableMwcThrottlingNotification=null,this.goalsRollups=null,this.scorecardTimezone=null,this.goalsLinkedGoals=null,this.aznbServerSideIntelliSense=null,this.dmhPreloadExtension=null,this.dmhDeleteCapability=null,this.EnforceDMHWorkloadProvisioning=null,this.EnforceDMHWorkloadPrivateLinkSupport=null,this.EnforceDMHTipsIntegration=null,this.dmhShowImagingCapability=null,this.hdsEnforceWorkloadLroApi=null,this.hdsEnforceSkipInstalledCapabilitiesFetch=null,this.hdsEnforceReservedNamesApi=null,this.hdsEnforceCapacityRegionCheck=null,this.hdsEnforceSparkRuntimeUpdate1_3=null,this.hdsShowImagingSampleData=null,this.hdsEnforceLifecycleManagement=null,this.hdsEnforceLifecycleManagementUpdates=null,this.hdsHideSeleniumChanges=null,this.dmhShowSdohCapability=null,this.hdsShowClaimsCapability=null,this.hdsShowByofClaimsCapability=null,this.hdsShowCareManagementAnalyticsCapability=null,this.dmhShowPatientOutreachAnalyticsCapability=null,this.hdsShowDaxConversationalDataCapability=null,this.hdsAiEnrichmentsCapability=null,this.hdsShowDaxTranscriptionIntegrationCapability=null,this.dmhShowHealthcareDataExplorerCapability=null,this.dmhHealthcareDataExplorerAllowCustomLakehouse=null,this.dmrPreloadExtension=null,this.dmsPreloadExtension=null,this.enableM365CapabilityInSustainabilitySolutions=null,this.enableServiceBasedCapabilityProvisioningInESGLake=null,this.enableCapabilityUpgradeInESGLake=null,this.lhWarehouseMode=null,this.lhLivyEndpoint=null,this.lhAlmTracking=null,this.lhDataSet=null,this.lhShortcuts=null,this.lhOneSecurity=null,this.bypassOneSecurityCheck=null,this.lhCsvToDelta=null,this.lhTableSchema=null,this.lhMergeViews=null,this.lhTablePreviewModes=null,this.lhTablePreviewSequential=null,this.lhDatasetCreateAction=null,this.lhOneLakeFriendlyNames=null,this.lhLoadToTable=null,this.lhPreloadExtension=null,this.lhComputeKeepAlive=null,this.lhSharing=null,this.lhDataGrid=null,this.lhEventStream=null,this.lhDataAgent=null,this.lhTableOptimization=null,this.lhSqlProvisionRetry=null,this.lhLakehouseV2=null,this.lhMultiLakehouse=null,this.lhTableNameWithSpace=null,this.lhTableNameSpecial=null,this.lhVerboseLogging=null,this.lhDeepLink=null,this.lhPreloadChildFolder=null,this.lhDbtIntegration=null,this.lhSchemaSupport=null,this.lhSchemaCheckbox=null,this.lhSchemaDataflows=null,this.lhSchemaEventstream=null,this.lhSchemaOneLakeSecurity=null,this.lhManageShortcuts=null,this.OnelakeUXShortcutVariable=null,this.OneLakeUXManageShortcut=null,this.lhDataArtifact=null,this.lhParquetPreviewSupport=null,this.lhArrowPreviewSupport=null,this.lhAutomaticRouting=null,this.lhVirtualized=null,this.lhMaterializedView=null,this.lhOLCTablePreview=null,this.lhOLCTablePreviewRamp=null,this.lhPrivateLinks=null,this.lhPrivateLinksPaths=null,this.lhSearchFilterSort=null,this.lhDownloadFiles=null,this.lhAttachEnvironment=null,this.lhDepRestrictions=null,this.lhDepSqlEndpoint=null,this.lhDEPShortcutRestrictions=null,this.lhSchemaAwareListTables=null,this.lhShortcutVariableUpdate=null,this.DmsAllowNullDefaultDataset=null,this.consistentLakehouseCreation=null,this.sparkUpgradeToFabric=null,this.sqlDbNative_QueryManagementV2=null,this.sqlDbNative_PerformanceDashboard=null,this.sqlDbNative_PerformanceDashboard_PuPr=null,this.sqlDbNative_CopilotSidecar=null,this.sqlDbNative_UsedStorageInBytes=null,this.sqlDbNative_WSMonitoring_DTF=null,this.sqlDbNative_AutoIndexing=null,this.sqlDbNative_FavoriteQuery=null,this.sqlDbNative_WSMonitoring_UX=null,this.sqlDbNative_WRDirectionality=null,this.sqlDbNative_LeadBlockers=null,this.sqlDbNative_PerformanceAlerts=null,this.sqlDbNative_PerformanceFeedback=null,this.sqlDbNative_PerfMemoryMetrics=null,this.sqlDbNative_SqlSecurityUI=null,this.sqlDbNative_LinkMonitorDashboard=null,this.sqlDBNative_PITR=null,this.sqlDBNative_BackupRetentionPeriod=null,this.sqlDbNative_LinkMonitorLoadUnsupportedTables=null,this.sqlDbNative_shortcuts=null,this.sqlDbNative_Dataflows=null,this.sqlDbNative_Datapipeline=null,this.sqlDbNative_GraphQL=null,this.sqlDbNative_bulkDelete=null,this.sqlDbNative_openInSSMS=null,this.sqlDbNative_useProtocolHandler=null,this.sqlDbNative_ListArtifactsInWorkspace=null,this.sqlDbNative_SqlAuditingFeedback=null,this.sqlDbNative_SqlAuditingUI=null,this.sqlDbNative_Gpt4oMini=null,this.sqlDbNative_Gpt41Upgrade=null,this.sqlDbNative_ClauseCompletion=null,this.sqlDbNative_SchemaInFromClauseRestriction=null,this.sqlDbNative_EnableCopilotSidecarScriptoria=null,this.sqlDbNative_SharedQueryPersistence=null,this.sqlDbNative_OnDestroyMultitaskingAction=null,this.sqlDbNative_SampleDataCopilot=null,this.sqlDbNative_DacpacMigration=null,this.sqlDbNative_DisasterRecoverySetting=null,this.relevantMeasures=null,this.warehouseTDSEndpointButton=null,this.quickMeasureInitialSuggestions=null,this.scorecardHierarchiesPremium=null,this.collapseGoalsByDefault=null,this.increaseAccessRequestV2_Test1=null,this.increaseAccessRequestV2_Test2=null,this.shouldDisableStreamingDataflowCreation=null,this.disableMatchingDatasourceObjectId=null,this.publishMissingPackageIdBugFix=null,this.scorecardEmailSubscription=null,this.metricsHub=null,this.metricsHubUseMetricList=null,this.enableMetricSetEnabled=null,this.tridentAlm_MetricSet=null,this.scorecardSplitColumns=null,this.useEnrichedApplicationContext=null,this.increaseAccessRequestV3_Test1=null,this.increaseAccessRequestV3_Test2=null,this.lhTablePreviewQueryEditor=null,this.selectSensitivityLabelDialog_HEAD_InformationProtection_FE=null,this.quickCreateTwoStepModelGen=null,this.inheritanceUponCreationFabricCreateFlow_HEAD_InformationProtection_FE=null,this.orgAppV2Copilot=null,this.odspSaveBackgroundUpload=null,this.backendNotificationMsgBar=null,this.alwaysShowTutorial=null,this.orgLinksDCR=null,this.useMetricsHubMetricV2APIs=null,this.reportSerializationSizeCountTelemetry=null,this.metricPreviewSummaries=null,this.WorkspaceLevelPrivateLinksInFabric=null,this.metricDisablePreferTimeseries=null,this.EnforceDMRWorkloadPrivateLinkSupport=null,this.EnableDMRWorkloadPrivateLinkSupport=null,this.pipelineTemplateDownload=null,this.redeemOrgLinkDCR=null,this.refreshSemanticModelByPipeline=null,this.reportOrgLinksCanOnlyHaveReadPermissions=null,this.OnelakeUXCatalogSecure=null,this.copilotBackendOrchestratorStreamingDesktop202505=null,this.addVisualIdToQueryDataAsHttpBodyId=null,this.trackTasks=null,this.trackChangeDetection=null,this.trackBrowserRender=null,this.trackVisualZone=null,this.trackEventTasks=null,this.exp_trackEventTasks=null,this.noTrackEventTaskHashSampling=null,this.homeLayoutSelection=null,this.loadRecommendationsForNewUsers=null,this.deferVCLoading=null,this.deferVCLoadingChangeSection=null,this.deferVCLoadingChangeSectionEmbed=null,this.deferVCLoadingEmbedOptions=null,this.deferVCLoadingMobile=null,this.deferCustomVCLoading=null,this.sessionExperimentation=null,this.lruCacheEvictionPolicy=null,this.onDemandApprovedResources=null,this.sectionApprovedResources=null,this.deferExplorationStateCapture=null,this.artifactCloudConnectionsDemoMode=null,this.operationalReportStringTest=null,this.exp_openReportWebBootstrap=null,this.exp_deferCustomVCLoading=null,this.exp_deferVCLoading=null,this.exp_deferVCLoadingChangeSection=null,this.exp_deferVCLoadingChangeSectionEmbed=null,this.exp_deferVCLoading_timeoutLimit=null,this.exp_deferVCLoading_preloadFinishThreshold=null,this.exp_deferVCLoading_loadFinishThreshold=null,this.exp_deferVCLoading_primeNonQueryVisualResources=null,this.exp_deferVCLoadingMobile=null,this.exp_noEmptyUpdate=null,this.exp_lruCacheEvictionPolicy=null,this.exp_saasReportIsAngularToThisPoint=null,this.exp_onDemandApprovedResources=null,this.exp_sectionApprovedResources=null,this.exp_deferExplorationStateCapture=null,this.MultivariantExpTest_VariantA=null,this.MultivariantExpTest_VariantB=null,this.control_MultivariantExpTest=null,this.IsolationGroupExpTest=null,this.control_IsolationGroupExpTest=null,this.htmlLegend=null,this.allowAssigningTenantWorkspacesFromAzureCapacityAdmin=null,this.capacityMetricDrilldown=null,this.copyReportsToWorkspacesV2=null,this.allowFreeUsersToSubscribeInPremiumAppsUI=null,this.realTimeRefresh=null,this.realTimeRefreshDisabled=null,this.changeDetection=null,this.changeDetectionSimulation=null,this.externalConnectorSSO=null,this.tenantOutOfBoxVisualsEnabled=null,this.disablePublishToWebCreation=null,this.eimInformationProtectionSccLink=null,this.ssasGetData=null,this.webModelingViewEnabled=null,this.persistDiagramLayoutEnabled=null,this.PersistingRemoteDiagramLayouts=null,this.webModel_enableViews=null,this.WebModelingAdminSettings=null,this.WebModelingSharedAuthoring=null,this.WebModelingAllowXmlaModifiedModels=null,this.WebModelingAllowIncrementalRefreshModels=null,this.newLookForAll=null,this.allowOldLookUI=null,this.yellowIntegrationOfPowerBI=null,this.newLookOnForNewUsers=null,this.analyzeInExcelOdcFallbackUI=null,this.analyzeInExcelToExcelOnline=null,this.irisCoreEnabled=null,this.esriEmbedEnabled=null,this.esriP2WEnabled=null,this.approvedServiceApps=null,this.redirectToStaticPageInTeams=null,this.quickMeasuresModern=null,this.eimInformationProtectionStoreOptimization=null,this.domainsAdminNewBadge_HEAD_mesh_FE=null,this.usePrefixSearch_HEAD_mesh_FE=null,this.lineageViewCertifiedEvents=null,this.domainsForL2_HEAD_DataDomain=null,this.recommendedWorkspaces_HEAD_DataDomain_FE=null,this.domainTagsMain_HEAD_mesh_FE=null,this.domainTagsAdmin_HEAD_mesh_FE=null,this.domainTagsAssign_HEAD_mesh_FE=null,this.domainTagsConsume_HEAD_mesh_FE=null,this.newImagesMigration_HEAD_Domains_FE=null,this.newImagesPopupNotification_HEAD_Domains_FE=null,this.workspaceSwitcherBrandingImages_HEAD_Domains_FE=null,this.taggingNewBadge_HEAD_tagging_FE=null,this.compactViewTagFiltering_HEAD_tagging_FE=null,this.taggingTutorial_HEAD_tagging_FE=null,this.navigateToDatasetDetails=null,this.eimInformationProtectionRdlReportLabelingUI=null,this.consumePublicCvsWithoutRps=null,this.stopPublicRpsPopulation=null,this.immersiveCopilotReportContentQuestion=null,this.WorkspaceOutboundRestriction=null,this.workspaceOutboundRestrictionDemoMode=null,this.workspaceOutboundRestrictionUI=null,this.dlpPolicyTip=null,this.eimDlpPolicyTipsWithoutAngularJS=null,this.restrictAccess_HEAD_DLP_FE=null,this.fabricRestrictAccess_HEAD_DLP_FE=null,this.restrictAccessOverrideAction_HEAD_DLP_FE=null,this.fabricRestrictAccessOverrideAction_HEAD_DLP_FE=null,this.dlpPolicyTipTridentArtifact_HEAD_DLP_FE=null,this.dlpPolicyTipFlyout_HEAD_DLP_FE=null,this.dlpPolicyTipTridentArtifactOverride_HEAD_DLP_FE=null,this.hoverCardRelatedContent_HEAD_Lineage_FE=null,this.lineageCycleSupport_HEAD_Lineage_FE=null,this.safariLineageHighlight_HEAD_Lineage_FE=null,this.workspaceLineageView_HEAD_Lineage_FE=null,this.tenantAdminTab_HEAD_Governance_FE=null,this.oneLakeDataOwnerTab_HEAD_Governance_FE=null,this.actionsVisual_HEAD_Governance_FE=null,this.newVisualsForInsights_HEAD_Governance_FE=null,this.embeddedInsightReport_HEAD_Governance_FE=null,this.catalogTour_HEAD_governance_FE=null,this.cdsaCCEmailContactsOnRefreshFailure=null,this.createRdlFromReportMenu=null,this.PinReportToTeamsTab=null,this.pinReportNavigateUsingDeepLink=null,this.showNewVisualsMarketplace=null,this.cesFeedbackTenantSetting=null,this.useNewDashboard=null,this.showNewVisualsMarketplacePBID=null,this.showAADSSOForGateway=null,this.showDremioSSO=null,this.chooseWorkspaceInReportSaveAs=null,this.ExportToExcelMatrixVisualData=null,this.showNonSdpInMP=null,this.accessInPlaceSharingDatasetSetting=null,this.forceAdminPortalSurvey=null,this.textboxAtMention=null,this.multiRowCardSelection=null,this.seeThruDatasetEditing=null,this.seeThruNameDatasetPickWorkspace=null,this.newManageDatasetForDatamartUI=null,this.ApplyDatamartSchemaForCustomDataset=null,this.SchemaPickerLHSqlEndpointEditTables=null,this.metricsBoardView=null,this.workspaceAdminSubscriptions=null,this.showPinnedTile=null,this.showAppBarInTeamsTabView=null,this.teamsNewTabExperience=null,this.teamsDirectSDKCall=null,this.teamsTabFabricLinks=null,this.goalsBulkEditing=null,this.privilegeWebAccess=null,this.privilegeLocalStorage=null,this.privilegeUX=null,this.leadsTesting=null,this.leadsTip1=null,this.leadsTip2=null,this.leadsDevUrl=null,this.exp_newReportMetadataEndpoint=null,this.goalsHierarchies=null,this.goalsVisualSparklines=null,this.splitHelpTooltip=null,this.cvSkipExtraResize=null,this.workspaceAdminSubscriptionsSurvey=null,this.showInTeamsPivotInOfficeAndOutlook=null,this.supportQuickCreatePasteOrEnterDataInOfficeAndOutlook=null,this.powerPlatformSolutionsIntegration=null,this.allowPowerPlatformEnvironmentCrossRegion=null,this.goalsTakeOverConnection=null,this.showPinReportIconInMetaOS=null,this.showExternalSharingTenant=null,this.showEnableDatasetInPlaceSharingTenant=null,this.EnforceSubscriptionExternalUsersTenantSwitchInBE=null,this.allowCVLocalStorageTenantSwitch=null,this.allowCVWebAccessTenantSwitch=null,this.privilegeExportContent=null,this.showGuestContentTab=null,this.requireCVPrivilegesTenantSwitch=null,this.CAEAuth=null,this.CustomVisualLicenses=null,this.ShowChatWithSales=null,this.showChatText=null,this.useRootUrlFilePicker=null,this.goalsHubTileContextMenu=null,this.useNativePromiseForPbiPromise=null,this.exp_useNativePromiseForPbiPromise=null,this.useNativePromiseForPowerBIPromise=null,this.exp_useNativePromiseForPowerBIPromise=null,this.showEmailSubscriptionsToExternalUsersTenantSwitch=null,this.showEmailSubscriptionsToB2BUsersTenantSwitch=null,this.MarketplaceLeads=null,this.smartNarrativeVisualContainterButton=null,this.deprecateGettingStarted=null,this.lakehouseShowTables=null,this.saveQueryAsView=null,this.datamartAutoRefresh=null,this.p2wInService=null,this.modernOfficeFilePicker=null,this.disableAngularJsForPortal=null,this.forceChatWidgetEnabled=null,this.tridentStageTwoWithLabelNav=null,this.disableNavOverflow=null,this.prefetchCustomVisualLicenses=null,this.authDCParam=null,this.newTriggerForSatisfactionSurvey=null,this.optimizeTabRibbon=null,this.pbiArtifactAccessInTridentStyle=null,this.customVisualsGradualExposure1=null,this.customVisualsGradualExposure2=null,this.customVisualsGradualExposure3=null,this.tridentRibbon=null,this.enableCVClientSideAuth=null,this.preloadDES=null,this.preloadV2=null,this.preventPreloadOnOpenArtifact=null,this.parallelLoadingEXA=null,this.parallelLoadingLHE=null,this.parallelLoadingDPE=null,this.parallelLoadingDES=null,this.parallelLoadingDFW=null,this.parallelLoadingFabricExtension=null,this.parallelLoadingWHS=null,this.parallelLoadingSQL=null,this.parallelLoadingGQL=null,this.handleCreateArtifactAction=null,this.preloadWHS=null,this.delegatedTenantSettings=null,this.delegatedWorkspaceTenantSettings=null,this.exportToExcelAndCSVDelegationClient=null,this.showSQLDatabasesDefaultCheckbox=null,this.disableDownloadFallback=null,this.allowCVAuthenticationTenantSwitch=null,this.visualContainerFontUpdateTrigger=null,this.openInADS=null,this.applyAllSlicersButton=null,this.tridentTrial=null,this.trialSignUpShowSamples=null,this.enablePlatformMonitoring=null,this.enableTridentUserSettings=null,this.showPurviewContentButton=null,this.allowAdminMonitoringFreeLicense=null,this.tridentMessageBarShowPbiBarSwitch=null,this.fabricConferencePromotionSwitch=null,this.fabric2024EuropeConfMsgBar=null,this.fabric2024EuropeConfMsgBarSkipCheckWFE=null,this.fabric2024AmericaConfMsgBar=null,this.fabric2024AmericaConfMsgBarSkipCheckWFE=null,this.fabricConfMsgBar=null,this.convertConnectedWorkbookFFXL=null,this.downloadLocalWorkbookFFXL=null,this.removeLocalUploadFFXL=null,this.removeViewLocalFFXL=null,this.executeSql=null,this.datamartPayloadParser=null,this.disableAdminCenterSupportPageLink=null,this.teamsMeetingExperiences=null,this.showNotificationSettingsInTridentUserSettings=null,this.showTridentUserSettingsNotificationTablesV2=null,this.showFormatPaneSettingInUserSettings=null,this.dwUseOpenInSSMS=null,this.dwPipeline=null,this.dwFeedback=null,this.dwOpenInApp=null,this.dwUseProtocolHandler=null,this.datamartModeling=null,this.aiNarrativesVisual=null,this.aiNarrativesUseClientFormatting=null,this.aiNarrativesDisableWholeUnitsFormatting=null,this.aiNarrativesStreamResponse=null,this.aiNarrativesGPT4=null,this.aiNarrativesGPT4o=null,this.aiNarrativesGPT4o_v2=null,this.aiNarrativesGPT4_1=null,this.aiNarrativesGPT4_32K=null,this.aiNarrativesGPT4Turbo=null,this.aiNarrativesGPT3Turbo=null,this.aiNarrativesGPT3TurboPromptChain=null,this.aiNarrativesSingleEntryPoint=null,this.aiNarrativesDisablePermanentPaused=null,this.aiNarrativesPreferLowDataVolume=null,this.aiNarrativesUseCurrentLocale=null,this.aiNarrativesFiltering=null,this.immersiveCopilotReportContentFiltering=null,this.aiNarrativesScopedExploration=null,this.aiNarrativesDisableIncludeReachableSections=null,this.aiNarrativesHCAAT=null,this.copilotReportContentSkipPartialResults=null,this.copilotReportContentCitationSyntaxV3=null,this.copilotReportContentQuestionAllowNoCitations=null,this.CopilotSummaryCustomInstructions=null,this.textboxCopilot=null,this.exploreCopilotChatHistoryEncoding=null,this.useCopilotSearch=null,this.capacityDmsAutoscale=null,this.capacitySparkAutoscaleDemoMode=null,this.capacitySparkAutoscalePBIClientGA=null,this.capacityDmsAutoscaleDemoMode=null,this.datamartIncrementalLoad=null,this.directLakeAutoSyncUI=null,this.ASWritethruUI=null,this.ASWritethruSupportAbfUI=null,this.ASContinuousExportByDefaultLargeModels=null,this.ShowReadPermModelOnOneLake=null,this.saveAsTable=null,this.datahubEmbedMain_HEAD_DataHub_CompactView_Embed_FE=null,this.datahubEmbedMain_HEAD_LicenseAutoassignmentFailedHandling_FE=null,this.disableLeavePageEnd=null,this.newCard=null,this.tridentAlm_HomeOne=null,this.tridentAlm_Lakehouse=null,this.tridentAlm_SparkJobDefinition=null,this.tridentAlm_SynapseNotebook=null,this.tridentAlm_Pipeline=null,this.tridentAlm_DatabricksCatalog=null,this.tridentAlm_DataflowFabric=null,this.tridentAlm_Datawarehouse=null,this.tridentAlm_SQLDbNative=null,this.tridentAlm_PgSQLDbNative=null,this.tridentAlm_Environment=null,this.tridentAlm_OrgApp=null,this.tridentAlm_OrgAppAudience=null,this.tridentAlm_KustoDashboard=null,this.tridentAlm_KustoQueryWorkbench=null,this.tridentAlm_ReflexProject=null,this.tridentAlm_Variables=null,this.tridentAlm_RetailDataManager=null,this.tridentAlm_GraphQL=null,this.tridentAlm_GraphIndex=null,this.tridentAlm_FunctionSet=null,this.tridentAlm_KustoEventHouse=null,this.tridentAlm_KustoDatabase=null,this.tridentAlm_CopyJob=null,this.tridentAlm_Warehouse=null,this.tridentAlm_SustainabilityDataManager=null,this.tridentAlm_HealthDataManager=null,this.tridentAlm_HLSCohort=null,this.tridentAlm_MountedRelationalDatabase=null,this.tridentAlm_EventStream=null,this.tridentAlm_MountedDataFactory=null,this.tridentAlm_ApacheAirflowProject=null,this.tridentAlm_ApacheAirflowJob=null,this.tridentAlm_DBTItem=null,this.tridentAlm_DigitalOperationsOperationalInsight=null,this.tridentAlm_DigitalOperationsAction=null,this.tridentAlm_LLMPlugin=null,this.tridentAlm_MLModel=null,this.tridentAlm_MLExperiment=null,this.sqlDbNative_RefreshGitSyncStatus=null,this.preventRepeatReportNavigationLong=null,this.preventRepeatReportNavigationShort=null,this.tridentAlm_DigitalTwinBuilder=null,this.tridentAlm_DigitalTwinBuilderFlow=null,this.tridentAlm_CosmosDB=null,this.tridentAlm_EventDefinition=null,this.useExtensionsManifestsModule=null,this.useFabricFreeForTrial=null,this.tridentPreloadEventStream=null,this.measureDrivenDataLabels=null,this.scaleTooltipWithCanvasZoom=null,this.storytellingRecommendationAlgorithm=null,this.supportAnyWorkspaceFilter=null,this.supportCustomColumn=null,this.dwDataflowGen2=null,this.dwSamples=null,this.disableTridentFeedbackButton=null,this.disableCommunityContentInHelpPane=null,this.dedsNotebookFileSystem=null,this.subfolderInWorkspace=null,this.saveReportSubfolderFrontend=null,this.daxQueryViewWeb=null,this.daxLinkSharingWeb=null,this.disableDaxNavigateWithQuery=null,this.dedsEnableAzNBProxy=null,this.labelEnhancementsM0=null,this.gitIntegration=null,this.errorMessagesP2W=null,this.aadAuthenticationForExternalExtensions=null,this.sqlCompletionQuickActions=null,this.sqlCopilot=null,this.sqlEndpointCopilot=null,this.RdlCanUseSCC=null,this.datamartSql=null,this.exploreCopilotReportSummary=null,this.exploreCopilotReportSummaryWithVisualRanker=null,this.exploreCopilotReportQuestionSkill=null,this.exploreCopilotSendChatHistory=null,this.disableReportSummaryInsightsMaxAdditionalLatency=null,this.emCVDisableGlobals=null,this.cvEnableResourceLoaderCSP=null,this.P2WDialogFromAdminPortal=null,this.globalSkipToMainContent=null,this.leaderLinesAndOffset=null,this.qnaCopilotSynonyms=null,this.qnaImproveLsdlCopilot=null,this.executeSqlAsync=null,this.ASQsoUISupport=null,this.emitLoopStandardizedClientReportingEvent=null,this.dataDrivenRdlSubscriptionsUI=null,this.dataDrivenPbixSubscriptionsUI=null,this.ddsDevMode=null,this.extensionCDNEagerLoadTimeoutFallback=null,this.extensionCDN=null,this.extensionCDNDES=null,this.extensionCDNDMH=null,this.extensionCDNReactExample=null,this.extensionCDNRFX=null,this.extensionCDNSTM=null,this.extensionCDNLHE=null,this.extensionCDNDMR=null,this.extensionCDNESG=null,this.extensionCDNAPP=null,this.extensionCDNADX=null,this.extensionCDNDPE=null,this.extensionCDNSQL=null,this.extensionCDNWHS=null,this.extensionCDNGQL=null,this.extensionCDNFXS=null,this.extensionCDNDBC=null,this.extensionCDNRTH=null,this.extensionCDNWSV=null,this.extensionCDNCDB=null,this.extensionCDNADR=null,this.extensionCDNFGE=null,this.extensionCDNMAP=null,this.extensionErrorHandling=null,this.rdsCapabilityFBT=null,this.rdsCapabilitySitecore=null,this.rdsCapabilityShopperCopilot=null,this.rdsTemplateCommerce=null,this.EnforceDMRCoreUILibrary=null,this.notebookInlineCodeCompletion=null,this.surveyWithCesUI=null,this.SubstrateIntegrationContentRelevancy=null,this.sharedWithMeOnSubstrate_limitedResults=null,this.sharedWithMeOnSubstrate_increasedResults=null,this.DataWarehouseCloneTableUI=null,this.tridentMultitaskingDatamarts=null,this.cvDisableResourceLoaderIframe=null,this.variantMinxMaxx=null,this.copilot_HEAD_PurviewHub_FE=null,this.pbiServiceHomeMargins=null,this.modelRefreshAttemptsHistory=null,this.scorecardHierarchiesRLS=null,this.disablePrivateCVPreloading=null,this.cvAssumeAsyncUpdate=null,this.endToEndTelemetryCreateArtifact=null,this.uploadExportToODSP=null,this.useWindowWhenExporting=null,this.OpenAIApiForML=null,this.dedsNotebookCopilotUI=null,this.oneLakeUXS3ShortcutPreviewText=null,this.oneLakeUXS3CompatibleShortcutPublicText=null,this.oneLakeUXGCPShortcutPublicText=null,this.copilotTextContainerV2=null,this.copilotUXAllowDisableChatStream=null,this.copilotLicensingStatusDebugMode=null,this.copilotLicensingStatusCheck=null,this.copilotLicensingNoneCapacityHandling=null,this.copilotPanePreview=null,this.copilotPatchInvalidConversation=null,this.copilotConversationRehydration=null,this.copilotReportSessionPersistence=null,this.copilotImmersiveSessionPersistence=null,this.copilotEntryButtonDiscoverability=null,this.copilotNewZeroPromptSupport=null,this.copilotNewZeroPromptExperimentA=null,this.copilotNewZeroPromptExperimentB=null,this.copilotNewZeroPromptExperimentC=null,this.F2CopilotCapacitySkuRequirements=null,this.CopilotAgentDevTools=null,this.copilotSaveDiagDataLakehouse=null,this.reportCopilotPreviewPillGA=null,this.racPageCreationDV3Support=null,this.racPageCreationGPT4Support=null,this.racCardsCreationGPT4Support=null,this.racPageCreationWithRoleAssignment=null,this.racPageCreationWithRoleAssignmentAndLegends=null,this.copilotSerializationJson=null,this.racPageCreationScatterFunnelSupport=null,this.racDatasetSummarizeDV3Support=null,this.racPageCreationDataRolesSupport=null,this.racConversationalPageCreation=null,this.pageCreationLegacyOnBEV2Web=null,this.racConversationalPageCreationDesktop=null,this.pageCreateNL2FOPL=null,this.CreatePageV3Phase2=null,this.pageCreateSyntaxErrorRetry=null,this.copilotPaneV2=null,this.desktopCopilotPaneV2=null,this.copilotPaneV2Streaming=null,this.clientCopilotStatusFCCSupport=null,this.copilotPaneV2SingleToolExecution=null,this.copilotUXFRETeachingBubble=null,this.mobileCertifiedUM=null,this.copilotFeedbackDialog=null,this.copilotFeedbackCommentsModal=null,this.copilotDesktopFeedbackDialog=null,this.copilotDesktopFeedbackCommentsModal=null,this.pivotTableRecommendationsCopilot=null,this.multiShortcutCreation=null,this.OneLakeShortcutsManualPath=null,this.OneLakeDataverseBrowse=null,this.allowOnlySingleShortcutCreationInKQL=null,this.defaultDatasetImprovements=null,this.statsCopilotSkill=null,this.share_HEAD_ExternalDataSharing_FE=null,this.pipelineCopilotEnabled=null,this.pipelineExpressionCopilot=null,this.enableOPDGInPipeline=null,this.dataPipelineSupportMultiWorkspaces=null,this.preloadDPE=null,this.REPDisableReplicationLimit=null,this.MetadataDiscoveryWithSchemas=null,this.REPEnableSchemaHierarchyInMountedRelationalDatabaseSink=null,this.REPEnableColumnMapping=null,this.REPEnablePQOClientForSnowflakeInOPDG=null,this.REPEnablePQOClientForAzureSqlInOPDG=null,this.REPEnablePQOClientForAzureSqlMIInOPDG=null,this.REPEnablePQOClientForSnowflakeInVNET=null,this.REPEnablePQOClientForAzureSqlInVNET=null,this.REPEnablePQOClientForAzureSqlMIInVNET=null,this.REPEnableSourceTableWithoutPkInAzureSql=null,this.REPEnableSourceTableWithoutPkInAzureSqlMi=null,this.REPEnableSourceTableWithoutPkInSqlServer2025=null,this.REPEnablePQOClientForPostgresInVNET=null,this.REPEnableADMSClientForGoogleBigQuery=null,this.REPEnablePQOClientForPostgresInOPDG=null,this.REPSnowflakeReplicateViews=null,this.OnPremRuntimeIntegration=null,this.MandateConnectionForNewActivityInPipeline=null,this.AllowWorkspaceIdentiyForCopyJobConnection=null,this.AllowUserAuthForNotebookConnection=null,this.AllowUserAuthForSJDConnection=null,this.AllowSpnForCopyJobConnection=null,this.EnableCopyJobActivityInPipeline=null,this.EnableOutlookActivityInPipeline=null,this.EnableTeamsActivityInPipeline=null,this.EnableCrossWorkspaceEnvironmentInSJDActivity=null,this.SSISInFabric=null,this.CopyJobCDC=null,this.CopyJobIncrementalCopy=null,this.EnableCopyJobEditFlow=null,this.EnableArtifactDMTSCredential=null,this.SparkJobDefinition_SupportEnvironment=null,this.disableRecommendation=null,this.generateMeasureDescriptionsButton=null,this.generateModelItemDescriptionCopilotGPT4o=null,this.metricsHubAIGeneratedMetricDescriptions=null,this.newDESWorkspaceSettings=null,this.bindOnBootstrap=null,this.folderLevelSecurity=null,this.appsCustomAccessRequestMessage=null,this.ArtifactEnvironment=null,this.artifactWorkspaceVariables=null,this.itemReferenceSupport=null,this.connectionRefSupport=null,this.tridentErrorFeedback=null,this.usePRBuildHashManifest=null,this.WSSettingCustomizedStartPool=null,this.audienceSchemaValidationBypass=null,this.tridentWarehouseUx=null,this.warehouseNewEditorSwitch=null,this.daxInlineCopilot=null,this.daxInlineCopilotQueryValidation=null,this.daxInlineCopilotGPT4o=null,this.daxInlineCopilotO3mini=null,this.daxInlineCopilotDisableGPT4oTokenLimits=null,this.EnableReportExtension=null,this.EnableModelingExtension=null,this.EnableDashboardExtension=null,this.EnableMetricSetExtension=null,this.TridentNotebook_SupportEnvironment=null,this.NewSparkComputeSettingsPage=null,this.racUseEmbeddings=null,this.addIsRefreshEnabledSetting=null,this.gitIntegrationTenantSwitchEnabled=null,this.gitHubTenantSettingsEnabled=null,this.enableDV3ForReportCopilotOrchestration=null,this.enableGPT4ForReportCopilotOrchestration=null,this.reportCopilotOrchestrationDV3PromptChanges=null,this.showDatamartInGraphql=null,this.showSqlDbInGraphql=null,this.showDataWarehouseInGraphql=null,this.showMirroredDatabaseInGraphql=null,this.enableErrorHandlingWithConversationHistory=null,this.enableNewSuggestTopicSkill=null,this.dedsDisableUXAutoHaltKernel=null,this.ASQsoDatasetSettingsUI=null,this.onelakeExplorerMultiSelect=null,this.directLakeRemoteModeling=null,this.errorLocalization=null,this.dataQuestionSkill=null,this.dataQuestionSkillV2=null,this.dataAndContentQuestionSkillIntegration=null,this.OneLakeUXShortcutBatchApi=null,this.allowOnlyMultiShortcutCreationInKQL=null,this.useCustomAPICreateShortcutURLInKQL=null,this.OnelakeUXWorkspaceOAP=null,this.enableAccelerationToggleInKQL=null,this.OneLakeBrowseWithStorageAudience=null,this.dedsSparkMonitoringL2ResourceUsage=null,this.dedsNotebookBrowseCodeSnippets=null,this.FuncSetPythonSupport=null,this.FuncSetEventHub=null,this.KustoGenerateQuery=null,this.ArtifactKustoDashboard=null,this.KustoDashboardPermissionSegregation=null,this.trackLocalizationLoaderIssues=null,this.dedsNotebookResourceUsage=null,this.dedsSparkMonitoringL2DetailPanelSparkConf=null,this.dedsSparkMonitoringRunSeries=null,this.manualTrialInitiationExperiment=null,this.visualLevelCopilot=null,this.copilotBlankPage=null,this.OpenAIMwcForML=null,this.labelEnhancementsM1=null,this.rowLevelSecurity=null,this.columnLevelSecurity=null,this.getWorkspaceFromSubscriptionInfo=null,this.artifactIdForCopilotCapability=null,this.enablePromptEncodingClientsForAIEndpoint=null,this.artifactIdForUsageMetadata=null,this.disableRelativePositionStrategy=null,this.copilotWorkspacePicker=null,this.buttonSlicerTableLayout=null,this.fabricTrialExpirationExperience=null,this.enableGPT4ForDatasetSummary=null,this.enableGPT4ForSuggestTopicSkill=null,this.enableSuggestTopicCaching=null,this.autoAddDefaultDatasetDefaultValueUpdate=null,this.OneLakeADLSBrowse=null,this.OneLakeS3Browse=null,this.OneLakeGCPBrowse=null,this.OneLakeS3CompatibleBrowse=null,this.OneLakeAzureBlobsBrowse=null,this.OneLakeUXAzureBlobsGA=null,this.useCDKVirtualScroll=null,this.reportMessageBar=null,this.azureMapGeocodingRequireLocalCache=null,this.dedsNotebookPaneSide=null,this.eventSubscriptionUI=null,this.oneRiverPreloadRFX=null,this.oneRiverPreloadRTP=null,this.oneriverExtensionCorsUI=null,this.rthOneLakeEventsUI=null,this.rthConsumptionEventsUI=null,this.eventDefinitionUI=null,this.rthJobEventsUI=null,this.rthAdxShortcut=null,this.rthADXSerialization=null,this.rthExploreDataUI=null,this.rthCertifiedEventCapacityCheck=null,this.rthDataSourcesTab=null,this.rthEventHubDropdown=null,this.rthNewEmptyPageView=null,this.rthAutofillEventHubKey=null,this.rthEventHubKeysDropdown=null,this.rthRealTimeIntelligenceSample=null,this.rthPreloadExtension=null,this.rthReviewValidation=null,this.rthSAPHana=null,this.rthCapacityEventWhen=null,this.rthSerialization=null,this.rthSubArtifactTypesFilter=null,this.rthPublicWeather=null,this.rthPublicMQTT=null,this.rthKustoCDC=null,this.rthCDCSerialization=null,this.rthTrialSignUp=null,this.rthAzureMonitorEventhouse=null,this.rthE2ESampleBicycle=null,this.rthConfluentSchema=null,this.rthKafkaSerialization=null,this.rthEventGridMQTT=null,this.rthSolacePubSub=null,this.rthGenerateDashboard=null,this.rthRemoveItemReadEvents=null,this.rthWorkspaceEventsReadPermission=null,this.rthNewErrorLog=null,this.rthPubSubGA=null,this.rthActivatorRules=null,this.rthAzureMonitor=null,this.rthDataverse=null,this.rthNonCDCSerialization=null,this.rthSubscriberStatus=null,this.rthNewSettingsPostgreSQL=null,this.rthEventHubSchemaSet=null,this.rthAnomalyDetection=null,this.rthDecimalHandlingAzureSQL=null,this.rthDecimalHandlingAzureSQLMi=null,this.rthDecimalHandlingMySQL=null,this.rthDecimalHandlingSQLServerVm=null,this.rthUseV2ESContract=null,this.rthE2ESampleStock=null,this.rthShowVNetConfig=null,this.rthNewEHVNet=null,this.rthNewEH=null,this.rthActionBasedHub=null,this.rthActionBasedHubM2=null,this.rthActionBasedGetStarted=null,this.rthUseIframeComponent=null,this.rthApacheKafkaSsl=null,this.rthADEvents=null,this.rthHttpConnector=null,this.rthV2TriggerPane=null,this.rthEnablePrivateLink=null,this.autoMLDeprecateNewModels=null,this.showGetDataInGraphql=null,this.GraphQL_showQueryMutationContextMenu=null,this.GraphQL_showMonitoringDashboard=null,this.GraphQL_FrontEndPerformanceStatusBar=null,this.GraphQL_SampleQuery=null,this.GraphQL_DynamicEditors=null,this.GraphQL_RBAC_UX=null,this.AINarrativesForceDV3=null,this.AINarrativesForceGPT4=null,this.AINarrativesForceGPT4_32k=null,this.AINarrativesForceGPT4Turbo=null,this.AINarrativesForceGPT4o=null,this.AINarrativesForceGPT4o_v2=null,this.AINarrativesForceGPT4o_v3=null,this.AINarrativesForceGPT4o_v4=null,this.AINarrativesForceGPT4_1=null,this.AINarrativesForceGPT4_1_V2=null,this.copilotSummaryEmbedApi=null,this.showGetDataInFuncSet=null,this.homeOnboardingModalPart2Experiment_variantA=null,this.homeOnboardingModalPart2Experiment_variantB=null,this.enableHorizontalScrollOnL1_HEAD_DataHub=null,this.EventstreamCodeGenUX=null,this.streamingDataflowQueryTestV2=null,this.artifactDataflowAddPermission=null,this.tridentStreamingGetDataPoC=null,this.enableEventstreamV2Entry=null,this.enableOneLakeSecurityDataAccess=null,this.dedsSparkMonitoringLogFilterNB=null,this.ShortcutNameAllowSpace=null,this.ShortcutNameSpecialCharValidation=null,this.showThemeSwitcherInTitlebar=null,this.dataQuestionRewording=null,this.dataQuestionDesktopAndViewMode=null,this.dataQuestionWithLinguisticSchema=null,this.dataQuestion4o=null,this.DataQuestionRewordingScenario=null,this.dataQuestionRewordingCopilotScenario=null,this.dataQuestionDisableRuntimeImprovement=null,this.dataQuestionDiagnostics=null,this.dataQuestionLlmParserBypassCache=null,this.dataQuestionTrimPromptSchema=null,this.dataQuestionSchemaSeparateSkeletals=null,this.dataQuestionLLMParserRichStructuredHistory=null,this.dataQuestionVisualQueryInToolMetadata=null,this.dataQuestionChangeArtifactSuggestion=null,this.functionsHubEntry=null,this.subscriptionsCopilotSummary=null,this.OneLakeCSTApiEndpoint=null,this.enableEventstreamDerivedStreams=null,this.enableEventstreamDiscreteEvents=null,this.FuncSetUseUDFs=null,this.notebookUseNewAznbCDN=null,this.notebookInOrgApp=null,this.enableDesFrequentApiCallDetection=null,this.enableDesDeeperCallStack=null,this.enableDMTSInNotebook=null,this.enableRealmInDES=null,this.enableNotificationMonitorInDES=null,this.reportCopilotInEmbed=null,this.enableReportCopilotInEmbed=null,this.reportCopilotEmbedInApps=null,this.aiNarrativesInEmbed=null,this.aiNarrativesInScreenshotWorkload=null,this.datahubEmbedMain_HEAD_initialApisCaching_FE=null,this.enableEventstreamKafkaConnector=null,this.enableEventstreamMySQLConnector=null,this.hideKustoCreateStandaloneDB=null,this.kustoSetReflexAlert=null,this.showLakehouseTutorial=null,this.enableHCForPipe=null,this.allowVisualDebugSnapshot=null,this.inplaceRestore=null,this.enableCalculationHighlighting=null,this.notebookPylance=null,this.displayFabricPromotionTenantSwitch=null,this.dialogDirectToQuickCreateTabularModel=null,this.FuncSetEnableLakewarehouse=null,this.ExportToImageDelegatedSettings=null,this.ExportToMHTMLDelegatedSettings=null,this.ExportToPowerPointDelegatedSettings=null,this.ExportToWordDelegatedSettings=null,this.ExportToXMLDelegatedSettings=null,this.dedsEnvironmentFileSystem=null,this.visualTopN=null,this.artifactTakeOverInArtifactSetting=null,this.showLocationInArtifactSetting=null,this.enableCapacityDefinedPool=null,this.enableEventstreamCosmosDBConnector=null,this.enableEventstreamKafkaDataPreview=null,this.sqlDbNative_queryPersistence=null,this.enableCalculationScatterChartMap=null,this.SeeThruModelGitSync=null,this.queryArchivedJobs=null,this.preloadSqlDatabases=null,this.dedsNotebookPreConnectCompute=null,this.enableFabric13R2=null,this.enableKustoExploreData=null,this.disableBrowserDeprecationDialog=null,this.embedDialogsInvokeRefactor=null,this.attachReportToTaskflowAfterSave=null,this.monitoringHubL2PageForSemanticModel=null,this.onelakeCatalog_HEAD_Datahub_FE=null,this.onelakeCatalog_PermissionsTab_HEAD_Datahub_FE=null,this.onelakeCatalog_AllInsights_HEAD_Datahub_FE=null,this.renderSurveyViaSDK=null,this.enableEventStreamV1VNet=null,this.enableEventStreamCustomCode=null,this.copilotDownloadChatHistory=null,this.copilotCreateEvalFromChatHistory=null,this.copilotRunEvalsAdhoc=null,this.reportDesktopCopilotUseContext=null,this.reportWebCopilotUseContext=null,this.copilotClientContextService=null,this.tridentGraphDataTable=null,this.FuncSetEnableAzureSQLdb=null,this.OrgAppV3AllowRdl=null,this.OrgAppV3AllowNotebook=null,this.OrgAppV3AllowLlmPlugin=null,this.suggestTopicsRevised=null,this.azureMapsPreserveDrawingBufferForExport=null,this.enableEventstreamsV2TrafficPauseResume=null,this.enableParentChild_HEAD_DataHub_CompactView_FE=null,this.semanticModelVersioning=null,this.modelingViewOnlyMode=null,this.modelingNotebooks=null,this.copilotOrchestratorGPT4oSupport=null,this.skipEmbeddingModelReportPane=null,this.statusCheckGpt41Support=null,this.filtersCopilotSkill=null,this.CopilotPreviewToggle=null,this.appBarResizingV2=null,this.enableEventstreamLakehouseSchema=null,this.FluentListColumnOption=null,this.backendCopilotOrchestrator=null,this.copilotPythiaInImmersive=null,this.copilotPythiaAzureOpenAIResponsesApi=null,this.copilotPythiaDebug=null,this.immersiveCopilotV2=null,this.backendCopilotOrchestratorDesktop=null,this.backendCopilotOrchestratorDesktopSU11=null,this.copilotDesktopDebug=null,this.copilotCapabilityNoCapacityShortCircuit=null,this.copilotCapabilityAgentMetadataCheck=null,this.tablixRenderUpgrade=null,this.copilotCapabilityClientCaching=null,this.enableCopilotPromptDebug=null,this.fabricTrialInternalExpirationExperience=null,this.blockFabricTrialCreation=null,this.dedsNotebookFileEditor=null,this.lastDayOfMonthSubscription=null,this.DownloadExplorationFileFormatV2=null,this.fabricCancelTrialFromCapacitySettingsShowChangeImmediately=null,this.MirroredOneSecurity=null,this.directLakeOverOneLake=null,this.enableCapacitySurgeProtection=null,this.blockedAndMissionCriticalWorkspaces=null,this.blockedAndMissionCriticalWorkspacesMultipleUnblockRules=null,this.blockedAndMissionCriticalWorkspacesDemoMode=null,this.enableJobAdmission=null,this.showJMTimeoutSettings=null,this.alchemySearch=null,this.AlchemyInsights=null,this.enablePageCreationVisualValidation=null,this.racPageCreationPoseidonSupport=null,this.racCardsCreationPoseidonSupport=null,this.racSuggestPoseidonSupport=null,this.LegacyIndirectAccessSource=null,this.enableExportToDataWithVisualCalculations=null,this.FuncSet_EnableAsyncDeployCode=null,this.azureMapsPublishToWeb=null,this.enableCopilotInGraphql=null,this.mobileCopilot=null,this.mobileHomeCopilot=null,this.mobileCopilotPromoterExperiment=null,this.preloadConceptualSchema=null,this.emitVisualReadyByDetailVisual=null,this.decoupleTimeZoneAndScheduleRefresh=null,this.consistentArtifactCreation=null,this.consistentMLExperimentCreation=null,this.consistentMLModelCreation=null,this.consistentOperationalAgentsCreation=null,this.NotebookEnableWidgetReference=null,this.realTimeIntelligenceSampleTutorial=null,this.visualCalculationFRE=null,this.SparkCoreSparkSettingsNativeEngineEnabled=null,this.disableEnsure3PConsent=null,this.TableDiscovery=null,this.SchemaDiscovery=null,this.ArtifactGraphEnableCreationAsync=null,this.artifactMonthlySchedule=null,this.enableEventstreamAmazonMskKafkaConnector=null,this.enableEventstreamApacheKafkaConnector=null,this.enableEventstreamAzureSqlMiDbCdcConnector=null,this.enableEventstreamSqlServerOnVmDbCdcConnector=null,this.downloadEmptyReportWithDatasetOnly=null,this.GraphQL_showCopyClientCodeButton=null,this.shellWorkspaceCopilot=null,this.enableSaveACopyExpV2=null,this.dataQuestionLlmParser=null,this.dataQuestionO3Mini=null,this.dataQuestionGpt41=null,this.dataQuestionCustomInstructions=null,this.oneSecurityUXPublic=null,this.advancedSlicerSelectionIcon=null,this.blockExtensionMessageOnValidationFailure=null,this.dataFunctionActions=null,this.OrgAppCopilotUi=null,this.orgAppImmersiveCopilot=null,this.webModelingViewSwitcher=null,this.kustoAllowEmbeddedQueryset=null,this.enableFabric13R3=null,this.kustoEnableQueryAcceleration=null,this.geofilterSynonymAdjustLocalityWhenNullDisabled=null,this.shouldEnableWarningStreamingDataset=null,this.RelevanceEngine_ArtifactTypeSignalNonZeroWeights=null,this.artifactDiscoverySkill=null,this.FuncSetEnablePortalEditing=null,this.disableAppinsightsRetries=null,this.syncPerformanceItemsFromExtensions=null,this.shouldDisableCreationStreamingDataset=null,this.manageDatasetRefresh=null,this.unsupportedBrowserNotification=null,this.dashboard_and_report_HEAD_CompactView_FE=null,this.dedsNotebookTeachingTourDRL=null,this.OrgAppConsolidatedNavigation=null,this.KustoGenerateDashboard=null,this.enableEventstreamEventType=null,this.enableEventTypeScenario3=null,this.enableInferredSchema=null,this.ArtifactFunctionSet=null,this.EnableUDFIntegrationWithPipeline=null,this.treemapLayoutOptions=null,this.showHelpPaneInGlobalSearch_variantA=null,this.showHelpPaneInGlobalSearch_variantB=null,this.ArtifactGraphQueryCopilot=null,this.enableEventstreamAzureServiceBusConnector=null,this.ODSPSubscriptionUserPermissionsCheck=null,this.OneSecurityForDataWarehouseFE=null,this.FuncSetEnableLibraryManagement=null,this.dataQuestionDispreferTables=null,this.GraphQL_ShowSqlAnalyticsEndpointArtifactType=null,this.GraphQL_ShowWarehouseArtifactType=null,this.AlmCrossRegionDeployment=null,this.daxCopilotV2=null,this.daxCopilotIncreasedTokenLimits=null,this.azureMapGeocodingAuditor=null,this.notebookAzNBInSW=null,this.notebookPylanceInSW=null,this.subscribePermissionSharing=null,this.NL2DAXAddCustomInstructions=null,this.NL2DAXUseSynonyms=null,this.NL2DAXIncludeSampleValues=null,this.NL2DAXIncludeSampleValuesDirectLake=null,this.DaxCopilotBackendExecution=null,this.DaxCopilotBackendExecutionBuildPermissionBypass=null,this.GraphQL_ShowSqlAnalyticsEndpointDmts=null,this.showChangeOwnershipOptionForTenantAdmin=null,this.GraphQL_ShowWarehouseDmts=null,this.enableEventstreamReflexPushMode=null,this.FuncSetEnableDotNetSupport=null,this.disableCacheUpdatesForV2Reports=null,this.fabricMigration=null,this.wsplSupport=null,this.exploreInReportCopilot=null,this.GraphQL_ShowSqlDbNativeDmts=null,this.tmdlCopilotToggle=null,this.tmdlPreview=null,this.isCopilotSupported=null,this.OrgAppV3PublicContract=null,this.debugImmersiveCopilot=null,this.GraphQL_ShowMountedWarehouseDmts=null,this.GraphQL_NewDnsEndpoint=null,this.datahubPillsBar_HEAD_a11y_FE=null,this.databricksNetworkSecurityUX=null,this.DigitalOperationsM1UI=null,this.DigitalOperationsM2UI=null,this.DigitalOperationsUIAdvancedQuery=null,this.DigitalOperationsUIAskQuestion=null,this.DigitalOperationsOntologyImport=null,this.DigitalOperationsStreaming=null,this.DigitalOperationsUIFormulas=null,this.DigitalTwinsOntology=null,this.DigitalTwinBuilder_EntityCRUD_UpdateLRO=null,this.fabricArtifactClientCacheDefaultPreferClientCache=null,this.fabricArtifactClientCacheDebugUI=null,this.multitaskingUpdateSyncService=null,this.artifactGraphConditionalFormatting=null,this.FuncSetEnableUseOwnerToken=null,this.saveNewReportAsExplorationV2=null,this.ArtifactGraphInferGraphUI=null,this.ArtifactGraphNewObjectModel=null,this.ArtifactGraphNewLook=null,this.analyzeDataWith=null,this.enableReadonlyDqv=null,this.ArtifactGraphNodeExpansion=null,this.daxCopilotV2Web=null,this.enableDaxScenarioParameterOverride=null,this.DataverseShortcutServicePrincipalAuthKind=null,this.acceptEncoding=null,this.acceptEncodingActivation=null,this.initializeCapacityWithFolderAPI=null,this.dataQuestionEnhancedReasoning=null,this.copilotFilterSingleTool=null,this.consistentDataflowFabricCreation=null,this.consistentHomeOneCreation=null,this.disableStarterWorkspacePool=null,this.SparkCoreEnableResourceProfile=null,this.enableAllowJobBursting=null,this.checkDEPForStarterPool=null,this.stableReporting=null,this.enableSnapshotNotebookQueries=null,this.enableSnapshotVisualQueries=null,this.dedsPythonMonitor=null,this.sqlDwGpt4oMini=null,this.refreshDataflowFabric=null,this.enableEventstreamEntraIDAuthForCustomEndpoint=null,this.copilotDatasetSummaryFrontendV2=null,this.GraphQL_CreateFromSampleSqlDb=null,this.addKeyInfluencersForCopilotSummary=null,this.M365AnswerDataQuestionSkill=null,this.ArtifactGraphNewLookDecember=null,this.GraphUIUpdateFeb=null,this.graphExploreV2=null,this.visualTooltipRenderTelemetry=null,this.addKeyInfluencersForCopilotSummaryFirst=null,this.rowHierarchySelector=null,this.rowHierarchySelectorAuthoring=null,this.helpPaneAutosuggest=null,this.UseConfidentialClientForOAuthOnPremDataSources=null,this.FuncSetEnableVSCodeFunctionsUri=null,this.FuncSetEnableGenericWarehouse=null,this.MLOpenAIAssistant=null,this.addCapacityNameInMonitoringHub=null,this.realTimeIntelligenceSampleGallery=null,this.dwModelingUx=null,this.pbiMoveImportNotebookToImport=null,this.workspaceIdentityAuthForAdlaAndAdls=null,this.dedsNotebookMirroredDB=null,this.notebookAzMaps=null,this.EventstreamCodeGenUXNative=null,this.FuncSetHomeDesignV2=null,this.OneLakeUXTransMirroring=null,this.OneLakeUXTransMirrorNotification=null,this.OneLakeUXAITransform=null,this.tridentGitForkBranchExistingFolder=null,this.FuncSetPylanceDiagnostics=null,this.eventNotificationUx=null,this.EventNotificationUxExpanded=null,this.copilotRemoveOffTopicRestriction=null,this.FuncSetNameChange=null,this.daxCopilotBackendRetryWeb=null,this.suggestQueriesForCopilotSummary=null,this.ArtifactGraphGetArtifactTablesList=null,this.copilotStreamToolResponse=null,this.DmsUniversalSecurity=null,this.copilotSummaryDisableToolParam=null,this.onelakeCatalogOnTeams_HEAD_Datahub_FE=null,this.dedsEnvironmentCrossWS=null,this.disableAppCopilotFollowUpSuggestions=null,this.dedsNBPythonResourceUsage=null,this.dedsNBTSqlRecentRun=null,this.dedsTsqlRecentRunCancel=null,this.GraphQL_Copilot_V2=null,this.helpPaneBranching=null,this.helpPaneCreateTicket=null,this.displayOneDriveSourceUri=null,this.editorShortcuts=null,this.enableVisualCalculationsInDataExplore=null,this.oneLakeUXShowWarehouseSnapshotInBrowse=null,this.FuncSetPylanceDebug=null,this.sendPSKUExpiryNotification=null,this.DataverseShortcutWorkspaceIdentityAuthKind=null,this.RelevanceEngine_ExperimentalOptions=null,this.GraphItemDefinition=null,this.GraphItemDefinitionUI=null,this.GraphConcurrentUpdate=null,this.clearChatInReportCopilotPane=null,this.FuncSetEnableConnectionStringHeaders=null,this.notebookDisableLazyLoadOnIdle=null,this.notebookEnableLazyLoadEditorOnView=null,this.tridentPythonEnvironment=null,this.consistentNotebookCreation=null,this.extensionConsistentNotebookCreation=null,this.tridentNotebookAutobindingLakehousesInGit=null,this.tridentNbCollabWebsocketMerge=null,this.fabricMigrationPuPr=null,this.fabricMigrationDedicatedSqlPool=null,this.updateLLMModelTogpt4o2024_11_20=null,this.enableOrchestratorGPT4_1=null,this.OrgAppWorkspaceLineageClientUsage=null,this.enableDataPreviewForPartialConnectors=null,this.enableEventstreamRealTimeWeather=null,this.multipleSchedulerUX=null,this.azureMapsTileHostEmbedValidation=null,this.secureEmbedDialogAllowCopilot=null,this.sharepointEmbedDialogAllowCopilot=null,this.desktopReportAuthoringCopilotGA=null,this.desktopReportAuthoringCopilotButton=null,this.QueryEditsInWebModeling=null,this.QueryEditingErrorHandling=null,this.NativeQueriesSupportInWebModeling=null,this.KustoCopilotDashboardFeedback=null,this.NL2DAXAddDisplayFolderAndHierarchy=null,this.openRemoteModelingFromWeb=null,this.categoricalIntersectionEval=null,this.teamsNewLeftNav=null,this.EnhancedFoplResults=null,this.workloadHubFeaturedWorkloads=null,this.exp_workloadHubFeaturedWorkloads=null,this.workloadHubBagIcon=null,this.exp_workloadHubBagIcon=null,this.UseSearchToolUXInADSkill=null,this.UseSearchToolUXInADSkillM2=null,this.RelevanceEngine_VerifiedAnswersEnhancedDiscoverArtifactsFlow=null,this.RelevanceEngine_VerifiedAnswersUseReportInSuggestionPill=null,this.RelevanceEngine_SearchIntentSuggestionPill=null,this.artifactDiscovery_Captions_Display=null,this.ArtifactDiscovery_UseRefactoredToolHandler=null,this.fabricExtensibility_DefaultWorkload=null,this.fabricExtensibility_ClientSideAuth=null,this.restrictWorkspaceAccessToSG=null,this.FuncSetEnablePrivateLibraryManagement=null,this.disableLiveConnectOptionForAASDataset=null,this.FuncSetEnablePortalEditorLibValidation=null,this.FuncSetPortalTest=null,this.OneLakeUXEnableDataverseFilter=null,this.M365DataQuestionSkill=null,this.taskFlowExportAndImport=null,this.copilotBackendOrchestratorStreaming=null,this.reportAuthoringCopilotStreamingEnabled=null,this.reportConsumptionCopilotStreamingEnabled=null,this.sqlAuditLogsSettingsUXForDW=null,this.exp_onelakeCatalog_LeftNavLabel_HEAD_Datahub_FE=null,this.tvfScalarFunctions=null,this.subItemsQuickActions_HEAD_Datahub_FE=null,this.disableFabricReadOptions=null,this.cosmosDbMetricsSummary=null,this.cosmosDbSqlEndpoint=null,this.cosmosDbUseSingleExtendedProperty=null,this.dataflowConnectionInPipeline=null,this.tridentDSAIFunction=null,this.OrgAppV3Audiences=null,this.enableEventStreamSqlCode=null,this.nativeMlflowUI=null,this.reportPageTitle=null,this.authoringFeedback=null,this.onelakeCatalog_Insights_Recent_HEAD_Datahub_FE=null,this.fabricWranglerNL2Code=null,this.fabricWranglerPandas2PySpark=null,this.fabricWranglerSuggestions=null,this.fabricWranglerNewLaunchingExperience=null,this.dwCodeSnippets=null,this.dwUseMWCBatchApi=null,this.dwUseMWCGetBatchApi=null,this.dwArtifactStatusBar=null,this.dwBuiltInFunctionsAI=null,this.dwGraphQLExperience=null,this.queryActivityV2=null,this.SupportSchemalessArtifactForOneSecurity=null,this.semanticLinkPythonNotebook=null,this.notebookPerfProfiling=null,this.GetDatasetSchemaCustomInstructions=null,this.CopilotSkillPicker=null,this.CopilotSkillPickerWithConfig=null,this.copilotPageCreateToolArgsHandling=null,this.onelakeCatalog_purview_HEAD_Datahub_FE=null,this.OneSecurityForLakeWarehouseFE=null,this.servicePrincipalTenantAdminSettingsDefaultCheckbox=null,this.consistentVariableLibraryCreation=null,this.ocvInAppFeedback=null,this.OneLakeUXTransformProperties=null,this.azureMapsCustomBasemap=null,this.cvMessageChannel=null,this.enableFabricPolicies_HEAD_FabricPolicies_FE=null,this.dataflowParametersInPipeline=null,this.pasteSlicerFilter=null,this.EventStreamKustoSkipTableAndSchemaCheck=null,this.TridentPublicApisMLModelRename=null,this.expandL2_HEAD_Datahub_FE=null,this.fabricWranglerAIFunction=null,this.FunctionsHubEnableCreate=null,this.newFullPageL2_HEAD_Datahub_FE=null,this.FuncSetEnablePortalEditorConnectionAliasValidation=null,this.DmsOneSecurityPuPrFE=null,this.GraphQL_EnableIntrospection=null,this.enableCopilotScenarioOverride=null,this.backgroundSurgeProtectionV2=null,this.workspaceDetectionSurgeProtection=null,this.tridentGitSensitivityLabelsSupport=null,this.CopilotToolingReady=null,this.copilotToolingClientSideResolution=null,this.FuncSetEnableModeSwitcherUI=null,this.lowerMaxPageSizeOnLoadedAll_HEAD_Datahub_FE=null,this.openItemEventToBackend=null,this.wsplInFabricPortal=null,this.explorationLastModified=null,this.dvmManageUniversalTables=null,this.dvmFilterEnvironmentsOnPrivilege=null,this.NL2DAXWithPriorContext=null,this.artifactDiscovery_disableArtifactLinksInDataIntentUI=null,this.artifactDiscovery_showIsPreparedForCopilotWarning=null,this.dedsWarehosueRTIIntegration=null,this.tridentPreloadMapExtension=null,this.themeVersion2Support=null,this.dedsMonitorL2JobsFilter=null,this.domainDefaultLabelInConsumption_HEAD_Domains_FE=null,this.closeTabWithCancelQuery=null,this.downloadCopilotModelSettings=null,this.taskFlowUnifiedNewPanel=null,this.dedsObjectExplorerRti=null,this.enableCopilotAnnotationsStore=null,this.copilot_RA_Service_ToolInvocationPartialJSONParse=null,this.copilot_RA_Desktop_ToolInvocationPartialJSONParse=null,this.NL2DAXSemanticModelHints=null,this.NL2DAXIncludeVerifiedAnswers=null,this.NL2DAXApplyFormatStrings=null,this.UseNL2DAXLLMEvaluation=null,this.azureMapsReorderLayers=null,this.DataEngineeringJobArtifact=null,this.realmSwitcherInMeControl=null,this.disableMatrixWaitingImagesToLoad=null,this.datasetAutoSummary_HEAD_Datahub_FE=null,this.QueryEpicV2=null,this.EnableWarehouseWorkspaceSettings=null,this.EnableWarehouseWorkspaceSettingsSqlPools=null,this.EnableWarehouseWorkspaceSettingsCollation=null,this.oneRiverPreloadADR=null,this.nl2daxFullHistory=null,this.nl2daxIncludeToolMetadata=null,this.nl2daxOriginalUserUtterance=null,this.nl2daxExposeHistoryToOrchestrator=null,this.enableKustoPullAfterDerivedStream=null,this.onelakeCatalog_ExploreTour_HEAD_Datahub_FE=null,this.copilotAutoReportSummary=null,this.enableDefaultStreamReName=null,this.OnelakeUXShowCosmosDBInBrowse=null,this.dataAgentStreaming=null,this.enableStatusForDerivedStream=null,this.kustoEventhouseEndpoint=null,this.bingMapsDeprecationMilestone0=null,this.bingMapsDeprecationMilestone1=null,this.bingMapsDeprecationMilestone2Phase1=null,this.bingMapsDeprecationMilestone2Phase2=null,this.bingMapsDeprecationMilestone3=null,this.bingMapsDeprecationMilestone4=null,this.newActionBar_HEAD_Datahub_FE=null,this.defaultCompatibilityLevel11=null,this.consistentAnomalyDetectorCreation=null,this.CreatePageExperiment1=null,this.CreatePageExperiment2=null,this.CreatePageGPT41=null,this.CreatePageNL2FOPLOutline=null,this.CreatePageNL2FOPLDebug=null,this.CreatePageV3CardContractUpdate=null,this.rthNewEHV2Setting=null,this.enableNewDataPreApiForDefaultStream=null,this.desktopOdspVersionHistory=null,this.desktopDatahubDialog=null,this.showCapacityInfoForProLicense=null,this.LoadRestrictedUsersByProtectionPolicy=null,this.onelakeUXAuditEvents=null,this.onelakeUXAuditEventsDestinationWorkspaces=null,this.enableWorkspaceAccessLimit=null,this.testWorkspaceAccessLimit=null,this.identityTableTemplate=null,this.externalTable=null,this.querysetNewItemCreationPlatformControlled=null,this.querysetNewItemCreationExtensionControlled=null,this.cancelQueryUXBasedOnBE=null,this.OneLakeUXSharePointShortcut=null,this.OneLakeUXOneDriveShortcut=null,this.OneLakeUXDataIntegrity=null,this.dataAndSchemaRefreshOptions=null,this.rthAnomalyDetectionSaveConfig=null,this.immersiveCsv2Semantic=null,this.immersiveConversationalPoc=null,this.immersiveConversationalPoc_usePythiaSkills=null,this.workloadManagement=null,this.mobileShareReminderNotification=null,this.mobileArtifactLicense=null,this.scenarioBasedStatusCheck=null,this.graphQuerysetCreation=null,this.workspaceLevelPrivateLink_HEAD_IP_FE=null,this.workspaceLevelPrivateLinkDeleteLabel_HEAD_IP_FE=null,this.hideArtifactSharingOrgLink=null,this.ocvFeedbackAPI=null,this.dedsMonitorL2CompareRun=null,this.workloadHubCardsApi=null,this.FuncSetEnableUXOpenApi=null,this.FuncSetNBInvocationCode=null,this.FuncSetEnableVariableLibrary=null,this.enableEventStreamSampleDataSemanticModelLogs=null,this.dashboardK2FNewItemCreation=null,this.WSPL_HEAD_Datahub_FE=null,this.dataAgentDiagnosticBtn=null,this.DisplayEventDefinitionTenantSwitch=null,this.dedsUDFManagement=null,this.workspaceLevelPrivateLink_HEAD_DLP_FE=null,this.WorkspaceWorkloadAssignment=null,this.sfdPreloadExtension=null,this.ocvSurvey=null,this.ocvSurveyNoCooldown=null,this.stickyIndicator=null,this.anomalyDetectorCreation=null,this.oneLakeCatalogModelingRibbonButton=null,this.MirroredAzureDatabricksCatalog_AddVnet_connection=null,this.extensionCDNSFD=null,this.copilotContextServiceBackend=null,this.copilotUserEvals=null,this.preloadGQL=null,this.ocvHelpPaneFeedback=null,this.OLSUXEnableGrantRole=null,this.OLSUXEnableDenyRole=null,this.createQuerysetInGraph=null,this.dataAgentExampleQueriesInRunSteps=null,this.OneLakeUXAzureBlobsAnonymousDisableBrowse=null,this.adfMigration=null,this.OneLakeUXShortcutErrorNotification=null,this.anomalyDetectionEventPublish=null,this.anomalyDetectionAsyncAnalysis=null,this.directLakeOnOneLakeEditTablesWeb=null,this.dataflowParameterDiscoveryInPipeline=null,this.fabricUXSettingsComponentSwap=null,this.modelingServiceCreateFromScratch=null,this.sfdOneLakeSecurity=null,this.sfdCreateShortcut=null,this.enableDerivedStreamPauseResume=null,this.zoomOutCopyVisualViewportInLoadTile=null,this.enableNotebook=null,this.DataAgentMCPTools=null,this.onelakeCatalog_ThirdParty_HEAD_Datahub_FE=null,this.scorecardCustomColumnSettings=null,this.workloadHubNewWorkloadButton=null,this.informationBarrierLimitationPrompts=null,this.oneLakeCatalog_AppsV2_HEAD_Datahub_FE=null,this.operationalAgentsCreation=null}}},990559:function(ve,z,e){e.d(z,{g:function(){return i}});var a=e(716192),i={annotationsUI:a.IM.Web,exp_deferVCLoadingChangeSection:a.IM.All&~a.IM.EmbedHost,exp_deferVCLoadingChangeSectionEmbed:a.IM.EmbedHost,exp_noEmptyUpdate:a.IM.All&~a.IM.EmbedHost,noEmptyUpdate:a.IM.All&~a.IM.EmbedHost,noEmptyUpdateEmbed:a.IM.EmbedHost,personalVisualizationPaneEnabled:a.IM.All&~a.IM.EmbedHost,queryCancellation:a.IM.Desktop|a.IM.Web|a.IM.WindowsApp,reportAnnotationsUI:a.IM.Web|a.IM.ExploreHost,stickyFeatureSwitches:a.IM.All&~a.IM.EmbedHost,userFavoriteResourcePackagesEnabled:a.IM.All&~a.IM.EmbedHost}},154428:function(ve,z,e){e.d(z,{yZ:function(){return W},So:function(){return C}});var a=e(692062),i=e(192802),r=e(512655),t=e(432262),o=e(631772),d=e(376302),n=e(533157),c=e(698517),s=e(454840),l="infonav-additionalError",u="infonav-showAdditionalError";function g(G,K){var q=$('<div class="infonav-errorInfoItem"><span class="infonav-errorInfoHeader">{FieldTitle}</span><span class="infonav-errorInfoText">{FieldValue}</span></div>'.replace("{FieldTitle}",G));return q.find(".infonav-errorInfoText").text(K||""),q.html(q.html().replace(/\n/g,"<br/>")),q}var D=e(87299),h=function(G){return G[G.Info=0]="Info",G[G.Warning=1]="Warning",G[G.SecurityWarning=2]="SecurityWarning",G}({}),C="https://support.powerbi.com",S="."+a.A.modalDialog,b="."+a.A.dialogTitle,V="."+a.A.dialogCloseIcon,M="."+a.A.dialogContent,P="."+a.A.dialogActions,T="."+a.A.dialogNotificationIcon,N="."+a.A.dialogContentNotificationText,w="infonav-modalContainerHost",I="."+w,O="."+a.A.dialogHtmlMessage,x="infonav-describedBy",j='<div tabindex="0" prevent-focus-loss="true" focus-nav-mode="Group" class="infonav-modalContainer'+(-1!==location.search.indexOf("renderAsModalDialog")?" small":"")+'"><div class="'+a.A.modalDialog+'" tabindex="-1" data-testid="infonav-modal-dialog"><div class="infonav-dialogLayout themeableElement"><div class="'+a.A.dialogTitle+'" id='+x+' role="heading" aria-level="1"></div><input type="button" class="'+a.A.dialogCloseIcon+'" data-testid="infonav-modal-dialog-close-btn"></input><div class="'+a.A.dialogContent+'" data-testid="infonav-modal-dialog-content"><div class="'+a.A.dialogActions+'"  data-testid="infonav-modal-dialog-actions"></div></div></div></div></div>',U='<div class="'+a.A.dialogContentNotification+'"><span class="'+a.A.dialogNotificationIcon+'"></span><span class= "'+a.A.dialogContentNotificationText+'" > </span></div>',F=`<input type="button" class=${a.A.dialogButton}></input>`,B='<label class="'+a.A.dialogCheckboxLabel+'">';class W{constructor(K,q){this.dialogHost=K,this.localizationMap=q,this.messageQueue=[],this.isReady=!1,this.messageCurrentlyShown=!1,this.initialized=!1}refocus(){this.modalContainer.focus()}showMessage(K,q,ne,k){this.ensureInitialized();var Y,L=[];if(ne||(ne=this.localizationMap?this.localizationMap.closePromptText:c.rv),k){var Q=$('<a target="_blank"></a>').text(k.label).attr("href",k.url);Y=$("<div></div>").text(q+" ").append(Q),q=void 0}L[0]=this.createButton(ne,()=>{this.hideDialog()},null,"primary"),this.pushMessage(K,q,Y,L,!0)}showPrompt(K,q,ne,k){this.ensureInitialized();for(var L=new Array,X=0;X<ne.length;X++){var Y=ne[X],Q=Y.cssClass;0===X&&(Q+=" primary"),L[X]=this.createButton(Y.labelText,Y.actionCallback,Y.data,Q,Y.disabled)}this.pushMessage(K,q,void 0,L,!!k)}showError(K,q,ne,k,L){this.showCustomError(c.vX,K,q,q!==o.W.Fatal,ne,k,L)}showCustomError(K,q,ne,k,L,X,Y,Q,H,te,ee,ue,Te){this.ensureInitialized();var We,He=new Array;Y?Y.forEach(we=>{He.push(this.createButton(we.label,()=>{this.hideDialog(),$.isFunction(X)&&X(we.resultValue)},null,we.cssClass,we.disabled))}):He[0]=ne!==o.W.Fatal?this.createButton(this.localizationMap?this.localizationMap.closePromptText:c.rv,()=>{this.hideDialog(),$.isFunction(X)&&X(0)}):this.createButton(this.localizationMap?this.localizationMap.refreshPagePromptText:c.Lr,()=>{window.location.reload()},null,"primary"),We=te?$("<div></div>").append(te):$("<div></div>").text(q);var mt,ft=$("<div></div>").addClass(a.A.dialogFooter);if(!_.isEmpty(L)){mt=this.localizationMap&&this.localizationMap.errorDialogHelperText?this.localizationMap.errorDialogHelperText:c.Ew,ee&&(mt=ee),We.append($("<br/>")).append(mt);var At=this.localizationMap?this.localizationMap.copyPromptText:c.aE,Qe=this.localizationMap?this.localizationMap.copySuccessText:c.wp,Fe={title:K,message:te?te.text():q,helperText:mt,additionalErrorInfo:L},ye=$("<button></button>").text(At).addClass("modalCopyToClipboard").click(()=>{this.tryCopyToClipboard(Fe)&&(ye.text(Qe).addClass("modalCopySuccess"),setTimeout(()=>{ye.text(At).removeClass("modalCopySuccess")},3e3))});He.unshift(ye)}this.addAdditionalErrorInfo(We,L,this.localizationMap?this.localizationMap.showTechnicalDetailsText:c.Xd),Q&&(Q.url===C||Q.isGetHelpTextReplaced?ft.prepend($('<a class="modalErrorHelpLink" target="_blank"></a>').text(Q.label).attr("href",Q.url)):He.unshift(this.createButton(Q.label,()=>{window.open(Q.url)},null,"primary"))),We.append(ft),this.pushMessage(K||c.vX,void 0,We,He,k,H,void 0,void 0,ue,Te)}showCustomDialog(K,q,ne,k,L,X,Y,Q,H,te,ee,ue,Te,He,We,ft,mt,At){this.ensureInitialized(),this.modalDialogResizeHandler=this.modalDialogResizeHandler.bind(this),$(window).on("resize.modalDialog",this.modalDialogResizeHandler);var Qe=[];We&&(Qe[0]=this.createCheckbox(We.labelText,We.actionCallback,We.data));for(var Fe=ne.findIndex(xe=>xe?.type===D.I.Button),ye=0;ye<ne.length;ye++){var we=ne[ye],Ee=we.cssClass;!ue&&ye===Fe&&(Ee+=" primary"),Qe[We?ye+1:ye]=we.type===D.I.Link?this.createLink(we.labelText,we.link):this.createButton(we.labelText,we.actionCallback,we.data,Ee,we.disabled)}if(mt){var he=$("<p></p>").append($('<a target="_blank"></a>').text(mt.label).attr("href",mt.url));q=q.append(he)}return this.pushMessage(K,void 0,q,Qe,!!L,H,k,X,Y,Q,te,ee,ue,Te,He,ft,At),this.dialogContent}hideDialog(){this.ensureInitialized(),$(window).off("resize.modalDialog"),this.modalContainer.fadeTo(250,0,()=>{this.modalContainer.css(r.e_,r.eU),this.modalDialogElement.removeClass(this.modalDialogCustomClass),this.modalContainer.removeClass(this.modalContainerCustomClass),this.currentModalDialogMessage&&this.currentModalDialogMessage.onDialogClosed&&this.currentModalDialogMessage.onDialogClosed(),this.messageCurrentlyShown=!1;var K=this.messageQueue.shift();K?this.showDialogInternal(K):(this.modalContainer.off(),this.modalContainer.remove(),$(I).off(),$(I).remove(),this.initialized=!1,this.unregisterFocusManager&&this.unregisterFocusManager())})}ensureInitialized(){if(!this.initialized){if(this.modalContainer=$(j),this.modalDialogElement=this.modalContainer.find(S),this.dialogTitle=this.modalContainer.find(b),this.dialogCloseButton=this.modalContainer.find(V),this.dialogContent=this.modalContainer.find(M),this.dialogActions=this.modalContainer.find(P),this.dialogCloseButton.on(t.Jp,()=>this.hideDialog()).on("keydown",q=>{q.keyCode===t.cK.escKeyCode&&this.hideDialog()}).attr("aria-label",this.localizationMap?this.localizationMap.closePromptText:c.rv).attr("name",this.localizationMap?this.localizationMap.closePromptText:c.rv).attr("title",this.localizationMap?this.localizationMap.closePromptText:c.rv),!this.dialogHost){var K=$(I);_.isEmpty(K)||K.remove(),(K=(0,i.y4)().addClass(w)).attr("role","dialog"),K.attr("aria-labelledby",x),this.dialogHost=$(t.IT).append(K),this.dialogHost=K}this.dialogHost.append(this.modalContainer),this.isReady=!0,this.messageQueue.length>0&&this.showDialogInternal(this.messageQueue.shift()),this.initialized=!0,this.unregisterFocusManager=d.c_.getInstance().register(this.dialogHost.get(0),!0),this.dialogHost=void 0}}updatePosition(K){var q=(this.modalContainer.height()-this.modalDialogElement.height())/2,ne=(this.modalContainer.width()-this.modalDialogElement.width())/2,k={top:q+r.YU,left:ne+r.YU};K?this.modalDialogElement.animate(k,250):this.modalDialogElement.css(k)}addAdditionalErrorInfo(K,q,ne){if(!_.isEmpty(q)){var k=$("<p ></p>");for(var L of q)k.append(g(L.errorInfoKey,L.errorInfoValue));var X=function(G,K){var q=$("<div ></div>"),ne=$("<a class=\"showAdditionalDetailsLink\" href='javascript:' ></a>");return ne.addClass(u),ne.text(K||c.Xd),ne.on(t.Jp,()=>{q.find(s.n4.createClassSelector(u)).remove(),q.find(s.n4.createClassSelector(l)).css(r.e_,r.nE)}),G.css(r.e_,r.eU),G.addClass(l),q.append(ne),q.append(G),q}(k,ne);K.append($("<br />")),K.append(X),K.find(".showAdditionalDetailsLink").on(t.Jp,()=>{this.updatePosition(!0)})}}pushMessage(K,q,ne,k,L,X,Y,Q,H,te,ee,ue,Te,He,We,ft,mt){typeof L>"u"&&(L=!0),typeof H>"u"&&(H=""),typeof te>"u"&&(te=""),typeof mt>"u"&&(mt=""),this.messageQueue.push({titleText:K,messageText:q,dialogContent:ne,dialogButtons:k,onDialogDisplayed:Y,isDismissable:L,dialogCssClass:H,dialogActionsCssClass:mt,containerCssClass:te,onDialogClosed:X,notificationType:ee,notificationText:ue,htmlMessageText:He}),!this.messageCurrentlyShown&&this.isReady&&this.showDialogInternal(this.messageQueue.shift(),Q,Te,We,ft)}tryCopyToClipboard(K){if(!K)return!1;var q=[];if(K.title&&q.push(K.title),K.message&&q.push(K.message),K.helperText&&q.push(K.helperText),K.additionalErrorInfo)for(var ne of K.additionalErrorInfo)q.push(`${ne.errorInfoKey}: ${ne.errorInfoValue}`);var k=q.join("\n");try{return(0,n.vt)().copyText(k),!0}catch{return!1}}showDialogInternal(K,q,ne,k,L){if(this.currentModalDialogMessage=K,this.messageCurrentlyShown=!0,this.dialogContentNotification=$(U),this.dialogContentNotificationIcon=this.dialogContentNotification.find(T),this.dialogContentNotificationText=this.dialogContentNotification.find(N),this.dialogTitle.empty(),this.dialogContent.empty(),this.dialogActions.empty(),this.dialogTitle.text(K.titleText).attr("title",K.titleText),k?(this.appendNotification(K.notificationType,K.notificationText),this.appendMessageText(K.dialogContent,K.messageText,K.htmlMessageText)):(this.appendMessageText(K.dialogContent,K.messageText,K.htmlMessageText),this.appendNotification(K.notificationType,K.notificationText)),this.dialogCloseButton.css(r.e_,K.isDismissable?r.nE:r.eU),K.dialogButtons.length>0)for(var X of(this.dialogActions.show(),K.dialogButtons))this.dialogActions.append(X);else this.dialogActions.hide();var Y=this.dialogContent.find(`.${a.A.dialogFooter}`);Y.length>0?Y.append(this.dialogActions):this.dialogContent.after(this.dialogActions),K.dialogCssClass&&(this.modalDialogElement.addClass(K.dialogCssClass),this.modalDialogCustomClass=K.dialogCssClass),K.containerCssClass&&(this.modalContainer.addClass(K.containerCssClass),this.modalContainerCustomClass=K.containerCssClass),K.dialogActionsCssClass&&this.dialogActions.addClass(K.dialogActionsCssClass);var Q=this.modalContainer.css(r.e_)===r.eU?this.modalContainer:this.modalDialogElement;Q.fadeTo(0,0),this.updatePosition(!1),Q.fadeTo(250,1,()=>{if(K.onDialogDisplayed&&K.onDialogDisplayed(this.dialogContent),!(this.modalDialogElement.find("dialog-frame").length>0)){0===this.modalDialogElement.find(":focus").length&&this.modalDialogElement.focus(),L&&this.modalDialogElement.keydown(te=>{te.keyCode===t.cK.escKeyCode&&this.hideDialog()});var H=this.dialogActions.find("input");!ne&&H.length>0&&H[0].focus(),q&&this.dialogContent.parent().find(".infonav-dialogActions input[type=button]:first").focus()}})}appendMessageText(K,q,ne){_.isEmpty(q)&&K?this.dialogContent.append(K):this.dialogContent.text(q),_.isEmpty(ne)||(this.dialogContentMessage=this.dialogContent.find(O),this.dialogContentMessage.html(ne))}appendNotification(K,q){if(null!==K&&!_.isEmpty(q)){switch(K){case h.Info:this.dialogContentNotificationIcon.addClass(a.A.dialogInfoIcon),this.dialogContentNotification.addClass(a.A.notificationInfo);break;case h.Warning:this.dialogContentNotificationIcon.addClass(a.A.dialogWarningIcon),this.dialogContentNotification.addClass(a.A.notificationWarning);break;case h.SecurityWarning:this.dialogContentNotificationIcon.addClass(a.A.dialogSecurityWarningIcon),this.dialogContentNotification.addClass(a.A.notificationSecurityWarning)}this.dialogContentNotificationText.html(q),this.dialogContent.append(this.dialogContentNotification)}}createButton(K,q,ne,k,L){var X=$(F);return X.attr("value",K),X.attr("data-testid",`infonav-dialog-action-${K}`),X.on(t.Jp,()=>{q(X,this.dialogContent,ne)}),k&&X.addClass(k),L&&X.prop("disabled",!0),X}createCheckbox(K,q,ne){var L=$('<div class="'+a.A.dialogCheckbox+'"><input type="checkbox"></input>'+B+K+"</label></div>"),X=L.find("input");return X.on(t.ig,()=>{q(X,this.dialogContent,ne)}),L}createLink(K,q="",ne=!0){return $(`<div>\n                <br>\n                    <a href=${q} target='_blank' class='pbi-external-link'>\n                        ${K}${ne?"<i class='infonav-linkIcon glyphicon pbi-glyph-navigate-external-inline glyph-small'></i>":""}\n                    </a>\n                <br>\n            </div>`)}modalDialogResizeHandler(){this.updatePosition(!1)}}},87299:function(ve,z,e){e.d(z,{I:function(){return a},O:function(){return i}});var a=function(r){return r.Button="Button",r.Link="Link",r}({});class i{constructor(t,o,d,n,c,s,p){this.type=a.Button,this.link="",this.labelText=t,this.actionCallback=o,this.data=d,this.cssClass=n,this.disabled=!!c,this.type=s||this.type,this.link=p||this.link}}},692062:function(ve,z,e){e.d(z,{A:function(){return i},R:function(){return a}});var a=function(r){return r[r.Ok=0]="Ok",r[r.Cancel=1]="Cancel",r}({}),i=function(r){return r.modalDialog="infonav-modalDialog",r.dialogTitle="infonav-dialogTitle",r.dialogCloseIcon="infonav-dialogCloseIcon",r.dialogContent="infonav-dialogContent",r.dialogContentNotification="infonav-dialogContentNotification",r.dialogWarningIcon="pbi-glyph-warning glyph-mini",r.dialogSecurityWarningIcon="pbi-glyph-securityalert glyph-mini",r.dialogInfoIcon="pbi-glyph-info glyph-mini",r.dialogNotificationIcon="glyphicon",r.notificationWarning="typeWarning",r.notificationSecurityWarning="typeSecurityWarning",r.notificationInfo="typeInfo",r.dialogContentNotificationText="infonav-dialogContentNotificationText",r.dialogFooter="infonav-dialogFooter",r.dialogActions="infonav-dialogActions",r.dialogButton="pbi-fluent-button",r.dialogCheckbox="pbi-input checkbox",r.dialogCheckboxLabel="form-label",r.dialogHtmlMessage="dialogMessage",r.dialogTitleWarningIcon="pbi-glyph-warning glyph-medium",r.dialogTitleCircleWarningIcon="pbi-glyph-error-circle-exclamation glyph-mini",r}({})},101751:function(ve,z,e){e.d(z,{BD:function(){return f},KJ:function(){return y},Od:function(){return m},Yh:function(){return l},Yp:function(){return E},ZG:function(){return h},iN:function(){return C},jT:function(){return u},kJ:function(){return p},mW:function(){return s},oS:function(){return S},pX:function(){return v},z3:function(){return D}});var a=e(309857),i=e(18122),r=e(744774),t=e(744524),o=e(454840),d=e(264586),n="/Date(",c=")/",s=function(b){return b[b.MillisecondsPerMinute=6e4]="MillisecondsPerMinute",b[b.MilisecondsPerHour=36e5]="MilisecondsPerHour",b[b.MillisecondsPerDay=864e5]="MillisecondsPerDay",b}({});function p(b){return i.Y.assertValue(b,"date"),(b.getTime()-b.getTimezoneOffset()*s.MillisecondsPerMinute)%s.MillisecondsPerDay==0}function l(){return typeof moment<"u"}function u(b){var V=v(b);if(V)return V;i.Y.assert(()=>l(),"Moment.js should be loaded for non-fast parseIsoDate.");var M=moment(b);return M.isValid()?M.toDate():null}function v(b){if(b){var V=b.length;if(!(V<=18||V>28)){var M=b[10];if("-"===b[4]&&"-"===b[7]&&("T"===M||" "===M)&&":"===b[13]&&":"===b[16]){var P=(0,d.c)(b,0,4),T=(0,d.c)(b,5,2),N=(0,d.c)(b,8,2),w=(0,d.c)(b,11,2),I=(0,d.c)(b,14,2),O=(0,d.c)(b,17,2),x="Z"===b.charAt(V-1);x&&V--;var j=0;if(V>19){if("."!==b[19])return;var U=V-20,F=(0,d.c)(b,20,U);if(null===F)return;j=F*(0,r.eC)(3-U)}if(null!==P&&null!==T&&null!==N&&null!==w&&null!==I&&null!==O&&null!==j)return x?new Date(Date.UTC(P,T-1,N,w,I,O,j)):(0,t.HE)(P,T-1,N,w,I,O,j)}}}}function m(b){return i.Y.assert(()=>l(),"Moment.js should be loaded for parseUtcDate."),moment.utc(b).toDate()}function E(b){if(o.n4.throwIfNullOrEmptyString(b,null,"deserializeDate","Cannot deserialize empty string"),(0,a.z6)(0===b.indexOf(n)&&_.endsWith(b,c),"Cannot deserialize empty string"),l()){var V=moment(b);return(0,a.z6)(V.isValid(),"parsedValue.isValid must be true"),V.toDate()}var M=b.substring(n.length,b.length-c.length);(0,a.z6)(/^\-?\d+$/.test(M),"Cannot deserialize invalid date");var P=parseInt(M,10);return(0,a.z6)(!isNaN(P),"Cannot deserialize invalid date"),new Date(P)}function D(b){try{return E(b)}catch{}}function h(b,V,M,P){i.Y.assertValue(b,"date");var T=moment().subtract(M,V);return P&&(T=T.startOf(V)),moment(b)>=T}function C(b,V){return i.Y.assertValue(V,"date"),V.toLocaleTimeString(b,{second:"numeric",minute:"numeric",hour:"numeric"})}function y(b,V){return i.Y.assertValue(V,"date"),V.toLocaleDateString(b,{second:"numeric",minute:"numeric",hour:"numeric",weekday:"short"})}function f(b,V){return i.Y.assertValue(V,"date"),V.toLocaleDateString(b,{second:"numeric",minute:"numeric",hour:"numeric",day:"numeric",month:"short",year:"numeric"})}function S(){return(new Date).toISOString()}},788714:function(ve,z,e){e.d(z,{Y:function(){return r}});var a=e(501285),i={},r=(()=>{class n{static clearQueryString(s){var p=n.parseQueryString();return delete p[s],n.rebuildQueryString(p)}static clearQueryStrings(s){var p=n.parseQueryString();for(var l of s)delete p[l];return n.rebuildQueryString(p)}static addOrUpdateQueryString(s,p){var l=n.parseQueryString();return l[s]=p,n.rebuildQueryString(l)}static addOrUpdateQueryStringToUrl(s,p){var l=n.parseUrl(s),u=n.clearAllQueriesFromUrl(s);for(var v of Object.keys(p))l[v]=p[v];return u+n.rebuildQueryString(l)}static getQueryStringValue(s){return n.parseQueryString()[s]}static isQueryParamSet(s,p){var l=i[s];if(!p||void 0===l){var u=n.getQueryStringValue(s);l=null!=u&&"false"!==u&&("1"===u||"true"===u.toLowerCase()||u.length>1),p&&(i[s]=l)}return l}static parseUrl(s){var p=s.indexOf("?"),l=p>=0?s.substr(p):void 0;return n.parseQueryString(l)}static parseQueryString(s=window.location.search){var p={};return new URLSearchParams(s).forEach((l,u)=>{p[u]=l}),p}static parseQueryStringWithMultipleKeyValues(s=window.location.search){var p={};return new URLSearchParams(s).forEach((l,u)=>{p[u]?p[u].push(l):p[u]=[l]}),p}static rebuildQueryString(s){var p="",l=!0;for(var u in s)l||(p+="&"),p+=encodeURIComponent(u)+"=",s[u]&&(p+=encodeURIComponent(s[u])),l=!1;return l||(p="?"+p),p}static clearAllQueriesFromUrl(s){var p=s.indexOf("?"),l=s.indexOf("#");return l>=0&&(l<p||-1===p)&&(p=l),p>=0?s.substr(0,p):s}static fileOfUrl(s){var p=(s=n.clearAllQueriesFromUrl(s)).lastIndexOf("/");return-1!==p&&(s=s.substring(p+1)),s}}return n.OriginClientActivityIdParameterName="caid",n.OriginRootActivityIdParameterName="raid",n.OriginActivityIdParameterName="aid",n})();function t(){var n=(0,a.RI)();return n.QueryStringUtil||(n.QueryStringUtil={}),n.QueryStringUtil}var d=!1;!function(){if(!d){var n=r.getQueryStringValue;t().getQueryStringValue=s=>n(s);var c=r.parseQueryString;t().parseQueryString=(s=window.location.search)=>c(s),d=!0}}()},431575:function(ve,z,e){e.d(z,{L:function(){return t},Z:function(){return r}});var i,a=e(18122);function r(n){return new d(n)}function t(n){return new d(n)}var o=function(n){return n[n.Pending=0]="Pending",n[n.Resolved=1]="Resolved",n[n.Rejected=2]="Rejected",n}({});class d{constructor(c){this[i]="Promise",a.Y.assertValue(c,"deferred"),this.deferred=c,this.state=o.Pending,c.promise.then(()=>this.state=o.Resolved,()=>this.state=o.Rejected)}then(c,s){return this.deferred.promise.then(c,s)}catch(c){return this.deferred.promise.catch(c)}finally(c){return this.deferred.promise.finally(c)}resolved(){return this.state===o.Resolved}rejected(){return this.state===o.Rejected}pending(){return this.state===o.Pending}reject(c){this.pending()&&(this.deferred.reject(c),this.state=o.Rejected)}}i=Symbol.toStringTag},264586:function(ve,z,e){e.d(z,{c:function(){return r},l:function(){return t}});var a=e(18122),i=e(744774);function r(o,d,n){if(a.Y.assertValue(o,"fullString"),a.Y.assertValue(d,"from"),a.Y.assertValue(n,"length"),a.Y.assert(()=>d>=0,"from >= 0"),a.Y.assert(()=>n>=0,"length >= 0"),a.Y.assert(()=>d+n<=o.length,"(from + length) <= fullString.length"),0===n)return null;for(var c=0,s=0,p=d+n-1;s<n;s++,p--){var l=o.charCodeAt(p)-48;if(l<0||9<l)return null;c+=l*(0,i.eC)(s)}return c}function t(o,d){return a.Y.assertValue(o,"literalStringToRegex - string"),a.Y.assertAnyValue(d,"literalStringToRegex - flags"),new RegExp(o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),d)}},698517:function(ve,z,e){e.d(z,{Ew:function(){return D},Jl:function(){return g},Lr:function(){return v},Xd:function(){return l},aE:function(){return h},rv:function(){return u},sz:function(){return E},vX:function(){return m},wp:function(){return C}});var l="Show technical details",u="Close",v="Refresh Page",m="oops, something went wrong",g="Unsupported browser detected",E="Power BI Q&A requires Internet Explorer 10 or higher, please upgrade your browser and try again",D="Please try again later or contact support. If you contact support, please provide these details.",h="Copy",C="Success!"},23634:function(ve,z,e){function a(){return function(){if(!Object.defineProperty)return!1;try{return Object.defineProperty({},"customProperty",{get:function(){return!0},enumerable:!0,configurable:!1}),!0}catch{return!1}}()&&!!Function.prototype.bind&&!!$.support.cors}function r(){var u=window.navigator.userAgent.toLowerCase();return u.indexOf("msie ")>-1||u.indexOf("trident/")>-1}function o(){return/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)}e.d(z,{hU:function(){return r},nr:function(){return o},zC:function(){return a}})},833400:function(ve,z,e){e.d(z,{R:function(){return i}});var a=e(307080);function i(t,o){return(0,a.R)(t,o)}},280909:function(ve,z,e){e.d(z,{$L:function(){return o},GQ:function(){return c},aP:function(){return r},j7:function(){return n},u_:function(){return d},wH:function(){return t}});var a=e(973809);function r(s,p){var l=function(s){var p=window.performance.getEntriesByType("resource").filter(u=>"xmlhttprequest"===u.initiatorType&&-1!==u.name.indexOf(s));if(p&&1===p.length)return p[0]}(s);return!!l&&(t(l,p),!0)}function t(s,p){s&&(p.timeOrigin=window.performance.timeOrigin,p.decodedBodySize=s.decodedBodySize,p.duration=s.duration,p.encodedBodySize=s.encodedBodySize,p.transferSize=s.transferSize,p.connectEnd=s.connectEnd,p.connectStart=s.connectStart,p.domainLookupEnd=s.domainLookupEnd,p.domainLookupStart=s.domainLookupStart,p.fetchStart=s.fetchStart,p.redirectEnd=s.redirectEnd,p.redirectStart=s.redirectStart,p.requestStart=s.requestStart,p.responseEnd=s.responseEnd,p.responseStart=s.responseStart,p.secureConnectionStart=s.secureConnectionStart,p.startTime=s.startTime,p.workerStart=s.workerStart,null!=s.responseStart&&null!=s.startTime&&(p.timeToFirstByte=s.responseStart-s.startTime))}function o(s){return s&&s.requestId&&s.responseRequestId?s.requestId===s.responseRequestId:null}function d(s){return s&&s.responseRequestId?s.responseRequestId:null}function n(s){switch(s){case a.kG.Unauthorized:case a.kG.Forbidden:case a.kG.RequestEntityTooLarge:case a.kG.BadRequest:case a.kG.NotFound:case a.kG.Conflict:case a.kG.PreconditionFailed:case a.kG.UnprocessableEntity:case a.kG.UnsupportedMediaType:return!1;default:return!0}}function c(s){switch(s){case a.kG.InternalServerError:case a.kG.ServiceUnavailable:return!0;default:return!1}}},694398:function(ve,z,e){function a(r,t,o){try{return JSON.parse(r,t)}catch(d){}}e.d(z,{p:function(){return a}})},824498:function(ve,z,e){e.d(z,{T:function(){return i},w:function(){return a}});var a=["highContrastTheme","customTheme","baseTheme"];function i(r,t,o,d){var n={name:r,version:o,type:t};return d&&(n.source=d),n}},844480:function(ve,z,e){e.d(z,{Bc:function(){return c},N9:function(){return o},QY:function(){return s},kU:function(){return n},kl:function(){return p}});var a=e(18122),i=e(223431),r=e(788714);function o(){var l;try{l=window.parent.origin}catch{a.Y.log("isHostedInCrossDomainIFrame(): Caught exception when trying to access parent, most likely because the parent is cross-origin."),l="blockedBecauseCrossOrigin"}return window.origin!==l}function n(l){if(l)try{var u=atob(l);return pako.inflate(u,{to:"string"})}catch(m){i.Cn.error(`Error while uncompressing TileData: ${JSON.stringify(m)}`,null==m.stack)}return null}function c(l){if(l)try{var u=pako.gzip(l,{to:"string"});return btoa(u)}catch(m){i.Cn.error(`Error while compressing data: ${JSON.stringify(m)}`,null==m.stack)}return null}var s=(()=>{var l;return function(){return null==l&&(l=!!r.Y.getQueryStringValue("isE2ERun2")),l}})();function p(){return window}},859538:function(ve,z,e){e.d(z,{M9:function(){return t},fT:function(){return c},wX:function(){return d},xz:function(){return o}});var a=e(18122),i=e(101751),r=moment.duration;function t(l,u,v=!1){var m=new Date,g=Intl.DateTimeFormat(u.currentLanguageLocale,{hour:"numeric",minute:"numeric"}).format(l);if(p(l,m))return u.format("TodayAt",g);var E=new Date;return E.setDate(m.getDate()-1),p(l,E)?u.format("YesterdayAt",g):o(l,u,v)}function o(l,u,v=!1){if(a.Y.assert(()=>(0,i.Yh)(),"Moment not available"),!l)return"-";var m=moment().diff(l),g=r(m),E=Math.floor;a.Y.assert(()=>g.asMilliseconds()>=0,"This function is intended to be used only with dates from the past.");var D=E(g.asYears());if(D>1)return u.format("RelativeDate_YearsAgo",[D]);if(1===D)return u.get(s("RelativeDate_YearAgo",v));var h=E(g.asMonths());if(h>1)return u.format("RelativeDate_MonthsAgo",[h]);if(1===h)return u.get(s("RelativeDate_MonthAgo",v));var C=E(g.asDays());if(C>1)return u.format("RelativeDate_DaysAgo",[C]);if(1===C)return u.get(s("RelativeDate_DayAgo",v));var y=E(g.asHours());if(y>1)return u.format("RelativeDate_HoursAgo",[y]);if(1===y)return u.get(s("RelativeDate_HourAgo",v));var f=E(g.asMinutes());if(f>1)return u.format("RelativeDate_MinutesAgo",[f]);if(1===f)return u.get(s("RelativeDate_MinuteAgo",v));var S=E(g.asSeconds());return S>=30?u.format("RelativeDate_SecondsAgo",[S]):u.get("RelativeDate_Now")}function d(l,u,v="DisplayDateTime_Common",m=!1){a.Y.assertValue(l,"timestamp is required param"),a.Y.assertValue(u,"localizationService is required param");var g=function(l,u,v=!1){a.Y.assertValue(l,"timestamp is required param"),a.Y.assertValue(u,"localizationService is required param");var m=new Date(l),g=new Date;if(p(m,g))return u.get(v?"TodayTitle":"Today");var E=new Date;return E.setDate(g.getDate()-1),p(m,E)?u.get(v?"YesterdayTitle":"Yesterday"):new Date(l).toLocaleDateString(u.currentLanguageLocale,{day:"numeric",month:"numeric",year:"numeric"})}(l,u,m),E=new Date(l).toLocaleTimeString(u.currentLanguageLocale,{hour:"numeric",minute:"numeric"});return u.format(v,[g,E])}function c(l){if(a.Y.assert(()=>(0,i.Yh)(),"Moment not available"),!l)return 0;var u=moment().diff(l),v=r(u),m=Math.floor;if(!(v.asMilliseconds()>=0))return 0;var g=m(v.asYears());if(g>=1)return 1e6+g;var E=m(v.asMonths());if(E>=1)return 1e5+E;var D=m(v.asDays());if(D>=1)return 1e4+D;var h=m(v.asHours());if(h>=1)return 1e3+h;var C=m(v.asMinutes());if(C>=1)return 100+C;var y=m(v.asSeconds());return y>=30?y:0}function s(l,u){return u?l+"_Capitalize":l}function p(l,u){return l.getFullYear()===u.getFullYear()&&l.getMonth()===u.getMonth()&&l.getDate()===u.getDate()}},121756:function(ve,z,e){e.d(z,{D2:function(){return E},EK:function(){return P},Er:function(){return b},Gf:function(){return y},JN:function(){return M},NV:function(){return u},N_:function(){return V},No:function(){return D},Nt:function(){return v},ST:function(){return h},Tl:function(){return N},Yw:function(){return c},Zx:function(){return m},ci:function(){return f},dW:function(){return g},nT:function(){return S},oi:function(){return d},uD:function(){return p},we:function(){return T},yX:function(){return o}});var a=e(512655),i=e(18122),r=e(432262),t=(0,a.tI)("explorationContainer"),o=function(w){return w[w.Above=1]="Above",w[w.RightOf=2]="RightOf",w[w.Below=4]="Below",w[w.LeftOf=8]="LeftOf",w[w.VerticalMiddle=16]="VerticalMiddle",w[w.HorizontalMiddle=32]="HorizontalMiddle",w}({});function d(w){return!!(w&o.Above)}function c(w){return!!(w&o.Below)}function p(w){return!!(w&o.VerticalMiddle)}var u=(0,a.tI)("notDroppable"),v=(0,a.tI)("dropover"),m=(0,a.tI)("prepend"),g=(0,a.tI)("append"),E="dragover",D="drag",h=function(w){return w[w.None=0]="None",w[w.Replace=1]="Replace",w[w.Prepend=2]="Prepend",w[w.Append=3]="Append",w}({});function y(w){var I=w.clone();return I.find("[id]").removeAttr(r.Iv),I.addClass("dragHelper"),I}function f(w){var I=w.parents(t.selector);return i.Y.assert(()=>I.length<=1,"We should only append the drag helper to 1 DOM element."),I}function S(w,I){var O=I();return O?(w.data[N]=O,!0):(w.data[T]=!0,!1)}function b(w,I){return!w.data[T]&&w.data[N]===I&&(w.data[T]=!0,!0)}function V(w,I){var O=I.height(),x=I.width(),j=I.offset(),U=w.pageY,F=w.pageX,R=0;return R|=j.top+O/2>U?o.Above:o.Below,R|=j.left+x/2>F?o.LeftOf:o.RightOf,j.top+O/3<U&&j.top+O/3*2>U&&(R|=o.VerticalMiddle),j.left+x/3<F&&j.left+x/3*2>F&&(R|=o.HorizontalMiddle),R}function M(w,I){if(!w)return!0;var O=function(w){return w.attr(D)}(w);return I.indexOf(O)>=0}var P="DragScrollHandler",T="DropEventHandled",N="DropTarget"},963478:function(ve,z,e){e.d(z,{Et:function(){return o},vh:function(){return d},wu:function(){return t}});var a=e(876082),i=e(432262),r=e(99302),t={type:a.U.Visual,name:"visualThemeChanged"};function o(n){return null!=n.composed&&null!=n.repeat&&(!n.composed||n.repeat&&(n.keyCode===i.cK.ctrlKeyCode||(0,r.AD)(n.keyCode)))}function d(n){return!$(n.target).is(i.Hq)&&!$(n.target).is(i.tk)}},617710:function(ve,z,e){function a(n){}function i(n,c=!1){try{if(!n)return;var s=n.stack;if(!s)return;var p=s.indexOf("\n");return-1===p?void 0:(s=s.substring(p+1),c&&(s=s.replace(/\s*((ms-pbi|https):\/\/\S*|\(.*?\))/g,l=>{var u=l.match(/([\w\.-]+\.(js|html)(:\d+:\d+)?)/);return null!=u?` (${u[1]})`:""})),s)}catch{return"Error at cleanExceptionStack"}}function r(n){try{if(n instanceof TypeError||n instanceof ReferenceError||n instanceof RangeError||"ChunkLoadError"===n.name)return n.message;if(n)return`Error of type ${n.name} had a ${n.message?.length} characters long message`}catch{return"Error at cleanExceptionMessage"}}function t(n,c,s,p){if(!(s instanceof Error))try{throw new Error(`Error wrapper for thrown object: ${JSON.stringify(s)}`)}catch(v){s=v}if(!s.rejection||!(s.rejection.clientError&&s.rejection.clientError.ignorable||s.rejection.ignorable)){var l=s.message,u=s.stack;try{p?n.logChildEvent(p.event,c,{stack:u,message:l}):n.logEvent(c,{stack:u,message:l})}catch(v){}}}e.d(z,{Zk:function(){return t},lO:function(){return i},qd:function(){return r},tA:function(){return a}})},795676:function(ve,z,e){e.d(z,{r:function(){return t}});var a=e(432262),i=e(949581),r=e(725314);class t{constructor(d=r.V.Group){this.focusNavMode=d}findNext(d,n=!0,c=!1){var s=this.getDomWalker(n),p=d.getAttribute(i.$N);return p===r.V.Group||p===r.V.Browser||c?this.traverseDown(d,s):this.searchFocusElement(d,s)}searchFocusElement(d,n){var c=this.traverseForward(n.getNextSibling(d),n);return c||(d.parentElement&&d.parentElement.getAttribute(i.$N)!==this.focusNavMode?c=this.searchFocusElement(d.parentElement,n):d.parentNode&&d.parentNode.nodeType===Node.ELEMENT_NODE&&d.parentNode.getAttribute(i.$N)!==this.focusNavMode&&(c=this.searchFocusElement(d.parentNode,n))),c}traverseForward(d,n){var c;if(d)return(0,i.AO)(d)?d:(null==d.getAttribute(a.JG)&&(c=this.traverseDown(d,n)),c||(c=this.traverseForward(n.getNextSibling(d),n)),c)}traverseDown(d,n){if(d&&d.getAttribute(i.$N)!==r.V.Skip)return this.traverseForward(n.getNextChild(d),n)}getDomWalker(d){return d?{getNextSibling:n=>n.nextElementSibling,getNextChild:n=>_.isEmpty(n.children)?n.hasChildNodes()?this.getNextChildNodes(n,d):void 0:n.children[0]}:{getNextSibling:n=>n.previousElementSibling,getNextChild:n=>_.isEmpty(n.children)?n.hasChildNodes()?this.getNextChildNodes(n,d):void 0:n.children[n.children.length-1]}}getNextChildNodes(d,n){var c=d.childNodes,s=c.length,p=n?1:-1,l=n?0:s-1;do{var u=c[l];if(u&&u.nodeType===Node.ELEMENT_NODE)return u;l+=p}while(l>=0&&l<s)}}},394212:function(ve,z,e){e.d(z,{a:function(){return c}});var a=e(432262),i=e(795676),r=e(949581),t=e(725314),o=e(384240),d=e(594451);class n{constructor(p){this.groupElement=p}findNext(p,l=!0){var g,u=p===this.groupElement?-1:this.getTabIndex(p),v=p!==this.groupElement&&!isNaN(u),m=l?1/0:0;return v||(u=l?-1:1/0),this.buildTabOrderMany([].slice.call(this.groupElement.children)).forEach(D=>{var h=this.getTabIndex(D.elem);isNaN(h)||(l?h>u&&h<=m:h<u&&h>=m)&&(m=h,g=D.elem)}),g}getTabIndex(p){return parseFloat(p.getAttribute(r.UN))}buildTabOrderMany(p){var l=[];return p.forEach(u=>{null==u.getAttribute(a.JG)&&(l=_.concat(l,this.buildTabOrders(u)))}),l}buildTabOrders(p){var l=this.getTabIndex(p);return isNaN(l)?this.buildTabOrderMany([].slice.call(p.children)):[{tabOrder:l,elem:p}]}}class c{constructor(p=!1){this.skipCyclicNavigation=p}get name(){return t.V.Group}shouldHandleFocus(p,l){return!$.contains(l,o.N.getTabbableParent(p,l))}findNextElementToFocus(p,l){var u=c.getGroupNavigationElement(p);switch(l.keyCode){case a.cK.rightArrowKeyCode:case a.cK.downArrowKeyCode:if(c.groupElementSupportsArrows(u)&&!c.canHandleKeyEvents(p))return c.getFocusNextElement(!0);break;case a.cK.upArrowKeyCode:case a.cK.leftArrowKeyCode:if(c.groupElementSupportsArrows(u)&&!c.canHandleKeyEvents(p))return c.getFocusNextElement(!1);break;case a.cK.tabKeyCode:if(!o.N.isElementContentEditable(p))return c.getFocusNextElement(!l.shiftKey,void 0,this.skipCyclicNavigation);break;case a.cK.escKeyCode:return o.N.getTabbableParent(document.activeElement);case a.cK.enterKeyCode:if(u&&null!=u.getAttribute(r.Dg))return o.N.getFirstTabbableChild(document.activeElement)}}static getFocusNextElement(p,l=null,u=!1){var v=document.activeElement;if(l=l||c.getFirstFocusableParent(v)){var g,E,m=c.getGroupNavigationElement(l);if(m&&null!=m.getAttribute(r.Dg))E=(g=new n(m)).findNext(l,p);else{var D=(0,d.X1)(l)||(0,d.oQ)(l);D&&(E=(g=new d.IV).findNext(l,p)),(!E||!D)&&(E=(g=new i.r).findNext(l,p))}if(E)return E;if(l.getAttribute(r.$N)!==t.V.Group&&!u){var h=c.getParentGroupElement(l);return h?g.findNext(h,p):void 0}}}static getGroupNavigationElement(p){var l=p.getAttribute(r.$N);return l&&l===t.V.Group?p:c.getParentGroupElement(p)}static getFirstFocusableParent(p){if(!p)return null;if((0,r.AO)(p)||p.getAttribute(r.$N)===t.V.Group)return p;for(var l=p.parentElement||p.parentNode&&p.parentNode.nodeType===Node.ELEMENT_NODE?p.parentNode:null;l;){if((0,r.AO)(l)||l.getAttribute(r.$N)===t.V.Group)return l;l=l.parentElement||l.parentNode&&l.parentNode.nodeType===Node.ELEMENT_NODE?l.parentNode:null}return l}static getParentGroupElement(p){return $(p).parents(r.Sq).get(0)}static canHandleKeyEvents(p){return o.N.isElementContentEditable(p)||o.N.isTextElement(p)}static groupElementSupportsArrows(p){return!p||null==p.getAttribute(r.Dg)||null==p.getAttribute(r.j0)}}},384240:function(ve,z,e){e.d(z,{N:function(){return a}});var a={isElementContentEditable:i=>$(i).closest("[contentEditable]").length>0,isTextElement(i){if($(i).is(":disabled"))return!1;var r=i.nodeName.toLowerCase();return i.nodeType===Node.ELEMENT_NODE&&("textarea"===r||"select"===r||"input"===r&&/^(?:text|email|number|search|tel|url|password)$/i.test(i.type))},contains:(i,r)=>!!(r.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINS),getFirstMatchingAncestor(i,r,t,o=!0){var d=i;if(d!==(t=t||document.body)||o&&r(d))for(!o&&i&&(d=d.parentElement||d.parentNode||void 0);d&&d!==document.body&&d.nodeType===Node.ELEMENT_NODE;){if(r(d))return d;if(d===t)break;d=d.parentElement||d.parentNode||void 0}},isElementTabbable:i=>!0===$(i).is(":tabbable"),getTabbableParent(i,r){return r=r||document.body,this.getFirstMatchingAncestor(i,this.isElementTabbable,r,!1)},getFirstTabbableChild(i){return this.getTabbableChildren(i)[0]},getTabbableDescendants:i=>$(i).find(":tabbable").get(),getTabbableChildren(i){return _.filter(this.getTabbableDescendants(i),r=>!$.contains(i,this.getTabbableParent(r,i)))},getTabbableSiblingsMatch(i,r,t=document.body){var o=a.getTabbableSiblings(i,t);return _.filter(o,r)},getNextTabbableMatchingSibling(i,r,t){t=t||document.body;var o=this.getTabbableSiblingsMatch(i,r,t);if(o.length>0)return o[0]},getPrevTabbableMatchingSibling(i,r,t){t=t||document.body;var o=this.getTabbableSiblingsMatch(i,r,t);if(o.length>0)return o[o.length-1]},getTabbableSiblings(i,r){r=r||document.body;var t=this.getTabbableParent(i,r);if((!t||r&&$.contains(t,r))&&(t=r),t){var o=this.getTabbableChildren(t),d=[],n=0;for(var c of o)c===i||this.contains(i,c)?n=0:d.splice(n++,0,c);return d}return[]},getNextTabbableSibling(i,r){return r=r||document.body,this.getTabbableSiblings(i,r)[0]},getPrevTabbableSibling(i,r){r=r||document.body;var t=this.getTabbableSiblings(i,r);return t[t.length-1]},isElementVisible:i=>$(i).is(":visible"),getParentFocusElement:i=>$(i).parents(":tabbable:first").get(0)}},594451:function(ve,z,e){e.d(z,{IV:function(){return t},Kv:function(){return o},X1:function(){return n},oQ:function(){return d}});var a=e(949581),i=e(725314),r=e(384240);class t{constructor(g=i.V.Group){this.focusNavMode=g}findNext(g,E=!0,D=!0,h=!1){var C;if(h||n(g))(C=this.getFirstActiveChild(g))||(C=this.getNextTabOrderChild(g,E,p(E)));else if(d(g))C=this.getNextTabOrderSibling(g,E,D);else if(null!=g.getAttribute(a.UQ)){var y=function(m,g){var E=$(m).closest(`[${g}]`);return E&&E.get(0)}(g,a.Sy);C=this.getNextTabOrderSibling(y,E,D)}return C}getNextTabOrderSibling(g,E,D){var f,h=g.getAttribute(a.Sy),C=parseFloat(h);if(!isNaN(C)){var S=function(m,g){var E=g===i.V.HierarchicalTabOrder?a.J$:a.Sq;return $(m).parents(E)[0]}(g,this.focusNavMode);if(!S)return;!(f=this.getNextTabOrderChild(S,E,C))&&D&&(f=this.getNextTabOrderChild(S,E,p(E)))}return f}getFirstActiveChild(g){var E;return $(g).find(`[${a.$Y}]`).each((h,C)=>{c(C)&&(E=C)}),E}getNextTabOrderChild(g,E,D){var h,C,y=$(g).find(`[${a.Sy}]`);return this.focusNavMode===i.V.HierarchicalTabOrder&&(y=y.filter((f,S)=>r.N.getTabbableParent(S)===g)),y.each((f,S)=>{var b=o(S);c(S)?h=S:r.N.isElementTabbable(S)&&(E?b<D:b>D)&&(void 0===h&&void 0===C||(E?b>C:b<C))&&(C=b,h=S)}),h}}function o(m){if(m.hasAttribute(a.Sy))return parseFloat(m.getAttribute(a.Sy))}function d(m){return null!=m.getAttribute(a.Sy)}function n(m){return null!=m.getAttribute(a.tN)}function c(m){return null!=m.getAttribute(a.$Y)}function p(m){return m?10000001:-10000001}},725314:function(ve,z,e){e.d(z,{V:function(){return a}});var a=function(i){return i.Browser="Browser",i.Hierarchy="Hierarchy",i.Group="Group",i.HierarchicalTabOrder="HierarchicalTabOrder",i.Skip="Skip",i}({})},949581:function(ve,z,e){e.d(z,{$N:function(){return o},$Y:function(){return s},AO:function(){return t},Dg:function(){return n},J$:function(){return m},Sq:function(){return v},Sy:function(){return c},UN:function(){return l},UQ:function(){return p},hE:function(){return i},iR:function(){return r},j0:function(){return u},tN:function(){return d}});var a=e(725314),i="focusManager_focus",r="focusManager_focusOn";function t(g){return!0===$(g).is(":tabbable")&&!1===$(g).is(":disabled")}var o="focus-nav-mode",d="tab-order-enabled",n="tab-order-recursive-enabled",c="tab-order",s="tab-active",p="tab-order-child",l="tabindex",u="skip-arrow-navigation",v=`[${o}="${a.V.Group}"]:first`,m=`[${o}="${a.V.HierarchicalTabOrder}"]:first`},376302:function(ve,z,e){e.d(z,{c_:function(){return m},EI:function(){return S}});var a=e(432262),i=e(495123),r=e(922504),t=e(394212),o=e(384240),d=e(725314);class n{get name(){return d.V.Hierarchy}shouldHandleFocus(){return!0}findNextElementToFocus(V,M,P){switch(M.keyCode){case a.cK.tabKeyCode:if(o.N.isElementContentEditable(V))return;var T=o.N.getTabbableChildren(P),N=o.N.getTabbableParent(V,P)===P;if(M.shiftKey){if(T.length>0&&(V!==T[0]||N))return o.N.getPrevTabbableSibling(V,P)}else{if(T.length>0&&(V!==T[T.length-1]||N))return o.N.getNextTabbableSibling(V,P);var w=o.N.getTabbableDescendants(P);if(w.length>0)return void w[w.length-1].focus()}break;case a.cK.escKeyCode:if(V!==P)return o.N.getTabbableParent(V);break;case a.cK.enterKeyCode:return o.N.getFirstTabbableChild(V)}}}var c=e(795676),s=e(949581),p=e(594451);class l{get name(){return d.V.HierarchicalTabOrder}shouldHandleFocus(V){return!o.N.isElementContentEditable(V)}findNextElementToFocus(V,M){var N,P=V.hasAttribute(s.tN),T=V.getAttribute(s.$N)===d.V.HierarchicalTabOrder;switch(M.keyCode){case a.cK.rightArrowKeyCode:case a.cK.downArrowKeyCode:N=l.getFocusNextElement(V,!0,P);break;case a.cK.upArrowKeyCode:case a.cK.leftArrowKeyCode:N=l.getFocusNextElement(V,!1,P);break;case a.cK.tabKeyCode:N=l.getFocusNextElement(V,!M.shiftKey,P);break;case a.cK.escKeyCode:N=o.N.getTabbableParent(document.activeElement);break;case a.cK.enterKeyCode:N=T?l.getFocusNextElement(V,!0,!0):void 0}return N}static getFocusNextElement(V,M,P){var w,T=V.hasAttribute(s.tN);if((void 0!==(0,p.Kv)(V)||T)&&(w=new p.IV(d.V.HierarchicalTabOrder).findNext(V,M,!0,P)),!w){var O=new c.r(d.V.HierarchicalTabOrder);if(!(w=O.findNext(V,M,P))&&!P){var x=$(V).parents(s.J$)[0];w=O.findNext(x,M,!0)}}return w}}var u="return-focus-element-attribute",v=0,m=(()=>{class b{constructor(){this.registeredElements=[],this.shortcutContainer=new S}get keyboardFocused(){return b.keyboardFocused}set keyboardFocused(M){b.keyboardFocused=M}static getInstance(){return this._instance||(this._instance=new b)}register(M,P=!1,T=!1){var N=[new t.a(T),new n,new l],w=x=>this.handleKeyPress(x,P,N);_.includes(this.registeredElements,M)||(M.addEventListener("keydown",w),this.registeredElements.push(M));var I=_.find(this.registeredElements,M);return()=>{I.removeEventListener("keydown",w),_.pull(this.registeredElements,M)}}registerShortcut(M){this.shortcutContainer.add(M)}unregisterShortcut(M){this.shortcutContainer.remove(M)}static focusChildInGroup(M,P){var T=M.getAttribute(s.$N)===d.V.Group?M:$(M).find(s.Sq).get(0);T&&b.focus(t.a.getFocusNextElement(!0,T),P)}static focusChildInCanvas(M){var T=M.getAttribute(s.$N)===d.V.HierarchicalTabOrder?M:$(M).find(s.J$)[0];T&&b.focus(l.getFocusNextElement(T,!0,!0))}static focus(M,P=!0){if(M){var T=document.activeElement;r.b.setTimeout(()=>{i.C.focus(M),$(M).triggerHandler(s.iR,T),$(M).trigger(s.hE,T),P&&(b.keyboardFocused=!0,$("html").attr("data-focus-source","key")),M&&$(M).removeAttr(s.$Y)})}}focus(M,P=!0){b.focus(M,P)}focusOnGroupByIndex(M,P,T,N,w){this.shortcutContainer.handleByPriority(M,P,T,N,w)}static setFocusOnPreviousElementOnDestroy(M,P,T){var N;return M.on(s.hE,(w,I)=>{w.stopPropagation(),I&&(!P||void 0===N)&&!$.contains(M[0],I)&&(N=v++,I.setAttribute(u,N.toString()))}),()=>{var w=document.activeElement;if(void 0!==N){var I=document.documentElement.querySelector(`[${u}="${N}"]`);I&&$(I).closest(document.documentElement)&&(!T||$.contains(M[0],w))&&b.focus(I,!1)}}}handleKeyPress(M,P,T){if(this.handleShortcut(M))return M.stopPropagation(),void M.preventDefault();var N=document.activeElement;if(N){for(var w,x,I=o.N.getFirstMatchingAncestor(N,j=>j.hasAttribute(s.$N),document.body),O=function(){var j=I.getAttribute(s.$N);if(j===d.V.Browser)return{v:void 0};var U=_.find(T,F=>F.name===j);if(U&&U.shouldHandleFocus(N,I)&&(w=U.findNextElementToFocus(N,M,I)),w)return 0;I=o.N.getFirstMatchingAncestor(I,F=>F.hasAttribute(s.$N),document.body,!1)};I&&I!==document.body&&0!==(x=O());)if(x)return x.v;w&&b.focus(w),P&&M.stopPropagation(),w&&M.keyCode!==a.cK.enterKeyCode&&M.keyCode!==a.cK.spaceKeyCode&&(M.stopPropagation(),M.preventDefault())}}handleShortcut(M){return this.shortcutContainer.handle(M)}focusNextElement(M){b.focus(t.a.getFocusNextElement(!0,M))}}return b.keyboardFocused=!1,b})(),h=function(b){return b[b.SHIFT=512]="SHIFT",b[b.CTRL=1024]="CTRL",b[b.ALT=2048]="ALT",b}({});class S{constructor(){this.shortcuts=[],this.scopedShortcuts=[]}add(V){var M=this.getKeyCode(V.keycode,V.shift,V.alt,V.ctrl),P=V.scoped?this.scopedShortcuts:this.shortcuts;P[M]&&!_.find(P[M],T=>$(T.element).is(V.element))?P[M].push(V):_.isEmpty(this.shortcuts[M])&&(P[M]=[V])}remove(V){var M=this.getKeyCode(V.keycode,V.shift,V.alt,V.ctrl);_.remove((V.scoped?this.scopedShortcuts:this.shortcuts)[M],T=>$(T.element).is(V.element))}handle(V){if(V.keyCode>256)return!1;var M=i.C.isCtrlOrMeta(V),P=this.getKeyCode(V.keyCode,V.shiftKey,V.altKey,M),T=V.shiftKey&&M&&1653===P,N=this.findScopedShortcut(P);if(!N){var w=this.filterGroups(this.shortcuts[T?1141:P]);if(_.isEmpty(w))return!1;N=this.getNextShortcutElementToFocus(w,void 0,T)}return!!N&&(this.focusOnGroup(N),!0)}handleByPriority(V,M,P,T,N){this.focusOnGroup(this.getNextShortcutElementToFocus(this.filterGroups(this.shortcuts[this.getKeyCode(V,M,P,T)]),N))}focusOnGroup(V){V.getAttribute(s.$N)===d.V.HierarchicalTabOrder?m.focus(l.getFocusNextElement(V,!0,!0)):m.focus(t.a.getFocusNextElement(!0,V))}getKeyCode(V,M,P,T){var N=V;return M&&(N|=h.SHIFT),T&&(N|=h.CTRL),P&&(N|=h.ALT),N}filterGroups(V){return _.filter(V,M=>{var P=o.N.isElementVisible(M.element);return M.element.getAttribute(s.$N)===d.V.HierarchicalTabOrder?P&&!!l.getFocusNextElement(M.element,!0,!0):P&&!!t.a.getFocusNextElement(!0,M.element)})}static getFocusPriority(V,M=!0){if(V){var P=V.getAttribute("focus-priority");if(null!=P)return parseInt(P,10);if(null!=V.parentElement&&M)return this.getFocusPriority(V.parentElement)}}getFocusPriority(V,M=!0){return S.getFocusPriority(V,M)}findScopedShortcut(V){var M=document.activeElement,P=this.findExtendedScope(M),N=this.filterGroups(this.scopedShortcuts[V]);if(!_.isEmpty(N)&&M)for(var w of N)if(w&&($(M).is(w.element)||$.contains(M,w.element)||P&&($(P).is(w.element)||$.contains(P,w.element))))return w.element}findExtendedScope(V){for(var M=V;M;){if(M.attributes.getNamedItem("extended-shortcut-scope"))return M;M=M.parentElement}}findCurrentFocusedShortcutElement(V){if(document.activeElement)for(var M=document.activeElement;M;){if(M.getAttribute("keyboard-shortcuts")===V)return M;M=M.parentElement}}getNextShortcutElementToFocus(V,M,P=!1){var T=(V=_.sortBy(V,j=>j.focusPriority))[0];if(document.activeElement&&V.length>1)for(var N=null==M?this.findCurrentFocusedShortcutElement(T.shortcutString):null,w=0;w<=V.length-1;w++){var I=V[w];if(null!=M&&M>(I.focusPriority||-1)||N&&$(N).is(I.element)){T=V[(P?0===w?V.length-1:w-1:w+1)%V.length];break}}return T?.element}}},217143:function(ve,z,e){e.d(z,{A:function(){return i}});var a=e(876082),i={LuciaDomainModelChangedEvent:{type:a.U.Global,name:"LuciaDomainModelChangedEvent"},QnaSettingsChangedEvent:{type:a.U.Global,name:"QnaSettingsChangedEvent"},ReportContentsReplacedEvent:{type:a.U.Global,name:"ReportContentsReplacedEvent"},ModelChangedEvent:{type:a.U.Global,name:"ModelChangedEvent"},SignInStatusChangedEvent:{type:a.U.Global,name:"SignInStatusChangedEvent"},WindowStateChangedEvent:{type:a.U.Global,name:"WindowStateChangedEvent"},UpdateAvailableEvent:{type:a.U.Global,name:"UpdateAvailableEvent"},SelectedSensitivityLabelChangedEvent:{type:a.U.Global,name:"SelectedSensitivityLabelChangedEvent"},OpenFileMenuEvent:{type:a.U.Global,name:"OpenFileMenuEvent"}}},482193:function(ve,z,e){e.d(z,{Cy:function(){return p},I6:function(){return r},Mr:function(){return d},Os:function(){return l},TF:function(){return n},WQ:function(){return o},bz:function(){return u},iQ:function(){return s},ro:function(){return t},zi:function(){return v}});var a=e(579260),i=e(18122);function r(C,y){var f;if(C&&y)return E(C,y,(S,b,V)=>(f=b,S)),f}function t(C,y){var f;return E(C.name,y,(S,b,V)=>(f=S,S)),f}function o(C,...y){return[...C||[],...y||[]]}function d(C,y,f){return E(y.name,f,(S,b,V)=>{if(!h(b))return i.Y.assertFail("should find group item"),S;var M=b.clone?b.clone():_.clone(b);for(var P of(M.children=[...b.children||[],C],M.children))P.parentGroup=M;return(0,a.cd)(S,T=>T===b?M:T)})}function n(C,y,f=!0){return y=E(C.name,y,(S,b,V)=>(0,a._u)(S,M=>b!==M)),f&&(y=g(y)),y}function s(C,y){return g(C=D(C,f=>(0,a._u)(f,S=>!y(S))))}function p(C,y,f,S){return C.forEach(b=>b.parentGroup=void 0),f=function(C,y,f=!0){return y=D(y,S=>{var b=_.differenceWith(S,C,(V,M)=>V.name===M.name);return b.length===S.length?S:b}),f&&(y=g(y)),y}(C,f,!1),g(f=E(y.name,f,(b,V,M)=>(0,a.eL)(b,P=>P===V?S?[P,...C]:[...C,P]:[P])))}function l(C,y){for(var f of C.children)f.parentGroup=C;return y=function(C,y,f){return D(f,S=>(0,a.eL)(S,b=>b===C[0]?[y]:_.includes(C,b)?[]:[b]))}(C.children,C,y),g(y)}function u(C,y){for(var f of C.children)f.parentGroup=void 0;return E(C.name,y,(S,b,V)=>(0,a.eL)(S,M=>M===C?C.children:[M]))}function v(C,y,f){var S=f||[];for(var b of C)h(b)?S=v(b.children,y,S):y(b)&&(S=[...S||[],b]);return S}function g(C){return D(C,y=>(0,a._u)(y,f=>!h(f)||!_.isEmpty(f.children)))}function E(C,y,f){i.Y.assertValue(y,"itemGrouping - itemList"),i.Y.assertValue(C,"itemGrouping - targetName"),i.Y.assertValue(f,"itemGrouping - callback");for(var b,S=function(){var M=y[V];if(M.name===C)return{v:f(y,M,V)};if(h(M)){var P=E(C,M.children,f);if(P!==M.children){var T=M.clone?M.clone():_.clone(M);for(var N of(T.children=P,T.children))N.parentGroup=T;return{v:(0,a.cd)(y,w=>w===M?T:w)}}}},V=0;V<y.length;V++)if(b=S())return b.v;return y}function D(C,y){i.Y.assertValue(C,"itemGrouping - itemList"),i.Y.assertValue(y,"itemGrouping - callback");var f=function(b){if(h(b)){var V=D(b.children,y);if(V!==b.children){var M=b.clone?b.clone():_.clone(b);for(var P of(M.children=V,M.children))P.parentGroup=M;C=(0,a.cd)(C,T=>T===b?M:T)}}};for(var S of C)f(S);return C=y(C)}function h(C){return void 0!==C.children}},533157:function(ve,z,e){e.d(z,{vt:function(){return d}});var o,a=e(18122),i=e(776346),r=e(38361);class t{constructor(c){this.element=document.createElement("textarea"),this.element.style.position="absolute",this.element.style.left="-9999px"}copyText(c,s,p){var l;a.Y.assertValue(c,"copyText didn't get a value"),"string"==typeof c?l=c:"function"==typeof c?l=c():a.Y.assertNever(c),this.copyToClipboard(l),this.logTelemetry(s,r.ei.Value,p)}copyGrid(c,s,p){a.Y.assertValue(c,"copyGrid didn't get a value");var{grid:l,coveragePercentage:u}=c(),v=[];if(!_.isEmpty(l))for(var m of l)_.isEmpty(m)||v.push(_.map(m,g=>null==g?"":this.removeBreaks(g)).join("\t"));this.copyToClipboard(v.join("\n")),this.logTelemetry(s,r.ei.Selection,p,u)}removeBreaks(c){return c.replace(new RegExp("\t","g")," ").replace(new RegExp("\r\n","g")," ").replace(new RegExp("\n","g")," ")}copyToClipboard(c){this.element.value=c,document.body.appendChild(this.element);var s=document.activeElement;this.element.select(),document.execCommand("copy"),document.body.removeChild(this.element),s&&s.focus()}logTelemetry(c,s,p,l){c&&c.logEvent(i.eo,{copyType:s,visualType:p||"(unknown)",copySelectionPercentage:l||0})}}function d(){return o||(o=new t),o}},776346:function(ve,z,e){e.d(z,{$D:function(){return v},B0:function(){return Se},Br:function(){return He},Cn:function(){return l},H6:function(){return M},I$:function(){return H},Iz:function(){return L},JG:function(){return C},NW:function(){return ue},TT:function(){return w},TW:function(){return T},U2:function(){return O},UB:function(){return We},UE:function(){return B},X_:function(){return ye},eo:function(){return mt},ez:function(){return Qe},fQ:function(){return ee},ir:function(){return j},jr:function(){return x},o0:function(){return Te},xI:function(){return b},yC:function(){return Ee},z9:function(){return ne},zv:function(){return Y}});var a=e(285264),i="BaseEvent",t=(a.Xi[i]=(0,a.Vp)(i),"TimedEvent"),d=(a.Xi[t]=(0,a.Vp)(t),"Verbose"),c=(a.Xi[d]=(0,a.Vp)(d),"VerboseTimedEvent"),p=(a.Xi[c]=(0,a.Vp)(c),"Trace"),l=a.Xi[p]=(0,a.Vp)(p),u="Error",v=a.Xi[u]=(0,a.Vp)(u),m="ErrorWithStackTrace",E=(a.Xi[m]=(0,a.Vp)(m),"ErrorWithStackTraceAndSourceDetails"),h=(a.Xi[E]=(0,a.Vp)(E),"LLMEncodingError"),C=a.Xi[h]=(0,a.Vp)(h),y="CustomerAction",S=(a.Xi[y]=(0,a.Vp)(y),"PBI.Dashboard.RootSession"),b=a.Xi[S]=(0,a.Vp)(S),V="PBI.WFE.Error",M=a.Xi[V]=(0,a.Vp)(V),P="PBI.Dashboard.ErrorDialog",T=a.Xi[P]=(0,a.Vp)(P),N="PBI.Dashboard.UnhandledAngularException",w=a.Xi[N]=(0,a.Vp)(N),I="PBI.Data.Exception",O=a.Xi[I]=(0,a.Vp)(I),x="PBI.Visual.Exception",j=a.Xi[x]=(0,a.Vp)(x),U="PBI.Dashboard.UnhandledException",R=(a.Xi[U]=(0,a.Vp)(U),"PBI.HandledException"),B=a.Xi[R]=(0,a.Vp)(R),A="PBI.Dashboard.ReportTilePopulateException",G=(a.Xi[A]=(0,a.Vp)(A),"PBI.Dashboard.UnhandledStacklessException"),q=(a.Xi[G]=(0,a.Vp)(G,{logRatio:1e-4}),"PBI.Visual.Error"),ne=a.Xi[q]=(0,a.Vp)(q),k="PBI.WFE.ReopenUserAccount",L=a.Xi[k]=(0,a.Vp)(k),X="PBI.WFE.AccountClosedPage",Y=a.Xi[X]=(0,a.Vp)(X),Q="PBI.WFE.AbtSignoutRedirectPage",H=a.Xi[Q]=(0,a.Vp)(Q),te="PBI.Visual.Warning",ee=a.Xi[te]=(0,a.Vp)(te),ue="PBI.Visual.ApiUsage",Te=a.Xi[ue]=(0,a.Vp)(ue),He="PBI.Visual.CustomVisualsGenericEvent",We=a.Xi[He]=(0,a.Vp)(He),ft="PBI.EX.CopyActionClicked",mt=a.Xi[ft]=(0,a.Vp)(ft),At="StartActivity",Qe=a.Xi[At]=(0,a.Vp)(At),Fe="EndActivity",ye=a.Xi[Fe]=(0,a.Vp)(Fe),we="PBI.App.SignInError",Ee=a.Xi[we]=(0,a.Vp)(we),Oe="PBI.App.TokenRefreshError",xe=(a.Xi[Oe]=(0,a.Vp)(Oe),"PBI.Storytelling.BrowserNotSupportedLoaded"),Se=a.Xi[xe]=(0,a.Vp)(xe)},884637:function(ve,z,e){e.d(z,{Hv:function(){return t},PR:function(){return n},WB:function(){return r},aD:function(){return d},hM:function(){return o},iD:function(){return c}});var a=e(540673),i=e(18972);function r(s){return!!s&&s.getProperty("name")===a.n.OpenReport}function t(s){return!!s&&s.getProperty("name")===a.n.ChangeReportPage}function o(s,p){return p&&d(s,p.getProperty("parent"))}function d(s,p){for(;p;){if(s(p))return p;p=p.parent}}class n{constructor(p){this.keepAlive=p?.keepAlive()}cancel(){this.keepAlive?.cancel()}resolve(){this.keepAlive?.resolve()}reject(p){this.keepAlive?.reject(p)}}class c extends i.eo{constructor(p,l){super(p),this.level=l}}},38361:function(ve,z,e){e.d(z,{ei:function(){return r},gf:function(){return a},vI:function(){return i}});var a=function(t){return t.PowerBI="PowerBI",t.External="External",t.User="User",t}({}),i=function(t){return t.Master="Master",t.PhonePortrait="PhonePortrait",t}({}),r=function(t){return t.Value="Value",t.Selection="Selection",t.VisualContract="VisualContract",t}({})},664148:function(ve,z,e){e.d(z,{JO:function(){return l},Vn:function(){return c},Xr:function(){return s},o6:function(){return n}});var a=e(470451),i=e(18122),r=e(893420),t=e(844480),o=e(776346),d="v2",n=function(u){return u[u.None=0]="None",u[u.Start=1]="Start",u[u.End=2]="End",u[u.StartAndEnd=3]="StartAndEnd",u}({}),c=function(u){return u[u.Awaited=0]="Awaited",u[u.FireAndForget=1]="FireAndForget",u}({});function s(u,v=n.StartAndEnd,m=c.Awaited){return(g,E,D)=>{i.Y.assertValue(g,"target"),i.Y.assertValue(E,"propertyKey");var h=D.value;return D.value=function(...C){i.Y.assert(()=>!_.isEmpty(u),"eventName"),i.Y.assert(()=>v!==n.None,"activityAction");for(var y=(0,t.kl)();!(y===window.top||y.featureSwitchService&&y.telemetryService);)y=y.parent;var V,f=y.featureSwitchService,S=y.telemetryService,b=!1;if(f&&f.isFeatureSwitchesRegistered()&&f.featureSwitches&&f.featureSwitches.telemetryV2&&S||(b=!0),b)return V=h.apply(this,C);var M=Zone&&Zone.current,P=M&&M.get("data"),T=P&&P.monitoredActivity;(0,r.Lt)(v,n.Start)&&(T=S.startMonitoredActivity(T,u,{baseVersion:d,isFireAndForget:m===c.FireAndForget||void 0}),M=T.currentZone),i.Y.assertValue(M,"currentZone");try{M.run(()=>V=h.apply(this,C))}catch(N){if((0,r.Lt)(v,n.End))return void p(T,N);throw N}return(0,r.Lt)(v,n.End)&&(i.Y.assert(()=>M.name===u,"Event name should be same as the current zone name"),V&&_.isObject(V)&&V.then&&_.isFunction(V.then)?V.then(()=>{p(T)},N=>{p(T,N)}):(i.Y.assertValue(T,"Decorated method called without a start action"),p(T))),V},D}}function p(u,v){i.Y.assertValue(u,"Decorated method called without a start action"),u&&(v?u.reject(v):u.resolve())}function l(u,v,m){return function(g,E,D){i.Y.assertValue(g,"target"),i.Y.assertValue(E,"propertyKey");var h=D.value,C=D.value.length,y=C-1;return D.value=function(...f){var S=f.length,b={},M=C>S;(v&&!M||m&&m>=S)&&i.Y.assertFail("Wrong use of the decorator, check documentation in decorators.ts.`"),f=v&&M?f.concat([...Array(y-f.length),A=>{b.telemetryServiceArgs=A.telemetryServiceArgs,b.activityAttributesArgs=A.activityAttributesArgs}]):f;for(var T=this.proxy?.plugin?.name,N=m&&m<S?f[m]:T||"",w=(0,t.kl)();!(w===window.top||w.telemetryService&&w.certifiedEventsService);)w=w.parent;var I=w.telemetryService,O=w.certifiedEventsService,x=(A,W={})=>{O?.logStandardizedFeatureEvent({visualId:N,correlationId:I?.root?.id,activityName:o.Br,activityAttributes:{...W,apiName:u},activityStatus:A})},j=(A,W=!1)=>{if(!W)return"";try{if(null==A)return"error undefined/empty";if(A instanceof Error){var G=A.message?.trim();return`${typeof A}: ${G||"(empty error message)"}`}if("object"==typeof A){var K=JSON.stringify(A);return K&&"{}"!==K&&"null"!==K?`${typeof A}: ${K}`:typeof A+": (empty or null JSON)"}return A?`${typeof A}: ${String(A).trim()||"(empty string after trim)"}`:typeof A+": unknown error (CustomVisualsTelemetryWrapper fallback)"}catch{return typeof A+": could not convert error to string"}},U=(A,W,G)=>{I?.logEvent(o.UB,{apiName:u,visualType:N,errorOccurred:A,reason:j(G,A),additionalInfo:W})},F=()=>{var A=v?JSON.stringify(b.telemetryServiceArgs):void 0;U(!1,A),x(a.A.Succeeded,b.activityAttributesArgs)},R=A=>{var W=v?JSON.stringify(b.telemetryServiceArgs):void 0;U(!0,W,A),x(a.A.Failed,b.activityAttributesArgs)};try{var B=h.apply(this,f);return B&&_.isObject(B)&&B.then&&_.isFunction(B.then)?B.then(A=>(F(),A),A=>{throw R(A),A}):(F(),B)}catch(A){throw R(A),A}},D}}},558766:function(ve,z,e){e.d(z,{C$:function(){return n},E2:function(){return m},Jd:function(){return s},M8:function(){return l},Yr:function(){return u},b7:function(){return v},pO:function(){return c},wH:function(){return g}});var a=e(717954),i=e(973809),r=e(155281),t=e(523908),o=e(49467),d=e(38361);function n(D){switch(D){case a.HH.External:return r.gf.External;case a.HH.User:return r.gf.User;default:return r.gf.PowerBI}}function c(D,h,C){var y=l(D,C);return y&&(y.errorMessage=h),y}function s(D,h){var C=l(D,h);return C&&(C.errorMessage=D.message),C}function l(D,h,C){if(D&&D.code){var y=D.code,f=D["pbi.error"]&&D["pbi.error"].exceptionCulprit;return null!=f?C?{errorCode:y,errorSource:E(f),requestId:C}:{errorCode:y,errorSource:E(f)}:function(D,h){return h===i.kG.Unauthorized||h===i.kG.Forbidden||h===i.kG.TooManyRequests||D===t.bQ.Code||D===i.kG.Unauthorized.toString()||D===i.kG.Forbidden.toString()||D===i.kG.TooManyRequests.toString()}(y,h)?C?{errorCode:y,errorSource:d.gf.User,requestId:C}:{errorCode:y,errorSource:d.gf.User}:C?{errorCode:y,errorSource:d.gf.PowerBI,requestId:C}:{errorCode:y,errorSource:d.gf.PowerBI}}if(null!=h){var S=h===i.kG.TooManyRequests?d.gf.User:d.gf.PowerBI;return C?{errorCode:"HttpStatusCode = "+h,errorSource:S,requestId:C}:{errorCode:"HttpStatusCode = "+h,errorSource:S}}}function u(D,h){var C=l(D,h);if(C)return null!=h&&(h===i.kG.BadRequest||h===i.kG.Unauthorized||h===i.kG.Forbidden||h===i.kG.TooManyRequests||h===i.kG.NotFound)&&(C.errorSource=d.gf.User),C}function v(D){if(D)return{errorCode:D.errorCode,errorMessage:"StatusCode="+D.statusCode,errorSource:null!=D.exceptionCulprit?g(D.exceptionCulprit):void 0}}function m(D){if(D){if(D.error)return D.error.code;if(D.status)return D.status.toString()}}function g(D){switch(D){case o.eZ:return d.gf.External;case o.Qw:return d.gf.User;default:return d.gf.PowerBI}}function E(D){switch(D){case a.HH.External:return d.gf.External;case a.HH.User:return d.gf.User;default:return d.gf.PowerBI}}},285264:function(ve,z,e){e.d(z,{Xi:function(){return o},FP:function(){return p},DJ:function(){return g},Vp:function(){return m},ih:function(){return c},OO:function(){return h},$F:function(){return s},DK:function(){return E}});var a=e(18122),i=e(865429),r=e(454840),o={},d=r.n4.generateGuid,n=["sessionId","tenantObjectId","userObjectId","userId","isInternalUser","sessionSource"];function c(C){var f,b,y=0;if(0===C.length)return y;var V=C.toLowerCase();for(f=0,b=V.length;f<b;f++)y=(y<<5)-y+V.charCodeAt(f),y|=0;return y}function s(C){return c(C).toString()}function p(C,y,f){a.Y.assertAnyValue(C,"requiredFields"),a.Y.assertAnyValue(y,"optionalFields"),a.Y.assertAnyValue(f,"target");var S=f||C||{};if(f&&C&&(f=function(C,y,f){if(C||y)return!C||y?C||!y?$.extend(C,y,f):y:C}(f,C)),y)for(var b in y)if(y.hasOwnProperty(b)){var V=y[b];void 0!==V&&!1!==V&&(S[b]=V)}return S}function m(C,y){return f=>({name:C,time:(0,i.t)(),id:d(),...y,info:f,formatted:()=>function(C,y,f){if(f){var S=[];for(var b in f){var V=y[f[b]];(void 0===V||!1===V)&&S.push(f[b])}y=_.omit(y,S)}return _.extend(C,y),C}({},f,y?.optionalParameters)})}function g(C,y){a.Y.assert(()=>!_.isEmpty(C),"eventName"),a.Y.assertValue(y,"info"),a.Y.assertValue(Zone,"Zone");var f=Zone.current;if(f&&f.name===C){var S=f.get("data");if(S){for(var b of n)if(void 0!==y[b])throw new Error("Field '"+b+"' is restricted from override.");_.extend((S.monitoredActivity&&S.monitoredActivity.activityEvent).info,y)}else a.Y.assertFail("No data field is stored in current zone")}else a.Y.assertFail(`This method is expected to be used with ZoneJS and current Zone match the event name. event=${C}, currentZone=${f&&f.name}`)}function E(C,y,f){return C?C.run(()=>y.apply(f)):f?f.fn():y()}function D(C){return C&&!0===C.get("isAngularZone")}function h(C){for(var y=!1,f=C;f&&D(f);){if(f._zoneDelegate._taskCounts.microTask>0){y=!0;break}f=f.parent}return y}},465781:function(ve,z,e){e.d(z,{X:function(){return r}});var a=e(262273),i=function(t){return t[t.Member=0]="Member",t[t.Guest=1]="Guest",t}({});class r{static getFullName(){var o=(0,a.ug)();return o.givenName+" "+o.surname}static isInternalUser(){var o=(0,a.ug)();if(!o||!o.name)return!1;var d=o.name.toLowerCase();return d.indexOf("@microsoft.com")>=0||d.indexOf(".microsoft.com")>=0}static getUPN(){return(0,a.ug)().name}static getEmailAddressForReceivingMail(){var o=(0,a.ug)();return null==o?"":_.isEmpty(o.alternateEmail)?o.name:o.alternateEmail}static isEntraExternalUser(){var o=(0,a.ug)();return!!o&&!!o.idp&&o.idp!==o.iss}static userAccountStatus(){var o=(0,a.ug)();return o&&1===o.acct?i.Guest:i.Member}}},18950:function(ve,z,e){e.d(z,{Oo:function(){return d},wk:function(){return n},MG:function(){return o}});var a=e(316578);function i(){var u=(0,a.N)();return u.telemetry||(u.telemetry={}),u.telemetry}var t=e(776346),o="PowerBI.com",d="ActivityId",n="RequestId";i().WFEError||(i().WFEError=t.H6),i().AppSignInError||(i().AppSignInError=t.yC,i().WFEAccountClosedPage=t.zv,i().WFEReopenUserAccount=t.Iz),i().WFEAbtSignoutRedirectPage||(i().WFEAbtSignoutRedirectPage=t.I$),i().StorytellingBrowserNotSupportedLoaded||(i().StorytellingBrowserNotSupportedLoaded=t.B0)},505239:function(ve,z,e){e.d(z,{YR:function(){return r},au:function(){return i},o8:function(){return t}}),e(18122);var i=function(n){return n[n.Verbose=0]="Verbose",n[n.CustomerAction=1]="CustomerAction",n[n.CriticalError=2]="CriticalError",n[n.Trace=3]="Trace",n[n.SnapShotEmbedUserAction=4]="SnapShotEmbedUserAction",n}({}),r=function(n){return n[n.LocalyticsDeprecated=1]="LocalyticsDeprecated",n[n.AppInsightDeprecated=2]="AppInsightDeprecated",n[n.AppInsight=4]="AppInsight",n[n.Etw=8]="Etw",n[n.Mobile=16]="Mobile",n[n.WinJs=32]="WinJs",n[n.Designer=64]="Designer",n[n.NgRx=128]="NgRx",n[n.MetaOSStandardizedClientReporting=352]="MetaOSStandardizedClientReporting",n[n.DatahubEmbedLocal=800]="DatahubEmbedLocal",n}({});function t(){return window.powerbi.telemetrySamplingRules}},44303:function(ve,z,e){e.d(z,{T9:function(){return g},e3:function(){return t},eq:function(){return m},ge:function(){return v},gt:function(){return l},lt:function(){return u},tw:function(){return o},x6:function(){return c}});var a=e(18122),i=e(264586),r={major:0,minor:0,patch:0},t="0.0",o="99.9",d=function(y){return y[y.Major=0]="Major",y[y.Minor=1]="Minor",y[y.Patch=2]="Patch",y[y.Prerel=3]="Prerel",y}({}),n=function(y){return y[y.Dot=46]="Dot",y[y.Dash=45]="Dash",y[y.Zero=48]="Zero",y[y.Nine=57]="Nine",y[y.A=65]="A",y[y.Z=90]="Z",y[y.a=97]="a",y[y.z=122]="z",y}({});function c(y){a.Y.assertValue(y,"versionString");for(var V,f=0,S=0,b=0,M=d.Major,P=0,T=0,N=y.length;P<=N;P++){var w=P===N?n.Dot:y.charCodeAt(P);switch(w){case n.Dot:case n.Dash:if(P===T)return;var I=(0,i.c)(y,T,P-T);if(null==I)return;switch(M){case d.Major:f=I;break;case d.Minor:S=I;break;case d.Patch:b=I;break;default:return}if(M++,T=P+1,w===n.Dash){if(M!==d.Prerel||!s(V=y.substr(P+1)))return;P=N}break;default:if(w<n.Zero||w>n.Nine)return}}var O={major:f,minor:S,patch:b};return V&&(O.prerel=V),O}function s(y){a.Y.assertValue(y,"prerel");for(var f=0,S=y.length;f<S;f++){var b=y.charCodeAt(f);if(!(n.A<=b&&b<=n.Z||n.a<=b&&b<=n.z||n.Zero<=b&&b<=n.Nine||b===n.Dash||b===n.Dot))return!1}return!0}function l(y,f){return a.Y.assertValue(y,"v1"),a.Y.assertValue(f,"v2"),D(E(y),E(f))>0}function u(y,f){return a.Y.assertValue(y,"v1"),a.Y.assertValue(f,"v2"),D(E(y),E(f))<0}function v(y,f){return a.Y.assertValue(y,"v1"),a.Y.assertValue(f,"v2"),D(E(y),E(f))>=0}function m(y,f){return a.Y.assertValue(y,"v1"),a.Y.assertValue(f,"v2"),y=E(y),f=E(f),!D(E(y),E(f))}function g(y,f){return l(E(y),E(f))?y:f}function E(y){return _.isString(y)?c(y)||r:y}function D(y,f){var S=h(y.major,f.major);return S||(S=h(y.minor,f.minor))||(S=h(y.patch,f.patch))?S:function(y,f){var S=_.isEmpty(y),b=_.isEmpty(f);if(S)return b?0:1;if(b)return-1;var V=(0,i.c)(y,0,y.length),M=(0,i.c)(f,0,f.length);return null!=V?null!=M?h(V,M):-1:null!=M?1:y.localeCompare(f)}(y.prerel,f.prerel)}function h(y,f){var S=(y=y||0)-(f=f||0);return 0===S?0:S<0?-1:(a.Y.assert(()=>S>0,"diff > 0"),1)}},333463:function(ve,z,e){e.d(z,{A:function(){return i}});var a=e(154428);class i{static getModalDialog(t){return i.modalDialog||(i.modalDialog=new a.yZ(null,t)),i.modalDialog}static errorServiceModalDialogControl(t){return i.getModalDialog(t)}}},961842:function(ve,z,e){e.d(z,{Iq:function(){return n}});var a=e(285264),i="PBI.ShowModalDialogRejected",t=(a.Xi[i]=(0,a.Vp)(i),"PBI.ShowModalDialogSkippedNestedDialogs"),d=(a.Xi[t]=(0,a.Vp)(t),"PBI.TriggerRefresh"),n=a.Xi[d]=(0,a.Vp)(d)},261131:function(ve,z,e){e.d(z,{x:function(){return a}});class a{constructor(){this.inputUserList=[],this.validEmailsList=[],this.validObjectIds=[],this.hasValidationError=!1,this.isDirty=!1}}},992971:function(ve,z,e){e.d(z,{vt:function(){return m},zL:function(){return c}});var a=e(18122),i=e(371577),d="[toolbar-anchor]",c="[toolbar-container]",s="overlayActive",v={layout:i.m1.Overlayed,preferHorizontalLayout:!1,theme:i.pu.Dark};function m(D,h,C){return new E(D,h,C)}var g=function(D){return D[D.Top=0]="Top",D[D.Bottom=1]="Bottom",D[D.Left=2]="Left",D[D.Right=3]="Right",D}({});class E{constructor(h,C,y){this.anchor=h.closest(d),this.container=h.closest(c),a.Y.assert(()=>this.container.length>0,"toolbarOverlay.container"),this.updateOptions(y),this.visible=!1,C&&this.setToolbar(C)}setToolbar(h){var C=this.toolbar;if(C!==h){if(C&&C.remove(),!h)return void(this.toolbar=null);this.toolbar=h,h.addClass("toolbarOverlay");var{layout:y,theme:f}=this.options;this.updateTheme(void 0,f),this.updateLayout(void 0,y),this.setVisibility(this.visible),this.container.append(h)}}destroy(){var h=this.toolbar;h&&h.remove(),this.toolbar=void 0,this.visible=!1}updateOptions(h){var C=this.options;h=this.options=_.defaults({},h,this.options,v),this.updateTheme(C&&C.theme,h.theme),this.updateLayout(C&&C.layout,h.layout)}updateTheme(h,C){!this.toolbar||h===C||(null!=h&&this.toolbar.removeClass(h),this.toolbar.addClass(C))}updateLayout(h,C){!this.toolbar||h===C||(a.Y.assert(()=>C!==i.m1.Overlayed||!!this.anchor,`Overlayed must have an element matching the "${d}" selector`),null!=h&&(this.toolbar.removeClass(h),h===i.m1.Overlayed&&this.clearToolbarPosition()),this.toolbar.addClass(C))}show(){this.toolbar&&(this.repositionToolbar(),this.toolbar.addClass(s),this.visible=!0)}hide(){this.toolbar&&(this.toolbar.removeClass(s),this.visible=!1)}setVisibility(h){h?this.show():this.hide()}isVisible(){return this.visible}clearToolbarPosition(){this.toolbar&&this.toolbar.removeClass("top right bottom left")}repositionToolbar(){if(this.options.layout===i.m1.Overlayed){var h=this.toolbar;if(h){a.Y.assertValue(this.anchor.length>0,"toolbarOverlay.anchor");var j,C=h.outerWidth(!0),y=h.outerHeight(!0),f=this.anchor.get(0).getBoundingClientRect(),S=f.left,b=f.right,V=f.bottom,M=this.container.get(0).getBoundingClientRect(),P=M.top,T=M.left,N=M.right,w=f.top,I=0,O=!0,x=!0,U=C+17,F=S-T,R=M.width-b;this.options.preferHorizontalLayout&&(F>U||R>U)?F>=R?(I=S-U,j=g.Left):(I=b+17,j=g.Right):((I=S)+C>T+M.width&&(I=S+f.width-C,O=!1),I<0&&(I=0),j=g.Top,(w=f.top-y-27)<P&&(w=f.top+f.height+27,j=g.Bottom,x=!1));var G=M.bottom,K=w+y+27;if(K>G&&(w=Math.max(0,w-(K-G))),this.options.dropdownOptions){var{dropdown:q,extraWidthOnRight:ne,extraWidthOnLeft:k}=this.options.dropdownOptions,L=q.getBoundingClientRect(),X=w-P,Y=G-(w+y),Q=I-k>T,H=I+C+ne>N;switch(j){case g.Top:this.updateDropdownVerticalAlignment(q,X,Y,b>L.left),this.updateDropdownHorizontalAlignment(q,Q,H);break;case g.Bottom:this.updateDropdownVerticalAlignment(q,X,Y),this.updateDropdownHorizontalAlignment(q,Q,H);break;case g.Left:this.updateDropdownHorizontalAlignment(q,Q,H,V>L.top),this.updateDropdownVerticalAlignment(q,X,Y);break;case g.Right:this.updateDropdownHorizontalAlignment(q,Q,H),this.updateDropdownVerticalAlignment(q,X,Y);break;default:a.Y.assertNever(j)}}h.css({top:w,left:I});var ue=`${O?"left":"right"} ${x?"top":"bottom"}`;h.removeClass("top right bottom left"),h.addClass(ue)}}}resetDropdownHorizontalAlignment(h){$(h).css("right","")}resetDropdownVerticalAlignment(h){$(h).css("top","100%").css("bottom","")}moveDropdownToTheLeft(h){$(h).css("right",0)}moveDropdownUp(h){$(h).css("top","initial").css("bottom","100%")}updateDropdownVerticalAlignment(h,C,y,f=!1){var S=h.getBoundingClientRect().height,b=C>S,V=y<S;b&&(V||f)?this.moveDropdownUp(h):(this.resetDropdownVerticalAlignment(h),!b&&V&&$(h).css("height",`${y}px`))}updateDropdownHorizontalAlignment(h,C,y,f=!1){C&&(y||f)?this.moveDropdownToTheLeft(h):this.resetDropdownHorizontalAlignment(h)}}},78056:function(ve,z,e){e.d(z,{F7:function(){return T},FN:function(){return b},Gp:function(){return C},HL:function(){return D},Ht:function(){return B},Id:function(){return M},KD:function(){return r},KS:function(){return t},NL:function(){return d},O8:function(){return a},P5:function(){return v},Sz:function(){return V},To:function(){return N},VU:function(){return F},ZJ:function(){return u},_C:function(){return P},ad:function(){return y},hJ:function(){return h},iA:function(){return p},kM:function(){return c},l_:function(){return A},ln:function(){return m},o:function(){return n},o7:function(){return s},p0:function(){return l},qH:function(){return o},s_:function(){return E},sm:function(){return w},sw:function(){return R},tO:function(){return f},uZ:function(){return i},zn:function(){return g}});var a="Explore_ExplorationCreation",i="ExportExcel_EmptyColumnName",r="modelFailednoErrorInfo",t="ModelSizeExceedsSharedCapacityLimit",o="ModelWithIncrementalRefreshIsNotDownloadable",d="ServerError_PremiumFilesErrors_OperationIsNotSupportedForPremiumFilesModel",n="ExportData_DisabledForModelModifiedByXmlaEndpoint",c="ExportData_DisabledForModelWithInferredPartition",s="UnsupportedModelWithRefreshPolicyInSharedCapacity",p="DatasetsWithCompositeModelsNotSupported",l="ServerError_PremiumFilesErrors_ASWLConversionBadRequest",u="ServerError_PremiumFilesErrors_ASWLConversionInternalServerError",v="ServerError_PremiumFilesErrors_OperationIsNotSupportedForPremiumFilesModelWithoutCapacity",m="ServerError_PremiumFilesErrors_ASWLConversionConflict",g="ExportData_DisabledForModelWithDirectLakeMode",E="ExportPBIX_NoExplorationFound",D="ExportPBIXV2_NoExplorationDocumentFound",h="PowerBIEntityNotFound",C="PowerBINotAuthorizedException",y="PowerBINotLicensedException",f="rsErrorOpeningConnection",b="TokenExpired",V="UserNotLicensed",M="NetworkConnectionIssue",P="NavigateAway",T="ChangeDetectionMeasureExecutionDisabledException",N="UnsupportedChangeDetectionMeasureException",w="FailedToAutoAssignLicense",F="ChangeOwnership_InvalidSelectedUserException",R="ChangeOwnership_UnauthorizedException",B="PowerBIOperationNotSupported",A="UserCancelled"},879025:function(ve,z,e){e.d(z,{Y:function(){return r},q:function(){return i}});var a=e(501285);function i(t){(0,a.iE)().errorService=t}function r(){return(0,a.iE)().errorService}},441877:function(ve,z,e){e.d(z,{E8:function(){return n},Er:function(){return m},GE:function(){return d},Hb:function(){return v},Kc:function(){return f},L_:function(){return g},N4:function(){return b},No:function(){return D},Tv:function(){return c},VA:function(){return o},Wk:function(){return C},Yw:function(){return i},gE:function(){return p},hl:function(){return u},iN:function(){return S},nv:function(){return y},p_:function(){return E},sr:function(){return t},uG:function(){return s},wM:function(){return l}});var a=e(876082),i=function(V){return V[V.AzureMapsDomain=1]="AzureMapsDomain",V[V.All=1]="All",V}({}),t={type:a.U.Visual,name:"visualContainerResizeStart"},o={type:a.U.Visual,name:"visualContainerResizeEnd"},d={type:a.U.Visual,name:"visualContainerInteraction"},n={type:a.U.Visual,name:"canvasItemContainerShowHover"},c={type:a.U.Visual,name:"canvasItemContainerHideHover"},s={type:a.U.Visual,name:"liveReportTileReady"},p={type:a.U.Visual,name:"printSectionReady"},l={type:a.U.Exploration,name:"reportPrintSectionStarted"},u={type:a.U.Exploration,name:"reportPrintSectionFinished"},v={type:a.U.Global,name:"loadPowerViewReport"},m={type:a.U.Global,name:"explorationUnloaded"},g={type:a.U.Global,name:"informationProtectionLoaded"},E={type:a.U.Global,name:"printModeChanged"},D={name:"reportRefreshStateChanged",type:a.U.Global},C={name:"tileVisualLoadedChanged",type:a.U.Global},y={name:"externalUrlChanged",type:a.U.Global},f={type:a.U.Global,name:"scrollToSelectedTile"},S={type:a.U.Global,name:"Tile_RLS_NoAccess"},b={name:"dashboardTileScaleChanged",type:a.U.Visual}},21994:function(ve,z,e){e.d(z,{IZ:function(){return d},R0:function(){return i},VY:function(){return p},ZZ:function(){return t},cZ:function(){return a},pr:function(){return r},sr:function(){return s},uF:function(){return o},yt:function(){return n}});var a={13:"https://go.microsoft.com/fwlink/?LinkId=546971",19:"https://go.microsoft.com/fwlink/?LinkID=528958",10:"https://go.microsoft.com/fwlink/?LinkID=528796",30:"https://go.microsoft.com/fwlink/?LinkId=613552",23:"https://go.microsoft.com/fwlink/?LinkID=528959",16:"https://go.microsoft.com/fwlink/?LinkID=528957",17:"https://go.microsoft.com/fwlink/?LinkID=528797",20:"https://go.microsoft.com/fwlink/?LinkId=613120",9:"https://go.microsoft.com/fwlink/?LinkID=528963",26:"https://go.microsoft.com/fwlink/?LinkID=528960",42:"https://go.microsoft.com/fwlink/?LinkId=536680",41:"https://go.microsoft.com/fwlink/?LinkId=613402",52:"https://go.microsoft.com/fwlink/?LinkId=615189",14:"https://go.microsoft.com/fwlink/?LinkId=544911",38:"https://go.microsoft.com/fwlink/?LinkID=615577",18:"https://go.microsoft.com/fwlink/?LinkId=533295",24:"https://go.microsoft.com/fwlink/?LinkID=528961"},i="https://go.microsoft.com/fwlink/?LinkId=532757",r="https://go.microsoft.com/fwlink/?linkid=2179788",t="https://go.microsoft.com/fwlink/?LinkId=525916",o="https://go.microsoft.com/fwlink/?LinkId=823121",d="https://go.microsoft.com/fwlink/?LinkId=786855",n="https://go.microsoft.com/fwlink/?LinkId=823122",s="https://go.microsoft.com/fwlink/?LinkID=825665",p="https://learn.microsoft.com/en-us/power-bi/developer/visuals/licensing-faq"},704867:function(ve,z,e){e.d(z,{uy:function(){return n}});var a=e(858807),i=e(18122),r=e(495123),t=e(441877);class n{static getPrintTargetViewPort(s){var p={width:a.a2e,height:a.fAq};if(s.width()>s.height()&&(p.width=a.OJn,p.height=a.Vw7),r.C.isChrome()){var v=s.parent();p.width=v.width(),p.height=v.height()}return p}static calculateScaleFactor(s,p,l){var u=p.width/s.width,v=p.height/s.height;return l?Math.max(u,v):Math.min(u,v)}getStyleString(s){for(var p=Object.keys(s),l="",u=0,v=p.length;u<v;u++){var m=p[u];l=l+m+":"+s[m]+";"}return l}onInit(s,p,l,u,v,m,g){m||(this.globalSubscriptionManager=g.createChannelSubscriptionManager().subscribe(t.p_,(E,D)=>{D===a.Nk9?this.insertPrintStylingInDOM(s,p,l,u,v):D===a.hUJ&&this.removePrintStylingFromDOM(s)}))}onDestroy(s,p){p||(this.domLayoutChangedDeregister&&this.domLayoutChangedDeregister(),this.onExitPrintModeDeregister&&this.onExitPrintModeDeregister(),this.globalSubscriptionManager.unsubscribeAll()),this.removePrintStylingFromDOM(s,!0)}insertPrintStylingInDOM(s,p,l,u,v){if(null!=l){var m=window.location.pathname.toLowerCase();if(!1===v.featureSwitches.printingEnabled&&"/export/report"!==m&&"/reportembedexporthost"!==m){if(!this.printDisabledElement){var E=u.get("PrintingIsDisabledForThisTenantMessage"),D=$("<div>").addClass("errorTitle").text(E),h=$("<div>").attr("id","printDisabledOverlay").append(D);this.printDisabledElement=h,$("body").append(this.printDisabledElement)}return void s.hide()}this.printStyleElement||(this.printStyleElement=$("<style></style>").attr("type","text/css").attr("media","print"),$("body").append(this.printStyleElement));var C=p(s);i.Y.assertValue(C,"printStylesObject");var y=this.getStyleString(C);this.printStyleElement.get(0).sheet.insertRule(`.${l} { ${y} }`)}}removePrintStylingFromDOM(s,p=!1){if(this.printDisabledElement&&(this.printDisabledElement.remove(),this.printDisabledElement=void 0,s.show()),this.printStyleElement)if(p)this.printStyleElement.remove(),this.printStyleElement=void 0;else for(var l=this.printStyleElement.get(0).sheet,u=l.cssRules.length;u--;)l.removeRule(u)}}},894345:function(ve,z,e){e.d(z,{$y:function(){return E},C1:function(){return R},D_:function(){return Q},EE:function(){return X},FC:function(){return W},FR:function(){return f},Gb:function(){return B},Gw:function(){return H},IJ:function(){return h},Iq:function(){return y},PH:function(){return N},Pl:function(){return K},Qv:function(){return A},TI:function(){return M},Tg:function(){return m},Uo:function(){return Y},WT:function(){return C},Xc:function(){return L},Ym:function(){return k},bB:function(){return G},jU:function(){return w},k7:function(){return I},kz:function(){return O},rY:function(){return V},sq:function(){return F},t8:function(){return D},v_:function(){return j},vr:function(){return S},yd:function(){return g}});var a=e(893580),i=e(694398),r=e(858807),t=e(594293),o=e(90506),d=e(18122),n=e(454840),c=e(879025),s=e(65387),p=2998,l=2,u={year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},v={year:"2-digit",month:"numeric",day:"numeric"};function m(ee){for(var ue=ee.refreshConnections,Te=void 0!==ue?ue.length:0,He=0;He<Te;He++)if(ue[He].onpremGatewayRequired)return!0;return!1}function g(ee){return m(ee)||E(ee)}function E(ee){var ue=new RegExp("(asazure://|pbiazure://|powerbi://|link://)","i");return(void 0===ee.onPremModelConnectionString||ue.test(ee.onPremModelConnectionString))&&ee.dataCacheMode!==t.Ak.DirectQuery}function D(ee){try{var ue=n.n4.getDateFromWcfJsonString(ee,!0);return ee&&!ue&&d.Y.assertFail("malformed refresh time could not be parsed to date: "+ee),ue}catch(Te){return d.Y.assertFail(Te.message),null}}function h(ee,ue,Te=!0){try{var He=D(ee);return!Te||!He||He.getFullYear()>p||He.getFullYear()<l?ue.get("ManageDatasets_NextRefresh_NA"):He.toLocaleString()}catch(We){return d.Y.assertFail(We.message),ue.get("ManageDatasets_NextRefresh_NA")}}function C(ee,ue){try{var Te=D(ee);return!Te||Te.getFullYear()>p||Te.getFullYear()<l?ue&&ue.invalidDateTimePlaceholder||"":Te.toLocaleDateString(ue?.locale||void 0,ue&&ue.format||v)}catch(He){return d.Y.assertFail(He.message),ue&&ue.invalidDateTimePlaceholder||""}}function y(ee,ue,Te){try{var He=D(ee);return!He||He.getFullYear()>p||He.getFullYear()<l?ue&&ue.invalidDateTimePlaceholder||"":He.toLocaleString(Te,ue&&ue.format||u)}catch(We){return d.Y.assertFail(We.message),ue&&ue.invalidDateTimePlaceholder||""}}function f(ee,ue,Te){var He=new Array;for(var We of ue){var ft=V(ee,We,Te);ft.datasourceId=We.dataSourceId,ft.dataSourceObjectId=We.dataSourceObjectId,ft.gatewayId=We.gatewayId,ft.gatewayObjectId=We.gatewayObjectId,ft.testConnectionState=We.credentialDetails?s.wm.NotStart:s.wm.NotSpecified,ft.alreadyExecutedTestConnection=!1,ft.normalizedPath=We.normalizedPath,ft.dsr=We.dataSourceReference,ft.onpremGatewayRequired=We.onPremGatewayRequired,He.push(ft)}return He}function S(ee,ue){switch(ee){case o.aG.NotSpecified:return ue.get("AuthenticationMethod_NotSpecified");case o.aG.Windows:return ue.get("SettingsDataSource_SettingsAuthenticationMethod_Windows");case o.aG.Anonymous:return ue.get("SettingsDataSource_SettingsAuthenticationMethod_Anonymous");case o.aG.Basic:return ue.get("SettingsDataSource_SettingsAuthenticationMethod_Basic");case o.aG.Key:return ue.get("SettingsDataSource_SettingsAuthenticationMethod_Key");case o.aG.OAuth2:return ue.get("AuthenticationMethod_OAuth2");case o.aG.EffectiveUserName:return ue.get("AuthenticationMethod_EffectiveUserName");case o.aG.SingleSignOn:return ue.get("AuthenticationMethod_SingleSignOn");case o.aG.WindowsWithoutImpersonation:return ue.get("AuthenticationMethod_WindowsWithoutImpersonation");case o.aG.SAS:return ue.get("AuthenticationMethod_SAS");case o.aG.ServicePrincipal:return ue.get("AuthenticationMethod_ServicePrincipal");case o.aG.WorkspaceIdentity:return ue.get("Trident_Workspace_Settings_Workspace_Identity");default:return o.aG[ee]}}function b(ee,ue){return _.map(ee,Te=>S(Te,ue))}function V(ee,ue,Te){var He=ue.credentialDetails,We={modelId:ee,datasourceId:ue.dataSourceId,dataSourceObjectId:ue.dataSourceObjectId,gatewayId:ue.gatewayId,gatewayObjectId:ue.gatewayObjectId,name:ue.dataSourceName,oAuth2URL:ue.oAuth2Endpoint,oAuth2Nonce:ue.oAuth2Nonce,datasourceType:ue.dataSourceType,datasourceReference:P(ue.dataSourceReference),dsr:ue.dataSourceReference,credentialTypes:ue.supportedAuthenticationTypes,credentialTypesNames:b(ue.supportedAuthenticationTypes,Te),connectionStringGeneralProperties:M(ue.connectionDetails),onpremGatewayRequired:ue.onPremGatewayRequired,singleSignOnType:ue.singleSignOnType,skipTestConnection:!!He&&He.skipTestConnection,selectedCredentialType:He?He.credentialType:void 0,selectedPrivacyLevel:He?He.privacyLevel:void 0,gatewayType:ue.gatewayType};if(We.datasourceType===o.ol.Extension){var ft=JSON.parse(ue.dataSourceReference);We.dataSourceKind=ft.kind}return We.fullName=U(We,Te),We.displayName=j(We,Te),We}function M(ee){return P(ee)}function P(ee){var ue=new Array;if(ee){var Te=JSON.parse(ee);for(var He in Te)ue.push({name:He,value:Te[He]})}return ue}function T(ee){return ee?null!=ee.server?(d.Y.assertValue(ee.database,"database"),[{name:"Server",value:ee.server},{name:"Database",value:ee.database}]):null!=ee.path?[{name:"path",value:ee.path}]:null!=ee.modelId?[{name:"modelId",value:ee.modelId},{name:"workspaceId",value:ee.workspaceId}]:(d.Y.assertValue(ee.extensionDataSourceKind,"extensionDataSourceKind"),d.Y.assertValue(ee.extensionDataSourcePath,"extensionDataSourcePath"),[{name:"extensionDataSourceKind",value:ee.extensionDataSourceKind},{name:"extensionDataSourcePath",value:ee.extensionDataSourcePath}]):[]}function N(ee,ue,Te){var He=(0,i.p)(ue.connectionDetails),We=[];_.includes(ue.supportedAuthenticationTypes,o.aG.Basic)&&We.push(o.aG.Basic),_.includes(ue.supportedAuthenticationTypes,o.aG.OAuth2)&&We.push(o.aG.OAuth2),ue.supportedAuthenticationTypes=We;var ft={modelId:ee,datasourceId:ue.dataSourceId,dataSourceObjectId:ue.dataSourceObjectId,name:o.ol[ue.dataSourceType],oAuth2URL:ue.oAuth2Endpoint,oAuth2Nonce:ue.oAuth2Nonce,datasourceType:ue.dataSourceType,credentialTypes:ue.supportedAuthenticationTypes,credentialTypesNames:b(ue.supportedAuthenticationTypes,Te),connectionStringGeneralProperties:T(He),onpremGatewayRequired:!1,gatewayId:ue.gatewayId,gatewayObjectId:ue.gatewayObjectId,isCloudDirectQuery:!0,testConnectionErrorMessage:ue.credentialDetails?null:Te.get("SettingsDataset_Error_CredentialsNotFound"),testConnectionState:ue.credentialDetails?s.wm.Passed:s.wm.Failed,alreadyExecutedTestConnection:!0,singleSignOnType:ue.singleSignOnType};return ft.fullName=U(ft,Te),ft.displayName=j(ft,Te),ft}function w(ee,ue){return{importAndRefreshBehavior:ee.importAndRefreshBehavior,refreshEnabled:ee.refreshEnabled,refreshFrequency:H(ee),refreshDays:B(ee.weekDays),refreshTimeWindowIndex:G(ee.executionTime,ue),refreshTimesHourly:k(ee.executionTimeHourly,ue),refreshTimeZoneId:ee.localTimeZoneId,sendFailureEmail:!0,isRefreshable:ee.isRefreshable,refreshNotificationEnabled:ee.refreshNotificationEnabled,refreshEmails:{emailsList:void 0,emailValidationError:"",emailValidationWarning:""}}}function I(ee,ue){var Te=ee.refreshSchedule,He=w(Te,ue);return He.refreshFrequency===s.o0.Weekly&&Te.refreshFrequency&&Te.refreshFrequency===s.o0.Daily.toString()&&9===ee.contentProviderId&&(He.refreshFrequency=s.o0.Daily,He.refreshEnabled=!0,ee.nextRefreshTime&&((!He.refreshTimesHourly||He.refreshTimesHourly.length<1)&&(He.refreshTimesHourly=function(ee){var ue=D(ee),Te=ue.getMinutes(),He=ue.getHours();return Te>30?(Te=0,++He>24&&(He-=24)):Te=30,[{refreshHourIndex:(He+11)%12,refreshMinuteIndex:Math.floor(Te/30),refreshAmPmIndex:Math.floor(He/12),isIncomplete:!1,isDuplicate:!1}]}(ee.nextRefreshTime)),(!He.refreshTimeWindowIndex||0===He.refreshTimeWindowIndex)&&(He.refreshTimeWindowIndex=function(ee){var ue=D(ee),Te=ue.getHours();return ue.getMinutes()>30&&(++Te>24&&(Te-=24)),Te}(ee.nextRefreshTime)))),new s.p0(ee,ee.id,ee.displayName,ee.description,ee.lastRefreshStatus===a.Ym.RefreshError||ee.lastRefreshStatus===a.Ym.PublishError,_.isEmpty(ee.refreshHistories)?"":ee.refreshHistories[0].friendlyErrorMessage,D(ee.nextRefreshTime)?.toString()??void 0,He,ee.parameters,ue)}function O(ee,ue){var Te=ee.refreshFrequency===s.o0.Daily,He=ee.refreshFrequency===s.o0.Weekly,We=null;Te?We=r.Pif:He&&(We=A(ee.refreshDays));var ft=null;return!Te&&!He&&(ft=ee.refreshFrequency.toString()),{importAndRefreshBehavior:ee.importAndRefreshBehavior,refreshEnabled:ee.refreshEnabled,isDaily:ee.refreshFrequency===s.o0.Daily,refreshFrequency:ft,weekDays:We,executionTime:ue?K(6*ee.refreshTimeWindowIndex):null,executionTimeHourly:ue?null:W(ee.refreshTimesHourly),localTimeZoneId:ee.refreshTimeZoneId,refreshNotificationEnabled:ee.refreshNotificationEnabled,refreshContacts:ee.refreshEmails.emailsList?ee.refreshEmails.emailsList.inputUserList:[]}}function j(ee,ue){switch(ee.datasourceType){case o.ol.AnalysisServices:case o.ol.Oracle:case o.ol.SqlServer:case o.ol.MySql:case o.ol.PostgreSql:case o.ol.Sybase:case o.ol.Teradata:case o.ol.DB2:case o.ol.Informix:case o.ol.SAP:case o.ol.Essbase:var Te,He,We=ee.connectionStringGeneralProperties;if(!We)return o.ol[ee.datasourceType];for(var ft=We.length,mt=0;mt<ft;mt++){var At=We[mt];"database"===At.name?Te=At.value:"server"===At.name&&(He=At.value)}return Te||He?(Te||"")+(Te&&He?"-":"")+(He||""):o.ol[ee.datasourceType];case o.ol.Folder:case o.ol.File:var Qe=_.find(ee.connectionStringGeneralProperties,{name:"path"});return n.n4.extractFileNameFromPath(Qe.value);case o.ol.Extension:return _.find(ee.connectionStringGeneralProperties,{name:"extensionDataSourceKind"}).value;case o.ol.AdoDotNet:var ye=_.find(ee.connectionStringGeneralProperties,{name:"workspaceId"}),we=_.find(ee.connectionStringGeneralProperties,{name:"modelId"});return ue.format("SettingsDataset_AdoDotNetText",[ye.value,we.value]);case o.ol.ActiveDirectory:case o.ol.AzureTable:case o.ol.AzureBlob:case o.ol.Web:case o.ol.OData:case o.ol.SharePoint:case o.ol.GoogleAnalytics:case o.ol.Exchange:case o.ol.Facebook:case o.ol.HDInsight:case o.ol.AzureMarketplace:case o.ol.Salesforce:case o.ol.SAPBW:case o.ol.OleDb:case o.ol.ODBC:return o.ol[ee.datasourceType];case o.ol.SharePointList:return"SharePoint";default:return ee.name}}function U(ee,ue){switch(+ee.datasourceType){case o.ol.Folder:case o.ol.File:return _.find(ee.connectionStringGeneralProperties,{name:"path"}).value;default:return j(ee,ue)}}function F(ee,ue){if(!_.isEmpty(ee))for(var Te of ee)Te.displayName=j(Te,ue),Te.fullName=U(Te,ue)}function R(ee){if(ee){if(null!=ee.clientCategory)return ee.clientCategory;switch(ee.category){case t.r8.BuiltIn:case t.r8.Services:case t.r8.ServiceApp:return t.Cs.Service;case t.r8.Organizational:case t.r8.OrganizationalApp:case t.r8.OrganizationalTemplate:case t.r8.OrganizationalTemplateApp:return t.Cs.Organizational;default:d.Y.assertFail("Unknown content provider category")}}}function B(ee){for(var ue=new Array,Te=0;Te<7;Te++)ue[Te]=!(1&~ee),ee>>=1;return ue}function A(ee){for(var ue=0,Te=6;Te>=0;Te--)ue<<=1,ue=!0===ee[Te]?1|ue:ue;return ue}function W(ee){for(var ue=[],Te=ee.length,He=0;He<Te;He++){var We=ee[He],mt=30*We.refreshMinuteIndex;ue.push(((We.refreshHourIndex+1)%12+12*We.refreshAmPmIndex).toString()+":"+(0===mt?"00":mt.toString())+":00")}return JSON.stringify(ue)}function G(ee,ue){var Te;if(ee){var He=ee.split(":"),We=parseInt(He[0],10);We>=0&&We<24?Te=Math.floor(We/6):((0,c.Y)().error(ue.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimeInvalidHour"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimeInvalidHour"),Te=0)}else Te=0;return Te}function K(ee){var ue=new Date;ue.setHours(ee),ue.setMinutes(0),ue.setSeconds(0);var Te=ue.toTimeString(),He=Te.indexOf(" ");return Te.substr(0,He)}function k(ee,ue){var Te=[];if(ee){try{var He=JSON.parse(ee)}catch{return void(0,c.Y)().error(ue.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidJsonFormat"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidJsonFormat")}for(var We=He.length,ft=0;ft<We;ft++){var At=He[ft].split(":"),Qe=parseInt(At[0],10),Fe=parseInt(At[1],10);if(Qe<0||Qe>=24)(0,c.Y)().error(ue.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidHour"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidHour");else if(Fe<0||Fe>=60)(0,c.Y)().error(ue.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidMinute"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidMinute");else{var ye={refreshHourIndex:(Qe+11)%12,refreshMinuteIndex:Math.floor(Fe/30),refreshAmPmIndex:Math.floor(Qe/12),isIncomplete:!1,isDuplicate:!1};Te.push(ye)}}}return Te}function L(ee){return _.isEmpty(ee.displayName)?ee.qnaSupported:!0===ee.qnaSupported&&(1===ee.pushDataVersion||2===ee.pushDataVersion||ee.dataCacheMode===t.Ak.Import&&!1!==ee.powerBIQnaEnabled||!!ee.onPremModelConnectionString&&ee.powerBIQnaEnabled||(ee.dataCacheMode===t.Ak.DirectQuery||ee.dataCacheMode===t.Ak.Mixed)&&ee.powerBIQnaEnabled)}function X(ee){return!(!ee||ee.dataCacheMode!==t.Ak.DirectQuery&&ee.dataCacheMode!==t.Ak.Mixed&&_.isEmpty(ee.onPremModelConnectionString))}function Y(ee){for(var ue of ee.monikers){var Te=_.filter(ue.monikerDataSources,ft=>null==ft.dataSourceId&&!te(ft));if(Te&&0!==Te.length){if(_.every(Te,ft=>!ft.matchingDataSourceObjectIds||0===ft.matchingDataSourceObjectIds.length))return!0;for(var He of Te){var We=_.map(He.matchingDataSourceObjectIds,ft=>_.find(ee.datasources,mt=>mt.dataSourceObjectId===ft));if(_.every(We,ft=>"Personal"!==ft?.gatewayType))return!0}}}return!1}function Q(ee,ue){var Te=[];for(var He of ee.monikers){var We=_.map(He.monikerDataSources,mt=>mt.dataSourceObjectId);_.every(We,mt=>mt)&&Te.push(...We||[])}return _.filter(ee.datasources,mt=>(mt.gatewayObjectId===ue||!1===mt.onPremGatewayRequired)&&_.includes(Te,mt.dataSourceObjectId))}function H(ee){switch(d.Y.assertValue(ee,"schedule"),parseInt(ee.refreshFrequency,10)){case s.o0.FifteenMinutes:return s.o0.FifteenMinutes;case s.o0.ThirtyMinutes:return s.o0.ThirtyMinutes;case s.o0.OneHour:return s.o0.OneHour;case s.o0.TwoHours:return s.o0.TwoHours;case s.o0.ThreeHours:return s.o0.ThreeHours}return ee.isDaily?s.o0.Daily:s.o0.Weekly}function te(ee){return(ee.monikerDataSourceAttribute&o.Hf.IsFabricTdsEndpoint)===o.Hf.IsFabricTdsEndpoint||(ee.monikerDataSourceAttribute&o.Hf.IsFabricOneLake)===o.Hf.IsFabricOneLake}},853833:function(ve,z,e){e.d(z,{E:function(){return d}});var a=e(870860),i=e(858807),r=e(18122),t=e(989417),o=window;class d{static webRedirectUrlHelper(c){return this._webRedirectUrlHelper||(this._webRedirectUrlHelper=new d("Redirect",c)),this._webRedirectUrlHelper}static mobileRedirectUrlHelper(c){return this._mobileRedirectUrlHelper||(this._mobileRedirectUrlHelper=new d("MobileRedirect.html",c)),this._mobileRedirectUrlHelper}constructor(c,s,p=!1){this.redirectPath=c,this.appSettings=s,this.useMsPbi=p}getAppRedirectUrl(c,s,p,l){return r.Y.assertValue(s,"getAppRedirectUrl: appId"),this.getRedirectUrl({action:"OpenApp",groupObjectId:c,context:l,appId:s,ctid:p})}getDashboardRedirectUrl(c,s,p,l,u,v,m,g){return r.Y.assert(()=>"MSTeams"===m||"ChatInTeams"===m||!_.isEmpty(c)||!_.isEmpty(s),"getDashboardRedirectUrl: groupId or appId shouldn't be null"),r.Y.assertValue("MSTeams"===m||"ChatInTeams"===m||p,"getDashboardRedirectUrl: dashboardObjectId"),this.getRedirectUrl({action:"OpenDashboard",context:u,groupObjectId:c,appId:s,dashboardObjectId:p,ctid:l,tileId:v,pbi_source:m,openDashboardSource:g})}getReportRedirectUrl(c,s,p,l,u,v,m,g,E){r.Y.assert(()=>"MSTeams"===g||"ChatInTeams"===g||!_.isEmpty(c)||!_.isEmpty(s),"getReportRedirectUrl: groupId or appId shouldn't be null"),r.Y.assertValue("MSTeams"===g||"ChatInTeams"===g||p,"getReportRedirectUrl: reportObjectId");var D={action:m===a.nI.RdlReport?"OpenRdlReport":"OpenReport",context:v,groupObjectId:c,appId:s,reportObjectId:p,ctid:u,pbi_source:g,bookmarkGuid:E};return _.isEmpty(l)||(D.reportPage=l),this.getRedirectUrl(D)}getDatasetRedirectUrl(c,s,p,l){return r.Y.assert(()=>"MSTeams"===l||"ChatInTeams"===l||!_.isEmpty(c),"getDatasetRedirectUrl: groupId shouldn't be null"),r.Y.assertValue("MSTeams"===l||"ChatInTeams"===l||s,"getDatasetRedirectUrl: datasetObjectId"),this.getRedirectUrl({action:"OpenDataset",context:p,groupObjectId:c,datasetObjectId:s,pbi_source:l})}getScorecardRedirectUrl(c,s,p,l,u){return this.getRedirectUrl({action:"OpenScorecard",groupObjectId:c,scorecardObjectId:s,ctid:p,context:l,pbi_source:u})}getWorkbookRedirectUrl(c,s,p,l,u){return r.Y.assert(()=>!_.isEmpty(c)||!_.isEmpty(s),"getDashboardRedirectUrl: groupId or appId shouldn't be null"),r.Y.assertValue(p,"getWorkbookRedirectUrl: workbookUniqueId"),this.getRedirectUrl({action:"OpenWorkbook",context:u,groupObjectId:c,appId:s,workbookUniqueId:p,ctid:l})}getTileRedirectUrl(c,s,p,l,u){return r.Y.assert(()=>!_.isEmpty(c)||!_.isEmpty(s),"getDashboardRedirectUrl: groupId or appId shouldn't be null"),r.Y.assertValue(p,"getDashboardRedirectUrl: dashboardObjectId"),r.Y.assertValue(l,"getTileRedirectUrl: tileObjectId"),this.getRedirectUrl({action:"OpenTile",context:u,groupObjectId:c,appId:s,dashboardObjectId:p,tileObjectId:l})}getServiceAppInstallRedirectUrl(c,s,p,l){r.Y.assertValue(c,"getAppRedirectUrl: appKey"),r.Y.assertValue(s,"getAppRedirectUrl: packageKey");var u={action:"InstallApp",appId:c,packageKey:s.replace("=",""),ownerId:p};_.isEmpty(l)||(u.buildVersion=l);var m=(window.location.protocol+"//"+window.location.host).replace(o.baseUrl,o.feUrl);return this.getRedirectUrl(u,m)}getLineageViewRedirectUrl(c,s){return r.Y.assert(()=>!_.isEmpty(c),"getLineageViewRedirectUrl: groupId or appId shouldn't be null"),r.Y.assertValue(s,"getLineageViewRedirectUrl: reportObjectId"),this.getRedirectUrl({action:"OpenLineageView",groupObjectId:c,reportObjectId:s})}getRedirectUrl(c,s){if(r.Y.assertValue(c,"getRedirectUrl: params"),this.useMsPbi){var{action:p}=c;return c=this.removeEmptyParams(c,this.useMsPbi),(0,t.G)("{0}/{1}?{2}","mspbi://app",p,$.param(c))}return c=this.removeEmptyParams(c),(0,t.G)("{0}/{1}?{2}",s||this.appSettings.baseUrl,this.redirectPath,$.param(c))}removeEmptyParams(c,s=!1){var p=[];return(_.isEmpty(c.groupObjectId)||c.groupObjectId===i.RSC)&&p.push("groupObjectId"),_.isEmpty(c.appId)&&p.push("appId"),_.isEmpty(c.context)&&p.push("context"),_.isEmpty(c.reportObjectId)&&p.push("reportObjectId"),_.isEmpty(c.ctid)&&p.push("ctid"),_.isEmpty(c.openDashboardSource)&&p.push("openDashboardSource"),_.isEmpty(c.tileId)&&p.push("tileId"),_.isEmpty(c.dashboardObjectId)&&p.push("dashboardObjectId"),_.isEmpty(c.bookmarkGuid)&&p.push("bookmarkGuid"),_.isEmpty(c.pbi_source)&&p.push("pbi_source"),(_.isEmpty(c.action)||s)&&p.push("action"),p.length>0&&(c=_.omit(c,p)),c}}},524799:function(ve,z,e){e.d(z,{$:function(){return o},s:function(){return t}});var a=e(316051),i=e(38361),r=e(18122);function t(d){switch(d){case a.v.Master:return i.vI.Master;case a.v.PhonePortrait:return i.vI.PhonePortrait;default:r.Y.assertFail("Unsupported telemetry canvas layout")}return null}class o{constructor(n){this.options=n}start(n){this.reject(),this.event=n()}resolve(){this.event&&(this.options&&this.options.onResolve&&this.options.onResolve(this.event),this.event.resolve(),this.event=void 0)}reject(n){this.event&&(this.options&&this.options.onReject&&this.options.onReject(this.event,n),this.event.reject(n),this.event=void 0)}}},35873:function(ve,z,e){function a(i,r,t){var o=_.trim(i),d=_.trim(r);return _.isEmpty(o)?t||"":_.isEmpty(d)?o:`${o} ${d}`}e.d(z,{d:function(){return a}})},31532:function(ve,z,e){e.d(z,{O:function(){return i}});var a=e(18122);class i{constructor(){this.css={},this.elems=[]}setDimensionBehavior(t){this.skipJqueryDimension=t}addAttributes(t){for(var o in t)this.css[o]=t[o]}element(t){a.Y.assertValue(t,"element"),this.elems=[t]}addElement(t){a.Y.assertValue(t,"element"),this.elems.push(t)}removeElement(t){a.Y.assertValue(t,"element"),_.pull(this.elems,t)}position(t){a.Y.assertValue(t,"position");var o=this.css;o.WebkitTransform=o.transform="translate("+t.x+"px, "+t.y+"px)"}viewport(t){a.Y.assertValue(t,"viewport");var o=this.css;o.height=t.height,o.width=t.width}zIndex(t){a.Y.assertValue(t,"zIndex"),this.css.zIndex=t}rotate(t){if(a.Y.assertValue(t,"rotate angle"),t){var o=this.css;o.WebkitTransform=o.transform+=" rotate("+t+"deg)"}}apply(t){if(this.skipJqueryDimension)if(t)this.applyStyleWithoutDimensionHooks(t);else for(var o of this.elems)this.applyStyleWithoutDimensionHooks(o);else if(t)t.css(this.css);else for(var d of this.elems)d.css(this.css)}applyStyleWithoutDimensionHooks(t){var o=t.get(0);null!=this.css.height&&(o.style.height=`${this.css.height}px`),null!=this.css.width&&(o.style.width=`${this.css.width}px`);var d=_.omit(this.css,["height","width"]);t.css(d)}getCss(){return this.css}}},835528:function(ve,z,e){e.d(z,{D8:function(){return c},JA:function(){return g},v7:function(){return p}});var d=7,n=7;function c(){return d}function p(){return n}var g=function(E){return E[E.drag=0]="drag",E[E.resizing=1]="resizing",E[E.resized=2]="resized",E[E.refresh=3]="refresh",E}({})},433280:function(ve,z,e){e.d(z,{K:function(){return d},X:function(){return o}});var a=e(893580),i=e(594293),r=e(894345),t=e(384897),o=function(n){return n[n.None=0]="None",n[n.Shared=1]="Shared",n[n.Group=2]="Group",n[n.Apps=4]="Apps",n[n.SharedAndGroup=3]="SharedAndGroup",n[n.SharedAndApps=5]="SharedAndApps",n[n.GroupAndApps=6]="GroupAndApps",n[n.SharedAndGroupAndApps=7]="SharedAndGroupAndApps",n}({});class d extends t.F{constructor(c){super(),this.contract=c,this.isRefreshInProgress=!1,this.uniqueId=d.getUniqueId(c.id,c.packageId),this.categories=o.None}getPermissions(){var c;return this.getPermissionsCallback&&null!=(c=this.getPermissionsCallback())?c:this.contract&&this.contract.permissions}get hasError(){return this.contract&&(this.packagePublishStatus===a.Ym.PublishError||this.packagePublishStatus===a.Ym.RefreshError||this.contract.lastRefreshStatus===a.Ym.PublishError||this.contract.lastRefreshStatus===a.Ym.RefreshError)}get lastRefreshTimeInLocaleString(){var c=this.getLastRefreshTime();if(c)return c.toLocaleString()}get lastRefreshEpochTime(){var c=this.getLastRefreshTime();if(c)return c.getTime()}get contentTileType(){return i.u9.Dataset}getRefreshDisabledReason(){return(this.contract&&this.contract.refreshSchedule&&this.contract.refreshSchedule.refreshDisabledReason)??a.iK.None}static getUniqueId(c,s){return`${i.u9.Dataset}_${c}_${s}`}getLastRefreshTime(){var c=this.contract;return(0,r.t8)(c.onPremModelConnectionString?c.lastTimeAModelChangeWasDetectedInTheCluster:c.lastRefreshTime)}}},213559:function(ve,z,e){e.d(z,{J:function(){return n},p:function(){return d}});var a=e(870860),i=e(594293),r=e(893420),t=e(336495),o=e(384897);class d extends t.X{constructor(s){super(typeof s>"u"?0:s.id,o.v.Report,typeof s>"u"?0:s.packageId),this.contract=s,this.isRefreshInProgress=!1,this.reportType=this.contract&&this.contract.reportType===a.nI.RdlReport?a.nI.RdlReport:a.nI.PowerBI,this.contentTileType=this.reportType===a.nI.RdlReport?i.u9.RdlReport:i.u9.Report}getPermissions(){var s;return this.getPermissionsCallback&&null!=(s=this.getPermissionsCallback())?s:this.contract&&this.contract.permissions}get canWrite(){return(0,r.Lt)(this.getPermissions(),n.Write)}get canCopy(){return(0,r.Lt)(this.getPermissions(),n.CopyOnWrite)}get canExplore(){return(0,r.Lt)(this.getPermissions(),n.Explore)}}var n=function(c){return c[c.None=0]="None",c[c.Read=1]="Read",c[c.Write=2]="Write",c[c.ReShare=4]="ReShare",c[c.Explore=8]="Explore",c[c.CopyOnWrite=17]="CopyOnWrite",c[c.ReadWrite=3]="ReadWrite",c[c.ReadReshare=5]="ReadReshare",c[c.Personalized=11]="Personalized",c[c.All=7]="All",c}({})},336495:function(ve,z,e){e.d(z,{X:function(){return i}});var a=e(384897);class i extends a.F{constructor(t,o,d){super(o),this.uniqueId=i.getUniqueId(o,t,d)}static getUniqueId(t,o,d){return t+"_"+o+"_"+d}}},384897:function(ve,z,e){e.d(z,{F:function(){return i},v:function(){return a}});var a=function(r){return r[r.Report=0]="Report",r[r.Workbook=1]="Workbook",r[r.Model=2]="Model",r[r.CdsaModel=3]="CdsaModel",r}({});class i{constructor(t){this.isSelected=!1,this.isEnabled=!0,this.isUsedByContentPack=!1,this.countOfLinkedAncestorsSelected=0,this.resourceType=t}}},65387:function(ve,z,e){e.d(z,{Pu:function(){return c},go:function(){return d},o0:function(){return o},p0:function(){return n},wm:function(){return t}});var a=e(858807),i=e(594293),r=e(90506),t=function(s){return s[s.NotSpecified=0]="NotSpecified",s[s.NotStart=1]="NotStart",s[s.Progressing=2]="Progressing",s[s.Failed=3]="Failed",s[s.Passed=4]="Passed",s}({}),o=function(s){return s[s.FifteenMinutes=15]="FifteenMinutes",s[s.ThirtyMinutes=30]="ThirtyMinutes",s[s.OneHour=60]="OneHour",s[s.TwoHours=120]="TwoHours",s[s.ThreeHours=180]="ThreeHours",s[s.Daily=1440]="Daily",s[s.Weekly=10080]="Weekly",s}({});class d{constructor(p,l){this.localizationService=l,this.refreshSettings=p,this.refreshSectionExpand=!1}get showWeekDays(){return this.refreshSettings.refreshFrequency===o.Weekly}get showRefreshTimeInfo(){var p=this.refreshSettings.refreshFrequency;return p===o.Daily||p===o.Weekly}get refreshFrequencyString(){return this.refreshSettings.refreshFrequency.toString()}set refreshFrequencyString(p){this.refreshSettings.refreshFrequency=parseInt(p,10)}get weekdayKeys(){return c.weekdayKeys()}static weekdayKeys(){return c.weekdayKeys()}get refreshTimeWindows(){return c.refreshTimeWindows(this.localizationService)}static refreshTimeWindows(p){return c.refreshTimeWindows(p)}get refreshTimeHourWindows(){return c.refreshTimeHourWindows(this.localizationService)}static refreshTimeHourWindows(p){return c.refreshTimeHourWindows(p)}get refreshTimeMinuteWindows(){return c.refreshTimeMinuteWindows(this.localizationService)}static refreshTimeMinuteWindows(p){return c.refreshTimeMinuteWindows(p)}get refreshTimeAmPmWindows(){return c.refreshTimeAmPmWindows(this.localizationService)}static refreshTimeAmPmWindows(p){return c.refreshTimeAmPmWindows(p)}get refreshTimeZones(){return c.refreshTimeZones(this.localizationService)}get refreshTimeZonesViewModel(){return c.refreshTimeZonesViewModel(this.localizationService)}static refreshTimeZonesViewModel(p){return c.refreshTimeZonesViewModel(p)}}class n{constructor(p,l,u,v,m,g,E,D,h,C){this.localizationService=C,this.contract=p,this.modelId=l,this.name=u,this.description=v,this.lastRefreshFailed=m,this.lastRefreshFailedMessage=g,this.nextRefresh=E,this.refreshSettingsModel=new d(D,C),this.parameters=h,this.takenOver=!1,this.isDirty=!1,this.areDatasourcesDirty=!1,this.isQnaDirty=!1,this.paSupported=p?.paSupported,this.paEnabled=p?.paEnabled,this.paSettings=p?.paSettings,this.hasAggregationTable=p?.hasAggregationTable,this.directLakeAutoSync=p?.directLakeAutoSync,this.directLakeMode=p?.directLakeMode,this.directLakeAutoSyncResult=p?.directLakeAutoSyncResult,this.storageMode=p?.storageMode,this.isQsoSupported=p?.isQsoSupported,this.isQsoManualSyncWithPendingUpdates=p?.isQsoManualSyncWithPendingUpdates,this.qsoCommitVersionTimestamp=p?.qsoCommitVersionTimestamp}get takeoverStatusText(){return this.lastTakeoverUPN?this.getTakeoverStatusTextForUser(this.lastTakeoverUPN):this.lastTakeoverEmailAddress?this.getTakeoverStatusTextForUser(this.lastTakeoverEmailAddress):this.lastTakeoverText?this.localizationService.format("SettingsDataset_TakeOverStatusText_Before",[this.lastTakeoverText]):this.localizationService.get("SettingsDataset_TakeOverStatusTextNullUser_Before")}get takeoverButtonText(){return this.localizationService.get(this.takenOver?"SettingsDataset_TakeOverButton_CancelTakeOver":"SettingsDataset_TakeOverButton_TakeOver")}get hasDatasourceWithWrongCredentials(){return this.datasources&&_.some(this.datasources,p=>!p.isCloudDirectQuery&&p.testConnectionState!==t.Passed)}get showSkipTestConnectionWarning(){return _.some(this.datasources,p=>!0===p.skipTestConnection)}get hasDirectQueryDatasourceWithMissingCredentials(){return this.datasources&&_.some(this.datasources,p=>p.isCloudDirectQuery&&p.testConnectionState===t.Failed)}get hasRDataSource(){return this.datasources&&_.some(this.datasources,p=>p.datasourceType===r.ol.Extension&&(p.name===a.hNc||p.fullName===a.hNc))}get isPlainDirectQueryOrOnPremModel(){return n.isPlainDirectQueryOrOnPremModel(this.contract)}static isPlainDirectQueryOrOnPremModel(p){return p.dataCacheMode===i.Ak.DirectQuery||!_.isEmpty(p.onPremModelConnectionString)}getTakeoverStatusTextForUser(p){return this.localizationService.format(this.takenOver?"SettingsDataset_TakeOverStatusText_After":"SettingsDataset_TakeOverStatusText_Before",['<a href=mailto:"'+p+'">'+p+"</a>"])}}class c{constructor(){}static weekdayKeys(){return["SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Sunday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Monday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Tuesday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Wednesday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Thursday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Friday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Saturday"]}static refreshTimeWindows(p){return[p.get("SettingsDataset_ScheduleRefresh_TimeWindow_1"),p.get("SettingsDataset_ScheduleRefresh_TimeWindow_2"),p.get("SettingsDataset_ScheduleRefresh_TimeWindow_3"),p.get("SettingsDataset_ScheduleRefresh_TimeWindow_4")]}static refreshTimeHourWindows(p){return[p.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_1"),p.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_2"),p.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_3"),p.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_4"),p.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_5"),p.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_6"),p.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_7"),p.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_8"),p.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_9"),p.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_10"),p.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_11"),p.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_12")]}static refreshTimeMinuteWindows(p){return[p.get("SettingsDataset_ScheduleRefresh_TimeMinuteWindos_00"),p.get("SettingsDataset_ScheduleRefresh_TimeMinuteWindos_30")]}static refreshTimeAmPmWindows(p){return[p.get("SettingsDataset_ScheduleRefresh_AmPmWindows_Am"),p.get("SettingsDataset_ScheduleRefresh_AmPmWindows_Pm")]}static refreshTimeZones(p){return{"Dateline Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Dateline_Standard_Time"),"UTC-11":p.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Minus_11"),"Hawaiian Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Hawaiian_Standard_Time"),"Alaskan Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Alaskan_Standard_Time"),"Pacific Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_Standard_Time"),"Pacific Standard Time (Mexico)":p.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_Standard_Time_Mexico"),"Mountain Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Mountain_Standard_Time"),"Mountain Standard Time (Mexico)":p.get("SettingsDataset_ScheduleRefresh_Timezone_Mountain_Standard_Time_Mexico"),"US Mountain Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_US_Mountain_Standard_Time"),"Canada Central Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Canada_Central_Standard_Time"),"Central America Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Central_America_Standard_Time"),"Central Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Standard_Time"),"Central Standard Time (Mexico)":p.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Standard_Time_Mexico"),"Eastern Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Eastern_Standard_Time"),"SA Pacific Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Pacific_Standard_Time"),"US Eastern Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_US_Eastern_Standard_Time"),"Venezuela Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Venezuela_Standard_Time"),"Atlantic Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Atlantic_Standard_Time"),"Central Brazilian Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Brazilian_Standard_Time"),"Pacific SA Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_SA_Standard_Time"),"SA Western Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Western_Standard_Time"),"Paraguay Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Paraguay_Standard_Time"),"Newfoundland Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Newfoundland_Standard_Time"),"E. South America Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_E_South_America_Standard_Time"),"Greenland Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Greenland_Standard_Time"),"Montevideo Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Montevideo_Standard_Time"),"SA Eastern Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Eastern_Standard_Time"),"Argentina Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Argentina_Standard_Time"),"Mid-Atlantic Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Mid_Atlantic_Standard_Time"),"UTC-02":p.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Minus_2"),"Azores Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Azores_Standard_Time"),"Cape Verde Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Cabo_Verde_Standard_Time"),"GMT Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_GMT_Standard_Time"),"Greenwich Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Greenwich_Standard_Time"),"Morocco Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Morocco_Standard_Time"),UTC:p.get("SettingsDataset_ScheduleRefresh_Timezone_UTC"),"Central Europe Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Europe_Standard_Time"),"Central European Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Central_European_Standard_Time"),"Romance Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Romance_Standard_Time"),"W. Central Africa Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_W_Central_Africa_Standard_Time"),"W. Europe Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_W_Europe_Standard_Time"),"Namibia Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Namibia_Standard_Time"),"E. Europe Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_E_Europe_Standard_Time"),"Egypt Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Egypt_Standard_Time"),"FLE Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_FLE_Standard_Time"),"GTB Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_GTB_Standard_Time"),"Israel Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Israel_Standard_Time"),"Jordan Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Jordan_Standard_Time"),"Middle East Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Middle_East_Standard_Time"),"South Africa Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_South_Africa_Standard_Time"),"Syria Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Syria_Standard_Time"),"Turkey Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Turkey_Standard_Time"),"Arab Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Arab_Standard_Time"),"Arabic Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Arabic_Standard_Time"),"E. Africa Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_E_Africa_Standard_Time"),"Kaliningrad Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Kaliningrad_Standard_Time"),"Iran Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Iran_Standard_Time"),"Russian Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Russian_Standard_Time"),"Arabian Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Arabian_Standard_Time"),"Azerbaijan Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Azerbaijan_Standard_Time"),"Caucasus Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Caucasus_Standard_Time"),"Georgian Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Georgian_Standard_Time"),"Mauritius Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Mauritius_Standard_Time"),"Afghanistan Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Afghanistan_Standard_Time"),"West Asia Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_West_Asia_Standard_Time"),"Pakistan Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Pakistan_Standard_Time"),"India Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_India_Standard_Time"),"Sri Lanka Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Sri_Lanka_Standard_Time"),"Nepal Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Nepal_Standard_Time"),"Ekaterinburg Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Ekaterinburg_Standard_Time"),"Central Asia Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Asia_Standard_Time"),"Bangladesh Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Bangladesh_Standard_Time"),"Myanmar Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Myanmar_Standard_Time"),"N. Central Asia Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_N_Central_Asia_Standard_Time"),"SE Asia Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_SE_Asia_Standard_Time"),"North Asia Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_North_Asia_Standard_Time"),"China Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_China_Standard_Time"),"Singapore Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Singapore_Standard_Tim"),"Taipei Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Taipei_Standard_Time"),"W. Australia Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_W_Australia_Standard_Time"),"Ulaanbaatar Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Ulaanbaatar_Standard_Time"),"North Asia East Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_North_Asia_East_Standard_Time"),"Korea Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Korea_Standard_Time"),"Tokyo Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Tokyo_Standard_Time"),"AUS Central Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_AUS_Central_Standard_Time"),"Cen. Australia Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Cen_Australia_Standard_Time"),"Yakutsk Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Yakutsk_Standard_Time"),"AUS Eastern Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_AUS_Eastern_Standard_Time"),"E. Australia Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_E_Australia_Standard_Time"),"Tasmania Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Tasmania_Standard_Time"),"West Pacific Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_West_Pacific_Standard_Time"),"Vladivostok Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Vladivostok_Standard_Time"),"Central Pacific Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Pacific_Standard_Time"),"Magadan Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Magadan_Standard_Time"),"Fiji Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Fiji_Standard_Time"),"New Zealand Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_New_Zealand_Standard_Time"),"UTC+12":p.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Plus_12"),"Tonga Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Tonga_Standard_Time"),"Samoa Standard Time":p.get("SettingsDataset_ScheduleRefresh_Timezone_Samoa_Standard_Time")}}static refreshTimeZonesViewModel(p){var l=[];return _.forOwn(this.refreshTimeZones(p),(u,v)=>{l.push({key:v,value:u})}),l}}},508858:function(ve,z,e){function a(){return[{name:"\u0627\u0644\u0639\u064e\u0631\u064e\u0628\u0650\u064a\u0629",code:"ar",lcid:"1025"},{name:"Basque",code:"eu",lcid:"1069"},{name:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",code:"bg",lcid:"1026"},{name:"catal\xe0",code:"ca",lcid:"1027"},{name:"\u4e2d\u6587(\u7b80\u4f53)",code:"zh-Hans",lcid:"2052"},{name:"\u4e2d\u6587(\u7e41\u9ad4)",code:"zh-Hant",lcid:"1028"},{name:"hrvatski",code:"hr",lcid:"1050"},{name:"\u010de\u0161tina",code:"cs",lcid:"1029"},{name:"dansk",code:"da",lcid:"1030"},{name:"Nederlands",code:"nl",lcid:"1043"},{name:"English",code:"en-US",lcid:"1033"},{name:"eesti",code:"et",lcid:"1061"},{name:"suomi",code:"fi",lcid:"1035"},{name:"fran\xe7ais",code:"fr",lcid:"1036"},{name:"galego",code:"gl",lcid:"1110"},{name:"Deutsch",code:"de",lcid:"1031"},{name:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",code:"el",lcid:"1032"},{name:"\u05e2\u05d1\u05e8\u05d9\u05ea",code:"he",lcid:"1037"},{name:"\u0939\u093f\u0902\u0926\u0940",code:"hi",lcid:"1081"},{name:"magyar",code:"hu",lcid:"1038"},{name:"Bahasa Indonesia",code:"id",lcid:"1057"},{name:"italiano",code:"it",lcid:"1040"},{name:"\u65e5\u672c\u8a9e",code:"ja",lcid:"1041"},{name:"\u049a\u0430\u0437\u0430\u049b",code:"kk",lcid:"1087"},{name:"\ud55c\uad6d\uc5b4",code:"ko",lcid:"1042"},{name:"latvie\u0161u",code:"lv",lcid:"1062"},{name:"lietuvi\u0173",code:"lt",lcid:"1063"},{name:"Bahasa Melayu",code:"ms",lcid:"1086"},{name:"norsk (bokm\xe5l)",code:"no",lcid:"1044"},{name:"Polski",code:"pl",lcid:"1045"},{name:"Portugu\xeas (Brasil)",code:"pt-BR",lcid:"1046"},{name:"Portugu\xeas (Portugal)",code:"pt-PT",lcid:"2070"},{name:"rom\xe2n\u0103",code:"ro",lcid:"1048"},{name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",code:"ru",lcid:"1049"},{name:"\u0441\u0440\u043f\u0441\u043a\u0438",code:"sr-Cyrl",lcid:"3098"},{name:"srpski",code:"sr-Latn",lcid:"2074"},{name:"sloven\u010dina",code:"sk",lcid:"1051"},{name:"slovenski",code:"sl",lcid:"1060"},{name:"espa\xf1ol",code:"es",lcid:"1034"},{name:"svenska",code:"sv",lcid:"1053"},{name:"\u0e44\u0e17\u0e22",code:"th",lcid:"1054"},{name:"T\xfcrk\xe7e",code:"tr",lcid:"1055"},{name:"\u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",code:"uk",lcid:"1058"},{name:"Ti\u1ebfng Vi\u1ec7t",code:"vi",lcid:"1066"}]}e.d(z,{J:function(){return a}})},285458:function(ve,z,e){e.d(z,{y:function(){return n}});var a=e(18122),i=e(223431),r=e(989417);class n{constructor(s,p){this.promiseFactory=s,this.httpService=p,a.Y.assertValue(s,"promiseFactory"),a.Y.assertValue(p,"httpService"),this.isEnabled=!0,this.requestDeferred=this.promiseFactory.defer(),this.requestDeferred.resolve(null),this.longPollInitialized=!1,this.lastLongPollCancelled=!1,this.lastLongPollTimedOut=!1,this.retryCount=0}startMonitoring(s=0){this.longPollInitialized||(this.longPollInitialized=!0,this.isEnabled=!0,this.requestDelay&&clearTimeout(this.requestDelay),this.requestDelay=setTimeout(()=>{this.sendLongPollRequest()},s))}setLongPollInitialized(s){this.longPollInitialized=s}cancelCurrentRequest(){this.lastLongPollCancelled=!0,this.requestDeferred.resolve(null),this.longPollInitialized=!1,this.requestDelay&&clearTimeout(this.requestDelay)}pause(){this.paused=!0,this.cancelCurrentRequest()}resume(){this.paused=!1,this.startMonitoring()}trySendRequest(s){var p=this.requestOptions,l=p.headers.Authorization,u=!1;if(l){var v=l.split(" ");u=v.length>1&&!(0,r.M)(v[1])&&"undefined"!==v[1]}if(u)return this.httpService.post(this.getEndpointUrl(),{request:s},p);i.Cn.warning("Auth token not available, avoiding powerbi/refresh/subscribe request")}get requestHeader(){return null}get longPollDurationInMs(){return 6e4}get requestOptions(){var s=this.requestDeferred;a.Y.assertValue(s,"requestDeferred"),this.lastLongPollTimedOut=!1,this.lastLongPollCancelled=!1,setTimeout(()=>{this.lastLongPollTimedOut=!0,s.resolve(null)},this.longPollDurationInMs);var p=this.httpService.powerbiRequestOptions(null,null,this.requestHeader,!0);return p.retryCount=0,p.timeout=s.promise,p.silentlyFailOnExpiry=!0,p}sendLongPollRequest(){if(!this.paused&&this.isEnabled){this.requestDeferred=this.promiseFactory.defer();var s=this.getRequest();if(!s)return void this.reset();var p=this.trySendRequest(s);if(!p)return;p.then(l=>{this.retryCount=0,this.requestDeferred.resolve(null),this.processResponse(l.data),this.sendLongPollRequest()},l=>{this.requestDeferred.resolve(null),this.lastLongPollTimedOut?(this.retryCount=0,this.sendLongPollRequest()):this.lastLongPollCancelled?this.retryCount=0:this.retryCount<3?(this.retryCount++,this.sendLongPollRequest()):(this.processError(l&&l.error),this.suspend())})}}suspend(){var s=this.promiseFactory.defer();s.promise.then(()=>{this.cancelCurrentRequest(),this.startMonitoring()});var p=l=>{l&&(this.httpService.unregisterResponseCallback(p),s.resolve(null))};this.httpService.registerResponseCallback(p),setTimeout(()=>{s.resolve(null)},12e4)}reset(){this.longPollInitialized=!1,this.lastLongPollTimedOut=!1,this.lastLongPollCancelled=!1}}},983428:function(ve,z,e){e.d(z,{I:function(){return c}});var a=e(788714),i=e(18122),r=e(404192),t=e(240981),o=window,d=function(s){return s[s.InternalScript=0]="InternalScript",s[s.InternalStyle=1]="InternalStyle",s[s.ExternalScript=2]="ExternalScript",s[s.ExternalStyle=3]="ExternalStyle",s}({});function n(s,p,l=!0,u){var g,E,v=(0,r.ls)(),m="";switch(l&&(m=a.Y.getQueryStringValue("unmin")?"":".min"),p){case d.InternalScript:g="scripts",E=".js";break;case d.InternalStyle:g="styles",E=".css";break;case d.ExternalScript:g="externals",E=".js";break;case d.ExternalStyle:g="externals",E=".css";break;default:i.Y.assertNever(p)}var D=[v];if("True"===o.useCDN&&o.hashMappings){var h;h=u?[u,g,`${s}${m}${E}`].join("/"):[g,`${s}${m}${E}`].join("/");var C=(0,t.L)();C.isRtlLayout&&(p===d.InternalStyle||p===d.ExternalStyle)&&(h=h.indexOf(".min")>-1?h.replace(".min.css",".rtl.min.css"):h.replace(".css",".rtl.css"));var y=o.hashMappings[h];if(!y&&C.isRtlLayout&&(p===d.InternalStyle||p===d.ExternalStyle)&&(h=h.replace(".rtl.min.css",".min.rtl.css"),y=o.hashMappings[h]),y)return[D=o.cdnUrl,y.substring(0,y.indexOf(E))].join("/")}return u&&D.push(u),[...D||[],g,`${s}${m}`].join("/")}function c(){return{waitSeconds:9007199254740991,paths:{"angular-ui-datetimepicker":n("angular-ui-datetimepicker",d.ExternalScript,!0),"d3-array":n("d3-array",d.ExternalScript,!0),"d3-geo":n("d3-geo",d.ExternalScript,!0),"es6-promise":n("es6-promise",d.ExternalScript,!0),filesaver:n("filesaver",d.ExternalScript,!0),"jquery-qrcode":n("jquery-qrcode",d.ExternalScript,!0),"jquery-ui":n("jquery-ui",d.ExternalScript,!0),msrcrypto:n("msrcrypto",d.ExternalScript,!0),ngTagsInput:n("ngTagsInput",d.ExternalScript,!0),pubnub:n("pubnub",d.ExternalScript,!0),quill:n("quill",d.ExternalScript,!1),resizeSensor:n("resizeSensor",d.ExternalScript,!0),"powerbi-models":n("powerbi-models",d.ExternalScript,!0),topojson:n("topojson",d.ExternalScript,!0),cropperjs:n("cropper",d.ExternalScript,!0),"globalize.cultures":n("jquery.globalize/globalize.cultures",d.InternalScript,!1)},bundles:{},cssPaths:{"jquery-ui":n("jquery-ui.min",d.ExternalStyle,!1),ngTagsInput:n("ngTagsInput",d.ExternalStyle,!0),"quill.core":n("quill.core",d.ExternalStyle,!1),cropperjs:n("cropper",d.ExternalStyle,!1),accessibleTableVisual:n("accessibleTableVisual",d.InternalStyle,!0),adminPortal:n("adminPortal",d.InternalStyle,!0),advancedSlicerVisual:n("advancedSlicerVisual",d.InternalStyle,!0),aiNarrativesVisual:n("aiNarrativesVisual",d.InternalStyle,!0),azureMapVisuals:n("azureMapVisuals",d.InternalStyle,!0),capacityAdmin:n("capacityAdmin",d.InternalStyle,!0),cardVisual:n("cardVisual",d.InternalStyle,!0),exploreUIDialogs:n("exploreUIDialogs",d.InternalStyle,!0),getData:n("getData",d.InternalStyle,!0),mobileAuthoring:n("mobileAuthoring",d.InternalStyle,!0),permissions:n("permissions",d.InternalStyle,!0),pivotTableVisuals:n("pivotTableVisuals",d.InternalStyle,!0),rdlVisual:n("rdlVisual",d.InternalStyle,!0),scorecardVisual:n("scorecardVisual",d.InternalStyle,!0),settings:n("settings",d.InternalStyle,!0),sharing:n("sharing",d.InternalStyle,!0),textSlicerVisual:n("textSlicerVisual",d.InternalStyle,!0)}}}},266233:function(ve,z,e){e.d(z,{H:function(){return r}});var a=e(776766),i=e(719763);function r(t,o,d){return(0,i.H)((0,a.w$)(t,o),d)}},87866:function(ve,z,e){e.d(z,{$x:function(){return E},AQ:function(){return n},U8:function(){return i},Ug:function(){return l},_R:function(){return m},aI:function(){return c},hO:function(){return r},k4:function(){return t},m3:function(){return s},pk:function(){return u},um:function(){return p}});var a=e(318252),i=44,r=50,t=4,n=1,c=1,s=2*n,p=2*c,l=3*n,u=3*c;function m(){return{rowSpan:s,colSpan:p}}function E(V){return{height:V.rowSpan*a.n3-a.A4,width:V.colSpan*a.MW-a.A4}}m()},318252:function(ve,z,e){e.d(z,{A4:function(){return r},MW:function(){return a},n3:function(){return i}});var a=260,i=180,r=10},230031:function(ve,z,e){e.d(z,{Eo:function(){return d},Ox:function(){return i},oY:function(){return r},vt:function(){return t}});var a=e(501285),i="x-powerbi-error-info",r="x-powerbi-error-details";function t(n,c,s,p){var l={method:n,url:c};return void 0!==p&&(l.data=p),Object.assign(l,s)}function d(n){(0,a.iE)().httpService=n}},920468:function(ve,z,e){e.d(z,{Il:function(){return r},oB:function(){return i},qn:function(){return d}});var a=e(501285);function i(c){return c||(0,a.iE)().localize}function r(c){(0,a.iE)().localize=c}function d(){return(0,a.iE)().localizedStrings}},8832:function(ve,z,e){e.d(z,{VH:function(){return t},rq:function(){return i}});var a=e(501285);function i(){return(0,a.iE)().cultureInfo}function t(){return(0,a.iE)().unmappedCultureInfo}},10788:function(ve,z,e){e.d(z,{e:function(){return d}});var a=e(376302),i=e(858807),r=e(18122),t=e(432262),o=e(929603);function d(v,m,g,E){return new u(v,m,g,E)}var n="overlayActive",c="overlay";class u{constructor(m,g,E,D){this.root=E,this.rtl=D,this.dropdowns=[],this.$window=$(m).on(t.Bb+".overlayService",h=>this.mouseClickHideDialog(h,this.dropdowns)).on("resize.overlayService",()=>this.hideAllDropdowns()),this.root=E||$("body")}onDestroy(){$(this.$window).off(t.Bb+".overlayService"),$(this.$window).off("resize.overlayService")}register(m,g){this.dropdowns.push({element:m}),m.addClass(c).appendTo(g||this.root)}unregister(m){_.remove(this.dropdowns,g=>g.element.is(m)),m.removeClass(c).removeClass(n).remove()}isRegistered(m){return _.some(this.dropdowns,g=>g.element.is(m))}mouseClickHideDialog(m,g){!_.some(this.dropdowns,D=>D.element.hasClass(n)&&!this.outOfBoundsClickHandler(m,D.element))&&this.hideAllDropdowns(!0)}showOverlay(m,g){if(r.Y.assert(()=>+!(!g.anchorElement&&!g.anchorDimensions)+ +!!g.position==1,"Must specify either position or [anchorElement and/or anchorDimensions], but not more than one"),r.Y.assert(()=>m.length>0,"element to show does not exist."),g.hideExistingOverlays&&this.hideAllDropdownsExcept(!0,m),m.addClass(n),m.attr("aria-modal","false"),m.attr("role","dialog"),g.anchorElement||g.anchorDimensions){g.blurNeeded&&this.registerBlurHandler(g.anchorElement,g.disableAnimation);var E=g.anchorDimensions||(0,o.F)(g.anchorElement);this.repositionDropdownWithAnchorCoordinates(m,E,!!g.preferLeft,g.horizontal,g.showOutsideAnchorElement,g.showIndicator,g.scale)}else g.position&&g.showInsideVisibleArea?this.repositionDropdownWithAnchorCoordinates(m,{left:g.position.x,top:g.position.y,width:0,height:0},!!g.preferLeft,!1,g.showOutsideAnchorElement,g.showIndicator,g.scale):g.position&&this.repositionDropdown(m,g.position);var D=_.filter(this.dropdowns,y=>y.element.is(m));if(!_.isEmpty(D)){var h=D[0];h.escHandler=y=>{this.keyPress(y,h,g.anchorElement)};var C=h.element.get(0);C&&C.addEventListener("keydown",h.escHandler),h.isModal=g.isModal,h.returnFocusToElement=g.returnFocusToElement}this.registerScrollHandler(),a.c_.focusChildInGroup(m.get(0))}registerScrollHandler(){setTimeout(()=>this.registerScrollHandlerCore())}registerScrollHandlerCore(){this.scrollEventListener||(this.scrollEventListener=m=>{this.isResizeSensorScrollEvent(m)||$(m.target).parents().addBack().hasClass(n)||this.hideAllDropdowns()},document.addEventListener("scroll",this.scrollEventListener,!0))}unregisterScrollHandler(){document.removeEventListener("scroll",this.scrollEventListener,!0),this.scrollEventListener=void 0}keyPress(m,g,E){!m.skipOverlayServiceEscHandler&&m.keyCode===t.cK.escKeyCode&&(E&&E.focus(),this.hideDropdown(g,!0),m.stopPropagation())}registerBlurHandler(m,g){m.on("focusout.overlay",E=>{m.off("focusout.overlay"),setTimeout(()=>this.hideAllDropdowns(!!g))})}getOverlayElement(m,g){var E=this.getOverlaySelector(m);return g?g.siblings(E):$(E)}getOverlaySelector(m){return`[dropdown-overlay-name="${m}"]`}outOfBoundsClickHandler(m,g){return!$(m.target).parents().addBack().hasClass(n)}repositionDropdownWithAnchorCoordinates(m,g,E,D,h,C,y){var P,T,x,j,U,f=this.$window.width(),S=this.$window.height(),b=m.find(".explorationAppBarMenu"),V=b.length?b.outerWidth(!0):m.outerWidth(!0),M=b.length?b.outerHeight(!0):m.outerHeight(!0),N=null==y?V:V*y,w=null==y?M:M*y,I=C?16:0,O=C?Math.floor(Math.sqrt(I*I+I*I)/2):0;if(D){var F,R,B;if(R=g.left,T=(U=w+(F=g.top)-I>S)?F+g.height-M+I:F-I,this.rtl&&this.rtl.isRtlLayout){var A=(B=R)-N-O<0;j=!A,P=A?B+O:B-V-O}else{var W=N+(B=R+g.width)+O>f;j=W,P=W?B-V-O:B+O}h&&P+V>=R&&P<B&&(P=R-V)}else{var K,G=g.top+g.height;if(T=(U=w+G-I>S)?G-M+I:G-I,E||this.rtl&&this.rtl.isRtlLayout){var q=(K=g.left+g.width)-V-O<0;j=!q,P=q?K-g.width+O:K-V-O}else P=(j=V+(K=g.left)+O>f)?K+g.width-V-O:K+O;P<0&&(P=K)}T<0&&(T=10);var k={x:Math.ceil(P),y:T};if(C){var L=g.top-k.y-I/2;L<0?L+=I:L>m.height()-I&&(L-=I),x={top:L},k.x>=g.left?x.left=-8:x.right=-8}this.repositionDropdown(m,k,x,y,j,U)}repositionDropdown(m,g,E,D,h,C){E&&m.append($.parseHTML(`<div class="indicator" style="position: absolute;transform: rotate(45deg);height: 16px;width: 16px;top: ${E.top}px;${E.left?`left: ${E.left}px`:`right: ${E.right}px`};"></div>`));var M={top:g.y,left:g.x};void 0!==D&&(M.transform=`scale(${D})`,M["transform-origin"]=`${h?"right":"left"} ${C?"bottom":"top"}`),m.css(M)}hideAllDropdowns(m,g,E){var D;g||(D=_.find(this.dropdowns,h=>h.isModal)),this.hideAllDropdownsExcept(m,D&&D.element)}hideAllDropdownsExcept(m,g){var E=[];for(var D of this.dropdowns)D&&!D.element.is(g)&&D.element.hasClass(n)&&(this.hideDropdown(D,m),E.push(D));this.removeAllFromRegister(E)}hideDropdown(m,g){if(m.escHandler){var E=m.element.get(0);E&&E.removeEventListener("keydown",m.escHandler),m.escHandler=null}m.returnFocusToElement&&m.returnFocusToElement.focus(),g?this.hideOverlay(m):m.element.animate({opacity:0},250,()=>this.hideOverlay(m)),this.unregisterScrollHandler(),this.removeSingleFromRegister(m)}removeSingleFromRegister(m){m.element.trigger(i.Ir1)}removeAllFromRegister(m){_.forEach(m,g=>g.element.trigger(i.Ir1))}hideOverlay(m){m.element.removeClass(n).removeAttr("style")}isResizeSensorScrollEvent(m){return m&&$(m.target).parent().hasClass("ResizeSensor")}}},306289:function(ve,z,e){function a(i){var r=[];for(var t in i){var o=i[t];!o.start||!o.end||r.push({start:new Date(o.start).toISOString(),end:new Date(o.end).toISOString(),startEval:o.startEval?new Date(o.startEval).toISOString():void 0,endEval:o.endEval?new Date(o.endEval).toISOString():void 0,fileName:t})}return r}e.d(z,{F:function(){return a}})},240981:function(ve,z,e){e.d(z,{$:function(){return i},L:function(){return r}});var a=e(501285);function i(){return(0,a.iE)().isCurrentContextRtl}function r(){return{isRtlLayout:"True"===i()}}},944419:function(ve,z,e){e.d(z,{E:function(){return t},G:function(){return o}});var a=e(694398),i=e(647132),r=e(361298);function t(d,n){return null==d?!n:"string"==typeof d&&(0,i.AZ)(d)}function o(d,n=[],c){var s=["background","foreground","accent","tableAccent","foreground","foregroundLight","foregroundDark","foregroundNeutralLight","foregroundNeutralDark","foregroundNeutralSecondary","foregroundNeutralSecondaryAlt","foregroundNeutralSecondaryAlt2","foregroundNeutralTertiary","foregroundNeutralTertiaryAlt","foregroundSelected","foregroundButton","background","backgroundLight","backgroundNeutral","backgroundDark","hyperlink","visitedHyperlink","shapeStroke","disabledText","mapPushpin","good","neutral","bad","maximum","center","minimum","null","firstLevelElements","secondLevelElements","thirdLevelElements","fourthLevelElements","secondaryBackground"],p=["title","label","callout","header","largeTitle","dataTitle","boldLabel","largeLabel","largeLightLabel","lightLabel","semiboldLabel","smallLabel","smallLightLabel","smallDataLabel"],l=["$schema","name","dataColors","textClasses","visualStyles","isHighContrast","icons"].concat(s,p,n);try{var u=(0,a.p)(d);if(_.isObject(u)&&!_.isArray(u)&&!c){var m=u.name;if(!m||!_.isString(m))throw new Error("Theme name missing");var g=u.dataColors;if(null!=g&&(!_.isArray(g)||_.some(g,f=>!t(f,!0))))throw new Error("Invalid theme data colors");for(var E of s)if(!t(u[E],!1))throw new Error("Invalid theme data color");for(var D in u)if(-1===l.indexOf(D))throw new Error("Invalid theme field: "+D);var h=u.textClasses;if(!_.isEmpty(h))for(var C in h)if(-1===p.indexOf(C))throw new Error("Invalid theme text class: "+C)}if(u){if(!_.isEmpty(u.dataColors)){var y=r.SU.getDefaultColors();u.dataColors.length<y.length&&(u.dataColors=u.dataColors.concat(y.slice(u.dataColors.length).map(f=>f.value)))}return u}}catch{}}},976041:function(ve,z,e){function t(d){return new o(d)}e.d(z,{Jr:function(){return t}});class o{constructor(n){this.promiseFactory=n,this.queueDictionaryForBigDelays={},this.queueDictionaryForSmallDelays={}}setTimeout(n=0,c=!1){var s=this.promiseFactory.defer(c),p=50,l=this.queueDictionaryForBigDelays;n<=100&&(p=5,l=this.queueDictionaryForSmallDelays);var u=-1===n?-1:n?Math.ceil((Date.now()+n)/p):0,v=l[u];if(!v){v=l[u]=[];var m=()=>{delete l[u],_.forEach(v,g=>g.resolve(null))};-1===n?Zone.root.scheduleMicroTask("TimeoutService.scheduleMicroTask",m):window.setTimeout(m,n)}return v.push(s),s}}},796653:function(ve,z,e){e.d(z,{$J:function(){return zr},BA:function(){return w},Bd:function(){return Ie},Cs:function(){return xt},D:function(){return K},Dp:function(){return Nt},EB:function(){return nt},Eh:function(){return n},F8:function(){return Me},GW:function(){return ee},Gn:function(){return W},H7:function(){return Se},Hq:function(){return ye},IQ:function(){return Cr},IT:function(){return ne},JT:function(){return T},Je:function(){return or},K5:function(){return $t},NC:function(){return Yr},NS:function(){return it},Nm:function(){return et},OQ:function(){return o},P4:function(){return ar},Ps:function(){return Y},Qc:function(){return Vt},R7:function(){return dr},SA:function(){return F},Vu:function(){return J},Xx:function(){return We},Zs:function(){return ct},_6:function(){return t},_Y:function(){return Zr},ab:function(){return ia},am:function(){return M},bO:function(){return De},ce:function(){return qe},cv:function(){return Ke},dC:function(){return mr},dw:function(){return re},f_:function(){return Ze},g3:function(){return ke},gE:function(){return ae},gb:function(){return mt},hV:function(){return r},iT:function(){return Ot},jA:function(){return je},jN:function(){return Ee},l3:function(){return b},mS:function(){return Qe},oJ:function(){return Qr},pu:function(){return Wr},pz:function(){return i},ro:function(){return pe},rt:function(){return Hr},sF:function(){return B},ty:function(){return aa},uo:function(){return he},vo:function(){return Te},wR:function(){return Nr},wn:function(){return H},xN:function(){return l},xQ:function(){return pt},ym:function(){return d},yx:function(){return Lr},zV:function(){return ot},zm:function(){return L}});var a=e(285264),i=function(Zt){return Zt.Unknown="Unknown",Zt.ReportMessage="ReportMessage",Zt.ShareDashboard="ShareDashboard",Zt.ConnectApps="ConnectApps",Zt.ConnectContentProvider="ConnectContentProvider",Zt.ConnectContentPacks="ConnectContentPacks",Zt.CopyArtifact="CopyArtifact",Zt.QuotaExceededTrialAndPaidUser="QuotaExceededTrialAndPaidUser",Zt.QuotaExceededTrialUser="QuotaExceededTrialUser",Zt.ManageStorageView="ManageStorageView",Zt.Dataset="Dataset",Zt.Dataflow="Dataflow",Zt.CreateGroups="CreateGroups",Zt.SwitchGroups="SwitchGroups",Zt.LandingGroups="LandingGroups",Zt.SwitchDashboards="SwitchDashboards",Zt.InitialDashboardLoad="InitialDashboardLoad",Zt.NotificationBar="NotificationBar",Zt.EmailLink="EmailLink",Zt.RLS="RLS",Zt.DashboardEmailSubscription="DashboardEmailSubscription",Zt.ReportEmailSubscription="ReportEmailSubscription",Zt.UsageMetrics="UsageMetrics",Zt.ProModels="ProModels",Zt.ScriptVisual="ScriptVisual",Zt.Sharing="Sharing",Zt.ExportToPowerPoint="ExportToPowerPoint",Zt.ExportToPdf="ExportToPdf",Zt.PremiumContentProviders="PremiumContentProviders",Zt.AnalyzeInExcel="AnalyzeInExcel",Zt.NavigationBar="NavigationBar",Zt.AuthorApps="AuthorApps",Zt.TutorialPopup="TutorialPopup",Zt.ExportData="ExportData",Zt.AccessApps="AccessApps",Zt.ServiceApps="ServiceApps",Zt.AppPersonalize="AppPersonalize",Zt.HomeUpgradeBar="HomeUpgradeBar",Zt.UserInfoMenu="UserInfoMenu",Zt.DeploymentPipelines="DeploymentPipelines",Zt.SharepointList="SharepointList",Zt.UploadFile="UploadFile",Zt.CreateScorecardPane="CreateScorecardPane",Zt.OpenAutomatedInsights="OpenAutomatedInsights",Zt.CreateReport_DatasetAction="CreateReport_DatasetAction",Zt.CreatePaginatedReport_DatasetAction="CreatePaginatedReport_DatasetAction",Zt.SettingsNavigation_DatasetAction="SettingsNavigation_DatasetAction",Zt.ManagePermissions_DatasetAction="ManagePermissions_DatasetAction",Zt.ChatInTeams_DatasetAction="ChatInTeams_DatasetAction",Zt.ViewLineage_DatasetAction="ViewLineage_DatasetAction",Zt.DownloadPbix_DatasetAction="DownloadPbix_DatasetAction",Zt.RefreshNow_DatasetAction="RefreshNow_DatasetAction",Zt.Rename_DatasetAction="Rename_DatasetAction",Zt.DeleteConfirmation_DatasetAction="DeleteConfirmation_DatasetAction",Zt.ScheduleRefresh_DatasetAction="ScheduleRefresh_DatasetAction",Zt.RequestAccess_Dataset="RequestAccess_Dataset",Zt.ImpactAnalysis_Dataset="ImpactAnalysis_Dataset",Zt.ShowTable_Dataset="ShowTable_Dataset",Zt.Scan_Dataset="Scan_Dataset",Zt.NewMigrationPane="NewMigrationPane",Zt.CreatePowerBIArtifact="CreatePowerBIArtifact",Zt.CreateTridentArtifact="CreateTridentArtifact",Zt.DlpAction="DlpAction",Zt.PurviewHub="PurviewHub",Zt.OneDriveViewer="OneDriveViewer",Zt.DataExploration="DataExploration",Zt.CreatePaginatedReport="CreatePaginatedReport",Zt.DeleteConfirmation="DeleteConfirmation",Zt.DeveloperPlayground="DeveloperPlayground",Zt.DownloadReport="DownloadReport",Zt.EditArtifact="EditArtifact",Zt.EditArtifactInfo="EditArtifactInfo",Zt.EmbedReport="EmbedReport",Zt.ManagePermissions="ManagePermissions",Zt.MoveTo="MoveTo",Zt.OpenDataModel="OpenDataModel",Zt.PublishToWeb="PublishToWeb",Zt.Rename="Rename",Zt.SaveACopy="SaveACopy",Zt.SaveAs="SaveAs",Zt.SettingsNavigation="SettingsNavigation",Zt.ViewLineage="ViewLineage",Zt}({}),r=function(Zt){return Zt.Unknown="Unknown",Zt.Accept="Accept",Zt.Cancel="Cancel",Zt.Upgrade="Upgrade",Zt.Error="Error",Zt.BuyNow="BuyNow",Zt}({}),t=function(Zt){return Zt.Dashboard="Dashboard",Zt.Report="Report",Zt}({}),o=function(Zt){return Zt.Models="Models",Zt.Packages="Packages",Zt.DirectLake="DirectLake",Zt}({}),d=function(Zt){return Zt.Unknown="Unknown",Zt.GET="GET",Zt.POST="POST",Zt.PUT="PUT",Zt.PATCH="PATCH",Zt.DELETE="DELETE",Zt}({}),n=function(Zt){return Zt.TenantSet="TenantSet",Zt.SelfServeEligible="SelfServeEligible",Zt.Ineligible="Ineligible",Zt.Unknown="Unknown",Zt}({}),c="PBI.Dashboard.BITokenRefreshPrompt",p=(a.Xi[c]=(0,a.Vp)(c),"PBI.Dashboard.FailedToRefreshToken"),l=a.Xi[p]=(0,a.Vp)(p),u="PBI.Dashboard.OpenLink",m=(a.Xi[u]=(0,a.Vp)(u),"PBI.MashUpContentProvider.ConnectButtonClicked"),E=(a.Xi[m]=(0,a.Vp)(m),"PBI.MashUpContentProvider.OrgAppPassThrough"),h=(a.Xi[E]=(0,a.Vp)(E),"PBI.MashUpContentProvider.PreparePackageSucceed"),y=(a.Xi[h]=(0,a.Vp)(h),"PBI.MashUpContentProvider.GetPackageModels"),S=(a.Xi[y]=(0,a.Vp)(y),"PBI.MashUpContentProvider.SaveModelParameters"),b=a.Xi[S]=(0,a.Vp)(S),V="PBI.MashUpContentProvider.GetAggregatedDatasourcesForImport",M=a.Xi[V]=(0,a.Vp)(V),P="PBI.MashUpContentProvider.UpdateDatasource",T=a.Xi[P]=(0,a.Vp)(P),N="PBI.MashUpContentProvider.ValidateParameters",w=a.Xi[N]=(0,a.Vp)(N),I="PBI.ContentProvider.UrlParametersPassed",x=(a.Xi[I]=(0,a.Vp)(I),"PBI.ContentProvider.UrlParametersDecodingFailed"),U=(a.Xi[x]=(0,a.Vp)(x),"PBI.ContentProvider.Http.GetContentProviders"),F=a.Xi[U]=(0,a.Vp)(U),R="PBI.Dashboard.SettingsDatasetsSaveRefreshSettings",B=a.Xi[R]=(0,a.Vp)(R),A="PBI.Dashboard.ParametersDialogSaveParameters",W=a.Xi[A]=(0,a.Vp)(A),G="PBI.Dashboard.RefreshNowFailedToRetrieveModel",K=a.Xi[G]=(0,a.Vp)(G),q="PBI.Dashboard.AuthenticationDialogSaveCredentials",ne=a.Xi[q]=(0,a.Vp)(q),k="PBI.Dashboard.RetrieveGateway",L=a.Xi[k]=(0,a.Vp)(k),X="PBI.Dashboard.PrepareRefreshNow",Y=a.Xi[X]=(0,a.Vp)(X),Q="PBI.Dashboard.GetAggregatedDatasourcesForOneModel",H=a.Xi[Q]=(0,a.Vp)(Q),te="PBI.Dashboard.DatasetRefresh",ee=a.Xi[te]=(0,a.Vp)(te),ue="PBI.Dashboard.DatasetRefreshCancellation",Te=a.Xi[ue]=(0,a.Vp)(ue),He="PBI.Dashboard.InitializeSettingsDatasetModel",We=a.Xi[He]=(0,a.Vp)(He),ft="PBI.Dashboard.GetRefreshHistory",mt=a.Xi[ft]=(0,a.Vp)(ft),At="PBI.Dashboard.GetGroupIcon",Qe=a.Xi[At]=(0,a.Vp)(At),Fe="PBI.Dashboard.RefreshAndGetUserMetadata",ye=a.Xi[Fe]=(0,a.Vp)(Fe),we="PBI.UserInfo.RefreshUserServicePlan",Ee=a.Xi[we]=(0,a.Vp)(we),Oe="PBI.UserInfo.GetSelfServiceEligibility",he=a.Xi[Oe]=(0,a.Vp)(Oe),xe="PBI.UserInfo.GetIsModernCommerceAdmin",Se=a.Xi[xe]=(0,a.Vp)(xe),Ae="PBI.Quota.UpgradeInteraction",Ie=a.Xi[Ae]=(0,a.Vp)(Ae),Je="PBI.LicenseEnforcement.ShowFeatureDisabledDialog",pe=a.Xi[Je]=(0,a.Vp)(Je),Pe="PBI.LicenseEnforcement.ShowStartFreeTrialDialog",Me=a.Xi[Pe]=(0,a.Vp)(Pe),Ge="PBI.LicenseEnforcement.ShowUpgradeToProDialog",De=a.Xi[Ge]=(0,a.Vp)(Ge),lt="PBI.LicenseEnforcement.Accept2017proTrial",ct=a.Xi[lt]=(0,a.Vp)(lt),vt="PBI.LicenseEnforcement.AutoTrialAssignment",Vt=a.Xi[vt]=(0,a.Vp)(vt),It="PBI.TeamsLicenseEnforcement.UpgradeNowClick",Ot=a.Xi[It]=(0,a.Vp)(It),de="PBI.TeamsLicenseEnforcement.UpgradeNowAbandon",Ze=a.Xi[de]=(0,a.Vp)(de),Ye="PBI.DashboardAndReports.Print",qe=a.Xi[Ye]=(0,a.Vp)(Ye,{logExpAssignment:!0}),ut="PBI.DashboardAndReports.AnalyzeInExcel",et=a.Xi[ut]=(0,a.Vp)(ut,{logExpAssignment:!0}),le="PBI.DeprecatedNotificationToastUsage",Be=(a.Xi[le]=(0,a.Vp)(le),"PBI.DomainHelper.GetVerifiedDomains"),Ke=a.Xi[Be]=(0,a.Vp)(Be),Xe="PBI.NewerExplorationVersion",re=a.Xi[Xe]=(0,a.Vp)(Xe),fe="PBI.DeveloperVisualEnabledChanged",ae=a.Xi[fe]=(0,a.Vp)(fe),tt="PBI.ModuleLoad",ot=a.Xi[tt]=(0,a.Vp)(tt),rt="PBI.ModuleLoadError",J=(a.Xi[rt]=(0,a.Vp)(rt),function(Zt){return Zt.Data="Data",Zt.Highlight="Highlight",Zt}({})),ce="ScriptVisualFilterAction",ze=(a.Xi[ce]=(0,a.Vp)(ce),"PBI.EX.CrossFilterScriptVisual"),it=a.Xi[ze]=(0,a.Vp)(ze),yt="PBI.EX.FilterScriptVisual",Nt=a.Xi[yt]=(0,a.Vp)(yt),Lt="PBI.ClusterResolved",Yt=(a.Xi[Lt]=(0,a.Vp)(Lt),"PBI.DashboardAndReports.AuditEvent"),sr=(a.Xi[Yt]=(0,a.Vp)(Yt),"PBI.DownloadReport"),je=a.Xi[sr]=(0,a.Vp)(sr,{logExpAssignment:!0}),Tt="PBI.Settings.UpdateGateway",nr=(a.Xi[Tt]=(0,a.Vp)(Tt),"PBI.Settings.DeleteGateway"),ar=a.Xi[nr]=(0,a.Vp)(nr),$e="PBI.Settings.CreateDataSource",pt=a.Xi[$e]=(0,a.Vp)($e),Ut="PBI.Settings.DeleteDataSource",$t=a.Xi[Ut]=(0,a.Vp)(Ut),er="PBI.Settings.BindModelToGateway",or=a.Xi[er]=(0,a.Vp)(er),vr="PBI.Settings.AddDataSourcePrincipals",mr=a.Xi[vr]=(0,a.Vp)(vr),Mr="PBI.Settings.RemoveDataSourcePrincipals",Lr=a.Xi[Mr]=(0,a.Vp)(Mr),Ur="PBI.Settings.AddGatewayPrincipals",Yr=a.Xi[Ur]=(0,a.Vp)(Ur),Kr="PBI.Settings.RemoveGatewayPrincipals",Hr=a.Xi[Kr]=(0,a.Vp)(Kr),Gr="PBI.Settings.UpdateCredentials",Wr=a.Xi[Gr]=(0,a.Vp)(Gr),Or="PBI.Settings.OpenGatewayDatasourceUPNMappingPane",Xr=(a.Xi[Or]=(0,a.Vp)(Or),"PBI.Settings.UpdateGatewayDatasourceUPNMapping"),aa=a.Xi[Xr]=(0,a.Vp)(Xr),jr="PBI.Settings.TestGatewayDatasourceUPNMapping",Cr=a.Xi[jr]=(0,a.Vp)(jr),Ir="PBI.App.JavaScriptParse",ia=a.Xi[Ir]=(0,a.Vp)(Ir),Rr="PBI.App.PreemptiveQueryData",zr=a.Xi[Rr]=(0,a.Vp)(Rr),Tr="PBI.GeocodingSummary",Zr=a.Xi[Tr]=(0,a.Vp)(Tr,{logRatio:.1}),na="PBI.GeocodingBatchSummary",Nr=a.Xi[na]=(0,a.Vp)(na,{logRatio:.1}),br="PBI.GeocodingCacheLimitExceeded",Qr=a.Xi[br]=(0,a.Vp)(br,{logRatio:.1}),kr="PBI.AzureMapsResponseMetrics",Pt=(a.Xi[kr]=(0,a.Vp)(kr),"PBI.SyncServiceUpdate"),nt=a.Xi[Pt]=(0,a.Vp)(Pt),_e="PBI.LicenseEnforcement.AccessCustomizedProperties",ke=a.Xi[_e]=(0,a.Vp)(_e),dt="PBI.LicenseEnforcement.SelfServiceEligibilityNotLoaded",xt=a.Xi[dt]=(0,a.Vp)(dt),Ht="PBI.Settings.OAuthPopup",dr=a.Xi[Ht]=(0,a.Vp)(Ht),Sr="PBI.LegacyServiceUsed";a.Xi[Sr]=(0,a.Vp)(Sr)},200367:function(ve,z,e){e.d(z,{Me:function(){return n},ND:function(){return p},Ob:function(){return c},Pz:function(){return v},Rd:function(){return b},WL:function(){return E},fd:function(){return m},g9:function(){return C},mV:function(){return f},wE:function(){return N},wp:function(){return S},yL:function(){return V},yS:function(){return y}});var a=e(18122),i="^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$",r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,t=[.6,.4,.2,.1,0],o=[-.1,-.2,-.3,-.5,-.6],d=[.6,.4,.2,-.25,-.5];function n(j,U,F){var R,B,A,W=Math.floor(6*j),G=6*j-W,K=F*(1-U),q=F*(1-G*U),ne=F*(1-(1-G)*U);switch(W%6){case 0:R=F,B=ne,A=K;break;case 1:R=q,B=F,A=K;break;case 2:R=K,B=F,A=ne;break;case 3:R=K,B=q,A=F;break;case 4:R=ne,B=K,A=F;break;case 5:R=F,B=K,A=q}return[Math.round(255*R),Math.round(255*B),Math.round(255*A)]}function c(j,U,F){return"#"+s(j)+s(U)+s(F)}function s(j){var U=j.toString(16);return 1===U.length?"0"+U:U}function p(j,U){var F=V(j);return null===F?"":U||0===U?"rgba("+F.r+","+F.g+","+F.b+","+U+")":"rgb("+F.r+","+F.g+","+F.b+")"}function v(j,U){if(m(j))return p(j,U);if(function(j){return/^hsl\(\d{1,3}(,\s?\d{1,3}%){2}\)|^hsla\((\d{1,3}%?,\s?){3}(1|1.0|0|0?\.\d+)\)$/gi.test(j)}(j)){var F=function(j){var F,U=/^hsla?\((\d{1,3}),\s?(\d{1,3})%,\s?(\d{1,3})%(,\s?(1|1.0|0)|,\s?(0?\.\d+))?\)$/i.exec(j);if(!U)return null;U[5]&&(F=parseFloat(U[5])),U[6]&&(F=parseFloat(U[6]));var R=parseInt(U[1],10);R%=360;var B=parseInt(U[2],10);B=B>100?100:B;var A=parseInt(U[3],10);return{h:R,s:B,l:A=A>100?100:A,a:F}}(j);return"hsla("+F.h+","+F.s+"%,"+F.l+"%,"+(F.a||0===F.a?F.a:U)+")"}if(function(j){return/^rgb\(\d{1,3}(,\s?\d{1,3}){2}\)|^rgba\((\d{1,3},\s?){3}(1|1.0|0|0?\.\d+)\)$/gi.test(j)}(j)){var B=function(j){var F,U=/^rgba?\((\d{1,3}),\s?(\d{1,3}),\s?(\d{1,3})(,\s?(1|1.0|0)|,\s?(0?\.\d+))?\)$/i.exec(j);if(!U)return null;U[5]&&(F=parseFloat(U[5])),U[6]&&(F=parseFloat(U[6]));var R=parseInt(U[1],10);R=R>255?255:R;var B=parseInt(U[2],10);B=B>255?255:B;var A=parseInt(U[3],10);return{r:R,g:B,b:A=A>255?255:A,a:F}}(j);return"rgba("+B.r+","+B.g+","+B.b+","+(B.a||0===B.a?B.a:U)+")"}return""}function m(j){return null!=j&&!!j.match(i)}function E(j){return a.Y.assertValue(j,"color"),function(j){return"#FFFFFF"===j||"#FFF"===j}(j)?o:function(j){return"#000000"===j||"#000"===j}(j)?t:d}function C(j){return m(j)||m(j="#"+j)?j:null}function y(j){return 1-(j??0)/100}function f(j){var U=V(j);return(.299*U.r+.587*U.g+.114*U.b)/255}function S(j){return j&&!!j.match("^#([A-Fa-f0-9]{3})$")}function b(j,U){return j=(j=U?j.substring(1):j).replace(r,function(F,R,B,A){return R+R+B+B+A+A}),U?"#"+j:j}function V(j){j=b(j,!1);var U=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(j);return U?{r:parseInt(U[1],16),g:parseInt(U[2],16),b:parseInt(U[3],16)}:null}function N(j,U,F){j/=255,U/=255,F/=255;var A,W,R=Math.max(j,U,F),B=Math.min(j,U,F),G=R,K=R-B;if(W=0===R?0:K/R,R===B)A=0;else{switch(R){case j:A=(U-F)/K+(U<F?6:0);break;case U:A=(F-j)/K+2;break;case F:A=(j-U)/K+4}A/=6}return[A,W,G]}},252881:function(ve,z,e){function a(i){return{dsrV2:i.dsrV2||i.dsrV2_Staging,queryCancellation:i.queryCancellation,telemetryV2:i.telemetryV2,scopedAggregates:i.scopedAggregates,addVisualIdToQueryDataAsHttpBodyId:i.addVisualIdToQueryDataAsHttpBodyId,queryContext:i.queryContext,lruCacheEvictionPolicy:i.lruCacheEvictionPolicy,useEnrichedApplicationContext:i.useEnrichedApplicationContext,disallowLongRunningQueries:i.disallowLongRunningQueries,visualCalculationOnComboChart:i.visualCalculationOnComboChart,visualTopN:i.visualTopN,rowHierarchySelector:i.rowHierarchySelector}}e.d(z,{p:function(){return a}})},124115:function(ve,z,e){e.d(z,{Q:function(){return r}});var a=e(18122),i=/[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}/;class r{static generateId(o,d){return`${o||""}${r.generateUUID()}${d||""}`}static generateShortId(o){return(Math.random().toString(36)+"00000000000000000").slice(2,o+2)}static generateUniqueId(o,d,n){a.Y.assertValue(o,"usedIds");for(var c,s=0;void 0===c||o[c];){if(++s>1e3){a.Y.assertFail("iterationCount is greater than 1000 while generating a unique id");break}c=r.generateId(d,n)}return c}static isGuid(o){if(_.isEmpty(o)||36!==o.length)return!1;var d=o.match(i);return!_.isEmpty(d)&&1===d.length}static generateUUID(){var o=(new Date).getTime();return typeof performance<"u"&&"function"==typeof performance.now&&(o+=performance.now()),"xxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(d){var n=o+16*Math.random()&15;return o>>=4,n.toString(16)})}}},929603:function(ve,z,e){function a(i){var r=i.offset();return{left:r.left,top:r.top,width:i.outerWidth(!0),height:i.outerHeight(!0)}}e.d(z,{F:function(){return a}})},201068:function(ve,z,e){e.d(z,{Z:function(){return o},n:function(){return i}});var a=e(18122),i=function(d){return d[d.Reference=0]="Reference",d[d.Array=1]="Array",d[d.Deep=2]="Deep",d}({});function r(d){if(d){var c,n=d.value();if(d.firstChange?(d.firstChange=!1,c=!0):d.equal(n,d.oldValue)||(c=!1),void 0!==c){var s=d.oldValue;d.oldValue=d.copy(n),d.onChange(n,s,c)}}}class o{constructor(){this.watches={}}has(n){return null!=this.watches[n]}add(n,c,s,p){var l,u;a.Y.assertValue(n,"id"),a.Y.assert(()=>!this.watches[n],`Added watch twice: ${n}`),a.Y.assertValue(c,"value"),a.Y.assertValue(s,"onChange"),p&&p.mode===i.Deep?(l=(v,m)=>_.isEqual(v,m),u=v=>_.cloneDeep(v)):p&&p.mode===i.Array?(l=(v,m)=>function(d,n){if(!d||!n)return d===n;var c=d.length;if(c!==n.length)return!1;for(var s=c;s-- >0;)if(d[s]!==n[s])return!1;return!0}(v,m),u=v=>_.clone(v)):(l=(v,m)=>v===m,u=v=>v),this.watches[n]={id:n,value:c,onChange:s,firstChange:!0,equal:l,copy:u}}remove(n){delete this.watches[n]}doCheck(){_.forEach(this.watches,r)}}},858807:function(ve,z,e){e.d(z,{AjU:function(){return N},Bdn:function(){return ht},CnU:function(){return Br},DnA:function(){return Nt},FVA:function(){return ae},FxJ:function(){return qt},HTz:function(){return or},HaT:function(){return oe},Hiw:function(){return x},Ibe:function(){return Gr},Ir1:function(){return j},J1w:function(){return s},JTY:function(){return S},Jih:function(){return bt},LVJ:function(){return d},Lqx:function(){return ce},MLn:function(){return zt},MVu:function(){return J},Nji:function(){return Tr},Nk9:function(){return sr},OJn:function(){return M},OYt:function(){return Or},PHG:function(){return gr},PNz:function(){return zr},PQ5:function(){return qr},PUe:function(){return B},Pif:function(){return Lt},Q0z:function(){return Hr},QT:function(){return f},Qs_:function(){return ir},R0W:function(){return ue},RSC:function(){return F},Rqq:function(){return $t},TRo:function(){return Nr},Tbb:function(){return yt},Tby:function(){return r},VCx:function(){return Wr},Vw7:function(){return P},W33:function(){return T},Wqv:function(){return Ve},Z8c:function(){return wr},ZN4:function(){return C},Zpm:function(){return er},__N:function(){return dt},_e:function(){return ze},_j3:function(){return la},a2e:function(){return b},bJ9:function(){return Mr},bZs:function(){return Zr},cTp:function(){return w},fAq:function(){return V},hNc:function(){return R},hUJ:function(){return je},kA_:function(){return yr},kGi:function(){return o},klP:function(){return _e},nLn:function(){return n},ohZ:function(){return $r},puD:function(){return y},tMM:function(){return Yt},tzh:function(){return cr},u2M:function(){return Ut},u2g:function(){return h},vNi:function(){return O},xP6:function(){return vr},yKx:function(){return hr},z2S:function(){return t}});var a=e(876082),i=e(594293),r="ActivityId",t="RequestId",o="x-ms-root-activity-id",d="http",n="X-PowerBI-UploadFileSize",s="refreshAccessToken",h="azure",C="office",y="trial",f="dc",S=function(se){return se.Settings="settings",se.Health="health",se.DelegatedSettings="delegatedSettings",se}({}),b=673,V=860,M=940,P=578,T="/openReport",N="/openWorkbook",w="/openQnA",O="/openInsights",x="/openUrl",j="overlay.close",F="me",R="R",B="sobe_onpremisevirtualserver",ue="selectedQueryId",ae={name:"datasetDatasourceUpdated",type:a.U.Global},J=980,ce=640,ze={name:"datasetShowAuthDialog",type:a.U.Global},yt={name:"datasetShowParameterDialogAfterInvalidParameter",type:a.U.Global},Nt="ContentProvider_InvalidModelParameter",Lt=127,zt=8,Yt=48,sr="enterPrintModeEvent",je="exitPrintModeEvent",Ut="PackageOperationInProgress",$t="DataRefreshTooSoon",er="OnPremiseServiceException",or="RefreshNotSupportedFFXL",vr="CloudRLSAccessDeniedErrorCode",Mr=location.origin||location.protocol+"//"+location.hostname,Hr="contentProviderStoreCancelModalDialogMessage",Gr="contentProviderStoreCloseModalDialogMessage",Wr="contentProviderStoreGoBackModalDialogMessage",Or="contentProviderStoreGoToAppDocModalDialogMessage",zr=6,Tr=7,Zr=26,Nr=1073741824,wr=1004,_e=10,dt=2147483647,ht=[{backendUri:void 0,hostNameMatch:["invalidHostName"],index:0},{backendUri:"https://wabi-us-east2-redirect.analysis.windows.net",hostNameMatch:["wabi-us-east2"],index:1},{backendUri:"https://wabi-us-east-redirect.analysis.windows.net",hostNameMatch:["wabi-us-east","wabi-staging-us-east"],index:2},{backendUri:"https://wabi-us-north-central-redirect.analysis.windows.net",hostNameMatch:["wabi-us-north-central"],index:3},{backendUri:"https://wabi-south-central-us-redirect.analysis.windows.net",hostNameMatch:["wabi-south-central-us","wabi-us-south-central-backup"],index:4},{backendUri:"https://df-msit-scus-redirect.analysis.windows.net",hostNameMatch:["df-msit-scus"],index:5},{backendUri:"https://wabi-west-us-redirect.analysis.windows.net",hostNameMatch:["wabi-west-us","wabi-tip-west-us"],index:6},{backendUri:"https://df-msit-wus-redirect.analysis.windows.net",hostNameMatch:["df-msit-wus"],index:7},{backendUri:"https://wabi-north-europe-redirect.analysis.windows.net",hostNameMatch:["wabi-north-europe","wabi-europe-north2","wabi-europe-north-b"],index:8},{backendUri:"https://wabi-west-europe-redirect.analysis.windows.net",hostNameMatch:["wabi-west-europe","wabi-europe-west2"],index:9},{backendUri:"https://wabi-south-east-asia-redirect.analysis.windows.net",hostNameMatch:["wabi-south-east-asia","wabi-east-asia"],index:10},{backendUri:"https://wabi-staging-a7-redirect.analysis.windows.net",hostNameMatch:["wabi-staging-a7"],index:11},{backendUri:"https://biazure-int-edog-redirect.analysis-df.windows.net",hostNameMatch:["biazure-int-edog","bi-azure-int3"],index:12},{backendUri:"https://fabric-shared-edog-redirect.analysis-df.windows.net",hostNameMatch:["fabric-shared-edog"],index:13}],bt="dsr",qt=function(se){return se[se.Excel=6]="Excel",se[se.PBIX=7]="PBIX",se[se.Csv=60]="Csv",se[se.Rdl=71]="Rdl",se[se.UserReportUsageMetrics=102]="UserReportUsageMetrics",se[se.UserDashboardUsageMetrics=103]="UserDashboardUsageMetrics",se}({}),ir=function(se){return se[se.maxTagTelemetrySize=300]="maxTagTelemetrySize",se}({});function cr(se){var gt=se.contentProviderId;return gt===qt.UserDashboardUsageMetrics||gt===qt.UserReportUsageMetrics||se.packageType===i.Rn.UsageMetricsV2}function gr(se){return se?.packageType===i.Rn.Scorecard}function hr(se){return se?.originalPackageType===i.Rn.Scorecard}function yr(se){return se===qt.UserDashboardUsageMetrics||se===qt.UserReportUsageMetrics}var $r=60,Br="invitationCode",la="i",qr="00000000-0000-0000-0000-000000000000",oe=2147483647,Ve=[22,43,44,45,46,47,48,49]},594293:function(ve,z,e){e.d(z,{Ak:function(){return l},Cm:function(){return v},Cs:function(){return p},DR:function(){return f},E8:function(){return t},KI:function(){return r},Nx:function(){return b},OK:function(){return E},OL:function(){return d},RY:function(){return D},Rn:function(){return n},ac:function(){return y},d2:function(){return m},fI:function(){return h},r8:function(){return c},rf:function(){return i},u9:function(){return u},wQ:function(){return s},xR:function(){return g},yW:function(){return S},yt:function(){return o}}),e(55220);var i=["PowerBIServicePlan0"],r=["PowerBIServicePlan1","PowerBIServicePlan2","PowerBIServicePlan3"],t=["PowerBIServicePlan3"],o=["PowerBIServicePlan1"],d=["PowerBIServicePlan1","PowerBIServicePlan2"],n=function(V){return V[V.Undefined=0]="Undefined",V[V.AppTemplate=1]="AppTemplate",V[V.AppInstance=2]="AppInstance",V[V.AppCopy=3]="AppCopy",V[V.UsageMetricsV2=4]="UsageMetricsV2",V[V.ProtectionMetrics=5]="ProtectionMetrics",V[V.AdminUsageMetrics=6]="AdminUsageMetrics",V[V.AdminPerformanceMetrics=7]="AdminPerformanceMetrics",V[V.Sample=8]="Sample",V[V.Scorecard=9]="Scorecard",V[V.TeamsAnalytics=10]="TeamsAnalytics",V[V.Datamart=11]="Datamart",V[V.AdminMonitoring=12]="AdminMonitoring",V[V.AuditLogSearchDataflow=13]="AuditLogSearchDataflow",V[V.AdminInsightsUsageMetrics=14]="AdminInsightsUsageMetrics",V[V.AdminInsights=15]="AdminInsights",V[V.SeeThruModel=16]="SeeThruModel",V[V.PurviewHub=17]="PurviewHub",V}({}),c=function(V){return V[V.None=0]="None",V[V.BuiltIn=1]="BuiltIn",V[V.Organizational=2]="Organizational",V[V.Services=3]="Services",V[V.OrganizationalTemplate=4]="OrganizationalTemplate",V[V.OrganizationalApp=5]="OrganizationalApp",V[V.ServiceApp=6]="ServiceApp",V[V.OrganizationalTemplateApp=7]="OrganizationalTemplateApp",V[V.PowerBIServiceApp=8]="PowerBIServiceApp",V}({}),s=function(V){return V.None="",V.BuiltIn="BuiltIn",V.Organizational="Organizational",V.Services="Services",V.OrganizationalTemplate="OrganizationalTemplate",V.OrganizationalApp="OrganizationalApp",V.ServiceApp="ServiceApp",V.OrganizationalTemplateApp="OrganizationalTemplateApp",V.PowerBIServiceApp="PowerBIServiceApp",V}({}),p=function(V){return V[V.Service=1]="Service",V[V.Organizational=2]="Organizational",V[V.File=3]="File",V[V.Sample=4]="Sample",V[V.Learn=5]="Learn",V[V.BigDataAndMore=6]="BigDataAndMore",V[V.Dataflows=7]="Dataflows",V[V.OrgContentPacks=8]="OrgContentPacks",V[V.Apps=9]="Apps",V}({}),l=function(V){return V[V.Import=0]="Import",V[V.DirectQuery=1]="DirectQuery",V[V.Mixed=2]="Mixed",V}({}),u=function(V){return V[V.Favorite=1]="Favorite",V[V.Report=2]="Report",V[V.Dashboard=4]="Dashboard",V[V.Workbook=8]="Workbook",V[V.OrgApp=16]="OrgApp",V[V.MRU=128]="MRU",V[V.Workspace=256]="Workspace",V[V.Dataset=512]="Dataset",V[V.AppPlaceHolder=1024]="AppPlaceHolder",V[V.RdlReport=2048]="RdlReport",V[V.CdsaModel=4096]="CdsaModel",V[V.StreamingCdsaModel=8192]="StreamingCdsaModel",V[V.Scorecard=16384]="Scorecard",V[V.StreamingDataset=32768]="StreamingDataset",V[V.Datamart=65536]="Datamart",V}({}),v=function(V){return V[V.AlmPipelineDeployment=0]="AlmPipelineDeployment",V[V.AutomaticAggregationsEnabled=1]="AutomaticAggregationsEnabled",V[V.IncrementalRefreshEnabled=2]="IncrementalRefreshEnabled",V[V.LiveConnectModel=3]="LiveConnectModel",V[V.ModifiedByXmlaEndpoint=4]="ModifiedByXmlaEndpoint",V[V.NonV3Model=5]="NonV3Model",V[V.SharedCapacityModel=6]="SharedCapacityModel",V}({}),m=function(V){return V[V.Shared=0]="Shared",V[V.Dedicated=1]="Dedicated",V[V.ASAzure=2]="ASAzure",V[V.ASOnPrem=3]="ASOnPrem",V}({}),g=function(V){return V[V.Unknown=0]="Unknown",V[V.Abf=1]="Abf",V[V.PremiumFiles=2]="PremiumFiles",V}({}),E=function(V){return V[V.Origin=0]="Origin",V[V.Strict=1]="Strict",V}({}),D=function(V){return V.UploadPBIX="UploadPBIX",V.SaveEditedReport="SaveEditedReport",V.NewDashboard="NewDashboard",V.AddTile="AddTile",V.NewReport="NewReport",V.NewDataset="NewDataset",V.UploadRdl="UploadRdl",V.NewRdlReport="NewRdlReport",V}({}),h=function(V){return V[V.Default=0]="Default",V[V.NativeV3=1]="NativeV3",V[V.AutoConvertedV3=2]="AutoConvertedV3",V}({}),y=function(V){return V[V.Restricted=0]="Restricted",V[V.Automatic=1]="Automatic",V[V.Legacy=2]="Legacy",V}({}),f=function(V){return V[V.Dashboard=1]="Dashboard",V[V.Report=2]="Report",V[V.App=3]="App",V[V.RdlReport=4]="RdlReport",V[V.ResourcePackage=5]="ResourcePackage",V[V.Artifact=6]="Artifact",V[V.Datamart=7]="Datamart",V}({}),S=function(V){return V[V.None=0]="None",V[V.InsufficientPermission=1]="InsufficientPermission",V}({}),b=function(V){return V[V.None=0]="None",V[V.PowerBI=1]="PowerBI",V[V.Fabric=2]="Fabric",V}({})},791099:function(ve,z,e){e.d(z,{S:function(){return i},a:function(){return a}});var a=function(r){return r[r.NewFeatureProductMessage=0]="NewFeatureProductMessage",r[r.DashboardSharing=2]="DashboardSharing",r[r.DashboardAddedToGroup=3]="DashboardAddedToGroup",r[r.Trial=5]="Trial",r[r.DataDrivenAlert=6]="DataDrivenAlert",r[r.AccessRequest=14]="AccessRequest",r[r.TemplateAppsUpdateAvailable=29]="TemplateAppsUpdateAvailable",r[r.CapacityOverloaded=34]="CapacityOverloaded",r[r.CapacityAutoScaled=35]="CapacityAutoScaled",r[r.CapacityAutoScaleMaximumReached=36]="CapacityAutoScaleMaximumReached",r[r.TeamsAppInstallation=42]="TeamsAppInstallation",r[r.ScdProvisioningFailed=62]="ScdProvisioningFailed",r[r.DynamicMessage=999]="DynamicMessage",r}({}),i=function(r){return r[r.DashboardContentPackNewVersion=0]="DashboardContentPackNewVersion",r[r.UsersNotifications_SharedDashboard=1]="UsersNotifications_SharedDashboard",r[r.ExtendTrial_TrialExpired=2]="ExtendTrial_TrialExpired",r[r.UsersNotifications_TrialRunsOutInLessThanADay=3]="UsersNotifications_TrialRunsOutInLessThanADay",r[r.UsersNotifications_TrialRunningOut=4]="UsersNotifications_TrialRunningOut",r[r.UsersNotifications_TitleTrialExpired=5]="UsersNotifications_TitleTrialExpired",r[r.UsersNotifications_UserName=6]="UsersNotifications_UserName",r[r.UsersNotifications_GoToApp=7]="UsersNotifications_GoToApp",r[r.UsersNotifications_GoToDashboard=8]="UsersNotifications_GoToDashboard",r[r.UsersNotifications_TrialRunsOutInOneDay=9]="UsersNotifications_TrialRunsOutInOneDay",r[r.UsersNotifications_TitleTrialRunsOutInOneDay=10]="UsersNotifications_TitleTrialRunsOutInOneDay",r[r.UsersNotifications_TitleTrialRunsOutInLessThanADay=11]="UsersNotifications_TitleTrialRunsOutInLessThanADay",r[r.UsersNotifications_TitleTrialRunningOut=12]="UsersNotifications_TitleTrialRunningOut",r[r.UsersNotifications_RequestExtensionLinkText=13]="UsersNotifications_RequestExtensionLinkText",r[r.UsersNotifications_DataDrivenAlert=14]="UsersNotifications_DataDrivenAlert",r[r.UsersNotifications_GroupName=15]="UsersNotifications_GroupName",r[r.UsersNotifications_NewDashboard=16]="UsersNotifications_NewDashboard",r[r.UsersNotifications_TileName=17]="UsersNotifications_TileName",r[r.UsersNotifications_DataDrivenDown=18]="UsersNotifications_DataDrivenDown",r[r.UsersNotifications_DataDrivenUp=19]="UsersNotifications_DataDrivenUp",r[r.UsersNotifications_GoToTile=20]="UsersNotifications_GoToTile",r[r.UsersNotifications_DatasetSettingChangeTitle=21]="UsersNotifications_DatasetSettingChangeTitle",r[r.UsersNotifications_DatasetInGroupWorkspaceSettingChangeMessage=22]="UsersNotifications_DatasetInGroupWorkspaceSettingChangeMessage",r[r.UsersNotifications_DatasetInMyWorkspaceSettingChangeMessage=23]="UsersNotifications_DatasetInMyWorkspaceSettingChangeMessage",r[r.Generic_LearnMore=24]="Generic_LearnMore",r[r.UsersNotifications_Upgrade=25]="UsersNotifications_Upgrade",r[r.UsersNotifications_GoToConversation=27]="UsersNotifications_GoToConversation",r[r.UsersNotifications_AtMentionedInComment=28]="UsersNotifications_AtMentionedInComment",r[r.FolderNotifications_ServiceAppsUpdateAvailable=29]="FolderNotifications_ServiceAppsUpdateAvailable",r[r.FolderNotifications_GetServiceAppUpdate=30]="FolderNotifications_GetServiceAppUpdate",r[r.UsersNotifications_FeaturedContentEnabledTitle=31]="UsersNotifications_FeaturedContentEnabledTitle",r[r.UsersNotifications_FeaturedContentEnabledMessage=32]="UsersNotifications_FeaturedContentEnabledMessage",r[r.UsersNotifications_GoToAdminPortal=33]="UsersNotifications_GoToAdminPortal",r[r.UsersNotifications_GoToAdminPortalCapacity=34]="UsersNotifications_GoToAdminPortalCapacity",r[r.UsersNotifications_GoToReportAccess=37]="UsersNotifications_GoToReportAccess",r[r.UsersNotifications_RequestedAccess=38]="UsersNotifications_RequestedAccess",r[r.UsersNotifications_AlertTitle=1e3]="UsersNotifications_AlertTitle",r[r.UsersNotifications_AlertExceeded=1001]="UsersNotifications_AlertExceeded",r[r.UsersNotifications_AlertWentBelow=1002]="UsersNotifications_AlertWentBelow",r[r.UsersNotifications_AlertAction=1003]="UsersNotifications_AlertAction",r[r.UsersNotifications_AlertExceededNoTileName=1004]="UsersNotifications_AlertExceededNoTileName",r[r.UsersNotifications_AlertWentBelowNoTileName=1005]="UsersNotifications_AlertWentBelowNoTileName",r[r.UsersNotifications_LineChartAnomalyAlert_DatetimeMultiple=1200]="UsersNotifications_LineChartAnomalyAlert_DatetimeMultiple",r[r.UsersNotifications_LineChartAnomalyAlert_DatetimeSingle=1201]="UsersNotifications_LineChartAnomalyAlert_DatetimeSingle",r[r.UsersNotifications_LineChartAnomalyAlert_OtherMultiple=1202]="UsersNotifications_LineChartAnomalyAlert_OtherMultiple",r[r.UsersNotifications_LineChartAnomalyAlert_OtherSingle=1203]="UsersNotifications_LineChartAnomalyAlert_OtherSingle",r[r.UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertExceeded=1204]="UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertExceeded",r[r.UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertWentBelow=1205]="UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertWentBelow",r[r.UsersNotifications_LineChartThreshold_DatetimeSingle_AlertExceeded=1206]="UsersNotifications_LineChartThreshold_DatetimeSingle_AlertExceeded",r[r.UsersNotifications_LineChartThreshold_DatetimeSingle_AlertWentBelow=1207]="UsersNotifications_LineChartThreshold_DatetimeSingle_AlertWentBelow",r[r.UsersNotifications_LineChartThreshold_OtherMultiple_AlertExceeded=1208]="UsersNotifications_LineChartThreshold_OtherMultiple_AlertExceeded",r[r.UsersNotifications_LineChartThreshold_OtherMultiple_AlertWentBelow=1209]="UsersNotifications_LineChartThreshold_OtherMultiple_AlertWentBelow",r[r.UsersNotifications_LineChartThreshold_OtherSingle_AlertExceeded=1210]="UsersNotifications_LineChartThreshold_OtherSingle_AlertExceeded",r[r.UsersNotifications_LineChartThreshold_OtherSingle_AlertWentBelow=1211]="UsersNotifications_LineChartThreshold_OtherSingle_AlertWentBelow",r[r.UsersNotifications_CapacityAutoscaled_Title=2e3]="UsersNotifications_CapacityAutoscaled_Title",r[r.UsersNotifications_CapacityAutoscaled=2001]="UsersNotifications_CapacityAutoscaled",r[r.UsersNotifications_CapacityThrottled_Title=2002]="UsersNotifications_CapacityThrottled_Title",r[r.UsersNotifications_CapacityThrottled=2003]="UsersNotifications_CapacityThrottled",r[r.UsersNotifications_CapacityLoadExceeded_Title=2004]="UsersNotifications_CapacityLoadExceeded_Title",r[r.UsersNotifications_CapacityLoadExceeded=2005]="UsersNotifications_CapacityLoadExceeded",r[r.UsersNotifications_TeamsAppInstallationSuccess=2101]="UsersNotifications_TeamsAppInstallationSuccess",r[r.UsersNotifications_TeamsAppInstallationOpen=2102]="UsersNotifications_TeamsAppInstallationOpen",r[r.UsersNotifications_SCDProvisioningFailure_Title=2201]="UsersNotifications_SCDProvisioningFailure_Title",r[r.UsersNotifications_SCDProvisioningFailure_Message=2202]="UsersNotifications_SCDProvisioningFailure_Message",r[r.UsersNotifications_SCDProvisioningFailure_ContactUs=2203]="UsersNotifications_SCDProvisioningFailure_ContactUs",r}({})},40849:function(ve,z,e){e.d(z,{H:function(){return a}});class a{constructor(r){r&&(this.uniqueId=r.objectId,this.displayName=r.displayName,this.capacity=r.capacityObjectId&&{id:r.capacityObjectId,name:r.capacityName,region:r.region},this.contract=r,this.lastViewedDashboard=-1,this.isMyWorkspace=!(!r||!r.isMyWorkspace),this.folderType=r.folderType||r.type)}getPermissions(){}}},632616:function(ve,z,e){e.d(z,{v:function(){return t}});var a=e(454840),i=e(40849),r=window;class t extends i.H{constructor(d){super(d),d&&(this.id=d.id,this.description=d.description,this.icon=d.iconUrl&&a.n4.urlCombine(r.clusterUri,d.iconUrl),this.permissions=d.permissions,this.contacts=d.contacts,this.allowContributorUpdateApp=d.allowContributorUpdateApp,this.defaultDatasetStorageMode=d.defaultDatasetStorageMode,this.type=d.type,this.folderType=d.type,this.domainObjectId=d.domainObjectId,this.allowWebModeling=d.allowWebModeling,this.datasourceBindingSecurityMode=d.datasourceBindingSecurityMode)}get folderContract(){return this.contract}get sharePointStorage(){return this.folderContract.sharePointStorage}set sharePointStorage(d){this.folderContract.sharePointStorage=d}}},101578:function(ve,z,e){e.d(z,{Y:function(){return n}});var a=e(594293),i=e(40849),r=e(518759);class t{constructor(s){this.contextMenuItemList=[],s&&s.metadata&&(s.metadata.contextMenuItemList.forEach(p=>{this.contextMenuItemList.push(p)}),this.contextMenuSeparatorPosition=s.metadata.contextMenuItemList.length),0===this.contextMenuItemList.length&&(this.contextMenuSeparatorPosition=-1),s&&s.isMyWorkspace?this.contextMenuItemList.push({linkType:r.y_.EditMyWorkspace}):(this.contextMenuItemList.push(s.isOwner?{linkType:r.y_.EditGroup}:{linkType:r.y_.ViewGroup}),this.contextMenuItemList.push({linkType:r.y_.LeaveGroup}))}}var o=function(c){return c[c.AllContent=0]="AllContent",c[c.MyContent=1]="MyContent",c[c.SharedWithMe=2]="SharedWithMe",c}({});class n extends i.H{constructor(s){super(s),s&&(this.aadGroupId=s.objectId,this.metadata=new t(s)),this.lastOwnershipFilter=o.AllContent,this.contentTileType=a.u9.Workspace}}},919971:function(ve,z,e){e.d(z,{Bb:function(){return a},I3:function(){return r},ii:function(){return i},lI:function(){return o},zY:function(){return t}});var a=function(d){return d[d.Line=0]="Line",d[d.Area=1]="Area",d[d.StackedArea=2]="StackedArea",d[d.HundredPercentStackedArea=3]="HundredPercentStackedArea",d[d.ClusteredColumn=4]="ClusteredColumn",d[d.StackedColumn=5]="StackedColumn",d[d.ClusteredBar=6]="ClusteredBar",d[d.StackedBar=7]="StackedBar",d[d.HundredPercentStackedBar=8]="HundredPercentStackedBar",d[d.HundredPercentStackedColumn=9]="HundredPercentStackedColumn",d[d.RibbonChart=10]="RibbonChart",d[d.Scatter=11]="Scatter",d[d.Waterfall=12]="Waterfall",d[d.LineClusteredColumnCombo=13]="LineClusteredColumnCombo",d[d.LineStackedColumnCombo=14]="LineStackedColumnCombo",d[d.RealTimeLineChart=15]="RealTimeLineChart",d}({}),i=function(d){return d[d.Auto=0]="Auto",d[d.Custom=1]="Custom",d}({}),r=function(d){return d[d.Line=0]="Line",d[d.RealTime=1]="RealTime",d[d.Scatter=2]="Scatter",d[d.Waterfall=3]="Waterfall",d[d.Column=4]="Column",d}({}),t=function(d){return d[d.Top=0]="Top",d[d.Bottom=1]="Bottom",d}({}),o=function(d){return d[d.Left=0]="Left",d[d.Center=1]="Center",d[d.Right=2]="Right",d}({})},867357:function(ve,z,e){e.d(z,{q:function(){return a}});var a="scriptVisuals"},897510:function(ve,z,e){e.d(z,{q:function(){return r}});var a=e(789327),i=e(304408);class r{bindEvents(o,d,n){var{paths:c,formatMode:s}=o;if(!_.isEmpty(c))for(var p of c)p&&p.on("contextmenu",()=>this.handleContextMenu(d,s))}renderSelection(o){}handleContextMenu(o,d){var n=(0,i.ZU)(),c=d3.event;c.preventDefault(),d||(0,a.o)(c),(0,i.TA)(s=>{o.handleContextMenu(s,n)})}}},998963:function(ve,z,e){e.d(z,{N:function(){return C}});var a=e(708589),i=e(837585),r=e(18122),t=e(693029),o=e(715068),d=e(943509),n=e(371577),c=e(890741),s=e(816030),p=e(106302),l=e(258480),u=e(757406),v=e(759831),m=e(875978),g=e(476271),E=e(153484),D=e(573740);class C{constructor(S,b){this.hostService=S,this.behavior=b,this.isInvertedSelectionMode=!1,this.isSearchUpdateMode=!1,this.selected=[]}static buildDefaultValueFilter(S,b=!1){r.Y.assertNonEmpty(S,".buildDefaultValueFilter columns should not be empty");var V=[],M=[],P=b?V:M;for(var T of S){var N=T.parameter?.kind===d.t_.MParameters,w=!!T.parameter?.supportsSelectAll,I=null!=(0,s._W)(T.objects,a.NK.general.defaultValue);N&&w||I?P.push(...C.getMetadataColumnIdentityExprs(T)):P=V}if(!_.isEmpty(V)||!_.isEmpty(M))return l.b0.getDefaultAnyValueFilter(M,V)}static getMetadataColumnIdentityExprs(S){return _.isEmpty(S.identityExprs)?[S.expr]:S.identityExprs}setDefaultValueMode(S){this.useDefaultValue=S}bind(S,b){this.selected=_.filter(S,V=>V.selected),this.behavior.bindEvents(b,this),this.behavior.renderSelection()}setSelected(S){this.selected=_.isEmpty(S)?[]:_.filter(S,b=>b.selected)}setSelectionModeInverted(S){this.previousInversionMode=this.isInvertedSelectionMode,this.isInvertedSelectionMode=S}setColumns(S){this.columns=S,this.columnExprs=_.map(S,b=>b.expr),this.supportsDefaultValueByLevel=_.map(S,b=>null!=(0,s._W)(b.objects,a.NK.general.defaultValue))}hasSelection(){return!_.isEmpty(this.selected)}isSelectionModeInverted(){return this.isInvertedSelectionMode}setQueryNameByLevel(S){this.queryNameByLevel=S}persistSelfFilter(S,b){var V=(0,m.kR)(this.columnExprs,b);this.hostService.persistProperties(C.createChangeForProperty(S,V))}setSearchMode(S){this.isSearchUpdateMode=S}isSearchMode(){return this.isSearchUpdateMode}handleClearSelection(){if(this.previouslySelected=this.selected.slice(),this.previousInversionMode=this.isInvertedSelectionMode,this.isInvertedSelectionMode=!1,!(1===this.selected.length&&this.isStrictSingleSelect||this.hasDefaultValue()&&this.useDefaultValue)){var S=this.hostService.getLocalizedString("Slicer_ClearSelectionsCleared");this.hostService.alertWithDebounce("announce-clear-selection",S),this.useDefaultValue=!0,this.resetSelected(),this.behavior.renderSelection()}}persistSelectionFilter(S,b=!1,V,M=!1){var P=this.getFilterFromDataPoints();if(P&&!_.isEmpty(this.selected)){var T=this.toFilterExpressionMetadata(this.selected);this.hostService.setFilterExpressionMetadata(T)}var N=C.createChangeForProperty(S,P),I=C.createChangeForProperty(a.NK.data.isInvertedSelectionMode,!(b||!this.isInvertedSelectionMode)||null);if(M){var O=C.createChangeForProperty(a.NK.general.selfFilter,null);this.mergeObjectInstancesToPersist(N,O)}N=this.mergeObjectInstancesToPersist(N,I),this.hostService.persistProperties(N,V),this.sendSelectionToHost()}getDataMultiSelectMode(){return this.hostService.dataMultiSelectMode()}persistFromClipboard(S,b){var V=new Map,M=new Map;for(var P of(this.selected=[],S))if(!(P.length>this.columns.length||b&&P.length<this.columns.length)){if(this.handleMultiColumnRow(P,V,M),this.isStrictSingleSelect&&this.selected.length>1){this.selected=[this.selected[0]];break}if(this.selected.length>=2e3){this.selected=this.selected.slice(0,2e3);break}}this.persistSelectionFilter(a.NK.general.filter,!1,!0)}handleMultiColumnRow(S,b,V){for(var P,M=0,T=[];M<S.length;){var N=S[M].trim(),w=this.columns[M],I=w.identityExprs[0];T.push(N);var O=T.join("|"),x=b.get(M)?.get(O);x?P=x:(P=this.buildDataPoint(N,I,this.selected.length,w,P,V))&&(b.has(M)||b.set(M,new Map),b.get(M).set(O,P)),M++}P&&(P.selected=!0,this.selected.push(P))}buildDataPoint(S,b,V,M,P,T){var N=T?.get(S)??this.tryParseValue(S,M);if(T&&T.set(S,N),N){var w=(0,u.LC)(b,N),O={value:S,selected:!1,index:V,tooltip:S,scopeIdentity:(0,g.UQ)(w),count:void 0,level:P?P.level+1:0,disabled:!1,identity:void 0,parent:P};return function(f,S){for(var b=D.tJ.builder(),V=f;V;)b.withColumnIdentity(V.scopeIdentity,S[f.level]),V=V.parent;f.identity=b.createSelectionId()}(O,this.queryNameByLevel),O}}tryParseValue(S,b){if(b&&b.type){var V=S.trim(),M=b.type;if(M.text)return(0,u.Qq)(S);if(M.numeric){var P=E.r9.parseFloat(V);return isNaN(P)?void 0:Number.isInteger(P)?(0,u.nd)(P):(0,u.gd)(P)}if(M.dateTime){var T=E.r9.parseDate(V);return isNaN(T&&T.getTime())?void 0:(0,u.KQ)(T)}}}sendSelectionToHost(){if(this.hostService.onSelect){var S=_.isEmpty(this.selected)?[]:_.map(this.selected,T=>T.identity),b=i.pl.createSelectEventArgs(S,o.v.Single),V=_.isEmpty(this.previouslySelected)?[]:_.map(this.previouslySelected,T=>T.identity),M=i.pl.createSelectEventArgs(V,o.v.Single),P=_.size(b.visualObjects)!==_.size(M.visualObjects)||_.some(b.visualObjects,(T,N)=>!(0,c.Pv)(T.selectorsByColumn,M.visualObjects[N].selectorsByColumn));b.fireDataSelectedEvent=P||this.isInvertedSelectionMode!==this.previousInversionMode,this.hostService.onSelect(b)}}handleSelection(S,b,V){if(this.onSelecting(S,V))return!1;var M=S.partially,P=S.selected;this.useDefaultValue=!1,this.previouslySelected=this.selected.slice(),b===o.v.Single||this.isStrictSingleSelect?this.resetSelected():this.clearDataPointState(S);var T=this.getDataPointSelectedState(S,b,M,P);return this.updateSelectedState(S,T),this.behavior.renderSelection(),!0}getDataPointSelectedState(S,b,V,M){return V?(0,m.tM)(S,this.isInvertedSelectionMode)?S.selected:!S.selected:!!this.isStrictSingleSelect||(b===o.v.Single?!M||this.selected.length>1:!M)}onSelecting(S,b){var V=(0,m.Zt)(S,this.queryNameByLevel),M={type:n.H6.DataPointSelection,visualObjects:[{objectName:i.pl.dataPointObjectName,selectorsByColumn:V.selector}],position:b};return this.hostService.onSelecting(M),M.action!==t.Ii.Selection&&null!=M.action}updateSelectedState(S,b){var V=S.selected;S.selected=b,V!==b&&(this.clearDataPointState(S,!0),this.updateParentState(S)),S.selected?this.selected.push(S):V&&!S.selected&&_.remove(this.selected,S)}setStrictSingleSelect(S,b){this.isStrictSingleSelect=S,this.adjustStrictSingleSelectSelection(b)}resetSelected(){_.isEmpty(this.selected)||_.each(this.selected,S=>S.selected=!1),this.selected=[]}clearDataPointState(S,b=!1){if(b||(S.selected&&_.remove(this.selected,S),S.selected=!1),!_.isEmpty(S.children)&&S.partially)for(var V of(S.partially=!1,S.children))this.clearDataPointState(V)}updateParentState(S){if(S.parent)for(var b=S.parent;b;)b.partially=!!S.selected||_.some(b.children,V=>V.selected),b=b.parent}mergeObjectInstancesToPersist(S,b){var V={};return V.merge=S.merge,V.remove=S.remove,_.isEmpty(b.merge)||(V.merge=V.merge||[],V.merge.push(...b.merge||[])),_.isEmpty(b.remove)||(V.remove=V.remove||[],V.remove.push(...b.remove||[])),V}toFilterExpressionMetadata(S){if(!_.isEmpty(S)){var b={expressions:this.columnExprs,cachedValueItems:[]},V=0;for(var M of S){for(var P=M,T={identities:[],valueMap:{}};P;)T.identities.unshift(P.scopeIdentity),T.valueMap[P.level]=P.value,V=Math.max(V,P.level),P=P.parent;b.cachedValueItems.push(T)}return b.expressions=this.columnExprs.slice(0,V+1),b}}isDisableMultipleSelectForMappedColumn(){return _.some(this.columns,b=>b.parameter?.kind===d.t_.MParameters&&!b.parameter?.supportsMultipleValues)}toggleSelectionModeInversion(S=!1){return this.previouslySelected=this.selected.slice(),this.useDefaultValue=!1,this.previousInversionMode=this.isInvertedSelectionMode,this.isInvertedSelectionMode=!this.isInvertedSelectionMode,this.resetSelected(),S&&this.hostService.persistProperties(C.createChangeForProperty(a.NK.data.isInvertedSelectionMode,!!this.isInvertedSelectionMode||null)),this.behavior.renderSelection(),this.isInvertedSelectionMode}getFilterFromDataPoints(){var S=(0,m.zP)({columns:this.columns});if(_.isEmpty(this.selected)&&(this.hasDefaultValue()||this.isInvertedSelectionMode&&S))return C.buildDefaultValueFilter(this.columns,!this.useDefaultValue||S);var V=this.buildSelectorsByLevel();if(V){var M=C.buildExprForHierarchyFilter(V.selected,V.unselected,S);return M=this.ensureAnyFilter(M,V.maxLevel),l.b0.fromSQExpr(M)}}static buildExprForHierarchyFilter(S,b,V){var M=C.buildExprsFromSelectorsByLevel(S),P=C.buildExprForUnselectedState(b,!V);return M&&P?M=(0,u.Uo)(M,P):P&&(M=P),M}ensureAnyFilter(S,b){var V=b+1;if(V<this.columns.length){for(var M=(0,u.mh)(),P=[],T=V;T<this.columns.length;T++)this.supportsDefaultValueByLevel[T]&&P.push(...C.getMetadataColumnIdentityExprs(this.columns[T]));if(!_.isEmpty(P)){var N=Array.apply(null,Array(P.length)).map(()=>M);S=(0,u.Uo)(S,(0,v.o)(P,N))}}return S}static getInExprByLevel(S){var V,b=(0,c.$B)(S);for(var M of b){var P=(0,p.lj)(M);V=V?(0,u.or)(V,P):P||M}return V}hasDefaultValue(){if(!_.isEmpty(this.columns))return null!=(0,s._W)(this.columns[0].objects,a.NK.general.defaultValue)}static buildExprsFromSelectorsByLevel(S,b=!1){var V;for(var M in S){var P=C.getInExprByLevel(S[M]);V=V?(0,u.or)(V,P):P}return b&&V&&(V=(0,u.AU)(V)),V}buildSelectorsByLevel(){if(!_.isEmpty(this.selected)){var S={},b={},V={},M=0;for(var P of this.selected){for(var T=-1,N=P,w={data:[]};N;)w.data.unshift(N.scopeIdentity),N=N.parent,T++;if(M=Math.max(M,T),(0,m.tM)(P,this.isInvertedSelectionMode)){var I=this.getFirstUnselectedParent(P,this.isInvertedSelectionMode),O=S;I&&(O=this.ensureState(I,V).selectedChildren),O[T]=O[T]||[],O[T].push(w)}else{var j=this.ensureState(P,V);j.selector=w,b[T]=b[T]||[],b[T].push(j)}}return{selected:S,unselected:b,maxLevel:M}}}static buildExprForUnselectedState(S,b){var V,M={};for(var P in S){var T=S[P],N=[],w=[];for(var I of T)_.isEmpty(I.selectedChildren)?w.push(I.selector):N.push(I);if(_.isEmpty(w)||(M[P]=w),!_.isEmpty(N)){var O=C.getExprForUnselectedStateWithSelection(N);V=V?(0,u.Uo)(O,V):O}}var x=C.buildExprsFromSelectorsByLevel(M,b);return V?(0,u.Uo)(x,V):x}static getExprForUnselectedStateWithSelection(S){var b;for(var V of S){var M=C.buildExprsFromSelectorsByLevel(V.selectedChildren),P=(0,u.AU)(C.getInExprByLevel([V.selector])),T=(0,u.or)(M,P);b=b?(0,u.Uo)(T,b):T}return b}ensureState(S,b){var V=b[S.identity.getKey()];return V||(V={selector:{},selectedChildren:{}},b[S.identity.getKey()]=V),V}getFirstUnselectedParent(S,b){for(;S;){if(S.selected&&!(0,m.tM)(S,b))return S;S=S.parent}}static createChangeForProperty(S,b){var V={},M={objectName:S.objectName,selector:void 0,properties:V};return null==b?(V[S.propertyName]={},{remove:[M]}):(V[S.propertyName]=b,{merge:[M]})}adjustStrictSingleSelectSelection(S){if(this.isStrictSingleSelect&&!_.isEmpty(S)&&(1!==_.filter(S,N=>N.selected).length||this.isInvertedSelectionMode)){var V;if(S.length>1){for(var M of S)if(M.selected&&!this.isInvertedSelectionMode||!M.selected&&this.isInvertedSelectionMode){V=M;break}if(!V)if((0,m.zP)({columns:this.columns})){for(var T of S)if(!T.disabled){V=T;break}}else V=S[0]}this.isInvertedSelectionMode&&this.toggleSelectionModeInversion(null==V),V&&(V.selected=!0,this.selected=[V],this.persistSelectionFilter(a.NK.general.filter,void 0,!0))}}}},875978:function(ve,z,e){e.d(z,{DO:function(){return G},Ex:function(){return At},Fz:function(){return ft},Iu:function(){return Fe},LH:function(){return Ze},QI:function(){return R},RE:function(){return Se},Ro:function(){return K},T2:function(){return te},T6:function(){return B},Tt:function(){return we},Uz:function(){return Qe},V:function(){return xe},W1:function(){return He},XT:function(){return Pe},YR:function(){return Ie},ZQ:function(){return ct},Zt:function(){return ee},cW:function(){return F},dq:function(){return Q},eY:function(){return k},ei:function(){return L},f8:function(){return Je},hi:function(){return ye},jV:function(){return vt},jw:function(){return It},kN:function(){return X},kR:function(){return ue},mm:function(){return W},nB:function(){return j},ny:function(){return Vt},pO:function(){return q},qW:function(){return pe},sM:function(){return Me},t4:function(){return he},tM:function(){return mt},w1:function(){return A},xN:function(){return Ae},xO:function(){return Ot},yC:function(){return We},yI:function(){return Te},zP:function(){return Ee},zQ:function(){return lt}});var a=e(233390),i=e(92249),r=e(512655),t=e(493434),o=e(495123),d=e(647132),n=e(236880),c=e(757406),s=e(943509),p=e(340888),l=e(476271),u=e(115442),v=e(693602),m=e(261962),g=e(893420),E=e(371577),D=e(404323),h=e(533498),C=e(623670),y=e(258480),f=e(708589),S=e(18122),b=e(5371),V=e(73113),M=e(358719),P=(0,r.tI)("clearSearchTextButton"),w=((0,r.tI)("headerContainer"),(0,r.tI)("slicerHeader"),(0,r.tI)("hidden")),I=(0,r.tI)("icon"),j=((0,r.tI)("titleHeader"),(0,r.tI)("headerText"),(0,r.tI)("slicerBody")),F=((0,r.tI)("slicerLabel"),(0,r.tI)("slicerText")),R=(0,r.tI)("slicerImage"),B=(0,r.tI)("slicerCountText"),A=(0,r.tI)("searchHeader"),W=(0,r.tI)("searchIcon"),G=(0,r.tI)("searchInput"),K=(0,r.tI)("collapsed"),q=(0,r.tI)("show"),k=((0,r.tI)("isMultiSelectEnabled"),(0,r.tI)("enable-hover")),L=(0,r.tI)("disableScrollHover"),X="SelectAll",Y="SearchBox_Text",Q="DeselectAll";function H(Ye){return null!=Ye&&null!=Ye.slicerSettings}function te(Ye){return(0,D.Hk)(Ye,f.E0.value)}function ee(Ye,qe){var et={dataMap:{},metadata:[qe[Ye.level]]},le=[],me=[],Be=Ye;for(le.push(Ye),me.push(Ye.levelIndex);Be.parent;)le.unshift(Be=Be.parent),me.unshift(Be.levelIndex);for(var Ke of le)et.dataMap[qe[Ke.level]]=[Ke.scopeIdentity];return{selector:et,path:me}}function ue(Ye,qe){var ut;if(!_.isEmpty(qe)&&!_.isEmpty(Ye)){var le,et=(0,c.Qq)(qe);for(var me of Ye){var Be=(0,c.gR)(me,et);le=le?(0,c.or)(le,Be):Be}ut=y.b0.fromSQExpr(le)}return ut}function Te(Ye,qe){if(!_.isEmpty(Ye)&&!_.isEmpty(qe)){var et;for(var le of qe){var me=(0,c.gR)(Ye,(0,c.Qq)(le));et=et?(0,c.or)(et,me):me}return y.b0.fromSQExpr(et)}}function He(Ye){return Ye?Ye.kind===b.Ez.Contains?[(0,c.q7)(Ye.right)]:Ye.kind===b.Ez.Or?[...He(Ye.left),...He(Ye.right)]:void S.Y.assertFail("operator not supported"):[]}function We(Ye){if(Ye){var qe=Ye.categorical;if(qe&&!_.isEmpty(qe.categories))return qe.categories[0].identityFields}}function ft(Ye,qe,ut){if(Ye&&!_.isEmpty(qe))for(var et=0,le=qe.length;et<le;et++)if((0,l.aI)(Ye,qe[et].identity,ut))return qe.splice(et,1)[0]}function mt(Ye,qe){var ut=Ye.parent?mt(Ye.parent,qe):qe;return Ye.selected?!ut:ut}function At(Ye,qe){Ye.persistProperties({remove:[{objectName:"general",selector:null,properties:{filter:!0}}],replace:[{objectName:"data",selector:null,properties:{[f.NK.data.mode.propertyName]:qe}}]}),Ye.onSelect({type:E.H6.DataPointSelection,visualObjects:[]});var et=Ye.getLocalizedString("Slicer_ClearSelectionsCleared");Ye.alertWithDebounce("announce-clear-selection",et)}function Qe(Ye,qe){var ut=Ye.complete(),et=ut?ut.visualObjectWarnings:void 0;for(var le in et)qe.addForVisualObject(le,...et[le]||[])}function Fe(Ye){return Ye.identity.getKey()}function ye(Ye,qe,ut=!1){Ye.handleClearSelection(),ut&&Ye.setSearchMode(!0),Ye.persistSelectionFilter(f.NK.general.filter,null,!0!==qe,ut)}function we(Ye){Ye.setSearchMode(!0),Ye.persistSelfFilter(f.NK.general.selfFilter,null)}function Ee(Ye){return _.some(Ye.columns,qe=>qe.parameter?.kind===s.t_.MParameters)}function Oe(Ye){return _.some(Ye.columns,qe=>qe.parameter?.supportsMultipleValues)}function he(Ye){return _.some(Ye.columns,qe=>qe.parameter?.supportsSelectAll)}function xe(Ye,qe){Ye.attr("disabled",!!qe.disabled||void 0)}function Se(Ye,qe){return""!==qe?qe:Ye.getLocalizedString("NullValue")}function Ae(){return{singleSelect:!0,selectAllCheckboxEnabled:!1,strictSingleSelect:!1,restrictToLeafNodes:!1}}class Ie{onPopupHideEvent(qe,ut,et,le){return this.popup=et,this.popupHideEventHandler=qe,this.boundBox=ut,this.originalOffset=$(ut).offset(),this.scrollEventHandler=me=>this.scrollEventReceived(me),this.focusEventHandler=me=>this.focusInEventReceived(me,le),this.popupHideEvent=me=>this.popupHideEventReceived(me),this.mouseEventHandler=me=>this.onMouseDown(me,le),this.bindPopupHideHandlers(),$.proxy(this.unbindPopupHideHandlers,this)}popupHideEventReceived(qe){this.popupHideEventHandler(qe.type,qe.target)}scrollEventReceived(qe){if(this.boundBox){var ut=$(this.boundBox).offset();(ut.left!==this.originalOffset.left||ut.top!==this.originalOffset.top)&&(this.originalOffset=ut,this.popupHideEventHandler(qe.type,qe.target))}}focusInEventReceived(qe,ut){!this.popup||this.popup.contains(qe.target)||ut&&this.isContextMenuElement(qe.target)||this.popupHideEventHandler(qe.type,qe.target)}onMouseDown(qe,ut){2===qe.button&&ut&&(!this.popup||this.popup.contains(qe.target)||this.isContextMenuElement(qe.target))||this.popupHideEventHandler(qe.type,qe.target)}bindPopupHideHandlers(){document.addEventListener("mousedown",this.mouseEventHandler,!0),document.addEventListener("pointerdown",this.mouseEventHandler,!0),document.addEventListener("touchstart",this.popupHideEvent,!0),$(window).on("resize",$.proxy(this.popupHideEventReceived,this)),$(this.boundBox).on("destroy",$.proxy(this.popupHideEventReceived,this)),document.addEventListener("scroll",this.scrollEventHandler,!0),document.addEventListener("focusin",this.focusEventHandler,!0),$(window).on("orientationchange",this.popupHideEventReceived.bind(this))}unbindPopupHideHandlers(){document.removeEventListener("mousedown",this.mouseEventHandler,!0),document.removeEventListener("pointerdown",this.mouseEventHandler,!0),document.removeEventListener("touchstart",this.popupHideEvent,!0),$(window).off("resize",this.popupHideEventReceived),document.removeEventListener("scroll",this.scrollEventHandler,!0),$(this.boundBox).off("destroy",this.popupHideEventReceived),document.removeEventListener("focusin",this.focusEventHandler,!0),$(window).off("orientationchange",this.popupHideEventReceived)}isContextMenuElement(qe){return $(qe).parents("drop-down-list:first").length>0}}class Je{addSearch(qe,ut){var et=ut.append("div").classed(A.class,!0).classed(K.class,!0);return et.append("span").classed("powervisuals-glyph search",!0).classed(I.class,!0).classed(W.class,!0).attr("title",qe.getLocalizedString(Y)),et.append("input").attr("type","text").attr("aria-label",qe.getLocalizedString(Y)).attr("placeholder",qe.getLocalizedString(Y)).attr("spellcheck",!1).classed(G.class,!0).attr("drag-resize-disabled","true"),et}addClearSearchButton(qe,ut){var et=ut.append("span").classed("powervisuals-glyph x",!0).classed(I.class,!0).classed(P.class,!0);return ut.select(G.selector).attr("placeholder",qe.getLocalizedString(Y)),et}configureSearchBoxIcon(qe,ut){var et=_.isEmpty(ut);qe.select(W.selector).classed(w.class,!et),qe.select(P.selector).classed(w.class,et)}setSlicerTextStyle(qe,ut,et){qe.styles({color:ut.slicerText.color,"background-color":ut.slicerText.background,"border-style":"solid","border-color":ut.general.outlineColor,"border-width":(0,m.gz)(ut.slicerText.outlineStyle,ut.general.outlineWeight),"font-size":C.V4.fromPoint(ut.slicerText.textSize),"font-family":ut.slicerText.fontFamily,"line-height":Math.floor(1.79*ut.slicerText.textSize)+"px","font-weight":ut.slicerText.labelBold?r.HM:r.Fl,"font-style":ut.slicerText.labelItalic?r.On:r.Fl,"text-decoration":ut.slicerText.labelUnderline?r.wr:r.eU});var me=this.calculateSlicerTextHighlightColor(ut.slicerText.color);qe.on("mouseover",function(Be){d3.select(this).styles({color:me})}),qe.on("mouseout",function(Be){d3.select(this).styles({color:ut.slicerText.color})})}getRowsOutlineWidth(qe,ut){if("number"==typeof qe){var et=(0,g.Lt)(qe,t.JL.Top),le=(0,g.Lt)(qe,t.JL.Bottom);return et&&le?2*ut:et||le?ut:0}switch(qe){case t.dv:case t.U0:return 0;case t.yk:case t.G7:return ut;case t.$O:case t.Gt:return 2*ut;default:return 0}}calculateSlicerTextHighlightColor(qe){var ut=(0,d.IO)(qe);return ut&&255===ut.R&&255===ut.G&&255===ut.B?"#C8C8C8":(0,d.KY)(ut,.8,.2)}}function pe(){return!o.C.isIOSWebView()&&!o.C.isAndroidWebView()}function Pe(Ye,qe){if(qe===E.bj.Default&&1===Ye.length&&Ye[0].objectName===f.NK.data.mode.objectName&&Ye[0].propertyName===f.NK.data.mode.propertyName){var ut=[],et=Ye[0].propertyValue;return(ut=et===i.FF||et===i.Bw?[{objectName:f.NK.data.mode.objectName,propertyName:f.NK.data.mode.propertyName,propertyValue:i.HX,propertyType:{enumeration:i.NW}},{objectName:f.NK.general.orientation.objectName,propertyName:f.NK.general.orientation.propertyName,propertyValue:et===i.Bw?h.t.Horizontal:h.t.Vertical,propertyType:{enumeration:h.N}}]:[...Ye]).push({objectName:f.NK.general.filter.objectName,propertyName:f.NK.general.filter.propertyName,propertyValue:null,propertyType:{filter:{}}}),ut}return Ye}function Me(Ye,qe,ut,et,le){if(qe)switch(Ye.objectName){case"items":return function(Ye,qe){var et=qe,le=H(Ye)&&Ye.slicerSettings.slicerText,Ke={fontColor:le&&Ye.slicerSettings.slicerText.color?Ye.slicerSettings.slicerText.color:et.slicerText.color,background:le&&Ye.slicerSettings.slicerText.background?Ye.slicerSettings.slicerText.background:et.slicerText.background,textSize:et.slicerText.textSize,fontFamily:et.slicerText.fontFamily,bold:et.slicerText.labelBold,italic:et.slicerText.labelItalic,underline:et.slicerText.labelUnderline,outlineStyle:et.slicerText.outlineStyle};return!_.isEmpty(Ye.queryNameByLevel)&&Ye.queryNameByLevel.length>1&&(Ke.steppedLayoutIndentation=et.expandCollapse.indentation,Ke.expandCollapseToggleType=et.expandCollapse.toggleType),[{selector:null,objectName:"items",properties:Ke}]}(qe,ut);case"selection":return function(Ye,qe,ut){var et=H(Ye)&&Ye.slicerSettings.selection,le=et&&Ye.slicerSettings.selection.selectAllCheckboxEnabled?Ye.slicerSettings.selection.selectAllCheckboxEnabled:qe.selection.selectAllCheckboxEnabled,me=et&&void 0!==Ye.slicerSettings.selection.singleSelect?Ye.slicerSettings.selection.singleSelect:qe.selection.singleSelect,Be=et&&void 0!==Ye.slicerSettings.selection.strictSingleSelect?Ye.slicerSettings.selection.strictSingleSelect:qe.selection.strictSingleSelect;!Be&&Ee(ut.metadata)&&!Oe(ut.metadata)&&(Be=!0);var Ke={selector:null,objectName:"selection",properties:{strictSingleSelect:Be}};return Be||(Ke.properties.singleSelect=me,Ke.properties.selectAllCheckboxEnabled=le),[Ke]}(qe,ut,et)}}function lt(Ye,qe,ut,et){if(qe){var le=H(qe)&&qe.slicerSettings.slicerText,me=le&&qe.slicerSettings.slicerText.color?qe.slicerSettings.slicerText.color:ut.slicerText.color,Be=le&&qe.slicerSettings.slicerText.background?qe.slicerSettings.slicerText.background:ut.slicerText.background,Ke=f.NK.items,Xe=new n.lb(new n.lO(v.jw.Values),"Role_DisplayName_Values",[Ke.fontFamily,Ke.textSize,Ke.bold,Ke.italic,Ke.underline,Ke.fontColor,Ke.padding,Ke.outlineStyle,f.NK.general.outlineColor,f.NK.general.outlineWeight,Ke.background],ae=>Ye.getLocalizedString(ae)),fe=(new n.IT).withFontFamily({descriptor:Ke.fontFamily,value:ut.slicerText.fontFamily}).withFontSizeProperties({descriptor:Ke.textSize,value:ut.slicerText.textSize}).withBold({descriptor:Ke.bold,value:ut.slicerText.labelBold}).withItalic({descriptor:Ke.italic,value:ut.slicerText.labelItalic}).withUnderline({descriptor:Ke.underline,value:ut.slicerText.labelUnderline}).build();return Xe.addGroup(v.uL.Values,ae=>{ae.withDisplayName("Role_DisplayName_Values").addCompositeSlice("fontselector","Font",fe).addSimpleSlice("color",new n.V({descriptor:Ke.fontColor,value:{value:me}}).build()),et&&et.slicerAccessibility&&ae.addSimpleSlice("padding",new n.dW({descriptor:Ke.padding,value:ut.items.padding,options:{minValue:{type:u.vb.Min,value:0},maxValue:{type:u.vb.Max,value:999},unitSymbol:"Numeric_Pixel"}}).build())}).addGroup(v.uL.Border,ae=>{ae.withDisplayName("Visual_Border").addSimpleSlice("border position",new n.Wb({descriptor:Ke.outlineStyle,value:ut.slicerText.outlineStyle}).build(),tt=>tt.withCustomDisplayName("Visual_Border_Position")).addSimpleSlice("color",new n.V({descriptor:{...f.NK.general.outlineColor,instanceKind:p.K.ConstantOrRule},value:{value:ut.general.outlineColor}}).build(),tt=>tt.withCustomDisplayName("Generic_Color")).addSimpleSlice("lineWidth",new n.pB({descriptor:f.NK.general.outlineWeight,value:ut.general.outlineWeight,options:{minValue:{type:u.vb.Min,value:1},maxValue:{type:u.vb.Max,value:10}},localize:tt=>Ye.getLocalizedString(tt)}).build(),tt=>tt.withCustomDisplayName("Visual_Line_Width"))}).addGroup(v.uL.Background,ae=>{ae.withDisplayName("Visual_Background").addSimpleSlice("color",new n.V({descriptor:Ke.background,value:{value:Be}}).build(),tt=>tt.withCustomDisplayName("Generic_Color"))}),Xe.build()}}function ct(Ye,qe,ut,et){if(qe){var le=f.NK.items,me=new n.lb(new n.lO(v.jw.Hierarchy),"Hierarchy",[le.steppedLayoutIndentation,le.expandCollapseToggleType],Be=>Ye.getLocalizedString(Be));if(!_.isEmpty(qe.queryNameByLevel)&&qe.queryNameByLevel.length>1)return me.addGroup(v.uL.Levels,Be=>{Be.withDisplayName("Slicer_Hierarchy_Levels").addSimpleSlice("steppedIndentation",new n.pB({descriptor:le.steppedLayoutIndentation,value:ut.expandCollapse.indentation,options:{minValue:{type:u.vb.Min,value:0},maxValue:{type:u.vb.Max,value:40}},localize:Ke=>Ye.getLocalizedString(Ke)}).build())}).addGroup(v.uL.ExpandCollapseButtons,Be=>{Be.withDisplayName("Slicer_ExpandCollapse").addSimpleSlice("expand/collapseIcon",new n.ZF({descriptor:le.expandCollapseToggleType,value:ut.expandCollapse.toggleType}).build())}),[me.build()]}}function vt(Ye){var{cardUidBuilder:qe,currentSlicerSettings:ut,data:et,dataView:le,hostServices:me,orientation:Be,slicerModes:Ke,featureSwitches:Xe}=Ye,re=Ye.activeMode;if(et||!(0,i.Nu)(re)){var fe=[],ae=[],tt=et&&et.slicerSettings,ot=new n.OM(new n.uC(qe,v.uL.Options),it=>me.getLocalizedString(it));if(ae.push(f.NK.general.selfFilterEnabled),ot.withDisplayName("Desktop_FileMenu_Options"),Xe.updateFormattingPaneObjects&&Xe.moveSlicerTypeSelection){re===i.HX&&(re=Be&&Be===h.t.Horizontal?i.Bw:i.FF);var rt=[];for(var Re of Ke){var J=Re.displayName({get:me.getLocalizedString});rt.push({value:Re.value,displayName:J})}var ce=rt.filter(it=>it.value===re);ot.addSimpleSlice("style",new n.ZF({descriptor:f.NK.data.mode,value:ce&&ce[0],items:rt}).build()),ae.push(f.NK.data.mode)}else null!=Be&&(ot.addSimpleSlice("orientation",new n.ZF({descriptor:f.NK.general.orientation,value:Be}).build()),ae.push(f.NK.general.orientation));var Ce=ot.build();if(Ce.slices.length>0&&fe.push(Ce),et&&ut&&le){var ze=Vt(tt,le,ut,me,qe,ae);fe.push(ze)}return{groups:fe,revertToDefaultDescriptors:ae}}}function Vt(Ye,qe,ut,et,le,me,Be=!0,Ke=!1){var Xe=Ye&&Ye.selection,re=ut.selection,fe=Xe&&Xe.selectAllCheckboxEnabled?Xe.selectAllCheckboxEnabled:re.selectAllCheckboxEnabled,ae=Xe&&void 0!==Xe.singleSelect?Xe.singleSelect:re.singleSelect,tt=Xe&&void 0!==Xe.strictSingleSelect?Xe.strictSingleSelect:re.strictSingleSelect,ot=Ke&&Xe.restrictToLeafNodes;!tt&&Ee(qe.metadata)&&!Oe(qe.metadata)&&(tt=!0);var rt=f.NK.selection,Re=new n.OM(new n.uC(le,v.uL.Selection),J=>et.getLocalizedString(J));return me.push(f.NK.general.selfFilterEnabled,rt.strictSingleSelect,rt.singleSelect,rt.selectAllCheckboxEnabled),Ke&&me.push(f.Eq),Be||Re.addSimpleSlice("singleSelect",new n.AJ({descriptor:rt.singleSelect,value:ae}).build()),(ae||Be)&&!ot&&Re.withDisplayName("ExpandCollapseNode").addSimpleSlice("strictSingleSelect",new n.AJ({descriptor:rt.strictSingleSelect,value:tt}).build()),tt||(Be&&Re.addSimpleSlice("singleSelect",new n.AJ({descriptor:rt.singleSelect,value:ae}).build()),(!Ke||!ot)&&Re.addSimpleSlice("selectAllCheckboxEnabled",new n.AJ({descriptor:rt.selectAllCheckboxEnabled,value:fe}).build()),ae&&!fe&&Ke&&Re.addSimpleSlice("restrictToLeafNodes",new n.AJ({descriptor:f.Eq,value:Xe.restrictToLeafNodes}).build())),Re.build()}function It(Ye,qe,ut){if(null==Ye&&!_.isEmpty(qe.showBlankAs))return qe.showBlankAs;var me,et=qe.labelDisplayUnits,le=et===V.hQ.Custom;le&&!_.isEmpty(qe.customFormatString)&&(me=qe.customFormatString);var Ke={};return null!=me&&(Ke={general:{formatString:me}}),new M.T2({column:ut,formatStringPropId:f.NK.general.formatString,nullsAreBlank:!0,precision:le?void 0:qe.labelPrecision,formatSingleValues:et===V.hQ.Auto,defaultPrecisionForScaledValues:!0,trailingZeroes:!0}).format(Ye,Ke)}function Ot(Ye){return de.apply(this,arguments)}function de(){return(de=(0,a.A)(function*(Ye){try{if(Ye.types.includes("text/plain")){var qe=yield Ye.getType("text/plain");return Ze(yield qe.text())}}catch{}})).apply(this,arguments)}function Ze(Ye){if(Ye){var qe=Ye.split(/\r?\n/).map(ut=>ut.split("\t").map(et=>et.trim())).filter(ut=>ut.some(et=>""!==et));if(0!==qe.length)return{rows:qe}}}},409096:function(ve,z,e){e.d(z,{Ig:function(){return l},ad:function(){return u},q9:function(){return v},YO:function(){return m},EY:function(){return E},mo:function(){return D},bU:function(){return g},$7:function(){return h},yx:function(){return C},s3:function(){return y}});var a=e(293444),i=e(966517),t=e(18122),o=e(693029),d=e(337141),n=e(531093),c=e(358719),s=e(153920),p=e(337965);function l(f,S){var b=[];for(var V of f){var P=v(V.value,S);P&&b.push(P)}return b.join("")}function u(f,S){var b;if((0,s.p)(f.expression)){var V=f.expression.selector.id,M=S?.[V];b=M?.value}else b=f.expression;var P=function(f,S){return _.find(f.cases,b=>b.pattern===S)||f.defaultCase}(f,b);return P.textRuns}function v(f,S){return(0,s.p)(f)?m(f.selector.id,S):f}function m(f,S){var b=S?.[f];return b?.formattedValue}function g(f){var S=f;return t.Y.assertValue(S,"textRun"),_.isString(S.value)||(0,s.p)(S.value)}function E(f){return!_.isNil(f.mentionEmail)}function D(f){return!_.isNil(f.mentionKey)}function h(f){var S=f;return t.Y.assertValue(S,"textRunConditional"),_.isArray(S.cases)&&!!S.defaultCase&&_.isArray(S.defaultCase.textRuns)&&((0,s.p)(S.expression)||_.isString(S.expression)||_.isNumber(S.expression)||_.isBoolean(S.expression)||_.isDate(S.expression))}function C(f,S,b){t.Y.assertValue(S,"evaluatedValues must be defined");var V=i.PE.values.expr.objectName;t.Y.assert(()=>V===i.PE.values.formatString.objectName,"Format strings are expected in the same object as evaluated values");var M=(0,d.nq)(f,V);if(!_.isEmpty(M)){for(var P in M){var T=(0,n._)(M[P],i.PE.values.expr.propertyName),N=new c.T2({column:{displayName:"",objects:M,type:p.eV.fromPrimitiveTypeAndCategory(y(T))},formatStringPropId:{objectName:P,propertyName:i.PE.values.formatString.propertyName},nullsAreBlank:!1});S[P]={value:T,formattedValue:N.format(T)}}b&&b.trace(o.Zf.Trace,"TextboxWithSmartNarrativeValuesDataChanged")}}function y(f){return _.isDate(f)?a.W.DateTime:_.isInteger(f)?a.W.Integer:_.isNumber(f)?a.W.Double:_.isBoolean(f)?a.W.Boolean:_.isString(f)?a.W.Text:(t.Y.assert(()=>!f,"Unsupported primitive value"),a.W.Null)}},192802:function(ve,z,e){function a(){return $("<div></div>")}function i(){return $("<span></span>")}function n(){return $("<select></select>")}function c(){return $('<input type="text"/>')}e.d(z,{DU:function(){return c},Ln:function(){return i},Lt:function(){return n},y4:function(){return a}})},512655:function(ve,z,e){function a(Ge){return{class:Ge,selector:"."+Ge}}e.d(z,{AP:function(){return k},Cd:function(){return q},FI:function(){return D},Fl:function(){return Oe},Fp:function(){return V},Fx:function(){return W},G6:function(){return H},H1:function(){return Me},HM:function(){return he},Ix:function(){return xe},Mg:function(){return m},N6:function(){return A},OL:function(){return G},Oi:function(){return R},Ol:function(){return Ie},On:function(){return Se},SM:function(){return E},TN:function(){return ne},Tm:function(){return l},Vr:function(){return y},Wo:function(){return U},XJ:function(){return We},YU:function(){return r},Yu:function(){return Ee},Zq:function(){return pe},_o:function(){return w},ad:function(){return Qe},cj:function(){return He},d8:function(){return F},de:function(){return j},e5:function(){return Te},eU:function(){return Fe},e_:function(){return g},es:function(){return B},gA:function(){return b},hr:function(){return O},lM:function(){return C},nE:function(){return ye},nK:function(){return v},oc:function(){return S},pk:function(){return c},tI:function(){return a},tj:function(){return I},u5:function(){return o},ut:function(){return ee},vo:function(){return te},wr:function(){return Ae},wv:function(){return K},xO:function(){return d},xf:function(){return t},xv:function(){return At}});var r="px",t="height",o="width",d="top",c="left",l="margin-top",v="margin-left",m="margin-right",g="display",E="background",D="background-color",C="background-size",y="background-image",S="text-align",b="border",V="border-top",w="border-radius",I="border-color",O="box-shadow",j="font-family",U="font-size",F="font-weight",R="font-style",B="text-decoration",A="color",W="opacity",G="padding",K="padding-top",q="padding-left",ne="padding-right",k="padding-bottom",H="overflow-x",te="overflow-y",ee="transform",Te="cursor",He="visibility",We="fill",At="auto",Qe="hidden",Fe="none",ye="block",Ee="transparent",Oe="normal",he="bold",xe="600",Se="italic",Ae="underline",Ie="visible",pe="cover",Me="scroll"},432262:function(ve,z,e){e.d(z,{BL:function(){return V},Bb:function(){return O},Ct:function(){return b},FF:function(){return y},Hq:function(){return c},IT:function(){return d},Iv:function(){return u},JG:function(){return S},Jp:function(){return A},LM:function(){return r},RK:function(){return W},RL:function(){return F},Rv:function(){return mt},Tj:function(){return He},U3:function(){return R},VH:function(){return Q},VR:function(){return L},Y4:function(){return ee},aD:function(){return k},cK:function(){return a},dO:function(){return te},e6:function(){return M},gJ:function(){return H},ig:function(){return T},m2:function(){return t},m4:function(){return ne},nQ:function(){return w},oc:function(){return f},pC:function(){return Te},qw:function(){return D},qy:function(){return I},tk:function(){return s},uO:function(){return X},uf:function(){return i},vz:function(){return U},w3:function(){return o}});var a=function(Qe){return Qe[Qe.escKeyCode=27]="escKeyCode",Qe[Qe.enterKeyCode=13]="enterKeyCode",Qe[Qe.tabKeyCode=9]="tabKeyCode",Qe[Qe.upArrowKeyCode=38]="upArrowKeyCode",Qe[Qe.downArrowKeyCode=40]="downArrowKeyCode",Qe[Qe.leftArrowKeyCode=37]="leftArrowKeyCode",Qe[Qe.rightArrowKeyCode=39]="rightArrowKeyCode",Qe[Qe.homeKeyCode=36]="homeKeyCode",Qe[Qe.endKeyCode=35]="endKeyCode",Qe[Qe.backSpaceKeyCode=8]="backSpaceKeyCode",Qe[Qe.deleteKeyCode=46]="deleteKeyCode",Qe[Qe.spaceKeyCode=32]="spaceKeyCode",Qe[Qe.pageUpKeyCode=33]="pageUpKeyCode",Qe[Qe.pageDownKeyCode=34]="pageDownKeyCode",Qe[Qe.shiftKeyCode=16]="shiftKeyCode",Qe[Qe.ctrlKeyCode=17]="ctrlKeyCode",Qe[Qe.altKeyCode=18]="altKeyCode",Qe[Qe.aKeyCode=65]="aKeyCode",Qe[Qe.bKeyCode=66]="bKeyCode",Qe[Qe.cKeyCode=67]="cKeyCode",Qe[Qe.dKeyCode=68]="dKeyCode",Qe[Qe.fKeyCode=70]="fKeyCode",Qe[Qe.gKeyCode=71]="gKeyCode",Qe[Qe.hKeyCode=72]="hKeyCode",Qe[Qe.kKeyCode=75]="kKeyCode",Qe[Qe.mKeyCode=77]="mKeyCode",Qe[Qe.rKeyCode=82]="rKeyCode",Qe[Qe.sKeyCode=83]="sKeyCode",Qe[Qe.tKeyCode=84]="tKeyCode",Qe[Qe.vKeyCode=86]="vKeyCode",Qe[Qe.wKeyCode=87]="wKeyCode",Qe[Qe.xKeyCode=88]="xKeyCode",Qe[Qe.yKeyCode=89]="yKeyCode",Qe[Qe.zKeyCode=90]="zKeyCode",Qe[Qe.f6KeyCode=117]="f6KeyCode",Qe[Qe.f11KeyCode=122]="f11KeyCode",Qe[Qe.semicolonKeyCode=186]="semicolonKeyCode",Qe[Qe.plusKeyCode=187]="plusKeyCode",Qe[Qe.minusKeyCode=189]="minusKeyCode",Qe[Qe.numpadAdd=107]="numpadAdd",Qe[Qe.numpadSubtract=109]="numpadSubtract",Qe[Qe.questionMarkKeyCode=191]="questionMarkKeyCode",Qe[Qe.colonKeyCode=58]="colonKeyCode",Qe[Qe.zeroKeyCode=48]="zeroKeyCode",Qe[Qe.oneKeyCode=49]="oneKeyCode",Qe[Qe.twoKeyCode=50]="twoKeyCode",Qe[Qe.threeKeyCode=51]="threeKeyCode",Qe[Qe.fourKeyCode=52]="fourKeyCode",Qe[Qe.fiveKeyCode=53]="fiveKeyCode",Qe[Qe.sixKeyCode=54]="sixKeyCode",Qe[Qe.f10KeyCode=121]="f10KeyCode",Qe[Qe.nineKeyCode=57]="nineKeyCode",Qe[Qe.asteriskKeyCode=56]="asteriskKeyCode",Qe}({}),i=function(Qe){return Qe.A="KeyA",Qe.ArrowDown="ArrowDown",Qe.ArrowLeft="ArrowLeft",Qe.ArrowRight="ArrowRight",Qe.ArrowUp="ArrowUp",Qe.Backspace="Backspace",Qe.Delete="Delete",Qe.End="End",Qe.Enter="Enter",Qe.Escape="Escape",Qe.F2="F2",Qe.F10="F10",Qe.Home="Home",Qe.PageUp="PageUp",Qe.PageDown="PageDown",Qe.Space="Space",Qe.Tab="Tab",Qe}({}),r=[a.twoKeyCode,a.threeKeyCode,a.fourKeyCode,a.fiveKeyCode,a.sixKeyCode,a.hKeyCode,a.kKeyCode,a.bKeyCode,a.tKeyCode],t=function(Qe){return Qe[Qe.Enter=13]="Enter",Qe[Qe.F1=112]="F1",Qe[Qe.F2=113]="F2",Qe[Qe.F6=117]="F6",Qe[Qe.F10=121]="F10",Qe[Qe.ArrowRight=39]="ArrowRight",Qe[Qe.KeyT=84]="KeyT",Qe}({}),o=function(Qe){return Qe[Qe.Main=0]="Main",Qe[Qe.Auxilary=1]="Auxilary",Qe[Qe.Secondary=2]="Secondary",Qe[Qe.Fourth=3]="Fourth",Qe[Qe.Fifth=4]="Fifth",Qe}({}),d="body",c=":text, textarea",s='[type="number"]',u="id",D="_self",y="src",f="contenteditable",S="skip-children-focus",b="contextmenu",V="blur",M="keyup",T="change",w="keydown",I="mousemove",O="mousedown",U="mouseover",F="mouseout",R="mouseup",A="click",W="dblclick",ne="hover",k="focus",L="focusin",X="focusout",Q="message",H="load",te="beforeunload",ee="pointermove",Te="pointerdown",He="pointerout",mt="pointerover"},744774:function(ve,z,e){e.d(z,{A$:function(){return c},B4:function(){return I},CR:function(){return V},D9:function(){return D},Fq:function(){return w},Id:function(){return C},RC:function(){return x},Vi:function(){return n},XV:function(){return m},Xm:function(){return b},YL:function(){return v},Yt:function(){return E},c4:function(){return N},eC:function(){return u},h1:function(){return t},hA:function(){return M},iW:function(){return S},lO:function(){return g},pp:function(){return y},tk:function(){return o},vK:function(){return h},w1:function(){return f}});var a=e(18122),t=-308,o=308,n=1e-4,c=12,s=Math.log(10),p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,1e23,1e24,1e25,1e26,1e27,1e28,1e29,1e30,1e31,1e32,1e33,1e34,1e35,1e36,1e37,1e38,1e39,1e40,1e41,1e42,1e43,1e44,1e45,1e46,1e47,1e48,1e49,1e50,1e51,1e52,1e53,1e54,1e55,1e56,1e57,1e58,1e59,1e60,1e61,1e62,1e63,1e64,1e65,1e66,1e67,1e68,1e69,1e70,1e71,1e72,1e73,1e74,1e75,1e76,1e77,1e78,1e79,1e80,1e81,1e82,1e83,1e84,1e85,1e86,1e87,1e88,1e89,1e90,1e91,1e92,1e93,1e94,1e95,1e96,1e97,1e98,1e99,1e100,1e101,1e102,1e103,1e104,1e105,1e106,1e107,1e108,1e109,1e110,1e111,1e112,1e113,1e114,1e115,1e116,1e117,1e118,1e119,1e120,1e121,1e122,1e123,1e124,1e125,1e126,1e127,1e128,1e129,1e130,1e131,1e132,1e133,1e134,1e135,1e136,1e137,1e138,1e139,1e140,1e141,1e142,1e143,1e144,1e145,1e146,1e147,1e148,1e149,1e150,1e151,1e152,1e153,1e154,1e155,1e156,1e157,1e158,1e159,1e160,1e161,1e162,1e163,1e164,1e165,1e166,1e167,1e168,1e169,1e170,1e171,1e172,1e173,1e174,1e175,1e176,1e177,1e178,1e179,1e180,1e181,1e182,1e183,1e184,1e185,1e186,1e187,1e188,1e189,1e190,1e191,1e192,1e193,1e194,1e195,1e196,1e197,1e198,1e199,1e200,1e201,1e202,1e203,1e204,1e205,1e206,1e207,1e208,1e209,1e210,1e211,1e212,1e213,1e214,1e215,1e216,1e217,1e218,1e219,1e220,1e221,1e222,1e223,1e224,1e225,1e226,1e227,1e228,1e229,1e230,1e231,1e232,1e233,1e234,1e235,1e236,1e237,1e238,1e239,1e240,1e241,1e242,1e243,1e244,1e245,1e246,1e247,1e248,1e249,1e250,1e251,1e252,1e253,1e254,1e255,1e256,1e257,1e258,1e259,1e260,1e261,1e262,1e263,1e264,1e265,1e266,1e267,1e268,1e269,1e270,1e271,1e272,1e273,1e274,1e275,1e276,1e277,1e278,1e279,1e280,1e281,1e282,1e283,1e284,1e285,1e286,1e287,1e288,1e289,1e290,1e291,1e292,1e293,1e294,1e295,1e296,1e297,1e298,1e299,1e300,1e301,1e302,1e303,1e304,1e305,1e306,1e307,1e308],l=[1,.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17,1e-18,1e-19,1e-20,1e-21,1e-22,1e-23,1e-24,1e-25,1e-26,1e-27,1e-28,1e-29,1e-30,1e-31,1e-32,1e-33,1e-34,1e-35,1e-36,1e-37,1e-38,1e-39,1e-40,1e-41,1e-42,1e-43,1e-44,1e-45,1e-46,1e-47,1e-48,1e-49,1e-50,1e-51,1e-52,1e-53,1e-54,1e-55,1e-56,1e-57,1e-58,1e-59,1e-60,1e-61,1e-62,1e-63,1e-64,1e-65,1e-66,1e-67,1e-68,1e-69,1e-70,1e-71,1e-72,1e-73,1e-74,1e-75,1e-76,1e-77,1e-78,1e-79,1e-80,1e-81,1e-82,1e-83,1e-84,1e-85,1e-86,1e-87,1e-88,1e-89,1e-90,1e-91,1e-92,1e-93,1e-94,1e-95,1e-96,1e-97,1e-98,1e-99,1e-100,1e-101,1e-102,1e-103,1e-104,1e-105,1e-106,1e-107,1e-108,1e-109,1e-110,1e-111,1e-112,1e-113,1e-114,1e-115,1e-116,1e-117,1e-118,1e-119,1e-120,1e-121,1e-122,1e-123,1e-124,1e-125,1e-126,1e-127,1e-128,1e-129,1e-130,1e-131,1e-132,1e-133,1e-134,1e-135,1e-136,1e-137,1e-138,1e-139,1e-140,1e-141,1e-142,1e-143,1e-144,1e-145,1e-146,1e-147,1e-148,1e-149,1e-150,1e-151,1e-152,1e-153,1e-154,1e-155,1e-156,1e-157,1e-158,1e-159,1e-160,1e-161,1e-162,1e-163,1e-164,1e-165,1e-166,1e-167,1e-168,1e-169,1e-170,1e-171,1e-172,1e-173,1e-174,1e-175,1e-176,1e-177,1e-178,1e-179,1e-180,1e-181,1e-182,1e-183,1e-184,1e-185,1e-186,1e-187,1e-188,1e-189,1e-190,1e-191,1e-192,1e-193,1e-194,1e-195,1e-196,1e-197,1e-198,1e-199,1e-200,1e-201,1e-202,1e-203,1e-204,1e-205,1e-206,1e-207,1e-208,1e-209,1e-210,1e-211,1e-212,1e-213,1e-214,1e-215,1e-216,1e-217,1e-218,1e-219,1e-220,1e-221,1e-222,1e-223,1e-224,1e-225,1e-226,1e-227,1e-228,1e-229,1e-230,1e-231,1e-232,1e-233,1e-234,1e-235,1e-236,1e-237,1e-238,1e-239,1e-240,1e-241,1e-242,1e-243,1e-244,1e-245,1e-246,1e-247,1e-248,1e-249,1e-250,1e-251,1e-252,1e-253,1e-254,1e-255,1e-256,1e-257,1e-258,1e-259,1e-260,1e-261,1e-262,1e-263,1e-264,1e-265,1e-266,1e-267,1e-268,1e-269,1e-270,1e-271,1e-272,1e-273,1e-274,1e-275,1e-276,1e-277,1e-278,1e-279,1e-280,1e-281,1e-282,1e-283,1e-284,1e-285,1e-286,1e-287,1e-288,1e-289,1e-290,1e-291,1e-292,1e-293,1e-294,1e-295,1e-296,1e-297,1e-298,1e-299,1e-300,1e-301,1e-302,1e-303,1e-304,1e-305,1e-306,1e-307,1e-308,1e-309,1e-310,1e-311,1e-312,1e-313,1e-314,1e-315,1e-316,1e-317,1e-318,1e-319,1e-320,1e-321,1e-322,1e-323,0];function u(j){return a.Y.assertValue(j,"exp"),j>=0?j<p.length?p[j]:1/0:(j=-j)>0&&j<l.length?l[j]:0}function v(j){return a.Y.assert(()=>j>=0,"val"),j>1&&j<1e16?j<1e8?j<1e4?j<100?j<10?0:1:j<1e3?2:3:j<1e6?j<1e5?4:5:j<1e7?6:7:j<1e12?j<1e10?j<1e9?8:9:j<1e11?10:11:j<1e14?j<1e13?12:13:j<1e15?14:15:j>1e-16&&j<1?j<1e-8?j<1e-12?j<1e-14?j<1e-15?-16:-15:j<1e-13?-14:-13:j<1e-10?j<1e-11?-12:-11:j<1e-9?-10:-9:j<1e-4?j<1e-6?j<1e-7?-8:-7:j<1e-5?-6:-5:j<.01?j<.001?-4:-3:j<.1?-2:-1:y(Math.log(j)/s)}function m(j,U){if(void 0===U?U=c:a.Y.assert(()=>U>=0,"decimalDigits"),j&&isFinite(j)){var F=v(Math.abs(j));return F<t?0:u(Math.max(F-U,1-l.length))}}function g(j,U,F){return F=O(F,j,U),a.Y.assert(()=>F>=0,"precision"),j===U||Math.abs(j-U)<F}function E(j,U,F){return F=O(F,j,U),a.Y.assert(()=>F>=0,"precision"),j<U&&Math.abs(j-U)>F}function D(j,U,F){return F=O(F,j,U),a.Y.assert(()=>F>=0,"precision"),j<U||Math.abs(j-U)<F}function h(j,U,F){return F=O(F,j,U),a.Y.assert(()=>F>=0,"precision"),j>U&&Math.abs(j-U)>F}function C(j,U,F){return F=O(F,j,U),a.Y.assert(()=>F>=0,"precision"),j>U||Math.abs(j-U)<F}function y(j,U){U=U??n,a.Y.assert(()=>U>=0,"precision");var F=Math.round(j);return Math.abs(j-F)<U?F:Math.floor(j)}function f(j,U){U=O(U,n),a.Y.assert(()=>U>=0,"precision");var F=Math.round(j);return Math.abs(j-F)<U?F:Math.ceil(j)}function S(j,U){return U=O(U,n),a.Y.assert(()=>U>=0,"precision"),0===U||0===j?j:Math.floor(j/U)*U}function b(j,U){return U=O(U,n),a.Y.assert(()=>U>=0,"precision"),0===U||0===j?j:Math.ceil(j/U)*U}function V(j,U){if(U=O(U,n),a.Y.assert(()=>U>=0,"precision"),0===U||0===j)return j;var F=Math.round(j/U)*U,R=Math.round(v(Math.abs(j))-v(U))+1;return R>0&&R<16&&(F=parseFloat(F.toPrecision(R))),F}function M(j,U,F){return a.Y.assert(()=>U<=F,"min must be less or equal to max"),null==j?j:j<U?U:j>F?F:j}function N(j){return V(j,m(j))}function w(j){return null!==j&&j%1==0}function I(j,U){return Math.round(j/U)*U}function O(j,U,F){return void 0!==j?j:m(F?U?Math.min(Math.abs(U),Math.abs(F)):F:U)||n}function x(j){return isNaN(j)?null:j===Number.POSITIVE_INFINITY?Number.MAX_VALUE:j===Number.NEGATIVE_INFINITY?-Number.MAX_VALUE:j}},299260:function(ve,z,e){e.d(z,{If:function(){return o},WD:function(){return c},qX:function(){return t},rg:function(){return r}});class a extends Error{constructor(p,l){super(l),this.name=p}}class i extends a{constructor(p,l,u){super(p,l+": "+u),this.argument=u}}function r(s){return new i("argumentNull","Argument was null",s)}function t(s){return new i("argumentUndefined","Argument was undefined",s)}function o(s){return new i("argumentOutOfRange","Argument was out of range",s)}function c(s=1){var p,l,u;try{if(!(u=new Error).stack)throw u}catch(v){u=v}return null!=(p=u.stack)&&((l=p.split("\n")).splice(1,s),p=l.join("\n")),p}Error},798553:function(ve,z,e){e.d(z,{d:function(){return i}});var a=e(18122);class i{constructor(t){a.Y.assertValue(t,"factoryMethod"),this.factoryMethod=t}getValue(){return null!==this.factoryMethod&&(this.value=this.factoryMethod(),this.factoryMethod=null),this.value}}},761297:function(ve,z,e){function a(d,n){if(null===d)return null;var c=Object.create(d);return n&&n(c),c}function i(d){if(null==d)return!1;var n=Object.getPrototypeOf(d);return n!==Object.prototype&&n!==Array.prototype}function r(d){return null===d?null:(i(d)||(d=a(d)),d)}function t(d,n){if(null!=d){for(var c,s=0,p=d.length;s<p;s++){var l=n(d[s]);l&&(c||(c=a(d)),c[s]=l)}return c}}function o(d,n){if(d&&n&&"object"==typeof d)for(var c in Object.getPrototypeOf(d)!==Object.getPrototypeOf(n)&&(n.__proto__=d.__proto__),d)o(d[c],n[c])}e.d(z,{IL:function(){return a},M2:function(){return t},Uz:function(){return r},cH:function(){return i},sP:function(){return o}})},170669:function(ve,z,e){function a(i){for(var r in Object.freeze(i),i){var t=i[r];t&&"object"==typeof t&&a(t)}}e.d(z,{o:function(){return a}})},623670:function(ve,z,e){e.d(z,{Fj:function(){return o},V4:function(){return c},aI:function(){return r},eF:function(){return s},eP:function(){return i},l:function(){return t}});var a=e(18122);function i(p,l){return(p||l)&&!(p&&l)}function r(p,l){return p===l||JSON.stringify(p)===JSON.stringify(l)}var t=8,o=60,c=(()=>{class p{static fromPoint(u){return p.toString(p.fromPointToPixel(u))}static fromPointToPixel(u){return p.PxPtRatio*u}static toPoint(u){return u/p.PxPtRatio}static toString(u){return u+p.PixelString}}return p.PxPtRatio=4/3,p.PixelString="px",p})();function s(p,l,u){return a.Y.assertValue(p,"regex"),p.lastIndex=u||0,p.exec(l)}},893420:function(ve,z,e){e.d(z,{Lt:function(){return i},Z0:function(){return d},dI:function(){return o},lA:function(){return r},wi:function(){return t}});var a=e(18122);function i(n,c){return a.Y.assert(()=>!!c,"flag must be specified and nonzero."),(n&c)===c}function r(n,c){return a.Y.assert(()=>!!c,"flag must be specified and nonzero."),n|c}function t(n,c){return a.Y.assert(()=>!!c,"flag must be specified and nonzero."),n&~c}function o(n,c){return n[c]}function d(n){if(null===n||n%1!=0)return 0;for(var c=0,s=n;0!==s;)!(1&~s)&&c++,s>>>=1;return c}},454840:function(ve,z,e){e.d(z,{Ax:function(){return m},Az:function(){return D},Bq:function(){return h},Fe:function(){return K},Gt:function(){return V},Gy:function(){return ue},Hd:function(){return y},K0:function(){return W},KG:function(){return He},Mt:function(){return Te},O4:function(){return R},Px:function(){return A},TB:function(){return P},YQ:function(){return E},Yh:function(){return x},Yv:function(){return T},_k:function(){return M},aM:function(){return mt},gR:function(){return b},jD:function(){return B},m:function(){return w},mo:function(){return v},n4:function(){return Q},ni:function(){return ee},o4:function(){return q},p:function(){return u},sZ:function(){return g},tw:function(){return ft},uL:function(){return j},vX:function(){return I},w0:function(){return k},w1:function(){return f},yM:function(){return G},yh:function(){return O}});var a=e(233390),i=e(18122),r=e(501285),t=e(299260),o=e(865429),d=e(223431),n=e(922504),c=e(989417),s=window,p=window.location.protocol+"//"+window.location.host,l="__DataProperty__5941464455110614";function u(ye,we,Ee){if(i.Y.assertValue(ye,"element"),null!=ye){var Oe=ye[l];if(!Oe){if(void 0===Ee)return;Oe=ye[l]={}}return void 0===Ee?Oe[we]:Oe[we]=Ee}}var v="application/octet-stream",m="application/json",g="image/jpeg",E="blob",D="arraybuffer",h="Accept",C=new RegExp("[<>]","g");function y(ye,we){return M(ye)===M(we)}function f(ye,we){return null!=ye&&0===ye.indexOf(we)}function b(ye,we){return null!=ye&&-1!==ye.indexOf(we)}function V(ye,we){return null!=ye&&b(M(ye),M(we))}function M(ye){return Q.throwIfNullOrUndefined(ye,Q,"normalizeCase","value"),ye.toUpperCase()}function P(ye){return Q.throwIfNullOrUndefined(ye,Q,"containsWhitespace","str"),/\s/.test(ye)}function T(ye){return""===_.trim(ye)}function w(ye){return Q.throwIfNullOrUndefined(ye,Q,"trimWhitespace","str"),ye.replace(/^\s+/,"").replace(/\s+$/,"")}function I(ye){return ye.replace(/\s/g,"")}function O(ye,we,Ee){if(!we)return ye;var Oe=B(we);return ye.replace(new RegExp(Oe,"gi"),Ee)}function x(ye){i.Y.assertValue(ye,"names");var we={};for(var Ee of ye)we[Ee]=!1;var Oe=[];for(var he of ye){var xe=he;if(we[xe])for(var Se=0;void 0!==we[xe];)xe=he+"."+ ++Se;Oe.push(xe),we[xe]=!0}return Oe}function j(ye,we,Ee,Oe){i.Y.assertValue(ye,"usedNames"),i.Y.assertValue(we,"baseName"),i.Y.assert(()=>null==Ee||Ee>=0,"startSuffix == null || startSuffix >= 0");var he=Oe?" ":"",xe=Ee||0,Se=we;for(Ee&&(Se+=he+Ee);U(ye,Se);)Se=we+he+ ++xe;return Se}function U(ye,we){return _.isSet(ye)?ye.has(we):ye[we]}function R(ye,we,Ee){if(!ye||0===ye.length)return"";null==Ee&&(Ee=Number.MAX_VALUE);for(var Oe=Math.min(Ee,ye.length),he=[],xe=0;xe<2;xe++)for(var Se="{"+xe+"}",Ae="_|_<"+xe+">_|_",Ie=0;Ie<Oe;Ie++)ye[Ie].indexOf(Se)>-1&&(ye[Ie]=ye[Ie].replace(Se,Ae),he.push({targetValue:Se,replaceValue:Ae}));for(var Je="",pe=0;pe<Oe;pe++)Je=0===pe?ye[pe]:(0,c.G)(we.get("PowerBI_TwoStrings_SeperateWithCommaAndVisualSpace"),Je,ye[pe]);for(var Pe of he)Je=Je.replace(Pe.replaceValue,Pe.targetValue);return Je}function B(ye){return ye.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function A(ye){return i.Y.assertValue(ye,"fileName"),ye.replace(/[\<\>\:"\/\\\|\?*]/g,"")}function W(ye){return JSON.stringify(ye)}function G(ye,we){i.Y.assertValue(ye,"input");var Ee=ye.replace(/^[^A-Za-z]*/g,"").replace(/[ :\.\/\\\-\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000]/g,"_").replace(/[\W]/g,"");return Ee.length>0?Ee:we}function K(ye){return ye.replace(C,"")}function q(ye,we=!1,Ee=!1){if(!ye||Ee&&"&nbsp;"===ye)return ye;var Oe=ye.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,he=>"&#"+(1024*(he.charCodeAt(0)-55296)+(he.charCodeAt(1)-56320)+65536)+";").replace(/([^!-~ ])/g,he=>"&#"+he.charCodeAt(0)+";");return we&&(Oe=Oe.replace(/\ /g,"&nbsp;")),Oe}function k(ye){return ye>=0&&ye<=55295||ye>=57344&&ye<=65535}var L=new WeakMap,X=new WeakMap;class Y extends Error{constructor(we){super(we),Object.setPrototypeOf(this,new.target.prototype)}getInnerError(){return L.get(this)}setInnerError(we){if(we){var Ee=_.isPlainObject(we)?we:X.get(we);if(Ee){for(var Oe of Object.keys(Ee))this[Oe]=Ee[Oe];X.set(this,Ee)}var he=this.message.matchAll(/(\{\{[^\}]+\}\})/g);if(he){var xe=this.message;for(var Se of _.reverse(Array.from(he))){var Ae=Se[0].substring(2,Se[0].length-2),Ie=(Ee||we)?.[Ae]||"";xe=xe.substring(0,Se.index)+Ie+xe.substring(Se.index+Se[0].length)}this.stack&&(this.stack=this.stack.replace(this.message,xe)),this.message=xe}L.set(this,we)}else L.delete(this)}}var Q=(()=>{class ye{static ensureError(Ee){return Ee instanceof Error||(Ee=new Error(Ee?Ee.message||Ee.toString():"<null-or-undefined> error was thrown")),Ee}static ensurePromiseError(Ee,Oe){var he=new Y(Oe);return Ee.catch(xe=>{throw he.setInnerError(xe),he})}static getInnerError(Ee){for(;Ee instanceof Y;)Ee=Ee.getInnerError();return Ee}static throwIfNullOrUndefined(Ee,Oe,he,xe){null===Ee?this.throwException((0,t.rg)(this.getComponentName(Oe)+he+"."+xe)):void 0===Ee&&this.throwException((0,t.qX)(this.getComponentName(Oe)+he+"."+xe))}static throwIfNullOrEmptyString(Ee,Oe,he,xe){this.throwIfNullOrUndefined(Ee,Oe,he,xe),Ee.length<1&&this.throwException((0,t.If)(this.getComponentName(Oe)+he+"."+xe))}static valueOrDefault(Ee,Oe){return Ee??Oe}static urlCombine(Ee,Oe){if(this.throwIfNullOrUndefined(Ee,ye,"urlCombine","baseUrl"),this.throwIfNullOrUndefined(Oe,ye,"urlCombine","path"),(0,c.M)(Oe))return Ee;if((0,c.M)(Ee))return Oe;var he=Ee;return"/"===he.charAt(he.length-1)?"/"===Oe.charAt(0)&&(Oe=Oe.slice(1)):"/"!==Oe.charAt(0)&&(Oe="/"+Oe),he+Oe}static getAbsoluteUri(Ee){this.throwIfNullOrUndefined(Ee,ye,"getAbsoluteUri","path");var Oe=Ee;return Oe&&-1===Oe.indexOf("http")&&(Oe=this.urlCombine(s.clusterUri,Oe)),Oe}static getStaticResourceUri(Ee){this.throwIfNullOrUndefined(Ee,ye,"getStaticResourceUri","path");var Oe=Ee;return Oe&&-1===Oe.indexOf("http")&&(Oe=this.urlCombine(p,Oe)),Oe}static getComponentName(Ee){return Ee?(typeof Ee).toString()+".":""}static throwException(Ee){throw d.Cn.error(`Throwing exception: ${JSON.stringify(Ee)}`,null==Ee.stack),this.ensureError(Ee)}static createClassSelector(Ee){return this.throwIfNullOrEmptyString(Ee,null,"CreateClassSelector","className"),"."+Ee}static createIdSelector(Ee){return this.throwIfNullOrEmptyString(Ee,null,"CreateIdSelector","id"),"#"+Ee}static clampValue(Ee,Oe,he){return i.Y.assert(()=>Oe<=he,"min value must be less than or equal the max value"),Ee=Math.min(Ee,he),Math.max(Ee,Oe)}static generateGuid(){var Ee="",Oe=0;for(Oe=0;Oe<32;Oe+=1){var he=16*Math.random()|0;switch(Oe){case 8:case 12:case 16:case 20:Ee+="-"}Ee+=he.toString(16)}return Ee}static getCookieValue(Ee){var Oe=document.cookie.split(";");for(var he of Oe){var xe=he.split("=");if(xe.length>0&&xe[0].trim()===Ee)return he.substr(he.indexOf("=")+1)}return null}static getDomainForUrl(Ee){var Oe=this.getHrefObjectFromUrl(Ee);return Oe.prop("protocol")+"//"+Oe.prop("hostname")}static getHostNameForUrl(Ee){var Oe=this.getHrefObjectFromUrl(Ee);return this.urlCombine(Oe.prop("hostname"),Oe.prop("pathname"))}static getUrlWithoutQueryString(Ee){var Oe=this.getHrefObjectFromUrl(Ee);return Oe.prop("protocol")+"//"+this.urlCombine(Oe.prop("host"),Oe.prop("pathname"))}static getProtocolFromUrl(Ee){return this.getHrefObjectFromUrl(Ee).prop("protocol").replace(":","")}static getHrefObjectFromUrl(Ee){var Oe=$("<a>");return Oe.prop("href",Ee)}static getDateFromWcfJsonString(Ee,Oe){if(_.isEmpty(Ee))return null;var he=Ee.indexOf("("),xe=Ee.indexOf(")");if(-1!==he&&-1!==xe){var Se=parseInt(Ee.substring(he+1,xe),10);if(isNaN(Se)&&(Se=0),Oe)return new Date(Se);var Ae=new Date(0);return Ae.setUTCMilliseconds(Se),Ae}return null}static isValidImageDataUrl(Ee){return this.ImageDataRegex.test(Ee)}static encodeUriForImageDataSvg(Ee){if(this.ImageDataSvgRegex.test(Ee)){var Oe=Ee.indexOf(",");if(Oe>-1){var he=Ee.substring(0,Oe).split(";"),xe=Ee.substring(Oe+1);try{xe=decodeURIComponent(xe)}catch{}return`${he[0]},${encodeURIComponent(xe)}`}}return Ee}static isLocalUrl(Ee){return _.startsWith(Ee,"data:")||_.startsWith(Ee,"blob:")}static extractFileNameFromPath(Ee){return Ee.replace(/^.*[\\\/]/,"")}static is64BitOperatingSystem(){return-1!==navigator.userAgent.indexOf("WOW64")||-1!==navigator.userAgent.indexOf("Win64")}static isWindows10(){return-1!==navigator.userAgent.indexOf("Windows NT 10.0")}static isWindows(){return-1!==navigator.userAgent.indexOf("Windows")}static parseNumber(Ee,Oe){if(null===Ee)return null;if(void 0===Ee)return Oe;var he=Number(Ee);return isFinite(he)?he:isNaN(he)&&"number"!=typeof Ee&&"NaN"!==Ee?Oe:he}static getURLParamValue(Ee){var Oe=new RegExp("[?&]"+Ee+"=([^&#]*)").exec(window.location.href);return null==Oe?null:Oe[1]||0}static getLocalTimeZoneString(){var Oe=-1*new Date(Date.UTC(2005,6,30,0,0,0,0)).getTimezoneOffset(),xe=-1*new Date(Date.UTC(2005,12,30,0,0,0,0)).getTimezoneOffset();return-720===Oe&&-720===xe?"Dateline Standard Time":-660===Oe&&-660===xe?"UTC-11":-660===Oe&&-660===xe?"Samoa Standard Time":-600===Oe&&-600===xe?"Hawaiian Standard Time":-480===Oe&&-540===xe?"Alaskan Standard Time":-420===Oe&&-480===xe?"Pacific Standard Time":-420===Oe&&-420===xe?"US Mountain Standard Time":-360===Oe&&-420===xe?"Mountain Standard Time":-360===Oe&&-360===xe?"Central America Standard Time":-300===Oe&&-360===xe?"Central Standard Time":-300===Oe&&-300===xe?"SA Pacific Standard Time":-240===Oe&&-300===xe?"Eastern Standard Time":-270===Oe&&-270===xe?"Venezuela Standard Time":-240===Oe&&-240===xe?"SA Western Standard Time":-240===Oe&&-180===xe?"Central Brazilian Standard Time":-180===Oe&&-240===xe?"Atlantic Standard Time":-180===Oe&&-180===xe?"Montevideo Standard Time":-180===Oe&&-120===xe?"E. South America Standard Time":-150===Oe&&-210===xe?"Mid-Atlantic Standard Time":-120===Oe&&-120===xe?"SA Eastern Standard Time":0===Oe&&0===xe?"UTC":60===Oe&&0===xe?"GMT Standard Time":60===Oe&&120===xe?"Namibia Standard Time":120===Oe&&60===xe?"Romance Standard Time":120===Oe&&120===xe?"South Africa Standard Time":180===Oe&&120===xe?"GTB Standard Time":180===Oe&&180===xe?"E. Africa Standard Time":240===Oe&&180===xe?"Russian Standard Time":240===Oe&&240===xe?"Arabian Standard Time":270===Oe&&210===xe?"Iran Standard Time":270===Oe&&270===xe?"Afghanistan Standard Time":300===Oe&&240===xe?"Pakistan Standard Time":300===Oe&&300===xe?"West Asia Standard Time":330===Oe&&330===xe?"India Standard Time":345===Oe&&345===xe?"Nepal Standard Time":360===Oe&&300===xe?"N. Central Asia Standard Time":360===Oe&&360===xe?"Central Asia Standard Time":390===Oe&&390===xe?"Myanmar Standard Time":420===Oe&&360===xe?"North Asia Standard Time":420===Oe&&420===xe?"SE Asia Standard Time":480===Oe&&420===xe?"North Asia East Standard Time":480===Oe&&480===xe?"China Standard Time":540===Oe&&480===xe?"Yakutsk Standard Time":540===Oe&&540===xe?"Tokyo Standard Time":570===Oe&&570===xe?"Cen. Australia Standard Time":600===Oe&&600===xe?"E. Australia Standard Time":600===Oe&&660===xe?"AUS Eastern Standard Time":660===Oe&&600===xe?"Tasmania Standard Time":660===Oe&&660===xe?"West Pacific Standard Time":690===Oe&&690===xe?"Central Pacific Standard Time":720===Oe&&660===xe?"Magadan Standard Time":720===Oe&&720===xe?"Fiji Standard Time":720===Oe&&780===xe?"New Zealand Standard Time":780===Oe&&780===xe?"Tonga Standard Time":"UTC"}}return ye.ImageDataRegex=new RegExp("data:(image/(png|jpg|jpeg|gif|svg))"),ye.ImageDataSvgRegex=new RegExp("data:(image/svg)"),ye})(),te=0;function ee(ye){var we=window.performance;if(!we||!we.mark)return()=>0;var Ee="Begin "+(ye=++te+" "+ye);we.mark(Ee);var Oe=(0,o.t)();return()=>{var he="End "+ye;return we.mark(he),we.measure&&we.measure(ye,Ee,he),(0,o.t)()-Oe}}function ue(ye){var we=window.performance;!we||!we.mark||(ye=++te+" "+ye,we.mark(ye))}function Te(ye){var we=(0,o.t)();return ye(),(0,o.t)()-we}function He(ye){return We.apply(this,arguments)}function We(){return(We=(0,a.A)(function*(ye){var we=(0,o.t)();return yield ye(),(0,o.t)()-we})).apply(this,arguments)}function ft(ye){var we,Ee,Oe;return window.requestAnimationFrame||(window.requestAnimationFrame=he=>setTimeout(he,20)),function(){we||(we=!0,Ee=arguments,Oe=this,n.b.requestAnimationFrame(()=>{we=!1,ye.apply(Oe,Ee)}))}}function mt(ye){return null!=ye&&ye%1!=0}var Fe=!1;!function(){if(!Fe){var ye=c.G;(function(){var ye=(0,r.RI)();return ye.StringExtensions||(ye.StringExtensions={}),ye.StringExtensions}()).format=(...we)=>ye(...we),Fe=!0}}()},478952:function(ve,z,e){e.d(z,{P:function(){return r}});var a=e(233390),i=e(252265);class r{constructor(n){this.onReEntry=n,this.active=0}enqueue(n){this.tail||(this.tail=new i.c,function(d){o.apply(this,arguments)}(this.tail.promise)),this.onReEntry&&this.active>0&&this.onReEntry();var c=new i.c,s={next:c.promise,callback:n,result:new i.c};this.tail.resolve(s),this.tail=c;var p=s.result.promise;return++this.active,p.finally(()=>--this.active)}}function o(){return(o=(0,a.A)(function*(d){for(;;){var n=yield d;d=n.next;try{n.result.resolve(yield n.callback())}catch(c){n.result.reject(c)}}})).apply(this,arguments)}},495123:function(ve,z,e){e.d(z,{C:function(){return o},t:function(){return d}});var a=e(314155),r=e(715068),t=e(18122),o=(()=>{class n{static getLanguage(){return this.navigator.userLanguage||this.navigator.language}static isChrome(){if(null!=this.isChromeCache)return this.isChromeCache;var s=this.navigator.vendor||"",p=this.navigator.userAgent.toLowerCase();return this.isChromeCache=s.toLowerCase().indexOf("google")>-1&&p.indexOf("chrome")>-1&&-1===p.indexOf("edge")&&-1===p.indexOf("opr"),this.isChromeCache}static isInternetExplorerOrEdge(){if(null!=this.isInternetExplorerOrEdgeCache)return this.isInternetExplorerOrEdgeCache;var s=this.navigator.userAgent.toLowerCase();return this.isInternetExplorerOrEdgeCache=s.indexOf("msie")>-1||s.indexOf("trident")>-1||s.indexOf("edge")>-1,this.isInternetExplorerOrEdgeCache}static isInternetExplorer11(){var s=this.navigator.userAgent.toLowerCase(),p=s.match(/rv:(\d+)/i);return!!(p&&p[1]&&parseInt&&11===parseInt(p[1],10))&&s.indexOf("trident")>-1&&-1===s.indexOf("msie")}static isEdge(){if(null!=this.isEdgeCache)return this.isEdgeCache;var s=this.navigator.userAgent.toLowerCase();return this.isEdgeCache=s.indexOf("edg")>-1,this.isEdgeCache}static isEdgeLegacy(){return!n.isInternetExplorer11()&&"StyleMedia"in window}static isWindows10(){return-1!==this.navigator.userAgent.indexOf("Windows NT 10.0")}static isKeyboardClick(s){return 0===s.clientX&&0===s.clientX}static isCtrlOrMeta(s){return!0===s[n.isMacOs()?"metaKey":"ctrlKey"]}static noModifierPressed(s){var p=n.isMacOs()?"metaKey":"ctrlKey";return!s.shiftKey&&!s.altKey&&!s[p]}static isPointerTypeTouch(s){return"touch"===s.pointerType}static getInternetExplorerVersion(){var s=0;if("Microsoft Internet Explorer"===this.navigator.appName||this.navigator.userAgent.indexOf("MSIE")>=0){var l=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(this.navigator.userAgent);l&&(s=parseFloat(l[1]))}return s}static isFirefox(){return this.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}static isMacOs(){return this.navigator.userAgent.indexOf("Macintosh")>=0}static isSafari(){return/^((?!chrome|android).)*safari/i.test(this.navigator.userAgent)}static isMacSafariByFeature(){return this.isMacOs()&&CSS.supports("-webkit-backdrop-filter","blur(0)")}static isSafari11OrHigher(){if(!this.isSafari())return!1;var s=this.navigator.userAgent.match(/version\/(\d+)/i),p=s?.[1];return!(null==p||!parseInt)&&parseInt(p,10)>=11}static isIOSWebView(){var s=this.navigator.userAgent.toLowerCase();return s.indexOf("iphone")>-1||s.indexOf("ipad")>-1||s.indexOf("macintosh")>-1&&this.navigator.maxTouchPoints>1}static isAndroidWebView(){return this.navigator.userAgent.toLowerCase().indexOf("android")>-1}static focus(s,p){if(s)if(s.focus)p?s.focus(p):s.focus();else try{HTMLElement.prototype.focus.apply(s)}catch(l){t.Y.assertFail("BrowserUtils.focus: failed to set focus on element: "+l)}}static setBrowserSupportsHttp2(s){this.browserSupportsHttp2=s}static getBrowserVersion(){var s=(0,a.getParser)(window.navigator.userAgent);return s?.getBrowserVersion()}static calculateBrowserSupportsHttp2(){if(!window||!window.performance)return!1;var s=window.performance;return"h2"===(s.getEntriesByType&&s.getEntriesByType("navigation")&&s.getEntriesByType("navigation")[0]&&s.getEntriesByType("navigation")[0].nextHopProtocol)||!(!window.navigator||!window.navigator.userAgent)&&!!(this.isInternetExplorer11()&&this.isWindows10()||this.isMacOs()&&this.isSafari11OrHigher()||this.isIOSWebView())}}return n.navigator=window.navigator,n.browserSupportsHttp2=()=>(null!=n.browserSupportsHttp2Cache||(n.browserSupportsHttp2Cache=n.calculateBrowserSupportsHttp2()),n.browserSupportsHttp2Cache),n})();function d(n){return n.shiftKey?r.v.Union:o.isCtrlOrMeta(n)?r.v.Difference:r.v.Single}},236880:function(ve,z,e){e.d(z,{AJ:function(){return Pe},Be:function(){return E},Ey:function(){return Je},FC:function(){return pe},GA:function(){return Y},HT:function(){return Qe},Ht:function(){return h},IJ:function(){return x},IT:function(){return At},JE:function(){return t},Ky:function(){return m},L2:function(){return mt},NY:function(){return xe},OM:function(){return W},Ol:function(){return X},Q1:function(){return Se},RU:function(){return S},SF:function(){return Q},Sh:function(){return f},St:function(){return I},T:function(){return N},T1:function(){return B},V:function(){return ee},Wb:function(){return H},Wd:function(){return Fe},Wi:function(){return Ie},Wv:function(){return Te},ZF:function(){return He},Z_:function(){return te},_Z:function(){return o},cM:function(){return w},d7:function(){return he},dW:function(){return Oe},fY:function(){return M},fc:function(){return g},fp:function(){return y},gA:function(){return C},kH:function(){return ue},lN:function(){return Ee},lO:function(){return j},lb:function(){return A},mC:function(){return ye},pB:function(){return Ae},rM:function(){return we},s$:function(){return u},t:function(){return k},uC:function(){return U},ub:function(){return d},wK:function(){return c},xH:function(){return v},yt:function(){return We}});var a=e(115442),i=e(18122),r=e(454840),t="</___",o="___/>";function d(Ge){return void 0===Ge.control.properties.descriptor}function c(Ge){return!!Ge.type}function s(Ge){return Ge.type===a.hl.Card}function p(Ge){return Ge.type===a.hl.Group}function l(Ge){return Ge.type===a.hl.Slice}function u(Ge){return Ge.source===a.ww.Host}function v(Ge){return s(Ge)}function m(Ge){return p(Ge)}function g(Ge){return l(Ge)}function E(Ge,De){return{name:Ge,source:a.ww.Host,type:a.hl.Card,suppressDefaultValue:De}}function h(Ge,De){return{name:Ge,source:a.ww.Host,type:a.hl.Slice,suppressDefaultValue:De}}function C(Ge){return Ge.source===a.ww.Visual}function y(Ge){return s(Ge)}function f(Ge){return p(Ge)}function S(Ge){return l(Ge)}function M(Ge,De){return{name:Ge,source:a.ww.Visual,type:a.hl.Slice,suppressDefaultValue:De}}function N(Ge,De){return Ge+"-"+De}function w(Ge){var De={};for(var lt in Ge)if(_.isString(lt)){var ct={},Vt=Ge[lt].properties;for(var It in Vt)_.isString(It)?ct[It]={objectName:lt,propertyName:It}:i.Y.assertFail(`Expected propertyName "${It}" to be a string`);De[lt]=ct}else i.Y.assertFail(`Expected objectName "${lt}" to be a string`);return De}class I{constructor(...De){this.cards=De}addCards(...De){return this.cards.push(...De),this}withWarnings(De){return this.warnings=De,this}build(){return{cards:this.cards.reduce((lt,ct)=>{if(!ct)return lt;var vt;if(!(vt=_.isFunction(ct)?ct():ct))return lt;if(_.isArray(vt)){for(var Vt of vt)if(Vt){if(!c(Vt)){var It=this.shouldDisableCard(Vt,this.disabledCards);It&&(Vt={...Vt,disabled:It.disabled,disabledReason:It.disabledReason})}lt.push(Vt)}}else{var Ot=vt;if(!c(Ot)){var de=this.shouldDisableCard(Ot,this.disabledCards);de&&(Ot={...Ot,disabled:de.disabled,disabledReason:de.disabledReason})}lt.push(Ot)}return lt},[]),warnings:this.warnings}}withDisabledCards(De){return this.disabledCards=De,this}shouldDisableCard(De,lt){var ct=lt?.[De.uid];if(ct)return{disabled:!0,disabledReason:ct.disabledReason}}}function x(Ge){var De=Ge.uid.split(" "),lt=function(Ge){return new j(Ge)}(De[0]);return lt.withGroup(De[1])}class j{constructor(De){this.cardName=De,this.groupNames=new Set}build(){return(0,r.vX)(this.cardName)}withGroup(De="default"){return i.Y.assert(()=>!this.groupNames.has(De),`Already have group "${De}"`),this.groupNames.add((0,r.vX)(De)),new U(this,De)}}class U{constructor(De,lt){this.cardUidBuilder=De,this.groupName=lt,this.sliceNames=new Set}static getGroupUid(De){var lt=De.split("-");return i.Y.assert(()=>lt.length>=2,"GroupUid must have at least two sections in the uid"),`${lt[lt.length-1]}`}build(){this.cardUid||(this.cardUid=this.cardUidBuilder.build());var De=(0,r.vX)(this.groupName);return`${this.cardUid}-${De}`}withSlice(De){return this.sliceNames.add(De),new B(this,De)}withContainer(De){return new R(this,De)}}class F{constructor(De,lt){this.containerUidBuilder=De,this.itemName=lt,this.sliceNames=new Set,this.groupNames=new Set}build(){this.containerUid||(this.containerUid=this.containerUidBuilder.build());var De=(0,r.vX)(this.itemName);return`${this.containerUid}-${De}`}withSlice(De){return this.sliceNames.add(De),new B(this,De)}withGroup(De="default"){return this.groupNames.add(De),new U(this,De)}withContainer(De){return new R(this,De)}}class R{constructor(De,lt){this.groupUidBuilder=De,this.containerName=lt}build(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var De=(0,r.vX)(this.containerName);return`${this.groupUid}-${De}`}withContainerItem(De){return new F(this,De)}}class B{constructor(De,lt){this.groupUidBuilder=De,this.sliceName=lt}static getGroupAndSliceUid(De){var lt=De.split("-");return i.Y.assert(()=>lt.length>=3,"SliceUid must have at least three sections in the uid"),`${lt[lt.length-2]}-${lt[lt.length-1]}`}static getSliceUid(De){var lt=De.split("-");return i.Y.assert(()=>lt.length>=3,"SliceUid must have at least three sections in the uid"),`${lt[lt.length-1]}`}build(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var De=(0,r.vX)(this.sliceName);return`${this.groupUid}-${De}`}}class A{constructor(De,lt,ct,vt,Vt=!0,It){this.uidBuilder=De,this.displayName=lt,this.localize=vt,this.localizeDisplayName=Vt,this.analyticsPane=It,this.suppressDisplayName=!1,this.groups=[],ct&&(this.revertToDefaultDescriptors=_.isArray(ct)?ct:_.values(ct))}withDisabled(De,lt){return this.disabled=De,this.disabledReason=lt?this.localize(lt):void 0,this}withDisabledLocalized(De,lt){return this.disabled=De,this.disabledReason=lt,this}withDescription(De){return this.description=De,this}withAliasName(De){return this.aliasNames=this.aliasNames??[],this.aliasNames.push(this.localize(De)),this}withGroups(De){return this.groups=De,this}addGroupPlaceholder(De){return this.groups.push(De),this}addGroup(De,lt){if(!lt)return this;var ct=this.getGroupBuilder(De);return lt(ct),this.groups.push(ct.build()),this}getGroupBuilder(De="default"){return new W(this.uidBuilder.withGroup(De),lt=>this.localize(lt))}addTopLevelToggle(De,lt,ct){var vt=this.uidBuilder.withGroup("topLevelToggle").withSlice(De),Vt=lt(),Ot=new Me({control:Vt,localize:this.localize,uidBuilder:vt});return ct&&ct(Ot),this.topLevelToggle=Ot.build(),this}assertDescriptorsAreAdded(){if(this.revertToDefaultDescriptors){var De=[];this.groups.forEach(vt=>{!c(vt)&&vt.slices&&vt.slices.forEach(Vt=>{c(Vt)||De.push(Vt)})});var lt=new Set,ct="revertToDefaultDescriptors must contain descriptors of all the slices in the card";this.revertToDefaultDescriptors.forEach(vt=>lt.add(vt.objectName+"-"+vt.propertyName)),De.forEach(vt=>{if(!c(vt))if(d(vt)){var Vt=vt.control.properties;Object.keys(Vt).forEach(de=>{var Ze=Vt[de]?.descriptor;if(void 0!==Ze){var Ye=Ze.objectName+"-"+Ze.propertyName;i.Y.assert(()=>lt.has(Ye),`${ct} ${Ye?`- missing '${Ye}'`:""}`)}})}else{var It=vt.control.properties.descriptor,Ot=It.objectName+"-"+It.propertyName;i.Y.assert(()=>lt.has(Ot),`${ct} ${Ot?`- missing '${Ot}'`:""}`)}})}}build(){var De=this.localizeDisplayName?this.localize(this.displayName):this.displayName;return{disabled:!!this.disabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,disabledReason:this.disabledReason,displayName:De,groups:this.groups,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),revertToDefaultDescriptors:this.revertToDefaultDescriptors,analyticsPane:this.analyticsPane}}}class W{constructor(De,lt){this.uidBuilder=De,this.localize=lt,this.collapsible=!0,this.inheritDisabled=!0,this.suppressDisplayName=!0,this.slices=[]}withContainer(De){return this.container=De,this}withContainerDisabled(De=!0){return this.containerDisabled=De,this.sliceWithContainer=!0,this}withDescription(De){return this.description=De,this}withAliasName(De){return this.aliasNames=this.aliasNames??[],this.aliasNames.push(this.localize(De)),this}withInheritDisabled(De){return this.inheritDisabled=De,this}withDelaySaveSlices(){return this.delaySaveSlices=!0,this}withCollapsible(De=!0){return this.collapsible=De,this}withDisplayName(De,lt=!0){return this.displayName=lt?De?this.localize(De):void 0:De,this.suppressDisplayName=!1,this}withSlices(De){return this.slices=_.map(De,lt=>{if(c(lt))return lt;var vt=this.uidBuilder.withSlice(lt.uid).build();return{...lt,uid:vt}}),this}withDisabled(De,lt){return this.disabled=De,this.disabledReason=lt?this.localize(lt):void 0,this}addSlicePlaceholder(De){return this.slices.push(De),this}addSlice(De){return this.slices.push(De),this}addSimpleSlice(De,lt,ct){var vt=this.getSliceName(De),Vt=_.isFunction(lt)?lt():lt,It=this.getSimpleSliceBuilder(vt,Vt);return ct&&ct(It),this.slices.push(It.build()),this}addCompositeSlice(De,lt,ct,vt){var Vt=_.isFunction(ct)?ct():ct,It=this.getCompositeSliceBuilder(De,lt,Vt);return vt&&vt(It),this.slices.push(It.build()),this}addSlices(De){return this.slices=this.slices.concat(De),this}getSimpleSliceBuilder(De,lt){var ct=this.getSliceName(De),vt=this.uidBuilder.withSlice(ct);return new k({control:lt,localize:this.localize,uidBuilder:vt})}addTopLevelToggle(De,lt,ct){var vt=this.uidBuilder.withSlice(De),Vt=lt(),Ot=new Me({control:Vt,localize:this.localize,uidBuilder:vt});return ct&&ct(Ot),this.topLevelToggle=Ot.build(),this}getCompositeSliceBuilder(De,lt,ct){var vt=this.getSliceName(De),Vt=this.uidBuilder.withSlice(vt);return new L({control:ct,displayName:lt,localize:this.localize,uidBuilder:Vt})}getSliceName(De){return _.isString(De)?(0,r.vX)(De):`${De.objectName}-${De.propertyName}`}addContainer(De,lt){var ct=this.getContainerBuilder(De);return lt(ct),this.container=ct.build(),this}getContainerBuilder(De){return new q(this.uidBuilder.withContainer(De),this.localize)}build(){return{disabled:!!this.disabled,disabledReason:this.disabledReason,container:this.container,containerDisabled:this.containerDisabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,inheritDisabled:this.inheritDisabled,displayName:this.displayName??"",collapsible:this.collapsible,slices:this.slices,sliceWithContainer:this.sliceWithContainer,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),delaySaveSlices:this.delaySaveSlices}}}class G extends W{build(){return super.build()}}class K{constructor(De,lt,ct){this.uidBuilder=De,this.displayName=lt,this.localize=ct,this.slices=[],this.groups=[]}withIcon(De){return this.iconName=De,this}withSlices(De){return this.slices=_.map(De,lt=>this.updatedSlice(lt)),this}addSimpleSlice(De,lt,ct){var vt=this.getSliceName(De),Vt=_.isFunction(lt)?lt():lt,It=this.getSimpleSliceBuilder(vt,Vt);return ct&&ct(It),this.slices.push(It.build()),this}addCompositeSlice(De,lt,ct,vt){var Vt=_.isFunction(ct)?ct():ct,It=this.getCompositeSliceBuilder(De,lt,Vt);return vt&&vt(It),this.slices.push(It.build()),this}getSimpleSliceBuilder(De,lt){var ct=this.getSliceName(De),vt=this.uidBuilder.withSlice(ct);return new k({control:lt,localize:this.localize,uidBuilder:vt})}getCompositeSliceBuilder(De,lt,ct){var vt=this.getSliceName(De),Vt=this.uidBuilder.withSlice(vt);return new L({control:ct,displayName:lt,localize:this.localize,uidBuilder:Vt})}addContainer(De,lt){var ct=this.getContainerBuilder(De);return lt(ct),this.container=ct.build(),this}getContainerBuilder(De){return new q(this.uidBuilder.withContainer(De),this.localize)}getSliceName(De){return _.isString(De)?De:`${De.objectName}-${De.propertyName}`}withGroups(De){return this.groups=_.map(De,lt=>{var ct=lt.uid,vt=this.uidBuilder.withGroup(ct).build();return{...lt,uid:vt,slices:_.map(lt.slices,Vt=>this.updatedSlice(Vt,ct))}}),this}updatedSlice(De,lt){if(c(De))return De;var ct=De.uid,Vt=(lt?this.uidBuilder.withGroup(lt):this.uidBuilder).withSlice(ct).build();return{...De,uid:Vt}}addGroup(De,lt){var ct=De?(0,r.vX)(De):void 0,vt=this.getGroupBuilder(ct);return lt(vt),this.groups.push(vt.build()),this}getGroupBuilder(De="default"){return new G(this.uidBuilder.withGroup(De),this.localize)}withDefaultSelected(De){return this.defaultSelected=De,this}build(){return{displayName:this.displayName,slices:this.slices,groups:this.groups,container:this.container,defaultSelected:this.defaultSelected,uid:this.uidBuilder.build(),icon:this.iconName}}}class q{constructor(De,lt){this.uidBuilder=De,this.localize=lt,this.suppressDisplayName=!0,this.containerItems=[]}withDisplayName(De){return this.displayName=De,this.suppressDisplayName=!1,this}withSuppressDisplayName(De){return this.suppressDisplayName=De,this}withDescription(De){return this.description=De,this}addContainerItem(De,lt,ct){var vt=(0,r.vX)(De??""),Vt=this.getContainerItemBuilder(vt,lt??"");return ct(Vt),this.containerItems.push(Vt.build()),this}getContainerItemBuilder(De,lt){return new K(this.uidBuilder.withContainerItem(`${t}${De}${o}`),lt,this.localize)}build(){var De=this.displayName?this.localize(this.displayName):"";return{description:this.description?this.localize(this.description):void 0,displayName:De,containerItems:this.containerItems,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}}}class ne{constructor(De){this.control=De.control,this.localize=De.localize,this.uidBuilder=De.uidBuilder}withDisabled(De,lt){return this.disabled=De,this.disabledReason=lt?this.localize(lt):void 0,this}withHidden(De){return this.hidden=De,this}getSimpleControlDescriptor(){if(void 0!==this.control.properties.descriptor)return this.control.properties.descriptor}}class k extends ne{constructor(De){super(De)}withCustomDisplayName(De,lt=!0){return this.displayName=lt?this.localize(De):De,this}withSuppressDisplayName(De){return this.suppressDisplayName=De,this}withCustomDescription(De,lt=!0){return i.Y.assertValue(De,"description"),this.description=lt?this.localize(De):De,this}withCustomDescriptionIf(De,lt,ct=!0){return De()?this.withCustomDescription(lt,ct):this}withAliasName(De){return this.aliasNames=this.aliasNames??[],this.aliasNames.push(this.localize(De)),this}withInfoIconText(De){return this.infoIconText=De,this}build(){return i.Y.assert(()=>!!this.control,"control must exist"),{control:this.control,description:this.description,aliasNames:this.aliasNames,disabled:this.disabled,disabledReason:this.disabledReason,displayName:this.displayName,infoIconText:this.infoIconText,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build(),hidden:this.hidden}}}class L extends ne{constructor(De){super(De),this.displayName=De.displayName,this.description=De.description}withInfoIconText(De){return this.infoIconText=De,this}withAliasName(De){return this.aliasNames=this.aliasNames??[],this.aliasNames.push(this.localize(De)),this}withSuppressDisplayName(De){return this.suppressDisplayName=De,this}build(){return{control:this.control,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,infoIconText:this.infoIconText,disabled:this.disabled,disabledReason:this.disabledReason,displayName:this.localize(this.displayName),suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}}}class X{withDisplayName(De,lt,ct){return this.description=lt,this.displayName=De,this.suppressDisplayName=ct,this}withUid(De){return this.uid=N(De.objectName,De.propertyName),this}withControlProperties(De){return this.control=De,this}withDisabled(De=!0){return this.disabled=De,this}build(){return{control:this.control,description:this.description,disabled:this.disabled,displayName:this.displayName,suppressDisplayName:this.suppressDisplayName,uid:this.uid}}}class Y{constructor(De){this.properties=De}build(){return{type:a.PL.AlignmentGroup,properties:this.properties}}}class Q{constructor(De){this.properties=De}build(){return{type:a.PL.EmptyControl,properties:this.properties}}}class H{constructor(De){this.properties=De}build(){return{type:a.PL.FlagsSelection,properties:this.properties}}}class te{constructor(De){this.properties=De}build(){return{type:a.PL.IconPicker,properties:this.properties}}}class ee{constructor(De){this.properties=De}build(){return{type:a.PL.ColorPicker,properties:this.properties}}}class ue{constructor(De){this.properties=De}build(){return{type:a.PL.ConditionalFormattingControl,properties:this.properties}}}class Te{constructor(De){this.properties=De}build(){return{type:a.PL.DatePicker,properties:this.properties}}}class He{constructor(De){this.properties=De}build(){return{type:a.PL.Dropdown,properties:this.properties}}}class We{constructor(De){this.properties=De}build(){return{type:a.PL.DurationPicker,properties:this.properties}}}var mt={minValue:{type:a.vb.Min,value:8},maxValue:{type:a.vb.Max,value:60}};class At{withFontSizeProperties(De){var vt,lt=De.options,ct={...mt};vt=lt?{...ct,...lt}:ct;var Vt={...De,options:vt};return this.fontSize=Vt,this}withFontFamily(De){return this.fontFamily=De,this}withBold(De){return this.bold=De,this}withItalic(De){return this.italic=De,this}withUnderline(De){return this.underline=De,this}build(){return{type:a.PL.FontControl,properties:{fontFamily:this.fontFamily,fontSize:this.fontSize,bold:this.bold,italic:this.italic,underline:this.underline}}}}class Qe{constructor(De){this.properties=De}build(){return{type:a.PL.GradientBar,properties:this.properties}}}class Fe{constructor(De){this.properties=De}withHiddenScale(De,lt){return this.hideFitImage=De,this.defaultScalingValue=lt,this}withExtendedImageScalingTypeEnum(De){return this.useExtendedImageScalingTypeEnum=De,this}build(){return{type:a.PL.ImageUpload,properties:{...this.properties,imageScalingProperties:{defaultScalingValue:this.defaultScalingValue,hideFitImage:this.hideFitImage,useExtendedImageScalingTypeEnum:this.useExtendedImageScalingTypeEnum}}}}}class ye{constructor(De){this.properties=De}build(){return{type:a.PL.Link,properties:this.properties}}}class we{constructor(De){this.properties=De}build(){return{type:a.PL.SeriesDialogLink,properties:this.properties}}}class Ee{withLeft(De){return this.left=De,this}withRight(De){return this.right=De,this}withTop(De){return this.top=De,this}withBottom(De){return this.bottom=De,this}build(){return{type:a.PL.MarginPadding,properties:{left:this.left,right:this.right,top:this.top,bottom:this.bottom}}}}class Oe{constructor(De){this.properties=De}build(){var De=this.properties;return null==De.placeholderText&&(De={...De}),{type:a.PL.NumUpDown,properties:De}}}class he{constructor(De){this.properties=De}build(){return{type:a.PL.ReadOnlyText,properties:this.properties}}}class xe{constructor(De){this.properties=De}build(){return{type:a.PL.ErrorRangeControl,properties:this.properties}}}class Se{constructor(De){this.properties=De}build(){return{type:a.PL.FieldPicker,properties:this.properties}}}class Ae{static getTransparencySliderBuilder({descriptor:De,value:lt,localize:ct},vt){var Vt={descriptor:De,value:lt,localize:ct,options:{minValue:{type:a.vb.Min,value:0},maxValue:{type:a.vb.Max,value:100},unitSymbol:"Slider_Percent"}};return new Ae(vt?vt(Vt):Vt)}static getImageEffectSliderBuilder({descriptor:De,value:lt,localize:ct},vt){var Vt={descriptor:De,value:lt,localize:ct,options:{minValue:{type:a.vb.Min,value:-100},maxValue:{type:a.vb.Max,value:100},unitSymbol:"Slider_Percent"}};return new Ae(vt?vt(Vt):Vt)}static getRotationSliderBuilder({descriptor:De,value:lt,localize:ct},vt){var Vt={descriptor:De,value:(lt%360+360)%360,localize:ct,options:{minValue:{type:a.vb.Min,value:0},maxValue:{type:a.vb.Max,value:360},unitSymbol:"Slider_Degree"}};return new Ae(vt?vt(Vt):Vt)}constructor(De){this.properties=De}build(){var De={...this.properties};return delete De.localize,{type:a.PL.Slider,properties:De}}}class Ie{constructor(De){this.properties=De}build(){return{type:a.PL.ShapeMapSelector,properties:this.properties}}}class Je{constructor(De){this.properties=De}build(){var De=this.properties.placeholder;De&&(De=this.properties.localize(De));var lt={...this.properties,placeholder:De};return delete lt.localize,{type:a.PL.TextArea,properties:lt}}}class pe{constructor(De){this.properties=De}build(){return{type:a.PL.TextInput,properties:this.properties}}}class Pe{constructor(De){this.properties=De}build(){return{type:a.PL.ToggleSwitch,properties:this.properties}}}class Me extends ne{constructor(De){super(De)}build(){return i.Y.assert(()=>!!this.control,"control must exist"),{control:this.control,disabled:this.disabled,disabledReason:this.disabledReason,uid:this.uidBuilder.build(),suppressDisplayName:!0,noDefaultImpact:this.noDefaultImpact}}withNoDefaultImpact(De){return this.noDefaultImpact=De,this}}},744524:function(ve,z,e){function a(d){return d instanceof Date&&"number"==typeof d.epochTimeStamp}function i(d){var n=new Date(d.getTime());return n.epochTimeStamp=d.epochTimeStamp,n}function r(d,n=0,c=1,s=0,p=0,l=0,u=0){var v=new Date(d,n,c,s,p,l,u);return v.epochTimeStamp=Date.UTC(d,n,c,s,p,l,u),v}function t(d){var n=d;return n.epochTimeStamp=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),n}function o(d){return t(new Date(d))}e.d(z,{Ar:function(){return i},HE:function(){return r},IG:function(){return t},S7:function(){return o},th:function(){return a}})},302887:function(ve,z,e){function a(i){i&&Object.getOwnPropertyNames(i).forEach(r=>{"constructor"!==r&&Object.defineProperty(i,r,{enumerable:!0})})}e.d(z,{d:function(){return a}})},668983:function(ve,z,e){function a(r){var t=_.lastIndexOf(r,".");return t>=0?r.substr(t+1):""}function i(r){var t=_.lastIndexOf(r,".");return t>=0?r.substr(0,t):r}e.d(z,{G:function(){return i},Q:function(){return a}})},989417:function(ve,z,e){function a(r){return _.isEmpty(r)||_.isEmpty(r.trim())}function i(...r){var t=r[0];if(a(t))return t;for(var o=0;o<r.length-1;o++){var d=new RegExp("\\{"+o+"\\}","gm");t=t.replace(d,r[o+1])}return t}e.d(z,{G:function(){return i},M:function(){return a}})},99302:function(ve,z,e){e.d(z,{AD:function(){return o},Pn:function(){return i},Xr:function(){return t},gd:function(){return r},t:function(){return d}});var a=e(432262);function i(n){return n===a.cK.downArrowKeyCode||n===a.cK.upArrowKeyCode||n===a.cK.leftArrowKeyCode||n===a.cK.rightArrowKeyCode}function r(n){return n===a.uf.ArrowDown||n===a.uf.ArrowUp||n===a.uf.ArrowRight||n===a.uf.ArrowLeft}function t(n){return n===a.cK.aKeyCode||n===a.cK.cKeyCode||n===a.cK.xKeyCode||n===a.cK.vKeyCode||n===a.cK.zKeyCode||n===a.cK.yKeyCode}function o(n){return n===a.cK.shiftKeyCode}function d(n){return n===a.cK.deleteKeyCode}},519250:function(ve,z,e){e.d(z,{TF:function(){return r},dK:function(){return i}});var a=e(898410);class i{constructor(d=!1){this.promise=new a.h((n,c)=>{this.resolver=n,this.rejector=c})}resolve(d){this.resolver(d)}reject(d){this.rejector(d)}}function r(o){if(a.h.useNativePromise)return Promise.resolve(o);var d=new i(!0);return d.resolve(o),d.promise}},898410:function(ve,z,e){e.d(z,{h:function(){return p}});var a=e(18122);function i(l,u){return new r(l,u)}class r{constructor(u,v){this.deferMethod=u,this.drainMethod=v,this.asyncQueue=[],this.processing=!1}defer(u,v,...m){a.Y.assertValue(u,"callback"),this.deferMethod?this.deferMethod(u):this.deferInternal(u,v,m)}drain(){this.drainMethod?this.drainMethod():this.drainQueue()}deferInternal(u,v,...m){!this.processing&&!this.asyncQueue.length&&setTimeout(()=>{this.asyncQueue.length>0&&this.drainQueue()},v),this.asyncQueue.push({callback:u,args:m})}drainQueue(){for(var u of(this.processing=!0,this.asyncQueue))u.callback(u.args);this.asyncQueue.length=0,this.processing=!1}}var t=e(223431);function o(l){return l&&_.isObject(l)&&l.then&&_.isFunction(l.then)}function d(l){return o(l)?l.then:null}var n,s=function(l){return l[l.Unknown=-1]="Unknown",l[l.Pending=0]="Pending",l[l.Fulfilled=1]="Fulfilled",l[l.Rejected=2]="Rejected",l}({});class p{constructor(u,v){if(this[n]="Promise",this.timeout=p.ensurePbiTimeout(),this.autoFlush=p.autoFlushInitialized||!!v,this.state={status:s.Pending},u){if(p.useNativePromise)return new Promise(u);u(m=>p.resolvePromise(this,m),m=>p.rejectPromise(this,m))}}then(u,v){if(_.isUndefined(u)&&_.isUndefined(v))return this;var m=new p(null,this.autoFlush);return this.state.pending=this.state.pending||[],this.state.pending.push({result:m,onFulfilled:u,onRejected:v}),this.state.status>s.Pending&&this.scheduleProcessQueue(),m}catch(u){return this.then(null,u)}finally(u){return this.then(v=>p.handleCallback(v,p.resolve,u),v=>p.handleCallback(v,p.reject,u))}static all(u,v){if(p.useNativePromise)return Promise.all(u);var m,g,E=new p((S,b)=>{m=S,g=b},v),D=[],h=u.length;if(h>0)for(var C=0,y=function(S){var b=u[S];d(b)||(b=p.resolve(b,v)),b.then(P=>{D[S]=P}).catch(P=>{g(P)}).finally(()=>{++C===h&&m(D)})},f=0;f<h;f++)y(f);else m(D);return E}static setUseNativePromise(u){p.useNativePromise=u}static resolvePromise(u,v){this.useNativePromise&&this.traceError&&(this.traceError=!1,t.Cn.error("resolvePromise should not be called when useNativePromise is true")),!u.state.status&&(v===u?u.rejectInternal("Expected promise to be resolved with value other than itself"):u.resolveInternal(v))}static rejectPromise(u,v){this.useNativePromise&&this.traceError&&(this.traceError=!1,t.Cn.error("rejectPromise should not be called when useNativePromise is true")),!u.state.status&&u.rejectInternal(v)}static reset(){p.usingMicrotask=void 0,p.pbiTimeout=void 0,p.autoFlushInitialized=void 0}static init(u,v,m,g){void 0!==g&&(p.useNativePromise=g,p.useNativePromise)||p.usingMicrotask||(p.autoFlushInitialized=v,m?(p.pbiTimeout=i(E=>{Zone.current.scheduleMicroTask("DO_NOT_USE_PbiPromise.useMicrotask",E)}),p.usingMicrotask=!0):(a.Y.assertValue(u,"pbiTimeout"),p.pbiTimeout=u||p.pbiTimeout))}static resolve(u,v,m,g){if(p.useNativePromise)return Promise.resolve(u);var E=new p(null,v);return p.resolvePromise(E,u),E.then(m??null,g)}static reject(u,v){return p.useNativePromise?Promise.reject(u):new p((m,g)=>g(u),v)}defer(u){a.Y.assert(()=>_.isFunction(u),"callback"),this.autoFlush&&this.state.status>s.Pending?u():(a.Y.assertValue(this.timeout,"timeout object should have been allocated!"),this.timeout.defer(u,0))}resolveInternal(u){var v;try{(v=d(u))?(this.state.status=s.Unknown,v.call(u,m=>{this.resolveInternal(m)},m=>{this.rejectInternal(m)})):(this.state.value=u,this.state.status=s.Fulfilled,this.scheduleProcessQueue())}catch(m){this.rejectInternal(m)}}rejectInternal(u){this.state.value=u,this.state.status=s.Rejected,this.scheduleProcessQueue()}scheduleProcessQueue(){var u=this.state;u.processScheduled||_.isEmpty(u.pending)||(u.processScheduled=!0,this.defer(()=>p.processQueue(u)))}static ensurePbiTimeout(){var u=p.pbiTimeout;return u||(u=p.pbiTimeout=i()),u}static handleCallback(u,v,m){var g=null;try{_.isFunction(m)&&(g=m())}catch(E){return p.reject(E)}return o(g)?g.then(E=>v(u),p.reject):v(u)}static processQueue(u){var v=u.pending;for(var m of(u.processScheduled=!1,u.pending=void 0,v)){var g=m.result,E=void 0;E=u.status===s.Fulfilled?m.onFulfilled:E,E=u.status===s.Rejected?m.onRejected:E;try{_.isFunction(E)?p.resolvePromise(g,E(u.value)):u.status===s.Fulfilled?p.resolvePromise(g,u.value):p.rejectPromise(g,u.value)}catch(D){p.rejectPromise(g,D)}}}}n=Symbol.toStringTag,p.useNativePromise=!0,p.traceError=!0},252265:function(ve,z,e){e.d(z,{K:function(){return o},c:function(){return d}});var t,a=e(141295),i=e(18122),r=e(392601);class o{constructor(s){if(this[t]="Promise",o.useNativePromise)return new window.Promise(s);this.defer=o.ensureFactory().defer(),s(p=>this.onResolve(p),p=>this.onReject(p))}then(s,p){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==p,this.defer.promise.then(s,p)}catch(s){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==s,this.defer.promise.catch(s)}finally(s){return this.defer.promise.finally(s)}static init(s,p,l,u){i.Y.assertValue(s,"promiseFactory"),i.Y.assertAnyValue(p,"exceptionHandler"),i.Y.assert(()=>l||!o.defaultFactoryWasProvided,"powerbi.Promise was used before being initialized - that is legitimate in test scenarios only"),null!=u&&(o.useNativePromise=u),o.factory=s,o.exceptions=p,o.defaultFactoryWasProvided=!1}static setUseNativePromise(s){o.useNativePromise=s}static ensureFactory(){var s=o.factory;return s||(s=o.factory=(0,r.C)(),o.defaultFactoryWasProvided=!0),s}static resolve(s){return o.useNativePromise?window.Promise.resolve(s):new o((p,l)=>p(s))}static reject(s){return o.useNativePromise?window.Promise.reject(s):new o((p,l)=>l(s))}static allSettled(s){return o.useNativePromise?window.Promise.allSettled(s):new o((p,l)=>{var u=s.length;if(u>0)for(var v=[],m=0;m<u;m++)s[m].then(g=>v.push({value:g,type:a.f.Success})).catch(g=>v.push({value:g,type:a.f.Failure})).finally(()=>{v.length===u&&p(v)});else p([])})}onResolve(s){var c;i.Y.assertAnyValue(s,"value"),(c=s)&&_.isFunction(c.then)?s.then(p=>this.onResolve(p),p=>this.onReject(p)):this.defer.resolve(s)}onReject(s){if(i.Y.assertAnyValue(s,"error"),!this.hasRejectionHandling&&s instanceof Error&&!s.suppressExceptionHandler){var p=o.exceptions;p&&(s.suppressExceptionHandler=!0,p(s))}this.defer.reject(s)}}t=Symbol.toStringTag,o.useNativePromise=!0;class d{constructor(){this.promise=new o((s,p)=>{this.resolver=s,this.rejector=p})}resolve(s){this.resolver(s)}reject(s){this.rejector(s)}}},315818:function(ve,z,e){e.d(z,{AR:function(){return c},B6:function(){return D},IS:function(){return m},J$:function(){return h},JY:function(){return d},MK:function(){return v},TX:function(){return l},Tl:function(){return r},ar:function(){return t},cL:function(){return o},j6:function(){return u},rB:function(){return g},vn:function(){return i}});var a=e(18122),i=1e-6;function r(y,f){return a.Y.assertValue(y,"x"),a.Y.assertValue(f,"y"),`translate(${y},${f})`}function t(y){return a.Y.assertValue(y,"x"),`translateX(${y}px)`}function o(y,f){return a.Y.assertValue(y,"x"),a.Y.assertValue(f,"y"),`translate(${y}px,${f}px)`}function d(y,f,S,b,V){return a.Y.assertValue(y,"x"),a.Y.assertValue(f,"y"),a.Y.assertValue(S,"px"),a.Y.assertValue(b,"py"),a.Y.assertValue(V,"angle"),`translate(${y},${f}) rotate(${V},${S},${b})`}function c(y,f,S){return a.Y.assertValue(y,"x"),a.Y.assertValue(f,"y"),a.Y.assertValue(S,"ratio"),`translate(${y},${f}) scale(${S})`}function p(y){return()=>{y.forEach(f=>{f?.each(function(){if(null!=this.__transition){if(_.some(this.__transition,w=>0===w.state)){var S=d3.select(this);return void requestAnimationFrame(p([S]))}var b=this.__transition||{},V=Object.keys(b);for(var M of V){var P=b[M];P&&P.timer?._call();var T=P.on._.end;for(var N of T)N.value.apply(this)}}})})}}function l(y,...f){if(y){var S=y;y.animation&&(S=y.animation),S&&S.transitionImmediate&&(_.isEmpty(f)||requestAnimationFrame(p(f)))}}function u(y){isNaN(y.x)&&(y.x=0),isNaN(y.y)&&(y.y=0)}function v(y){if(!y||0===y.length)return{x:"0",y:"0"};var f=y.split(/[\s,]+/);a.Y.assertValue(f,"translateCoordinates"),a.Y.assert(()=>f.length>0,"translate array must atleast have one value");var b,S="0",V=f[0];if(1===f.length)b=V.substring(10,V.length-1);else{var M=f[1];S=M.substring(0,M.length-1),b=V.substring(10,V.length)}return{x:b,y:S}}function m(y,f,S){return{path:`M0 0L0 ${f}L${y} ${f/2} Z`,transform:`rotate(${S} ${y/2} ${f/2})`}}function g(y){var f;try{f=y.getBBox()}catch{}return f||{x:0,y:0,width:0,height:0}}function D(y){return _.map(y,(b,V)=>(b=>1&~b?0===b?"M":"L":",")(V)+b).join("")+"z"}function h(y,f){if(!(y.length<4||y.length%2!=0)){var S=_.map(y,I=>Math.round(I*f)),b=[],V=S[0],M=S[1];b.push(V),b.push(M);for(var P=2;P<S.length;P+=2){var T=S[P],N=S[P+1];Math.abs(V-T)+Math.abs(M-N)<2||(b.push(T),b.push(N))}return D(b)}}},924256:function(ve,z,e){e.d(z,{Dl:function(){return f},FI:function(){return P},Hr:function(){return o},LF:function(){return C},LT:function(){return h},L_:function(){return y},O:function(){return E},Rx:function(){return b},U8:function(){return i},V0:function(){return t},VP:function(){return r},Xn:function(){return n},e6:function(){return D},xK:function(){return S}});var a=e(282002);function i(I,O=!0){if(_.isEmpty(I))return!1;var x=f(I);if(!x)return!1;switch(T(x.scheme)){case S.http:case S.https:return O||!_.isEmpty(x.host);default:return!1}}function r(I){return i(I)}function t(I){return!(!I||0!==I.indexOf("data:"))}function o(I){if(!t(I))throw new Error("Expected data uri");var x=I.indexOf(";base64,");if(x<0)throw new Error("Expected base 64 content in data url");var j=x+8;return I.substr(j,I.length-j)}function n(I){return"data:application/json;base64,"+E(I)}var u=a.x4||function(I){return I&&I.replace(/%([0-9a-fA-F]{2})|%u([0-9a-fA-F]{4})/g,(O,x,j)=>String.fromCharCode(parseInt(x||j,16)))},v=a.ih||function(I){return I&&I.replace(/[^*+\-./0123456789@ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz]/g,O=>{var x=O.charCodeAt(0).toString(16).toUpperCase();switch(x.length){case 1:return"%0"+x;case 2:return"%"+x;case 3:return"%u0"+x;default:return"%u"+x}})};function E(I){return btoa(function(I){return u(encodeURIComponent(I))}(I))}function D(I){return function(I){return decodeURIComponent(v(I))}(atob(I))}function h(I){var O=N(I);if(O)return w(O)}function C(I,O,x=!1){var j=y(I),U=j.baseUrl;if(x&&_.assign(O,j.queryParameters),_.isEmpty(O))return U;var F=[];for(var R in O){var B=O[R];if(null==B)F.push(encodeURIComponent(R));else if("string"==typeof B)F.push(encodeURIComponent(R)+"="+encodeURIComponent(B));else for(var A of B)F.push(encodeURIComponent(R)+"="+encodeURIComponent(A))}return U+"?"+F.join("&")}function y(I){var O=N(I);return{baseUrl:O?I.slice(0,I.indexOf("?")):I,queryParameters:w(O)}}function f(I){var O={scheme:"",host:"",path:"",query:"",fragment:""};if(null==I)return O;var x=I.match(/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return x?{scheme:x[1],host:x[2],path:x[3],query:x[4],fragment:x[5]}:O}var S=function(I){return I[I.NONE=0]="NONE",I[I.http=1]="http",I[I.https=2]="https",I[I.file=3]="file",I[I.ftp=4]="ftp",I[I.mailto=5]="mailto",I[I.news=6]="news",I[I.telnet=7]="telnet",I}({});function b(I){var O=f(I);return null==O||null==O.scheme?S.NONE:T(O.scheme)}var M=/https?:\/\/[^\/]+/i;function P(I){return I&&I.replace(M,"")}function T(I){if(_.isEmpty(I))return S.NONE;switch(I.toLowerCase()){case"http":return S.http;case"https":return S.https;case"file":return S.file;case"ftp":return S.ftp;case"mailto":return S.mailto;case"news":return S.news;case"telnet":return S.telnet;default:return S.NONE}}function N(I){var O=document.createElement("a");return O.href=I,O.search}function w(I){if(!I)return{};var O={};return new URLSearchParams(I).forEach((x,j)=>{var U=O[j];null==U?O[j]=x:"string"==typeof U?O[j]=[U,x]:U.push(x)}),O}},851556:function(ve,z,e){e.d(z,{I6:function(){return o},JI:function(){return c},MY:function(){return d},cA:function(){return v},e:function(){return n}});var a=e(18122),i=e(865841),r=" ";function t(h,C,y){if(y){for(var f=h-1;f>-1;f--)if(d(C[f]))return f+1}else for(var S=h,b=C.length;S<b;S++)if(d(C[S]))return S;return y?0:C.length}function o(h,C){a.Y.assert(()=>h>=0&&h<=C.length,"index within content string bounds");var y={start:0,end:0};return 0===C.length||(y.start=t(h,C,!0),y.end=t(h,C,!1)),y}function d(h){return i.s3.lastIndex=0,i.s3.test(h)}function n(h){var C=1;for(i.s3.lastIndex=0,i.s3.exec(h);0!==i.s3.lastIndex;)C++,i.s3.exec(h);return C}function c(h,C,y){var f=D(h),S=0;for(var b of f)y.text=b,S=Math.max(S,C(y));return S}function s(h,C,y){return C.text=h,y(C)}class l{constructor(){this.words=[],this.width=0}getWidth(){return this.width}addWord(C,y){this.words.push(C),this.width+=y}toString(C){return this.words.join(C?"":r)}isEmpty(){return _.isEmpty(this.words)}}class u{constructor(){this.lastLine=new l,this.lines=[this.lastLine]}newLine(){var C=this.lastLine;return this.lastLine=new l,this.lines.push(this.lastLine),C}get count(){return this.lines.length}getLastLine(){return this.lastLine}getLastLineWidth(){return this.getLastLine().getWidth()}addWord(C,y){this.lastLine.addWord(C,y)}getLines(){return this.lines}}function v(h,C,y,f,S,b,V,M,P=!1,T=i.kn){if(!h)return[""];if("string"!=typeof h&&(h=String(h)),a.Y.assert(()=>"string"==typeof h,"splitByWidth: content should be of type string"),S<1&&(S=Number.POSITIVE_INFINITY),M){var N=h.split(T),w=[];for(var I of N){var O=v(I,C,y,f,Math.max(1,S),b,V,!1,P,T);if(S>0)w.push(...O||[]),S-=O.length;else{var x=_.last(w);w[w.length-1]=x+r+O}}return w}b=b||((X,Y)=>X.text);var j=s(r,C,y),U=new u,F=D(h,P);for(var R of F){var B=s(R,C,y),A=B,W=U.getLastLine().isEmpty();if(!W&&R!==r&&(A+=j),U.getLastLineWidth()+A<=f||U.count>=S)U.addWord(R,A);else if(W||U.newLine(),B<=f)U.addWord(R,B);else{var G=S-U.count;if(!V||G<=0)U.addWord(R,B);else for(var K=m(R,C,y,f,G+1),q=0,ne=K.chunks.length;q<ne;q++){var k=K.chunks[q];q<ne-1?(U.addWord(k,f),U.newLine()):U.addWord(k,K.lastChunkWidth)}}}var L=_.map(U.getLines(),X=>X.getWidth()>f?function(h,C,y,f){return C.text=h,y(C,f)}(X.toString(P),C,b,f):X.toString(P));return L}function m(h,C,y,f,S){var b={chunks:[],lastChunkWidth:0};if(S<1||0===h.length)return b;for(var V=function(h,C,y){return h.text="a",Math.floor(y/C(h))}(C,y,f),M=h,P=function(){if(b.chunks.length===S-1)return b.chunks.push(M),b.lastChunkWidth=s(M,C,y),0;var N=function(h,C,y,f,S){if(_.isEmpty(h))return{sizeInCharacters:0,sizeInPixels:0};if(0===f)return{sizeInCharacters:1,sizeInPixels:s(h.substr(0,1),C,y)};for(var V={sizeInCharacters:0,sizeInPixels:0},M=Math.min(S,h.length),P=-1,T=h.length+1;P<T-1;){var N=s(h.substr(0,M),C,y),w=N/f;if(N<=f){P=M,V.sizeInCharacters=M,V.sizeInPixels=N;var I=w>0?Math.ceil(M/w):M+1;I=Math.max(I,M+1),M=I=Math.min(I,T-1)}else{T=M;var O=w>0?Math.floor(M/w):M-1;O=Math.min(O,M-1),M=O=Math.max(O,P+1)}}return 0===V.sizeInCharacters?{sizeInCharacters:1,sizeInPixels:s(h.substr(0,1),C,y)}:V}(M,C,y,f,V);V=N.sizeInCharacters;var w=N.sizeInCharacters;if(a.Y.assert(()=>w<=M.length,"Chunk size is greater than the whole text"),b.chunks.push(M.substr(0,w)),b.lastChunkWidth=N.sizeInPixels,w===M.length)return 0;M=M.substr(w,M.length-w)};M.length>0&&0!==P(););return b}function D(h,C){return C&&(h=h.replace(i.kn,"")),h.split(C?i.sX:i.s3)}},865841:function(ve,z,e){e.d(z,{TX:function(){return i},kn:function(){return a},s3:function(){return r},sX:function(){return t}});var a=/\n+/g,i=/\r?\n|\r/g,r=/[\s\n]+/g,t=/([^\S\r\n])/g},922504:function(ve,z,e){e.d(z,{b:function(){return i}});var i=new class{initialize(t){this.runOutsideAngular=o=>t.runOutsideAngular(o)}setInterval(t,o){return this.runOutsideAngular(()=>window.setInterval(t,o))}setTimeout(t,o){return this.runOutsideAngular(()=>window.setTimeout(t,o))}requestAnimationFrame(t){this.runOutsideAngular(()=>requestAnimationFrame(t))}runOutsideAngular(t){return t()}}},337141:function(ve,z,e){e.d(z,{iM:function(){return t},nq:function(){return o},vW:function(){return r}});var a=e(18122),i="__DEFAULT_ANNOTATION__";function r(d,n){if(d){var c={},{objectName:s,propertyName:p}=n,l=o(d,s);if(l)for(var u in l){var m=l[u][p];if(m){if(u===i){a.Y.assertFail("User defined object cannot have the same name as the default object");continue}c[u]=m}}var g=t(d,s);if(g){var E=g[p];E&&(c[i]=E)}return _.isEmpty(c)?void 0:c}}function t(d,n,c){return d?.[n]||c}function o(d,n){return t(d,n)?.$instances}},579260:function(ve,z,e){e.d(z,{Aj:function(){return U},C:function(){return s},IU:function(){return P},KS:function(){return W},OX:function(){return h},RD:function(){return A},Sg:function(){return I},TR:function(){return q},WC:function(){return O},_u:function(){return B},cd:function(){return F},dM:function(){return t},e$:function(){return v},eC:function(){return j},eL:function(){return R},h8:function(){return S},hn:function(){return w},i4:function(){return f},lz:function(){return E},m2:function(){return p},mq:function(){return m},nC:function(){return ne},nO:function(){return b},q7:function(){return y},qR:function(){return l},qh:function(){return u},s:function(){return c},s0:function(){return C},u_:function(){return g},wg:function(){return N},y1:function(){return n},zW:function(){return x}});var a=e(18122);function t(k){for(var L=[],X=0,Y=k.length;X<Y;X++){var Q=k[X];-1===L.indexOf(Q)&&L.push(Q)}return L}function n(k,L,X){a.Y.assert(()=>L>=0&&L<k.length,"startIndex is out of range."),a.Y.assert(()=>X>=0&&X<k.length,"endIndex is out of range.");for(var Y=[],Q=L;Q<=X;++Q)Y.push(k[Q]);return Y}function c(k,L){a.Y.assert(()=>L>=0,"Count is negative."),a.Y.assert(()=>L<=k.length,"Count is too large.");for(var X=[],Y=0;Y<L;++Y)X.push(k[Y]);return X}function s(k){return a.Y.assertValue(k,"source"),c(k,k.length)}function p(k,L,X){if(k||(k=null),L||(L=null),k===L)return!0;if(!!k!=!!L)return!1;var Y=k?.length??0;if(Y!==L?.length)return!1;for(var Q=0;Q<Y&&X(k?.[Q],L?.[Q]);)++Q;return Q===Y}function l(k){return k&&0===k.length?null:k}function u(k,L){a.Y.assertValue(k,"array"),a.Y.assertValue(L,"predicate");for(var X=0,Y=k.length;X<Y;++X)if(L(k[X]))return X;return-1}function v(k,L){if(0===L)return k.slice();var X=k.slice(L);return Array.prototype.push.apply(X,k.slice(0,L)),X}function m(){return g([])}function g(k){a.Y.assertValue(k,"array");var L=k;return L.withId=D,L}function E(k,L){for(var X=0,Y=k.length;X<Y;X++){var Q=k[X];if(Q.id===L)return Q}}function D(k){return E(this,k)}function h(){return C([])}function C(k){a.Y.assertValue(k,"array");var L=k;return L.withName=M,L}function y(k,L){var X=f(k,L);if(X>=0)return k[X]}function f(k,L){for(var X=0,Y=k.length;X<Y;X++)if(k[X].name===L)return X;return-1}function S(k,L){a.Y.assertValue(k,"list"),a.Y.assertValue(L,"value");for(var Y=k.length-1;Y>=0;Y--){var Q=k[Y]-L;if(0===Q)return!1;if(!(Q>0))return k.splice(Y+1,0,L),!0}return k.unshift(L),!0}function b(k,L){for(var X of(a.Y.assertValue(k,"list"),a.Y.assertValue(L,"value"),k))if(X===L)return!1;return k.push(L),!0}function M(k){return y(this,k)}function P(k){if(k)for(;k.length>0;)k.pop()}function N(k,L,X){var Y=k[L];k[L]=k[X],k[X]=Y}function w(k,L,X){return _.some(k,Y=>X(Y,L))}function I(k){a.Y.assertValue(k,"obj");for(var L=k;null!=L;){if(_.isArray(L))return!0;L=Object.getPrototypeOf(L)}return!1}function O(k,L){a.Y.assertValue(k,"values"),a.Y.assertValue(L,"compareFunction");var X=k.length;if(X>=2)for(var Y=1;Y<X;Y++)if(L(k[Y-1],k[Y])>0)return!1;return!0}function x(k,L){return a.Y.assertValue(k,"values"),a.Y.assertAnyValue(L,"descendingOrder"),O(k,L?(Y,Q)=>Q-Y:(Y,Q)=>Y-Q)}function j(k){return _.isArray(k)?k:[k]}function U(k){return _.uniqBy(k,L=>L.name).length===k.length}function F(k,L){a.Y.assertValue(k,"array");for(var X,Y=0,Q=k.length;Y<Q;Y++){var H=k[Y],te=L(H);H!==te&&!X&&(X=c(k,Y)),X&&X.push(te)}return X||k}function R(k,L){a.Y.assertValue(k,"array");for(var X,Y=0,Q=k.length;Y<Q;Y++){var H=k[Y],te=L(H,Y),ee=1!==te.length||te[0]!==H;ee&&!X&&(X=c(k,Y)),X&&(ee?X.push(...te||[]):X.push(H))}return X||k}function B(k,L){a.Y.assertValue(k,"array");for(var X,Y=0,Q=k.length;Y<Q;Y++){var H=k[Y],te=L(H,Y);!te&&!X&&(X=c(k,Y)),X&&te&&X.push(H)}return X||k}function A(k,L,X){return _.isEmpty(k)||_.isEmpty(L)?_.isEmpty(k)&&_.isEmpty(L):k.length===L.length&&function(k,L,X){var Y=new Array(L.length);for(var Q of k){for(var H=!1,te=0;te<L.length;te++)if(!Y[te]&&X(Q,L[te])){H=!0,Y[te]=!0;break}if(!H)return!1}return!0}(k,L,X)}function W(k,L){var X=_.findIndex(k,L);if(-1!==X){var Y=k[X];k.splice(X,1),k.push(Y)}}function q(k,L,X){if(_.isEmpty(k)||_.isEmpty(L))return[];for(var Y=[],Q=0;Q<=k.length;Q++){Y[Q]=[];for(var H=0;H<=L.length;H++)Y[Q][H]=0===Q||0===H?0:X(k[Q-1],L[H-1])?Y[Q-1][H-1]+1:Math.max(Y[Q-1][H],Y[Q][H-1])}for(var te=[],ee=Y[k.length][L.length],ue=k.length,Te=L.length;ue>0&&Te>0;)X(k[ue-1],L[Te-1])?(te[ee-1]=k[ue-1],ue--,Te--,ee--):Y[ue-1][Te]>Y[ue][Te-1]?ue--:Te--;return te}function ne(k,L){a.Y.assertValue(k,"dictionary");for(var X,Y=Object.getOwnPropertyNames(k),Q=0,H=Y.length;Q<H;Q++){var te=Y[Q],ee=k[te],ue=L(te,ee);ee!==ue&&!X&&(X=_.pick(k,c(Y,Q))),X&&(X[te]=ue)}return X||k}},18972:function(ve,z,e){e.d(z,{C8:function(){return v},F9:function(){return f},Hk:function(){return u},JM:function(){return n},KE:function(){return h},Kg:function(){return C},Lu:function(){return p},O4:function(){return c},PJ:function(){return d},T5:function(){return l},Zf:function(){return S},eo:function(){return o},ju:function(){return r},mh:function(){return m},qQ:function(){return g},r8:function(){return y},vj:function(){return s},zN:function(){return t}});var a=e(18122),i=e(155281);function r(b){return b&&b.code&&b.getDetails}function t(b){return!(!b||!b.performanceActivities)}class o extends Error{constructor(V){super(V),Object.setPrototypeOf(this,new.target.prototype)}}class d extends o{constructor(V){super(V?.code),this.clientError=V}}var n="Client Error Code",c="Error Code",s="Error Details",p="HTTP Request Id",l="Job Id",u="OData Error Message",v="Stack Trace",m="QueryCacheMissError";class g{constructor(V){this.code=V,this.ignorable=!1,a.Y.assertValue(V,"code")}getDetails(V){return{resourceKey:"ClientError_UnknownClientErrorKey",message:V.get("ClientError_UnknownClientErrorValue"),displayableErrorInfo:[{errorInfoKey:V.get("ClientError_UnknownClientErrorKey"),errorInfoValue:V.get("ClientError_UnknownClientErrorValue")}],debugErrorInfo:[{errorInfoKey:n,errorInfoValue:this.code}]}}}var E={additionalInfoKey:"Rls_Unauthorized_VisualErrorTitle",additionalInfoValue:"Rls_Unauthorized_VisualErrorMessage",localizedMessage:"Rls_Unauthorized_VisualError",helpLinkInfo:{helpLink:"https://go.microsoft.com/fwlink/?LinkID=785016",helpLinkType:i.Qs.LearnMore}},D={RLSNotAuthorizedForModel:E,NotAuthorizedForImpersonation:E,TokenExpired:{localizedMessage:"ClientError_TokenExpired"}};function h(b){return null!=b&&void 0!==b.code&&void 0!==b.ignorable&&void 0!==b.requestId&&void 0!==b.getDetails}class C{constructor(V,M,P,T,N){this.statusCode=V,this.httpRequestId=M,this.detailedErrorCode=P,this.detailedMessage=T,this.source=N,a.Y.assertValue(V,"httpStatusCode")}get code(){return this.detailedErrorCode||"HttpClientError"}get ignorable(){return!1}get requestId(){return this.httpRequestId}get httpStatusCode(){return this.statusCode}getDetails(V){var M=this.detailedErrorCode&&D[this.detailedErrorCode];if(M){var P=M.localizedMessage,T=M.additionalInfoKey||"DsrError_Key",N=M.additionalInfoValue||P||"DsrError_UnknownErrorValue",w=M.helpLinkInfo;return{resourceKey:T,message:P?V.get(P):null,displayableErrorInfo:[{errorInfoKey:V.get(T),errorInfoValue:V.get(N)}],debugErrorInfo:[],helpLink:w&&w.helpLink,helpLinkType:w&&w.helpLinkType,hideAdditionalErrorInfo:!0,source:this.source}}return this.getGenericErrorDetails(V)}getGenericErrorDetails(V){var M={resourceKey:"DsrError_Key",message:V.get("ServerError_NetworkConnectionIssue"),displayableErrorInfo:[{errorInfoKey:V.get("DsrError_Key"),errorInfoValue:V.get("DsrError_UnknownErrorValue")},{errorInfoKey:V.get("ClientError_HttpResponseStatusCodeKey"),errorInfoValue:this.httpStatusCode.toString()}],debugErrorInfo:[{errorInfoKey:p,errorInfoValue:this.httpRequestId},{errorInfoKey:n,errorInfoValue:this.code}],source:this.source};return this.detailedMessage&&M.debugErrorInfo&&M.debugErrorInfo.push({errorInfoKey:s,errorInfoValue:this.detailedMessage}),this.detailedErrorCode&&M.debugErrorInfo&&M.debugErrorInfo.push({errorInfoKey:c,errorInfoValue:this.detailedErrorCode}),M}}var y=(()=>{class b{constructor(M){this.debugInfo=M,this.code=b.Code,this.ignorable=!0}getDetails(M){return{message:"",displayableErrorInfo:[]}}}return b.Code="IgnorableClientError",b})();class f extends y{constructor(V){super("QueryCancellationClientError: "+V),this.cancellationSource=V}get queryCancellationSource(){return this.cancellationSource}}class S{constructor(){this.errorCode=m}get code(){return this.errorCode}get ignorable(){return!1}getDetails(V){return{message:V.get("ServiceError_QueryExecutionIsPaused"),displayableErrorInfo:[{errorInfoKey:V.get("ServiceError_QueryExecutionRequired"),errorInfoValue:V.get("ServiceError_VisualCannotBeUpdatedWithoutQuery")},{errorInfoKey:V.get("AdditionalErrorInfo_ErrorText"),errorInfoValue:this.code}],debugErrorInfo:[{errorInfoKey:n,errorInfoValue:this.code}]}}}},647132:function(ve,z,e){e.d(z,{AZ:function(){return h},Bt:function(){return M},IO:function(){return o},KY:function(){return b},Ko:function(){return p},Lo:function(){return E},NN:function(){return r},R3:function(){return I},Te:function(){return w},Zb:function(){return t},e$:function(){return s},e3:function(){return P},fh:function(){return C},j$:function(){return y},p8:function(){return m},qI:function(){return l},xq:function(){return N},yS:function(){return v},zO:function(){return g}});var a=e(18122),i=e(744774);function r(O,x){if(0===x)return O;var j=o(O);if(j){var U=d(j);if(U){var F=function(O,x){var j=O.H+x;return{H:j>1?j-1:j,S:O.S,V:O.V}}(U,x);if(F){var R=n(F);if(R)return g(R)}}}}function t(O){var x=o(O);if(x)return g(x)}function o(O){if(O.indexOf("#")>=0){if(7===O.length){var x=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(O);return null==x||x.length<4?void 0:{R:parseInt(x[1],16),G:parseInt(x[2],16),B:parseInt(x[3],16)}}if(4===O.length){var j=/^#?([a-f\d])([a-f\d])([a-f\d])$/i.exec(O);return null==j||j.length<4?void 0:{R:parseInt(j[1]+j[1],16),G:parseInt(j[2]+j[2],16),B:parseInt(j[3]+j[3],16)}}}else{if(O.indexOf("rgb(")>=0){var U=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(O);return null==U||U.length<4?void 0:{R:parseInt(U[1],10),G:parseInt(U[2],10),B:parseInt(U[3],10)}}if(O.indexOf("rgba(")>=0){var F=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d*(?:\.\d+)?)\)$/.exec(O);return null==F||F.length<5?void 0:{R:parseInt(F[1],10),G:parseInt(F[2],10),B:parseInt(F[3],10),A:parseFloat(F[4])}}}}function d(O){if(O){var x,j,U=O.R/255,F=O.G/255,R=O.B/255,B=Math.min(U,Math.min(F,R)),A=Math.max(U,Math.max(F,R)),G=A-B;return 0===A||0===G?(x=0,j=0):(x=G/A,j=U===A?(F-R)/G:F===A?2+(R-U)/G:4+(U-F)/G),(j/=6)<0&&(j+=1),{H:j,S:x,V:A}}}function n(O){var x,j,U,A,W,G,K,q,ne,R=O.S,B=O.V;if(0===R)x=B,j=B,U=B;else switch(A=B*(1-R),W=B*(1-R*(K=(ne=6*O.H)-(q=Math.floor(ne)))),G=B*(1-R*(1-K)),q){case 0:x=B,j=G,U=A;break;case 1:x=W,j=B,U=A;break;case 2:x=A,j=B,U=G;break;case 3:x=A,j=W,U=B;break;case 4:x=G,j=A,U=B;break;case 5:x=B,j=A,U=W;break;default:return void a.Y.assertFail("unexpected")}return{R:Math.floor(255*x),G:Math.floor(255*j),B:Math.floor(255*U)}}function s(O,x){var j=Math.floor(x);return{R:Math.max(0,O.R-j),G:Math.max(0,O.G-j),B:Math.max(0,O.B-j)}}function p(O,x){return O.A=x,O}function l(O){var x=o(O);if(x)return function(O){return _.isNumber(O.A)?Math.round(100*(1-O.A)):0}(x)}function v(O){return 1-(O??0)/100}function m(O){return null==O.A?"rgb("+O.R+","+O.G+","+O.B+")":"rgba("+O.R+","+O.G+","+O.B+","+O.A+")"}function g(O){return"#"+V(O.R)+V(O.G)+V(O.B)}function E(O){return/^#([0-9a-f]{6}|[0-9a-f]{3})$/i.test(O)}function h(O){return/^#[0-9a-f]{6}$/i.test(O)}function C(O){return/(#([\da-f]{3}){1,2}|(rgb|hsl)a\((\d{1,3}%?,\s?){3}(1.0|1|0|0?\.\d+)\)|(rgb|hsl)\(\d{1,3}%?(,\s?\d{1,3}%?){2}\))/gi.test(O)}function y(O,x,j){var U=o(O),F=o(j);if(U&&F)return g(function(O,x,j){return x=(0,i.hA)(x,0,1),{R:S(O.R,x,j.R),G:S(O.G,x,j.G),B:S(O.B,x,j.B)}}(U,x,F))}function S(O,x,j){return x=(0,i.hA)(x,0,1),O=(0,i.hA)(O,0,255),j=(0,i.hA)(j,0,255),Math.round(x*O+(1-x)*j)}function b(O,x,j){var U=d(O);if(U){(x+j>1||x<=0||j<=0)&&(a.Y.assert(()=>!1,"Invalid lumianceThreshold and highlightColor adjusting delta."),x=.8,j=.2),U.V=U.V<x?U.V+j:U.V-j;var F=n(U);if(F)return g(F)}}function V(O){var j=(0,i.hA)(O,0,255).toString(16).toUpperCase();return 1===j.length?"0"+j:j}function M(O,x,j){a.Y.assert(()=>O.length===x.length,"createLinearColorScale - domain and range must be the same size"),a.Y.assert(()=>O.length>1,"createLinearColorScale - domain and range must contain at least 2 values");var U=x.map(F=>o(F));return F=>{if(null==F&&(F=0),!isNaN(F)){if(j){var R=_.last(O);if(null==R||F>=R)return _.last(x);if(F<=O[0])return x[0]}for(var B,A,W,G,K=1,q=O.length;K<q;K++){if(A=O[K],(B=O[K-1])===Number.NEGATIVE_INFINITY&&isNaN(A))return x[K];if(isNaN(B)||isNaN(A))return;if(F===A)return x[K];if(F>=B&&F<=A){W=U[K-1],G=U[K];break}}if(void 0!==B&&void 0!==A&&void 0!==W&&void 0!==G)return g({R:T(F,B,A,W.R,G.R),G:T(F,B,A,W.G,G.G),B:T(F,B,A,W.B,G.B)})}}}function P(O,x=.25){a.Y.assert(()=>x>0&&x<=.5,"valueOffset must be positive and less than 0.5");var U=d(o(O));if(U){U.V=U.V>1-x?1-x:U.V<x?x:U.V;var F=_.clone(U),R=_.clone(U);F.V=Math.min(U.V+x,1),R.V=Math.max(U.V-x,0);var B=n(F),A=n(R);if(B&&A)return M([0,1],[g(B),g(A)],!0)}}function T(O,x,j,U,F){return x===Number.NEGATIVE_INFINITY&&j===Number.POSITIVE_INFINITY?Math.round((F+U)/2):x===Number.NEGATIVE_INFINITY?F:j===Number.POSITIVE_INFINITY?U:Math.round(U+(O-x)*(F-U)/(j-x))}function N(O,x){var j=parseInt(O.slice(1),16),U=x<0?0:255,F=x<0?-1*x:x,R=j>>16,B=j>>8&255,A=255&j;return"#"+(16777216+65536*(Math.round((U-R)*F)+R)+256*(Math.round((U-B)*F)+B)+(Math.round((U-A)*F)+A)).toString(16).slice(1)}var w={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function I(O){return a.Y.assertValue(O,"getWebColorValue - colorName"),w[O.toLocaleLowerCase()]}},527956:function(ve,z,e){e.d(z,{DA:function(){return t},Ky:function(){return r},TA:function(){return o},q6:function(){return i}});var a=e(129566),i=a.s.foreground,r=a.s.foregroundDark,t=a.s.background,o=a.s.backgroundNeutral},309857:function(ve,z,e){function a(o,d){!0!==o&&t(d||"condition: "+o)}function i(o,d){null==o&&t(d||"condition: "+o)}function t(o){throw new Error("Contract check failed: "+o)}e.d(z,{Su:function(){return i},fJ:function(){return t},z6:function(){return a}})},282002:function(ve,z,e){e.d(z,{ih:function(){return r},io:function(){return o},x4:function(){return t}});var r=window.escape,t=window.unescape;function o(d){}},501285:function(ve,z,e){function a(){return window.powerbi||(window.powerbi={}),window.powerbi}function i(){var o=a();return o.common||(o.common={}),o.common}function r(){var o=a();return o.visuals||(o.visuals={}),o.visuals}function t(){return window.jsCommon||(window.jsCommon={}),window.jsCommon}e.d(z,{N0:function(){return a},RI:function(){return t},iE:function(){return i},qV:function(){return r}})},155281:function(ve,z,e){e.d(z,{By:function(){return r},Qs:function(){return t},gf:function(){return a},pG:function(){return i}});var a=function(o){return o.PowerBI="PowerBI",o.External="External",o.User="User",o}({}),i=function(o){return o.NewQuery="NewQuery",o.OnDestroy="OnDestroy",o.PausedQuery="PausedQuery",o}({}),r=function(o){return o[o.VisualNotSupported=1]="VisualNotSupported",o}({}),t=function(o){return o[o.GetHelp=0]="GetHelp",o[o.LearnMore=1]="LearnMore",o}({})},615309:function(ve,z,e){e.d(z,{H1:function(){return o},Hx:function(){return t},cp:function(){return d}});var a='"',i=", ";class r{constructor(p){this.families=p}get family(){return this.getFamily()}getFamily(){return this.families.join(i)}get css(){return this.getCSS()}getCSS(){return this.families?this.families.map(p=>p.indexOf(" ")>-1?`'${p}'`:p).join(", "):null}}var t={light:new r(["Segoe UI Light","wf_segoe-ui_light","helvetica","arial","sans-serif"]),semilight:new r(["Segoe UI Semilight","wf_segoe-ui_semilight","helvetica","arial","sans-serif"]),regular:new r(["Segoe UI","wf_segoe-ui_normal","helvetica","arial","sans-serif"]),semibold:new r(["Segoe UI Semibold","wf_segoe-ui_semibold","helvetica","arial","sans-serif"]),bold:new r(["Segoe UI Bold","wf_segoe-ui_bold","helvetica","arial","sans-serif"]),lightSecondary:new r(["wf_standard-font_light","helvetica","arial","sans-serif"]),regularSecondary:new r(["wf_standard-font","helvetica","arial","sans-serif"]),boldSecondary:new r(["wf_standard-font_bold","helvetica","arial","sans-serif"]),glyphs:new r(["PowerVisuals"])},o={"Segoe UI Light":t.light,"Segoe UI Semilight":t.semilight,"Segoe UI":t.regular,"Segoe UI Semibold":t.semibold,"Segoe (Bold)":t.bold,"Segoe UI Bold":t.bold,DIN:t.regularSecondary,"DIN Light":t.lightSecondary,Heading:t.light,Body:t.regular};function d(s,p=!0){return null==s||""===s?s:-1===s.indexOf(",")?-1===s.indexOf(" ")?s:p?function(s){if(s)return a+s.replace(/['"]+/g,"")+a}(s):function(s){if(s)return s.replace(/['"]+/g,"")}(s):s.split(",").map(u=>d(u.trim(),p)).join(i)}},168676:function(ve,z,e){e.d(z,{r:function(){return a}});class a{constructor(r,t,o,d){this.left=r||0,this.top=t||0,this.width=o||0,this.height=d||0}}},959852:function(ve,z,e){e.d(z,{Y0:function(){return l},Yf:function(){return n},ZJ:function(){return u},aI:function(){return r}});var a=e(736341);function r(v,m){return null!=v&&null!=m&&v.x===m.x&&v.y===m.y}function n(v,m){if(null===v||null===m)return null;var g=m.x-v.x,E=m.y-v.y;return Math.sqrt(g*g+E*E)}function l(v,m,g){var E=(m.y-v.y)*(g.x-m.x)-(m.x-v.x)*(g.y-m.y);return 0===E?a.t.Colinear:E>0?a.t.Clockwise:a.t.Counterclockwise}function u(v,m,g){return g.x<=Math.max(v.x,m.x)&&g.x>=Math.min(v.x,m.x)&&g.y<=Math.max(v.y,m.y)&&g.y>=Math.min(v.y,m.y)}},599082:function(ve,z,e){function D(h,C){if(h&&C)return{x:C.x-h.x,y:C.y-h.y}}e.d(z,{w1:function(){return D}})},742976:function(ve,z,e){e.d(z,{Iu:function(){return j},Ne:function(){return U},O3:function(){return s},RV:function(){return p},Re:function(){return D},UD:function(){return h},Uc:function(){return P},WQ:function(){return E},aI:function(){return u},l7:function(){return x},lA:function(){return c},o8:function(){return v},oF:function(){return l},pG:function(){return d},qL:function(){return T},sQ:function(){return n},y$:function(){return N}});var a=e(18122),i=e(744774);function d(F){return F.left+F.width}function n(F){return F.top+F.height}function c(F){return{x:F.left,y:F.top}}function s(F){return{x:F.left+F.width,y:F.top}}function p(F){return{x:F.left,y:F.top+F.height}}function l(F){return{x:F.left+F.width,y:F.top+F.height}}function u(F,R){return null!=R&&F.left===R.left&&F.top===R.top&&F.width===R.width&&F.height===R.height}function v(F){return null!==F?{left:F.left,top:F.top,width:F.width,height:F.height}:null}function E(F,R){return a.Y.assertValue(F,"rect"),a.Y.assertValue(R,"rect2"),{left:F.left+R.left,top:F.top+R.top,height:F.height+R.height,width:F.width+R.width}}function D(F,R){return a.Y.assertValue(F,"rect"),a.Y.assertValue(R,"rect2"),{left:F.left-R.left,top:F.top-R.top,height:F.height-R.height,width:F.width-R.width}}function h(F,R){var B=v(F);return B?(R&&(B.left-=R.left,B.top-=R.top,B.width+=R.left+R.right,B.height+=R.top+R.bottom),B):null}function P(F,R,B=!1){return null!==F&&null!==R&&(B?(0,i.Yt)(F.left,R.x)&&(0,i.Yt)(R.x,F.left+F.width)&&(0,i.Yt)(F.top,R.y)&&(0,i.Yt)(R.y,F.top+F.height):(0,i.D9)(F.left,R.x)&&(0,i.D9)(R.x,F.left+F.width)&&(0,i.D9)(F.top,R.y)&&(0,i.D9)(R.y,F.top+F.height))}function T(F,R){return!(!F||!R||R.left>F.left+F.width||R.left+R.width<F.left||R.top>F.top+F.height||R.top+R.height<F.top)}function N(F,R){if(!F)return R;if(!R)return F;var B=Math.max(F.left,R.left),A=Math.max(F.top,R.top),W=Math.min(F.left+F.width,R.left+R.width),G=Math.min(F.top+F.height,R.top+R.height);return B<=W&&A<=G?{left:B,top:A,width:W-B,height:G-A}:{left:0,top:0,width:0,height:0}}function x(F){return{x:F.left+F.width/2,y:F.top+F.height/2}}function j(F,R){var B=R.width||0,A=R.height||0;F.left+F.width>B&&(F.left=Math.max(B-F.width,0)),F.top+F.height>A&&(F.top=Math.max(A-F.height,0)),F.left=Math.max(0,F.left),F.top=Math.max(0,F.top)}function U(F,R,B,A){return void 0!==F&&void 0!==R&&void 0!==B&&void 0!==A&&(a.Y.assert(()=>F<=R,"Lower bound for range should not be greater than upper bound."),a.Y.assert(()=>B<=A,"Lower bound for range should not be greater than upper bound."),(0,i.D9)(F,A)&&(0,i.D9)(B,R))}},224015:function(ve,z,e){e.d(z,{t:function(){return t}});var a=e(736341),i=e(959852),r=e(742976);class t{constructor(d){d&&(this.polygonPoints=this.convertArrayPathToPoints(d))}static fromPolygonPoints(d){var n=new t(null);return n.polygonPoints=d,n}absoluteCentroid(){return null==this._absoluteCentroid&&(this._absoluteCentroid=this.calculatePolygonCentroid()),this._absoluteCentroid}absoluteBoundingRect(){return null==this._absoluteBoundingRect&&(this._absoluteBoundingRect=this.calculateBoundingRect()),this._absoluteBoundingRect}contains(d){var c={x:d.left+d.width,y:d.top},s={x:d.left,y:d.top+d.height},p={x:d.left+d.width,y:d.top+d.height};return this.inside({x:d.left,y:d.top})&&this.inside(c)&&this.inside(s)&&this.inside(p)}conflicts(d){if(!this.isConflictWithBoundingBox(d))return!1;var c={x:d.left+d.width/2,y:d.top},s={x:d.left+d.width,y:d.top},p={x:d.left,y:d.top+d.height},l={x:d.left+d.width/2,y:d.top+d.height},u={x:d.left+d.width,y:d.top+d.height},v={x:d.left,y:d.top+d.height/2},m={x:d.left+d.width,y:d.top+d.height/2};return this.inside({x:d.left,y:d.top})||this.inside(c)||this.inside(s)||this.inside(p)||this.inside(l)||this.inside(u)||this.inside(v)||this.inside(m)}lineIntersectionPoint(d,n){for(var c=0;c<this.polygonPoints.length;c++){var l=this.getLineIntersection(d,n,this.polygonPoints[c],c===this.polygonPoints.length-1?this.polygonPoints[0]:this.polygonPoints[c+1]);if(null!==l)return l}return null}static calculateAbsolutePolygonArea(d){var n,c=1,s=0;for(n=0;n<d.length;n++)s+=d[n].x*d[c].y-d[c].x*d[n].y,c=(c+1)%d.length;return.5*s}overlapPath(d){if(this.inside({x:d[0],y:d[1]}))return!0;var n=new t(d);if(n.inside(this.polygonPoints[0]))return!0;for(var c=0;c<this.polygonPoints.length;c++)if(n.lineIntersectionPoint(this.polygonPoints[c],this.polygonPoints[(c+1)%this.polygonPoints.length]))return!0;return!1}inside(d){for(var n=d.x,c=d.y,s=!1,p=0,l=this.polygonPoints.length-1;p<this.polygonPoints.length;l=p++){var u=this.polygonPoints[p].x,v=this.polygonPoints[p].y,g=this.polygonPoints[l].y;v>c!=g>c&&n<(this.polygonPoints[l].x-u)*(c-v)/(g-v)+u&&(s=!s)}return s}static translateX(d,n){for(var c=new Float64Array(2*d.polygonPoints.length),s=0;s<d.polygonPoints.length;s++)c[2*s]=d.polygonPoints[s].x+n,c[2*s+1]=d.polygonPoints[s].y;return new t(c)}static polygonBoundsOverlap(d,n){var c=(0,r.Ne)(t.getPolyBoundLeft(d),t.getPolyBoundRight(d),t.getPolyBoundLeft(n),t.getPolyBoundRight(n)),s=(0,r.Ne)(t.getPolyBoundLower(d),t.getPolyBoundUpper(d),t.getPolyBoundLower(n),t.getPolyBoundUpper(n));return c&&s}static circleRectangleOverlap(d,n,c){var s=Math.max(d.left,Math.min(n.x,d.right)),p=Math.min(d.bottom,Math.max(n.y,d.top)),l=s-n.x,u=p-n.y;return l*l+u*u<=c*c}static linesIntersect(d,n,c,s,p=!0){var l=(0,i.Y0)(d,n,c),u=(0,i.Y0)(d,n,s),v=(0,i.Y0)(c,s,d),m=(0,i.Y0)(c,s,n);return l!==u&&v!==m||!!p&&!!(l===a.t.Colinear&&(0,i.ZJ)(d,n,c)||u===a.t.Colinear&&(0,i.ZJ)(d,n,s)||v===a.t.Colinear&&(0,i.ZJ)(c,s,d)||m===a.t.Colinear&&(0,i.ZJ)(c,s,n))}static resize(d,n){if(0===n)return d;for(var c=t.calculateAbsolutePolygonArea(d.polygonPoints)>0,p=_.clone(n>0&&!0===c||n<0&&!1===c?d.polygonPoints.reverse():d.polygonPoints),l=d.absoluteCentroid(),u=[],v=0;v<p.length;v++){var m=p[v],g=p[(v+1)%p.length],E=g.y-m.y,D=void 0;0!==E&&(D=-(g.x-m.x)/E);var h=0;_.isUndefined(D)||(h=(m.y<g.y?-1:1)*Math.sqrt(n*n/(1+D*D)));var C=0;0===h?C=(m.x>g.x?-1:1)*n:_.isUndefined(D)||(C=D*h);var y={x:m.x+h,y:m.y+C},f={x:0,y:0};0===D?(f.x=y.x,f.y=y.y+10):_.isUndefined(D)||(f.x=y.x+10,f.y=y.y-10/D);var S=(y.x-f.x)*(l.y-m.y)-(y.y-f.y)*(l.x-m.x);if(0!==S){var b={x:((y.x*f.y-y.y*f.x)*(l.x-m.x)-(y.x-f.x)*(l.x*m.y-l.y*m.x))/S,y:((y.x*f.y-y.y*f.x)*(l.y-m.y)-(y.y-f.y)*(l.x*m.y-l.y*m.x))/S};isFinite(b.x)&&isFinite(b.y)&&u.push(b)}}return t.fromPolygonPoints(u)}static getPolyBoundLeft(d){return _.minBy(d.polygonPoints,n=>n.x)?.x}static getPolyBoundRight(d){return _.maxBy(d.polygonPoints,n=>n.x)?.x}static getPolyBoundUpper(d){return _.maxBy(d.polygonPoints,n=>n.y)?.y}static getPolyBoundLower(d){return _.minBy(d.polygonPoints,n=>n.y)?.y}isConflictWithBoundingBox(d){return(0,r.qL)(this.absoluteBoundingRect(),d)}calculatePolygonCentroid(){var d,n,c,s,p,l;for(d=t.calculateAbsolutePolygonArea(this.polygonPoints),c=s=0,l=1,p=0;p<this.polygonPoints.length;p++)c+=(this.polygonPoints[p].x+this.polygonPoints[l].x)*(n=this.polygonPoints[p].x*this.polygonPoints[l].y-this.polygonPoints[l].x*this.polygonPoints[p].y),s+=(this.polygonPoints[p].y+this.polygonPoints[l].y)*n,l=(l+1)%this.polygonPoints.length;return{x:c/=6*d,y:s/=6*d}}calculateBoundingRect(){var d=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY;for(var p of this.polygonPoints)p.x<d?d=p.x:p.x>c&&(c=p.x),p.y<n?n=p.y:p.y>s&&(s=p.y);return{left:d,top:n,width:c-d,height:s-n}}getLineIntersection(d,n,c,s){var p=d.x,l=d.y,m=c.x,g=c.y,h=n.x-p,C=n.y-l,y=s.x-m,f=s.y-g,S=(-C*(p-m)+h*(l-g))/(-y*C+h*f),b=(y*(l-g)-f*(p-m))/(-y*C+h*f);return S>=0&&S<=1&&b>=0&&b<=1?{x:p+b*h,y:l+b*C}:null}convertArrayPathToPoints(d){for(var n=[],c=0;c<d.length;c+=2)n.push({x:d[c],y:d[c+1]});return n}}},756022:function(ve,z,e){e.d(z,{$e:function(){return s},Zp:function(){return n},ff:function(){return c},kX:function(){return o},rh:function(){return d},uT:function(){return l}});var a=e(717954),i=e(18972),r=e(155281),t=e(49467),o="ServerError_";function d(u,v,m){if(!v)return u;for(var g of v){var E=m.getOptional(o+g.code),D=g.detail.value;g.detail.type===a.Ze.ResourceCodeReference&&(D=m.get(o+D)),u.displayableErrorInfo.push({errorInfoKey:E||g.code,errorInfoValue:D})}return u}function n(u,v,m,g,E){var D=u.debugErrorInfo=u.debugErrorInfo||[];return E&&D.push({errorInfoKey:i.Lu,errorInfoValue:E}),v&&D.push({errorInfoKey:i.JM,errorInfoValue:v}),m&&D.push({errorInfoKey:i.vj,errorInfoValue:m}),g&&D.push({errorInfoKey:i.C8,errorInfoValue:g}),u}function c(u,v){return{message:u.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:u.get("ServiceError_CannotLoadVisual"),errorInfoValue:v.message}]}}function s(u,v,m,g){var E,D={};if(m)if(_.isArray(m))for(var h of m)D[h.Key]=h.Value;else D=m;return E={message:p(u,v,D),displayableErrorInfo:[]},g&&d(E,g,u),E}function p(u,v,m){if(!v)return"";var g,E=u.get(o+v);return E&&(g=E.replace(/\{\s*([^}\s]+)\s*\}/g,function(D,h,C,y){return m[h]})),g}function l(u,v){var h,m="",g="",E="",D="",C=!1;switch(v.errorCode){case t.Np:m=u.get("ServiceError_ModelCannotLoad"),g=u.get("PremiumRequired_TitleText"),E=u.get("ServerError_PremiumFilesModelRequiresPremiumCapacity"),C=!0;break;case t.GT:m=u.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),g=u.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),E=p(u,"LargeModelMovedAcrossRegions",v.parameters),D="https://aka.ms/moving-large-datasets",C=!0;break;case t.lv:m=u.get("ServiceError_ModelCannotLoad"),g=u.get("ServiceError_ModelFetchingFailureKey"),E=u.get("DsrError_NoPermissionDueToRLSGroupMessage"),C=!0;break;case t.R_:case t._b:m=u.get("ServiceError_ModelCannotLoad"),g=u.get("ServiceError_ModelFetchingFailureKey"),E=u.get("DsrError_CanNotRetrieveModelMessage"),C=!0;break;case t.iQ:m=u.get("ServiceError_ModelCannotLoad"),g=u.get("ServiceError_ModelFetchingFailureKey"),E=u.get("ServerError_DMTS_NoGatewayWithAllDatasourcesToBindError"),C=!0;break;case t.Gm:m=u.get("ServiceError_ModelCannotLoad"),g=u.get("ServiceError_ModelFetchingFailureKey"),E=u.get("ServerError_DM_GWPipeline_Client_GatewayUnreachable"),C=!0;break;case t.kq:m=u.get("ServiceError_CannotLoadVisual"),g=u.get("ServiceError_AuthenticationErrorKey"),E=u.get("ServiceError_AuthenticationErrorValue"),C=!0;break;case t.tv:m=u.get("ServiceError_CannotLoadVisual"),g=u.get("ServiceError_AuthenticationErrorKey"),E=u.get("ServiceError_WindowsAuthNotSupportedErrorValue"),C=!0;break;case t.$o:m=u.get("ServiceError_CannotLoadVisual"),g=u.get("ServiceError_AuthenticationErrorKey"),E=u.get("ServiceError_WindowsAuthImpersonationNotSupportedErrorValue"),C=!0;break;case t.oK:m=u.get("UploadPowerBICompanion_AccessDatasetWarning"),C=!0;break;case t.y7:m=u.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),g=u.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),E=u.get("ServiceError_InsecureLibraryLoadingPatchMissingMessage"),C=!0;break;case t.GI:m=u.get("ServiceError_ModelCannotLoad"),g=u.get("PremiumRequired_TitleText"),E=u.get("ServerError_BYOKEncryptedModelRequiresPremiumCapacity_Report"),C=!0;break;case t.RD:m=u.get("ServiceError_ModelCannotLoad"),g=u.get("ServiceError_ModelCannotLoad"),E=u.get("ServerError_CustomerKeyNotAccessible_Report"),C=!0;break;case t.Io:m=u.get("ServiceError_ModelCannotLoad"),g=u.get("ServiceError_ModelCannotLoad"),E=u.get("ServerError_CustomerKeyVaultError_Report"),C=!0;break;case t.f3:m=u.get("ServiceError_ModelCannotLoad_CapacityLimitExceeded"),g=u.get("ServiceError_ModelCannotLoad_CapacityLimitExceeded"),E=u.get("ServiceError_CapacityOverloadedMessage"),D="https://aka.ms/AboutFabricCapacity",C=!0,h="Capacity_Limit_Exceeded_LearnMore"}if(!C)switch(v.statusCode){case t.Lj.CsdlConvertXmlToConceptualSchema:m=u.get("ServiceError_ModelCannotLoad"),g=u.get("ServiceError_ModelConvertFailureKey"),E=u.get("ServiceError_ModelConvertFailureValue");break;case t.Lj.CsdlCreateClientSchema:m=u.get("ServiceError_ModelCannotLoad"),g=u.get("ServiceError_ModelCreationFailureKey"),E=u.get("ServiceError_ModelCreationFailureValue");break;case t.Lj.CsdlFetching:case t.Lj.GetSchemaDataSetError:if(m=u.get("ServiceError_ModelCannotLoad"),g=u.get("ServiceError_ModelCannotLoad"),v.errorDetails){var y=_.find(v.errorDetails,S=>"ModelMode"===S.code);if(y)switch(y.detail.value){case"Internal":E=u.get("ServiceError_ModelConnectFailureInternalValue");break;case"ExternalOnPrem":E=u.get("ServiceError_ModelConnectFailureASLiveValue");break;case"ExternalService":E=u.get("ServiceError_ModelConnectFailurePBIServiceValue")}}E||(E=u.get("ServiceError_ModelFetchingFailureValue"));break;case t.Lj.ExecuteSemanticQueryError:m=u.get("ServiceError_CannotLoadVisual"),g=u.get("ServiceError_ExecuteSemanticQueryErrorKey"),E=u.get("ServiceError_ExecuteSemanticQueryErrorValue");break;case t.Lj.ExecuteSemanticQueryInvalidStreamFormat:m=u.get("ServiceError_CannotLoadVisual"),g=u.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatKey"),E=u.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatValue");break;default:m=u.get("ServiceError_GeneralError"),g=u.get("ServiceError_GeneralErrorKey"),E=u.get("ServiceError_GeneralErrorValue")}var f={message:m,displayableErrorInfo:[{errorInfoKey:g,errorInfoValue:E}]};return v.errorCode===t.f3&&(f.helpLinkType=r.Qs.LearnMore),h&&(f.helpLinkOverrideText=h),D&&(f.helpLink=D),f}},514882:function(ve,z,e){e.d(z,{c:function(){return o}});var a=e(18122),t={conditionalFormattingDialogIcons:{SignLow:{svgId:"SignLow",description:{resourceKey:"Icon_SignLow"}},SignMedium:{svgId:"SignMedium",description:{resourceKey:"Icon_SignMedium"}},CircleGreenPatternFill:{svgId:"CircleGreenPatternFill",description:{resourceKey:"Icon_CircleGreenPatternFill"}},CircleYellowPatternFill:{svgId:"CircleYellowPatternFill",description:{resourceKey:"Icon_CircleYellowPatternFill"}},CircleRedPatternFill:{svgId:"CircleRedPatternFill",description:{resourceKey:"Icon_CircleRedPatternFill"}},CircleBlackFill:{svgId:"CircleBlackFill",description:{resourceKey:"Icon_4CircleLow"}},CircleGrayPatternFill:{svgId:"CircleGrayPatternFill",description:{resourceKey:"Icon_CircleGrayPatternFill"}},CirclePurplePatternFill:{svgId:"CirclePurplePatternFill",description:{resourceKey:"Icon_CirclePurplePatternFill"}},CircleHigh:{svgId:"CircleHigh",description:{resourceKey:"Icon_CircleHigh"}},CircleMedium:{svgId:"CircleMedium",description:{resourceKey:"Icon_CircleMedium"}},CircleLow:{svgId:"CircleLow",description:{resourceKey:"Icon_4CircleHigh"}},"4CircleLow":{svgId:"4CircleLow",description:{resourceKey:"Icon_4CircleLow"}},CircleMedium1:{svgId:"CircleMedium1",description:{resourceKey:"Icon_CircleMedium1"}},"4CircleMedium2":{svgId:"4CircleMedium2",description:{resourceKey:"Icon_4CircleMedium2"}},CircleEmpty:{svgId:"CircleEmpty",description:{resourceKey:"Icon_CircleEmpty"}},Circle25:{svgId:"Circle25",description:{resourceKey:"Icon_Circle25"}},CircleHalf:{svgId:"CircleHalf",description:{resourceKey:"Icon_CircleHalf"}},Circle75:{svgId:"Circle75",description:{resourceKey:"Icon_Circle75"}},CircleFilled:{svgId:"CircleFilled",description:{resourceKey:"Icon_CircleFilled"}},CircleGreenBlackBackgroundPatternFill:{svgId:"CircleGreenBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleGreenBlackBackgroundPatternFill"}},CircleYellowBlackBackgroundPatternFill:{svgId:"CircleYellowBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleYellowBlackBackgroundPatternFill"}},CircleRedBlackBackgroundPatternFill:{svgId:"CircleRedBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleRedBlackBackgroundPatternFill"}},TrafficLow:{svgId:"TrafficLow",description:{resourceKey:"Icon_TrafficLow"}},TrafficMedium:{svgId:"TrafficMedium",description:{resourceKey:"Icon_TrafficMedium"}},TrafficHigh:{svgId:"TrafficHigh",description:{resourceKey:"Icon_TrafficHigh"}},TrafficBlackRimmed:{svgId:"TrafficBlackRimmed",description:{resourceKey:"Icon_TrafficBlackRimmed"}},CircleRedBlackOutlinePatternFill:{svgId:"CircleRedBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleRedBlackOutlinePatternFill"}},CircleYellowBlackOutlinePatternFill:{svgId:"CircleYellowBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleYellowBlackOutlinePatternFill"}},CircleGreenBlackOutlinePatternFill:{svgId:"CircleGreenBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleGreenBlackOutlinePatternFill"}},TrafficLowLight:{svgId:"TrafficLowLight",description:{resourceKey:"Icon_TrafficLowLight"}},TrafficMediumLight:{svgId:"TrafficMediumLight",description:{resourceKey:"Icon_TrafficMediumLight"}},TrafficHighLight:{svgId:"TrafficHighLight",description:{resourceKey:"Icon_TrafficHighLight"}},TrafficBlackRimmedLight:{svgId:"TrafficBlackRimmedLight",description:{resourceKey:"Icon_TrafficBlackRimmedLight"}},ColoredArrowDown:{svgId:"ColoredArrowDown",description:{resourceKey:"Icon_ColoredArrowDown"}},ColoredArrowDownRight:{svgId:"ColoredArrowDownRight",description:{resourceKey:"Icon_ColoredArrowDownRight"}},ColoredArrowRight:{svgId:"ColoredArrowRight",description:{resourceKey:"Icon_ColoredArrowRight"}},ColoredArrowUpRight:{svgId:"ColoredArrowUpRight",description:{resourceKey:"Icon_ColoredArrowUpRight"}},ColoredArrowUp:{svgId:"ColoredArrowUp",description:{resourceKey:"Icon_ColoredArrowUp"}},ColoredArrowUpRed:{svgId:"ColoredArrowUpRed",description:{resourceKey:"Icon_ColoredArrowUpRed"}},ColoredArrowDownGreen:{svgId:"ColoredArrowDownGreen",description:{resourceKey:"Icon_ColoredArrowDownGreen"}},GreyArrowDown:{svgId:"GreyArrowDown",description:{resourceKey:"Icon_GreyArrowDown"}},GreyArrowDownRight:{svgId:"GreyArrowDownRight",description:{resourceKey:"Icon_GreyArrowDownRight"}},GreyArrowRight:{svgId:"GreyArrowRight",description:{resourceKey:"Icon_GreyArrowRight"}},GreyArrowUpRight:{svgId:"GreyArrowUpRight",description:{resourceKey:"Icon_GreyArrowUpRight"}},GreyArrowUp:{svgId:"GreyArrowUp",description:{resourceKey:"Icon_GreyArrowUp"}},FlagRedPatternFill:{svgId:"FlagRedPatternFill",description:{resourceKey:"Icon_FlagLow"}},FlagYellowPatternFill:{svgId:"FlagYellowPatternFill",description:{resourceKey:"Icon_FlagMedium"}},FlagGreenPatternFill:{svgId:"FlagGreenPatternFill",description:{resourceKey:"Icon_FlagHigh"}},FlagLow:{svgId:"FlagLow",description:{resourceKey:"Icon_FlagLow"}},FlagMedium:{svgId:"FlagMedium",description:{resourceKey:"Icon_FlagMedium"}},FlagHigh:{svgId:"FlagHigh",description:{resourceKey:"Icon_FlagHigh"}},FlagBlack:{svgId:"FlagBlack",description:{resourceKey:"Icon_FlagBlack"}},SymbolLow:{svgId:"SymbolLow",description:{resourceKey:"Icon_SymbolLow"}},SymbolMedium:{svgId:"SymbolMedium",description:{resourceKey:"Icon_SymbolMedium"}},SymbolHigh:{svgId:"SymbolHigh",description:{resourceKey:"Icon_SymbolHigh"}},CircleSymbolLow:{svgId:"CircleSymbolLow",description:{resourceKey:"Icon_CircleSymbolLow"}},CircleSymbolMedium:{svgId:"CircleSymbolMedium",description:{resourceKey:"Icon_CircleSymbolMedium"}},CircleSymbolHigh:{svgId:"CircleSymbolHigh",description:{resourceKey:"Icon_CircleSymbolHigh"}},StarLow:{svgId:"StarLow",description:{resourceKey:"Icon_StarLow"}},StarMedium:{svgId:"StarMedium",description:{resourceKey:"Icon_StarMedium"}},StarHigh:{svgId:"StarHigh",description:{resourceKey:"Icon_StarHigh"}},StarMediumLight:{svgId:"StarMediumLight",description:{resourceKey:"Icon_StarMediumLight"}},StarHighLight:{svgId:"StarHighLight",description:{resourceKey:"Icon_StarHighLight"}},TriangleLow:{svgId:"TriangleLow",description:{resourceKey:"Icon_TriangleLow"}},TriangleMedium:{svgId:"TriangleMedium",description:{resourceKey:"Icon_TriangleMedium"}},TriangleHigh:{svgId:"TriangleHigh",description:{resourceKey:"Icon_TriangleHigh"}},SignalBarEmpty:{svgId:"SignalBarEmpty",description:{resourceKey:"Icon_SignalBarEmpty"}},SignalBarLow:{svgId:"SignalBarLow",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMedium:{svgId:"SignalBarMedium",description:{resourceKey:"Icon_SignalBarMedium"}},SignalBarMedium2:{svgId:"SignalBarMedium2",description:{resourceKey:"Icon_SignalBarMedium2"}},SignalBarFull:{svgId:"SignalBarFull",description:{resourceKey:"Icon_SignalBarFull"}},SignalBarLowColored:{svgId:"SignalBarLowColored",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMediumColored:{svgId:"SignalBarMediumColored",description:{resourceKey:"Icon_SignalBarMediumColored"}},SignalBarMedium2Colored:{svgId:"SignalBarMedium2Colored",description:{resourceKey:"Icon_SignalBarMedium2Colored"}},SignalBarFullColored:{svgId:"SignalBarFullColored",description:{resourceKey:"Icon_SignalBarFullColored"}},QuadrantEmpty:{svgId:"QuadrantEmpty",description:{resourceKey:"Icon_QuadrantEmpty"}},Quadrant25:{svgId:"Quadrant25",description:{resourceKey:"Icon_Quadrant25"}},Quadrant50:{svgId:"Quadrant50",description:{resourceKey:"Icon_Quadrant50"}},Quadrant75:{svgId:"Quadrant75",description:{resourceKey:"Icon_Quadrant75"}},QuadrantFull:{svgId:"QuadrantFull",description:{resourceKey:"Icon_QuadrantFull"}},Quadrant25Colored:{svgId:"Quadrant25Colored",description:{resourceKey:"Icon_Quadrant25Colored"}},Quadrant50Colored:{svgId:"Quadrant50Colored",description:{resourceKey:"Icon_Quadrant50Colored"}},Quadrant75Colored:{svgId:"Quadrant75Colored",description:{resourceKey:"Icon_Quadrant75Colored"}},QuadrantFullColored:{svgId:"QuadrantFullColored",description:{resourceKey:"Icon_QuadrantFullColored"}}},mapIcons:{Bicycle:{svgId:"Bicycle",description:{resourceKey:"Icon_Bicycle"}},Airplane:{svgId:"Airplane",description:{resourceKey:"Icon_Airplane"}},Truck:{svgId:"Truck",description:{resourceKey:"Icon_Truck"}},Car:{svgId:"Car",description:{resourceKey:"Icon_Car"}},Ship:{svgId:"Ship",description:{resourceKey:"Icon_Ship"}},Medical_Briefcase:{svgId:"Medical_Briefcase",description:{resourceKey:"Icon_Medical_Briefcase"}},Doctor:{svgId:"Doctor",description:{resourceKey:"Icon_Doctor"}},Tree:{svgId:"Tree",description:{resourceKey:"Icon_Tree"}},Circle:{svgId:"Circle",description:{resourceKey:"Icon_Circle"}},Square:{svgId:"Square",description:{resourceKey:"Icon_Square"}},Triangle:{svgId:"Triangle",description:{resourceKey:"Icon_Triangle"}},Diamond:{svgId:"Diamond",description:{resourceKey:"Icon_Diamond"}},Pin:{svgId:"Pin",description:{resourceKey:"Icon_Pin"}},Location:{svgId:"Location",description:{resourceKey:"Icon_Location"}},Location_Checkmark:{svgId:"Location_Checkmark",description:{resourceKey:"Icon_Location_Checkmark"}},Location_Add:{svgId:"Location_Add",description:{resourceKey:"Icon_Location_Add"}},Location_Arrow:{svgId:"Location_Arrow",description:{resourceKey:"Icon_Location_Arrow"}},Home:{svgId:"Home",description:{resourceKey:"Icon_Home"}},Flag:{svgId:"Flag",description:{resourceKey:"Icon_Flag"}},Dismiss:{svgId:"Dismiss",description:{resourceKey:"Icon_Dismiss"}},Subway:{svgId:"Subway",description:{resourceKey:"Icon_Subway"}},Signal:{svgId:"Signal",description:{resourceKey:"Icon_Signal"}},Tower_Signal:{svgId:"Tower_Signal",description:{resourceKey:"Icon_Tower_Signal"}},Briefcase:{svgId:"Briefcase",description:{resourceKey:"Icon_Briefcase"}},Building:{svgId:"Building",description:{resourceKey:"Icon_Building"}}}};function o(d){return d in t||a.Y.assertFail(`Icon sheet "${d}" not found in iconRegistry`),{iconSheet:d,themeIcons:t[d]}}},865429:function(ve,z,e){e.d(z,{t:function(){return i}});var i=typeof window.performance<"u"&&window.performance.now&&window.performance.timeOrigin?()=>window.performance.now()+window.performance.timeOrigin:Date.now},523908:function(ve,z,e){e.d(z,{D:function(){return n},bQ:function(){return c},eH:function(){return d}});var a=e(717954),i=e(155281),r=e(18122),t=e(756022),o=e(49467),d=(()=>{class s{get code(){return this.m_serviceError.errorCode||s.codeName}get ignorable(){return!1}get requestId(){return this.httpRequestId}set requestId(l){this.httpRequestId=l}get source(){var l=this.m_serviceError.exceptionCulprit;if(null!=l)switch(l){case o.iw:case o.Nf:return i.gf.PowerBI;case o.eZ:return i.gf.External;case o.Qw:return i.gf.User;default:return r.Y.assertFail("exceptionCulprit: unrecognized value"),i.gf.PowerBI}}constructor(l){this.message=l.message?l.message:"",this.m_serviceError=l}getDetails(l){var u;return u=this.m_serviceError.statusCode===o.Lj.ExecuteSemanticQueryTransformError?(0,t.ff)(l,this.m_serviceError):(0,t.uT)(l,this.m_serviceError),this.m_serviceError.errorDetails&&(0,t.rh)(u,this.m_serviceError.errorDetails,l),(0,t.Zp)(u,this.code,this.m_serviceError.message||null,this.m_serviceError.stackTrace||null,this.httpRequestId),u.source=this.source,u}}return s.codeName="ServiceErrorToClientError",s})();class n{constructor(p){this.innerError=p}get code(){return this.innerError.code}get ignorable(){return!1}get source(){var p=this.innerError["pbi.error"],l=p&&p.exceptionCulprit;if(null!=l)switch(l){case a.HH.System:return i.gf.PowerBI;case a.HH.External:return i.gf.External;case a.HH.User:return i.gf.User;default:return r.Y.assertFail("exceptionCulprit: unrecognized value"),i.gf.PowerBI}}getDetails(p){var l=this.innerError["pbi.error"];if(l){var u=(0,t.$e)(p,l.code,l.parameters,l.details);return u.source=this.source,u}}}var c=(()=>{class s{constructor(){}get code(){return s.Code}get ignorable(){return!1}get source(){return i.gf.User}getDetails(l){}}return s.Code="TooManyRequests",s})()},49467:function(ve,z,e){e.d(z,{$o:function(){return l},GG:function(){return h},GI:function(){return P},GT:function(){return i},Gm:function(){return c},Io:function(){return N},Lj:function(){return O},Nf:function(){return b},Np:function(){return a},OF:function(){return E},Pu:function(){return y},Q3:function(){return g},Qw:function(){return V},RD:function(){return T},R_:function(){return t},V:function(){return w},W$:function(){return m},_b:function(){return d},cP:function(){return s},eZ:function(){return M},f3:function(){return I},fv:function(){return D},iQ:function(){return n},iw:function(){return S},kq:function(){return p},lv:function(){return r},my:function(){return o},oK:function(){return f},qA:function(){return v},tv:function(){return u},y7:function(){return C}});var a="PremiumFilesModelRequiresPremiumCapacity",i="LargeModelMovedAcrossRegions",r="rsAccessDeniedDueToRLSGroup",t="rsCannotRetrieveModel",o="RLSNotAuthorizedForModel",d="CannotRetrieveModelError",n="DMTS_NoGatewayWithAllDatasourcesToBindError",c="DM_GWPipeline_UnknownError",s="DM_GWPipeline_Gateway_GatewayUpgradeRequired",p="pbidAccessDenied",l="pbidWindowsAuthWindowsAuthImpersonationNotSupported",u="pbidWindowsAuthNotSupported",v="PowerBIAdomdErrorResponseExternal",m="PowerBIAdomdErrorResponseSystem",g="PowerBIAdomdErrorResponseUser",E="ConnectionThrottledDueToCapacityOverload",D="DatasourceNotFound",h="DatabaseDoesNotExistOrUserDoesNotHavePermission",C="InsecureLibraryLoadingPatchMissing",y="MaximumAllowableMemoryReached",f="PowerBIServiceLiveConnectModelNotFound",S="System",b="PowerBI",V="User",M="External",P="BYOKEncryptedModelRequiresPremiumCapacity",T="CustomerKeyNotAccessible",N="CustomerKeyVaultError",w="rsOrphanedModel",I="CapacityLimitExceeded",O=function(x){return x[x.GeneralError=0]="GeneralError",x[x.CsdlFetching=1]="CsdlFetching",x[x.CsdlConvertXmlToConceptualSchema=2]="CsdlConvertXmlToConceptualSchema",x[x.CsdlCreateClientSchema=3]="CsdlCreateClientSchema",x[x.ExecuteSemanticQueryError=4]="ExecuteSemanticQueryError",x[x.ExecuteSemanticQueryInvalidStreamFormat=5]="ExecuteSemanticQueryInvalidStreamFormat",x[x.ExecuteSemanticQueryTransformError=6]="ExecuteSemanticQueryTransformError",x[x.TranslateSemanticQueryInvalidStreamFormat=7]="TranslateSemanticQueryInvalidStreamFormat",x[x.TranslateSemanticQueryError=8]="TranslateSemanticQueryError",x[x.GetSchemaDataSetError=9]="GetSchemaDataSetError",x}({})},404192:function(ve,z,e){e.d(z,{$u:function(){return n},BG:function(){return s},Oo:function(){return o},ls:function(){return i}});var a=e(501285);function i(){return(0,a.N0)().build}function o(){return(0,a.N0)().clientVersion}function n(){return(0,a.N0)().cvUrl}function s(){return(0,a.N0)().visualCDNBlobContainerUrl}},254681:function(ve,z,e){e.d(z,{k:function(){return i}});var a=e(18122);function i(){var t={GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories",GeotaggingString_VRMBackCompat_CountryRegion:"CountryRegion",GeotaggingString_VRMBackCompat_StateOrProvince:"StateOrProvince"};class o{constructor(n){this.getLocalized=n,this.GeotaggingString_VRMBackCompat_CountryRegion="CountryRegion",this.GeotaggingString_VRMBackCompat_StateOrProvince="StateOrProvince",this.ensureCategoriesArePopulated()}ensureCategoriesArePopulated(){if(this.GeotaggingString_Continent)return!0;var n=this.getLocalized,c=n("GeotaggingString_Continent");return null==c?(a.Y.assertFail("We attempted to initialize the geotaggingAnalyzerService before getLocalized is initialized when the localization should be initialized first."),!1):(this.GeotaggingString_Continent=c.toLowerCase(),this.GeotaggingString_Continents=n("GeotaggingString_Continents").toLowerCase(),this.GeotaggingString_Country=n("GeotaggingString_Country").toLowerCase(),this.GeotaggingString_Countries=n("GeotaggingString_Countries").toLowerCase(),this.GeotaggingString_State=n("GeotaggingString_State").toLowerCase(),this.GeotaggingString_States=n("GeotaggingString_States").toLowerCase(),this.GeotaggingString_City=n("GeotaggingString_City").toLowerCase(),this.GeotaggingString_Cities=n("GeotaggingString_Cities").toLowerCase(),this.GeotaggingString_Town=n("GeotaggingString_Town").toLowerCase(),this.GeotaggingString_Towns=n("GeotaggingString_Towns").toLowerCase(),this.GeotaggingString_Province=n("GeotaggingString_Province").toLowerCase(),this.GeotaggingString_Provinces=n("GeotaggingString_Provinces").toLowerCase(),this.GeotaggingString_County=n("GeotaggingString_County").toLowerCase(),this.GeotaggingString_Counties=n("GeotaggingString_Counties").toLowerCase(),this.GeotaggingString_Village=n("GeotaggingString_Village").toLowerCase(),this.GeotaggingString_Villages=n("GeotaggingString_Villages").toLowerCase(),this.GeotaggingString_Post=n("GeotaggingString_Post").toLowerCase(),this.GeotaggingString_Zip=n("GeotaggingString_Zip").toLowerCase(),this.GeotaggingString_Code=n("GeotaggingString_Code").toLowerCase(),this.GeotaggingString_Place=n("GeotaggingString_Place").toLowerCase(),this.GeotaggingString_Places=n("GeotaggingString_Places").toLowerCase(),this.GeotaggingString_Address=n("GeotaggingString_Address").toLowerCase(),this.GeotaggingString_Addresses=n("GeotaggingString_Addresses").toLowerCase(),this.GeotaggingString_Street=n("GeotaggingString_Street").toLowerCase(),this.GeotaggingString_Streets=n("GeotaggingString_Streets").toLowerCase(),this.GeotaggingString_Longitude=n("GeotaggingString_Longitude").toLowerCase(),this.GeotaggingString_Longitude_Short=n("GeotaggingString_Longitude_Short").toLowerCase(),this.GeotaggingString_Longitude_Short2=n("GeotaggingString_Longitude_Short2").toLowerCase(),this.GeotaggingString_Latitude=n("GeotaggingString_Latitude").toLowerCase(),this.GeotaggingString_Latitude_Short=n("GeotaggingString_Latitude_Short").toLowerCase(),this.GeotaggingString_PostalCode=n("GeotaggingString_PostalCode").toLowerCase(),this.GeotaggingString_PostalCodes=n("GeotaggingString_PostalCodes").toLowerCase(),this.GeotaggingString_ZipCode=n("GeotaggingString_ZipCode").toLowerCase(),this.GeotaggingString_ZipCodes=n("GeotaggingString_ZipCodes").toLowerCase(),this.GeotaggingString_Territory=n("GeotaggingString_Territory").toLowerCase(),this.GeotaggingString_Territories=n("GeotaggingString_Territories").toLowerCase(),!0)}isLongitudeOrLatitude(n){return!!this.ensureCategoriesArePopulated()&&(this.isLongitude(n)||this.isLatitude(n))}isGeographic(n){return!!this.ensureCategoriesArePopulated()&&(this.isLongitudeOrLatitude(n)||this.isGeocodable(n))}isGeocodable(n){return!!this.ensureCategoriesArePopulated()&&(this.isAddress(n)||this.isCity(n)||this.isContinent(n)||this.isCountry(n)||this.isCounty(n)||this.isStateOrProvince(n)||this.isPlace(n)||this.isPostalCode(n)||this.isTerritory(n))}isGeoshapable(n){return!!this.ensureCategoriesArePopulated()&&(this.isCity(n)||this.isContinent(n)||this.isCountry(n)||this.isCounty(n)||this.isStateOrProvince(n)||this.isPostalCode(n)||this.isTerritory(n)||this.isPlace(n)||this.isGeoshapableEnglish(n))}isGeoshapableEnglish(n){return!!this.ensureCategoriesArePopulated()&&(this.isEnglishCity(n)||this.isEnglishContinent(n)||this.isEnglishCountry(n)||this.isEnglishCounty(n)||this.isEnglishStateOrProvince(n)||this.isEnglishPostalCode(n)||this.isEnglishTerritory(n)||this.isEnglishPlace(n))}isAddress(n){return o.hasMatches(n,[this.GeotaggingString_Address,this.GeotaggingString_Addresses,this.GeotaggingString_Street,this.GeotaggingString_Streets])}isPlace(n){return o.hasMatches(n,[this.GeotaggingString_Place,this.GeotaggingString_Places])}isCity(n){return o.hasMatches(n,[this.GeotaggingString_City,this.GeotaggingString_Cities,this.GeotaggingString_Town,this.GeotaggingString_Towns,this.GeotaggingString_Village,this.GeotaggingString_Villages])}isStateOrProvince(n){return o.hasMatches(n,[this.GeotaggingString_State,this.GeotaggingString_States,this.GeotaggingString_Province,this.GeotaggingString_Provinces,this.GeotaggingString_VRMBackCompat_StateOrProvince])}isCountry(n){return o.hasMatches(n,[this.GeotaggingString_Country,this.GeotaggingString_Countries,this.GeotaggingString_VRMBackCompat_CountryRegion])}isCounty(n){return o.hasMatches(n,[this.GeotaggingString_County,this.GeotaggingString_Counties])}isContinent(n){return o.hasMatches(n,[this.GeotaggingString_Continent,this.GeotaggingString_Continents])}isPostalCode(n){var c=o.hasMatches(n,[this.GeotaggingString_Post,this.GeotaggingString_Zip])&&o.hasMatches(n,[this.GeotaggingString_Code])||o.hasMatches(n,[this.GeotaggingString_PostalCode,this.GeotaggingString_PostalCodes,this.GeotaggingString_ZipCode,this.GeotaggingString_ZipCodes]);if(!c){var s=/\s+/,p=n.replace(s,"");c=o.hasMatches(p,[this.GeotaggingString_PostalCode.replace(s,""),this.GeotaggingString_PostalCodes.replace(s,""),this.GeotaggingString_ZipCode.replace(s,""),this.GeotaggingString_ZipCodes.replace(s,"")])}return c}isLongitude(n){return o.hasMatches(n,[this.GeotaggingString_Longitude])||o.hasMatches(n,[this.GeotaggingString_Longitude_Short],!0)||o.hasMatches(n,[this.GeotaggingString_Longitude_Short2],!0)}isLatitude(n){return o.hasMatches(n,[this.GeotaggingString_Latitude])||o.hasMatches(n,[this.GeotaggingString_Latitude_Short],!0)}isTerritory(n){return o.hasMatches(n,[this.GeotaggingString_Territory,this.GeotaggingString_Territories])}static hasMatches(n,c,s){for(var p=/\W/,l=n.toLowerCase(),u=0,v=c.length;u<v;u++){var m=c[u].toLowerCase();if(s){var g=l.indexOf(m);if(g>-1){var E=void 0,D=void 0;if(E=D=!0,g-1>0&&(D=p.test(l[g-1])),g+m.length<l.length&&(E=p.test(l[g+m.length])),D&&E)return!0}}else if(l.indexOf(m)>-1)return!0}return!1}getFieldType(n){if(this.ensureCategoriesArePopulated()&&void 0!==n)return this.isLatitude(n)?"Latitude":this.isLongitude(n)?"Longitude":this.isPostalCode(n)?"PostalCode":this.isAddress(n)?"Address":this.isPlace(n)?"Place":this.isCity(n)?"City":this.isCountry(n)?"Country":this.isCounty(n)?"County":this.isStateOrProvince(n)?"StateOrProvince":this.isContinent(n)?"Continent":this.getEnglishFieldType(n)}getFieldTypeFromDescriptor(n){if(null!=n&&null!=n.geography){var c=n.geography;if(c.latitude)return"Latitude";if(c.longitude)return"Longitude";if(c.postalCode)return"PostalCode";if(c.address)return"Address";if(c.place)return"Place";if(c.city)return"City";if(c.country)return"Country";if(c.county)return"County";if(c.stateOrProvince)return"StateOrProvince";if(c.continent)return"Continent"}}isEnglishAddress(n){return o.hasMatches(n,[t.GeotaggingString_Address,t.GeotaggingString_Addresses,t.GeotaggingString_Street,t.GeotaggingString_Streets])}isEnglishPlace(n){return o.hasMatches(n,[t.GeotaggingString_Place,t.GeotaggingString_Places])}isEnglishCity(n){return o.hasMatches(n,[t.GeotaggingString_City,t.GeotaggingString_Cities,t.GeotaggingString_Town,t.GeotaggingString_Towns,t.GeotaggingString_Village,t.GeotaggingString_Villages])}isEnglishStateOrProvince(n){return o.hasMatches(n,[t.GeotaggingString_State,t.GeotaggingString_States,t.GeotaggingString_Province,t.GeotaggingString_Provinces,t.GeotaggingString_VRMBackCompat_StateOrProvince])}isEnglishCountry(n){return o.hasMatches(n,[t.GeotaggingString_Country,t.GeotaggingString_Countries,t.GeotaggingString_VRMBackCompat_CountryRegion])}isEnglishCounty(n){return o.hasMatches(n,[t.GeotaggingString_County,t.GeotaggingString_Counties])}isEnglishContinent(n){return o.hasMatches(n,[t.GeotaggingString_Continent,t.GeotaggingString_Continents])}isEnglishPostalCode(n){var c=o.hasMatches(n,[t.GeotaggingString_Post,t.GeotaggingString_Zip])&&o.hasMatches(n,[this.GeotaggingString_Code])||o.hasMatches(n,[t.GeotaggingString_PostalCode,t.GeotaggingString_PostalCodes,t.GeotaggingString_ZipCode,t.GeotaggingString_ZipCodes]);if(!c){var s=new RegExp("s");c=o.hasMatches(n,[t.GeotaggingString_PostalCode.replace(s,""),t.GeotaggingString_PostalCodes.replace(s,""),t.GeotaggingString_ZipCode.replace(s,""),t.GeotaggingString_ZipCodes.replace(s,"")])}return c}isEnglishLongitude(n){return o.hasMatches(n,[t.GeotaggingString_Longitude])||o.hasMatches(n,[t.GeotaggingString_Longitude_Short],!0)||o.hasMatches(n,[t.GeotaggingString_Longitude_Short2],!0)}isEnglishLatitude(n){return o.hasMatches(n,[t.GeotaggingString_Latitude])||o.hasMatches(n,[t.GeotaggingString_Latitude_Short],!0)}isEnglishTerritory(n){return o.hasMatches(n,[t.GeotaggingString_Territory,t.GeotaggingString_Territories])}getEnglishFieldType(n){if(null!=n){if(this.isEnglishLatitude(n))return"Latitude";if(this.isEnglishLongitude(n))return"Longitude";if(this.isEnglishPostalCode(n))return"PostalCode";if(this.isEnglishAddress(n))return"Address";if(this.isEnglishPlace(n))return"Place";if(this.isEnglishCity(n))return"City";if(this.isEnglishCountry(n))return"Country";if(this.isEnglishCounty(n))return"County";if(this.isEnglishStateOrProvince(n))return"StateOrProvince";if(this.isEnglishContinent(n))return"Continent"}}}return{create:d=>new o(d)}}},392601:function(ve,z,e){e.d(z,{C:function(){return t},h:function(){return o}});var r,a=e(141295),i=e(18122);function t(){return new d}var o=function(s){return s[s.pending=0]="pending",s[s.resolved=1]="resolved",s[s.rejected=2]="rejected",s}({});class d{defer(p){return new n($.Deferred())}reject(p){var l=this.defer();return l.reject(p),l.promise}resolve(p){var l=this.defer();return l.resolve(p),l.promise}all(p){return this.when.apply(this,p).then(function(){return Array.prototype.slice.call(arguments)})}allSettled(p){var l=this.defer(),u=p.length;if(u>0)for(var v=0,m=[],g=function(D){p[D].then(h=>{m[D]={value:h,type:a.f.Success}}).catch(h=>{m[D]={value:h,type:a.f.Failure}}).finally(()=>{++v===u&&l.resolve(m)})},E=0;E<u;E++)g(E);else l.resolve([]);return l.promise}when(...p){var l=p.map(v=>v&&v.promise?v.promise:v);if(1===l.length){var u=l[0];return u?.pipe?new c(u):this.resolve(u)}return new c($.when(...l))}}class n{constructor(p){i.Y.assertValue(p,"deferred"),this.deferred=p,this.promise=new c(p.promise())}resolve(p){this.deferred.resolveWith(this.deferred.promise,[p])}reject(p){this.deferred.rejectWith(this.deferred.promise,[p])}}class c{constructor(p){this[r]="Promise",i.Y.assertValue(p,"promise"),this.promise=p}then(p,l){var m,u=c.wrapCallback(p),v=c.wrapCallback(l);return m=this.promise.pipe(u||null,v),new c(m)}catch(p){return this.then(null,p)}finally(p){return this.promise.always(c.wrapCallback(p)),this}static wrapCallback(p){return p&&function(){var l=p.apply(this,arguments);return l instanceof c?l.promise:l}}}r=Symbol.toStringTag},65346:function(ve,z,e){e.d(z,{IL:function(){return u},Ld:function(){return v},bq:function(){return l}});var d,n,c,w,a=e(223431),i=e(781267),r="2",t="`",o=t+t,s=/^V:[12]-|^g:.* s:|(address|city|continent|country|county|postalcode|stateorprovince)$/;function l(w,I,O,x){y();var j=c[w];if(!j){N("information",`ensuring localStorageCache ${w}`);var U=n.caches[w];U&&U.version!==I&&(N("information",`Clearing old version cache ${w}`),P(w),delete n.caches[w],f(),U=void 0),j=new h(w,O,x),c[w]=j,U||(N("information",`Adding initial cache metadata for ${w}`),n.caches[w]={version:I,size:0,nextId:1,added:Date.now()},f(),b())}return j}function u(w){P(w),y();var I=n.caches[w];I&&(c[w]?n.caches[w]={version:I.version,size:0,nextId:1,added:Date.now()}:delete n.caches[w],f())}function v(w,I){if(w){var O=g(w),x=n.caches[w],j=[],U=0;for(var F of(d.forEach(R=>{if(O.test(R)){var B=d.getData(R);if(B&&B.added){var A=B.id,W=null;null!=A&&(W=E(w,A)),C(x.added)-B.added>I&&(W&&j.push(W),j.push(R),U+=B.size)}}}),x.size-=U,f(),j))d.setData(F,void 0)}}function m(w,I){return t+w+"-"+I}function g(w){return new RegExp("^"+t+w+"-")}function E(w,I){return o+w+"-"+I}d=i.wZ,n=w,c={};class h{constructor(I,O,x){this.cacheName=I,this.maxSpace=O,this.maxAge=x,this.disabled=!1}getData(I){if(!this.disabled){var O=m(this.cacheName,I),x=d.getData(O),j=x&&x.id;if(null!=j){var U=E(this.cacheName,j),F=n.caches[this.cacheName];if(C(F.added)-x.added<=this.maxAge)return d.getData(U);F.size-=x.size,f(),d.setData(U,void 0),d.setData(O,void 0)}}}setData(I,O,x){if(!this.disabled){if(!(n=S()))return void(this.disabled=!0);var j=m(this.cacheName,I),U=d.getData(j);void 0===O?this.removeEntry(j,U):this.setEntry(j,U,O,x)}}removeEntry(I,O){if(O){var x=O.size;null!=x&&(n.caches[this.cacheName].size-=x,f());var j=O.id;null!=j&&d.setData(E(this.cacheName,j),void 0)}d.setData(I,void 0)}setEntry(I,O,x,j){var U=n.caches[this.cacheName];if(!U)return this.disabled=!0,void N("error",`Did't find cache metadata for ${this.cacheName} in directory ${JSON.stringify(n)}`);var F=C(U.added),R=O&&O.id;R?(O.added=F,U.size-=O.size):O={id:R=U.nextId++,added:F,size:0};var B=E(this.cacheName,R),A=JSON.stringify(x);O.size=A.length+I.length+B.length,O.size+=JSON.stringify(O).length,O.size+=1,U.size+=O.size,U.size>this.maxSpace&&(j&&j(),P(this.cacheName),U.added=Date.now(),U.nextId=2,O.added=C(U.added),O.id=1,B=E(this.cacheName,O.id),O.size=A.length+I.length+B.length,O.size+=JSON.stringify(O).length,O.size+=1,U.size=O.size),f(),d.setData(I,O),d.setJSONData(B,A)}}function C(w){return Math.floor((Date.now()-w)/6e4)}function y(){if(n=S()){if(n.version===r)return;N("information",`Clearing old verion ${n.version} localStorage entries`),T(w=>w.length>0&&w[0]===t)}else N("information","Clearing obsolete localStorage entries"),T(w=>s.test(w));n={version:r,caches:{}},f(),b()}function f(){d.setData(o,n)}function S(){return d.getData(o)}function b(){try{var w=S();_.isEqual(w,n)||N("warning",`Cache directory different after save: saved=${JSON.stringify(n)} reloaded=${JSON.stringify(w)}`)}catch(I){N("error",`Error checking cache directory after save: ${I&&I.stack?I.stack:JSON.stringify(I)}`)}}function P(w){var I=g(w),O=function(w){return new RegExp("^"+o+w+"-")}(w);T(x=>I.test(x)||O.test(x))}function T(w){var I=[];for(var O of(d.forEach(x=>{w(x)&&I.push(x)}),I))d.setData(O,void 0);return I.length}function N(w,I){var O=window.jsCommon;!O||!O.Trace||a.Cn[w]("localStorageCache: "+I)}},781267:function(ve,z,e){e.d(z,{YF:function(){return t},wZ:function(){return r}});var i=(()=>{class o{constructor(n){this.cache={},this.clearCacheInterval=n??o.defaultClearCacheInterval,this.clearCache()}getData(n){return this.cache[n]}setData(n,c,s){this.cache[n]=c,null==this.clearCacheTimerId&&(this.clearCacheTimerId=window.setTimeout(()=>this.clearCache(),this.clearCacheInterval))}clearCache(){this.cache={},this.clearCacheTimerId=void 0}}return o.defaultClearCacheInterval=864e5,o})(),r=new class{isLocalStorageSupported(){try{var d="validateLocalStorageKey",n="validateLocalStorageValue";return localStorage.setItem(d,n),localStorage.getItem(d)===n&&(localStorage.removeItem(d),null===localStorage.getItem(d))}catch{return!1}}getData(d){try{if(localStorage){var n=localStorage[d];if(n)return JSON.parse(n)}}catch{}}setData(d,n){try{if(localStorage)return void(void 0===n?localStorage.removeItem(d):localStorage[d]=JSON.stringify(n))}catch{}}setJSONData(d,n){try{localStorage&&(void 0===n?localStorage.removeItem(d):localStorage[d]=n)}catch{}}forEach(d){try{if(!localStorage)return;for(var n=localStorage.length;n-- >0;)d(localStorage.key(n))}catch{}}},t=new i},868237:function(ve,z,e){e.d(z,{Yw:function(){return o}});var a=e(18122),i=e(865429),r=e(223431),t=e(454840),o=(y,f,S,b)=>new c(y,f,S,b);class c{constructor(f,S,b,V){this.promiseFactory=f,this.telemetry=S,this.options={...V,rjs:V&&V.rjs||window.require},this.active={},a.Y.assertValue(this.options.rjs,"Could not load require.js."),b?(this.options.rjs.config(b),this.cssPaths=b.cssPaths,this.bundles=b.bundles):(this.cssPaths={},this.bundles={})}require(f){a.Y.assertValue(f,"moduleLoader: require Module Dependency has to be defined");var y,b,S=f.javascript;if((y=S)&&y instanceof Function)return this.loadModuleES6(f,S);if(S)b=S;else{if(!f.css)return this.promiseFactory.resolve();b=f.css.join(",")}var V=h(this.cssPaths,f.css,this.options.rtl??!1,this.promiseFactory),M=this.active,P=M[b];if(P)return P;if(!S)return M[b]=V,V.finally(()=>delete M[b]),V.then(()=>this.promiseFactory.resolve());var T=function(y,f){for(var S in a.Y.assertValue(y,"script"),a.Y.assertValue(f,"bundles"),f)if(_.includes(f[S],y))return S}(S,this.bundles),N=this.promiseFactory.defer(!0),w=()=>l(this.options.rjs,this.telemetry,S,U=>N.resolve(U),U=>N.reject(U));if(null==T||this.options.rjs.defined(T))w();else{var I=(0,i.t)(),O=window.setTimeout(()=>{r.Cn.warning("Module bundle load is delayed",void 0,{bundleName:T,duration:(0,i.t)()-I}),O=window.setTimeout(()=>{r.Cn.warning("Module bundle load is very delayed",void 0,{bundleName:T,duration:(0,i.t)()-I}),O=void 0},this.options.delayedBundleLongInterval||1e6)},this.options.delayedBundleShortInterval||3e4);l(this.options.rjs,this.telemetry,T,()=>{O||r.Cn.warning("Module bundle eventually loaded",void 0,{bundleName:T,duration:(0,i.t)()-I}),clearTimeout(O),w()},U=>N.reject(U))}var j=this.promiseFactory.all([V,N.promise]).then(()=>N.promise);return M[b]=j,j.finally(()=>delete M[b]),j}loadModuleES6(f,S){var b=S();return f.css?this.promiseFactory.all([h(this.cssPaths,f.css,this.options.rtl??!1,this.promiseFactory),b]).then(()=>b):b}}var s=".js",p=".min.js";function l(y,f,S,b,V){if(a.Y.assertValue(y,"rjs"),a.Y.assertValue(S,"script"),a.Y.assertValue(b,"success"),a.Y.assertValue(V,"failure"),y.defined(S))b(y(S));else{var M=(0,t.ni)(`moduleLoader.require('${S}')`),P=f?.startEvent();y([S],function(){var w,T=window.parseTimeMarkers,N=S;T&&((w=T[S+p])?N+=p:(w=T[S+s])&&(N+=s));var I={start:w&&w.start,end:w&&w.end},O={start:w&&w.startEval,end:w&&w.endEval};P?.resolve(N,I,O),M(),b(arguments[0])},T=>{P?.reject(S),M(),V(T)})}}var v=document,m=v.head,g=v.createElement("link"),E=[],D=m.getElementsByTagName("script")[0];function h(y,f,S,b){if(!f)return b.resolve();m.getElementsByTagName("script")?.[0]?.src!==D?.src&&(D=m.getElementsByTagName("script")[0]);var V=["quill.core"],M=[];for(var P of f){var T=-1!==V.indexOf(P);if(P=y[P]||P,_.endsWith(P,".css")||(P+=".css"),S&&!T&&-1===P.indexOf(".rtl")&&(P=_.endsWith(P,".min.css")?P.replace(".min.css",".rtl.min.css"):P.replace(".css",".rtl.css")),-1===E.indexOf(P)){E.push(P);var N=C(P,b);M.push(N)}}return M.length?b.all(M):b.resolve()}function C(y,f){var S=g.cloneNode(),b=f.defer();return S.addEventListener("load",()=>b.resolve()),S.addEventListener("error",()=>b.reject(`Failed to load style sheet: ${y}`)),S.href=y,D?m.insertBefore(S,D):m.appendChild(S),b.promise}g.setAttribute("rel","stylesheet")},649738:function(ve,z,e){e.d(z,{N:function(){return l}});var a=e(233390),i=e(512655),r=e(18122),t=e(282002),o=e(744774),d=e(623670),n=e(315818),c=e(851556),s=e(781267),p=e(223431),l=(()=>{class u{static setCanvasCtx(m){u.canvasCtx=m}static setMeasuredFontNotLoadedCallback(m){u.measuredFontNotLoadedCallbacks||(u.measuredFontNotLoadedCallbacks=[]);var g=++u.measuredFontNotLoadedCallbacksAdded;return u.measuredFontNotLoadedCallbacks.push({id:g,callback:m}),()=>{var E=u.measuredFontNotLoadedCallbacks?u.measuredFontNotLoadedCallbacks.findIndex(D=>D.id===g):-1;-1===E?r.Y.assertFail("Tried to remove a MeasuredFontNotLoadedCallback more than once"):(u.measuredFontNotLoadedCallbacks?.splice(E,1),u.measuredFontNotLoadedCallbacks?.length||(u.measuredFontNotLoadedCallbacks=void 0))}}static hasMeasuredFontNotLoadedCallbacks(){return u.measuredFontNotLoadedCallbacks?.length>0}static callMeasuredFontNotLoadedCallbacks(m){if(m&&u.measuredFontNotLoadedCallbacks)for(var g=void 0,E=u.measuredFontNotLoadedCallbacks.length;E--;){var D=u.measuredFontNotLoadedCallbacks[E];(void 0===g||D.id<g)&&(g=D.id,D.callback(m))}}static ensureDOM(){if(!u.canvasCtx){if(u.spanElement||(u.spanElement=$("<span></span>"),$("body").append(u.spanElement)),null==u.letterSpacing)try{var m=window.getComputedStyle(u.spanElement?.get(0));m.letterSpacing.indexOf("px")>0&&(u.letterSpacing=+m.letterSpacing.replace("px",""))}catch{}u.svgTextElement||(u.svgTextElement=d3.select($("body").get(0)).append("svg").styles({height:"0px",width:"0px",position:"absolute"}).append("text")),u.canvasCtx=$("<canvas></canvas>").get(0).getContext("2d");var g=window.getComputedStyle(u.svgTextElement.node());u.fallbackFontFamily=g?g.fontFamily:""}}static removeSpanElement(){u.spanElement&&u.spanElement.remove&&u.spanElement.remove(),u.spanElement=null}static measureSvgTextWidth(m,g){if(r.Y.assertValue(m,"textProperties"),r.Y.assert(()=>_.isEmpty(m.fontSize)||-1!==m.fontSize.indexOf("px"),"TextProperties' text size should be in px."),!m||!m.fontSize)return 0;if(u.ensureDOM(),!u.canvasCtx)return((null!=g?g.length:null!=m.text&&m.text.length)||0)*(parseInt(m.fontSize,10)||9);if(!u.setCanvasFont(u.canvasCtx,m)||null==g&&null==m.text)return 0;m.fontFamily&&u.hasMeasuredFontNotLoadedCallbacks()&&(u.isFontLoaded(m)||u.callMeasuredFontNotLoadedCallbacks(m.fontFamily));var D=g??m.text;return u.canvasCtx.measureText(D).width+(null!=u.letterSpacing?u.letterSpacing*D.length:0)}static measureSvgTextRect(m,g){return this.measureSvgTextRectInternal(m,g,!0)}static measureSvgTextRectInternal(m,g,E){return r.Y.assertValue(m,"textProperties"),r.Y.assert(()=>_.isEmpty(m.fontSize)||-1!==m.fontSize.indexOf("px"),"TextProperties' text size should be in px."),u.ensureDOM(),E&&m.fontFamily&&u.hasMeasuredFontNotLoadedCallbacks()&&(u.isFontLoaded(m)||u.callMeasuredFontNotLoadedCallbacks(m.fontFamily)),u.svgTextElement.text(g||m.text).attrs({visibility:"hidden","font-family":m.fontFamily||u.fallbackFontFamily,"font-variant":m.fontVariant,"font-size":m.fontSize,"font-weight":m.fontWeight,"font-style":m.fontStyle,"text-decoration":m.textDecoration||"none","white-space":m.whiteSpace||"nowrap"}),(0,n.rB)(u.svgTextElement.node())}static measureSvgTextHeight(m,g){var E=u.measureSvgTextRect(m,g);return E?E.height:0}static measureSvgGlyphHeight(m,g,E){r.Y.assert(()=>-1!==m.indexOf("px"),"Font size should be in px."),u.ensureDOM(),u.svgTextElement.classed(g,!0).style("font-size",m).style("position","absolute").style("visibility","hidden");var h=u.measureSvgTextRect({fontFamily:null,fontSize:m},E);return u.svgTextElement.classed(g,!1).text(null).style("font-size",null).style("position",null).style("visibility",null),h?h.height:0}static isFullyTruncated(m){return m===u.ellipsis}static estimateSvgTextRect(m){r.Y.assertValue(m,"textProperties"),r.Y.assert(()=>_.isEmpty(m.fontSize)||-1!==m.fontSize.indexOf("px"),"TextProperties' text size should be in px.");var g=(m.fontFamily||"")+(m.fontSize||""),E=s.YF.getData(g),D=E?.rect,h={fontFamily:m.fontFamily,fontSize:m.fontSize,text:"M"},C=u.isFontLoaded(h);return null!=D&&E.fontLoaded||!1===C?null==D?(D=u.measureSvgTextRect(h),s.YF.setData(g,{rect:D,fontLoaded:!1})):!C&&m.fontFamily&&u.hasMeasuredFontNotLoadedCallbacks()&&u.callMeasuredFontNotLoadedCallbacks(m.fontFamily):(D=u.measureSvgTextRect(h)).height>0&&s.YF.setData(g,{rect:D,fontLoaded:!0}),D}static ensureFonts(...m){return(0,a.A)(function*(){var g=[];for(var E of m)try{g.push(document.fonts.load(`16px ${E}`))}catch(f){p.Cn.exception("ensureFont-1",{error:f,includeStackTrace:!0,additionalInfo:{fontFace:E},maxTrace:5})}try{for(var D=yield Promise.allSettled(g),h=0;h<D.length;++h){var C=D[h];"rejected"===C.status&&p.Cn.exception("ensureFont-2",{error:C.reason,includeStackTrace:!0,additionalInfo:{fontFace:m[h]},maxTrace:20})}return}catch(f){return void p.Cn.exception("ensureFont-3",{error:f,includeStackTrace:!0,maxTrace:5})}})()}static isFontLoaded(m){var g="16px",E=document.fonts,D=m.fontFamily,h=!1;if(u.fontLoadCache[D])return!0;if(E&&D)try{h=E.check(g+" "+D)}catch{}else{m={...m,fontSize:g};var C=u.measureSvgTextRectInternal(m,void 0,!1),y=D?D.split(",")[0]:"";if(-1!==y.indexOf("Segoe UI"))h=(0,o.lO)(C.height,21.28,1e-5);else{if(-1===y.indexOf("wf_standard-font"))return null;h=(0,o.lO)(C.height,16.35,1e-5)}}return u.doNotCacheFontLoadedStatus||(u.fontLoadCache[D]=h),h}static clearFontLoadedCache(){u.fontLoadCache={}}static estimateSvgTextBaselineDelta(m){var g=u.estimateSvgTextRect(m);return g.y+g.height}static estimateSvgTextHeight(m,g=!1){var E=u.estimateSvgTextRect(m).height;return g&&(E*=.7),E}static measureSvgTextElementWidth(m){return r.Y.assertValue(m,"svgElement"),u.measureSvgTextWidth(u.getSvgMeasurementProperties(m))}static getMeasurementProperties(m){return r.Y.assertValue(m,"element"),{text:m.val()||m.text(),fontFamily:m.css("font-family"),fontSize:m.css("font-size"),fontWeight:m.css("font-weight"),fontStyle:m.css("font-style"),fontVariant:m.css("font-variant"),whiteSpace:m.css("white-space")}}static getSvgMeasurementProperties(m){r.Y.assertValue(m,"svgElement");var g=window.getComputedStyle(m,null);return g?{text:m.textContent,fontFamily:g.fontFamily,fontSize:g.fontSize,fontWeight:g.fontWeight,fontStyle:g.fontStyle,fontVariant:g.fontVariant,whiteSpace:g.whiteSpace}:{text:m&&m.textContent,fontFamily:"",fontSize:"0"}}static getDivElementWidth(m){r.Y.assert(()=>m.is("div"),"Given element is not a div type. Cannot get width");var g=getComputedStyle(m[0]);return g?g.width:"0"}static getTailoredTextOrDefault(m,g){if(r.Y.assertValue(m,"properties"),r.Y.assertValue(m.text,"properties.text"),r.Y.assert(()=>_.isEmpty(m.fontSize)||-1!==m.fontSize.indexOf("px"),"TextProperties' text size should be in px."),!m||!m.fontSize)return"";u.ensureDOM();var E=m.text;if(!E||!u.canvasCtx||!u.setCanvasFont(u.canvasCtx,m))return"";m.fontFamily&&u.hasMeasuredFontNotLoadedCallbacks()&&(u.isFontLoaded(m)||u.callMeasuredFontNotLoadedCallbacks(m.fontFamily));var D=u.canvasCtx.measureText(E).width+(null!=u.letterSpacing?u.letterSpacing*E.length:0);if(D<=g)return E;E=u.ellipsis+E;for(var h=_.split(E,""),C=1,y=h.length;C<y;){var f=C+y>>1,S=h.slice(0,f).join("");g>(D=u.canvasCtx.measureText(S).width+(null!=u.letterSpacing?u.letterSpacing*S.length:0))?C=f+1:g<D?y=f-1:(C=f,y=f)}var b=h.slice(0,C).join("");return(D=u.canvasCtx.measureText(b).width+(null!=u.letterSpacing?u.letterSpacing*b.length:0))>g&&C--,h.slice(u.ellipsis.length,C).join("")+u.ellipsis}static setCanvasFont(m,g){try{m.font=(g.fontStyle||"")+" "+(g.fontVariant||"")+" "+(g.fontWeight||"")+" "+g.fontSize+" "+(g.fontFamily||u.fallbackFontFamily)}catch{return!1}return!0}static svgEllipsis(m,g,E){r.Y.assertValue(m,"textElement"),E||(E=u.getSvgMeasurementProperties(m));var D=E.text,h=u.getTailoredTextOrDefault(E,g);D!==h&&(m.textContent=h)}static wordBreak(m,g,E,D=0){(0,t.io)("powerbi.TextMeasurementService.wordBreak is deprecated. Use powerbi.visuals.TextUtil.wordBreak instead"),r.Y.assertValue(m,"textElement");var h=u.getSvgMeasurementProperties(m),C=u.estimateSvgTextHeight(h)+D,y=Math.max(1,Math.floor(E/C)),f=d3.select(m),S=f.attr("y"),b=m.textContent;m.textContent="";for(var V=(0,c.cA)(b,h,u.measureSvgTextWidth,g,y),M=0,P=V.length;M<P;M++)h.text=V[M],f.append("tspan").attrs({x:0,dy:0===M?S:C}).text(u.getTailoredTextOrDefault(h,g))}static wordBreakOverflowingText(m,g,E,D=0){r.Y.assertValue(m,"textElement");var h=u.getSvgMeasurementProperties(m),C=u.estimateSvgTextHeight(h)+D,y=Math.max(1,Math.floor(E/C)),f=m.textContent;m.textContent="";var S=(0,c.cA)(f,h,u.measureSvgTextWidth,g,y);d3.select(m).selectAll(u.OverflowingText.selector).data(S).enter().append("span").classed(u.OverflowingText.class,!0).text(V=>V).style("width",d.V4.toString(g))}}return u.ellipsis="\u2026",u.OverflowingText=(0,i.tI)("overflowingText"),u.letterSpacing=null,u.fontLoadCache={},u.measuredFontNotLoadedCallbacksAdded=0,u.doNotCacheFontLoadedStatus=!1,u})()},736341:function(ve,z,e){e.d(z,{t:function(){return a}});var a=function(i){return i[i.Clockwise=0]="Clockwise",i[i.Counterclockwise=1]="Counterclockwise",i[i.Colinear=2]="Colinear",i}({})},361298:function(ve,z,e){e.d(z,{SU:function(){return d},ZB:function(){return t}});var a=e(579260),i=e(647132),r=e(18122);class t{constructor(c,s,p){this.basePickerColors=[{value:"#FFFFFF"},{value:"#000000"}],this.colors=c||d.getDefaultColors(),this.sentimentColors=s||d.defaultSentimentColors,this.gradientColors=p||d.defaultGradientColors,this.scales={},this.basePickerColors.push(..._.take(this.colors,8))}getColorScaleByKey(c){var s=this.scales[c];return void 0===s&&(s=this.createScale(),this.scales[c]=s),s}getNewColorScale(){return this.createScale()}getColorByIndex(c){return r.Y.assert(()=>c>=0&&c<this.colors.length,"index is out of bounds"),this.colors[c]}getSentimentColors(){return this.sentimentColors}getGradientColors(){return this.gradientColors}getBasePickerColors(){return this.basePickerColors}getBaseColors(){return _.take(this.colors,8)}getAllColors(){return this.colors}createScale(){return o.createFromColors(this.colors)}}class o{constructor(c){this.scale=c}getColor(c){return this.scale(c)}clearAndRotateScale(){var c=this.scale.domain().length,s=(0,a.e$)(this.scale.range(),c);this.scale=d3.scaleOrdinal().range(s)}clone(){return new o(this.scale.copy())}getDomain(){return this.scale.domain()}static createFromColors(c){return new o(d3.scaleOrdinal().range(c))}}var d=(()=>{class n{static getDefaultColors(){if(!n.defaultColors){n.defaultColors=[];for(var s=n.defaultBaseColors,p=0;p<n.colorSectorCount;++p)for(var l=0,u=s.length;l<u;++l){var v=(0,i.NN)(s[l].value,p/n.colorSectorCount);n.defaultColors.push({value:v??s[l].value})}}return n.defaultColors}}return n.colorSectorCount=12,n.defaultBaseColors=[{value:"#01B8AA"},{value:"#374649"},{value:"#FD625E"},{value:"#F2C80F"},{value:"#5F6B6D"},{value:"#8AD4EB"},{value:"#FE9666"},{value:"#A66999"},{value:"#3599B8"},{value:"#DFBFBF"},{value:"#4AC5BB"},{value:"#5F6B6D"},{value:"#FB8281"},{value:"#F4D25A"},{value:"#7F898A"},{value:"#A4DDEE"},{value:"#FDAB89"},{value:"#B687AC"},{value:"#28738A"},{value:"#A78F8F"},{value:"#168980"},{value:"#293537"},{value:"#BB4A4A"},{value:"#B59525"},{value:"#475052"},{value:"#6A9FB0"},{value:"#BD7150"},{value:"#7B4F71"},{value:"#1B4D5C"},{value:"#706060"},{value:"#0F5C55"},{value:"#1C2325"},{value:"#7D3231"},{value:"#796419"},{value:"#303637"},{value:"#476A75"},{value:"#7E4B36"},{value:"#52354C"},{value:"#0D262E"},{value:"#544848"}],n.defaultSentimentColors={bad:{value:"#E81123"},neutral:{value:"#F2C811"},good:{value:"#3bb44a"}},n.defaultGradientColors={minColor:{value:"#FD625E"},midColor:{value:"#F5D33F"},maxColor:{value:"#01B8AA"},nullColor:{value:"#FF7F48"}},n})()},563670:function(ve,z,e){e.d(z,{FQ:function(){return E},Rg:function(){return l},ck:function(){return m},db:function(){return n},rQ:function(){return u},v4:function(){return g},vt:function(){return d}});var a=e(584013),i=e(18122),r=e(615309),t=e(361298),o=e(514882);function d(D,h){void 0===D&&(D=new t.ZB);var C={foreground:{value:"#333333"},foregroundLight:{value:"#FFF"},foregroundDark:{value:"#000"},foregroundNeutralLight:{value:"#EAEAEA"},foregroundNeutralDark:{value:"#212121"},foregroundNeutralSecondary:{value:"#666666"},foregroundNeutralSecondaryAlt:{value:"#777777"},foregroundNeutralSecondaryAlt2:{value:"#888888"},foregroundNeutralTertiary:{value:"#A6A6A6"},foregroundNeutralTertiaryAlt:{value:"#C8C8C8"},foregroundSelected:{value:"#333333"},foregroundButton:{value:"#666666"},background:{value:"#FFF"},backgroundLight:{value:"#EAEAEA"},backgroundNeutral:{value:"#C8C8C8"},backgroundDark:{value:"#000"},tableAccent:{value:D.getColorByIndex(0).value},hyperlink:{value:"#1F3A93"},visitedHyperlink:{value:"#551A8B"},mapPushpin:{value:"#FF5F00"},shapeStroke:{value:"#01B8AA"},disabledText:{value:"#8C8C8C"},dataColors:D};return{isHighContrast:!1,colorPalette:C,textClasses:n(C,h),icons:(0,o.c)("conditionalFormattingDialogIcons").themeIcons}}function n(D,h,C=!1){if(function(D){if(!D)return!1;var C=["color","fontSize","fontFace"];for(var y of["callout","header","label","title"]){var f=D[y];if(!f)return!1;for(var S of C)if(!f[S])return!1}return!0}(h)){h.callout.fontFace=c(h.callout.fontFace??""),h.label.fontFace=c(h.label.fontFace??""),h.title.fontFace=c(h.title.fontFace??""),h.header.fontFace=c(h.header.fontFace??"");var b={callout:h.callout,label:h.label,title:h.title,header:h.header,largeTitle:s(h.largeTitle,h.title,void 0,7/6),dataTitle:s(h.dataTitle,h.title,D.dataColors.getColorByIndex(0)),boldLabel:s(h.boldLabel,h.label,void 0,void 0,a.B.Bold),largeLabel:s(h.largeLabel,h.label,void 0,1.2),largeLightLabel:s(h.largeLightLabel,h.label,D.foregroundNeutralSecondary,1.2),lightLabel:s(h.lightLabel,h.label,D.foregroundNeutralSecondary),semiboldLabel:s(h.semiboldLabel,h.label,void 0,void 0,a.B.Semibold),smallLabel:s(h.smallLabel,h.label,void 0,.9),smallLightLabel:s(h.smallLightLabel,h.label,D.foregroundNeutralSecondary,.9),smallDataLabel:s(h.smallDataLabel,h.label,D.dataColors.getColorByIndex(0),.9)};if(C){var M,V=D.foreground.value;for(M in b){var P=b[M];P.color?P.color.value=V:P.color={value:V}}}return b}}function c(D){var h=r.H1[D];return h?h.family:D}function s(D,h,C,y,f){if(D?null==D.color&&(D.color=C||h.color):D={color:C||h.color},null==D.fontSize){var S=_.toNumber(h.fontSize);i.Y.assert(()=>!isNaN(S),"visualStyle > applyTextClassDefaults: given textClass fontSize is NaN; cannot transform"),D.fontSize=(null==y?S:Math.round(S*y*10)/10)+""}if(null==D.fontWeight&&null!=f)switch(f){case a.B.Bold:D.fontWeight=a.B.Bold;break;case a.B.Semibold:D.fontWeight=a.B.Semibold;break;default:D.fontWeight=h.fontWeight}return D.fontFace=D.fontFace||h.fontFace,D}function l(){return{callout:{fontSize:"45",fontFace:"DIN",color:{value:"#252423"}},title:{fontSize:"12",fontFace:"DIN",color:{value:"#252423"}},header:{fontSize:"12",fontFace:"Segoe UI Semibold",color:{value:"#252423"}},label:{fontSize:"10",fontFace:"Segoe UI",color:{value:"#252423"}}}}function u(D,h){i.Y.assertValue(h,"EvalContext.getThemeColor - colorName should't be null");var C=D.colorPalette,y=C.dataColors.getGradientColors(),f=C.dataColors.getSentimentColors(),S=C[h]||y[h]||f[h];return i.Y.assertAnyValue(S,"getThemeColor - If this is not a theme color it's likely a custom color (like rgba),\n                we should consider updating dataViewObjectEvaluator logic to only call this if it's a theme color."),S?.value}var v={"ui-foreground":"var(--colorNeutralForeground1)","ui-background":"var(--colorNeutralBackground1)","ui-foregroundSecondary":"var(--colorNeutralForeground3)","ui-backgroundSecondary":"var(--colorNeutralBackground3)"};function m(D){return i.Y.assertValue(D,"getUIThemeColorValue - colorName"),v[D]}function g(D,h){i.Y.assertValue(D,"getThemeDataColor - visualStyle"),i.Y.assertValue(h,"getThemeDataColor - colorIdx");var C=D.colorPalette.dataColors.getBasePickerColors();return C[h]?.value}function E(D,h){return i.Y.assertValue(D,"getThemeIcon - visualStyle"),i.Y.assertValue(h,"getThemeIcon - iconId"),D.icons[h]}},512174:function(ve,z,e){e.d(z,{B:function(){return a}});var a="VisualLoad"},223431:function(ve,z,e){e.d(z,{Cn:function(){return v}});var p,a=e(18122),i=e(501285),r=e(299260),t=e(989417),o=e(676695),d=e(631772),c=new class{logTrace(g){}},v=(()=>{class m{static assertFail(E){a.Y.assertValue(E,"message"),a.Y.assertFail(E),this.error(E,!0)}static warning(E,D,h){a.Y.assertValue(E,"text"),this.logTraceInternal(new o.V(E,d.W.Warning,this.sessionId,D,h))}static exception(E,D){a.Y.assertValue(E,"id");var h=D?.maxTrace;if(!(h&&h>0)||function(m,g){if(null==g||g<=0)return!0;p||(p=new Map);var E=p.get(m);return null==E?E=1:++E,p.set(m,E),E<=g}(E,h)){var C,y=D?.error;D?.includeStackTrace?(y&&(C=y.stack?.toString()),C||(C=(new Error).stack)):y&&(C=y.message?.toString()||"<no-message>");var f=E;C&&(f+=": "+C),this.logTraceInternal(new o.V(f,d.W.Error,this.sessionId,D?.requestId,D?.additionalInfo))}}static error(E,D,h,C){a.Y.assertValue(E,"text"),D&&(E=(0,t.G)("{0}.\nStack:\n{1}",E,(0,r.WD)())),this.logTraceInternal(new o.V(E,d.W.Error,this.sessionId,h,C))}static information(E,D,h){a.Y.assertValue(E,"text"),this.logTraceInternal(new o.V(E,d.W.Information,this.sessionId,D,h))}static verbose(E,D,h){a.Y.assertValue(E,"text"),this.logTraceInternal(new o.V(E,d.W.Verbose,this.sessionId,D,h))}static addListener(E){a.Y.assertValue(E,"listener"),_.find(this.listeners,D=>D===E)||this.listeners.push(E)}static removeListener(E){a.Y.assertValue(E,"listener");var D=this.listeners.indexOf(E);D>=0&&this.listeners.splice(D,1)}static resetListeners(){this.listeners=new Array(c)}static reset(){this.lastTraceIndex=-1}static getTraces(){if(this.lastTraceIndex<0)return[];for(var E=new Array(this.lastTraceIndex+1),D=0;D<=this.lastTraceIndex;D++)E[D]=this.traces[D];return E}static disableDefaultListener(){this.removeListener(c)}static enableDefaultListener(){this.addListener(c)}static logTraceInternal(E){this.lastTraceIndex+1>=1e3&&this.reset(),this.traces[++this.lastTraceIndex]=E;for(var D=0,h=this.listeners.length;D<h;D++)this.listeners[D].logTrace(E)}}return m.traces=new Array(1e3),m.lastTraceIndex=-1,m.listeners=new Array(c),m})();(0,i.RI)().Trace=v},149804:function(ve,z,e){e.d(z,{D_:function(){return t},Ej:function(){return r},sh:function(){return a},t2:function(){return i}});class a{constructor(){this.success=!0}check(d,n,c){if(n(d))return c(d);this.success=!1}static check(d){var n=new a;return d(n),n.success}}function i(o){return!!o}function r(o){return d=>i(d)&&d.length===o}function t(o){return o}},171494:function(ve,z,e){e.d(z,{e:function(){return i}});var a=new Set(["string","number","boolean","any","datetime"]);function i(r){var t=/^(\w+)(\[\])?/.exec(r);if(t&&a.has(t[1]))return{primitive:t[1],isArray:!!t[2]}}},693029:function(ve,z,e){e.d(z,{Bs:function(){return g},FU:function(){return r},Ii:function(){return v},OJ:function(){return l},Ts:function(){return a},WF:function(){return s},Xk:function(){return n},YB:function(){return t},YL:function(){return o},Zb:function(){return y},Zf:function(){return m},Zx:function(){return f},bU:function(){return p},c8:function(){return E},gD:function(){return u},gs:function(){return i},i8:function(){return D},jU:function(){return d},nE:function(){return c},pZ:function(){return h}});var a=function(S){return S[S.Grouping=0]="Grouping",S[S.Measure=1]="Measure",S[S.GroupingOrMeasure=2]="GroupingOrMeasure",S}({}),i=function(S){return S[S.Measure=0]="Measure",S[S.Grouping=1]="Grouping",S}({}),r=function(S){return S[S.Immediate=0]="Immediate",S[S.Deferred=1]="Deferred",S[S.MetadataOnly=2]="MetadataOnly",S}({}),t=function(S){return S[S.Create=0]="Create",S[S.Append=1]="Append",S[S.Segment=2]="Segment",S[S.None=3]="None",S}({}),o=function(S){return S[S.Data=2]="Data",S[S.Resize=4]="Resize",S[S.ViewMode=8]="ViewMode",S[S.Style=16]="Style",S[S.ResizeEnd=32]="ResizeEnd",S[S.FormattingSubSelectionChange=64]="FormattingSubSelectionChange",S[S.FormatModeChange=128]="FormatModeChange",S[S.FilterOptionsChange=256]="FilterOptionsChange",S[S.All=510]="All",S}({}),d=function(){return{}}(),n=function(S){return S[S.X=0]="X",S[S.Y=1]="Y",S}({}),c=function(S){return S[S.View=0]="View",S[S.Edit=1]="Edit",S[S.InFocusEdit=2]="InFocusEdit",S}({}),s=function(S){return S[S.Default=0]="Default",S[S.Advanced=1]="Advanced",S}({}),p=function(S){return S[S.NotSupported=0]="NotSupported",S[S.SupportedNoAction=1]="SupportedNoAction",S[S.SupportedInFocus=2]="SupportedInFocus",S}({}),l=function(S){return S[S.Resizing=1]="Resizing",S[S.Resized=2]="Resized",S}({}),u=function(S){return S[S.None=0]="None",S}({}),v=function(S){return S[S.Selection=0]="Selection",S[S.None=1]="None",S}({}),m=function(S){return S[S.RenderStarted=0]="RenderStarted",S[S.RenderCompleted=1]="RenderCompleted",S[S.Trace=2]="Trace",S[S.Error=3]="Error",S}({}),g=function(S){return S[S.merge=0]="merge",S[S.remove=1]="remove",S}({}),E=function(S){return S[S.Up=1]="Up",S[S.Down=2]="Down",S[S.MoveToNextlevel=3]="MoveToNextlevel",S}({}),D=function(S){return S[S.Formatting=1]="Formatting",S[S.Analytics=2]="Analytics",S}({}),h=function(S){return S[S.Close=0]="Close",S[S.OK=1]="OK",S[S.Cancel=2]="Cancel",S[S.Continue=3]="Continue",S[S.No=4]="No",S[S.Yes=5]="Yes",S}({}),y=function(S){return S[S.General=0]="General",S[S.UnsupportedEnv=1]="UnsupportedEnv",S[S.VisualIsBlocked=2]="VisualIsBlocked",S}({}),f=function(S){return S.Top="Top",S.Bottom="Bottom",S}({})},715068:function(ve,z,e){e.d(z,{v:function(){return a}});var a=function(i){return i[i.Single=0]="Single",i[i.Union=1]="Union",i[i.Intersection=2]="Intersection",i[i.Difference=3]="Difference",i}({})},482713:function(ve,z,e){e.d(z,{y:function(){return a}});var a=function(i){return i[i.RoleWildcard=0]="RoleWildcard",i[i.ScopeIdentity=1]="ScopeIdentity",i[i.ScopeTotal=2]="ScopeTotal",i[i.ScopeWildcard=3]="ScopeWildcard",i[i.Wildcard=4]="Wildcard",i}({})},140318:function(ve,z,e){e.d(z,{y:function(){return a}});var a=function(i){return i[i.None=0]="None",i[i.Before=1]="Before",i[i.After=2]="After",i}({})},943509:function(ve,z,e){e.d(z,{Xx:function(){return i},t_:function(){return r},yt:function(){return a}});var a=function(t){return t[t.None=0]="None",t[t.Before=1]="Before",t[t.After=2]="After",t[t.BeforeAndAfter=3]="BeforeAndAfter",t}({}),i=function(t){return t[t.None=0]="None",t[t.Log=1]="Log",t}({}),r=function(t){return t[t.WhatIf=0]="WhatIf",t[t.MParameters=1]="MParameters",t[t.Field=2]="Field",t}({})},747767:function(ve,z,e){e.d(z,{_:function(){return a}});var a=function(i){return i[i.InstancesAndTotals=0]="InstancesAndTotals",i[i.InstancesOnly=1]="InstancesOnly",i[i.TotalsOnly=2]="TotalsOnly",i}({})},363449:function(ve,z,e){e.d(z,{t:function(){return a}});var a=function(i){return i[i.AdvFilter=1]="AdvFilter",i[i.RelativeDateFilter=2]="RelativeDateFilter",i[i.IdentityFilter=3]="IdentityFilter",i[i.TopNFilter=4]="TopNFilter",i[i.TupleFilter=5]="TupleFilter",i[i.HierarchyIdentityFilter=6]="HierarchyIdentityFilter",i}({})},993337:function(ve,z,e){e.d(z,{Y:function(){return a},v:function(){return i}});var a=function(r){return r[r.ValuesOnly=0]="ValuesOnly",r[r.ValuesAndHighlight=1]="ValuesAndHighlight",r[r.HighlightsOrValues=2]="HighlightsOrValues",r}({}),i=function(r){return r[r.Full=0]="Full",r[r.Partial=1]="Partial",r}({})},309754:function(ve,z,e){e.d(z,{L:function(){return a}});var a=function(i){return i[i.Column=0]="Column",i[i.Measure=1]="Measure",i}({})},716192:function(ve,z,e){e.d(z,{G:function(){return r},IM:function(){return a},J1:function(){return i}});var a=function(t){return t[t.Desktop=1]="Desktop",t[t.ExploreHost=2]="ExploreHost",t[t.Providers=4]="Providers",t[t.Web=8]="Web",t[t.WindowsApp=16]="WindowsApp",t[t.DashboardHost=32]="DashboardHost",t[t.StandaloneDashboardHost=128]="StandaloneDashboardHost",t[t.StandaloneReportHost=256]="StandaloneReportHost",t[t.DesktopDialog=512]="DesktopDialog",t[t.AdminPortalHost=1024]="AdminPortalHost",t[t.MobileTileHost=2048]="MobileTileHost",t[t.CortanaDashboardHost=4096]="CortanaDashboardHost",t[t.EmbedHost=8192]="EmbedHost",t[t.SharepointHost=16384]="SharepointHost",t[t.OneDrive=32768]="OneDrive",t[t.Loop=65536]="Loop",t[t.OfficeAddInHost=131072]="OfficeAddInHost",t[t.QuickCreate=262144]="QuickCreate",t[t.ReportExtensions=524288]="ReportExtensions",t[t.ExportDashboardHost=1048576]="ExportDashboardHost",t[t.MetricSet=2097152]="MetricSet",t[t.Dashboard=4194304]="Dashboard",t[t.All=8388607]="All",t}({}),i=function(t){return t[t.Web=1]="Web",t[t.PublishToWeb=2]="PublishToWeb",t[t.Desktop=4]="Desktop",t[t.Embed=8]="Embed",t[t.ReportServer=16]="ReportServer",t[t.ExportReportHost=32]="ExportReportHost",t[t.Mobile=64]="Mobile",t[t.DashboardHost=128]="DashboardHost",t[t.Unknown=256]="Unknown",t}({}),r=function(t){return t[t.PaaSEmbed=1]="PaaSEmbed",t[t.ExportAPI=2]="ExportAPI",t[t.SaaSEmbed=4]="SaaSEmbed",t}({})},456657:function(ve,z,e){e.d(z,{QJ:function(){return i},lM:function(){return t},yT:function(){return a}});var a=function(o){return o.Callout="callout",o.Highlight="highlight",o}({});function i(o){return o.annotationType===a.Callout}function t(o){return!!o.callout}},431066:function(ve,z,e){e.d(z,{a:function(){return a},v:function(){return i}});var a=function(r){return r.Before="Before",r.After="After",r.IconOnly="IconOnly",r}({}),i=function(r){return r.Top="Top",r.Middle="Middle",r.Bottom="Bottom",r}({})},178748:function(ve,z,e){e.d(z,{P:function(){return a}});var a=function(i){return i.AnnotationTemplate="AnnotationTemplate",i.Icon="Icon",i.ExprList="ExprList",i.ErrorRange="ErrorRange",i.ItemLocation="ItemLocation",i}({})},545414:function(ve,z,e){e.d(z,{K:function(){return a}});var a=function(i){return i[i.Numeric=256]="Numeric",i[i.Temporal=512]="Temporal",i[i.Geography=1024]="Geography",i[i.Miscellaneous=2048]="Miscellaneous",i[i.Formatting=4096]="Formatting",i[i.Scripting=8192]="Scripting",i[i.Reference=16384]="Reference",i[i.Null=0]="Null",i[i.Text=1]="Text",i[i.Decimal=258]="Decimal",i[i.Double=259]="Double",i[i.Integer=260]="Integer",i[i.Boolean=5]="Boolean",i[i.Date=518]="Date",i[i.DateTime=519]="DateTime",i[i.DateTimeZone=520]="DateTimeZone",i[i.Time=521]="Time",i[i.Duration=10]="Duration",i[i.Binary=11]="Binary",i[i.None=12]="None",i[i.Variant=13]="Variant",i[i.Json=14]="Json",i[i.Years=66048]="Years",i[i.Years_Text=66049]="Years_Text",i[i.Years_Integer=66308]="Years_Integer",i[i.Years_Date=66054]="Years_Date",i[i.Years_DateTime=66055]="Years_DateTime",i[i.Months=131584]="Months",i[i.Months_Text=131585]="Months_Text",i[i.Months_Integer=131844]="Months_Integer",i[i.Months_Date=131590]="Months_Date",i[i.Months_DateTime=131591]="Months_DateTime",i[i.PaddedDateTableDates=197127]="PaddedDateTableDates",i[i.Quarters=262656]="Quarters",i[i.Quarters_Text=262657]="Quarters_Text",i[i.Quarters_Integer=262916]="Quarters_Integer",i[i.Quarters_Date=262662]="Quarters_Date",i[i.Quarters_DateTime=262663]="Quarters_DateTime",i[i.DayOfMonth=328192]="DayOfMonth",i[i.DayOfMonth_Text=328193]="DayOfMonth_Text",i[i.DayOfMonth_Integer=328452]="DayOfMonth_Integer",i[i.DayOfMonth_Date=328198]="DayOfMonth_Date",i[i.DayOfMonth_DateTime=328199]="DayOfMonth_DateTime",i[i.Address=6554625]="Address",i[i.City=6620161]="City",i[i.Continent=6685697]="Continent",i[i.Country=6751233]="Country",i[i.County=6816769]="County",i[i.Region=6882305]="Region",i[i.PostalCode=6947840]="PostalCode",i[i.PostalCode_Text=6947841]="PostalCode_Text",i[i.PostalCode_Integer=6948100]="PostalCode_Integer",i[i.StateOrProvince=7013377]="StateOrProvince",i[i.Place=7078913]="Place",i[i.Latitude=7144448]="Latitude",i[i.Latitude_Decimal=7144706]="Latitude_Decimal",i[i.Latitude_Double=7144707]="Latitude_Double",i[i.Longitude=7209984]="Longitude",i[i.Longitude_Decimal=7210242]="Longitude_Decimal",i[i.Longitude_Double=7210243]="Longitude_Double",i[i.Image=13109259]="Image",i[i.ImageUrl=13174785]="ImageUrl",i[i.WebUrl=13240321]="WebUrl",i[i.Barcode=13305856]="Barcode",i[i.Barcode_Text=13305857]="Barcode_Text",i[i.Barcode_Integer=13306116]="Barcode_Integer",i[i.Sparkline=13371406]="Sparkline",i[i.Color=19664897]="Color",i[i.FormatString=19730433]="FormatString",i[i.Alignment=20058113]="Alignment",i[i.LabelDisplayUnits=20123649]="LabelDisplayUnits",i[i.FontSize=20189443]="FontSize",i[i.FontFamily=20385793]="FontFamily",i[i.AltText=20451329]="AltText",i[i.DisplayUnitsWithoutAuto=20516865]="DisplayUnitsWithoutAuto",i[i.StylePreset=20582401]="StylePreset",i[i.DashArray=20647937]="DashArray",i[i.Enumeration=26214401]="Enumeration",i[i.FlagsEnumeration=26280196]="FlagsEnumeration",i[i.ScriptSource=32776193]="ScriptSource",i[i.SearchEnabled=65541]="SearchEnabled",i[i.BookmarkRef=39337985]="BookmarkRef",i[i.SectionRef=39403521]="SectionRef",i[i.PerspectiveRef=39469057]="PerspectiveRef",i[i.BookmarkGroupRef=39534593]="BookmarkGroupRef",i[i.RowRefText=39600129]="RowRefText",i}({})},319842:function(ve,z,e){e.d(z,{A:function(){return i},c:function(){return a}});var a=function(r){return r[r.Color=0]="Color",r[r.GroupInPlace=1]="GroupInPlace",r}({}),i=function(r){return r.Group="group",r.Img="img",r.Button="button",r.Link="link",r}({})},340888:function(ve,z,e){e.d(z,{K:function(){return a}});var a=function(i){return i[i.Constant=1]="Constant",i[i.Rule=2]="Rule",i[i.ConstantOrRule=3]="ConstantOrRule",i}({})},115442:function(ve,z,e){e.d(z,{Ap:function(){return r},MN:function(){return t},PL:function(){return d},Qe:function(){return o},Xm:function(){return c},eX:function(){return p},hl:function(){return a},ok:function(){return s},vb:function(){return n},ww:function(){return i}});var a=function(l){return l.Card="card",l.Group="group",l.Slice="slice",l}({}),i=function(l){return l.Host="host",l.Visual="visual",l}({}),r=function(l){return l.Actions="actions",l.Title="title",l.SizeAndStyle="sizeAndStyle",l.StylePreset="stylePreset",l}({}),t=function(l){return l.StylePreset="stylePreset",l}({}),o=function(l){return l.DataVolume="dataVolume",l.Responsive="responsive",l}({}),d=function(l){return l.AdvancedFieldPicker="AdvancedFieldPicker",l.AlignmentGroup="AlignmentGroup",l.ColorPicker="ColorPicker",l.ConditionalFormattingControl="ConditionalFormattingControl",l.DatePicker="DatePicker",l.Dropdown="Dropdown",l.DurationPicker="DurationPicker",l.EmptyControl="EmptyControl",l.ErrorRangeControl="ErrorRangeControl",l.FieldPicker="FieldPicker",l.FlagsSelection="FlagsSelection",l.FontControl="FontControl",l.FontPicker="FontPicker",l.GradientBar="GradientBar",l.IconPicker="IconPicker",l.ImageUpload="ImageUpload",l.Link="Link",l.ListEditor="ListEditor",l.MarginPadding="MarginPadding",l.NumUpDown="NumUpDown",l.ReadOnlyText="ReadOnlyText",l.SeriesDialogLink="SeriesDialogLink",l.ShapeMapSelector="ShapeMapSelector",l.Slider="Slider",l.TextArea="TextArea",l.TextInput="TextInput",l.ToggleSwitch="ToggleSwitch",l}({}),n=function(l){return l[l.Min=0]="Min",l[l.Max=1]="Max",l[l.Required=2]="Required",l[l.Pattern=3]="Pattern",l[l.DashArray=4]="DashArray",l[l.MaxLength=5]="MaxLength",l}({}),c=function(l){return l[l.Value=0]="Value",l[l.Title=1]="Title",l[l.Detail=2]="Detail",l}({}),s=function(l){return l[l.AllDynamicSeries=0]="AllDynamicSeries",l[l.DynamicSeries=1]="DynamicSeries",l[l.AllMultipleStaticSeries=2]="AllMultipleStaticSeries",l[l.MultipleStaticSeries=3]="MultipleStaticSeries",l[l.SingleStaticSeries=4]="SingleStaticSeries",l}({}),p=function(l){return l.Horizonal="horizontalAlignment",l.Vertical="verticalAlignment",l}({})},371577:function(ve,z,e){e.d(z,{$3:function(){return n},$7:function(){return E},$F:function(){return N},$L:function(){return f},$O:function(){return i},Ez:function(){return t},H6:function(){return l},Nz:function(){return a},QC:function(){return P},UJ:function(){return w},WQ:function(){return m},XD:function(){return D},ZX:function(){return o},Zk:function(){return u},bj:function(){return T},br:function(){return C},c$:function(){return y},eO:function(){return c},fJ:function(){return s},fv:function(){return S},gT:function(){return r},m1:function(){return V},nQ:function(){return d},pu:function(){return b},tI:function(){return h},u7:function(){return M},xG:function(){return g},xU:function(){return v},z3:function(){return p}});var a=function(I){return I[I.Cartesian=1]="Cartesian",I[I.Hierarchical=2]="Hierarchical",I[I.Scatter=3]="Scatter",I[I.KeyDrivers=4]="KeyDrivers",I[I.KPI=5]="KPI",I}({}),i=function(I){return I[I.Default=0]="Default",I[I.DataFilter=1]="DataFilter",I[I.HighlightFilter=2]="HighlightFilter",I[I.NoFilter=3]="NoFilter",I}({}),r=function(I){return I[I.None=0]="None",I[I.DiscreteCategory=1]="DiscreteCategory",I[I.ContinuousCategory=2]="ContinuousCategory",I[I.Value=3]="Value",I[I.ConstantValue=4]="ConstantValue",I}({}),t=function(I){return I[I.None=0]="None",I[I.Analyze=1]="Analyze",I[I.ExpandBy=2]="ExpandBy",I[I.ExplainBy=3]="ExplainBy",I[I.PrimaryKey=4]="PrimaryKey",I[I.Count=5]="Count",I[I.TargetValue=6]="TargetValue",I[I.Sensitivity=7]="Sensitivity",I[I.MinimumValue=8]="MinimumValue",I[I.MaximumValue=9]="MaximumValue",I}({}),o=function(I){return I[I.UnrecognizedAxisType=1]="UnrecognizedAxisType",I[I.NoValidBindings=2]="NoValidBindings",I}({}),d=function(I){return I[I.NoValidBindings=1]="NoValidBindings",I}({}),n=function(I){return I[I.Filters=0]="Filters",I}({}),c=function(I){return I.SASToken="sasToken",I}({}),s=function(I){return I[I.BingMaps=0]="BingMaps",I[I.AzureMaps=1]="AzureMaps",I}({}),p=function(I){return I[I.CanvasTooltip=0]="CanvasTooltip",I[I.DrillThrough=1]="DrillThrough",I}({}),l=function(I){return I[I.DataPointSelection=0]="DataPointSelection",I[I.FormattingSubSelection=1]="FormattingSubSelection",I}({}),u=function(I){return I.Bookmark="Bookmark",I.PageNavigation="PageNavigation",I.ApplyAllSlicers="ApplyAllSlicers",I.ClearAllSlicers="ClearAllSlicers",I.DataFunction="DataFunction",I}({}),v=function(I){return I[I.Item=0]="Item",I[I.Separator=1]="Separator",I[I.Title=2]="Title",I}({}),m=function(I){return I.Insights="glyphicon pbi-glyph-insight glyph-small",I}({}),g=function(I){return I.PPE="PPE",I.COM="COM",I.CN="CN",I.GCC="GCC",I.GCCHIGH="GCCHIGH",I.DOD="DOD",I}({}),E=function(I){return I.UndefinedToken="UndefinedToken",I.UnrecognizedCode="UnrecognizedCode",I.UserNotSignedIn="UserNotSignedIn",I.RequestError="RequestError",I}({}),D=function(I){return I[I.Outline=0]="Outline",I[I.Vertical=1]="Vertical",I[I.HorizontalCentered=2]="HorizontalCentered",I[I.HorizontalLeft=3]="HorizontalLeft",I}({}),h=function(I){return I[I.Group=0]="Group",I[I.Rectangle=1]="Rectangle",I[I.Line=2]="Line",I[I.Polygon=3]="Polygon",I[I.Arc=4]="Arc",I}({}),C=function(I){return I[I.None=0]="None",I[I.Hover=1]="Hover",I[I.Active=2]="Active",I}({}),y=function(I){return I[I.Down=0]="Down",I[I.Up=1]="Up",I}({}),f=function(I){return I[I.Navigate=0]="Navigate",I[I.NavigateAndRaiseEvent=1]="NavigateAndRaiseEvent",I[I.RaiseEvent=2]="RaiseEvent",I}({}),S=function(I){return I[I.Single=0]="Single",I[I.Multiple=1]="Multiple",I}({}),b=function(I){return I.Dark="darkTheme",I.Light="lightTheme",I.NeutralGray="neutralGrayTheme",I}({}),V=function(I){return I.Overlayed="overlayedToolbar",I.Stacked="stackedToolbar",I}({}),M=function(I){return I[I.Center=0]="Center",I[I.RelativeToVisual=1]="RelativeToVisual",I}({}),P=function(I){return I[I.Allowed=0]="Allowed",I[I.NotDeclared=1]="NotDeclared",I[I.NotSupported=2]="NotSupported",I[I.DisabledByAdmin=3]="DisabledByAdmin",I}({}),T=function(I){return I[I.Default=0]="Default",I[I.SubSelection=1]="SubSelection",I}({}),N=function(I){return I[I.Tile=0]="Tile",I[I.List=1]="List",I}({}),w=function(I){return I.Callout="callout",I.Highlight="highlight",I}({})},960418:function(ve,z,e){e.d(z,{m:function(){return a}});var a=function(i){return i[i.File=0]="File",i[i.OrgStore=1]="OrgStore",i[i.AppSource=2]="AppSource",i[i.Default=3]="Default",i}({})},242264:function(ve,z,e){e.d(z,{$d:function(){return a},Ff:function(){return i},Jx:function(){return r},P2:function(){return o},RV:function(){return t}});var a=function(d){return d[d.Clamp=0]="Clamp",d[d.Clip=1]="Clip",d}({}),i=function(d){return d.ContextMenu="contextmenu",d}({}),r=function(d){return d.Border="border",d.Grid="grid",d}({}),t=function(d){return d[d.None=0]="None",d[d.Text=1]="Text",d[d.NumericText=2]="NumericText",d[d.Shape=3]="Shape",d}({}),o=function(d){return d[d.Reset=0]="Reset",d[d.Navigate=1]="Navigate",d[d.Toggle=2]="Toggle",d[d.Picker=3]="Picker",d[d.Sort=4]="Sort",d[d.CustomAction=5]="CustomAction",d[d.ConditionalFormatting=6]="ConditionalFormatting",d[d.Divider=7]="Divider",d[d.SubMenu=8]="SubMenu",d[d.SetValue=9]="SetValue",d[d.ResetAllSettings=10]="ResetAllSettings",d}({})},438653:function(ve,z,e){e.d(z,{$:function(){return t},t:function(){return r}});var a=e(18122),i=e(251673),r=(()=>{class o{}return o.NATURAL_LANGUAGE="NaturalLanguage",o})();class t{constructor(d){if(this.version=d.version,this.kind=d.kind,d.kind!==r.NATURAL_LANGUAGE)throw new TypeError("EditorState could not be instantiate to a defined kind.");var n=d.version;n===i.m.V01?this.annotation={description:d.annotation.description,isAutoGenerated:d.annotation.isAutoGenerated,name:d.annotation.name,references:d.annotation.references,utterance:d.annotation.utterance}:a.Y.assertNever(n)}}},260538:function(ve,z,e){e.d(z,{T:function(){return t},v:function(){return r}});var a=e(251673),i=e(438653),r=a.m.V01;function t(o,d){return d===i.t.NATURAL_LANGUAGE}},251673:function(ve,z,e){e.d(z,{m:function(){return a}});var a=function(i){return i[i.V01=1]="V01",i}({})},848665:function(ve,z,e){e.d(z,{G4:function(){return r},L4:function(){return t},iL:function(){return o}});var a=e(906552),i=e(18122);class r{findProperty(n,c){var s=this.entities.withName(n);if(s&&!_.isEmpty(s.properties))return s.properties.withName(c)}get isExtensionSchema(){return this.hasOwnProperty("extends")}findHierarchy(n,c){var s=this.entities.withName(n);if(s&&!_.isEmpty(s.hierarchies))return s.hierarchies.withName(c)}findHierarchyLevel(n,c,s){var p=this.entities.withName(n);if(p&&!_.isEmpty(p.hierarchies)){var l=p.hierarchies.withName(c);if(l&&!_.isEmpty(l.levels))return l.levels.withName(s)}}findHierarchyByVariation(n,c,s,p){var l=this.findTargetEntityOfVariation(n,c,s);if(l&&!_.isEmpty(l.hierarchies))return l.hierarchies.withName(p)}findTargetEntityOfVariation(n,c,s){var p=this.entities.withName(n);if(p&&!_.isEmpty(p.properties)){var l=p.properties.withName(c);if(l){var u=l.column;if(u&&!_.isEmpty(u.variations)){var v=u.variations.withName(s);if(v)return v.navigationProperty?v.navigationProperty.targetEntity:p}}}}findPropertyWithKpi(n,c){i.Y.assertValue(c,"kpiProperty");var s=this.entities.withName(n);if(s&&!_.isEmpty(s.properties))for(var p of s.properties)if(p&&p.measure&&p.measure.kpi&&(p.measure.kpi.status===c||p.measure.kpi.goal===c))return p}findVariationMappings(n){return this.variationMappings||(this.variationMappings=this.buildVariationMappings()),this.variationMappings[n]}findVariationToHierarchyMappings(n){var c=this.findVariationMappings(n);return _.filter(c,s=>s.variation.defaultHierarchy)}findTableNameFromMeasureName(n){return this.measureNameToTableName||(this.measureNameToTableName=this.buildMeasureNameToTableNameMappings()),this.measureNameToTableName[n]}get isMultiDimensionalModel(){return this.capabilities&&this.capabilities.normalizedFiveStateKpiRange}buildVariationMappings(){var n={};return _(this.entities).filter(c=>c.properties).forEach(c=>{_(c.properties).filter(s=>s.column&&s.column.variations).forEach(s=>{_(s.column.variations).filter(p=>p.navigationProperty&&p.navigationProperty.targetEntity).forEach(p=>{var l=p.navigationProperty.targetEntity.name,u=n[l];u||(n[l]=u=[]),u.push({sourceEntity:c,sourceProperty:s,variation:p})})})}),n}buildMeasureNameToTableNameMappings(){var n={};for(var c of this.entities){var s=function(l){l.measure&&(i.Y.assert(()=>!n[l.name],`there is a collision for ${l.name}; every measure has a unqiue name in the model`),n[l.name]=c.name)};for(var p of c.properties)s(p)}return n}}function t(d){switch(d){case a.B.None:return"None";case a.B.Address:return"Address";case a.B.City:return"City";case a.B.Company:return"Company";case a.B.Continent:return"Continent";case a.B.Country:return"Country";case a.B.County:return"County";case a.B.Date:return"Date";case a.B.Image:return"Image";case a.B.ImageUrl:return"ImageUrl";case a.B.Latitude:return"Latitude";case a.B.Longitude:return"Longitude";case a.B.Organization:return"Organization";case a.B.Place:return"Place";case a.B.PostalCode:return"PostalCode";case a.B.Product:return"Product";case a.B.StateOrProvince:return"StateOrProvince";case a.B.WebUrl:return"WebUrl"}}function o(d){switch(d){case"None":return a.B.None;case"Address":return a.B.Address;case"City":return a.B.City;case"Company":return a.B.Company;case"Continent":return a.B.Continent;case"Country":return a.B.Country;case"County":return a.B.County;case"Date":return a.B.Date;case"Image":return a.B.Image;case"ImageUrl":return a.B.ImageUrl;case"Latitude":return a.B.Latitude;case"Longitude":return a.B.Longitude;case"Organization":return a.B.Organization;case"Place":return a.B.Place;case"PostalCode":return a.B.PostalCode;case"Product":return a.B.Product;case"StateOrProvince":return a.B.StateOrProvince;case"WebUrl":return a.B.WebUrl}}},268989:function(ve,z,e){e.d(z,{R:function(){return r}});var a=e(943509),i=function(o){return o[o.None=0]="None",o[o.Log=1]="Log",o}({});function r(o,d){if(o){var n;if(o.top&&(n={Top:{}},o.top.count&&(n.Top.Count=o.top.count)),o.bottom&&(n={Bottom:{}},o.bottom.count&&(n.Bottom.Count=o.bottom.count)),o.sample&&(n={Sample:{}},o.sample.count&&(n.Sample.Count=o.sample.count)),o.window&&(n={Window:{}},o.window.count&&(n.Window.Count=o.window.count)),o.binnedLineSample&&(n={BinnedLineSample:{}},null!=o.binnedLineSample.primaryScalarKey&&(n.BinnedLineSample.PrimaryScalarKey=o.binnedLineSample.primaryScalarKey),o.binnedLineSample.count&&(n.BinnedLineSample.Count=o.binnedLineSample.count),o.binnedLineSample.warningCount&&(n.BinnedLineSample.WarningCount=o.binnedLineSample.warningCount)),o.overlappingPointsSample){var c=o.overlappingPointsSample;n={OverlappingPointsSample:{}},c.count&&(n.OverlappingPointsSample.Count=c.count);var s=c.x;s&&1===_.size(s.role.items)&&(n.OverlappingPointsSample.X=t(d,s.role.items[0].queryName,s.transform));var p=c.y;p&&1===_.size(p.role.items)&&(n.OverlappingPointsSample.Y=t(d,p.role.items[0].queryName,p.transform))}return o.topNPerLevel&&(n={TopNPerLevel:{Count:o.topNPerLevel.count}}),n}}function t(o,d,n){var c={Index:_.findIndex(o,s=>s.name===d)};return n&&n===a.Xx.Log&&(c.Transform=i.Log),c}},53069:function(ve,z,e){e.d(z,{$Y:function(){return v},TM:function(){return E},VF:function(){return m},_D:function(){return D}});var a=e(620825),i=e(98138),r=e(81825),t=e(579260),o=e(18122),d=e(476271),n=e(757406),c=e(890741);function s(h,C,y){(0,a.mP)(h)?(p(y),s(h.left,C,y.left),s(h.right,C,y.right)):(0,a.Wc)(h)?(o.Y.assert(()=>(0,a.Qg)(h.left)||(0,a.tx)(h.left)||(0,a.R3)(h.left)||(0,a.b9)(h.left),"expression.left should be fieldRef: entity/measure/column/aggregate"),p(y,h.left),o.Y.assert(()=>(0,a.VO)(h.right),"expression.right should be constant"),C.push(h.right)):o.Y.assertFail("identities should consists of COMPARE, AND, and should not reach to fieldRef(ENTITY/MEASURE/COLUMN/AGGREGATE) and CONSTANT exprs")}function p(h,C){C?h.value=C:(h.left={},h.right={})}function l(h,C){return!(!h||!C)&&(h.left&&h.right?!(!C.left||!C.right)&&l(h.left,C.left)&&l(h.right,C.right):h.value?!!C.value&&(0,i.aI)(h.value,C.value):(o.Y.assertFail("CompareTreeNode failed, invalid tree structure"),!1))}function u(h){if((0,c.fF)(h))return h.expr;o.Y.assertFail("selectors should be scoped identities")}function v(h){if(o.Y.assertValue(h,"selectorsByColumnArray"),h){var C={},y=[],f=[],S=[],b=[],V=[],M=[];for(var P of h){var T=[],N={};if(M.push(P.id),V.push(P.metadata),P.dataMap){for(var w in P.dataMap){var I=(0,t.eC)(P.dataMap[w]);for(var O of I){var x={},j=[],U={},F=_.indexOf(S,w);F<0&&(S.push(w),F=S.length-1),s(u(O),j,U);for(var R=-1,B=0;B<f.length;B++)if(l(U,f[B])){R=B;break}R<0&&(f.push(U),R=f.length-1),x[R]=j,N[F]=N[F]||[],N[F].push(R),T.push(x)}}b.push(N),y.push(T)}}return!_.isEmpty(y)&&!_.isEmpty(y)&&(C.decomposedIdentities={values:y,columns:f}),!_.isEmpty(S)&&!_.isEmpty(b)&&(C.queryNames=S,C.queryNameMap=b),_.some(V,W=>!!W)&&(C.metadata=V),_.some(M,W=>!!W)&&(C.id=M),C}}function m(h){if(o.Y.assertValue(h,"filterExpressionMetadata"),h){var C={expressions:h.expressions},y=[],f=[],S=[];if(h.cachedValueItems){for(var b of h.cachedValueItems){S.push(b.valueMap);var V=[];for(var M of b.identities){var P={},T=[],N={};s(u(M),T,P);for(var w=-1,I=0;I<f.length;I++)if(l(P,f[I])){w=I;break}w<0&&(f.push(P),w=f.length-1),N[w]=T,V.push(N)}y.push(V)}C.decomposedIdentities={values:y,columns:f},C.valueMap=S}return C}}function g(h,C,y){if(C.left&&C.right){var f=g(h,C.left,y),S=g(h,C.right,y);return(0,n.Uo)(f,S)}if(C.value){var b=C.value,V=h[y.index++];return o.Y.assert(()=>(0,a.Qg)(b)||(0,a.tx)(b)||(0,a.R3)(b)||(0,a.b9)(b),"expression.left should be fieldRef: entity/measure/column/aggregate"),o.Y.assert(()=>(0,a.VO)(V),"expression.right should be constant"),(0,n.UD)(r.mq.Equal,b,V)}o.Y.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function E(h){if(o.Y.assertValue(h,"decomposedSelectors"),h){var C=[],y=h.decomposedIdentities&&h.decomposedIdentities.values,f=h.decomposedIdentities&&h.decomposedIdentities.columns,S=h.queryNames,b=h.queryNameMap;if(y&&f)for(var V=0;V<y.length;V++){var M=y[V],P={dataMap:{}};P.metadata=h.metadata&&h.metadata[V],P.id=h.id&&h.id[V];var T=b[V];for(var N of M){var w=_.keys(N);for(var I of w){var O=_.toNumber(I);for(var x in T){var j=T[x];if(_.indexOf(j,O)>=0){var U=S[x],B=g(N[O],f[O],{index:0}),A=(0,d.UQ)(B);P.dataMap[U]=P.dataMap[U]||[],P.dataMap[U].push(A),_.pull(j,O);break}}}}C.push(P)}else{if(!_.isEmpty(h.metadata))for(var W of h.metadata){var G={};G.metadata=W,C.push(G)}if(!_.isEmpty(h.id))for(var K=_.isEmpty(C),q=0;q<h.id.length;q++){var k=K?{}:C[q];k.id=h.id[q],K&&C.push(k)}}return C}}function D(h){if(o.Y.assertValue(h,"decomposedSelectors"),h){var C={expressions:h.expressions},y=h.decomposedIdentities&&h.decomposedIdentities.values,f=h.decomposedIdentities&&h.decomposedIdentities.columns,S=[];if(y&&f){for(var b=0;b<y.length;b++){var V=y[b],M=[];for(var P of V)for(var T in P){var I=g(P[T],f[T],{index:0}),O=(0,d.UQ)(I);M.push(O)}S.push({identities:M,valueMap:h.valueMap[b]})}_.isEmpty(S)||(C.cachedValueItems=S),h.jsonFilter&&(C.jsonFilter=h.jsonFilter)}return C}}},34584:function(ve,z,e){e.d(z,{ES:function(){return u},IW:function(){return i},JD:function(){return c},K3:function(){return n},LV:function(){return D},S_:function(){return l},Sw:function(){return r},Tg:function(){return a},Wy:function(){return E},d9:function(){return m},kD:function(){return s},rP:function(){return g},u2:function(){return d},xx:function(){return o},ye:function(){return t}});var a=function(h){return h[h.Visible=0]="Visible",h[h.Hidden=1]="Hidden",h[h.ShowAsVariationsOnly=2]="ShowAsVariationsOnly",h[h.IsPrivate=4]="IsPrivate",h}({}),i=function(h){return h[h.Queryable=0]="Queryable",h[h.Error=1]="Error",h}({}),r=function(h){return h[h.ZeroOrOne=0]="ZeroOrOne",h[h.One=1]="One",h[h.Many=2]="Many",h}({}),t=function(h){return h[h.Column=0]="Column",h[h.Measure=1]="Measure",h[h.Kpi=2]="Kpi",h}({}),o=function(h){return h[h.Default=0]="Default",h[h.None=1]="None",h[h.Sum=2]="Sum",h[h.Count=3]="Count",h[h.Min=4]="Min",h[h.Max=5]="Max",h[h.Average=6]="Average",h[h.DistinctCount=7]="DistinctCount",h}({}),d=function(h){return h[h.Default=0]="Default",h[h.DiscourageAcrossGroups=1]="DiscourageAcrossGroups",h}({}),n=function(h){return h[h.Sum=0]="Sum",h[h.Count=1]="Count",h[h.Min=2]="Min",h[h.Max=3]="Max",h}({}),c=function(h){return h[h.Default=0]="Default",h[h.Weak=1]="Weak",h}({}),s=function(h){return h[h.Single=0]="Single",h[h.Both=1]="Both",h}({}),l=function(h){return h[h.WhatIf=0]="WhatIf",h[h.MParameters=1]="MParameters",h[h.Field=2]="Field",h}({}),u=function(h){return h[h.Version0=0]="Version0",h[h.Version1=1]="Version1",h}({}),m=function(h){return h[h.None=0]="None",h[h.OnOrBefore=1]="OnOrBefore",h[h.OnOrAfter=2]="OnOrAfter",h[h.Before=3]="Before",h[h.After=4]="After",h}({}),g=function(h){return h[h.IsOnOrAfter=0]="IsOnOrAfter",h[h.IsAfter=1]="IsAfter",h}({}),E=function(h){return h[h.Collapsed=0]="Collapsed",h[h.Expanded=1]="Expanded",h}({}),D=function(h){return h[h.None=0]="None",h[h.Before=1]="Before",h[h.After=2]="After",h}({})},586854:function(ve,z,e){e.d(z,{Ry:function(){return m},ZF:function(){return s},Ze:function(){return D},nu:function(){return d},o8:function(){return n},qj:function(){return E},rz:function(){return h},t7:function(){return p},uS:function(){return c},ye:function(){return g}});var a=e(98138),i=e(579260),r=e(18122),t=e(106302),o=e(890741);class d{constructor(y,f={}){r.Y.assertNonEmpty(y,"Empty roles"),this.roles=y,this.root={identityValues:null,children:[],parent:null},this.levels=[];var{supportsMerge:S,canCollapseRoot:b,collapseParentAfterRemovingChildLevel:V}=f;this.supportsMerge=!!S,this.canCollapseRoot=!!b,this.collapseParentAfterRemovingChildLevel=!!V}updateLevels(y,f){if(!_.isEmpty(y)&&(0!==f||this.canCollapseRoot)){r.Y.assert(()=>f<=_.size(y),"Number of active projections cannot be greater than the number of projections");var S=y.length,b=this.levels;this.levels=new Array(S);for(var V=0;V<S;V++){var M=V>=f-1,P=b[V],T=[y[V]];P&&_.isEqual(P.queryRefs,T)?(this.levels[V]=P,P.isCollapsed=M):this.levels[V]={isCollapsed:M,queryRefs:T,toggledNodes:[]}}this.canCollapseRoot&&(0===f?this.root.isToggled=!0:delete this.root.isToggled),this.pinLevels(f)}}clone(){for(var y={supportsMerge:this.supportsMerge,canCollapseRoot:this.canCollapseRoot,collapseParentAfterRemovingChildLevel:this.collapseParentAfterRemovingChildLevel},f=new d(_.clone(this.roles),y),S=new Array(this.levels.length),b=0;b<this.levels.length;b++)S[b]=[];return f.levels=_.map(this.levels,(V,M)=>this.cloneExpansionLevel(V,S,M)),f.root=this.cloneExpansionNode(this.root,null,S,-1),f}isStateModified(){return _.some(this.levels,y=>!y.isCollapsed)||!_.isEmpty(this.root.children)}addLevel(y,f,S=!1){r.Y.assert(()=>this.supportsMerge);var b=_.findLastIndex(this.levels,w=>w.isPinned),V={isCollapsed:!S,queryRefs:[y],toggledNodes:[],isPinned:f<=b||void 0};r.Y.assert(()=>f<=_.size(this.levels),"position > count of levels");for(var M=_.findIndex(this.levels,w=>!_.isEmpty(w.toggledNodes),f),T=-1===M?f:M;T<_.size(this.levels);T++)this.setLevelState(T,!0);if(this.levels.splice(f,0,V),this.unlockLevels(f),V.isPinned)for(var N=0;N<f;N++)delete this.levels[N].AIInformation}removeLevel(y){var f;r.Y.assert(()=>this.supportsMerge),r.Y.assert(()=>y>=0&&y<_.size(this.levels),"invalid level position"),this.collapseParentAfterRemovingChildLevel&&(f=this.getVisibleDescendentsDepth(this.root,-1)),this.removeIntermediateNodes(this.root,-1,S=>S===y),this.levels.splice(y,1),this.collapseParentAfterRemovingChildLevel&&y>0&&y===f-1&&this.setLevelState(y-1,!0),y<_.size(this.levels)&&this.unlockLevels(y)}moveLevels(y,f,S){r.Y.assert(()=>this.supportsMerge),r.Y.assert(()=>y<_.size(this.levels),"sourceIndex >= count of level"),r.Y.assert(()=>f<_.size(this.levels),"targetIndex >= count of level");var b=_.findLastIndex(this.levels,O=>O.isPinned),V=Math.min(y,f);if(f>y){r.Y.assert(()=>y+S<=_.size(this.levels),"sourceIndex + count exceeds level count"),this.removeIntermediateNodes(this.root,-1,O=>O>=y&&O<y+S);for(var M=y;M<Math.min(y+S,_.size(this.levels));M++)this.levels[M].toggledNodes=[]}var P=this.levels.splice(y,S);this.levels.splice(f,0,...P||[]);for(var T=_.findIndex(this.levels,O=>!_.isEmpty(O.toggledNodes),f),w=-1===T?f:T;w<_.size(this.levels);w++)this.setLevelState(w,!0);if(this.unlockLevels(V),y>b&&f<=b?_.forEach(P,O=>O.isPinned=!0):y<=b&&f>b&&_.forEach(P,O=>O.isPinned=!1),_.forEach(P,O=>delete O.AIInformation),this.levels[f].isPinned)for(var I=0;I<f;I++)delete this.levels[I].AIInformation}getVisibleDescendentsDepth(y,f){var S=this.levels.length;if(r.Y.assert(()=>f<S,"node out of bounds"),-1===f&&this.canCollapseRoot&&y.isToggled)return 0;for(var b=[y];;){if(f===S-1)return f+1;var V=this.levels[f]&&this.levels[f].isCollapsed,M=void 0,P=[];for(var T of b)!V==!T.isToggled&&(P.push(...T.children||[]),M=!0);if(M&&f++,!(P.length>0))break;b=P}for(;f<S-1&&(-1===f||!this.levels[f].isCollapsed);)f++;return f+1}removeIntermediateNodes(y,f,S){if(S(f)){var b=!!y.isToggled!=!!this.levels[f].isCollapsed;_.pull(y.parent.children,y),_.forEach(y.children,V=>{b&&(V.isToggled=!this.levels[f+1].isCollapsed),V.parent=y.parent,y.parent.children.push(V)})}_.forEach([...y.children||[]],V=>this.removeIntermediateNodes(V,f+1,S))}cloneExpansionLevel(y,f,S){return{isCollapsed:y.isCollapsed,identityKeys:this.cloneExpressionList(y.identityKeys),queryRefs:_.clone(y.queryRefs),toggledNodes:f[S],isPinned:y.isPinned,isLocked:y.isLocked,AIInformation:y.AIInformation?{method:y.AIInformation.method,disabled:y.AIInformation.disabled}:void 0}}cloneExpansionNode(y,f,S,b){var V={identityValues:this.cloneExpressionList(y.identityValues),children:[],parent:f};for(var M of(void 0!==y.isToggled&&(V.isToggled=y.isToggled),b>=0&&S[b].push(V),y.children))V.children.push(this.cloneExpansionNode(M,V,S,b+1));return V}cloneExpressionList(y){return y?_.map(y,f=>f):null}setNodeState(y,f){if(y&&_.isEmpty(y.data))return r.Y.assert(()=>this.canCollapseRoot,"Collapse to root capability is not enabled"),f?this.root.isToggled=!0:delete this.root.isToggled,this.root;var S=(0,o.uR)(y);if(S){for(var b=S.length,V=this.root,M=0;M<b;M++){var P=S[M],T=(0,t.xD)(P.expr);if(!this.ensureLevel(M,T))return;var w=(0,t.BI)(P.expr);V=this.ensureChildNode(M,V,w,M===b-1?f:void 0)}if(!this.pruneNonToggledLeaf(V))return V}}ensureLevel(y,f){var S=this.levels[y];if(r.Y.assertValue(S,"level does not exist"),S.identityKeys){if(!(0,i.m2)(S.identityKeys,f,a.aI))return}else S.identityKeys=f;return S}ensureChildNode(y,f,S,b){r.Y.assertValue(f,"parent"),r.Y.assertValue(S,"identityValues"),r.Y.assertValue(y>=0,"levelIdx >= 0");var V=this.levels[y];r.Y.assertValue(V,"level does not exist");var M=this.findNodeMatchingIdentities(f.children,S);return M||f.children.push(M={children:[],identityValues:S,parent:f}),void 0!==b&&(b!==!!V.isCollapsed?(M.isToggled=!0,_.indexOf(V.toggledNodes,M)<0&&V.toggledNodes.push(M)):(delete M.isToggled,V.toggledNodes=_.filter(V.toggledNodes,P=>P!==M))),M}pruneNonToggledLeaf(y){r.Y.assertValue(y,"node");for(var f=!1;y.parent&&!y.isToggled&&_.isEmpty(y.children);)y.parent.children=_.filter(y.parent.children,S=>S!==y),y=y.parent,f=!0;return f}setLevelState(y,f){if(-1===y)return r.Y.assert(()=>this.canCollapseRoot,"Collapse to root capability is not enabled"),void(f?this.root.isToggled=!0:delete this.root.isToggled);r.Y.assert(()=>y>-1,"levelIdx");var S=this.levels[y];if(S){for(var b of(S.isCollapsed=f,S.toggledNodes))delete b.isToggled,this.pruneNonToggledLeaf(b);S.toggledNodes=[]}}pinLevels(y){r.Y.assert(()=>y<=_.size(this.levels),"Requested pinning of too many levels");for(var f=0;f<Math.min(y,_.size(this.levels));f++)this.levels[f].isPinned=!0}unpinLevels(y){r.Y.assert(()=>y<_.size(this.levels),"Level does not exist");var f=this.getVisibleDescendentsDepth(this.root,-1);r.Y.assert(()=>y>=f-1,"cannot unpin projected level");for(var S=Math.max(y,f-1);S<_.size(this.levels);S++)delete this.levels[S].isPinned}lockLevels(y){r.Y.assert(()=>y<=_.size(this.levels),"Requested locking of too many levels");for(var f=0;f<Math.min(y,_.size(this.levels));f++)this.levels[f].isLocked=!0}unlockLevels(y){r.Y.assert(()=>y<_.size(this.levels),"Level does not exist");for(var f=y;f<_.size(this.levels);f++)delete this.levels[f].isLocked}setAILevelInformation(y,f){r.Y.assert(()=>y<_.size(this.levels),"Level does not exist"),f?this.levels[y].AIInformation=_.cloneDeep(f):delete this.levels[y].AIInformation}getAILevelInformation(y){return r.Y.assert(()=>y<_.size(this.levels),"Level does not exist"),_.cloneDeep(this.levels[y].AIInformation)}isWholeLevelExpanded(y){var f=this.levels[y];return!f||!f.isCollapsed&&_.isEmpty(f.toggledNodes)}isHierarchyExpanded(){r.Y.assertNonEmpty(this.levels,"levels"),r.Y.assert(()=>this.isWholeLevelCollapsed(this.levels.length-1),"Last level should be collapsed");for(var y=0;y<this.levels.length-1;y++)if(!this.isWholeLevelExpanded(y))return!1;return!0}isWholeLevelCollapsed(y){var f=this.levels[y];return f&&f.isCollapsed&&_.isEmpty(f.toggledNodes)}getNodeLevelState(y,f,S){if(r.Y.assertNonEmpty(y,"identities"),r.Y.assert(()=>S>=0,"levelIndex >= 0"),S>=this.levels.length)return{isNodeCollapsed:!1,levelHasToggledNodes:!1};var b=y[0],V=this.ensureLevel(S,(0,t.xD)(b.expr));if(V){var T,M=!_.isEmpty(V.toggledNodes),P=(0,t.BI)(b.expr);return f&&(T=this.findNodeMatchingIdentities(f.children,P)),1===y.length?T?{isNodeCollapsed:T.isToggled?!V.isCollapsed:V.isCollapsed,levelHasToggledNodes:M}:{isNodeCollapsed:V.isCollapsed,levelHasToggledNodes:M}:(y.splice(0,1),this.getNodeLevelState(y,T,S+1))}}rewrite(y){for(var f of this.levels)f.identityKeys&&(f.identityKeys=_.map(f.identityKeys,S=>S.accept(y)));return this.root=this.rewriteNodeExpansionState(this.root,y),this}rewriteNodeExpansionState(y,f){return y.identityValues&&(y.identityValues=_.map(y.identityValues,S=>S.accept(f))),y.children=_.map(y.children,S=>this.rewriteNodeExpansionState(S,f)),y}findNodeMatchingIdentities(y,f){return _.find(y,S=>(0,i.m2)(S.identityValues,f,a.aI))}}function n(C){if(C)return _.map(C,y=>y.clone())}function c(C,y){return r.Y.assertValue(C,"ExpansionStates"),r.Y.assertNonEmpty(y,"Empty roles"),_.find(C,f=>_.isEqual(f.roles,y))}function s(C,y){return r.Y.assertValue(C,"ExpansionStates"),r.Y.assertValue(y,"Role"),_.find(C,f=>_.includes(f.roles,y))}function p(C,y){return(0,i.m2)(C,y,l)}function l(C,y){return!(!C!=!y||!_.isEqual(C.roles,y.roles)||!(0,i.m2)(C.levels,y.levels,u))&&v(C.root,y.root)}function u(C,y){return!C&&!y||!!(C&&y&&_.isEqual(C.queryRefs,y.queryRefs)&&(0,i.m2)(C.identityKeys,y.identityKeys,a.aI)&&C.isCollapsed===y.isCollapsed&&(0,i.m2)(C.toggledNodes,y.toggledNodes,v))}function v(C,y){return!(!(0,i.m2)(C.identityValues,y.identityValues,a.aI)||!!C.isToggled!=!!y.isToggled||!(0,i.m2)(C.children,y.children,v))}function m(C){return!_.isEmpty(C)}function g(C){return!_.isEmpty(C.root.children)||!_.isEmpty(C.root.identityValues)}function E(C){return _.findIndex(C.levels,y=>y.isPinned)>=0}function D(C,y,f){var S=c(C,y);if(S)return S.getAILevelInformation(f)}function h(C,y){var f=c(C,y);return f?_.findLastIndex(f.levels,S=>S.isPinned)+1:0}},61839:function(ve,z,e){e.d(z,{I:function(){return i}});var a=e(18122);class i{constructor(t){a.Y.assertValue(t,"options"),this.schemasByName=t.schemas,t.links&&(this.links=t.links)}static merge(t){if(1===t.length)return t[0];var o={},d=[];for(var n of t){var c=function(v){a.Y.assert(()=>!o[v],`Duplicate schema name ${v} found while merging`),o[v]=n.schemasByName[v]};for(var s in n.schemasByName)c(s);d.push(...n.links||[])}var p=function(){var v=o[l];if(v.isExtensionSchema){var m=o[v.extends];a.Y.assert(()=>!m.isExtensionSchema,"Extension schemas cannot themselves be extended"),i.mergeCapabilities(m,v)}};for(var l in o)p();var u={schemas:o};return _.some(d)&&(u.links=d),new i(u)}get schemas(){return _.values(this.schemasByName)}schema(t){return this.schemasByName[t]}static mergeCapabilities(t,o){o.capabilities={...t.capabilities,canEdit:o.capabilities.canEdit,isExtendable:o.capabilities.isExtendable}}}},678162:function(ve,z,e){e.d(z,{V:function(){return o},a:function(){return t}});var a=e(81825),i=e(309857),r=e(18122);function t(d){switch(d){case a.Fj.Add:return"Add";case a.Fj.Subtract:return"Subtract";case a.Fj.Multiply:return"Multiply";case a.Fj.Divide:return"Divide"}return(0,i.fJ)("Unexpected ArithmeticOperatorKind: "+d)}function o(d){switch(d){case a.Sn.Sum:return"Sum";case a.Sn.Avg:return"Avg";case a.Sn.Count:return"Count";case a.Sn.Min:return"Min";case a.Sn.Max:return"Max";case a.Sn.CountNonNull:return"CountNonNull";case a.Sn.Median:return"Median";case a.Sn.StandardDeviation:return"StandardDeviation";case a.Sn.Variance:return"Variance";default:r.Y.assert(()=>null==d,"Unrecognized aggregate function.")}}},8343:function(ve,z,e){e.d(z,{Lw:function(){return n},o8:function(){return d},yl:function(){return o}});var a=e(98138),i=e(18122),r=e(302887),t=e(324394);class o{constructor(s,p,l,u){i.Y.assertValue(s,"items"),this.items=s,this._activeProjectionRefs=p,this._showAll=l,this.parameters=u||[]}all(){return this.items}resetHiddenState(s){if(!_.isEmpty(this.items))for(var p of this.items)p.queryRef===s&&delete p.hidden}toggleHidden(s){if(!_.isEmpty(this.items))for(var p of this.items)p.queryRef===s&&(p.hidden=!p.hidden)}setFieldHidden(s,p){if(!_.isEmpty(this.items))for(var l of this.items)l.queryRef===s&&(l.hidden=p)}resetAllHiddenState(){for(var s of this.items)delete s.hidden}projected(){return _.isEmpty(this.items)?this.items:_.filter(this.items,s=>s&&!s.hidden)}addProjection(s,p){var l,u,v;p&&(l=p.fieldIndex,u=p.parameter,v=p.indexInParameter);var m=this.getProjectionIndex(l,u,v);this.fixUpParameterIndices(u,l,1),m>=this.items.length?this.items.push(s):this.items.splice(m,0,s)}removeProjection(s){var p,l,u;s&&(p=s.fieldIndex,l=s.parameter,u=s.indexInParameter),i.Y.assert(()=>null!=p||null!=l&&null!=u,"When removing a projection we expect field index or the parameter options to be complete.");var v=this.getProjectionIndex(p,l,u);this.fixUpParameterIndices(l,p,-1),this.items.splice(v,1)}fixUpParameterIndices(s,p,l){for(var u of this.parameters)s?u.index===s.index&&(void 0===u.length&&(u.length=0),u.length+=l):null!=p&&u.index>=p&&(l>0?u.index>=p:u.index>p)&&(u.index+=l)}moveFields(s,p,l){var u,v,m;if(0===this.parameters.length)u=s,v=l,m=p;else{if(i.Y.assert(()=>s>=0&&s<this.getFieldCount()&&p>=0&&p<this.getFieldCount(),"Should use valid field indices"),i.Y.assert(()=>s+l<=this.getFieldCount(),"Should not attempt to move more fields than exist in collection"),i.Y.assert(()=>p+l<=this.getFieldCount(),"Moving projections should not change the length of collection"),l<=0||s===p)return[];u=this.convertFieldIndexToProjectionIndex(s);var E=this.indexOfLastProjectionInField(s+l-1);for(var y of(v=E-u+1,m=this.convertFieldIndexToProjectionIndex(p),p>s&&(m+=this.indexOfLastProjectionInField(p+l-1)-m+1-v),this.parameters))y.index>=s&&y.index<=s+l-1?y.index=p+y.index-s:y.index>s&&y.index<=p+l-1?y.index-=l:y.index<s&&y.index>=p&&(y.index+=l);if(E<u)return[]}var f=this.items.splice(u,v);return this.items.splice(m,0,...f||[]),f}assignProjection(s,p){this.items[p]=s}updateQueryRef(s,p){this.items[s].queryRef=p}getQueryRefs(){return _.map(this.items,s=>s.queryRef)}getFieldParameters(){return this.parameters}getParameterByQueryRef(s){var p=this.getFieldParameters();for(var l of p)if(this.getParameterProjections(l).some(v=>v.queryRef===s))return l}addFieldParameter(s){for(var p of this.parameters)p.index>=s.index&&p.index++;this.parameters.push(s)}getColumnProjectionIndex(s){return i.Y.assert(()=>!_.find(this.parameters,p=>p.index===s),"Should not be called on parameters"),this.convertFieldIndexToProjectionIndex(s)}getProjectionsByProjectionIndex(s){var p=this.convertProjectionIndexToFieldIndex(s),l=this.getParameterByFieldIndex(p);return l?this.getParameterProjections(l):[this.items[s]]}getProjectionsByFieldIndex(s){var p=this.getParameterByFieldIndex(s);if(p){var l=this.getParameterProjections(p),u=_.filter(l,g=>null!=g);return u.length!==l.length&&i.Y.assertFail("The projection should exist, but in some extraordinary scenario it does not exist"),u}var v=this.convertFieldIndexToProjectionIndex(s),m=this.items[v];return null==m?(i.Y.assertFail("The projection should exist, but in some extraordinary scenario it does not exist"),[]):[m]}convertProjectionIndexToFieldIndex(s){if(_.isEmpty(this.parameters))return s;var p=0,l=0,u=_.sortBy(this.parameters,m=>m.index);for(var v of u){if(p+s-l<v.index)break;if((l+=v.index-p-1)+(v.length??0)>s)return v.index;p=v.index,l+=v.length??0}return p+s-l}doesParameterExist(s){return _.some(this.parameters,p=>p.index===s)}getParameterProjectionIndex(s,p){return i.Y.assert(()=>s&&null!=p,"Parameter and indexInParameter should both be defined"),i.Y.assert(()=>this.doesParameterExist(s.index),"Parameter should exist for this projection"),this.convertFieldIndexToProjectionIndex(s.index)+p}getColumnProjection(s){if(!this.doesParameterExist(s))return this.items[this.getColumnProjectionIndex(s)]}getParameterProjections(s){if(!s||!s.length)return[];var p=this.convertFieldIndexToProjectionIndex(s.index);return this.items.slice(p,p+s.length)}resetParameterSortDirection(s){delete s?.sortDirection}removeFieldParameters(s){var u,p=this,l=function(m){var g=_.findIndex(p.parameters,C=>C.index===m.index&&(0,a.aI)(C.expr,m.expr));if(g<0)return{v:!1};var E=p.parameters.splice(g,1)[0],D=E.index;for(var h of(i.Y.assert(()=>0===E.length||null==E.length,"there should be no projections for this removed parameter"),p.parameters))h.index>D&&h.index--};for(var v of s)if(u=l(v))return u.v;return!0}findParameterBySQExpr(s){return _.isEmpty(this.parameters)?[]:this.parameters.filter(p=>(0,a.aI)(p.expr,s))}getParameterByFieldIndex(s){return _.find(this.parameters,p=>p.index===s)}get activeProjectionRefs(){return this._activeProjectionRefs}set activeProjectionRefs(s){if(_.isEmpty(s))this._activeProjectionRefs=void 0;else{var p=this.items.map(u=>u.queryRef);for(var l of s)if(!_.includes(p,l))return;this._activeProjectionRefs=s}}get showAll(){return this._showAll}set showAll(s){this._showAll=s}addActiveQueryReference(s){this._activeProjectionRefs?this._activeProjectionRefs.push(s):this._activeProjectionRefs=[s]}getLastActiveQueryReference(){if(!_.isEmpty(this._activeProjectionRefs))return this._activeProjectionRefs[this._activeProjectionRefs.length-1]}replaceQueryRef(s,p){for(var l of(i.Y.assertValue(s,"oldQueryRef"),i.Y.assertValue(p,"newQueryRef"),i.Y.assert(()=>s!==p,"oldQueryRef !== newQueryRef"),i.Y.assert(()=>_.isEmpty(this._activeProjectionRefs),"replaceQueryRef(...) is not supported on the QueryProjectionCollection of a drillable role"),this.items))l.queryRef===s&&(l.queryRef=p)}clone(){return new o(_.cloneDeep(this.items),_.clone(this._activeProjectionRefs),this._showAll,_.map(this.parameters,s=>({expr:s.expr,index:s.index,length:s.length,sortDirection:s.sortDirection})))}getProjectionIndex(s,p,l){var u;if(p){var v=p.length??0;null!=l?(i.Y.assert(()=>l<=v,"indexInParameter should not exceed the current length of the parameter's projections."),u=this.convertFieldIndexToProjectionIndex(p.index)+l):u=this.convertFieldIndexToProjectionIndex(p.index)+v}else u=null!=s?this.convertFieldIndexToProjectionIndex(s):this.items.length;return u}convertFieldIndexToProjectionIndex(s){return(0,t.QX)(s,this.parameters)}indexOfLastProjectionInField(s){var p=this.convertFieldIndexToProjectionIndex(s),l=_.find(this.parameters,u=>u.index===s);return l&&(p+=l.length-1),p}getFieldCount(){var s=this.items.length;for(var p of this.parameters)s-=(p.length??0)-1;return s}}function d(c){if(!c)return c;var s={};for(var p in c)s[p]=c[p].clone();return s}function n(c,s){if(i.Y.assertAnyValue(c,"roles"),i.Y.assertValue(s,"name"),c)return c[s]}(0,r.d)(o.prototype)},890741:function(ve,z,e){e.d(z,{$B:function(){return b},Ac:function(){return x},Bz:function(){return y},Dj:function(){return V},EU:function(){return h},Pl:function(){return R},Pv:function(){return T},Rf:function(){return u},Sn:function(){return N},XJ:function(){return P},aI:function(){return M},fF:function(){return v},i7:function(){return I},is:function(){return F},j9:function(){return U},jG:function(){return E},kH:function(){return O},mu:function(){return w},o8:function(){return B},pB:function(){return g},rh:function(){return m},sJ:function(){return S},ss:function(){return f},uR:function(){return C},z2:function(){return D},zP:function(){return j}});var a=e(579260),i=e(18122),r=e(482713),t=e(688555),o=e(476271),d=e(619895),n=e(735183),c=e(877723),s=e(106302),p=e(757406),l=e(369195),u="{}";function v(A){return null!=A&&A.kind===r.y.ScopeIdentity}function m(A){return null!=A&&A.kind===r.y.ScopeWildcard}function g(A){return null!=A&&A.kind===r.y.ScopeTotal}function E(A){return null!=A&&A.kind===r.y.RoleWildcard}function D(A){return null!=A&&A.kind===r.y.Wildcard}function h(A){return!(!A||!A.data)&&A&&A.data&&1===A.data.length&&D(A.data[0])}function C(A){if(A&&!_.isEmpty(A.data)){for(var W=A.data.length,G=new Array(W),K=0;K<W;K++){var q=A.data[K];if(!v(q))return;G[K]=q}return G}}function y(A){if(A&&A.dataMap){var W=[];for(var G in A.dataMap){var K=(0,a.eC)(A.dataMap[G]);W.push(...K||[])}return W}}function f(A,W){if(!_.isEmpty(A)){var G=b(A);if(!_.isEmpty(G))return(0,o.vP)(G,W)}}function S(A){return f(_.map(A,W=>U(W)))}function b(A){if(!_.isEmpty(A)){for(var W=[],G=function(){var ne=A[K];i.Y.assert(()=>!!ne,"There is an undefined selector in a list of selectors");var L,k=ne?.data;if(!_.isEmpty(k))for(var X=0,Y=k.length;X<Y;X++)L=(0,p.Uo)(L,(ne?.data[X]).expr);L&&W.push(L)},K=0,q=A.length;K<q;K++)G();return W}}function V(A){if(!_.isEmpty(A))for(var W of A)if(W.dataMap)for(var G in W.dataMap){var K=W.dataMap[G];if(!_.isEmpty(K)&&_.some(K,q=>null!=q))return!0}}function M(A,W,G){return(A=A||null)===(W=W||null)||!(!A!=!W||(i.Y.assertValue(A,"x"),i.Y.assertValue(W,"y"),A.metadata!==W.metadata)||!P(A.data,W.data)||A.highlightMatching!==W.highlightMatching||!G?.skipId&&A.id!==W.id||!G?.skipOrder&&A.order!==W.order)}function P(A,W){if((A=A||null)===(W=W||null))return!0;if(!A!=!W||A.length!==W.length)return!1;for(var G=0,K=A.length;G<K;G++)if(!w(A[G],W[G]))return!1;return!0}function T(A,W){return(A=A||null)===(W=W||null)||!A==!W&&M(U(A),U(W))}function N(A,W){if((A=A||null)===(W=W||null))return!0;if(!A!=!W||A.length!==W.length)return!1;for(var G=0;G<A.length;G++)if(!T(A[G],W[G]))return!1;return!0}function w(A,W){return v(A)&&v(W)?(0,o.aI)(A,W):m(A)&&m(W)?(0,n.aI)(A,W):g(A)&&g(W)?(0,d.aI)(A,W):E(A)&&E(W)?(0,t.aI)(A,W):!(!D(A)||!D(W))&&(0,c.aI)(A,W)}function I(A){var W;if(A.data)if(A.data.length>0){W=`data: [${A.data[0].key}`;for(var G=1,K=A.data.length;G<K;G++)W+=`, ${A.data[G].key}`;W+="]"}else W="data: []";var q=A.metadata;q&&(W?W+=", metadata: "+q:W="metadata: "+q);var ne=A.id;return ne&&(W?W+=", id: "+ne:W="id: "+ne),W?"{"+W+"}":"{}"}function O(A,W){if(_.isEmpty(A.data))return[u];var G=[];if(W)G=_.map(A.data,ne=>ne.key);else for(var K of A.data)if(v(K)){var q=(0,s.xD)(K.expr);q=q||(0,s.BI)(K.expr),_.forEach(q,ne=>{G.push((0,l.lK)(ne))})}return G}function x(A){i.Y.assertValue(A,"selector");var W=A.data;return!!W&&_.some(W,G=>E(G)||m(G)||D(G))}function j(A){i.Y.assertValue(A,"selector");var W=A.data;if(_.isEmpty(W))return!1;for(var G of W)if(E(G))return!0;return!1}function U(A){if(A){var W=[];for(var G in A.dataMap){var K=(0,a.eC)(A.dataMap[G]);for(var q of K)W.push(q)}var ne={};return W.length>0&&(ne.data=W),A.metadata&&(ne.metadata=_.head(A.metadata)),A.id&&(ne.id=A.id),ne}}function F(A,W){if(A&&A.metadata){i.Y.assertNonEmpty(W,"getSelectorTargetExpr - selectTransforms");var G=_.find(W,K=>K.queryName===A.metadata);if(G)return G.expr}}function R(A){return i.Y.assertAnyValue(A,"selector"),A&&A.data?{data:A.data}:A}function B(A){var W={};return A.data&&(W.data=[...A.data]),A.metadata&&(W.metadata=A.metadata),A.id&&(W.id=A.id),void 0!==A.highlightMatching&&(W.highlightMatching=A.highlightMatching),null!=A.order&&(W.order=A.order),void 0!==A.hierarchyMatching&&(W.hierarchyMatching=A.hierarchyMatching),W}},288808:function(ve,z,e){e.d(z,{I:function(){return i},z:function(){return r}});var a=e(18122),i=function(t){return t[t.Default=0]="Default",t[t.Verbose=1]="Verbose",t[t.WholeUnits=2]="WholeUnits",t[t.DataLabels=3]="DataLabels",t}({});function r(t){a.Y.assertValue(t,"visualElements shouldn't be empty");var o=[];for(var d of t){var n=function(s){_.find(o,p=>_.isEqual(p,s))||o.push(s)};for(var c of d.DataRoles)n(c)}return o}},237230:function(ve,z,e){e.d(z,{V9:function(){return l},tU:function(){return u}});var a=e(620825),i=e(98138),r=e(579260),t=e(18122),o=e(106302),d=e(890741);function c(g){return _.cloneDeep(g)}function p(g){return{windowValues:_.map(g.windowValues,E=>function(g){return{identityValues:_.clone(g.identityValues),restartValues:_.clone(g.restartValues),windowKind:g.windowKind}}(E)),identityValues:_.clone(g.identityValues),children:_.map(g.children,E=>p(E))}}function l(g,E,D,h){if(g){g=function(g){if(g)return{levels:c(g.levels),root:p(g.root)}}(g);var C=(0,d.uR)(E);if(!C)return t.Y.assertFail("Empty selector"),g;for(var b,y=g.root,f=0,S=function(){var P=(0,o.xD)(C[f].expr);if(!g.levels[f]||!(0,r.m2)(P,g.levels[f].identityKeys,i.aI))return t.Y.assertFail("Level not found"),{v:g};var T=(0,o.BI)(C[f].expr);y=_.find(y.children,N=>(0,r.m2)(N.identityValues,T,i.aI)),f++};y&&f<_.size(C)-1;)if(b=S())return b.v;if(!y||f<_.size(C)-1)return t.Y.assertFail("Cannot find node"),g;var V=(0,o.BI)(C[f].expr);if(h)y.windowValues=[{identityValues:V,windowKind:D,restartValues:h}];else{var M=_.find(y.windowValues,P=>(0,r.m2)(V,P.identityValues,i.aI));if(!M)return t.Y.assertValue(M,"Cannot find a window for the specified node"),y.windowValues=[],g;M.windowKind=D,y.windowValues=[M]}return g}}function u(g,E,D,h){if(g&&g.root){var C=_.map(g.levels,f=>function(g,E,D){if(g.identityKeys)return g.identityKeys;var h=_.map(g.queryRefs,C=>{var y=E.withName(C);t.Y.assertValue(y,"Cannot find expr "+C);var f=y.expr;return(0,a.Ah)(f)?f.getTargetColumnRef(D):f});return t.Y.assert(()=>1===_.size(h),"Composite Groups is not fully supported, each level is expected to have 1 queryRef"),h[0].getKeyColumns(D)}(f,D,h)),y=0;return E&&(y=-1===(y=_.findIndex(E.levels,(f,S)=>!(0,r.m2)(f.identityKeys,C[S],i.aI)))?_.size(E.levels):y),{levels:_.map(C,f=>({identityKeys:f})),root:m(g.root,E&&E.root,y,0,g.levels)}}}function m(g,E,D,h,C){t.Y.assertValue(g,"Expansion node should be defined");var y=E&&E.children||[],f=E&&E.windowValues||[];h>=D&&(y=[],f=[]);var b=_.filter(g.children,V=>C[h]&&!!V.isToggled==!!C[h].isCollapsed);return{children:_.map(b,V=>m(V,(V=>E&&_.find(y,M=>(0,r.m2)(V,M.identityValues,i.aI)))(V.identityValues),D,h+1,C)),identityValues:g.identityValues,windowValues:f}}},370061:function(ve,z,e){e.d(z,{D:function(){return a},b:function(){return i}});var a=function(r){return r[r.Default=0]="Default",r[r.BypassCache=1]="BypassCache",r}({}),i=function(r){return r[r.None=0]="None",r[r.AllowCache=1]="AllowCache",r[r.AllowQuery=2]="AllowQuery",r[r.CacheResult=4]="CacheResult",r[r.PreventRefresh=8]="PreventRefresh",r}({})},722442:function(ve,z,e){e.d(z,{QK:function(){return a},bc:function(){return i},mG:function(){return r}});var a=function(t){return t[t.Normal=0]="Normal",t[t.Low=1]="Low",t}({}),i=function(t){return t[t.None=0]="None",t[t.Basic=1]="Basic",t[t.QueryText=2]="QueryText",t}({}),r=function(t){return t[t.Query=0]="Query",t[t.CancelQuery=1]="CancelQuery",t}({})},341838:function(ve,z,e){e.d(z,{TW:function(){return h},yR:function(){return C}});var a=e(81825),i=e(18122),r=e(73646),t=e(926744),o=e(364453),d=e(985503),n=e(889953),c=e(204951),s=e(312185),p=e(265142),l=e(816078),u=e(317998),v=e(154277),m=e(153920),g=e(999904),E=e(877723),D=e(620825);function h(S,b,V,M){var P=y(S,b,V,M);return P&&P.expressions}function C(S,b,V,M){return i.Y.assertValue(S,"propDefn"),y(S,b,V,M)}function y(S,b,V,M){var T,N,P=new m.T;return(0,g.JZ)(S)?((T=new f(b,V,M,S.context)).propertyVisitor=N,(N=new u.B(T,P)).visitExpr(S.value)):(0,g.ui)(S)?(T=new f(b,V,M),N=new u.B(T,P),T.propertyVisitor=N,N.visitExpr(S)):(T=new f(b,V,M),N=new u.B(T,P),T.propertyVisitor=N,(0,v.Ju)(S,T)),{expressions:T.exprs,references:P.references}}class f extends r.ff{constructor(b,V,M,P){super(),this.selector=b,this.querySelects=V,this.context=P,this.exprs=[],this.inputExpr=this.resolveSelectRef(M)}resolveSelectRef(b){return b&&(0,D.Gv)(b)?this.getSelectByRef(b):b}add(b){this.context&&(b.context=this.context),null!=this.relatedProjectionQueryName&&(b.targetsQueryName=[this.relatedProjectionQueryName]),this.exprs.push(b)}visitMeasureRef(b){this.add({expr:b,selector:this.selector})}visitArithmetic(b){this.add({expr:b,selector:this.selector})}visitAggr(b){if((0,D.Gv)(b.arg)){var M={expr:this.getSelectByRef(b.arg),selector:this.selector,aggregates:this.getAggregates(b.func)};this.add(M)}else this.add({expr:b,selector:this.selector})}checkIfOrdinal(b){}getAggregates(b){switch(b){case a.Sn.Max:return{max:!0};case a.Sn.Min:return{min:!0};case a.Sn.Median:return{median:!0};case a.Sn.Avg:return{average:!0};default:i.Y.assertFail("Unsupported Projection Aggregate")}}visitPercentile(b){if((0,D.Gv)(b.arg)){var M={expr:this.getSelectByRef(b.arg),selector:this.selector,aggregates:{percentiles:[{k:b.k,exclusive:b.exclusive}]}};this.add(M)}else this.add({expr:b,selector:this.selector})}visitColumnRef(b){this.add({expr:b,selector:this.selector})}visitContains(b){this.checkIfOrdinal(b),super.visitContains(b)}visitStartsWith(b){this.checkIfOrdinal(b),super.visitStartsWith(b)}visitCompare(b){this.checkIfOrdinal(b),super.visitCompare(b)}visitHierarchyLevel(b){this.add({expr:b,selector:this.selector})}visitNativeMeasure(b){this.add({expr:b,selector:this.selector})}visitSelectRef(b){var V=this.getSelectByRef(b);this.add({expr:V,selector:this.selector})}getSelectByRef(b){var V=this.querySelects.withName(b.expressionName);return V&&V.expr}visitScopedEval(b){var V=b.decomposeGlobalAggregateOfScopedExpr();if(V){var M={expr:this.resolveSelectRef(V.source),selector:this.selector,aggregates:this.getAggregates(V.func)};this.add(M)}else if(b.hasGlobalScope())this.add({expr:b.expression,selector:null});else{var T={expr:b,selector:{data:[(0,E.vt)()]}};this.add(T)}}visitFillRule(b){b.input.accept(this),this.inputExpr=this.resolveSelectRef(b.input),this.visitFillRuleDefinition(b.rule)}visitFillDefinition(b){(0,d.Ju)(b,this.propertyVisitor)}visitFillRuleDefinition(b){i.Y.assertValue(b,"fillRule"),i.Y.assertAnyValue(this.inputExpr,"inputExpr can end up being undefined if it was a non-matching SelectRef");var V=b.linearGradient2||b.linearGradient3;i.Y.assertValue(V,"fillRule needs either linearGradient2 or linearGradient3"),i.Y.assertValue(V.min,"gradient.min"),i.Y.assertValue(V.max,"gradient.max");var M={};V.min.value||(M.min=!0),V.max.value||(M.max=!0),(M.min||M.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:M}),(0,n.Ju)(b,this.propertyVisitor))}visitDataBarsDefinition(b){i.Y.assertValue(this.inputExpr,"Databars without an input Expr"),i.Y.assertValue(b,"dataBars");var V={};b.minValue||(V.min=!0),b.maxValue||(V.max=!0),(V.min||V.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:V}),(0,t.J)(b,this.propertyVisitor))}visitIconDefinition(b){(0,c.J)(b,this.propertyVisitor)}visitParagraphs(b){(0,s.Ju)(b,this.propertyVisitor)}visitErrorRangeDefinition(b){i.Y.assert(()=>null!=this.selector.metadata,"Error range should have a target"),this.relatedProjectionQueryName=this.selector.metadata,(0,o.Ju)(b,this.propertyVisitor),this.relatedProjectionQueryName=void 0}visitItemLocationDefinition(b){(0,p.J)(b,this.propertyVisitor)}visitAnnotationTemplateDefinition(b){(0,l.Ju)(b,this.propertyVisitor)}}},21756:function(ve,z,e){e.d(z,{r:function(){return o}});var a=e(647132),i=e(18122),r=e(501285),t=e(889953);function o(){return new c}var n=!1;!function(){if(!n){var m=o;(0,r.qV)().createColorAllocatorFactory=()=>m(),n=!0}}();class c{fromFillRule(g,E){var D=g.linearGradient2,h=g.linearGradient3;if(D||h){var C;h&&(C=void 0===h.min.value&&void 0===h.max.value&&void 0!==h.mid.value);var y=D?D.min:h.min,f=D?D.max:h.max;if(void 0===y.value&&(y.value=E.aggregates&&E.aggregates.min),void 0===f.value&&(f.value=E.aggregates&&E.aggregates.max),void 0!==y.value&&void 0!==f.value)return h&&void 0===h.mid.value&&(h.mid.value=(y.value+f.value)/2),D?new l(D,E):C?new v(h,E):new u(h,E)}}}function s(m){return m.strategy===t.Pe}function p(m){switch(m.strategy){case t.dw:return;case t.iQ:return m.color;case t.Pe:i.Y.assertFail("getColorFromNullStrategy - called with asZero");break;default:i.Y.assertFail("getColorFromNullStrategy - Unexpected null strategy: "+m.strategy)}}class l{constructor(g,E){this.options=g,this.source=E,i.Y.assertValue(g,"options"),i.Y.assertValue(E,"source");var D=g.min,h=g.max;this.scale=(0,a.Bt)([D.value,h.value],[D.color,h.color],!0)}color(g){var E=this.options.nullColoringStrategy;if(null===g&&E){if(!s(E))return p(E);g=0}return this.scale(g)}getRule(){return{linearGradient2:this.options}}getSource(){return this.source}}class u{constructor(g,E){this.options=g,this.source=E,i.Y.assertValue(g,"options"),i.Y.assertValue(E,"source"),this.options=g;var D=g.min,h=g.mid,C=g.max;this.scale=(0,a.Bt)([D.value,h.value,C.value],[D.color,h.color,C.color],!0)}color(g){var E=this.options.nullColoringStrategy;if(null===g&&E){if(!s(E))return p(E);g=0}return this.scale(g)}getRule(){return{linearGradient3:this.options}}getSource(){return this.source}}class v{constructor(g,E){this.options=g,this.source=E,i.Y.assertValue(g,"options"),i.Y.assertValue(E,"source"),this.options=g;var D=g.min,h=g.mid,C=g.max;this.scale1=(0,a.Bt)([D.value,h.value],[D.color,h.color],!0),this.scale2=(0,a.Bt)([h.value,C.value],[h.color,C.color],!0)}color(g){var E=this.options.nullColoringStrategy;if(null===g&&E){if(!s(E))return p(E);g=0}return g<=this.options.mid.value?this.scale1(g):this.scale2(g)}getRule(){return{linearGradient3:this.options}}getSource(){return this.source}}},702794:function(ve,z,e){e.d(z,{AS:function(){return d},Ax:function(){return o},Cn:function(){return b},Oc:function(){return i},UB:function(){return n},XB:function(){return E},_y:function(){return p},fI:function(){return l},gO:function(){return D},ms:function(){return s},o4:function(){return r}});var a=e(18122),i=function(P){return P.CategoricalCategory="CategoricalCategory",P.CategoricalSeries="CategoricalSeries",P.CategoricalValueGroup="CategoricalValueGroup",P.CategoricalValue="CategoricalValue",P.MatrixRowsGroup="MatrixRowsGroup",P.MatrixColumnsGroup="MatrixColumnsGroup",P.MatrixIntersection="MatrixIntersection",P.MatrixRowsScopedValue="MatrixRowsScopedValue",P.TableField="TableField",P.TreeNode="TreeNode",P.TreeValue="TreeValue",P.SingleField="SingleField",P}({});function r(P,T){a.Y.assertValue(P,"mapping"),a.Y.assertValue(T,"visitor");var N=P.categorical;N&&function(P,T){a.Y.assertValue(P,"mapping"),a.Y.assertValue(T,"visitor"),o(P.categories,T);var N=P.values;d(N,T),b(N,T),V(P,T)}(N,T);var w=P.table;w&&n(w,T);var I=P.matrix;I&&function(P,T){a.Y.assertValue(P,"mapping"),a.Y.assertValue(T,"visitor"),s(P.rows,T),p(P.columns,T),l(P.values,T)}(I,T);var O=P.tree;O&&function(P,T){a.Y.assertValue(P,"mapping"),a.Y.assertValue(T,"visitor"),E(P.nodes,T),D(P.values,T)}(O,T);var x=P.single;x&&function(P,T){a.Y.assertValue(P,"mapping"),a.Y.assertValue(T,"visitor"),T.visitRole(P.role)}(x,T)}function o(P,T){P&&(h(P,T,i.CategoricalCategory),C(P,T,i.CategoricalCategory),f(P,T,i.CategoricalCategory),V(P,T))}function d(P,T){if(P){h(P,T,i.CategoricalValue),C(P,T,i.CategoricalValue),f(P,T,i.CategoricalValue);var N=P.group;if(N)for(var w of N.select)h(w,T,i.CategoricalValueGroup),C(w,T,i.CategoricalValueGroup)}}function n(P,T){a.Y.assertValue(P,"mapping"),a.Y.assertValue(T,"visitor");var N=P.rows;h(N,T,i.TableField),C(N,T,i.TableField),f(N,T,i.TableField),V(N,T)}function s(P,T){!function(P,T,N){if(a.Y.assertAnyValue(P,"mapping"),a.Y.assertValue(T,"visitor"),P){var w=P?.values;C(P,T,N),function(P,T,N){a.Y.assertValue(P,"mapping"),a.Y.assertValue(T,"visitor");var w=P.select;if(w)for(var I of w)h(I,T,N),C(I,T,N),y(I,T,N)}(P,T,N),a.Y.assert(()=>!(P.dataReductionAlgorithm&&function(P){return P&&_.some(P,T=>T.dataReductionAlgorithm)}(P.select)),"Mapping has overall data reduction but also scoped data reduction(s)"),V(P,T),w&&(C(w,T,i.MatrixRowsScopedValue),f(w,T,i.MatrixRowsScopedValue))}}(P,T,i.MatrixRowsGroup)}function p(P,T){m(P,T,i.MatrixColumnsGroup)}function l(P,T){m(P,T,i.MatrixIntersection)}function m(P,T,N){a.Y.assertAnyValue(P,"mapping"),a.Y.assertValue(T,"visitor"),P&&(C(P,T,N),f(P,T,N),V(P,T))}function E(P,T){a.Y.assertAnyValue(P,"mapping"),a.Y.assertValue(T,"visitor"),P&&(C(P,T,i.TreeNode),V(P,T))}function D(P,T){a.Y.assertAnyValue(P,"mapping"),a.Y.assertValue(T,"visitor"),P&&C(P,T,i.TreeValue)}function h(P,T,N){a.Y.assertValue(P,"mapping"),a.Y.assertValue(T,"visitor");var w=P.bind;w&&T.visitRole(w.to,N)}function C(P,T,N){a.Y.assertValue(P,"mapping"),a.Y.assertValue(T,"visitor");var w=P.for;w&&T.visitRole(w.in,N)}function y(P,T,N){a.Y.assertValue(P,"mapping"),a.Y.assertValue(T,"visitor");var w=P.composite;if(w){for(var I of(T.enterComposite&&T.enterComposite(P),w))h(I,T,N),C(I,T,N);T.exitComposite&&T.exitComposite(P)}}function f(P,T,N){a.Y.assertValue(P,"mapping"),a.Y.assertValue(T,"visitor");var w=P.select;if(w)for(var I of w)h(I,T,N),C(I,T,N)}function b(P,T){if(a.Y.assertAnyValue(P,"mapping"),a.Y.assertValue(T,"visitor"),P){var N=P.group;N&&(T.visitRole(N.by,i.CategoricalSeries),V(N,T))}}function V(P,T){if(a.Y.assertValue(P,"mapping"),a.Y.assertValue(T,"visitor"),T.visitReduction){var N=P.dataReductionAlgorithm;N&&T.visitReduction(N)}}},968830:function(ve,z,e){function a(t,o){return t&&o?t.identityIndex===o.identityIndex:t===o}function r(t){return"number"==typeof t?.identityIndex}e.d(z,{Nn:function(){return r},aI:function(){return a}})},622077:function(ve,z,e){e.d(z,{u:function(){return o}});var a=e(165248),i=e(293444),r=e(18122),t=e(989417);class o{constructor(n,c,s,p,l,u,v,m,g,E){this.featureSwitches=n,this.warningType=c,this.propertyId=s,this.selector=p,this.objectDisplayNameGetter=l,this.propertyDisplayNameGetter=u,this.valueExpr=v,this.value=m,this.expectedValueType=g,this.columnExpr=E,this.warningType===a.Mr.InvalidType?(r.Y.assertValue(g,"expectedValueType"),this.titleKey="DataBoundExprWarning_InvalidType_Title",this.hintKey="DataBoundExprWarning_InvalidType_Message"):this.warningType===a.Mr.MissingReference?(this.titleKey="DataBoundExprWarning_MissingReference_Title",this.hintKey="DataBoundExprWarning_MissingReference_Message"):this.warningType===a.Mr.UndefinedStylePreset?(this.titleKey="StylePresetDefinitionNotFound",this.hintKey="StylePresetDefinitionNotFoundDetail"):(this.titleKey="VisualWarning_PropertyEvaluation_Tooltip_Header",this.hintKey="VisualWarning_PropertyEvaluation_Tooltip_Hint_Color")}get code(){switch(this.warningType){case a.Mr.InvalidType:return"DataBoundExprWarningTypeInvalidType";case a.Mr.MissingReference:return"DataBoundExprWarningTypeMissingReference";case a.Mr.InvalidValue:return"DataBoundExprWarningTypeInvalidValue";case a.Mr.UndefinedStylePreset:return"StylePresetDefinitionNotFound";default:r.Y.assertNever(this.warningType)}}getMessages(n,c){if(c){if(this.cachedMessage)return this.cachedMessage;var p=n.get("NamePattern_Colon"),l=[],u=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(n):this.propertyDisplayNameGetter,v=(0,t.G)(n.get(this.titleKey),u),m=this.objectDisplayNameGetter instanceof Function?this.objectDisplayNameGetter(n):this.objectDisplayNameGetter;if(!this.featureSwitches.useModernFormatPane){var g=(0,t.G)(p,n.get("VisualWarning_PropertyEvaluation_Tooltip_Section"),m);l.push(g)}var E=null!=this.valueExpr?c(this.valueExpr):void 0;if(E){var D=(0,t.G)(p,n.get("Field_Source"),E);l.push(D)}if(void 0!==this.columnExpr){var h=c(this.columnExpr),C=(0,t.G)(p,n.get("Field_Target"),h);l.push(C)}if(this.warningType===a.Mr.InvalidType&&this.expectedValueType){var y=(0,t.G)(p,n.get("DataBoundExprWarning_ExpectedDataType"),o.getPrimitiveValueType(this.expectedValueType,n));l.push(y)}if(this.value&&(this.warningType===a.Mr.InvalidValue||this.warningType===a.Mr.UndefinedStylePreset)){var f=(0,t.G)(p,n.get("Value"),this.value.toString());l.push(f)}var S=n.get(this.hintKey);return l.push(S),this.cachedMessage={title:v,message:S,detail:l.join("\n")},this.cachedMessage}r.Y.assertFail("DataViewObjectEvaluationWarning - getMessages - setSQExprTranslator needed for correct warning")}getTitle(n){var c=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(n):this.propertyDisplayNameGetter;return(0,t.G)(n.get(this.titleKey),c)}getMessage(n){return n.get(this.hintKey)}static getPrimitiveValueType(n,c){switch(n.primitiveType){case i.W.Text:return c.get("Text");case i.W.Decimal:case i.W.Double:case i.W.Integer:return c.get("ConditionalFormattingDialog_Number");case i.W.Boolean:return c.get("ConditionalFormattingDialog_Boolean");case i.W.Date:case i.W.DateTime:return c.get("ConditionalFormattingDialog_Date");default:r.Y.assertFail("Invalid expected data type")}}}},283104:function(ve,z,e){function a(c,s){if(!_.isEmpty(c)){var p=c[0];if(p.values&&p.values.length>0)for(var l=0,u=p.values.length;l<u;++l){var v=p.values[l];if(v&&v.source&&t(v.source,s))return l}}return-1}function i(c,s){if(!_.isEmpty(c))for(var p=0,l=c.length;p<l;p++)if(t(c[p].source,s))return p;return-1}function r(c,s){var p=[];if(!_.isEmpty(c))for(var l=0,u=c.length;l<u;l++)t(c[l].source,s)&&p.push(l);return p}function t(c,s){var p=c.roles;return p&&p[s]}function o(c,s){return _.some(c,p=>t(p,s))}function d(c,s){return _.some(c?.metadata?.columns??[],p=>void 0!==p.roles?.[s])}function n(c,s){return c&&c.source&&c.source.roles&&!0===c.source.roles[s]}e.d(z,{DK:function(){return n},I9:function(){return r},Mp:function(){return o},hf:function(){return t},i3:function(){return a},iY:function(){return i},zv:function(){return d}})},814691:function(ve,z,e){e.d(z,{AV:function(){return x},Hw:function(){return R},bD:function(){return U},eq:function(){return h},gU:function(){return u},i7:function(){return O},i8:function(){return P},yB:function(){return v}});var a=e(98138),i=e(579260),r=e(18122),t=e(563670),o=e(693029),d=e(858225),n=e(999904),c=e(536022),s=e(476271),p=e(13561),l=e(346375),u=function(A){return A.conditionRangeTooLarge="conditionRangeTooLarge",A.conditionRangeTooSmall="conditionRangeTooSmall",A.conditionKindExpectedMeasure="conditionKindExpectedMeasure",A.conditionKindExpectedGrouping="conditionKindExpectedGrouping",A.conditionKindExpectedGroupingOrMeasure="conditionKindExpectedGroupingOrMeasure",A.conditionNotHierarchicallyRelated="conditionNotHierarchicallyRelated",A.conditionSchemaCapabilities_TupleFilters_InstanceFilters="conditionSchemaCapabilities_TupleFilters_InstanceFilters",A}({});function v(A,W){if(!W||0===W.length)return{dataView:A,isValid:!0};if(A){for(var G of W){if(y(A,G))return{dataView:A,isValid:!0};if(G.categorical&&A.categorical)return m(A,G);if(G.tree&&A.tree)return E(A,G.tree);if(G.single&&A.single)return g(A,G.single);if(G.table&&A.table)return D(A,G.table)}if(A.metadata)return{dataView:{metadata:A.metadata},isValid:!0}}return{isValid:!1}}function m(A,W){r.Y.assertValue(W,"dataViewMapping");var q,G=W.categorical,K=A.categorical;if(!K)return{isValid:!1};if(G.rowCount&&(q=G.rowCount.supported)&&q.max){var ne,X,k=K.categories,L=q.max;if(k)for(var Y=0,Q=k.length;Y<Q;Y++){var H=k[Y];if(X=H.values.length,void 0!==L&&X>L){var te=(0,i.y1)(H.values,0,L-1);(ne=ne||{categories:[]}).categories.push({source:H.source,values:te})}}if(K.values&&K.values.length>0&&L&&(X||(X=K.values[0].values.length),void 0!==L&&X>L)){(ne=ne||{}).values=(0,p.zB)();for(var ee=0,ue=K.values.length;ee<ue;ee++){var Te=K.values[ee],He={source:Te.source,values:(0,i.y1)(Te.values,0,L-1)};void 0!==Te.min&&(He.min=Te.min),void 0!==Te.max&&(He.max=Te.max),void 0!==Te.subtotal&&(He.subtotal=Te.subtotal),ne.values.push(He)}}ne&&(A={metadata:A.metadata,categorical:ne})}return f(A,W)?{dataView:A,isValid:!0}:null}function g(A,W){return r.Y.assertValue(A,"dataView"),r.Y.assertValue(W,"singleRoleMapping"),A.single?{dataView:A,isValid:!0}:{isValid:!1}}function E(A,W){return r.Y.assertValue(A,"dataView"),r.Y.assertValue(W,"treeRoleMapping"),b(A,W)?{dataView:A,isValid:!0}:{isValid:!1}}function D(A,W){return r.Y.assertValue(A,"dataView"),r.Y.assertValue(W,"tableRoleMapping"),A.table?{dataView:A,isValid:!0}:{isValid:!1}}function h(A){for(var W=0,G=0,K=A.length;G<K;G++)A[G].isMeasure||++W;return W}function y(A,W,G){return!(!W||!A||W.scriptResult&&!function(A,W){return r.Y.assertValue(W,"scriptResultRoleMapping"),!(!A||!A.payloadBase64)}(A.scriptResult,W.scriptResult)||W.categorical&&!f(A,W.categorical,G)||W.tree&&!b(A,W.tree,G)||W.single&&!function(A,W){return r.Y.assertValue(W,"singleRoleMapping"),!!A}(A.single,W.single)||W.table&&!function(A,W,G){if(r.Y.assertValue(W,"tableRoleMapping"),!A)return!1;if(W.rowCount){var K=W.rowCount.supported;if(G&&W.rowCount.preferred&&(K=W.rowCount.preferred),K){var q=0;if(A.rows&&A.rows.length&&(q=A.rows.length),null!=P(q,K))return!1}}return!0}(A.table,W.table,G))}function f(A,W,G){r.Y.assertValue(W,"categoryRoleMapping");var K=A.categorical;if(!K)return!1;if(W.rowCount){var q=W.rowCount.supported;if(G&&W.rowCount.preferred&&(q=W.rowCount.preferred),q){var ne=0;if(K.values&&K.values.length?ne=K.values[0].values.length:K.categories&&K.categories.length&&(ne=K.categories[0].values.length),null!=P(ne,q))return!1}}return!0}function b(A,W,G){r.Y.assertValue(W,"treeRoleMapping");var q=W.depth,ne=q&&G?q.preferred:q.supported;return null==P(h(A.metadata.columns),ne)}function P(A,W,G){if(r.Y.assertValue(A,"value"),W){if(!G&&void 0!==W.min&&W.min>A)return u.conditionRangeTooSmall;if(void 0!==W.max&&W.max<A)return u.conditionRangeTooLarge}}function T(A,W,G,K){if(A&&void 0!==A.kind){var q=A.kind,ne=G[W];if(ne){var k=ne.all();for(var L of k)if(K[L.queryRef]!==q)switch(q){case o.Ts.Measure:return u.conditionKindExpectedMeasure;case o.Ts.Grouping:return u.conditionKindExpectedGrouping;case o.Ts.GroupingOrMeasure:return u.conditionKindExpectedGroupingOrMeasure}}}}function N(A,W,G,K){if(A&&A.areHierarchicallyRelated&&!_.isEmpty(W)&&!_.isEmpty(G)&&K){var ne=I(_.map(W,k=>k.queryRef),G);if(!d.B.areHierarchicallyRelated(K,ne))return u.conditionNotHierarchicallyRelated}}function w(A,W,G){if(r.Y.assertAnyValue(A,"can be called with empty role"),r.Y.assertNonEmpty(W,"must have selects"),r.Y.assertValue(G,"must have Schema"),1!==_.chain(W).map(X=>X.name).uniq().value().length){var ne=I(_.map(A,X=>X.queryRef),W),k=_.chain(ne).map(X=>G.schema(X.schema)).uniq().value(),L=_.uniqWith(ne,(X,Y)=>(0,a.aI)(X,Y));if(r.Y.assertNonEmpty(L,"uniqueEntityExprs"),L.length<2)return _.some(k,X=>!X.capabilities||!X.capabilities.supportsInstanceFilters)?u.conditionSchemaCapabilities_TupleFilters_InstanceFilters:void 0;if(_.some(k,X=>!X.capabilities||!X.capabilities.supportsMultiTableTupleFilters||!X.capabilities.supportsInstanceFilters))return u.conditionSchemaCapabilities_TupleFilters_InstanceFilters}}function I(A,W){if(!_.isEmpty(A)&&!_.isEmpty(W)){var G={};A.forEach(ne=>{G[ne]=!0});var K=[];for(var q of W)q.name&&G[q.name]&&q.expr&&K.push(q.expr.getTargetEntity());return K}}function O(A,W,G,K,q,ne,k,L,X){r.Y.assertValue(A,"projections"),r.Y.assertAnyValue(W,"mappings"),r.Y.assert(()=>_.every(W,Oe=>_.isPlainObject(Oe)),"precondition: prototypal inheritance on DataViewMapping is not supported by DataViewAnalysis");var Y=[],Q=[];if(!_.isEmpty(W))for(var H=0,te=W.length;H<te;H++){var ee=W[H],ue=ee.conditions,He=j(ee.requiredProperties,q,K,ne),We=[];if(_.isEmpty(ue))We.push({});else for(var ft=0,mt=ue.length;ft<mt;ft++){var At=ue[ft],Qe=x(A,At,G,void 0,k,L,X);if(_.isEmpty(Qe))We.push(At);else for(var Fe of Qe)Fe.mappingIndex=H,Fe.conditionIndex=ft,Q.push(Fe)}if(!_.isEmpty(We)&&He){var ye=_.cloneDeep(ee);ye.single&&(ye={table:{rows:{for:{in:ye.single.role}}}});var Ee=_.filter(We,Oe=>Object.keys(Oe).length>0);_.isEmpty(Ee)||(ye.conditions=Ee),Y.push(ye)}}return{supportedMappings:(0,i.qR)(Y),mappingErrors:(0,i.qR)(Q)}}function x(A,W,G,K,q,ne,k){r.Y.assertValue(A,"projections"),r.Y.assertValue(W,"condition");for(var L=Object.keys(W),X=[],Y=0,Q=L.length;Y<Q;Y++){var H=L[Y],te=A[H]&&!_.isEmpty(A[H].activeProjectionRefs),ee=W[H],ue=!ee.suppressDrill,We=F(ee,H,A,ue&&(null!=K?K:te)&&ue,k);null!=We&&X.push({code:We,roleName:H}),null!=(We=T(ee,H,A,G))&&X.push({code:We,roleName:H});var ft=A[H]&&A[H].projected(),mt=void 0;_.isEmpty(q)||(mt=_.map(ft,At=>q.withName(At.queryRef))),null!=(We=N(ee,ft,mt,ne))&&X.push({code:We,roleName:H}),ee.multiTableTupleFiltersSupported&&ne&&!_.isEmpty(q)&&!_.isEmpty(mt)&&null!=(We=w(ft,mt,ne))&&X.push({code:We,roleName:H})}return X}function j(A,W,G,K){if(_.isEmpty(A))return!0;if(!W||!K)return!1;var q=(0,t.vt)(),ne=(0,l.b)(),k=new c.q(G,q);return _.every(A,L=>{var X=null,Y=K[L.objectName];if(!Y)return!1;var H,Q=W[L.objectName];return Q&&(X=Q.properties[L.propertyName]),!_.isEmpty(Y)&&Y[0]&&(H=(0,n._W)(K,L,Y[0].selector)),!(!X||!H)&&k.evaluateProperty(ne,X,H)})}function U(A,W,G,K){r.Y.assertValue(A,"roleName"),r.Y.assertValue(W,"projections");var q=W[A];return q?G?1:K?q.all().length:q.projected().length:0}function F(A,W,G,K,q){if(A){var ne=U(W,G,K,q);if(void 0!==A.min&&A.min>ne)return u.conditionRangeTooSmall;var k=U(W,G,K);if(void 0!==A.max&&A.max<k)return u.conditionRangeTooLarge}}function R(A,W){if(A&&W&&A.categorical&&W.categorical){var G=A.categorical.categories,K=W.categorical.categories;if(G&&K&&G.length===K.length){for(var q=0,ne=G.length;q<ne;q++){var k=G[q].identity,L=K[q].identity,X=B(k);if(X!==B(L))return!1;for(var Y=0;Y<X;Y++)if(!(0,s.aI)(k[Y],L[Y]))return!1}return!0}}return!1}function B(A){return A?A.length:0}},987526:function(ve,z,e){e.d(z,{P:function(){return o}});var a=e(18122),i=e(757406),r=e(476271),t=e(13561);function o(){return new d}class d{constructor(){this.categories=[],this.staticMeasureColumns=[],this.dynamicMeasureColumns=[]}withCategory(l){var u=l.values,v=l.identityFrom,m=l.source.type,g={source:l.source,identityFields:l.identityFrom.fields,identity:l.identityFrom.identities||[],values:u};if(!l.identityFrom.identities)for(var E=0,D=u.length;E<D;E++)g.identity.push(n(v,E,u[E],m));return this.categories||(this.categories=[]),this.categories.push(g),this}withCategories(l){return _.isEmpty(this.categories)?this.categories=l:Array.prototype.push.apply(this.categories,l),this}withValues(l){a.Y.assertValue(l,"options");var u=l.columns;for(var v of(a.Y.assertValue(u,"columns"),u))this.staticMeasureColumns.push(v.source);return this.staticSeriesValues=u,this}withGroupedValues(l){a.Y.assertValue(l,"options");var u=l.groupColumn;a.Y.assertValue(u,"groupColumn"),this.dynamicSeriesMetadata={column:u.source,identityFrom:u.identityFrom,values:u.values};var v=l.valueColumns;for(var m of v)this.dynamicMeasureColumns.push(m.source);return this.dynamicSeriesValues=l.data,this}fillData(l){var u=this,v=_.head(this.categories),m=v&&v.values?v.values.length:0;if(this.hasDynamicSeries())for(var g=function(){var f=u.dynamicSeriesValues[E];a.Y.assert(()=>f.length===u.dynamicMeasureColumns.length,"seriesMeasures.length === this.dynamicMeasureColumns.length");for(var S=0,b=u.dynamicMeasureColumns.length;S<b;S++)s(l[E*b+S],f[S],m)},E=0,D=this.dynamicSeriesMetadata.values.length;E<D;E++)g();if(this.hasStaticSeries())for(var h=this.hasDynamicSeries()?this.dynamicSeriesValues.length*this.dynamicMeasureColumns.length:0,C=0,y=this.staticMeasureColumns.length;C<y;C++)s(l[h+C],this.staticSeriesValues[C],m)}build(){var l=[],u={},v=this.categories,m=this.dynamicSeriesMetadata;for(var g of v)c(l,g.source);if(this.hasDynamicSeries()){c(l,m.column),u.values=(0,t.zB)([],m.identityFrom.fields,m.column);var E=m.values,D=new Map;for(var h of this.dynamicMeasureColumns)h.formatSource?.formatString&&D.set(h.formatSource.formatString,new Map);for(var C=0;C<E.length;C++){var y=E[C],f=n(m.identityFrom,C,y,m.column.type);for(var S of this.dynamicMeasureColumns){var b=_.toPlainObject(S);b.groupName=y,D.has(S)&&D.get(S).set(b.groupName,b),b.rolesIndex&&delete b.rolesIndex,c(l,b),u.values.push({source:b,values:[],identity:f})}}if(D.size>0){var V=function(O){O.formatSource?.formatString&&(a.Y.assert(()=>D.has(O.formatSource.formatString),"formatString column must be in dynamicFormatStringMappings"),O.formatSource={formatString:D.get(O.formatSource.formatString).get(O.groupName)})};for(var M of l)V(M)}if(0===E.length)for(var P of this.dynamicMeasureColumns){var T=_.toPlainObject(P);c(l,T),u.values.push({source:T,values:[]})}if(this.hasStaticSeries()){var N=u.values.grouped();u.values.grouped=()=>N,this.appendStaticMeasureColumns(l,u.values)}}else u.values=(0,t.zB)(),this.appendStaticMeasureColumns(l,u.values);var w=this.categories;_.isEmpty(w)||(u.categories=w),this.fillData(u.values);var I={metadata:{columns:l},categorical:u};if(this.isLegalDataView(I))return I}appendStaticMeasureColumns(l,u){if(a.Y.assertValue(l,"metadataColumns"),a.Y.assertValue(u,"valueColumns"),!_.isEmpty(this.staticMeasureColumns))for(var v of this.staticMeasureColumns)c(l,v),u.push({source:v,values:[]})}isLegalDataView(l){return!(this.hasDynamicSeries()&&this.hasStaticSeries()&&d.isVisualDataView(l.metadata.columns))}static isVisualDataView(l){return!_.isEmpty(l)&&_.some(l,u=>!!u.queryName)}hasDynamicSeries(){return!!this.dynamicSeriesMetadata}hasStaticSeries(){return!!this.staticSeriesValues}}function n(p,l,u,v){var m=p.identities;return m?m[l]:(a.Y.assert(()=>p.fields&&1===p.fields.length,"Inferring identity, expect exactly one field."),(0,r.UQ)((0,i.LC)(p.fields[0],(0,i.FT)(u,v))))}function c(p,l){_.includes(p,l)||p.push(l)}function s(p,l,u){a.Y.assertValue(p,"target"),a.Y.assertValue(l,"source"),a.Y.assertValue(u,"categoryLength");var v=l.values;a.Y.assert(()=>u===v.length||0===u,"categoryLength === values.length || categoryLength === 0"),p.values=v;var m=l.highlights;m&&(a.Y.assert(()=>u===m.length,"categoryLength === highlights.length"),p.highlights=m);var E,g=l.objects;g&&(a.Y.assert(()=>u===g.length,"categoryLength === objects.length"),p.objects=g),void 0!==l.minLocal&&(E||(E={}),E.minLocal=l.minLocal),void 0!==l.maxLocal&&(E||(E={}),E.maxLocal=l.maxLocal),E&&(p.source.aggregates=E,_.extend(p,E))}},72267:function(ve,z,e){e.d(z,{eF:function(){return h},lr:function(){return M}});var a=e(620825),i=e(18122),r=e(761297),t=e(993337),o=e(890741),d=e(757406),n=e(5371),c=e(154277),s=e(217981),p=e(816030),l=e(443199),u=e(404323);function v(B){return new m(B)}class m{constructor(A){this.dataView=A,i.Y.assertValue(A,"dataView"),this.columnsByRole={},this.valueSources=[];var W={};if(this.dataView.values)for(var G of this.dataView.values){this.valueSources.push(G.source);var K=G.source.rootSource;K&&(W[G.source.index]=K)}this.valueSources.unshift(..._.values(W))}getExprColumn(A,W){return(0,u.BB)(A,this.valueSources,W?void 0:this.groupName)}getScopedEvalExprValue(A){var W=A.decomposeGlobalAggregateOfScopedExpr();if(W){var G=_.chain(this.valueSources).filter(q=>null==q.groupName).value(),K=(0,u.BB)(W.source,G);return K?(0,u.CX)(K,W.func):void 0}if(A.hasInnerMostScope())return this.getExprValue(A.expression);A.hasGlobalScope()?i.Y.assertFail("Attempt to evaluate a scoped expression within the Global scope"):i.Y.assertFail("Evaluation of Partial-Scope expressions is not supported")}getExprValue(A){var W=this.index;if(_.isNumber(W)){var G=this.dataView.values;if(G){var K=(0,u.BB)(A,this.valueSources,this.groupName),q=_.find(G,ne=>ne.source===K);if(q)return this.useHighlightValues?q.highlights[W]:q.values[W]}}}getRoleValues(A){var W=this.columnsByRole,G=W[A];if(G||(G=W[A]=function(B,A){return i.Y.assertValue(B,"dataViewCategorical"),E(B.values,A)||E(B.categories,A)}(this.dataView,A)),G&&null!=this.index)return _.map(G,q=>q.values[this.index])}setCurrentRowIndex(A){i.Y.assertValue(A,"index"),this.index=A}resetCurrentRowIndex(){delete this.index}setCurrentColumnGroupName(A){i.Y.assertValue(void 0!==A,"groupName"),this.groupName=A}useHighlights(A){this.useHighlightValues=A}}function E(B,A){if(i.Y.assertAnyValue(B,"columns"),B){var W=[];for(var G of B){var K=G.source.roles;!K||!K[A]||W.push(G)}return W}}var D=e(653872);function h(B,A,W,G,K,q,ne,k){for(var L of(i.Y.assertValue(B,"dataViewCategorical"),i.Y.assertAnyValue(A,"selectTransforms"),i.Y.assertValue(W,"objectDescriptors"),i.Y.assertValue(G,"objectDefnsForSelector"),G)){var X=L.selector,Y=L.rules,Q=L.objects;i.Y.assertValue(X,"selector"),i.Y.assertAnyValue(Y,"rules"),i.Y.assertValue(Q,"objectDefns");var H=(0,o.Ac)(X);X=w(B,X);var te=(0,D.b)(X,K);ne&&(ne.selector=X,ne.targetExpr=(0,o.is)(X,A)),C(B,W,X,H,Q,te,q,ne),V(B,W,X,H,Q,te,q,ne,k),T(B,W,X,Q,q,ne,k)}}function C(B,A,W,G,K,q,ne,k){if(i.Y.assertValue(B,"dataViewCategorical"),i.Y.assertValue(A,"objectDescriptors"),i.Y.assertValue(W,"selector"),i.Y.assertValue(G,"containsWildcard"),i.Y.assertValue(K,"objectDefns"),B.categories&&0!==B.categories.length){var L=function(B,A,W){i.Y.assertValue(B.categories[0],"dataViewCategorical.categories[0]");var G=B.categories[0].identity,K=[];for(var q of B.categories){if(!q.identityFields||!W.matchesKeys([q.identityFields],1))return;K.push(q)}i.Y.assert(()=>K.length===B.categories.length,"Column length mismatch");var ne=A.metadata;if(ne){var k=B.values;if(k)for(var L=0,X=k.length;L<X;L++){var Y=k[L];if(Y.source.queryName===ne){K=[Y];break}}}return{columns:K,identities:G}}(B,W,q);if(L){var Q,X=function(B){return _.some(B.values,A=>!!A.highlights)}(B),Y=L.identities,H=v(B);if(Y){for(var te,ee,ue=0,Te=Y.length;ue<Te;ue++)if(G||q.matches([Y[ue]])){switch(H.setCurrentRowIndex(ue),W.highlightMatching){case void 0:case t.Y.ValuesOnly:te=!0,ee=!1;break;case t.Y.ValuesAndHighlight:te=!0,ee=X;break;case t.Y.HighlightsOrValues:te=!X,ee=X;break;default:i.Y.assertNever(W.highlightMatching)}if(te){H.useHighlights(!1);var We=(0,l.po)(ne,H,A,K,k);if(We)for(var ft of L.columns){var mt=ft.objects;mt||(mt=ft.objects=new Array(Te)),mt[ue]||(mt[ue]={}),(0,p.rL)(mt[ue],We,W.id,W.order)}Q=!0}if(ee){H.useHighlights(!0);var At=(0,l.po)(ne,H,A,K,k);if(At)for(var Qe of L.columns){var Fe=Qe.highlightObjects;Fe||(Fe=Qe.highlightObjects=new Array(Te)),Fe[ue]||(Fe[ue]={}),(0,p.rL)(Fe[ue],At,W.id,W.order)}Q=!0}if(!G)return Q}return Q}}}}function b(B,A,W){return i.Y.assertAnyValue(A,"propertyDefn"),!!(A instanceof d.yj&&(0,a.Gv)(A)&&A.attributeKind===n.Zw.FormatString)||function(B,A,W){return W.measureDrivenDataLabels&&"labels"===B&&null!=A}(B,A,W)||function(B,A){return"annotationTemplate"===B&&null!=A}(B,A)||(0,c.lF)(A)||function(B,A){var G=A.solid?.color?.kind;return-1!==["labels","categoryLabels","totals"].indexOf(B)&&(G===n.Ez.FillRule||G===n.Ez.Conditional||G===n.Ez.Aggregation||G===n.Ez.MeasureRef)}(B,A)}function V(B,A,W,G,K,q,ne,k,L){i.Y.assertValue(B,"dataViewCategorical"),i.Y.assertValue(A,"objectDescriptors"),i.Y.assertValue(W,"selector"),i.Y.assertValue(G,"containsWildcard"),i.Y.assertValue(K,"objectDefns");var X=B.values;if(X&&X.identityFields){var Y=q.matchesKeys([X.identityFields],1),Q=!1;if(L?.categoricalIntersectionEval){var H=B.categories,ee=[];ee.push(H?.length>0?H[0].identityFields:void 0),ee.push(X.identityFields),Q=null!=W.metadata&&X.length>0&&H?.length>0&&_.some(X,Se=>Se.source.queryName===W.metadata)&&q.matchesKeys(ee,ee.length)}if(Y||Q){var ue=X.grouped();if(ue){var ft,Te=v(B),He=W.metadata,We=x(K,b,L);for(var mt of ue)if(void 0!==mt.name){_.isEmpty(We)||(Te.setCurrentColumnGroupName(mt.name),N(B,A,W,Q,We,q,ne,k,Te,mt));var At=mt.values;if(G||q.matches([mt.identity])){var Qe=(0,l.po)(ne,Te,A,K,k);if(Qe)if(He)for(var Fe=0,ye=At.length;Fe<ye;Fe++){var we=At[Fe],Ee=we.source;if(Ee.queryName===He){var Oe=(0,r.IL)(Ee),he=Oe.objects;he||(he=Oe.objects={}),(0,p.rL)(he,Qe,W.id,W.order),we.source=Oe,ft=!0;break}}else{var xe=mt.objects;xe||(xe=mt.objects={}),(0,p.rL)(xe,Qe,W.id,W.order),M(X,ue),ft=!0}if(!G)return!0}}return ft}}}}function M(B,A){B.grouped=A?()=>A:()=>function(B){i.Y.assertValue(B,"values");for(var W,A=[],G=0,K=B.length;G<K;G++){var q=B[G];if(!W||W.identity!==q.identity){if(W={values:[]},q.identity){W.identity=q.identity;var ne=q.source;void 0!==ne.groupName?W.name=ne.groupName:ne.displayName&&(W.name=ne.displayName)}A.push(W)}W.values.push(q)}return A}(B)}function T(B,A,W,G,K,q,ne){if(i.Y.assertValue(B,"dataViewCategorical"),i.Y.assertValue(A,"objectDescriptors"),i.Y.assertValue(W,"selector"),i.Y.assertValue(G,"objectDefns"),_.isEmpty(B.categories)){var k=B.values;if(!k||_.isEmpty(k.identityFields)){var L=function(B,A){var W=A.metadata;if(void 0!==W&&B)return i.Y.assert(()=>1===_.filter(B,G=>G.source.queryName===W).length,"Only one column has to match"),_.find(B,G=>G.source.queryName===W)}(B.values,W);if(L){var X=v(B),Y=(0,o.EU)(W);if(G=x(G,b,ne),!_.isEmpty(G)&&Y){i.Y.assert(()=>B.values.length>0,"dataViewCategorical.values.length > 0"),i.Y.assert(()=>B.values[0].values.length<=1,"There has to be max 1 row since there are no category groupings"),X.setCurrentRowIndex(0);var H=(0,l.po)(K,X,A,G,q);if(H){var te=L.objects;te||(te=L.objects=[]),te[0]||(te[0]={}),(0,p.rL)(te[0],H,W.id,W.order)}}}}}}function N(B,A,W,G,K,q,ne,k,L,X,Y){if(i.Y.assertValue(A,"objectDescriptors"),i.Y.assertValue(W,"selector"),i.Y.assertValue(K,"objectDefns"),i.Y.assertValue(L,"evalContext"),i.Y.assertValue(X,"valueGrouping"),(0,o.EU)(W)||G){var Q=function(B,A){return void 0===A?.metadata?B:_.filter(B,G=>G.source.queryName===A.metadata)}(X.values,W);for(var H of Q){i.Y.assertValue(H.source.groupName===X.name,"targetColumn.source.groupName");for(var te=H.values.length,ee=0;ee<te;ee++)if((0,o.EU)(W)||R(W,B.categories[0].identity[ee],H,q)){L.setCurrentRowIndex(ee),L.useHighlights(!1);var ue=(0,l.po)(ne,L,A,K,k);if(ue){var Te=H.objects;Te||(Te=H.objects=new Array(te)),Te[ee]||(Te[ee]={}),(0,p.rL)(Te[ee],ue,W.id,W.order)}if(null!=H.highlights){L.useHighlights(!0);var He=(0,l.po)(ne,L,A,K,k);if(He){var We=H.highlightObjects;We||(We=H.highlightObjects=new Array(te)),We[ee]||(We[ee]={}),(0,p.rL)(We[ee],He,W.id,W.order)}}L.resetCurrentRowIndex()}}}}function w(B,A){return(0,o.zP)(A)&&(A=(0,s.G)(A,W=>function(B,A){if(A.categories)for(var W of A.categories)if(W.source&&(0,s.Q)([W.source],B))return[W.identityFields]}(W,B))),A}function x(B,A,W){return i.Y.assertValue(B,"objectDefns"),_.chain(B).map(G=>({...G,properties:_.pickBy(G.properties,K=>A(G.name,K,W))})).filter(G=>!_.isEmpty(Object.keys(G.properties))).value()}function R(B,A,W,G){if(W.source.queryName!==B.metadata)return!1;var K=[];return K.push(A),K.push(W.identity),G.matches(K,[])}},103203:function(ve,z,e){e.d(z,{EX:function(){return p},T$:function(){return l},b1:function(){return s}});var a=e(18122),i=e(761297),r=e(358719),t=e(337965),o=e(111199),d=e(827431),n=e(382534),c=e(404323);function s(f,S,b,V,M){a.Y.assertValue(f,"dataView"),a.Y.assertAnyValue(S,"objectDescriptors"),a.Y.assertAnyValue(b,"applicableRoleMappings"),a.Y.assertAnyValue(V,"projectionActiveItems");var P=f,T=f.categorical;if(T){var N=function(f,S,b){a.Y.assertValue(f,"dataViewCategorical"),a.Y.assertAnyValue(S,"applicableRoleMappings");var V,M=_.chain(S).filter(I=>!(0,o.D9)(I)).map(I=>I.categorical).value(),P=!_.isEmpty(M)&&_.every(M,I=>!!I);if(P){var T=function(f){a.Y.assertNonEmpty(f,"categoricalRoleMappings"),a.Y.assert(()=>_.every(f,b=>!!b),"categoricalRoleMappings must not contain falsy element");var S=(0,o.So)(f,o.IB);if(1===_.size(S))return _.head(S)}(M);if(T&&_.includes(b,T)&&function(f,S){a.Y.assertValue(f,"categoricalRoleName"),a.Y.assertNonEmpty(S,"roleMappings"),a.Y.assert(()=>_.every(S,V=>V.categorical),"All specified roleMappings are expected to target categorical");var b=_.every(S,V=>!_.isEmpty(V.conditions)&&_.every(V.conditions,M=>M[f]&&1===M[f].max));return b}(T,S)){var N=_.filter(f.categories,I=>I.source.roles&&!!I.source.roles[T]);if(!_.isEmpty(N)){var w=_.every(N,I=>I.values.length===N[0].values.length);w&&(V={roleName:T,categories:N})}}}return V}(T,b,M),w=(0,c.AY)(f.metadata.columns);if(N&&(N.categories.length>=2||w)){var I=_.chain(V&&V[N.roleName]).filter(x=>x.suppressConcat).map(x=>x.queryRef).value();P=g(f,(0,d.U9)(S),N.roleName,N.categories,I,w)}}return P}function p(f,S,b,V,M=!1){var P;if(a.Y.assertValue(f,"metadata"),a.Y.assertAnyValue(S,"formatStringPropId"),a.Y.assertValue(V,"categorical"),!_.isEmpty(V.categories)&&V.categories.length>=2){var T=(0,i.IL)(f.columns);P=g({metadata:(0,i.IL)(f,I=>{I.columns=T}),categorical:V},S,b,V.categories,[],void 0,M)}else P={metadata:f,categorical:V};return P}function l(f){var S=Object.getPrototypeOf(f);return S&&S.categories?S.categories:f.categories}function g(f,S,b,V,M,P,T=!1){a.Y.assert(()=>f&&f.categorical&&_.size(f.categorical.categories)>=1,"dataView && dataView.categorical && _.size(dataView.categorical.categories) >= 1"),a.Y.assertAnyValue(S,"formatStringPropId"),a.Y.assertValue(b,"roleName"),a.Y.assert(()=>!_.isEmpty(V),"!_.isEmpty(columnsSortedByProjectionOrdering)"),a.Y.assert(()=>_.every(V,k=>_.includes(f.categorical.categories,k)),"every column in columnsSortedByProjectionOrdering should exist in dataView.categorical.categories");var I,O,N=V.length-1,w=_.filter(V,(k,L)=>L===N||!_.includes(M,k.source.queryName));1===V.length?(T||(I=w[0].values),O=w[0].source.type):(T||(I=function(f,S){a.Y.assertValue(f,"columnsSortedByProjectionOrdering"),a.Y.assertAnyValue(S,"formatStringPropId");var b=[];for(var V of f)for(var M=(0,r.Bq)(V.source,S),P=0,T=V.values.length;P<T;P++){var w=(0,r.GP)(V.values&&V.values[P],M);b[P]=void 0===b[P]?w:b[P]+" "+w}return b}(w,S)),O=t.eV.fromDescriptor({text:!0}));var j=function(f,S,b,V){var M;if(a.Y.assertValue(f,"roleName"),a.Y.assertNonEmpty(S,"sourceColumnsSortedByProjectionOrdering"),a.Y.assert(()=>1===_.chain(S).map(O=>O.isMeasure).uniq().value().length,"pre-condition: caller code should not attempt to combine a mix of measure columns and non-measure columns"),V)M=function(f,S){return f+" "+S}(V,_.last(S).displayName);else for(var T of S)M=null==M?T.displayName:M+" "+T.displayName;var N={};N[f]=!0;var w={displayName:M,roles:N,type:b},I=_.last(S);return void 0!==I.isMeasure&&(w.isMeasure=I.isMeasure),w.queryName=I.queryName,w}(b,_.map(w,k=>k.source),O,P),U=(0,i.Uz)(f);if(function(f,S){a.Y.assertValue(f,"transformedDataView"),a.Y.assertValue(S,"newColumn");var b=(0,i.Uz)(f.metadata.columns);b.push(S);var V=(0,i.Uz)(f.metadata);V.columns=b,f.metadata=V}(U,j),!T){var F=f.categorical,B=function(f,S,b,V){a.Y.assert(()=>f&&f.length>=1,"sourceColumnsSortedByProjectionOrdering && sourceColumnsSortedByProjectionOrdering.length >= 1"),a.Y.assertValue(S,"columnMetadata"),a.Y.assertValue(b,"concatenatedValues"),a.Y.assertAnyValue(V,"dataViewObjects");var M={source:S,values:b},P=f[0];return P.identity&&(M.identity=P.identity),P.identityFields&&(M.identityFields=P.identityFields),V&&(M.objects=V),M}(w,j,I,(0,n.o0)(F.categories)),A=_.last(V),W=_.findIndex(F.categories,k=>k===A),G=(0,i.Uz)(F.categories);G.splice(W,0,B);for(var K=function(k){_.find(V,L=>L===G[k])&&G.splice(k,1)},q=G.length-1;q>=0;q--)K(q);var ne=(0,i.Uz)(F);ne.categories=G,U.categorical=ne}return U}},217981:function(ve,z,e){e.d(z,{G:function(){return r},Q:function(){return t}});var a=e(890741),i=e(735183);function r(o,d){var n={data:[],id:o.id,metadata:o.metadata,order:o.order};for(var c of o.data)if((0,a.jG)(c)){var s=d(c.roles);if(!_.isEmpty(s)){for(var p of s)n.data.push((0,i.Hg)(p));continue}}else n.data.push(c);return n}function t(o,d){for(var n of o){var c=n.roles;if(!c||!_.some(d,s=>c[s]))return!1}return!0}},111199:function(ve,z,e){e.d(z,{$7:function(){return n},$i:function(){return V},$q:function(){return B},C5:function(){return w},CT:function(){return h},D9:function(){return o},IB:function(){return l},Le:function(){return D},PQ:function(){return N},So:function(){return p},Y5:function(){return v},e1:function(){return d},kz:function(){return T},lb:function(){return E},my:function(){return u},nM:function(){return c},od:function(){return P},x7:function(){return R}});var a=e(343872),i=e(579260),r=e(18122),t=e(775157);function o(A){return A&&A.usage&&A.usage.regression||void 0}class d{constructor(W){this.includeScopedValuesRoles=W,this.roleNames=[]}visitRole(W,G){(this.includeScopedValuesRoles||G!==t.Dh.MatrixRowsScopedValue)&&this.roleNames.push(W)}static fromMatrixRows(W,G){var K=new this(G);return(0,t.ms)(W,K),K.roleNames}static fromMatrixColumns(W){var G=new this;return(0,t.ms)(W,G),G.roleNames}static fromMatrixValues(W){var G=new this;return(0,t.fI)(W,G),G.roleNames}static FromCategoricalValues(W){var G=new this;return(0,t.AS)(W,G),G.roleNames}static fromCategoricalCategories(W){var G=new this;return(0,t.Ax)(W,G),G.roleNames}}function n(A){return!!(A&&A.usage&&A.usage.forecast)}function c(A){return!!(A&&A.usage&&A.usage.anomalyDetection)}function p(A,W){if(r.Y.assertValue(A,"categoricalRoleMappings"),r.Y.assertValue(W,"rolesGetter"),0!==_.size(A)){var G=_.map(A,q=>W(q)),K=G[0];if(!(G.length>=2)||_.every(G,q=>(0,i.m2)(q,K,(ne,k)=>ne===k)))return K}}function l(A){if(r.Y.assertValue(A,"categoricalRoleMapping"),!A.categories)return[];var W=[];return(0,t.Ax)(A.categories,{visitRole:G=>{W.push(G)}}),W}function u(A){if(r.Y.assertAnyValue(A,"roleMappings"),!A)return a.k.None;var W=a.k.None;for(var G of A)G.categorical&&(W|=a.k.Categorical),G.matrix&&(W|=a.k.Matrix),G.single&&(W|=a.k.Table),G.table&&(W|=a.k.Table),G.tree&&(W|=a.k.Tree);return W}function v(A){if(A){if(A.top)return"top";if(A.window)return"window";if(A.bottom)return"bottom";if(A.binnedLineSample)return"binnedLineSample";if(A.overlappingPointsSample)return"overlappingPointsSample";if(A.sample)return"sample";if(A.topNPerLevel)return"topNPerLevel"}}function E(A){return!!A&&!!A.for}function D(A){return!!A&&!!A.composite}function h(A){return!!A&&!!A.select}function V(A){return!!A&&!!A.group}function P(A){return!!A&&!!A.for}function T(A){return!!A&&!!A.composite}function N(A){return!!A&&!!A.select}function w(A){return!!A&&!!A.scope}function R(A){return function(A){return!!A&&!!A.bind}(A)?A.bind.to:P(A)?A.for.in:void r.Y.assertNever(A)}function B(A){return r.Y.assertValue(A,"role"),_.isEmpty(A.items)?[]:_.isEmpty(A.activeItems)?A.items:_.filter(A.items,W=>_.includes(A.activeItems,W.queryName))}},775157:function(ve,z,e){e.d(z,{AS:function(){return d},Ax:function(){return o},Cn:function(){return S},Dh:function(){return i},L$:function(){return c},fI:function(){return l},gF:function(){return t},ms:function(){return s},o4:function(){return r}});var a=e(18122),i=function(M){return M.CategoricalCategory="CategoricalCategory",M.CategoricalSeries="CategoricalSeries",M.CategoricalValueGroup="CategoricalValueGroup",M.CategoricalValue="CategoricalValue",M.MatrixRowsGroup="MatrixRowsGroup",M.MatrixColumnsGroup="MatrixColumnsGroup",M.MatrixIntersection="MatrixIntersection",M.MatrixRowsScopedValue="MatrixRowsScopedValue",M.TableField="TableField",M.TreeNode="TreeNode",M.TreeValue="TreeValue",M.SingleField="SingleField",M}({});function r(M,P){a.Y.assertValue(M,"mapping"),a.Y.assertValue(P,"visitor");var T=M.categorical;T&&t(T,P);var N=M.table;N&&function(M,P){a.Y.assertValue(M,"mapping"),a.Y.assertValue(P,"visitor");var T=M.rows;D(T,P,i.TableField),h(T,P,i.TableField),y(T,P,i.TableField),b(T,P)}(N,P);var w=M.matrix;w&&c(w,P);var I=M.tree;I&&function(M,P){a.Y.assertValue(M,"mapping"),a.Y.assertValue(P,"visitor"),function(M,P){a.Y.assertAnyValue(M,"mapping"),a.Y.assertValue(P,"visitor"),M&&(h(M,P,i.TreeNode),b(M,P))}(M.nodes,P),function(M,P){a.Y.assertAnyValue(M,"mapping"),a.Y.assertValue(P,"visitor"),M&&h(M,P,i.TreeValue)}(M.values,P)}(I,P);var O=M.single;O&&function(M,P){a.Y.assertValue(M,"mapping"),a.Y.assertValue(P,"visitor"),P.visitRole(M.role,i.SingleField)}(O,P)}function t(M,P){a.Y.assertValue(M,"mapping"),a.Y.assertValue(P,"visitor"),o(M.categories,P);var T=M.values;d(T,P),S(T,P),b(M,P)}function o(M,P){a.Y.assertAnyValue(M,"mapping"),a.Y.assertValue(P,"visitor"),M&&(D(M,P,i.CategoricalCategory),h(M,P,i.CategoricalCategory),y(M,P,i.CategoricalCategory),b(M,P))}function d(M,P){if(a.Y.assertAnyValue(M,"mapping"),a.Y.assertValue(P,"visitor"),M){D(M,P,i.CategoricalValue),h(M,P,i.CategoricalValue),y(M,P,i.CategoricalValue);var T=M.group;if(T)for(var N of T.select)D(N,P,i.CategoricalValueGroup),h(N,P,i.CategoricalValueGroup)}}function c(M,P){a.Y.assertValue(M,"mapping"),a.Y.assertValue(P,"visitor"),s(M.rows,P),function(M,P){v(M,P,i.MatrixColumnsGroup)}(M.columns,P),l(M.values,P)}function s(M,P){!function(M,P,T){if(a.Y.assertAnyValue(M,"mapping"),a.Y.assertValue(P,"visitor"),M){h(M,P,T),function(M,P,T){a.Y.assertValue(M,"mapping"),a.Y.assertValue(P,"visitor");var N=M.select;if(N)for(var w of N)D(w,P,T),h(w,P,T),C(w,P,T)}(M,P,T),b(M,P);var N=M.values;if(!N)return;h(N,P,i.MatrixRowsScopedValue),y(N,P,i.MatrixRowsScopedValue)}}(M,P,i.MatrixRowsGroup)}function l(M,P){v(M,P,i.MatrixIntersection)}function v(M,P,T){a.Y.assertAnyValue(M,"mapping"),a.Y.assertValue(P,"visitor"),M&&(h(M,P,T),y(M,P,T),b(M,P))}function D(M,P,T){a.Y.assertValue(M,"mapping"),a.Y.assertValue(P,"visitor");var N=M.bind;N&&P.visitRole(N.to,T)}function h(M,P,T){a.Y.assertValue(M,"mapping"),a.Y.assertValue(P,"visitor");var N=M.for;N&&P.visitRole(N.in,T)}function C(M,P,T){a.Y.assertValue(M,"mapping"),a.Y.assertValue(P,"visitor");var N=M.composite;if(N){for(var w of(P.enterComposite&&P.enterComposite(),N))D(w,P,T),h(w,P,T);P.exitComposite&&P.exitComposite()}}function y(M,P,T){a.Y.assertValue(M,"mapping"),a.Y.assertValue(P,"visitor");var N=M.select;if(N)for(var w of N)D(w,P,T),h(w,P,T)}function S(M,P){if(a.Y.assertAnyValue(M,"mapping"),a.Y.assertValue(P,"visitor"),M){var T=M.group;T&&(P.visitRole(T.by,i.CategoricalSeries),b(T,P))}}function b(M,P){if(a.Y.assertValue(M,"mapping"),a.Y.assertValue(P,"visitor"),P.visitReduction){var T=M.dataReductionAlgorithm;T&&P.visitReduction(T)}}},816030:function(ve,z,e){e.d(z,{$N:function(){return c},KP:function(){return o},P3:function(){return d},_W:function(){return t},pM:function(){return n},rL:function(){return s}});var a=e(18122),i=e(531093),r=e(337141);function t(l,u,v,m){return a.Y.assertAnyValue(l,"objects"),a.Y.assertValue(u,"propertyId"),a.Y.assert(()=>"$"!==u.propertyName.charAt(0),"Properties starting with $ are reserved."),l?(0,i._)(l[u.objectName],u.propertyName,v,m):v}function o(l,u){var v=(0,r.nq)(l,u);if(v){var m={};for(var g in v){var E=v[g].$order;null!=E&&(m[g]=E)}return m}}function d(l,u){if(u)return l?.metadata?.objectsRules?.[u.objectName]?.[u.propertyName]?.gradient}function n(l,u,v,m){var g=t(l,u,void 0,m)?.solid?.color;return void 0===g?v:g}function c(l,u,v){return!!t(l,u,void 0,v)?.solid?.color}function s(l,u,v,m){for(var g in a.Y.assertValue(l,"DataViewObjects.mergeObjects - destination"),a.Y.assertValue(u,"DataViewObjects.mergeObjects - source"),u){var E=u[g];if(null!=E){var D=l[g];if(!D){null==v?l[g]=E:(l[g]={$instances:{[v]:E}},null!=m&&(l[g].$instances[v].$order=m));continue}p(D,E,v,m)}}}function p(l,u,v,m){if(a.Y.assertValue(l,"DataViewObjects.mergeObject - destination"),a.Y.assertValue(u,"DataViewObjects.mergeObject - source"),a.Y.assert(()=>null==u.$instances,"DataViewObjects.mergeObject - source should not include $instances"),v){var g=l.$instances;null==g&&(g=l.$instances={});var E=g[v];E||(E=g[v]={}),p(E,u,null),null!=m&&(E.$order=m)}else for(var D in u)"$instances"!==D&&"$order"!==D&&void 0!==u[D]&&(l[D]=u[D])}},531093:function(ve,z,e){e.d(z,{_:function(){return i},a:function(){return r}});var a=e(18122);function i(t,o,d,n){if(a.Y.assertAnyValue(t,"object"),a.Y.assertValue(o,"propertyName"),!t)return d;if(n){var c=t.$instances?.[n];if(!c)return d;t=c}var s=t[o];return void 0===s?d:s}function r(t,o,d,n,c){a.Y.assertAnyValue(t,"object"),a.Y.assertValue(o,"propertyName");var s=i(t,o,void 0,n)?.solid?.color;return s||c&&null===s?s:d}},999904:function(ve,z,e){e.d(z,{BJ:function(){return V},D8:function(){return E},DS:function(){return C},F4:function(){return f},GO:function(){return K},Im:function(){return G},JZ:function(){return Q},KY:function(){return M},NN:function(){return P},TK:function(){return A},TS:function(){return X},V4:function(){return B},X$:function(){return y},Y2:function(){return F},Y5:function(){return j},_W:function(){return N},bY:function(){return L},ep:function(){return x},gr:function(){return h},hg:function(){return ne},lY:function(){return O},lj:function(){return R},o8:function(){return W},pG:function(){return w},pR:function(){return T},po:function(){return k},rZ:function(){return D},ui:function(){return Y},xr:function(){return I}});var a=e(620825),i=e(98138),r=e(18122),t=e(623670),o=e(178748),d=e(890741),n=e(258480),c=e(757406),s=e(312185),p=e(154277),l=e(153920),u=e(364145),v=e(827431),m=e(927574),g=e(456657);function E(H,te,ee){r.Y.assertValue(H,"defns");var ue=H[te];ue||(H[te]=[],ue=H[te]);for(var Te=0,He=ue.length;Te<He;Te++){var We=ue[Te];if((0,d.aI)(We.selector,ee))return We}return ue.push({selector:ee,properties:{}}),ue[ue.length-1]}function D(H,te,ee,ue){r.Y.assertValue(H,"defns");var Te=_.find(H[te],He=>(0,d.aI)(He.selector,ee));Te&&(Te.selector=ue)}function h(H,te,ee){r.Y.assertValue(H,"defns");var ue=H[te];if(!ue)return!1;var Te=_.remove(ue,He=>(0,d.aI)(He.selector,ee)).length>0;return _.isEmpty(ue)&&delete H[te],Te}function C(H,te){if(H&&te)for(var ee in te){var ue=te[ee];for(var Te of ue)for(var He in Te.properties)V(H,ee,Te.selector,He)}}function y(H,te,ee){if(r.Y.assertValue(H,"Trying to cascade into undefined DataViewObjectDefinitions"),H&&te)for(var ue in te){var Te=te[ue];if(Te){var He=H[ue];He||(He=H[ue]=[]),S(He,Te,ee)}}}function f(H,te,ee,ue,Te){var He=O(H,te,ee);if(He){var We=He.properties[ue];We&&(E(H,Te,ee).properties[ue]=We,delete He.properties[ue])}}function S(H,te,ee){var ue;if(ee)H.splice(0,0,...te||[]);else for(var Te of te){for(var He of(ue=!1,H))if((0,d.aI)(He.selector,Te.selector)){b(He.properties,Te.properties),ue=!0;break}if(!ue){var We={selector:Te.selector,properties:{}};b(We.properties,Te.properties),H.push(We)}}}function b(H,te){for(var ee in te){var ue=te[ee];ue&&(H[ee]||(H[ee]=ue))}}function V(H,te,ee,ue){r.Y.assertValue(H,"defns");var Te=x(H,te,ee),He=_.sumBy(Te,We=>(0,u.hv)(We,ue)?1:0);return P(H,{objectName:te,propertyName:ue},ee),He}function M(H,te,ee,ue){r.Y.assertValue(H,"defns"),r.Y.assertValue(te,"propertyId"),E(H,te.objectName,ee).properties[te.propertyName]=ue}function P(H,te,ee){if(null==ee?.order)return!1;var ue=x(H,te.objectName,ee,{skipId:!0,skipOrder:!0}).filter(At=>null!=At.properties?.[te.propertyName]),Te=_.map(ue,At=>At.selector?.order).filter(At=>null!=At).sort();Te=_.uniq(Te);var He=(At,Qe)=>{var Fe=At.selector?.order;return null!=Fe&&(At.selector.order=Qe++),Qe},We=0,ft=function(At){var Qe=_.filter(ue,we=>we.selector?.order===At);if(r.Y.assert(()=>!!Qe.length,"should find definitions that match given order"),1===Qe.length)We=He(Qe[0],We);else{var Fe=_.findIndex(Qe,we=>(0,d.aI)(we.selector,ee));for(var ye of(Fe>=0&&(We=He(Qe[Fe],We),Qe.splice(Fe,1)),Qe))We=He(ye,We)}_.pullAll(ue,Qe)};for(var mt of Te)ft(mt);return 0!==Te.length}function T(H,te,ee,ue,Te){var He=U(te,ee);He?Te?M(H,He,ue,Te):V(H,He.objectName,ue,He.propertyName):r.Y.assertFail("Property does not have an associated format string object")}function N(H,te,ee){var ue=w(H,te,ee);if(ue)return ue[te.propertyName]}function w(H,te,ee){var ue=x(H,te.objectName,ee);if(ue)for(var Te of ue)if(Te.properties[te.propertyName])return Te.properties}function I(H,te,ee,ue){var Te=U(te,ee);if(Te){var He=N(H,Te,ue);if(He){if(Y(He)&&(0,a.Qy)(He))return He;r.Y.assertFail("Format value is not of the expected type")}}else r.Y.assertFail("Property does not have an associated format string object")}function O(H,te,ee){if(r.Y.assertAnyValue(H,"defns"),r.Y.assertValue(te,"objectName"),r.Y.assertAnyValue(ee,"selector"),H){var ue=H[te];if(ue)for(var Te=0,He=ue.length;Te<He;Te++){var We=ue[Te];if((0,d.aI)(We.selector,ee))return We}}}function x(H,te,ee,ue){if(r.Y.assertAnyValue(H,"defns"),r.Y.assertValue(te,"objectName"),r.Y.assertAnyValue(ee,"selector"),!H)return[];var Te=H[te];return Te?_.filter(Te,He=>(0,d.aI)(He.selector,ee,ue)):[]}function j(H,te,ee){var{objectName:ue,propertyName:Te}=te,He=x(H,ue,ee,{skipId:!0,skipOrder:!0});if(He){var We=_.filter(He,Qe=>!!Qe.properties[Te]);if(!_.isEmpty(We)){var ft={},mt=function(){var Qe=At.selector?.id;r.Y.assert(()=>null!=Qe,"expected user-defined value"),ft[Qe]={selector:At.selector,value:At.properties[Te]}};for(var At of We)mt();return ft}}}function U(H,te){var ee=(0,v.D0)(H,te);if(ee)return ee.formatStringProperty;r.Y.assertFail("Property is missing from the object descriptors")}function F(H,te){return H===te||(H instanceof n.b0&&te instanceof n.b0?n.b0.isSameFilter(H,te):H instanceof c.yj&&te instanceof c.yj?(0,i.aI)(H,te):(0,t.aI)(H,te))}function R(H,te){if(r.Y.assertValue(H,"a"),r.Y.assertValue(te,"b"),Object.keys(H).length!==Object.keys(te).length)return!1;for(var ee in H)if(!F(H[ee],te[ee]))return!1;return!0}function B(H,te){r.Y.assertValue(H,"a"),r.Y.assertValue(te,"b");var ee=[];for(var ue in H)F(H[ue],te[ue])||ee.push(ue);for(var Te in te)_.includes(ee,Te)||F(H[Te],te[Te])||ee.push(Te);return ee}function A(H,te){r.Y.assertAnyValue(H,"value"),r.Y.assertValue(te,"DataViewObjectDefinition.encodePropertyValue - typeDescriptor should exist");var ee=te,ue=te;if(ee.variantDeleteEmpty&&ee.variant&&null==H)return H;if(ee.bool||ee.operations&&ee.operations.searchEnabled)return"boolean"!=typeof H&&(H=!1),(0,c.zM)(!!H);if(ee.text||ee.duration||ee.scripting&&ee.scripting.source)return(0,c.Qq)(H?H.toString():"");if(ee.numeric){if($.isNumeric(H))return(0,c.gd)(+H)}else if(ee.integer){if($.isNumeric(H))return(0,c.nd)(Math.floor(+H))}else if(ue.fill){if(H){var Te=H;return null==Te.id||null==Te.shade?{solid:{color:(0,c.Qq)((Te.value||H).toString())}}:{solid:{color:(0,c.Bg)(Te.id,Te.shade)}}}if(null===H&&ue.fill.solid&&ue.fill.solid.color){var He=!1,We=ue.fill.solid.color;if("boolean"!=typeof We&&(He=We.nullable),He)return{solid:{color:(0,c.gN)()}}}}else if(ee.formatting){if(!(ee.formatting.labelDisplayUnits||ee.formatting.displayUnitsWithoutAuto||ee.formatting.fontSize))return(0,c.Qq)(H?H.toString():"");if(null!=H)return(0,c.gd)(+H)}else{if(ee.enumeration||ee.flagsEnumeration)return $.isNumeric(H)?(0,c.gd)(+H):(0,c.Qq)(H?H.toString():"");if(ee.misc)H=H?(0,c.Qq)(H.toString()):null;else if(ee.dateTime)H=H?(0,c.KQ)(H):null;else if(!ee.variant)if(ue.image){if(H){var ft=H,mt={name:(0,c.Qq)(ft.name.toString()),url:(0,c.Qq)(ft.url.toString())};return ft.scaling&&(mt.scaling=(0,c.Qq)(ft.scaling.toString())),mt}}else if(ue.geoJson){if(H){var At=H;return{type:(0,c.Qq)(At.type.toString()),name:(0,c.Qq)(At.name.toString()),content:At.content?(0,c.Qq)(At.content.toString()):(0,c.gN)()}}}else if(ee.reference)(ee.reference.bookmark||ee.reference.section||ee.reference.perspective||ee.reference.bookmarkGroup||ee.reference.rowRefText)&&(H=(0,c.Qq)(H?H.toString():""));else if(ue.filter)r.Y.assert(()=>H instanceof n.b0,"DataViewObjectDefinition.encodePropertyValue - When encoding a filter it should be of type Semantic Filter");else{if(ue.paragraphs){var Fe=H,ye=[];if(_.isEmpty(Fe))return ye;for(var we of Fe){var Ee={...we,textRuns:[]};if(_.isEmpty(we.textRuns))ye.push(Ee);else{for(var Oe of we.textRuns)if((0,s.PG)(Oe))Ee.textRuns.push(Oe);else if((0,s.Nr)(Oe)){var he=void 0;_.isNumber(Oe.expression)?he=A(Oe.expression,{integer:!0}):(0,l.p)(Oe.expression)?he=Oe.expression:r.Y.assertNever(Oe.expression);var xe={cases:[],defaultCase:Oe.defaultCase,expression:he};if(!_.isEmpty(Oe.cases))for(var Se of Oe.cases){var Ae={pattern:A(Se.pattern,{integer:!0}),textRuns:Se.textRuns};xe.cases.push(Ae)}Ee.textRuns.push(xe)}else r.Y.assertNever(Oe);ye.push(Ee)}}return ye}if(!ue.queryTransform){if(ue.exprList||ue.selectedValues){var Je={exprs:[],kind:o.P.ExprList};return Je.exprs=_.map(H.exprs,It=>It),Je}if(ue.itemLocation){var pe=H,Pe={kind:o.P.ItemLocation,byReference:{itemId:(0,c.Qq)(pe.byReference.itemId)}};pe.byReference.workspaceId&&(Pe.byReference.workspaceId=(0,c.Qq)(pe.byReference.workspaceId)),pe.byReference.folderId&&(Pe.byReference.folderId=(0,c.Qq)(pe.byReference.folderId));var Me=pe.metadata;if(Me){Pe.metadata={};var Ge=Me.dataFunction;Ge&&(Pe.metadata.dataFunction={name:Ge.name,autoRefresh:Ge.autoRefresh,parameters:Ge.parameters.map(It=>{switch(It.type){case"SlicerParameter":return{...It};case"ValueParameter":var Ot;return Ot=It.value?It.value instanceof c.yj?It.value:(0,c.FT)(It.value,{}):(0,c.gN)(),{...It,value:Ot}}})})}return Pe}if(ue.annotationTemplate){if(!H)return;var De;if((0,g.lM)(ue.annotationTemplate)){var lt=H;if(!lt.text)return;var ct={kind:o.P.AnnotationTemplate,annotationType:m.x.Callout,text:(0,c.Qq)(lt.text)};null!=lt.offsetX&&(ct.offsetX=(0,c.gd)(lt.offsetX)),null!=lt.offsetY&&(ct.offsetY=(0,c.gd)(lt.offsetY)),null!=lt.width&&(ct.width=(0,c.gd)(lt.width)),null!=lt.height&&(ct.height=(0,c.gd)(lt.height)),null!=lt.lastEditUTCTimestamp&&(ct.lastEditUTCTimestamp=(0,c.gd)(lt.lastEditUTCTimestamp)),De=ct}else{var vt=H;if(!vt.color)return;var Vt={kind:o.P.AnnotationTemplate,annotationType:m.x.Highlight,color:(0,c.Qq)(vt.color)};vt.fontColor&&(Vt.fontColor=(0,c.Qq)(vt.fontColor)),vt.backgroundColor&&(Vt.backgroundColor=(0,c.Qq)(vt.backgroundColor)),vt.emphasizeText&&(Vt.emphasizeText=(0,c.zM)(vt.emphasizeText)),vt.strokeDasharray&&(Vt.strokeDasharray=(0,c.Qq)(vt.strokeDasharray)),vt.shouldOffsetVisibleOutlinesInbound&&(Vt.shouldOffsetVisibleOutlinesInbound=(0,c.zM)(vt.shouldOffsetVisibleOutlinesInbound)),vt.targets&&(Vt.targets=_.map(vt.targets,It=>(0,c.Qq)(It))),De=Vt}return De}r.Y.assertFail("DataViewObjectDefinition.encodePropertyValue - The value couldn't be encoded, make sure that the descriptor is valid and handled in here.")}}}return H}function W(H){var te={};for(var ee in H){var ue=H[ee];_.isEmpty(ue)||(te[ee]=K(ue))}return te}function G(H){if(_.isEmpty(H))return!0;for(var te in H){var ee=H[te];if(!_.isEmpty(ee))for(var ue of ee)if(!_.isEmpty(ue.properties))return!1}return!0}function K(H){var te=[];for(var ee of H)te.push({properties:q(ee.properties),selector:ee.selector});return te}function q(H){return r.Y.assertValue(H,"original"),_.clone(H)}function ne(H){return!!H&&!!(H instanceof c.yj||(0,p.Mr)(H))}function k(H,te,ee){for(var ue in H){var Te=H[ue],He=te&&te[ue];if(Te&&(!te||He))for(var We of Te)for(var ft in We.properties)!We.properties[ft]||te&&(!He||!He.properties[ft])||ee(We.properties,ft,We.selector,ue,He)}}function L(H){var te=H.definitions,ee=H.descriptors,ue=H.visitor,Te=H.structuralObjectVisitor;r.Y.assertValue(te,"dataViewObjectDefinition.visitPropertyExprs - definitions"),r.Y.assertAnyValue(ee,"dataViewObjectDefinition.visitPropertyExprs - if descriptors exist we only visit valid objects, otherwise everything"),r.Y.assertAnyValue(ue,"dataViewObjectDefinition.visitPropertyExprs - visitor"),r.Y.assertAnyValue(Te,"dataViewObjectDefinition.visitPropertyExprs - visitor"),r.Y.assert(()=>!!ue||!!Te,"Either sqExprVisitor or structuralObjectVisitor are required");var He=[],We={stopVisiting:!1};function ft(Ee,Oe,he){var xe=Ee[Oe];if(ue&&xe instanceof c.yj)ue(xe,Ee,Oe,he,He,We);else if("object"==typeof xe&&(Te&&Te(xe,Ee,Oe,he,He,We),ue))for(var Se in xe){if(We.stopVisiting)return;He.push(Se),ft(xe,Se,he),He.pop()}}for(var mt in te){var At=ee&&ee[mt];if(!_.isEmpty(te[mt])&&(At||!ee)){for(var Qe of te[mt]){var Fe=Qe.properties;if(Fe)for(var ye in Fe){if(We.stopVisiting)return;var we=At&&At.properties[ye];(we||!ee)&&ft(Fe,ye,we&&we.type)}}r.Y.assert(()=>_.isEmpty(He),"DataViewObjectDefinition.visitPropertyExprs - propertyPath should be empty after iterating through object properties")}}}function X(H){if(r.Y.assertAnyValue(H,"DataViewObjectDefinitions.reduce - objects can be undefined"),!_.isEmpty(H)){for(var te in H)if(H[te]){var ee=[];for(var ue of H[te]){var Te=(0,u.TS)(ue);Te&&ee.push(Te)}_.isEmpty(ee)?delete H[te]:H[te]=ee}else delete H[te];if(!_.isEmpty(H))return H}}function Y(H){return H instanceof c.yj}function Q(H){return H&&"ExprWithContext"===H.propertyDefinitionKind}},364145:function(ve,z,e){e.d(z,{Jd:function(){return r},TS:function(){return t},hv:function(){return i}});var a=e(18122);function i(o,d){if(d in o.properties)return delete o.properties[d],!0}function r(o){return!_.startsWith(o,"$")}function t(o){a.Y.assertAnyValue(o,"DataViewObjectDefinition.reduce - defn can have any value.");var d=o&&o.properties;if(d){for(var n in d)_.isEmpty(d[n])&&i(o,n);if(!_.isEmpty(d))return o}}},827431:function(ve,z,e){e.d(z,{D0:function(){return p},Es:function(){return d},PJ:function(){return o},U9:function(){return r},df:function(){return c},eq:function(){return s},x_:function(){return t}});var a=e(18122),i=e(337965);function r(u){return l(u,v=>{var m=i.eV.fromDescriptor(v.type).formatting;return m&&m.formatString})}function t(u){return l(u,v=>{var m=v.type;return m&&m.filter&&!m.filter.selfFilter})}function o(u){return l(u,v=>{var m=v.type;return m&&!!m.exprList})}function d(u){return l(u,n)}function n(u){var v=u&&u.type;return v&&v.filter&&v.filter.selfFilter}function c(u){return l(u,v=>{var m=v.type;return m&&m.operations&&m.operations.searchEnabled})}function s(u){return l(u,v=>{var m=v.type;return m&&!!m.expression&&m.expression.defaultValue})}function p(u,v){if(a.Y.assertValue(u,"descriptors"),a.Y.assertValue(v,"propertyId"),!_.isEmpty(u)){var m=u[v.objectName];if(m&&!_.isEmpty(m.properties))return m.properties[v.propertyName]}}function l(u,v){if(a.Y.assertAnyValue(u,"descriptors"),a.Y.assertAnyValue(v,"propPredicate"),u)for(var m in u){var g=u[m].properties;for(var E in g)if(v(g[E]))return{objectName:m,propertyName:E}}}},443199:function(ve,z,e){e.d(z,{po:function(){return d},qM:function(){return n},zJ:function(){return s}});var a=e(18122),i=e(890741),r=e(757406),t=e(816030),o=e(827431);function d(h,C,y,f,S){var b;for(var V of(a.Y.assertValue(C,"evalContext"),a.Y.assertValue(y,"objectDescriptors"),a.Y.assertValue(f,"objectDefns"),f)){var M=V.name;S&&(S.objectName=M);var P=h.run(M,C,y[M],V.properties,S);P&&(b||(b={}),b[M]?(0,t.rL)(b,{[M]:P}):b[M]=P)}return b}function n(h){a.Y.assertAnyValue(h,"objectDefinitions");var C={data:[]};if(h)for(var y in h)for(var f=h[y],S=0,b=f.length;S<b;S++){var V=f[S];c(C,V.selector).objects.push({name:y,properties:V.properties})}return C}function c(h,C){var y;for(var f of(a.Y.assertValue(h,"grouped"),a.Y.assertAnyValue(C,"selector"),C&&C.data?y=h.data:C&&C.metadata?(h.metadata||(h.metadata=[]),y=h.metadata):(h.metadataOnce||(h.metadataOnce=[]),y=h.metadataOnce),a.Y.assert(()=>!!y,"GroupedObjects is not defined.  Indicates malformed selector."),y))if((0,i.aI)(C,f.selector))return f;var S={selector:C,objects:[]};return y.push(S),S}function s(h,C,y,f){a.Y.assertValue(h,"objectsForAllSelectors"),a.Y.assertValue(C,"objectDescriptors"),a.Y.assertValue(y,"columns"),a.Y.assertAnyValue(f,"selectTransforms"),f&&(function(h,C,y,f){a.Y.assertValue(h,"objectsForAllSelectors"),a.Y.assertValue(C,"objectDescriptors"),a.Y.assertValue(y,"columns"),a.Y.assertValue(f,"selectTransforms");var S=(0,o.U9)(C);if(S)for(var b=0,V=f.length;b<V;b++){var M=f[b];M&&(a.Y.assertValue(M.queryName,"selectTransform.queryName"),v(h,S,M.queryName,M.format||u(y,b)))}}(h,C,y,f),function(h,C,y){a.Y.assertValue(h,"objectsForAllSelectors"),a.Y.assertValue(C,"objectDescriptors"),a.Y.assertValue(y,"selectTransforms");var f=(0,o.eq)(C);if(f)for(var S of y)S&&(a.Y.assertValue(S.queryName,"selectTransform.queryName"),m(h,f,S.queryName,S.defaultValue))}(h,C,f))}function u(h,C){for(var y=0,f=h.length;y<f;y++){var S=h[y];if(S&&S.index===C)return S.format}}function v(h,C,y,f){f&&g(h,C,{metadata:y},(0,r.Qq)(f))}function m(h,C,y,f){f&&g(h,C,{metadata:y},f)}function g(h,C,y,f){var S;if(y){var b=h.metadata;b||(b=h.metadata=[]),S=b}else{var V=h.metadataOnce;V||(V=h.metadataOnce=[{selector:y,objects:[]}]),S=V}var P,M=function(h,C){a.Y.assertValue(h,"objects"),a.Y.assertAnyValue(C,"selector");for(var y=0,f=h.length;y<f;y++){var S=h[y];if((0,i.aI)(S.selector,C))return S}}(S,y);if(M){var T=M.objects;if(P=function(h,C){a.Y.assertValue(h,"objectDefns"),a.Y.assertValue(C,"objectName");for(var y=0,f=h.length;y<f;y++){var S=h[y];if(S.name===C)return S}}(T,C.objectName),P){if(P.properties[C.propertyName])return}else T.push(P={name:C.objectName,properties:{}})}else S.push({selector:y,objects:[P={name:C.objectName,properties:{}}]});P.properties[C.propertyName]=f}},536022:function(ve,z,e){e.d(z,{q:function(){return V}});var a=e(81825),i=e(647132),r=e(18122),t=e(563670),o=e(454840),d=e(178748),n=e(757406),c=e(73646),s=e(889953),p=e(641509),l=e(312185),u=e(154277),v=e(153920),m=e(337965),g=e(21756),E=e(622077),D=e(165248);class C{constructor(){this.cache=[]}get(T){for(var N of(r.Y.assertValue(T,"key"),this.cache))if(N.key===T)return N.allocator}register(T,N){return r.Y.assertValue(T,"key"),r.Y.assert(()=>void 0!==N,"colorAllocator (it can be null, but not undefined)"),r.Y.assert(()=>null==this.get(T),"Trying to re-register for same key expr."),this.cache.push({key:T,allocator:N}),this}}var y=e(346375),f=e(538696),S=e(456657),V=(()=>{class P{constructor(N,w){this.featureSwitches=N,this.visualStyle=w,r.Y.assertValue(this.featureSwitches,"featureSwitches"),this.colorAllocatorCache=new C,this.expressionEvaluator=new M(I=>this.evaluateThemeDataColor(I),(I,O)=>this.ensureColorAllocator(I,O))}getObjectsRules(){return this.objectsRules}run(N,w,I,O,x){if(r.Y.assertValue(w,"evalContext"),r.Y.assertAnyValue(I,"objectDescriptor"),r.Y.assertValue(O,"propertyDefinitions"),I){var j,U=I.properties;for(var F in O){this.propertyId={objectName:N,propertyName:F};var R=O[F],B=U[F];if(B){x&&(x.objectDescriptor=I,x.propertyName=F);var A=this.evaluateProperty(w,B,R);void 0!==A&&(j||(j={}),j[F]=A)}}return this.propertyId=void 0,j}}evaluateProperty(N,w,I,O){r.Y.assertValue(N,"evalContext"),r.Y.assertValue(w,"propertyDescriptor"),r.Y.assertValue(I,"propertyDefinition");var x=w.type;if(x?.expression)return I;var U,j=this.evaluateValue(N,I,m.eV.fromDescriptor(w.type));return void 0!==j||I instanceof f.b?j:(x.fillRule?U=this.evaluateFillRule(I):x.fill?.solid?.color&&I?.solid?.color?U=this.evaluateSolidColorFill(N,I,x.fill.solid.color.nullable):x.dataBars&&(U=this.evaluateDataBars(N,I)),U?(O&&U.error&&O.warnings.push(new E.u(this.featureSwitches,D.Mr.InvalidValue,{objectName:O.objectName,propertyName:O.propertyName},O.selector,O.objectDescriptor.displayName,w.displayName,U.error.expr,U.error.value,null,O.targetExpr)),U.value):x.queryTransform?this.evaluateQueryTransform(N,I):x.image?this.evaluateImage(N,I):x.paragraphs?this.evaluateParagraphs(N,I):x.geoJson?this.evaluateGeoJson(N,I):x.filter?this.evaluateSemanticFilter(I):x.icon?this.evaluateIcon(N,I):x.exprList?this.evaluateExprList(I):x.errorRange?this.evaluateErrorRange(N,I):x.qnaVisualLink?this.evaluateQnaVisualLink(N,I):x.itemLocation?this.evaluateItemLocation(N,I):x.annotationTemplate?this.evaluateAnnotationTemplate(N,I,x.annotationTemplate):void 0)}evaluateSemanticFilter(N){return N}evaluateSolidColorFill(N,w,I){if(w?.solid?.color){var O=this.evaluateColor(N,w.solid.color,I);if(O.error)return O;var x=O.value;if(x||null===x&&I)return{value:{solid:{color:x}}}}}ensureColorAllocator(N,w){var I=this.colorAllocatorCache.get(N);return void 0!==I||(I=this.createColorAllocator(N,w),this.colorAllocatorCache.register(N,I,this.propertyId),this.propertyId&&I&&this.addObjectRule(I)),I}addObjectRule(N){this.objectsRules||(this.objectsRules={});var w=this.objectsRules[this.propertyId.objectName];w||(w=this.objectsRules[this.propertyId.objectName]={}),w[this.propertyId.propertyName]={gradient:{options:N.getRule(),source:N.getSource()}}}createColorAllocator(N,w){var I=w.getExprColumn(N.input,!0);if(!I)return null;var O=this.evaluateFillRule(N.rule).value;return O?(0,g.r)().fromFillRule(O,I):null}evaluateFillRule(N){var I,w=(0,y.b)();if(N.linearGradient2){var O=N.linearGradient2,x=this.evaluateColorStop(w,O.min);if(x.error)return x;var j=this.evaluateColorStop(w,O.max);if(j.error)return j;I={linearGradient2:{min:x.value,max:j.value}};var U=this.evaluateNullStrategy(w,O.nullColoringStrategy);if(U){if(U.error)return U;I.linearGradient2.nullColoringStrategy=U.value}}else if(N.linearGradient3){var R=N.linearGradient3,B=this.evaluateColorStop(w,R.min);if(B.error)return B;var A=this.evaluateColorStop(w,R.mid);if(A.error)return A;var W=this.evaluateColorStop(w,R.max);if(W.error)return W;I={linearGradient3:{min:B.value,mid:A.value,max:W.value}};var G=this.evaluateNullStrategy(w,R.nullColoringStrategy);if(G){if(G.error)return G;I.linearGradient3.nullColoringStrategy=G.value}}return{value:I}}evaluateColorStop(N,w){r.Y.assertValue(N,"evalContext"),r.Y.assertValue(w,"colorStop");var I=this.evaluateColor(N,w.color,!1);if(I.error)return I;var O={color:I.value},x=this.evaluateValue(N,w.value,P.numericType);return null!=x&&(O.value=x),{value:O}}evaluateColor(N,w,I){r.Y.assertValue(N,"evalContext"),r.Y.assertValue(w,"evaluateColor - color");var O=this.evaluateValue(N,w,P.colorValueType),x=null!=O?(0,t.rQ)(this.visualStyle,O):O;if(null!=x)return{value:x};if(null===O&&I)return{value:null};if(!O)return{value:void 0};var j=O.toString();if(j){var U=j.replace(/\s+/g,"");(0,i.fh)(U)?j=U:null==(j=(0,i.R3)(U))&&(j=(0,t.ck)(U))}return void 0===j?{error:{expr:w,value:O}}:{value:j}}evaluateNullStrategy(N,w){if(w){r.Y.assertValue(N,"evaluateNullStrategy - undefined evalContext"),r.Y.assertValue(w.strategy,"evaluateNullStrategy - undefined strategy");var I={strategy:this.evaluateValue(N,w.strategy,P.nullStrategyType)};if(w.color){var O=this.evaluateColor(N,w.color,!1);if(O.error)return O;I.color=O.value}return{value:I}}}evaluateQueryTransform(N,w){if(r.Y.assertValue(N,"evalContext"),r.Y.assertAnyValue(w,"definition"),w)return{algorithm:w.algorithm,parameters:w.parameters.map(I=>({name:I.name,value:this.evaluateValue(N,I.expr,m.eV.fromDescriptor({}))}))}}evaluateImage(N,w){if(r.Y.assertValue(N,"evalContext"),r.Y.assertAnyValue(w,"definition"),w){var I={name:this.evaluateValue(N,w.name,P.textType),url:this.evaluateValue(N,w.url,m.eV.fromDescriptor(p.c))};return w.scaling&&(I.scaling=this.evaluateValue(N,w.scaling,P.textType)),I}}evaluateParagraphs(N,w){if(r.Y.assertValue(N,"evalContext"),r.Y.assertAnyValue(w,"definition"),w)return this.evaluateArrayCopyOnChange(N,w,(I,O)=>this.evaluateParagraph(I,O))}evaluateParagraph(N,w){r.Y.assertValue(N,"evalContext"),r.Y.assertValue(w,"definition");var I,O=w.textRuns,x=this.evaluateArrayCopyOnChange(N,O,(j,U)=>this.evaluateTextRun(j,U));return O!==x&&((I=_.clone(w)).textRuns=x),I||w}evaluateTextRun(N,w){return r.Y.assertValue(N,"evalContext"),r.Y.assertValue(w,"definition"),(0,l.OX)(w)?this.evaluateTextRunDefinition(N,w):(0,l.k9)(w)?this.evaluateTextRunConditional(N,w):void r.Y.assertNever(w)}evaluateTextRunDefinition(N,w){var I,O;w.value instanceof n.yj?(I=w.value,O=this.evaluateValue(N,w.value,P.textType)):O=w.value;var x={value:O};return w.textStyle&&(x.textStyle=w.textStyle),w.url&&(x.url=w.url),w.mentionEmail&&(x.mentionEmail=w.mentionEmail),w.mentionKey&&(x.mentionKey=w.mentionKey),I&&(x.valueExpr=I),x}evaluateTextRunConditional(N,w){return{cases:this.evaluateArrayCopyOnChange(N,w.cases,(O,x)=>this.evaluateTextRunConditionalCase(O,x)),defaultCase:this.evaluateTextRunCaseValue(N,w.defaultCase),expression:this.evaluateTextRunConditionalExpression(N,w.expression)}}evaluateTextRunConditionalCase(N,w){return{pattern:this.evaluateValue(N,w.pattern,P.textType),...this.evaluateTextRunCaseValue(N,w)}}evaluateTextRunCaseValue(N,w){return{textRuns:this.evaluateArrayCopyOnChange(N,w.textRuns,(O,x)=>this.evaluateTextRunDefinition(O,x))}}evaluateTextRunConditionalExpression(N,w){return w instanceof n.yj?this.evaluateValue(N,w,P.textType):(0,v.p)(w)?w:void r.Y.assertNever(w)}evaluateGeoJson(N,w){if(r.Y.assertValue(N,"evalContext"),r.Y.assertAnyValue(w,"definition"),w)return{name:this.evaluateValue(N,w.name,P.textType),type:this.evaluateValue(N,w.type,P.textType),content:this.evaluateValue(N,w.content,P.textType)}}evaluateDataBars(N,w){var I=this.evaluateSolidColorFill(N,w.positiveColor,!1);if(I.error)return{error:I.error};var O=this.evaluateSolidColorFill(N,w.negativeColor,!1);if(O.error)return{error:O.error};var x=this.evaluateSolidColorFill(N,w.axisColor,!1);return x.error?{error:x.error}:{value:{minValue:this.evaluateValue(N,w.minValue,P.numericType),maxValue:this.evaluateValue(N,w.maxValue,P.numericType),positiveColor:I.value,negativeColor:O.value,axisColor:x.value,reverseDirection:this.evaluateValue(N,w.reverseDirection,P.boolType),hideText:this.evaluateValue(N,w.hideText,P.boolType),totalMatchingOption:this.evaluateValue(N,w.totalMatchingOption,P.integerType)}}}evaluateIcon(N,w){if(r.Y.assertValue(N,"evalContext"),r.Y.assertAnyValue(w,"definition"),(0,u.P3)(w)){var I={kind:d.P.Icon};if(w.layout&&(I.layout=this.evaluateValue(N,w.layout,P.textType)),w.verticalAlignment&&(I.verticalAlignment=this.evaluateValue(N,w.verticalAlignment,P.textType)),w.value){var O=this.evaluateValue(N,w.value,P.textType);if(null===O)I.value=null;else if(void 0===O)I.value=null;else{var x=(0,t.FQ)(this.visualStyle,O);if(x)if(x.svgId){var j=x.description?.resourceKey;I.value={svgId:x.svgId},j&&(I.value.descriptionKey=j)}else x.url?I.value={url:x.url}:r.Y.assertFail("incorrect themeIcon");else I.value={url:O}}}return I}}evaluateThemeDataColor(N){return(0,t.v4)(this.visualStyle,N)}evaluateExprList(N){if(r.Y.assertAnyValue(N,"definition"),(0,u.df)(N))return{exprs:N.exprs,kind:d.P.ExprList}}evaluateArrayCopyOnChange(N,w,I){r.Y.assertValue(N,"evalContext"),r.Y.assertValue(w,"definitions"),r.Y.assertValue(I,"evaluator");for(var O,x=0,j=w.length;x<j;x++){var U=w[x],F=I(N,U);!O&&U!==F&&(O=_.take(w,x)),O&&O.push(F)}return O||w}evaluateErrorRange(N,w){if(r.Y.assertValue(N,"evalContext"),r.Y.assertValue(w,"definition"),(0,u.lF)(w)){if(w.explicit)return this.evaluateExplicitErrorRange(N,w.explicit);if(w.symmetricalExplicit)return this.evaluateSymmetricalErrorRange(N,w.symmetricalExplicit);if(w.standardDeviation)return this.evaluateStandardDeviationErrorRange(N,w.standardDeviation);if(w.percentage)return this.evaluatePercentageErrorRange(N,w.percentage);if(w.percentile)return this.evaluatePercentileErrorRange(N,w.percentile)}}evaluateExplicitErrorRange(N,w){var I={isRelative:!0===this.evaluateValue(N,w.isRelative,P.boolType)};return w.lowerBound&&(I.lowerBound=this.evaluateValue(N,w.lowerBound,P.numericType)),w.upperBound&&(I.upperBound=this.evaluateValue(N,w.upperBound,P.numericType)),{explicit:I}}evaluateSymmetricalErrorRange(N,w){return{symmetricalExplicit:{delta:this.evaluateValue(N,w.delta,P.numericType)}}}evaluateStandardDeviationErrorRange(N,w){return{standardDeviation:{value:this.evaluateValue(N,w.value,P.numericType),multiplier:this.evaluateValue(N,w.multiplier,P.numericType)}}}evaluatePercentageErrorRange(N,w){return{percentage:{lowerBoundDelta:this.evaluateValue(N,w.lowerBoundDelta,P.numericType),upperBoundDelta:this.evaluateValue(N,w.upperBoundDelta,P.numericType)}}}evaluatePercentileErrorRange(N,w){return{percentile:{lowerBound:this.evaluateValue(N,w.lowerBound,P.numericType),upperBound:this.evaluateValue(N,w.upperBound,P.numericType)}}}evaluateQnaVisualLink(N,w){if(r.Y.assertValue(N,"evalContext"),r.Y.assertValue(w,"definition"),(0,u.CY)(w))return{suggestedUtterances:_.map(w.suggestedUtterances,I=>({utterance:I.utterance}))}}evaluateItemLocation(N,w){if(r.Y.assertValue(N,"evalContext"),r.Y.assertValue(w,"definition"),(0,u.W8)(w)){var I;if(w.byReference&&(I={byReference:{itemId:this.evaluateValue(N,w.byReference.itemId,P.textType)}},w.byReference.workspaceId&&(I.byReference.workspaceId=this.evaluateValue(N,w.byReference.workspaceId,P.textType)),w.byReference.folderId&&(I.byReference.folderId=this.evaluateValue(N,w.byReference.folderId,P.textType))),I){var O=w.metadata;if(O){I.metadata={};var x=O.dataFunction;x&&(I.metadata.dataFunction={name:x.name,autoRefresh:x.autoRefresh,parameters:x.parameters.map(j=>{switch(j.type){case"SlicerParameter":return{...j};case"ValueParameter":return{...j,value:this.evaluateValue(N,j.value)}}})})}}return I}}evaluateAnnotationTemplate(N,w,I){if(r.Y.assertValue(N,"evalContext"),r.Y.assertValue(w,"definition"),(0,u.nc)(w)){if((0,S.lM)(I)){var O=w;if(!O.text)return;var x={annotationType:S.yT.Callout,text:this.evaluateValue(N,O.text,P.textType)};return null!=O.offsetX&&(x.offsetX=this.evaluateValue(N,O.offsetX,P.numericType)),null!=O.offsetY&&(x.offsetY=this.evaluateValue(N,O.offsetY,P.numericType)),null!=O.width&&(x.width=this.evaluateValue(N,O.width,P.numericType)),null!=O.height&&(x.height=this.evaluateValue(N,O.height,P.numericType)),null!=O.lastEditUTCTimestamp&&(x.lastEditUTCTimestamp=this.evaluateValue(N,O.lastEditUTCTimestamp,P.numericType)),x}var j=w;if(!j.color)return;var U={annotationType:S.yT.Highlight,color:this.evaluateValue(N,j.color,P.textType)};return null!=j.backgroundColor&&(U.backgroundColor=this.evaluateValue(N,j.backgroundColor,P.textType)),j.fontColor&&(U.fontColor=this.evaluateValue(N,j.fontColor,P.textType)),null!=j.emphasizeText&&(U.emphasizeText=this.evaluateValue(N,j.emphasizeText,P.boolType)),j.shouldOffsetVisibleOutlinesInbound&&(U.shouldOffsetVisibleOutlinesInbound=this.evaluateValue(N,j.shouldOffsetVisibleOutlinesInbound,P.boolType)),j.targets&&(U.targets=_.map(j.targets,F=>this.evaluateValue(N,F,P.textType))),j.strokeDasharray&&(U.strokeDasharray=this.evaluateValue(N,j.strokeDasharray,P.textType)),U}}evaluateValue(N,w,I){return w instanceof n.yj?this.expressionEvaluator.evaluate(w,N):w instanceof f.b?w.evaluate(N):void 0}}return P.boolType=m.eV.fromDescriptor({bool:!0}),P.colorValueType=m.eV.fromDescriptor({formatting:{color:!0}}),P.numericType=m.eV.fromDescriptor({numeric:!0}),P.integerType=m.eV.fromDescriptor({integer:!0}),P.textType=m.eV.fromDescriptor({text:!0}),P.nullStrategyType=m.eV.fromDescriptor({enumeration:s.NW}),P})();class M extends c.Li{constructor(T,N){super(),this.dataColorEvaluator=T,this.colorAllocatorGetter=N}evaluate(T,N){if(null!=T)return T.accept(this,N)}visitColumnRef(T,N){return N.getExprValue(T)}visitConstant(T,N){return T.value}visitMeasureRef(T,N){return N.getExprValue(T)}visitArithmetic(T,N){return N.getExprValue(T)}visitNativeMeasure(T,N){return N.getExprValue(T)}visitAggr(T,N){return N.getExprValue(T)}visitScopedEval(T,N){return N.getScopedEvalExprValue(T)}visitFillRule(T,N){var w=this.colorAllocatorGetter(T,N);if(w){var I=this.evaluate(T.input,N);if(void 0!==I)return w.color(I)}}visitPercentile(T,N){return N.getExprValue(T)}visitRangePercent(T,N){var w=this.evaluate(T.min,N);if(_.isFinite(w)){var I=this.evaluate(T.max,N);if(_.isFinite(I)){var O=T.percent;return 0===O?w:1===O?I:w+O*(I-w)}}}visitSelectRef(T,N){return N.getExprValue(T)}visitThemeDataColor(T,N){var w=this.dataColorEvaluator(T.colorId);if(w)return(0,i.xq)(w,T.percent)}visitNot(T,N){return!this.evaluate(T.arg,N)}visitAnd(T,N){return T.left.accept(this,N)&&T.right.accept(this,N)}visitContains(T,N){if(!T.isOrdinalEvaluation())return r.Y.assertFail("Contains expression should be evaluated as ordinal"),!1;var w=this.getExprString(T.left,N),I=this.getExprString(T.right,N);return _.isString(w)?(0,o.gR)(w,I):(r.Y.warn("Contains expression should only be applied to string types"),!1)}visitStartsWith(T,N){if(!T.isOrdinalEvaluation())return r.Y.assertFail("StartsWith expression should be evaluated as ordinal"),!1;var w=this.getExprString(T.left,N),I=this.getExprString(T.right,N);return _.isString(w)?(0,o.w1)(w,I):(r.Y.warn("StartsWith expression should only be applied to strings"),!1)}getExprString(T,N){if(null!==T)return(0,n.q7)(T)??this.evaluate(T,N)}visitCompare(T,N){var w=this.evaluate(T.left,N);if(_.isNaN(w))return!1;var I=this.evaluate(T.right,N);if(_.isNaN(I))return!1;var O=T.comparison;if(T.isOrdinalEvaluation())return O===a.mq.Equal?w===I:(r.Y.assertFail("An ordinal comparison with QueryExpressionKind other than 'Equal' is not supported"),!1);if(null===I||null===w)return I===w&&(O===a.mq.Equal||O===a.mq.GreaterThanOrEqual||O===a.mq.LessThanOrEqual);switch(O){case a.mq.Equal:return w===I;case a.mq.GreaterThan:return w>I;case a.mq.GreaterThanOrEqual:return w>=I;case a.mq.LessThan:return w<I;case a.mq.LessThanOrEqual:return w<=I}}visitConditional(T,N){var w=T.cases;if(r.Y.assertNonEmpty(w,"ExpressionEvaluator.visitConditional - Empty cases"),!_.isEmpty(w))for(var I of w){var x=I.value;if(!0===this.evaluate(I.condition,N))return this.evaluate(x,N)}return this.evaluate(T.defaultValue,N)}}},338300:function(ve,z,e){e.d(z,{GK:function(){return s},Jf:function(){return u}});var a=e(579260),i=e(18122),r=e(761297),t=e(693029),o=e(268989),d=e(111199),n=e(775157),c=e(283941);function s(D,h,C,y,f,S){!h||1!==h.length||!C.categorical||!C.categorical.dataReductionAlgorithm||D&&function(D){return!(!p(D.Primary)||!p(D.Secondary)||1!==D.Secondary.Groupings[0].Projections.length||D.DataReduction&&(D.DataReduction.Primary||D.DataReduction.Secondary||D.DataReduction.Intersection))}(D)&&(D.Primary.Groupings=[D.Secondary.Groupings[0],D.Primary.Groupings[0]],D.Secondary=void 0,D.DataReduction={Primary:(0,o.R)(C.categorical.dataReductionAlgorithm,y),DataVolume:S||C.categorical.dataVolume||f})}function p(D){return D&&D.Groupings&&1===D.Groupings.length&&!_.isEmpty(D.Groupings[0].Projections)&&!D.Groupings[0].Subtotal&&_.isEmpty(D.Groupings[0].SuppressedProjections)}function u(D,h,C,y,f){if(!function(D,h,C,y,f){if(_.isEmpty(h)||!D||_.isEmpty(f))return!1;var S=_.filter(f,I=>!(0,d.D9)(I));if(1!==S.length)return!1;var b=S[0].categorical;if(!b)return!1;var V=D.matrix;if(!V||!V.rows||!V.rows.levels||2!==V.rows.levels.length)return!1;var M=[],P=[],T=(I,O)=>{var x=y[I];if(x)for(var j of x.all())C[j.queryRef]===t.Ts.Grouping&&O.push(j.queryRef)};if((0,n.Ax)(b.categories,{visitRole:I=>{T(I,M)}}),(0,n.Cn)(b.values,{visitRole:I=>{T(I,P)}}),(0,n.AS)(b.values,{visitRole:I=>{T(I,P)}}),_.isEmpty(M)||_.isEmpty(P))return!1;for(var N of V.columns.levels)for(var w of N.sources)if(!w.isMeasure)return!1;return!0}(D,h,C,y,f))return D;var S={metadata:{columns:(0,a.C)(D.metadata.columns)}};if(D.single&&(S.single=D.single),D.table&&(S.table=D.table),D.matrix){var b=function(D){var te,ee,h=D.rows,C=h.root,y=C.children,f=[],S=h.levels[0],b=C.childIdentityFields,V={},M=[],P=h.levels[1],T=_.isEmpty(y)?void 0:y[0].childIdentityFields,N=D.valueSources.length,w=te=>{var ee=V[te.key];return i.Y.assert(()=>void 0!==ee,"findcat() !== undefined"),ee};if(y){for(var O of y)for(var x of(f.push(O),O.children))ee=void 0,void 0===V[ee=(te=x).identity.key]&&(V[ee]=M.length,M.push(te))}for(var j=new Array(M.length),U=0;U<f.length;++U){var F=y[U];for(var R of F.children){var B=w(R.identity);j[B]||(j[B]=new Array(f.length)),j[B][U]=R.values}}var A={root:{children:_.map(f,te=>{var ee=(0,r.Uz)(te);return ee.level=0,ee.children=void 0,ee.childIdentityFields=void 0,ee}),childIdentityFields:b},levels:[S]};if(N>0){var W=_.map(D.columns.root.children,te=>{var ee={level:1};return te.levelSourceIndex&&(ee.levelSourceIndex=te.levelSourceIndex),ee});for(var G of A.root.children)G.children=W;A.levels.push(D.columns.levels[0])}var K={root:{children:_.map(M,te=>{var ee=(0,r.Uz)(te);return ee.level=0,ee.children=void 0,ee.childIdentityFields=void 0,ee}),childIdentityFields:T},levels:[P]};if(N>0)for(var q=0;q<M.length;++q){for(var ne=K.root.children[q],k={},L=0;L<f.length;++L)for(var X=j[q]&&j[q][L],Y=0;Y<N;++Y)k[L*N+Y]=X?X[Y]:0===Y?{value:null}:{value:null,valueSourceIndex:Y};ne.values=k}return{rows:K,columns:A,valueSources:D.valueSources}}(D.matrix);_.isEmpty(b.valueSources)||(0,c.OD)(b.columns)||(S.categorical=function(D,h){for(var C=D.columns.root.children.length,y=D.valueSources,f=y.length,S=function(D){i.Y.assertValue(D,"unpivotedMatrix"),i.Y.assert(()=>D&&D.rows&&D.rows.levels&&1===D.rows.levels.length,"pre-condition: unpivotedMatrix should have exactly one level in row hierarchy");for(var h=_.map(D.rows.root.children,M=>M.identity),C=D.rows.root.childIdentityFields,y=D.rows.levels[0].sources,f=[],S=0,b=y.length;S<b;S++){var V=_.map(D.rows.root.children,M=>{var P=M.levelValues;if(void 0!==P)return i.Y.assert(()=>P[S]&&P[S].levelSourceIndex===S,"pre-condition: DataViewMatrixNode.levelValues is expected to have one DataViewMatrixGroupValue node per level source column, sorted by levelSourceIndex."),P[S].value});f.push({source:y[S],values:V,identity:h,identityFields:C})}return f}(D),b=[],V=0;V<C;++V){var M=D.columns.root.children[V],P={values:[],identity:M.identity,name:null!=M.value?M.value:null};b.push(P);for(var T=0;T<f;++T){var w={...y[T]};w.groupName=P.name,h.push(w);var I={source:w,values:[],identity:P.identity};P.values.push(I);var O=T+V*f;for(var x of D.rows.root.children)I.values.push(x.values[O].value)}}var U=[];for(var F of b)for(var R=0;R<f;++R)U.push(F.values[R]);return U.grouped=()=>b,U.identityFields=D.columns.root.childIdentityFields,U.source=D.columns.levels[0].sources[0],{categories:S,values:U}}(b,S.metadata.columns))}return S}},556836:function(ve,z,e){e.d(z,{Tv:function(){return b},eF:function(){return m}});var a=e(343872),i=e(18122),r=e(693029),t=e(757406),o=e(987526),d=e(111199),n=e(816030),c=e(476271),s=e(13561),p=e(985299),l="RegressionX",u="RegressionSeries",v="RegressionY";function m(M){i.Y.assertValue(M,"options");var P=M.visualDataViews,T=M.dataRoles,N=M.objectDescriptors,w=M.objectDefinitions,I=M.transformSelects,O=M.applicableDataViewMappings,x=M.roleKindByQueryRef,j=M.queryProjectionsByRole,U=M.visualStyle,F=M.featureSwitches;if(!_.isEmpty(P)&&I){if(!x||!j||_.isEmpty(O)||!N||!w)return P;var R=_.find(O,G=>!!(0,d.D9)(G));if(R){var B=[];for(var A of P){var W=g(A,O,T,R,N,w,U,F);W&&B.push(W)}_.isEmpty(B)||P.push(...B||[])}}return P}function g(M,P,T,N,w,I,O,x){return i.Y.assertValue(P,"applicableDataViewMappings"),(0,d.my)(P)===a.k.Matrix?function(){function M(x,j,U,F,R,B,A){i.Y.assertValue(x,"sourceDataView"),i.Y.assertValue(x.matrix,"sourceDataView.matrix"),i.Y.assertValue(j,"dataRoles"),i.Y.assertValue(F,"objectDescriptors"),i.Y.assertValue(R,"objectDefinitions");var W=x.matrix;if(W&&W.rows&&W.rows.root&&0!==_.size(W.rows.root.children)&&!(_.size(W.rows.levels)>2)){var G=P(r.Xk.X,W,j),K=P(r.Xk.Y,W,j);if(void 0!==G&&void 0!==K){var q=G.valuesCol,ne=K.valuesCol,k=function(x,j,U){var F=x.matrix;if(F){var R=(q,ne)=>{if(q.children)for(var k of q.children)k.isSubtotal||(ne.xValues.push(j(k)),ne.yValues.push(U(k)))},B=[],A=F.rows;if(2===A.levels.length){for(var W of F.rows.root.children)if(!W.isSubtotal){var G={xValues:[],yValues:[]};B.push(G),R(W,G)}}else if(1===A.levels.length){var K={xValues:[],yValues:[]};B.push(K),R(A.root,K)}return B}}(x,G.getValues,K.getValues),L=!0,X=(0,d.D9)(U);if(X&&x.metadata.objects){var Y=X.combineSeries;Y&&(L=(0,n._W)(x.metadata.objects,Y,!0))}var Q=k;L&&(Q=function(x){var j=[];for(var U of x)_.isEmpty(U.xValues)||_.isEmpty(U.yValues)||(j[0]||j.push({xValues:[],yValues:[]}),j[0].xValues.push(...U.xValues||[]),j[0].yValues.push(...U.yValues||[]));return j}(k));var H=C(Q);if(y(H)){var te=H.xMin,ee=H.xMax,ue=[];for(var Te of H.lineDefs)ue.push(V(Te,+te,+ee));return function(x,j,U,F,R,B,A,W,G,K){i.Y.assertValue(x,"xColumnSource"),i.Y.assertValue(j,"yColumnSource"),i.Y.assertValue(F,"categories"),i.Y.assertValue(R,"values"),i.Y.assertValue(A,"objectDescriptors"),i.Y.assertValue(W,"objectDefinitions");var H,q=B.matrix.rows.select[0].bind.to,ne=B.matrix.rows.select[1].bind.to,k=B.matrix.values.select[0].for.in,L={[q]:!0},X={[k]:!0},Y={[ne]:!0},Q={columns:[]},te={levels:[],root:{children:[]}},ee={metadata:Q,matrix:{rows:te,columns:H,valueSources:[]}},ue=h(x,l,!1,"",L),Te=h(j,u,j.isMeasure,"Regression",Y),He=h(j,v,j.isMeasure,"",X);Q.columns.push(Te),Q.columns.push(ue),Q.columns.push(He),te.levels.push({sources:[Te]}),te.levels.push({sources:[ue]}),ee.matrix.valueSources.push(He);for(var We=(0,t.sX)((0,t.EG)("s","RegressionEntity"),"RegressionSeries"),ft=(0,t.sX)((0,t.EG)("s","RegressionEntity"),"RegressionCategories"),mt=0;mt<U.length;mt++){var At=U[mt],Qe={level:0,value:At,levelValues:[{levelSourceIndex:0,value:At}],children:[],childIdentityFields:[ft],identity:(0,c.UQ)((0,t.Uo)(We,(0,t.FT)(At,Te.type)))};_.isEmpty(te.root.childIdentityFields)&&(te.root.childIdentityFields=[We]),te.root.children.push(Qe);for(var Fe=0;Fe<F.length;Fe++){var ye=F[Fe],we={level:1,value:ye,levelValues:[{levelSourceIndex:1,value:ye}],values:{},identity:(0,c.UQ)((0,t.Uo)(ft,(0,t.FT)(ye,ue.type)))};we.values[0]={value:R[mt][Fe]},Qe.children.push(we)}}return(0,s.hg)(ee,a.k.Categorical,A,W,[],G,K),ee}(q,ne,L?["combinedRegressionSeries"]:2===W.rows.levels.length?_.chain(W.rows.root.children).filter(ft=>!ft.isSubtotal).map(ft=>ft.value).value():["combinedRegressionSeries"],[te,ee],ue,U,F,R,B,A)}}}}function P(x,j,U){var R,B,F=j.valueSources,A=function(x,j,U){if(!_.isEmpty(j))return _.findIndex(j,F=>{var B,R=function(W){if(!F.roles[W])return 0;var G=_.find(U,K=>K.name===W);return G&&G.cartesianKind===x?{v:!0}:void 0};for(var A in F.roles)if(0!==(B=R(A))&&B)return B.v})}(x,j.valueSources,U);if(A>=0&&void 0!==A)R=F[A],B=G=>G.values[A].value;else{var W=function(x,j,U){if(!_.isEmpty(j.root.children)){for(var F=-1,R=0,B=j.levels.length;R<B&&-1===(F=_.findIndex(j.levels[R].sources,W=>{var K,G=function(ne){if(!W.roles[ne])return 0;var k=_.find(U,L=>L.name===ne);return k&&k.cartesianKind===x?{v:!0}:void 0};for(var q in W.roles)if(0!==(K=G(q))&&K)return K.v}));R++);return{level:R,index:F}}}(x,j.rows,U);if(-1===(A=W?W.index:-1))return;R=j.rows.levels[W.level].sources[A],B=G=>G.levelValues[A].value}return{valuesCol:R,getValues:B}}return{apply:(x,j,U,F,R,B,A)=>M(x,j,U,F,R,B,A)}}().apply(M,T,N,w,I,O,x):function(){function M(j,U,F,R,B,A,W){if(i.Y.assertValue(j,"sourceDataView"),i.Y.assertValue(j.categorical,"sourceDataView.categorical"),i.Y.assertValue(U,"dataRoles"),i.Y.assertValue(R,"objectDescriptors"),i.Y.assertValue(B,"objectDefinitions"),j.categorical){var G=P(r.Xk.X,j.categorical,U),K=P(r.Xk.Y,j.categorical,U);if(!_.isEmpty(G)&&!_.isEmpty(K)){var q=G[0].source,ne=K[0].source,k=!0,L=(0,d.D9)(F);if(L&&j.metadata.objects){var X=L.combineSeries;X&&(k=(0,n._W)(j.metadata.objects,X,!0))}var Q=C(I(G,K,k,!1));if(y(Q)){var ue,H=Q.xMin,te=Q.xMax,ee=x(K)||x(G);ee&&(y(ue=C(I(G,K,k,!0)))?(H=_.min([H,ue.xMin]),te=_.max([te,ue.xMax])):ee=!1);var ft,At,He=[];for(var We of Q.lineDefs)He.push(V(We,+H,+te));if(ee)for(var mt of(ft=[],ue.lineDefs))ft.push(V(mt,+H,+te));if(k)At=["combinedRegressionSeries"];else if(j.categorical.values.source){var Qe=j.categorical.values.grouped();At=_.map(Qe,ye=>ye.name)}else At=_.map(K,ye=>ye.source.queryName);return function(j,U,F,R,B,A,W,G,K,q,ne){i.Y.assertValue(j,"xColumnSource"),i.Y.assertValue(U,"yColumnSource"),i.Y.assertValue(R,"categories"),i.Y.assertValue(B,"values"),i.Y.assertValue(G,"objectDescriptors"),i.Y.assertValue(K,"objectDefinitions"),i.Y.assertAnyValue(A,"highlights"),i.Y.assert(()=>!A||A.length===B.length,"highlights should have the same length as values");var X,Y,k=W.categorical.categories.for.in,L=W.categorical.values.group;if(L&&!_.isEmpty(L.select)&&(X=L.select[0].for?L.select[0].for.in:L.select[0].bind.to,Y=L.by),X&&Y){var Q={[k]:!0},H={[X]:!0},te={[Y]:!0},ee=[];for(var ue in B){var Te={values:B[ue]};A&&(Te.highlights=A[ue]),ee.push([Te])}var He=(0,o.P)().withCategory({source:h(j,l,!1,"",Q),values:R,identityFrom:{fields:[(0,t.sX)((0,t.EG)("s","RegressionEntity"),"RegressionCategories")]}}).withGroupedValues({groupColumn:{source:h(U,u,U.isMeasure,"Regression",te),values:F,identityFrom:{fields:[(0,t.sX)((0,t.EG)("s","RegressionEntity"),"RegressionSeries")]}},valueColumns:[{source:h(U,v,U.isMeasure,"",H)}],data:ee}).build();return(0,s.hg)(He,a.k.Categorical,G,K,[],q,ne),He}}(q,ne,At,[H,te],He,ft,F,R,B,A,W)}}}}function P(j,U,F){i.Y.assertValue(j,"roleKind"),i.Y.assertValue(U,"categorical");var R=T(j,U.values,F);if(!_.isEmpty(R))return R;var B=U.categories;if(!_.isEmpty(B)){var A=B[0],W=T(j,[A],F);if(!_.isEmpty(W)&&(1===B.length||_.isEmpty(A.values)||!_.isEmpty(A.objects)&&void 0!==N(A.objects[0])))return W}}function T(j,U,F){if(!_.isEmpty(U))return _.filter(U,R=>{var A,B=function(G){if(!R.source.roles[G])return 0;var K=_.find(F,q=>q.name===G);return K&&K.cartesianKind===j?{v:!0}:void 0};for(var W in R.source.roles)if(0!==(A=B(W))&&A)return A.v;return!1})}function N(j){return(0,n._W)(j,p.Q)}function w(j,U){var F=_.head(j.objects);return F&&N(F)?_.map(j.objects,B=>N(B)):U&&j.highlights?j.highlights:j.values}function I(j,U,F,R){for(var B=[],A=_.map(j,k=>w(k,R)),W=_.map(U,k=>w(k,R)),G=j.length>1,K=0;K<W.length;K++){var q=G?A[K]:A[0],ne=W[K];F&&B.length>0?(B[0].xValues=B[0].xValues.concat(q),B[0].yValues=B[0].yValues.concat(ne)):B.push({xValues:q,yValues:ne})}return B}function x(j){return _.some(j,U=>null!=U.highlights)}return{apply:(j,U,F,R,B,A,W)=>M(j,U,F,R,B,A,W)}}().apply(M,T,N,w,I,O,x)}function h(M,P,T,N,w){return{displayName:M.displayName+N,queryName:P,type:M.type,isMeasure:T,roles:w}}function C(M){var P,T,N=[];for(var w of M){var I=w.xValues,O=w.yValues;if(_.isEmpty(I)||_.isEmpty(O))N.push(null);else{var x=f(I),j=f(O);if(x&&j){var U=S(I,O);if(!U||_.isEmpty(U.xValues)||_.isEmpty(U.yValues))N.push(null);else{var F=U.xValues[0],R=U.xValues[U.xValues.length-1],B=b(U.xValues,U.yValues);P=_.min([P,F]),T=_.max([T,R]),N.push(B)}}else N.push(null)}}return{lineDefs:N,xMin:P,xMax:T}}function y(M){return M&&!_.isEmpty(M.lineDefs)&&_.some(M.lineDefs,P=>P)}function f(M){var P=_.find(M,N=>null!=N);if(null!=P){var T=typeof P;if(!_.some(M,N=>null!=N&&typeof N!==T))return T}}function S(M,P){i.Y.assertValue(M,"unsortedXValues"),i.Y.assertValue(P,"unsortedYValues");var T=_.zip(M,P),[N,w]=_.chain(T).filter(I=>null!=I[0]&&null!=I[1]).sortBy(I=>I[0]).unzip().value();return{xValues:N=_.map(N,_.toNumber),yValues:w=_.map(w,_.toNumber)}}function b(M,P,T=!1){i.Y.assertValue(M,"xValues"),i.Y.assertValue(P,"yValues");var N=_.sum(M),w=_.sum(P),I=N/M.length,O=w/P.length,x=_.chain(M).map(q=>(q-I)**2).sum().value();if(0!==x){var R,U=_.chain(M).map((q,ne)=>(q-I)*(P[ne]-O)).sum().value()/x,F=O-I*U;if(T){var B=_.size(M),A=_.chain(M).map((q,ne)=>q*P[ne]).sum().value(),W=_.chain(M).map(q=>q*q).sum().value(),G=_.chain(P).map(q=>q*q).sum().value(),K=Math.sqrt((B*W-N**2)*(B*G-w**2));0!==K&&(R=((B*A-N*w)/K)**2)}return{incline:U,intercept:F,rSquared:R}}}function V(M,P,T){return M?[P*M.incline+M.intercept,T*M.incline+M.intercept]:[null,null]}},688555:function(ve,z,e){e.d(z,{WV:function(){return d},aI:function(){return n}});var a=e(579260),i=e(18122),r=e(798553),t=e(302887),o=e(482713);function d(s){return new c(s)}function n(s,p){return s.key&&p.key&&s.key===p.key&&(0,a.m2)(s.roles,p.roles,(l,u)=>l===u)}class c{constructor(p){this.kind=o.y.RoleWildcard,i.Y.assertNonEmpty(p,"roles"),this._roles=p,this._key=new r.d(()=>JSON.stringify(this.roles))}get roles(){return this._roles}get key(){return this._key.getValue()}}(0,t.d)(c.prototype)},476271:function(ve,z,e){e.d(z,{Qd:function(){return g},UQ:function(){return m},XV:function(){return l},aI:function(){return p},dA:function(){return u},vP:function(){return v}});var a=e(18122),i=e(798553),r=e(302887),t=e(482713),o=e(106302),d=e(258480),n=e(757406),c=e(369195),s=e(98138);function p(E,D,h){return(E=E||null)===(D=D||null)||!E==!D&&(a.Y.assertValue(E,"x"),a.Y.assertValue(D,"y"),(0,s.aI)(E.expr,D.expr,h))}function l(E,D,h){if(!(E=E||null)!=!(D=D||null))return!1;a.Y.assertValue(E,"thisComparisonExpr"),a.Y.assertValue(D,"otherComparisonIdentity");var y=E,f=(0,o.m4)(D.expr),S=(0,o.m4)(y);if(!f||!S)return p(m(y),D,h);var V,b=function(P){if(!_.some(f,T=>(0,s.aI)(P,T,h)))return{v:!1}};for(var M of S)if(V=b(M))return V.v;return!0}function u(E,D){if(!_.isEmpty(E)){var h=[];for(var C of E)h.push(C.expr);return v(h,D)}}function v(E,D){if(!_.isEmpty(E)){var h;for(var C of E){var y=(0,o.lj)(C);h=h?(0,n.or)(h,y):y||C}return h&&D&&(h=(0,n.AU)(h)),(0,o.Ve)(h)?void a.Y.assertFail("SelectRef based identities can not be translated into a filter without additional context."):d.b0.fromSQExpr(h)}}function m(E){return new g(E)}class g{constructor(D){this.kind=t.y.ScopeIdentity,a.Y.assertValue(D,"expr"),this._expr=D,this._key=new i.d(()=>(0,c.lK)(D))}get expr(){return this._expr}get key(){return this._key.getValue()}}(0,r.d)(g.prototype)},619895:function(ve,z,e){e.d(z,{Hg:function(){return s},aI:function(){return c},cK:function(){return n}});var a=e(18122),i=e(798553),r=e(302887),t=e(482713),o=e(858225),d=e(369195);function n(l,u){return!_.isEmpty(u)&&o.B.sequenceEqual(l.exprs,u)}function c(l,u){return l===u||o.B.sequenceEqual(l.exprs,u.exprs)}function s(l){return new p(l)}class p{constructor(u){this.kind=t.y.ScopeTotal,a.Y.assertValue(u,"scopeExprs"),this._exprs=u,this._key=new i.d(()=>(0,d.SZ)(u))}get exprs(){return this._exprs}get key(){return this._key.getValue()}}(0,r.d)(p.prototype)},735183:function(ve,z,e){e.d(z,{Hg:function(){return p},aI:function(){return s},cK:function(){return c}});var a=e(18122),i=e(798553),r=e(302887),t=e(482713),o=e(106302),d=e(858225),n=e(369195);function c(u,v){var m=(0,o.xD)(v.expr);return!!m&&d.B.sequenceEqual(u.exprs,m)}function s(u,v){return u===v||d.B.sequenceEqual(u.exprs,v.exprs)}function p(u){return new l(u)}class l{constructor(v){this.kind=t.y.ScopeWildcard,a.Y.assertValue(v,"exprs"),this._exprs=v,this._key=new i.d(()=>(0,n.SZ)(v))}get exprs(){return this._exprs}get key(){return this._key.getValue()}}(0,r.d)(l.prototype)},749837:function(ve,z,e){e.d(z,{W3:function(){return n},WN:function(){return d},dD:function(){return s},gZ:function(){return p}});var a=e(620825),i=e(98138),r=e(18122),t=e(693029),o=e(8343);function d(l,u){if(r.Y.assertAnyValue(l,"selects"),r.Y.assertAnyValue(u,"projectionActiveItems"),_.isEmpty(l))return{};var v={};for(var m of l)if(m){var g=m.roles;if(g)for(var E in g)if(g[E]){var D=v[E];D||(D=v[E]=new o.yl([])),D.addProjection({queryRef:m.queryName}),u&&u[E]&&(D.activeProjectionRefs=_.map(u[E],h=>h.queryRef))}}return v}function n(l,u){var v={};for(var m of u.columns)if(!(!m.index&&0!==m.index||m.index<0||m.index>=l.length)){var g=l[m.index];if(g){var E=g.queryName;E&&void 0===v[E]&&(v[E]=m.isMeasure?t.Ts.Measure:t.Ts.Grouping)}}return v}function s(l,u,v){if(r.Y.assertValue(l,"expr"),r.Y.assertAnyValue(u,"selectTransforms"),!u)return-1;var m;(0,a.Gv)(l)&&(m=l.expressionName);for(var g=v||0,E=u.length;g<E;g++){var D=u[g];if(D&&(!m||D.queryName))if(m){if(D.queryName===m)return g}else if((0,i.aI)(D.expr,l))return g}return-1}function p(l,u){if(!_.isEmpty(l)&&!_.isEmpty(u)){for(var v={},m=function(h){var C=l[h];if(!_.isEmpty(C.relatedSelects)){var y=function(){var S=f.queryName,b=_.findIndex(l,w=>w.queryName&&w.queryName===S),V=l[b];if(b>-1)for(var M of _.keys(V.roles)){var P=_.remove(u[M],w=>w===h);if(!_.isEmpty(P)){var T=v[b]=v[b]||{};(T[M]=T[M]||[]).push(h)}}};for(var f of C.relatedSelects)y()}},g=0;g<l.length;g++)m(g);if(!_.isEmpty(v)){var E=function(h){var C=v[h];for(var y in C){var f=u[y],S=_.findIndex(f,b=>b===parseInt(h,10));f.splice(S+1,0,...C[y])}};for(var D in v)E(D)}}}},95006:function(ve,z,e){e.d(z,{Bb:function(){return or},Mo:function(){return kr},mO:function(){return er}});var a=e(343872),i=e(579260),r=e(18122),t=e(761297),o=e(893420),d=e(586854),n=e(106302),c=e(858225),s=e(337965),p=e(13561);function l(Le){return void 0===Le.source.index}function u(Le){return _.some(Le,l)}var m=e(382534);function g(Le){r.Y.assertValue(Le,"categorical");var be=Le.values;if(be){var ie;if(be.source){ie=(0,t.Uz)(be.grouped());var Ue=0===(0,m.sN)(Le),st=be.length>=1&&(Ue||void 0!==_.head(be).identity);if(!_.isEmpty(be)&&st)for(var bt,ht=0,kt=function(){var Mt=be[Ft];if(l(Mt))return 1;if(!bt||Mt.identity!==bt.identity){var Dt=ie[ht];Dt?bt=(0,t.Uz)(Dt):(r.Y.assert(()=>!Mt.identity,"!currentValueColumn.identity -- Extra valueGroup items should be statics (no identity)."),bt=Dt=ie[ht]={values:null}),ie[ht]=bt,bt.values=[],ht++,r.Y.assert(()=>Mt.identity===bt.identity,"expecting the value columns are sequenced by series groups")}bt.values.push(Mt)},Ft=0,Jt=be.length;Ft<Jt;Ft++)kt();else for(var lr=0,Wt=ie.length;lr<Wt;lr++){var _t=ie[lr];_.isEmpty(_t.values)||(ie[lr]=_t=(0,t.Uz)(_t),_t.values=[])}}else ie=[{values:be}];be.grouped=()=>ie,Le.values=be}}var E=e(111199),D=e(404323);function I(Le,be){r.Y.assertValue(Le,"measureSources"),r.Y.assertValue(be,"projectionOrder");var Z=(0,D.qq)(Le,be);if(Z=_.chain(Z).filter(Ue=>void 0!==Ue.projectionOrderIndex).sortBy(Ue=>Ue.projectionOrderIndex).value(),!(0,i.m2)(Le,Z,(Ue,st)=>Ue.index===st.metadataColumn.index))return Z}function x(Le){if(r.Y.assertValue(Le,"groups"),!_.isEmpty(Le))return _.chain(Le[0].values).map(Z=>Z.source).filter(Z=>void 0!==Z.index).value()}var j=e(103203),U=e(989417),F=e(757406),R=e(759831),B=e(153484),A=e(476271),W=e(31802),G=e(985299);function q(Le,be,Z){if(r.Y.assertValue(be,"Category type is not specified"),!_.isDate(Le)||!be||!be.temporal)return null;var ie=Le;return be.temporal.year?function(Le){return r.Y.assertValue(Le,"date"),Le.getFullYear()}(ie):be.temporal.quarter?function(Le,be){r.Y.assertValue(Le,"date");var ie=Math.floor((Le.getMonth()+3)/3);return(0,U.G)(be,ie.toLocaleString())}(ie,Z):be.temporal.month?function(Le){return r.Y.assertValue(Le,"date"),B.r9.formatValue(Le,"MMMM")}(ie):be.temporal.day?function(Le){return r.Y.assertValue(Le,"date"),Le.getDate()}(ie):void 0}function Y(Le,be){r.Y.assertValue(Le,"dataViewMatrix"),be.columnHierarchyRewritten||(Le.columns=(0,t.IL)(Le.columns));var Z=Le.columns;be.rowHierarchyRewritten||(Le.rows=(0,t.IL)(Le.rows));var ie=Le.rows;if(!(Z.levels.length>1)){var Ue={level:0},st=Z.root.children,ht=_.size(st),bt=ie.levels.length;if(ht>0){var kt=0,Ft=function(Wt){if(Wt.values){Ue.values||(Ue.values={});for(var _t=0;_t<ht;_t++)Ue.values[kt++]=Wt.values[_t];Wt.values=void 0}if(ht>1){Wt.children||(Wt.children=[]);for(var Mt=0;Mt<ht;Mt++){var Dt={level:bt};Dt.levelSourceIndex=st[Mt].levelSourceIndex,Wt.isSubtotal&&(Dt.isSubtotal=!0),Wt.children.push(Dt)}}};be.hierarchyTreesRewritten?Q(ie.root,Ft):Le.columns.root=te(ie.root,Ft)}else be.hierarchyTreesRewritten||(Le.columns.root=function(Le){return te(Le)}(ie.root));if(ht>1&&(ie.levels.push({sources:Z.levels[0].sources}),Z.levels.length=0),be.hierarchyTreesRewritten)Le.columns.root=ie.root,Le.rows.root={children:[Ue]};else{var lr=(0,t.IL)(Le.rows.root);lr.children=[Ue],Le.rows.root=lr}Le.columns.levels=ie.levels,Le.rows.levels=[]}}function Q(Le,be){var Z=Le.children;if(Z&&Z.length>0)for(var ie=0,Ue=Z.length;ie<Ue;ie++)Q(Z[ie],be);else be(Le)}function te(Le,be){var Z={};return be&&(Z.nodeProcessor=ie=>{_.isEmpty(ie.children)&&be(ie)}),ee(Le,Z)}function ee(Le,be){var Z=(0,t.IL)(Le),ie=Le.children;if(!(be.nodeProcessor&&be.nodeProcessor(Z),_.isEmpty(ie)||be.skipChildren?.(Le)))for(var st=ie.length,ht=Z.children=new Array(st),bt=0;bt<st;bt++)ht[bt]=ee(ie[bt],be);return Z}var ue=e(283941);function He(Le,be,Z){if(_.isEmpty(Z))return[];var ie=E.e1.fromMatrixValues(be);if(_.isEmpty(ie))return[];var Ue=mt(Le,ie),st=(0,D.qq)(Z,Ue,ie);return _.chain(st).filter(ht=>void 0!==ht.projectionOrderIndex).sortBy(ht=>ht.projectionOrderIndex).value()}function mt(Le,be){r.Y.assertValue(Le,"projectionOrdering"),r.Y.assertValue(be,"roles");var Z=[];for(var ie of be){var Ue=Le[ie];_.isEmpty(Ue)||Z.push(...Ue||[])}return Z}function At(Le,be){return r.Y.assertValue(Le,"valueSources"),r.Y.assertValue(be,"valueProjectionOrdering"),(0,i.m2)(Le,be,(Z,ie)=>Z===ie.metadataColumn)}function Qe(Le,be,Z,ie,Ue){r.Y.assertValue(Le,"prototypeRowHierarchy"),r.Y.assertNonEmpty(be,"originalValueSources"),r.Y.assertValue(Z,"projectedValueSourceEntries"),r.Y.assert(()=>void 0===Ue||0===ie.length,"staticValueSources are not supported with Scoped Measures");var bt,Ft,st=be.length,ht=Z.length,kt=(0,t.Uz)(Le),Jt=(Wt,_t)=>{var Mt=_t?Wt.values:(0,ue.de)(Wt);if(Mt&&0!==st){if(!Ft){Ft=0;var Dt={};for(var wt in Mt)Ft++,Dt[Mt[wt].valueSourceIndex||0]=!0;st=Object.keys(Dt).length}if(void 0===bt){if(st>ht&&ie.length>0&&(st-=ie.length,0==(Ft-=ie.length)))return;r.Y.assert(()=>Ft%st==0,"expecting the intersection values to have one value per measure column per column group instance"),bt=Ft/st}else r.Y.assert(()=>bt===Ft/st,"expecting every interaction values collection to have the same length");var Et;if(ht>0){Et={};for(var Ne=0;Ne<bt;Ne++)for(var at=Ne*st,St=Ne*ht,Ct=0;Ct<ht;Ct++){var jt=Mt[at+Z[Ct].sourceIndex];Ct!==(jt.valueSourceIndex||0)&&((jt=(0,t.Uz)(jt)).valueSourceIndex=Ct||void 0),Et[St+Ct]=jt}for(var qt=ht,ir=Object.keys(Et).length,cr=Ft+ie.length,gr=Ft;gr<cr;gr++){var hr=Mt[gr];hr.valueSourceIndex=qt++||void 0,Et[ir++]=hr}}else Et=void 0;_t?Wt.values=Et:Wt.nodeValues=Et?{0:Et}:void 0}};return kt.root=void 0===Ue?te(kt.root,Wt=>Jt(Wt,!0)):ee(kt.root,{nodeProcessor:Wt=>{Wt.level===Ue&&Jt(Wt,!1)},skipChildren:Wt=>Wt.level>=Ue}),kt}function ye(Le,be){r.Y.assertValue(Le,"matrixHierarchy"),r.Y.assertValue(be,"projectionOrdering");var ie,Z=Le.levels,Ue=_.chain(Z).map((lr,Wt)=>Wt).filter(lr=>{var Wt=Z[lr];return _.size(Wt.sources)>=2&&!(0,ue.VT)(Wt)}).value();if(!_.isEmpty(Ue)){for(var st=_.uniq(be),ht=Ue.length-1;ht>=0;ht--){var bt=Ue[ht],kt=Le.levels[bt],Ft=we(kt,st);if(!_.isEmpty(Ft)){void 0===ie&&((ie=(0,t.Uz)(Le)).levels=(0,t.Uz)(Le.levels),ie.root=(0,ue.kR)(Le.root,bt,!0));var Jt=(0,t.Uz)(kt);ie.levels[bt]=Ee(Jt,Ft),Oe(ie.root,bt,Ft)}}return ie}}function we(Le,be){r.Y.assertValue(Le,"hierarchyLevel"),r.Y.assertValue(be,"hierarchyProjection");var Z,ie=Le.sources;if(ie&&ie.length>=2){var Ue=(0,D.qq)(ie,be);r.Y.assert(()=>_.every(Ue,ht=>ht.metadataColumn.isMeasure||void 0!==ht.projectionOrderIndex||null==be[ht.sourceIndex]),"Removed grouping during Matrix Projection ordering");var st=_.sortBy(Ue,ht=>ht.projectionOrderIndex);Z=_.map(st,(ht,bt)=>({originalSourceIndex:ht.sourceIndex,newSourceIndex:bt}))}return Z}function Ee(Le,be){r.Y.assertValue(Le,"transformingHierarchyLevel"),r.Y.assertNonEmpty(be,"levelSourceIndexMappings");var Z=Le.sources;Le.sources=Z.slice(0);var ie=function(st){r.Y.assert(()=>st.originalSourceIndex<Z.length,"pre-condition: The value in every mapping in the specified levelSourceIndicesReorderingMap must be a valid index to the specified hierarchyLevel.sources array property"),Le.sources[st.newSourceIndex]=Z[st.originalSourceIndex]};for(var Ue of be)ie(Ue);return Le}function Oe(Le,be,Z){r.Y.assertValue(Le,"transformingHierarchyRootNode"),r.Y.assertNonEmpty(Z,"levelSourceIndexMappings"),r.Y.assert(()=>Z.length===_.uniqBy(Z,Ue=>Ue.originalSourceIndex).length,"levelSourceIndexMappings must not contain duplicate originalSourceIndex");var ie=_.reduce(Z,(Ue,st)=>(Ue[st.originalSourceIndex]=st,Ue),{});return(0,ue.Of)(Le,be,Ue=>{var st=Ue.levelValues;if(!_.isEmpty(st)){r.Y.assert(()=>_.every(st,Wt=>!!ie[Wt.levelSourceIndex]),"Invalid levelSourceIndexMappings or transformingHierarchyRootNode: levelSourceIndexMappings should contain an entry for every levelSourceIndex in the matrix hierarchy.");for(var ht=_.sortBy(st,Wt=>{var _t=ie[Wt.levelSourceIndex];return _t&&_t.newSourceIndex}),bt=0,kt=ht.length;bt<kt;bt++){var Ft=(0,t.Uz)(ht[bt]),Jt=ie[Ft.levelSourceIndex];Ft.levelSourceIndex=Jt&&Jt.newSourceIndex,ht[bt]=Ft}Ue.levelValues=ht;var lr=_.last(ht);Ue.value!==lr.value&&(Ue.value=lr.value),(Ue.levelSourceIndex||0)!==lr.levelSourceIndex&&(Ue.levelSourceIndex=lr.levelSourceIndex)}}),Le}function Ie(Le,be){r.Y.assert(()=>Le&&_.every(Le.children,ie=>ie.level===Le.children[0].level),"node must be defined and all of its child nodes must have the same level value."),r.Y.assertValue(be,"measureHeadersLevelIndex");var Z=Le.children;return!_.isEmpty(Z)&&Z[0].level===be}function Je(Le,be,Z,ie){for(var Ue=new Array(be),st=0,ht=be;st<ht;st++){var bt=void 0,kt=ie&&ie[st].sourceIndex;null!=kt&&(bt=Z.children&&Z.children[kt]);var Ft=bt?(0,t.Uz)(bt):{};Ft.level=Le,Z.isSubtotal&&(Ft.isSubtotal=!0),Ft.levelSourceIndex=st>0?st:void 0,Ue[st]=Ft}return Ue}function pe(Le){r.Y.assertValue(Le,"options");var be=_.filter(Le.dataRoles,Z=>!_.isEmpty(Z.requiredTypes));!function(Le,be,Z){if(r.Y.assertValue(Le,"dataview"),!_.isEmpty(be)&&!_.isEmpty(Z)){var ie=function(Le,be){if(!Le||!be)return()=>!1;var Z={};for(var ie of Le){var Ue=ie.roles;if(Ue)for(var st of be)if(Ue[st.name]){Z[ie.index]=!0;break}}return ht=>!isNaN(ht)&&!!Z[ht]}(Le.metadata.columns,Z),Ue=function(Le,be){if(!Le||!be)return()=>!0;var Z=[];for(var ie of Le){var Ue=De(ie,be);Ue&&(Z[ie.index]=Ue)}return(st,ht)=>!Z[st]||Z[st](ht)}(Le.metadata.columns,Z),st={};for(var ht of be)ht.table&&Le.table&&(st.table=!0),ht.matrix&&Le.matrix&&(st.matrix=!0),ht.categorical&&Le.categorical&&(st.categorical=!0),ht.tree&&Le.tree&&(st.tree=!0),ht.single&&Le.single&&(st.single=!0);st.categorical&&function(Le,be,Z){var ie=Le&&Le.values;if(ie){var Ue=ie.grouped();if(Ue)for(var st of Ue){var ht=st.values;for(var bt of ht){var kt=bt.source.index;if(be(kt))for(var Ft=0,Jt=bt.values.length;Ft<Jt;Ft++)bt.values=Ze(bt.values,Ft,kt,Z)}}}}(Le.categorical,ie,Ue),st.table&&function(Le,be,Z){var ie=Le&&Le.columns;if(ie){var Ue=[];for(var st of ie)be(st.index)&&Ue.push(st.index);for(var ht=Le.rows,bt=0,kt=ht.length;bt<kt;bt++)for(var Ft of Ue)ht[bt]=Ze(ht[bt],Ft,Ft,Z)}}(Le.table,ie,Ue),st.tree&&Vt(Le.tree.root,ie,Ue),st.matrix&&function(Le,be,Z){var ie=Le&&Le.rows&&Le.rows.root;ie&&Ot(Le,ie,be,Z)}(Le.matrix,ie,Ue),st.single&&function(Le,be,Z,ie){if(Le.single){var Ue=[];for(var st of Z)st.name&&Ue.push(st.name);var ht=Le.metadata.columns;for(var bt of be){var kt=bt.single.role;if(-1!==Ue.indexOf(kt)){var Ft=qe(ht,kt);return void(Ft&&(Le.single=Ze(Le.single,"value",Ft.index,ie)))}}}}(Le,be,Z,Ue)}}(Le.dataview,Le.dataViewMappings,be)}function De(Le,be){var Z=function(Le,be){var Z=[],ie=Le&&Le.roles;if(!ie)return Z;for(var Ue of be)if(ie[Ue.name])for(var st of Ue.requiredTypes){var ht=s.eV.fromDescriptor(st);Z.push(ht)}return Z}(Le,be);if(!_.isEmpty(Z))return ie=>function(Le,be){for(var Z of be)if(Z.numeric||Z.integer)return"number"==typeof Le;return!1}(ie,Z)}function Vt(Le,be,Z){if(Le.values)for(var ie in Le.values)be(ie)&&("object"==typeof Le.values[ie]&&"value"in Le.values[ie]?Le.values[ie]=Ze(Le.values[ie],"value",ie,Z):Le.values=Ze(Le.values,+ie,+ie,Z));else if(Le.children)for(var Ue of Le.children)Vt(Ue,be,Z)}function Ot(Le,be,Z,ie){if(be.values)for(var Ue in be.values){var st=be.values[Ue],bt=Le.valueSources[st.valueSourceIndex||0].index;_.isNumber(bt)&&Z(bt)&&(be.values[Ue]=Ze(st,"value",bt,ie))}else if(be.children)for(var kt of be.children)Ot(Le,kt,Z,ie)}function Ze(Le,be,Z,ie){if(Le){var Ue=Le[be];return null!==Ue&&!ie(Z,Ue)&&((Le=(0,t.Uz)(Le))[be]=null),Le}}function qe(Le,be){for(var Z of Le){var ie=Z&&Z.roles;if(ie&&ie[be])return Z}}var ut=e(816030),et=e(443199),le=e(536022);class Be{constructor(){this.originalDynamicFormatColumns=[],this.categoryIndexToDynamicFormatColumn=[]}trackOriginalDynamicFormatColumn(be,Z){this.originalDynamicFormatColumns.push({valueColumnIndex:be,dynamicFormatStringColumn:Z})}addPivotedDynamicFormatColumn(be,Z,ie){void 0===this.categoryIndexToDynamicFormatColumn[be]&&(this.categoryIndexToDynamicFormatColumn[be]=[]),r.Y.assert(()=>void 0===this.categoryIndexToDynamicFormatColumn[be][Z],`categoryIndexToDynamicFormatColumn[${be}][${Z}] === undefined`),this.categoryIndexToDynamicFormatColumn[be][Z]=ie}getPivotedDynamicFormatColumn(be,Z){var ie=this.getValueColumnIndex(be);if(void 0!==ie)return r.Y.assertValue(this.categoryIndexToDynamicFormatColumn[ie][Z],`categoryIndexToDynamicFormatColumn[${ie}][${Z}]`),this.categoryIndexToDynamicFormatColumn[ie][Z]}getValueColumnIndex(be){var Z=_.find(this.originalDynamicFormatColumns,ie=>ie.dynamicFormatStringColumn===be);if(Z)return Z.valueColumnIndex}}var Ke=e(338300);var ae=e(556836),tt=e(987526);function ze(Le,be,Z){var ie=(0,t.IL)(Le);for(var Ue of Z)ie[Ue]=be[Ue];return ie}var it=e(814691),yt=e(749837),Lt=["Series","Category"],zt=["Series","X","Y"];function je(Le,be,Z,ie){r.Y.assertValue(Le,"groupingLevelSelectIndices"),r.Y.assertValue(be,"selectTransforms"),r.Y.assertAnyValue(Z,"drillableRoles"),r.Y.assertValue(ie,"rolesToMatch");var Ue=0,st=Le.length;for(var ht of ie){if(st<=Ue)return!1;var bt=Tt(Le,be,ht);if(0===bt)return!1;if(bt>=2&&!_.includes(Z,ht))return!1;Ue+=bt}return!(Ue<st)}function Tt(Le,be,Z){r.Y.assertValue(Le,"selectIndices"),r.Y.assertValue(be,"selectTransforms"),r.Y.assertValue(Z,"roleToMatch");var ie=0;for(var Ue of Le)if((0,D.fn)(be[Ue]&&be[Ue].roles,Z))ie++;else if(ie>0)break;return ie}var ar=e(346375),$e=e(63193),pt=e(98138),Ut=function(Le){return Le[Le.None=0]="None",Le[Le.Pivot=1]="Pivot",Le[Le.SelfCrossJoin=2]="SelfCrossJoin",Le}({}),$t={quarterPrefix:"Qtr {0}"};function er(Le){r.Y.assertValue(Le,"options"),$t=Le}function or(Le){r.Y.assertValue(Le,"options");var be=Le.prototype,Z=Le.objectDescriptors,ie=Le.transforms,Ue=Le.visualStyle,st=Le.withWarnings?[]:void 0;if(!be)return{dataViews:Mr(Z,ie,Ue,Le.featureSwitches)};if(!ie)return{dataViews:[be]};var ht=function(Le,be,Z,ie,Ue,st,ht,bt,kt,Ft){r.Y.assertValue(Le,"queryDataViewMetadata"),r.Y.assertAnyValue(be,"objectDescriptors"),r.Y.assertAnyValue(Z,"dataViewMappings"),r.Y.assertAnyValue(ie,"dataRoles"),r.Y.assertAnyValue(Ue,"drillCapabilities"),r.Y.assertValue(ht,"transforms"),r.Y.assertValue(bt,"DataViewTransformContext.create - visualStyle");var Jt=ht.selects,lr=ht.roles&&ht.roles.activeItems,Wt=_.isEmpty(Jt)?{}:(0,yt.W3)(Jt,Le),_t=(0,yt.WN)(Jt,lr),Dt=(0,it.i7)(_t,Z,Wt,Ft,be,ht.objects).supportedMappings;return{queryDataViewMetadata:Le,objectDescriptors:be,dataRoles:ie,drillCapabilities:Ue,expandCollapseCapabilities:st,transforms:ht,selectTransforms:Jt,projectionOrdering:ht.roles&&ht.roles.ordering,projectionActiveItems:lr,roleKindByQueryRef:Wt,queryProjectionsByRole:_t,visualCapabilitiesRoleMappings:Z,visualCapabilitiesDataViewKinds:(0,E.my)(Z),applicableRoleMappings:Dt,applicableDataViewKinds:(0,E.my)(Dt),visualStyle:bt,visualCapabilitiesKeepAllMetadataColumns:kt}}(be.metadata,Z,Le.dataViewMappings,Le.dataRoles,Le.drillCapabilities,Le.expandCollapseCapabilties,ie,Ue,Le.keepAllMetadataColumnsCapability,Le.featureSwitches),bt=function(Le,be){r.Y.assertValue(Le,"prototype"),r.Y.assertValue(be,"transformContext");var Z=be.transforms,ie=be.applicableRoleMappings,Ue=(0,Ke.Jf)(Le,be.selectTransforms,be.roleKindByQueryRef,be.queryProjectionsByRole,ie),st=be.transforms?.roles?.isDrillDisabled;return Ue=function(Le,be,Z,ie){if(r.Y.assertValue(Le,"prototype"),r.Y.assertValue(be,"transformActions"),r.Y.assertAnyValue(Z,"applicableRoleMappings"),r.Y.assertAnyValue(ie,"drillableRoles"),!_.isEmpty(be.splits))return Le;var Ue=Le.matrix;if(!Ue)return Le;var st=_.chain(Z).map(Ft=>function(Le){r.Y.assertValue(Le,"dataViewMapping");var be=Le.matrix;if(be&&be.rows&&!be.columns&&!be.values){var Z=E.e1.fromMatrixRows(be.rows);if((0,i.m2)(Z,Lt,(Ue,st)=>Ue===st)||(0,i.m2)(Z,zt,(Ue,st)=>Ue===st))return{primaryAxisRoles:Z.slice(1),secondaryAxisRole:Z[0]}}}(Ft)).filter(Ft=>!!Ft).value();if(1!==st.length)return Le;if(!function(Le,be,Z,ie){r.Y.assertValue(Le,"dataViewSelectIndices"),r.Y.assertValue(be,"transformActions"),r.Y.assertAnyValue(Z,"drillableRoles"),r.Y.assertValue(ie,"matchingUpgradeSourceRolesStructure");var Ue=Le.primaryAxis,st=Le.secondaryAxis;if(!_.isEmpty(Le.intersection)||1!==_.size(Ue)||1!==_.size(st))return!1;var ht=be.selects;return!(!je(Ue[0].selectIndices,ht,Z,ie.primaryAxisRoles)||!je(st[0].selectIndices,ht,Z,[ie.secondaryAxisRole]))}((0,ue.B5)(Ue),be,ie,st[0]))return Le;var bt=function(Le){r.Y.assertValue(Le,"dataViewMatrix"),r.Y.assert(()=>1===Le.columns.levels.length,"dataViewMatrix.columns.levels.length === 1"),r.Y.assert(()=>1===Le.rows.levels.length,"dataViewMatrix.rows.levels.length === 1"),r.Y.assert(()=>_.isEmpty(Le.valueSources),"_.isEmpty(dataViewMatrix.valueSources)");var be=(0,t.Uz)(Le),Z=be.rows=(0,t.Uz)(Le.rows),ie=be.columns=(0,t.Uz)(Le.columns),st=(ie.levels=(0,t.Uz)(ie.levels)).splice(0,1)[0];(Z.levels=(0,t.Uz)(Z.levels)).splice(0,0,st);var bt=Le.rows.root,kt=Z.root=(0,t.Uz)(ie.root);ie.root={children:[]};var Ft=(0,t.M2)(kt.children,Jt=>{var lr=(0,t.Uz)(Jt);return lr.childIdentityFields=bt.childIdentityFields,lr.children=function(Le){if(r.Y.assertAnyValue(Le,"nodes"),!Le)return Le;var be=(0,t.M2)(Le,Z=>{var ie=(0,t.IL)(Z);return ie.level+=1,ie});return be||(0,t.IL)(Le)}(bt.children),lr});return Ft&&(kt.children=Ft),be}(Ue),kt=(0,t.Uz)(Le);return kt.matrix=bt,kt}(Ue,Z,ie,Er(be.drillCapabilities,st)),Ue=function(Le,be,Z,ie){if(!function(Le,be,Z,ie){if(_.isEmpty(be)||!Le||_.isEmpty(Z))return!1;var Ue=Le.matrix;if(!Ue||!Ue.rows||_.isEmpty(Ue.rows.levels)||!Ue.columns||_.isEmpty(Ue.columns.levels))return!1;var st=[];for(var ht of Ue.columns.levels)for(var bt of ht.sources)bt.isMeasure||st.push(bt);var kt=[];for(var Ft of Ue.rows.levels)for(var Jt of Ft.sources)Jt.isMeasure||kt.push(Jt);var lr=[];for(var Wt of Ue.rows.levels)for(var _t of Wt.sources)_t.isMeasure&&lr.push(_t);if(!_.isEmpty(lr)||1!==st.length||kt.length<1)return!1;var Mt=_.filter(Z,Ct=>!(0,E.D9)(Ct));if(1!==Mt.length)return!1;if((0,E.my)(Mt)!==a.k.Matrix)return!1;var wt=Mt[0].matrix;if(!wt)return!1;var Et=E.e1.fromMatrixRows(wt.rows),Ne=E.e1.fromMatrixColumns(wt.columns);if(_.size(Et)<2||0!==_.size(Ne))return!1;var at=_.uniq([].concat(..._.map(kt,Ct=>Object.keys(be[Ct.index].roles)))),St=_.uniq([].concat(..._.map(st,Ct=>Object.keys(be[Ct.index].roles))));return _.isEqual(Et,[].concat(St,at))&&_.isEqual(ie,at)}(Le,be,ie,Z))return Le;var Ue={metadata:{columns:[...Le.metadata.columns||[]]}};if(Le.single&&(Ue.single=Le.single),Le.table&&(Ue.table=Le.table),Le.matrix){var st=function(Le){var be=Le.rows,Z=Le.columns,ie=be.root,Ue=ie.children;r.Y.assert(()=>1===be.levels.length,"oldRows.levels.length ===1"),r.Y.assert(()=>Z.levels.length>=1,"oldColumns.levels.length >=1"),r.Y.assert(()=>1===Z.levels[0].sources.length,"oldColumns.levels[0].sources.length === 1");var st={levels:[],root:{children:[]}},bt={rows:st,columns:{levels:[],root:{children:[]}},valueSources:Le.valueSources},kt=st.root.children;for(var Ft of(st.levels.push(Z.levels[0]),st.root.childIdentityFields=Z.root.childIdentityFields,Z.root.children))void 0!==Ft.levelValues&&void 0!==Ft.value&&kt.push({children:[],value:Ft.value,levelValues:Ft.levelValues,identity:Ft.identity,level:0});var Jt=_.size(Le.valueSources);if(st.levels.push(be.levels[0]),_.isEmpty(kt))return bt;for(var lr in Ue){var Wt=Ue[lr];for(var _t in Wt.values){var Dt=kt[Math.floor(_t/Jt)];Dt.childIdentityFields||(Dt.childIdentityFields=ie.childIdentityFields);var wt=Wt.values[_t];if(null!=wt){var Et=Dt.children[lr];Et||Dt.children.push(Et={level:Dt.level+1,value:Wt.value,levelValues:Wt.levelValues,values:{},identity:Wt.identity}),Et.values[_t%Jt]=wt}}}return bt}(Le.matrix);_.isEmpty(st.valueSources)||(0,ue.OD)(st.columns)||(Ue.matrix=st)}return Ue}(Ue,be.selectTransforms,Er(be.drillCapabilities,st),ie),Ue}(be,ht),kt=function(Le,be,Z,ie,Ue,st){r.Y.assertValue(be,"transformContext");var ht=[],bt=be.transforms.splits;if(_.isEmpty(bt))ht.push(Lr(Le,be,Z,ie,null,Ue,st));else for(var kt of bt){var Ft=Lr(Le,be,Z,ie,kt.selects,null,st);ht.push(Ft)}return ht}(bt,ht,Le.featureSwitches,st,Le.bypassConcatenation,Le.orderIndependentSelectorMatching);return{dataViews:kt=(0,ae.eF)({visualDataViews:kt,dataRoles:ht.dataRoles,objectDescriptors:Z,objectDefinitions:ie.objects,transformSelects:ie.selects,applicableDataViewMappings:ht.applicableRoleMappings,roleKindByQueryRef:ht.roleKindByQueryRef,queryProjectionsByRole:ht.queryProjectionsByRole,visualStyle:ht.visualStyle,featureSwitches:Le.featureSwitches}),warnings:st}}function Mr(Le,be,Z,ie){if(be&&be.objects){var Ue={metadata:{columns:[]}};return(0,p.hg)(Ue,a.k.None,Le,be.objects,be.selects,Z,ie),[Ue]}return[]}function Lr(Le,be,Z,ie,Ue,st,ht){r.Y.assertValue(Le,"prototype"),r.Y.assertValue(be,"transformContext"),r.Y.assert(()=>!Ue||_.every(Ue,(Ne,at)=>!Ne||be.selectTransforms?.[at]),"If selectsToInclude is specified, every included Select must have a corresponding Select Transform.");var bt=(0,t.IL)(Le);bt.metadata=(0,t.IL)(Le.metadata),bt=function(Le,be){if(r.Y.assertValue(Le,"prototype"),r.Y.assertValue(be,"transformContext"),(0,o.Z0)(be.visualCapabilitiesDataViewKinds)<=1)return Le;var ie=be.applicableDataViewKinds;if(0===(0,o.Z0)(ie))return Le;var st=(0,t.Uz)(Le);return st.categorical&&!(0,o.Lt)(ie,a.k.Categorical)&&(st.categorical=void 0),st.matrix&&!(0,o.Lt)(ie,a.k.Matrix)&&(st.matrix=void 0),st.table&&!(0,o.Lt)(ie,a.k.Table)&&(st.table=void 0),st.tree&&!(0,o.Lt)(ie,a.k.Tree)&&(st.tree=void 0),st.single&&!(0,o.Lt)(ie,a.k.Single)&&(st.single=void 0),st}(bt,be);var kt=be.visualCapabilitiesDataViewKinds,Ft=be.visualCapabilitiesRoleMappings,Jt=be.selectTransforms,lr=be.expandCollapseCapabilities,Wt=be.objectDescriptors,_t=be.visualStyle,Mt=be.transforms?.roles,Dt=Mt?.isDrillDisabled,wt={rowHierarchyRewritten:!1,columnHierarchyRewritten:!1,hierarchyTreesRewritten:!1},Et=[];return bt=function(Le,be,Z,ie,Ue,st,ht,bt,kt){r.Y.assertValue(Le,"prototype"),r.Y.assertValue(be,"targetDataViewKinds"),r.Y.assert(()=>be===a.k.None||!_.isEmpty(Z),"if targetDataViewKinds !== None, then roleMappings must be non-empty"),r.Y.assertAnyValue(ie,"selectTransforms"),r.Y.assertValue(Ue,"columnRewrites"),r.Y.assertValue(st,"matrixTransformationContext"),r.Y.assertValue(ht,"DataViewTransform.transformSelects - visualStyle");var Ft=new le.q(kt,ht);return Ue.length=0,ie&&(Le.metadata.columns=function(Le,be,Z,ie){if(r.Y.assertValue(Le,"columns"),!be)return Le;for(var Ue=(0,t.IL)(Le),st={},ht=function(){var Dt=Le[bt],wt=be[Dt.index];st[Dt.index]=!0;var Et=Dt;if(wt)Et=Ue[bt]=ra(Dt,wt);else if(!_.some(Le,Ne=>Ne.formatSource&&Ne.formatSource.formatString===Dt))return 1;Z.push({from:Dt,to:Et})},bt=0,kt=Le.length;bt<kt;bt++)ht();if(ie)for(var Ft=0;Ft<be.length;Ft++)if(!st[Ft]){var Jt=be[Ft],lr={displayName:Jt.displayName,index:Ft,identityExprs:Jt.identityExprs};lr=Xr(Jt,lr),Ue.push(lr)}var Wt={};for(var _t of Ue)if(_t.roles&&!_t.groupName&&_t.index)for(var Mt in _t.rolesIndex||(_t.rolesIndex={}),_t.roles)void 0===Wt[Mt]&&(Wt[Mt]=0),_t.roles[Mt]&&(_t.rolesIndex[Mt]=[Wt[Mt]++]);return r.Y.assert(()=>_.every(Z,Dt=>Dt.from.index===Dt.to.index),"post-condition: DataViewMetadataColumn.index is not expected to be rewritten by select transforms."),Ue}(Le.metadata.columns,ie,Ue,bt.visualCapabilitiesKeepAllMetadataColumns),function(Le,be,Z){if(r.Y.assertValue(Le,"dataView"),r.Y.assertAnyValue(Z,"selects"),Z)for(var Ue,ie=Le.metadata.columns,st=0,ht=Z.length;st<ht;st++){var bt=Z[st],kt=bt&&bt.aggregateSources;if(kt){Ue||(Ue=(0,$e.K2)(Le,Z));var Ft=jr(ie,st,bt),Jt=Ft.aggregates={},lr=s.eV.fromDescriptor(Ft.type),Wt=Cr(be,Ue,Z,lr,kt.min);void 0!==Wt&&(Jt.min=Wt),void 0!==(Wt=Cr(be,Ue,Z,lr,kt.max))&&(Jt.max=Wt)}}}(Le,Ft,ie)),Le.categorical&&(0,o.Lt)(be,a.k.Categorical)&&(Le.categorical=function(Le,be){r.Y.assertValue(Le,"prototype"),r.Y.assertValue(be,"columnRewrites");var Z=(0,t.IL)(Le);function ie(bt){var{source:kt,rootSource:Ft}=function(Le,be){var Z={},ie=Le.source,Ue=Le.source.rootSource;for(var st of be)st.from===ie&&(Z.source=st.to),st.from===Ue&&(Z.rootSource=st.to);return Z}(bt,be);if(kt){var Jt=(0,t.IL)(bt);return Jt.source=kt,Ft&&(Jt.source.rootSource=Ft),Jt}}var Ue=(0,t.M2)(Le.categories,ie);if(Ue&&(Z.categories=Ue),Le.values){var st=(0,t.M2)(Le.values,ie)||(0,t.Uz)(Le.values);if(Z.values=st,st.source){var ht=Nr(st.source,be);ht&&(st.source=ht)}}return g(Z),Z}(Le.categorical,Ue),Le=function(Le,be){r.Y.assertValue(Le,"dataView");var Z,ie=function(Le,be){if(Le&&!_.isEmpty(be)){var Z=Le.categories;if(!_.isEmpty(Z)){var ie=Le.values;if(!_.isEmpty(ie)&&!ie.grouped().some(kt=>!!kt.identity))for(var st,Ue=function(){var kt=be[ht].categorical;if(!kt)return 0;for(var Ft of(r.Y.assert(()=>_.filter(Z,_t=>Zt(_t.source.roles,kt.values)).length<=1,"There should never be more than one column with the secondary axis group role in a DataViewCategorical, let alone columns in DataViewCategorical.categories."),Z)){var Jt=Ft.source.roles;if(Zt(Jt,kt.values)){var lr=kt.categories;if(Sr(Jt,lr)||fr(Jt,lr))return{v:{type:Ut.SelfCrossJoin,selfCrossJoinCategory:Ft}};if(1===Z.length)return{v:{type:Ut.Pivot}}}}},ht=0,bt=be.length;ht<bt;ht++)if(0!==(st=Ue())&&st)return st.v}}}(Le.categorical,be);if(ie)switch(ie.type){case Ut.Pivot:Z=function(Le){r.Y.assertValue(Le,"dataView");var be=Le.categorical;if(!be)return null;var Z=be.categories;if(!Z||1!==Z.length)return null;var ie=be.values;if(_.isEmpty(ie)||ie.source)return null;for(var Ue=Z[0],st=Ue.identity,ht=Ue.values,bt=[],kt=[],Ft=new Be,Jt=0,lr=ht.length;Jt<lr;Jt++)for(var Wt=ht[Jt],_t=st[Jt],Mt=0,Dt=ie.length;Mt<Dt;Mt++){var wt=ie[Mt],Et=Ft.getPivotedDynamicFormatColumn(wt.source,Jt);if(void 0===Et&&(Et=(0,t.IL)(wt.source)),wt.identity)return null;if(Et.groupName=Wt,Et.rootSource=wt.source,Et.formatSource?.formatString){var Ne=Et.formatSource.formatString;Ft.trackOriginalDynamicFormatColumn(Mt,Ne);var at=(0,t.IL)(Ne);Et.formatSource={formatString:at},Ft.addPivotedDynamicFormatColumn(Mt,Jt,at)}var St={source:Et,values:[wt.values[Jt]],identity:_t,min:wt.min,max:wt.max,subtotal:wt.subtotal},Ct=wt.highlights;Ct&&(St.highlights=[Ct[Jt]]),bt.push(Et),kt.push(St)}var Rt=(0,t.IL)(Le.metadata);return Rt.columns=bt,{metadata:Rt,categorical:{values:ie=(0,p.zB)(kt,Ue.identityFields,Ue.source)},matrix:Le.matrix}}(Le);break;case Ut.SelfCrossJoin:r.Y.assertValue(ie.selfCrossJoinCategory,"selfCrossJoinCategory is expected to be defined when type is SelfCrossJoin"),Z=function(Le,be){if(r.Y.assertValue(Le,"dataView"),r.Y.assert(()=>!be||_.includes(Le.categorical.categories,be),"!selfCrossJoinCategory || _.includes(dataView.categorical.categories, selfCrossJoinCategory)"),Le.categorical&&be){var Z=Le.categorical;if(!(_.isEmpty(Z.categories)||Z.values&&Z.values.source)){var ie=function(Le,be){return r.Y.assertValue(Le,"dataViewCategorical"),r.Y.assertValue(be,"selfCrossJoinCategory"),r.Y.assert(()=>_.includes(Le.categories,be),"_.includes(dataViewCategorical.categories, selfCrossJoinCategory)"),be.source.identityExprs||(1===Le.categories.length?be.identityFields:void 0)}(Z,be);if(!_.isEmpty(ie))return function(Le,be,Z,ie){r.Y.assertValue(Le,"dataViewMetadata"),r.Y.assertValue(be,"dataViewCategorical"),r.Y.assertValue(be.categories,"dataViewCategorical.categories"),r.Y.assertValue(Z,"selfCrossJoinCategory"),r.Y.assert(()=>_.size(Z.values)===_.size(Z.identity),"_.size(selfCrossJoinCategory.values) === _.size(selfCrossJoinCategory.identity)"),r.Y.assertValue(ie,"seriesGroupIdentityFields");var st=Z.values.length;if(0!==st){var ht=be.values?be.values.grouped()[0].values:[],bt=function(Le,be,Z,ie){r.Y.assertValue(Le,"category"),r.Y.assertValue(be,"categoryLength"),r.Y.assertValue(Z,"measures"),r.Y.assertValue(ie,"seriesGroupIdentityFields");var Ue=function(Le){r.Y.assertValue(Le,"length");for(var be=new Array(Le),Z=0;Z<Le;Z++)be[Z]=null;return be}(be),st=function(Le,be){r.Y.assertValue(Le,"category"),r.Y.assert(()=>_.size(Le.values)===_.size(Le.identity),"_.size(category.values) === _.size(category.identity)"),r.Y.assertValue(!_.isEmpty(be),"!_.isEmpty(seriesGroupIdentityFields)");for(var Z=Le.identity,ie=Le.values,Ue=[],st={},ht=0,bt=_.size(Z);ht<bt;ht++){var Ft=(0,n.Tv)(Z[ht].expr,be),Jt=Ft&&(0,A.UQ)(Ft),lr=Jt&&Jt.key,Wt=st[lr],_t=void 0;void 0===Wt?(Ue.push(_t={identity:Jt,groupValue:ie[ht],groupIndex:Ue.length,valueRowIndices:[]}),st[lr]=_t.groupIndex):_t=Ue[Wt],_t.valueRowIndices.push(ht)}return r.Y.assert(()=>(0,i.WC)(Ue,(Mt,Dt)=>Mt.groupIndex-Dt.groupIndex),"post-condition: seriesGroups is sorted by group index"),Ue}(Le,ie);if(!_.isEmpty(st)){var ht=_.map(st,bt=>{var kt=bt.valueRowIndices;return _.map(Z,Jt=>{var lr={values:ze(Ue,Jt.values,kt)};return Jt.highlights&&(lr.highlights=ze(Ue,Jt.highlights,kt)),lr})});return{groupColumn:{source:Le.source,identityFrom:{fields:ie,identities:_.map(st,bt=>bt.identity)},values:_.map(st,bt=>bt.groupValue)},valueColumns:_.map(Z,bt=>({source:bt.source})),data:ht}}}(Z,st,ht,ie);if(bt){var kt=(0,tt.P)().withCategories(be.categories).withGroupedValues(bt).build();return(Le=(0,t.IL)(Le)).columns=kt.metadata.columns,{metadata:Le,categorical:kt.categorical}}}}(Le.metadata,Z,be,ie)}}}(Le,ie.selfCrossJoinCategory)}return Z||Le}(Le,Z)),Le.matrix&&(0,o.Lt)(be,a.k.Matrix)&&(Le.matrix=function(Le,be,Z){r.Y.assertValue(Le,"prototype"),r.Y.assertValue(be,"columnRewrites");var ie=(0,t.IL)(Le),Ue=Ft=>Nr(Ft,be);function st(Ft){var Jt=null,lr=(0,t.M2)(Ft.levels,Wt=>{var _t=null,Mt=(0,t.M2)(Wt.sources,Ue);if(Mt&&(_t=Qr(_t,Wt,wt=>wt.sources=Mt)),Wt.valueSources){r.Y.assert(()=>_.isEqual(_.keys(Wt.valueSources),["0"]),"Scoped Measures with column groupings are not supported"),r.Y.assertValue(Wt.valueSources[0],"Empty Scoped measures metadata");var Dt=(0,t.M2)(Wt.valueSources[0],Ue);Dt&&(_t=Qr(_t,Wt,wt=>wt.valueSources={0:Dt}))}return _t});return lr&&(Jt=Qr(Jt,Ft,Wt=>Wt.levels=lr)),Jt}var ht=st(ie.rows);ht&&(ie.rows=ht,Z.rowHierarchyRewritten=!0);var bt=st(ie.columns);bt&&(ie.columns=bt,Z.columnHierarchyRewritten=!0);var kt=(0,t.M2)(ie.valueSources,Ue);return kt&&(ie.valueSources=kt),ie}(Le.matrix,Ue,st),function(Le,be){if(Le&&!_.isEmpty(be)){var Z=Le.rows.levels;if(!(Z.length<1)){var ie=Le.rows.root.children;if(ie&&0!==ie.length)for(var Ue=Z[0].sources[0].roles,st=0,ht=be.length;st<ht;st++){var bt=be[st].matrix;if(bt&&!fr(Ue,bt.rows)&&fr(Ue,bt.columns))return!0}}}}(Le.matrix,bt.applicableRoleMappings)&&Y(Le.matrix,st)),Le.table&&(0,o.Lt)(be,a.k.Table)&&(Le.table=function(Le,be){r.Y.assertValue(Le,"prototype"),r.Y.assertValue(be,"columnRewrites");var Z=(0,t.IL)(Le),Ue=(0,t.M2)(Le.columns,st=>Nr(st,be));return Ue&&(Z.columns=Ue),Z}(Le.table,Ue)),Le.single&&(0,o.Lt)(be,a.k.Single)&&(Le.single=function(Le,be){var Z=Nr(Le.column,be);return Z&&((Le=(0,t.Uz)(Le)).column=Z),Le}(Le.single,Ue)),Le}(bt,kt,Ft,Jt,Et,wt,_t,be,Z),(0,p.hg)(bt,be.visualCapabilitiesDataViewKinds,Wt,be.transforms.objects,Jt,_t,Z,ie,ht),bt=function(Le,be,Z,ie,Ue){r.Y.assertValue(Le,"prototype"),r.Y.assertValue(be,"transformContext"),r.Y.assertValue(ie,"matrixTransformationContext"),r.Y.assertAnyValue(Ue,"selectsToInclude");var st=be.projectionOrdering,ht=be.applicableRoleMappings,bt=(0,t.Uz)(Le);if(function(Le,be,Z){if(be){var ie=new Array(Z.length);for(var Ue of Le)if(void 0!==Ue.index&&void 0!==Ue.roles&&null==Ue.groupName)for(var st in ie[Ue.index]=Ue,Ue.rolesIndex=Ue.rolesIndex||{},Ue.roles)Ue.roles[st]&&(Ue.rolesIndex[st]=[]);for(var ht in be)for(var bt=be[ht],kt=0;kt<bt.length;kt++){var Jt=ie[bt[kt]];Jt&&Jt.rolesIndex[ht].push(kt)}}}(bt.metadata.columns,st,Z),bt.table&&(0,o.Lt)(be.applicableDataViewKinds,a.k.Table)&&function(Le,be,Z){if(!be)return Le;var ie=function(Le,be){var Z=Object.keys(Le);if(1===Z.length){var ie=Z[0],Ue=_.map(be,ht=>ht.from.index);return function(Le,be){if(!(0,i.m2)(Le,be,(ht,bt)=>ht===bt)){for(var Z=[],ie=0,Ue=be.length;ie<Ue;++ie)Z[ie]=Le.indexOf(be[ie]);return Z}}(Ue,Le[ie])}}(be,Z);if(!ie)return Le;var Ue=ht=>{for(var bt=ie.length,kt=new Array(bt),Ft=0;Ft<bt;Ft++)kt[Ft]=ht[ie[Ft]];return kt};if((Le=(0,t.Uz)(Le)).columns=Ue(Le.columns),_.isEmpty(Le.rows)||(Le.rows=(0,t.M2)(Le.rows,ht=>{var bt=Ue(ht);return ht.objects&&(bt.objects=Ue(ht.objects)),bt})),Le.totals){var st=Ue(Le.totals);Le.totals.objects&&(st.objects=Ue(Le.totals.objects)),Le.totals=st}}(bt.table,st,Z),bt.matrix&&(0,o.Lt)(be.applicableDataViewKinds,a.k.Matrix)){var kt=_.filter(ht,Ft=>!!Ft.matrix);r.Y.assertValue(0!==kt.length,"transformContext.applicableDataViewKinds should not have included Matrix if none of the applicableRoleMappings targets matrix."),r.Y.assertValue(kt.length<2,"This logic needs to be enhanced if there is more than one applicable DataViewMapping that targets matrix."),bt.matrix=function(Le,be,Z,ie){r.Y.assertValue(Le,"prototype"),r.Y.assertValue(be,"matrixMapping"),r.Y.assertAnyValue(Z,"projectionOrdering"),r.Y.assertValue(ie,"context");var Ue=Le;if(Z){Ue=function(Le,be,Z,ie){r.Y.assertValue(Le,"prototype"),r.Y.assertValue(be,"matrixRoleMapping"),r.Y.assertValue(Z,"projectionOrdering"),r.Y.assertValue(ie,"context");var Ue=Le.valueSources,st=He(Z,be.values,Ue);if(At(Ue,st))return Le;r.Y.assert(()=>st.length>0||!_.isEmpty(Ue),"Nothing to re-order!");var ht=(0,t.Uz)(Le),bt=ht.columns.levels,kt=[];bt.length>0&&(kt=bt[0].sources.filter(Jt=>Jt.isMeasure&&null!=Jt.index&&!_.isEmpty(Jt.roles)&&!_.find(st,lr=>lr.metadataColumn===Jt))),ht.rows=Qe(ht.rows,ht.valueSources,st,kt);var Ft=_.map(st,Jt=>Jt.metadataColumn);return ht.valueSources=Ft,ht.valueSources=ht.valueSources.concat(kt),ht.columns=function(Le,be,Z,ie){r.Y.assertValue(Le,"prototypeColumnHierarchy"),r.Y.assertValue(be,"newValueSources");var kt,Ue=Le.levels,st=(0,ue.NK)(Ue),bt=(st?_.size(Ue)>=2:_.size(Ue)>=1)?be.length>=2:be.length>=1;return kt=st?bt?function(Le,be,Z,ie){r.Y.assert(()=>Le&&(0,ue.NK)(Le.levels),"prototypeColumnHierarchy && hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)"),r.Y.assertValue(be,"newValueSources");var Ue=(0,t.Uz)(Le),st=Ue.levels=(0,t.Uz)(Ue.levels),ht=st.length-1,bt=st[ht]=(0,t.Uz)(st[ht]);return bt.sources=be,Ue.root=(0,ue.kR)(Ue.root,ht,!0),(0,ue.of)(Ue.root,kt=>{if(Ie(kt,ht)){var Ft=Je(ht,be.length,kt,ie);if(0===ht&&Z.length>0){for(var Jt=bt.sources.length,lr=0;lr<Z.length;lr++)Ft.push({level:0,levelSourceIndex:Jt+lr});kt.children=Ft,bt.sources.push(...Z||[])}else kt.children=Ft;return ue.yg.skipDescendantNodes}return ue.yg.continueToChildNodes}),Ue}(Le,be,Z,ie):function(Le){r.Y.assert(()=>Le&&(0,ue.NK)(Le.levels),"prototypeColumnHierarchy && hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)");var be=(0,t.Uz)(Le),Z=be.levels=(0,t.Uz)(be.levels),ie=Z.length-1;return Z.splice(ie,1),be.root=(0,ue.kR)(be.root,ie,!0),(0,ue.of)(be.root,Ue=>Ie(Ue,ie)?(Ue.children=void 0,ue.yg.skipDescendantNodes):ue.yg.continueToChildNodes),be}(Le):bt?function(Le,be){r.Y.assert(()=>Le&&!(0,ue.NK)(Le.levels),"prototypeColumnHierarchy && !hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)"),r.Y.assertValue(be,"newValueSources");var Z=(0,t.Uz)(Le),ie=Z.levels=(0,t.Uz)(Z.levels);ie.push({sources:be});var st=ie.length-1;return Z.root=(0,ue.kR)(Z.root,st,!0),(0,ue.of)(Z.root,ht=>(0,ue.d2)(ht)?(ht.children=Je(st,be.length,ht),ue.yg.skipDescendantNodes):ue.yg.continueToChildNodes),Z}(Le,be):Le,kt}(ht.columns,[...Ft||[]],kt,st),ie.hierarchyTreesRewritten=!0,ht}(Ue,be,Z,ie),Ue=function(Le,be,Z){r.Y.assertValue(Le,"prototype"),r.Y.assertValue(be,"applicableDataViewMapping"),r.Y.assertValue(Z,"projectionOrdering");var Ft,Ue=mt(Z,E.e1.fromMatrixRows(be.rows)),st=ye(Le.rows,Ue),bt=mt(Z,E.e1.fromMatrixColumns(be.columns)),kt=ye(Le.columns,bt);return(st||kt)&&((Ft=(0,t.Uz)(Le)).rows=st||Ft.rows,Ft.columns=kt||Ft.columns),Ft||Le}(Ue,be,Z);var st=be.rows?.values;_.isEmpty(st)||(Ue=function(Le,be,Z,ie){r.Y.assertValue(Le,"prototype"),r.Y.assertValue(be,"scopedMeasuresRoleMapping"),r.Y.assertValue(Z,"projectionOrdering"),r.Y.assertValue(ie,"context");for(var Ue=Le,st=0;st<Le.rows.levels.length;st++){var bt=(0,ue.Io)(Le.rows.levels[st]);if(!_.isEmpty(bt)){var kt=[];st===Le.rows.levels.length-1&&(r.Y.assert(()=>(0,ue.qX)(Le.columns)>0,"Scoped measures at last row level aren't expected without Column grouping"),kt=He(Z,be,bt)),At(bt,kt)||((Ue=(0,t.Uz)(Ue)).rows=Qe(Ue.rows,bt,kt,[],st),Ue.rows.levels=(0,t.Uz)(Ue.rows.levels),(Ue.rows.levels[st]=(0,t.Uz)(Ue.rows.levels[st])).valueSources=kt.length>0?{0:_.map(kt,Jt=>Jt.metadataColumn)}:void 0,ie.hierarchyTreesRewritten=!0)}}return Ue}(Ue,st,Z,ie))}return Ue}(bt.matrix,kt[0].matrix,st,ie)}return bt=function(Le,be,Z,ie,Ue){r.Y.assertValue(Le,"prototype"),r.Y.assertAnyValue(be,"applicableRoleMappings"),r.Y.assertAnyValue(Z,"dataRoles"),r.Y.assertAnyValue(ie,"projectionOrdering"),r.Y.assertAnyValue(Ue,"splitSelects");var st,ht=_.chain(be).filter(Ft=>Ft.categorical&&!(0,E.D9)(Ft)).map(Ft=>Ft.categorical).value();if(Le.categorical&&ht.length>=1){var bt=Le.categorical,kt=function(Le,be,Z,ie){if(r.Y.assertValue(Le,"prototypeCategorical"),r.Y.assertValue(be,"categoricalRoleMappingsWithoutRegression"),r.Y.assert(()=>_.every(be,ht=>!!ht),"categoricalRoleMappingsWithoutRegression must not contain falsy elements"),r.Y.assertAnyValue(Z,"projectionOrdering"),r.Y.assertAnyValue(ie,"splitSelects"),!_.isEmpty(Le.categories)){var Ue=(0,E.So)(be,E.IB);if(Ue){var st=function(Le,be,Z){if(r.Y.assertValue(Le,"roles"),r.Y.assertAnyValue(be,"projectionOrdering"),r.Y.assertAnyValue(Z,"splitSelects"),be){var ie=_.reduce(Le,(Ue,st)=>{var ht=_.filter(be[st],bt=>!Z||Z[bt]);return Ue.push(...ht||[]),Ue},[]);return ie}}(Ue,Z,ie);if(st)return function(Le,be,Z){r.Y.assertValue(Le,"prototypeCategorical"),r.Y.assertValue(be,"projectionOrder"),r.Y.assertValue(Z,"categoryRoles");var ie=Le.categories;if(_.isEmpty(ie))r.Y.assert(()=>_.isEmpty(be),"If DataViewCategory.categories is empty but projectionOrder of primary axis is non-empty, then something went wrong when projectionOrder was getting deserialized or reconstructed.  If projectionOrder for primary axis is truly non-empty, then the DSR and DataView should have some data there.");else if(!function(Le,be){return r.Y.assertValue(Le,"categories"),r.Y.assertValue(be,"selectIndexOrder"),Le.length===be.length&&_.every(be,(Z,ie)=>Le[ie].source.index===Z)}(ie,be)){var Ue=_.map(ie,Jt=>Jt.source),st=(0,D.qq)(Ue,be,Z),ht=_.chain(st).filter(Jt=>void 0!==Jt.projectionOrderIndex).sortBy(Jt=>Jt.projectionOrderIndex).value(),bt=_.map(ht,Jt=>ie[Jt.sourceIndex]),kt=(0,t.Uz)(Le);if(_.isEmpty(bt))kt.categories=void 0;else{var Ft=(0,m.o0)(ie);Ft&&(bt=(0,m.QW)(bt,Ft)||bt),kt.categories=bt}return kt}}(Le,st,Ue)}}}(bt,ht,ie,Ue);kt=function(Le,be,Z,ie){r.Y.assertValue(Le,"prototypeCategorical"),r.Y.assertAnyValue(be,"dataRoles"),r.Y.assertAnyValue(Z,"projectionOrdering"),r.Y.assertAnyValue(ie,"splitSelects");var Ue=Le.values;if(Ue){var st=function(Le){if(u(Le)){var be=(0,p.zB)(Le.filter(Z=>!l(Z)),void 0,Le.source);return be.grouped=Le.grouped.bind(be),be}}(Ue),ht=function(Le){r.Y.assertValue(Le,"values"),r.Y.assert(()=>!u(Le),"Dynamic format values should have already been removed");var Z,ie,Ue,st,be=Le.source,ht=Le.grouped();if(be){ie=x(ht);var kt=(Z=ht.length)*_.size(ie),Ft=Le.length-kt;Ft>0&&(Ue=kt,st=_.chain(Le).takeRight(Ft).map(Jt=>Jt.source).value())}else Ue=0,st=x(ht);return{secondaryAxisSource:be,dynamicSeriesGroupCount:Z,dynamicSeriesMeasureSources:ie,staticSeriesMeasureStartingIndex:Ue,staticSeriesMeasureSources:st}}(st||Ue),bt=function(Le,be,Z,ie){if(r.Y.assertValue(Le,"valueColumnsInfo"),r.Y.assertAnyValue(be,"dataRoles"),r.Y.assertAnyValue(Z,"projectionOrdering"),r.Y.assertAnyValue(ie,"splitSelects"),!Z)return function(Le,be){r.Y.assertValue(Le,"valueColumnsInfo"),r.Y.assertAnyValue(be,"splitSelects");var Ue=(Le.dynamicSeriesMeasureSources||[]).concat(Le.staticSeriesMeasureSources||[]),st=_.chain(Ue).filter(ht=>!be||!!be[ht.index]).map(ht=>ht.index).uniq().value();return st}(Le,ie);var Ue=_.reduce(be,(Jt,lr,Wt)=>{var _t=lr.name;return void 0===Jt[_t]&&(Jt[_t]=Wt),Jt},{}),bt=(Le.dynamicSeriesMeasureSources||[]).concat(Le.staticSeriesMeasureSources||[]),kt=_.chain(bt).filter(Jt=>!ie||!!ie[Jt.index]).uniqBy(Jt=>Jt.index).map(Jt=>{var lr=Jt.roles;return lr?_.filter(Object.keys(lr),Wt=>lr[Wt]):[]}).flatten().uniq().sortBy(Jt=>Ue[Jt]).value(),Ft=_.chain(kt).map(Jt=>Z[Jt]||[]).flatten().filter(Jt=>!ie||!!ie[Jt]).uniq().value();return Ft}(ht,be,Z,ie);if(st=function(Le,be,Z){r.Y.assertValue(Le,"prototypeValues"),r.Y.assertValue(be,"prototypeValueColumnsInfo"),r.Y.assertValue(Z,"measureRolesProjectionOrder"),r.Y.assert(()=>!u(Le),"Dynamic format values should have already been removed");var ie=function(Le,be,Z){if(r.Y.assertValue(Le,"prototypeValues"),r.Y.assertValue(be,"prototypeValueColumnsInfo"),r.Y.assertValue(Z,"measureRolesProjectionOrder"),be.dynamicSeriesGroupCount&&!_.isEmpty(be.dynamicSeriesMeasureSources)){var ie=I(be.dynamicSeriesMeasureSources,Z);if(ie){var Ue=ie.length;if(0===Ue)return[];for(var st=be.dynamicSeriesMeasureSources.length,ht=be.dynamicSeriesGroupCount,bt=[],kt=0;kt<ht;kt++)for(var Ft=kt*st,Jt=0;Jt<Ue;Jt++)bt.push(Le[Ft+ie[Jt].sourceIndex]);return bt}}}(Le,be,Z),Ue=function(Le,be,Z){if(r.Y.assertValue(Le,"prototypeValues"),r.Y.assertValue(be,"prototypeValueColumnsInfo"),r.Y.assertValue(Z,"measureRolesProjectionOrder"),!_.isEmpty(be.staticSeriesMeasureSources)){var ie=I(be.staticSeriesMeasureSources,Z);if(ie){var Ue=ie.length;if(0===Ue)return[];for(var st=be.staticSeriesMeasureStartingIndex,ht=[],bt=0;bt<Ue;bt++)ht.push(Le[st+ie[bt].sourceIndex]);return ht}}}(Le,be,Z);if(ie||Ue){var st=(0,t.Uz)(Le);return ie?Ue?(r.Y.assert(()=>_.isEmpty(ie)||_.isEmpty(Ue),"At least one of the two arrays should be empty, because visual DataView should not have a mix of dynamic and static measures."),st.splice(0,st.length),st.push(...ie||[]),st.push(...Ue||[])):(r.Y.assertValue(be.dynamicSeriesGroupCount,"prototypeValueColumnsInfo.dynamicSeriesInstanceCount should have been populated if dynamic series measures got transformed"),r.Y.assertValue(be.dynamicSeriesMeasureSources,"prototypeValueColumnsInfo.dynamicSeriesMeasureSources should have been populated if dynamic series measures got transformed"),st.splice(0,be.dynamicSeriesMeasureSources.length*be.dynamicSeriesGroupCount,...ie||[])):Ue&&(r.Y.assertValue(be.staticSeriesMeasureSources,"prototypeValueColumnsInfo.staticSeriesMeasureSources should have been populated if static series measures got transformed"),r.Y.assertValue(be.staticSeriesMeasureStartingIndex,"prototypeValueColumnsInfo.staticSeriesMeasureStartingIndex should have been populated if static series measures got transformed"),st.splice(be.staticSeriesMeasureStartingIndex,be.staticSeriesMeasureSources.length,...Ue||[])),st}}(st||Ue,ht,bt)||st,st=function(Le,be){if(r.Y.assertValue(Le,"prototypeValues"),r.Y.assertAnyValue(be,"splitSelects"),be&&Le.source&&!be[Le.source.index]){var ie=(0,t.Uz)(Le);return ie.source=void 0,ie.identityFields=void 0,ie}}(st||Ue,ie)||st,st){var kt=!!st.source,Ft=st.length>0,Jt=(0,t.Uz)(Le);return kt||Ft?(Jt.values=st,g(Jt)):Jt.values=void 0,Jt}}}(kt||bt,Z,ie,Ue),kt&&((st=(0,t.Uz)(Le)).categorical=kt)}return st||Le}(bt,ht,be.dataRoles,st,Ue),bt}(bt,be,Et,wt,Ue),bt=function(Le,be,Z,ie,Ue,st,ht){if(_.isEmpty(Z)||!Ue)return Le;var bt=Ue&&Ue.roles;if(_.isEmpty(bt)||ht)return Le;r.Y.assertValue(Le,"dataView"),r.Y.assertValue(be,"targetDataViewKinds"),r.Y.assertNonEmpty(ie,"selectTransforms"),r.Y.assertAnyValue(st,"expansionStates");var kt=Ue.addDataViewFlags;if(r.Y.assertValue(kt,"addDataViewFlags"),!0!==(kt.propertyIdentifier?(0,ut._W)(Le.metadata.objects,kt.propertyIdentifier,kt.defaultValue):kt.defaultValue))return Le;var Jt=_.find(Z,_t=>_t.matrix),lr=Jt&&Jt.matrix;if(lr&&Le.matrix&&(0,o.Lt)(be,a.k.Matrix)){var Wt=function(Le,be,Z,ie,Ue,st,ht){r.Y.assertNonEmpty(ie,"Expand/Collapse is not supported");var bt=E.e1.fromMatrixRows(be.rows),kt=Ue&&(0,d.uS)(Ue,bt),Ft=function(Le,be,Z,ie,Ue,st,ht){if(r.Y.assertAnyValue(Ue,"dataViewTransform.applyExpansionStatesToHierarchy - expansionState may not exist"),!_.some(be,Wt=>!_.includes(ie,Wt))){var bt=0,kt=function(Wt){_.some(be,_t=>Wt.roles[_t])&&bt++};for(var Ft of Z)kt(Ft);if(bt>0){(Le=(0,t.Uz)(Le)).levels=(0,t.Uz)(Le.levels),r.Y.assertValue(Le.levels,"hierarchy.levels");for(var Jt=0;Jt<Le.levels.length;Jt++)Jt<bt-1&&(Le.levels[Jt]=(0,t.Uz)(Le.levels[Jt]),Le.levels[Jt].canBeExpanded=!0);var lr=_e(Le.root,Le.levels,Ue&&Ue.root,Ue&&Ue.levels,bt);return lr&&(Le.root=lr),ht&&Ue&&function(Le,be,Z){r.Y.assertValue(Le,"hierarchy"),r.Y.assertValue(be,"metadataColumns"),r.Y.assertValue(Z,"expansionState");var ie=Z.levels;if(!_.isEmpty(ie)){var Ue={};for(var st of be)Ue[st.queryName]=st;var ht=new Array(ie.length),bt=Le.levels,kt=0,Ft=function(){var Wt=Jt.queryRefs;if(!_.isEmpty(Wt)&&!_.isEmpty(bt)&&bt[kt]){var _t=bt[kt].sources,Mt=function(wt){r.Y.assert(()=>_.some(_t,Et=>Et.queryName===wt),"ExpansionState levels should match matrix levels.")};for(var Dt of Wt)Mt(Dt)}ht[kt++]={isCollapsed:Jt.isCollapsed,isPinned:Jt.isPinned,isLocked:Jt.isLocked,AIInformation:_.cloneDeep(Jt.AIInformation),sources:_.map(Wt,wt=>Ue[wt])}};for(var Jt of ie)Ft();var lr=dt(Z.root,ht,void 0,c.B.getPrimitiveValuesFromSQConstantExpr);Le.expansionStates=[{levels:ht,root:lr}]}}(Le,st,Ue),Le}}}(Le.rows,bt,Z,ie,kt,st,ht);if(Ft)return(Le=(0,t.Uz)(Le)).rows=Ft,Le}(Le.matrix,lr,ie,bt,st,Le.metadata.columns,Ue.addDataViewExpansionState);Wt&&((Le=(0,t.Uz)(Le)).matrix=Wt)}return Le}(bt,kt,Ft,Jt,lr,be.transforms.expansionStates,!!Dt),bt=function(Le,be){r.Y.assertValue(Le,"prototype"),r.Y.assertValue(be,"quarterPrefix");var Z=Le.categorical;if(!Z||_.isEmpty(Z.categories))return Le;var ie=Z.categories,Ue=(0,W.vE)(ie[0],G.Q);if(!Ue||_.isEmpty(Ue.values))return Le;for(var st,ht,bt,Ft,kt=[],Jt=0,lr=ie.length;Jt<lr;Jt++)for(var Wt=ie[Jt],_t=Wt.source.type,Mt=Wt.values,Dt=void 0,wt=void 0,Et=0,Ne=_.size(Mt);Et<Ne;Et++){var St=Ue.values[Et];if(null==Mt[Et]&&null!=St){st||(ht=(st=(0,t.Uz)(Le)).categorical=(0,t.Uz)(Z),bt=ht.categories=(0,t.Uz)(ie)),Dt||(wt=(Dt=bt[Jt]=(0,t.Uz)(Wt)).values=(0,t.Uz)(Mt));var Ct=q(St.min,_t,be);wt[Et]=Ct,kt[Et]||(Ft||(Ft=Et),kt[Et]=[]),kt[Et][Jt]=(0,F.FT)(Ct,_t)}}for(var Rt=function(){for(var ir=bt[jt],cr=function(){var yr=kt[gr];yr&&(r.Y.assert(()=>yr.length===ir.identityFields.length,"category values must match category identities"),ir.identity[gr]=(0,A.UQ)((0,R.o)(ir.identityFields,yr)))},gr=Ft,hr=_.size(ir.identity);gr<hr;gr++)cr()},jt=0,qt=_.size(bt);jt<qt;jt++)Rt();return st||Le}(bt,$t.quarterPrefix),bt=function(Le){var be=Le.table;if(be&&1===be.columns.length&&be.columns[0].isMeasure&&1===be.rows.length&&1===be.rows[0].length){var ie=be.rows[0];return Le.single={column:be.columns[0],value:ie[0]},ie.objects&&(Le.single.objects=ie.objects[0]),Le}return Le}(bt),st||(bt=(0,j.b1)(bt,Wt,be.applicableRoleMappings,be.projectionActiveItems,Er(be.drillCapabilities,Dt))),pe({dataview:bt,dataViewMappings:Ft,dataRoles:be.dataRoles}),bt.metadata&&be?.transforms?.isDataFilterApplied&&(bt.metadata.isDataFilterApplied=!0),Mt&&bt.metadata&&(Mt.drillableRoles&&(bt.metadata.dataRoles||(bt.metadata.dataRoles={}),bt.metadata.dataRoles.drillableRoles=Mt.drillableRoles),void 0!==Dt&&(bt.metadata.dataRoles||(bt.metadata.dataRoles={}),bt.metadata.dataRoles.isDrillDisabled=Dt)),bt}function ra(Le,be){return r.Y.assertValue(Le,"prototypeColumn"),r.Y.assertValue(be,"select"),Xr(be,(0,t.IL)(Le))}function Xr(Le,be){return Le.roles&&(be.roles=Le.roles),Le.type&&(be.type=Le.type),be.format=function(Le,be){return Le.format||be.format}(Le,be),Le.displayName&&(be.displayName=Le.displayName),Le.queryName&&(be.queryName=Le.queryName),Le.expr&&(be.expr=Le.expr),Le.sourceFieldParameters&&(be.sourceFieldParameters=Le.sourceFieldParameters),Le.kpi&&Le.kpi.graphic&&(be.kpi=Le.kpi),Le.sort&&(be.sort=Le.sort),null!=Le.sortOrder&&(be.sortOrder=Le.sortOrder),Le.discourageAggregationAcrossGroups&&(be.discourageAggregationAcrossGroups=Le.discourageAggregationAcrossGroups),Le.parameter&&(be.parameter=Le.parameter),Le.relatedObjects&&(be.relatedObjects=Le.relatedObjects),be}function jr(Le,be,Z){for(var ie of(r.Y.assertValue(Le,"columns"),r.Y.assertValue(be,"selectIdx"),r.Y.assertValue(Z,"select"),Le))if(ie.index===be&&void 0===ie.groupName)return ie;var Ue=ra({displayName:Z.displayName},Z);return Le.push(Ue),Ue}function Cr(Le,be,Z,ie,Ue){r.Y.assertValue(be,"evalContext"),r.Y.assertValue(Z,"selects"),r.Y.assertValue(ie,"type"),r.Y.assertValue(Ue,"source");var st=Z[Ue.index];if(st)return Le.evaluateValue(be,st.expr,ie)}function Nr(Le,be){var Z=_.find(be,ie=>ie.from===Le);if(Z)return Z.to}function Qr(Le,be,Z){return Le||(Le=(0,t.IL)(be)),Z&&Z(Le),Le}function kr(Le,be,Z,ie,Ue,st,ht){var bt=(0,et.qM)(Le);if(_.isEmpty(bt.metadataOnce))return{dataViewObjects:void 0};var kt,Ft,Jt=new le.q(ie,Z);Ft=st&&ht?(0,$e.K2)(st,ht):(0,ar.b)();var lr=Ue?{warnings:[]}:void 0;for(var Wt of bt.metadataOnce){var _t=Wt.selector&&Wt.selector.id,Mt=Wt.selector?.order;lr&&(lr.selector=Wt.selector);var Dt=(0,et.po)(Jt,Ft,be,Wt.objects,lr);Dt&&(kt||(kt={}),(0,ut.rL)(kt,Dt,_t,Mt))}return lr&&!_.isEmpty(lr.warnings)?{dataViewObjects:kt,warnings:lr.warnings}:{dataViewObjects:kt}}function _e(Le,be,Z,ie,Ue){if(!Le.isSubtotal&&Le.level!==Ue-1){var st=!1;if(void 0!==Le.level){if(Le=(0,t.Uz)(Le),ie){var bt=ie[Le.level];Le.isCollapsed=!!(+!(!bt||!bt.isCollapsed)^+!(!Z||!Z.isToggled))}else Le.isCollapsed=_.isEmpty(Le.children)||1===Le.children.length&&!!Le.children[0].isSubtotal;st=!0}if(!_.isEmpty(Le.children))for(var Ft=function(){var lr=Le.children[Jt],Wt=lr.identity,_t=Wt&&(0,n.BI)(Wt.expr),Mt=_t&&_.find(Z&&Z.children,wt=>(0,i.m2)(wt.identityValues,_t,pt.aI)),Dt=_e(lr,be,Mt,ie,Ue);Dt&&((Le=(0,t.Uz)(Le)).children=(0,t.Uz)(Le.children),Le.children[Jt]=Dt,st=!0)},Jt=0;Jt<Le.children.length;Jt++)Ft();return st?Le:void 0}r.Y.assert(()=>_.isEmpty(Le.children),"Leaf node with children")}function dt(Le,be,Z,ie){if(Le){var st,ht,Ue=Le.identityValues;if(_.isEmpty(Ue)||(st=_.map(Ue,ie)),!_.isEmpty(Le.children)){var bt=Le.children;ht=new Array(bt.length);var kt=0;for(var Ft of bt){var Jt=dt(Ft,be,void 0===Z?0:Z+1,ie);ht[kt++]=Jt}}return{isExpanded:void 0===Z?void 0:!!be[Z].isCollapsed==!!Le.isToggled,values:st,children:ht}}}function Sr(Le,be){if(Le&&be&&be.bind)return Le[be.bind.to]}function fr(Le,be){if(Le&&be&&be.for)return Le[be.for.in]}function Zt(Le,be){if(Le&&be&&be.group)return Le[be.group.by]}function Er(Le,be){return be?[]:Le?.roles??[]}},13561:function(ve,z,e){e.d(z,{zB:function(){return ue},hg:function(){return Te}});var a=e(343872),i=e(18122),r=e(761297),t=e(893420),o=e(993337),d=e(890741),n=e(757406),c=e(21756),s=e(72267),p=e(165248),l=e(217981),u=e(816030),v=e(443199),m=e(283104),g=e(283941),E=e(404323);class h{constructor(Ee,Oe){if(this.dataView=Ee,this.featureSwitches=Oe,i.Y.assertValue(Ee,"dataView"),Ee){this.columnLeavesPath=(0,g.HU)(Ee.columns.root),this.hasColumnGrouping=(0,g.qX)(this.dataView.columns)>0,this.valueSourcesQueryNames=_.map(Ee.valueSources,Ae=>Ae.queryName),this.scopedValueSourcesByLevel={},this.scopedValuesQueryNamesByLevel={};var he=Ee.rows.levels;if(i.Y.assertAnyValue(he,"A Matrix without Row groupings will not have a Row level"),!_.isEmpty(he))for(var xe=0;xe<he.length;xe++){var Se=(0,g.Io)(he[xe]);this.scopedValueSourcesByLevel[xe]=Se,Se&&(this.scopedValuesQueryNamesByLevel[xe]=_.map(Se,Ae=>Ae.queryName))}}}setAsRowNode(Ee,Oe=o.v.Full,he=!1){i.Y.assertNonEmpty(Ee,"Invalid context: Empty rowPath"),this.rowPath=Ee,this.nodeValue=void 0,this.columnPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1,this.hierarchyMatching=Oe,this.isWildcard=he}setAsColumnNode(Ee){i.Y.assertNonEmpty(Ee,"Invalid context: Empty columnPath"),this.columnPath=Ee,this.nodeValue=void 0,this.rowPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1,this.hierarchyMatching=void 0,this.isWildcard=!1}setAsIntersection(Ee,Oe,he,xe,Se=!1){i.Y.assertValue(Ee,"Invalid context: Undefined intersection"),i.Y.assertNonEmpty(Oe,"Intersection context must have a rowPath"),i.Y.assertNonEmpty(he,"Intersection context must have a columnPath"),i.Y.assert(()=>null!=xe&&xe>=0,"Intersection context must have a valid nodeValueIndex"),i.Y.assertAnyValue(Se,"By default, FALSE"),this.nodeValue=Ee,this.rowPath=Oe,this.columnPath=he,this.nodeValueIndex=xe,this.forHighlight=!!Se,this.isScopedValue=!1,this.hierarchyMatching=void 0,this.isWildcard=!1}setAsScopedValue(Ee,Oe,he,xe=!1){i.Y.assertValue(Ee,"Invalid context: Undefined intersection"),i.Y.assertNonEmpty(Oe,"Intersection context must have a rowPath"),i.Y.assertAnyValue(xe,"By default, FALSE"),this.nodeValue=Ee,this.rowPath=Oe,this.columnPath=void 0,this.nodeValueIndex=he,this.forHighlight=!!xe,this.isScopedValue=!0,this.hierarchyMatching=void 0,this.isWildcard=!1,i.Y.assert(()=>_.isEqual(_.keys(_.last(Oe).nodeValues),["0"]),"Scoped Values are expected to be grouped by Rows only")}getScopedEvalExprValue(Ee){var Oe=Ee.decomposeGlobalAggregateOfScopedExpr();if(Oe){var he=(0,E.BB)(Oe.source,this.getContextValueSources());return he?(0,E.CX)(he,Oe.func):void 0}if(Ee.hasInnerMostScope())return this.getExprValue(Ee.expression);Ee.hasGlobalScope()?i.Y.assertFail("Attempt to evaluate a scoped expression within the Global scope"):i.Y.assertFail("Evaluation of Partial-Scope expressions is not supported")}getExprValue(Ee){return i.Y.assertValue(Ee,"matrixEvalContext - Undefined expr"),this.nodeValue?this.evaluateMatrixMeasure(Ee):this.rowPath?this.evaluateRowHeader(Ee):this.columnPath?this.evaluateColumnHeader(Ee):void i.Y.assertFail("getExprValue - context is empty")}getExprColumn(Ee){return(0,E.BB)(Ee,this.getContextValueSources())}findExprValueSourceIndex(Ee){var Oe=this.getContextValueSources();if(i.Y.assertAnyValue(Oe,"For ScopedValues, DataView may contain cached Data without Value Sources"),!Oe)return-1;var he=(0,E.BB)(Ee,Oe);return he?Oe.indexOf(he):-1}evaluateMatrixMeasure(Ee){i.Y.assertValue(this.rowPath,"matrixEvalContext.evaluateIntersection - Undefined this.rowNode"),i.Y.assertValue(this.isScopedValue||this.columnPath,"matrixEvalContext.evaluateIntersection - Undefined this.columnNode");var Oe=this.nodeValue.valueSourceIndex||0,he=this.findExprValueSourceIndex(Ee);if(!(he<0)){var xe;if(he===Oe)xe=this.nodeValue;else{var Se=he-Oe+this.nodeValueIndex,Ae=_.last(this.rowPath),Ie=this.isScopedValue?(0,g.de)(Ae):Ae.values;if(xe=Ie?.[Se],!xe)return}return this.forHighlight?xe.highlight:xe.value}}evaluateRowHeader(Ee){i.Y.assert(()=>!this.columnPath,"matrixEvalContext.evaluateRowHeader - context has columnNode"),i.Y.assert(()=>!this.nodeValue,"matrixEvalContext.evaluateRowHeader - context has value");var Oe=this.findExprValueSourceIndex(Ee);if(!(Oe<0)){var he=_.last(this.rowPath);if(he){var Se,xe=this.isLastLevel(he.level);if(this.shouldConsiderScopedValues(he.level))Se=(0,g.de)(he);else if(Se=he.values,this.featureSwitches.rowHierarchySelector&&this.isWildcard&&!xe&&this.hierarchyMatching===o.v.Partial&&(Se=void 0,!_.isEmpty(he.children))){var Ae=he.children[0],Ie=he.children[he.children.length-1];Se=Ae.isSubtotal&&Ae.values||Ie.isSubtotal&&Ie.values}if(i.Y.assertAnyValue(Se,"node.values or node.nodeValues may be undefined (e.g. for Synchronized Nodes) even if ValueSources exist"),Se)return Se[Oe].value}}}evaluateColumnHeader(Ee){i.Y.assert(()=>!this.rowPath,"matrixEvalContext.evaluateColumnHeader - context has rowNode"),i.Y.assert(()=>!this.nodeValue,"matrixEvalContext.evaluateColumnHeader - context has value"),i.Y.assertFail("matrixEvalContext.evaluateColumnHeader - only constant exprs are supported")}getRoleValues(Ee){i.Y.assert(()=>!this.columnPath||!this.nodeValue,"getRoleValues returns values for row groupings only"),i.Y.assert(()=>!this.isScopedValue,"getRoleValues is unimplemented for ScopedMeasures");var Oe=_.last(this.rowPath);if(Oe&&!Oe.isSubtotal){for(var he=this.dataView.valueSources,xe=[],Se=0,Ae=he.length;Se<Ae;Se++)(0,m.hf)(he[Se],Ee)&&xe.push(Oe.values[Se].value);if(xe.length>0)return xe}}getDataView(){return this.dataView}getValueSourcesQueryNames(){return this.valueSourcesQueryNames}getScopedValueSourcesQueryNames(Ee){return this.scopedValuesQueryNamesByLevel[Ee]}getContextValueSourcesQueryNames(){return this.isScopedValue?(i.Y.assertValue(this.nodeValue,"Checking for a Scoped Measure is only supported within a ScopedMeasure value"),this.scopedValuesQueryNamesByLevel[_.last(this.rowPath).level]):this.valueSourcesQueryNames}getContextValueSources(){if(this.nodeValue)return i.Y.assertNonEmpty(this.rowPath,"Hierarchy Root doesn't have a scope"),this.isScopedValue?this.scopedValueSourcesByLevel[this.getRowLevelIndex()]:this.dataView.valueSources;if(this.rowPath){var Ee=this.getRowLevelIndex();return this.shouldConsiderScopedValues(Ee)?this.scopedValueSourcesByLevel[Ee]:this.dataView.valueSources}i.Y.assertFail(this.columnPath?"Only constant exprs are supported":"Context is empty")}shouldConsiderScopedValues(Ee){return(!this.isWildcard||!this.featureSwitches.rowHierarchySelector)&&(this.hasColumnGrouping||!this.isLastLevel(Ee))}getRowLevelIndex(){return i.Y.assertValue(this.rowPath,"this.rowPath"),_.last(this.rowPath).level}isLastLevel(Ee){return Ee===this.dataView.rows.levels.length-1}}var C=e(653872);function f(we){if(_.isEmpty(we))return[];var Ee=[];for(var Oe of we){var he=[];for(var xe of Oe.sources)xe.identityExprs&&he.push(...xe.identityExprs||[]);_.isEmpty(he)||Ee.push(he)}return Ee}function S(we,Ee){for(var Oe=[],he=we.length,xe=0;xe<he;xe++)if(Oe.push(we[xe]),Ee.matchesKeys(Oe,he))return!0;return!1}function V(we,Ee,Oe,he,xe,Se,Ae,Ie,Je){if(i.Y.assertAnyValue(he,"dataViewMatrixHierarchy"),i.Y.assertValue(xe,"objectDescriptors"),i.Y.assertValue(Ae,"selector"),i.Y.assertValue(Se,"objectDefns"),he){var pe=he.root;if(pe){var Pe=M(we,Ee,Oe,[pe],xe,Se,Ae,Ie,Je);if(Pe){var Me=(0,r.Uz)(he);return Me.root=Pe,Me}}}}function M(we,Ee,Oe,he,xe,Se,Ae,Ie,Je){i.Y.assertValue(Ee,"evalContext"),i.Y.assertValue(he,"nodePath"),i.Y.assertValue(xe,"objectDescriptors"),i.Y.assertValue(Ae,"selectorInfo"),i.Y.assertValue(Se,"objectDefns");var pe=_.last(he);return(0,g.d2)(pe)?we===p.lM.Row&&(Ae.canMatchScopedValue||Ae.canMatchIntersection)?function(we,Ee,Oe,he,xe,Se,Ae,Ie){i.Y.assertNonEmpty(Oe,"evaluateDataRepetitionMatrixNodeValues - no row leaves"),i.Y.assert(()=>Se.canMatchIntersection||Se.canMatchScopedValue,"Unexpected Selector");var Je=_.last(Oe),pe=(0,r.Uz)(Je),Pe=Se.canMatchScopedValue,Me=Se.selector,Ge=Pe?(0,g.de)(Je):Je.values,De=Pe?we.getScopedValueSourcesQueryNames(Je.level)||[]:we.getValueSourcesQueryNames(),lt=Pe?De.length:we.columnLeavesPath.length;if(!_.isEmpty(Ge)){Ge=(0,r.Uz)(Ge);for(var ct=!1,vt=function(Ot){var de=Ge[Ot];if(i.Y.assertAnyValue(de,"By-Design, ValueCollection can be sparse"),!de)return 0;var qe,Ze=Pe?void 0:we.columnLeavesPath[Ot];if(!function(we,Ee,Oe,he,xe,Se){if(Ee!==we.metadata)return!1;var Ae=[],Ie=[];for(var Je of Oe)Je.identity&&Ae.push(Je.identity);if(!xe){for(var pe of he)pe.identity&&Ae.push(pe.identity);_.last(he).isSubtotal&&Ie.push(...w(he)||[])}return _.last(Oe).isSubtotal&&Ie.push(...w(Oe)||[]),_.isEmpty(Ie)&&(Ie=void 0),Se.matches(Ae,Ie)}(Se.selector,De[de.valueSourceIndex||0],Oe,Ze,Pe,Se.selectorComparer))return 0;Ie&&(qe={warnings:Ie,selector:Me,targetExpr:(0,d.is)(Me,Ee)});var ut=le=>{Pe?we.setAsScopedValue(de,Oe,Ot,le):we.setAsIntersection(de,Oe,Ze,Ot,le);var me=(0,v.po)(Ae,we,he,xe,qe);if(me){var Be=(0,r.Uz)(de);le&&!Be.highlightObjects?Be.highlightObjects={}:!le&&!Be.objects&&(Be.objects={}),(0,u.rL)(le?Be.highlightObjects:Be.objects,me,Me.id,Me.order),ct=!0,de=Ge[Ot]=Be}},et=void 0!==de.highlight;switch(Me.highlightMatching){case void 0:case o.Y.ValuesOnly:ut(!1);break;case o.Y.ValuesAndHighlight:ut(!1),et&&ut(!0);break;case o.Y.HighlightsOrValues:ut(!!et);break;default:i.Y.assertNever(Me.highlightMatching)}},It=0;It<lt;It++)vt(It);if(ct)return Pe?pe.nodeValues={0:Ge}:pe.values=Ge,pe}}(Ee,Oe,he,xe,Se,Ae,Ie,Je):void 0:function(we,Ee,Oe,he,xe,Se,Ae,Ie,Je){var Ge,pe=Ae.selector,Pe=Ae.selectorComparer,Me=Ee.getDataView();he[0]===Me.rows.root?Ge=Me.rows:he[0]===Me.columns.root?Ge=Me.columns:i.Y.assertFail("dataViewTransform.evaluateDataRepetitionMatrixNodeChildren: incorrect nodePath");var De=_.last(he),lt=De.children;i.Y.assertNonEmpty(lt,"evaluateDataRepetitionMatrixNodeChildren - empty children list");var ct=!1,vt=!1,Vt=De.childIdentityFields,It=[],Ot=lt[0].level;i.Y.assert(()=>0===Ot||Ot<Ge.levels.length,"evaluateDataRepetitionMatrixNodeChildren: childLevel exceeding hierarchy levels");var de=Me.valueSources.length>1&&Ge===Me.columns,Ze=de&&Ot===Ge.levels.length-1;if(!_.isEmpty(Ge.levels)){var Ye=Ge.levels[Ot],qe=Ye.sources;if(Ze){It=Ee.getValueSourcesQueryNames();var et,ut=_.compact(_.map(he,zt=>zt.identity));De.isSubtotal&&he.length>1&&(et=he[he.length-2].childIdentityFields),ct=null!=Ae.selector.metadata&&_.some(It,zt=>zt===pe.metadata)&&Pe.matches(ut,et),vt=!1}else if(!_.isEmpty(Vt)){It=_.map(qe,zt=>zt.queryName);var le=_.map(he,zt=>zt.childIdentityFields);ct=null==pe.metadata&&Pe.matchesKeys(le,Ge.levels.length-(de?1:0));var Be=(0,g.Io)(Ye);i.Y.assert(()=>!Be||Ge===Me.rows,"Scoped measures on Column nodes are not supported"),vt=Be&&null!=pe.metadata&&null!=_.find(Be,zt=>zt.queryName===pe.metadata),i.Y.assert(()=>!ct||!vt,"A Selector can't match nodes and Scoped measures")}}for(var Ke=!1,Xe=I(De),re=0,fe=lt.length;re<fe;re++){var ae=!1,tt=lt[re],ot=I(tt),rt=he.concat(ot),Re=!1;if(ct||vt){Ge===Me.rows?ct&&Ee.setAsRowNode(rt,Ae.selector.hierarchyMatching,Ae.isWildcard):Ge===Me.columns?Ee.setAsColumnNode(rt):i.Y.assertFail("dataViewTransform.evaluateDataRepetitionMatrixNodeChildren: incorrect nodePath");var J=[];for(var ce of rt)ce.identity&&J.push(ce.identity);var Ce=void 0;_.isEmpty(It)||(Ce=It[tt.levelSourceIndex||0]);var ze=void 0;if(tt.isSubtotal&&(Ze?he.length>1&&(ze=he[he.length-2].childIdentityFields):ze=Vt),(null==pe.metadata||pe.metadata===Ce&&!Ae.isWildcard)&&Pe.matches(J,ze)){Re=!0;var yt=void 0;Je&&(yt={warnings:Je,selector:pe,targetExpr:(0,d.is)(pe,Oe)});var Nt=(0,v.po)(Ie,Ee,xe,Se,yt);Nt&&(ae=!0,ot.objects||(ot.objects={}),(0,u.rL)(ot.objects,Nt,pe.id,pe.order))}}if(Re&&!Ae.isWildcard||M(we,Ee,Oe,rt,xe,Se,Ae,Ie,Je)&&(ae=!0),ae&&(Ke=!0,Xe.children[re]=ot,!Ae.containsWildcard))break}if(Ke)return Xe}(we,Ee,Oe,he,xe,Se,Ae,Ie,Je)}function w(we){var Ee=_.findLast(we,Oe=>null!=Oe.childIdentityFields);return Ee?Ee.childIdentityFields:[]}function I(we){if(Object.getPrototypeOf(we)!==Object.prototype)return we;var Ee=(0,r.Uz)(we);return we.children&&(Ee.children=(0,r.Uz)(we.children)),Ee}function j(we,Ee){if(!we||!Ee)return[];var Oe=[];for(var he of Ee.levels){var xe=[];for(var Se of he.sources)Se.identityExprs&&(0,l.Q)([Se],we)&&xe.push(...Se.identityExprs||[]);_.isEmpty(xe)||Oe.push(xe)}return Oe}var U=e(999904),F=e(827431),R=e(536022),B=e(688555),A=e(63193),G=e(747767);function K(we,Ee){return new q(we,Ee)}class q{constructor(Ee,Oe){this.dataView=Ee,this.selectTransforms=Oe,i.Y.assertValue(Ee,"dataView"),i.Y.assertValue(Oe,"selectTransforms")}getExprColumn(Ee){return(0,E.BB)(Ee,this.dataView.columns)}getScopedEvalExprValue(Ee){var Oe=Ee.decomposeGlobalAggregateOfScopedExpr();if(Oe){var he=(0,E.BB)(Oe.source,this.dataView.columns);return he?(0,E.CX)(he,Oe.func):void 0}if(Ee.hasInnerMostScope())return this.getExprValue(Ee.expression);Ee.hasGlobalScope()?i.Y.assertFail("Attempt to evaluate a scoped expression within the Global scope"):i.Y.assertFail("Evaluation of Partial-Scope expressions is not supported")}getExprValue(Ee){i.Y.assertValue(Ee,"expr");var Oe=this.row;if(null!=Oe)return(0,A.hn)(Ee,this.selectTransforms,this.dataView.columns,Oe)}getRoleValues(Ee){}setCurrentRow(Ee){i.Y.assertValue(Ee,"row"),this.row=Ee}}function k(we,Ee,Oe,he,xe,Se,Ae,Ie,Je,pe,Pe,Me,Ge){if(i.Y.assertValue(we,"evalContext"),i.Y.assertValue(Oe,"columns"),i.Y.assertValue(he,"rows"),i.Y.assertAnyValue(xe,"identities"),i.Y.assertAnyValue(Se,"identityFields"),i.Y.assertValue(Ae,"objectDescriptors"),i.Y.assertValue(Ie,"selector"),i.Y.assertValue(pe,"objectDefns"),Ie.metadata&&!_.isEmpty(Ie.data)){var De=_.findIndex(Oe,ut=>ut.queryName===Ie.metadata);if(!(De<0)&&Pe.matchesKeys([Se],1)){var lt;if(_.every(Oe,ut=>ut.isMeasure)){i.Y.assert(()=>_.isEmpty(xe),"table identity mismatch with identityFields"),i.Y.assert(()=>_.isEmpty(Se),"table identity mismatch with identityFields"),i.Y.assert(()=>1===he.length,"table without identity has incorrect row count");var ct=Y(we,Ee,Oe,he[0],Se,Ae,Ie,pe,Pe,Me,Ge);ct&&((lt=(0,r.Uz)(he))[0]=ct)}else{if(_.some(Ie.data,ut=>(0,d.z2)(ut)&&ut.matchingOption===G._.TotalsOnly))return;i.Y.assert(()=>he.length===xe.length,"row length mismatch");for(var vt=Oe.length,Vt=0,It=xe.length;Vt<It;Vt++)if(Je||Pe.matches([xe[Vt]])){we.setCurrentRow(he[Vt]);var de=void 0;Ge&&(de={warnings:Ge,selector:Ie,targetExpr:(0,d.is)(Ie,Ee)});var Ze=(0,v.po)(Me,we,Ae,pe,de);if(Ze){lt||(lt=(0,r.Uz)(he));var Ye=lt[Vt]=(0,r.Uz)(lt[Vt]),qe=Ye.objects;qe||(Ye.objects=qe=new Array(vt)),qe[De]||(qe[De]={}),(0,u.rL)(qe[De],Ze,Ie.id,Ie.order)}if(!Je)break}}return lt}}}function L(we,Ee){return(0,d.zP)(Ee)&&(Ee=(0,l.G)(Ee,Oe=>function(we,Ee){if(!we)return[];var Oe=[];for(var he of Ee.columns)he.identityExprs&&(0,l.Q)([he],we)&&Oe.push([...he.identityExprs||[]]);return Oe}(Oe,we))),Ee}function Y(we,Ee,Oe,he,xe,Se,Ae,Ie,Je,pe,Pe){i.Y.assertValue(we,"evalContext"),i.Y.assertValue(Oe,"columns"),i.Y.assertValue(he,"row"),i.Y.assertValue(Se,"objectDescriptors"),i.Y.assertValue(Ae,"selector"),i.Y.assertValue(Ie,"objectDefns");var Me=_.isEmpty(xe)?void 0:xe;if(Ae.metadata&&Je.matches([],Me)){var Ge=_.findIndex(Oe,It=>It.queryName===Ae.metadata);if(!(Ge<0)){var lt,ct,De=Oe.length;we.setCurrentRow(he),Pe&&(ct={warnings:Pe,selector:Ae,targetExpr:(0,d.is)(Ae,Ee)});var vt=(0,v.po)(pe,we,Se,Ie,ct);if(vt){var Vt=(lt=(0,r.Uz)(he)).objects;Vt||(lt.objects=Vt=new Array(De)),Vt[Ge]||(Vt[Ge]={}),(0,u.rL)(Vt[Ge],vt)}return lt}}}var Q=e(5371),H=e(877723),te=e(538696);class ee extends te.b{constructor(Ee,Oe){i.Y.assertValue(Ee,"inputRole"),i.Y.assertValue(Oe,"allocator"),super(),this.inputRole=Ee,this.allocator=Oe}evaluate(Ee){i.Y.assertValue(Ee,"evalContext");var Oe=Ee.getRoleValues(this.inputRole);i.Y.assert(()=>_.size(Oe)<=1,"Color Rule Evaluation can run with only one value");var he=_.head(Oe);if(void 0!==he)return this.allocator.color(he)}}function ue(we=[],Ee,Oe){var he=we;return(0,s.lr)(he),Ee&&(he.identityFields=Ee),Oe&&(he.source=Oe),he}function Te(we,Ee,Oe,he,xe,Se,Ae,Ie,Je){if(i.Y.assertValue(we,"dataView"),i.Y.assertValue(Ee,"targetDataViewKinds"),i.Y.assertAnyValue(Oe,"objectDescriptors"),i.Y.assertAnyValue(he,"objectDefinitions"),i.Y.assertAnyValue(xe,"selectTransforms"),Oe){var pe=function(we,Ee,Oe,he){i.Y.assertValue(we,"dataView"),i.Y.assertValue(Oe,"objectDescriptors"),i.Y.assertAnyValue(he,"prototype");var Se=(0,F.U9)(Oe);if(Se&&we.metadata&&!_.isEmpty(we.metadata.columns)){var Ie,Ae=!1,Je=function(){var Pe=pe.queryName,Me=_.find(Ee,de=>de?.queryName===Pe);if((!Me||!Me.ignoreDynamicFormat)&&pe.formatSource&&!pe?.aggregates?.single){Ae||(Ie=he?(0,r.Uz)(he):{},Ae=!0);var De={metadata:pe.queryName,data:[(0,H.vt)()],highlightMatching:o.Y.ValuesAndHighlight},lt=(0,n.o4)(Pe,Q.Zw.FormatString);if((0,U.KY)(Ie,Se,De,lt),pe.relatedObjects)for(var ct of Object.keys(pe.relatedObjects)){var vt=pe.relatedObjects[ct];for(var Vt of Object.keys(vt)){var It=(0,F.D0)(Oe,{objectName:ct,propertyName:Vt});if(It?.formatStringProperty)for(var Ot of vt[Vt])(0,U.KY)(Ie,It.formatStringProperty,Ot,lt)}}}};for(var pe of we.metadata.columns)Je();return Ie}}(we,xe,Oe,he);pe&&(he=pe);var Pe=(0,v.qM)(he);(0,v.zJ)(Pe,Oe,we.metadata.columns,xe);var Me=Pe.metadataOnce,Ge=Pe.data;Me&&function(we,Ee,Oe,he,xe,Se,Ae,Ie,Je){i.Y.assertValue(we,"dataView"),i.Y.assertAnyValue(Ee,"selectTransforms"),i.Y.assertValue(Oe,"objectDescriptors"),i.Y.assertValue(he,"objectDefnsForSelector"),i.Y.assertValue(xe,"dataObjects"),i.Y.assertValue(Se,"targetDataViewKinds");var pe=new R.q(Ie,Ae);for(var Pe of he){var Me=Pe.selector&&Pe.selector.id,Ge=Pe.selector?.order,De=Pe.objects;i.Y.assertValue(!_.isEmpty(De),"objectDefns");var lt=(0,A.K2)(we,Ee),ct=void 0;Je&&(ct={warnings:Je,selector:Pe.selector,targetExpr:(0,d.is)(Pe.selector,Ee)});var vt=(0,v.po)(pe,lt,Oe,De,ct);if(vt){var Vt=we.metadata.objects;for(var It in Vt||(Vt=we.metadata.objects={}),(0,u.rL)(Vt,vt,Me,Ge),vt){var Ot=vt[It],de=Oe[It];for(var Ze in Ot){var Ye=de.properties[Ze],qe=Ye.rule;if(qe){var ut=mt(we,qe,It,Ot[Ze],Ye.type);_.isEmpty(ut)||xe.push(...ut||[])}}}}}}(we,xe,Oe,Me,Ge,Ee,Se,Ae,Ie);var De=Pe.metadata;_.isEmpty(De)||function(we,Ee,Oe,he,xe,Se,Ae){i.Y.assertValue(we,"dataView"),i.Y.assertAnyValue(Ee,"selectTransforms"),i.Y.assertValue(Oe,"objectDescriptors"),i.Y.assertValue(he,"objectDefnsForSelector");var Ie=new R.q(Se,xe);for(var Je of he){var pe=Je.selector,Pe=Je.objects;i.Y.assertValue(pe,"selector"),i.Y.assertValue(Pe,"objectDefns");for(var Me=we.metadata.columns,Ge=pe.metadata,De=(0,A.K2)(we,Ee),lt=0,ct=Me.length;lt<ct;lt++){var vt=Me[lt];if(vt.queryName===Ge){var Vt=void 0;Ae&&(Vt={warnings:Ae,selector:pe,targetExpr:(0,d.is)(pe,Ee)});var It=(0,v.po)(Ie,De,Oe,Pe,Vt);It&&(vt.objects||(vt.objects={}),(0,u.rL)(vt.objects,It,pe.id,pe.order))}}}}(we,xe,Oe,De,Se,Ae,Ie),_.isEmpty(Ge)||function(we,Ee,Oe,he,xe,Se,Ae,Ie,Je){i.Y.assertValue(we,"dataView"),i.Y.assertValue(Ee,"targetDataViewKinds"),i.Y.assertAnyValue(Oe,"selectTransforms"),i.Y.assertValue(he,"objectDescriptors"),i.Y.assertValue(xe,"dataViewObjectDefnsForSelector"),i.Y.assertValue(Se,"DataViewTransform.evaluateDataRepetition - visualStyle");var pe=new R.q(Ie,Se);we.categorical&&(0,t.Lt)(Ee,a.k.Categorical)&&(0,s.eF)(we.categorical,Oe,he,xe,Ae,pe,Je&&{warnings:Je},Ie);var Me=we.matrix;if(Me&&(0,t.Lt)(Ee,a.k.Matrix)){var Ge=function(we,Ee,Oe,he,xe,Se,Ae,Ie){i.Y.assertValue(we,"dataViewMatrix"),i.Y.assertValue(Oe,"objectDescriptors"),i.Y.assertValue(he,"objectDefnsForSelector");var Je=we.valueSources,pe=Je.length,Pe=function(we,Ee){return new h(we,Ee)}(we,Se),Me=we.rows.levels;i.Y.assertAnyValue(Me,"A Matrix with no Row groupings has empty Row levels");var Ge=f(Me),De=f(we.columns.levels),lt=[];lt.push(...Ge||[]),lt.push(...De||[]);var ct=!1,vt=(0,r.Uz)(we),Vt=function(){i.Y.assertValue(It.selector,"selector"),i.Y.assertAnyValue(It.rules,"rules");var Ot=It.objects;i.Y.assertValue(Ot,"objectDefns");var Ke,Xe,de=function(we,Ee){return(0,d.zP)(Ee)&&(Ee=(0,l.G)(Ee,Oe=>function(we,Ee){if(Ee){var Oe=[];return Oe.push(...j(we,Ee.rows)||[]),Oe.push(...j(we,Ee.columns)||[]),Oe}}(Oe,we))),Ee}(we,It.selector),Ze=(0,C.b)(de,xe),Ye=(0,d.Ac)(de),qe=(0,d.EU)(de),ut=null==de.metadata&&S(Ge,Ze),et=function(we,Ee,Oe,he){if(i.Y.assertAnyValue(we,"A Matrix with no Row groupings has empty Row levels and can't hold ScopedValues"),_.isEmpty(we)||(i.Y.assertValue(Oe,"selectorComparer"),i.Y.assertAnyValue(he,"selectorMetadata"),i.Y.assert(()=>we.length===Ee.length,"levels identity keys mismatch"),!he))return!1;for(var xe=0;xe<we.length;xe++)if(Oe.matchesKeys(_.take(Ee,xe+1),xe+1)){var Se=(0,g.Io)(we[xe]);if(!_.isEmpty(Se)&&_.find(Se,Ae=>Ae.queryName===he))return!0}return!1}(Me,Ge,Ze,de.metadata),le=(pe>1||pe<=1&&null==de.metadata)&&S(De,Ze),me=null!=de.metadata&&pe>0&&_.some(Je,re=>re.queryName===de.metadata)&&Ze.matchesKeys(lt,lt.length),Be={selector:de,selectorComparer:Ze,containsWildcard:Ye,isWildcard:qe,canMatchColumnNode:le,canMatchRowNode:ut,canMatchIntersection:me,canMatchScopedValue:et};le&&(Xe=V(p.lM.Column,Pe,Ee,vt.columns,Oe,Ot,Be,Ae,Ie)),(me||et||ut)&&(Ke=V(p.lM.Row,Pe,Ee,vt.rows,Oe,Ot,Be,Ae,Ie)),(Ke||Xe)&&(ct=!0,Ke&&(vt.rows=Ke),Xe&&(vt.columns=Xe))};for(var It of he)Vt();if(ct)return vt}(Me,Oe,he,xe,Ae,Ie,pe,Je);Ge&&(we.matrix=Ge)}var De=we.table;if(De&&(0,t.Lt)(Ee,a.k.Table)){var lt=function(we,Ee,Oe,he,xe,Se,Ae){i.Y.assertValue(we,"dataViewTable"),i.Y.assertAnyValue(Ee,"selectTransforms"),i.Y.assertValue(Oe,"objectDescriptors"),i.Y.assertValue(he,"objectDefnsForSelector");var Ie=!1;for(var Je of he){var pe=Je.selector,Pe=Je.objects;i.Y.assertValue(pe,"selector"),i.Y.assertValue(Pe,"objectDefns");var Me=(0,d.Ac)(pe);pe=L(we,pe);var Ge=(0,C.b)(pe,xe),De=K(we,Ee),lt=void 0;_.isEmpty(we.rows)||(lt=k(De,Ee,we.columns,we.rows,we.identity,we.identityFields,Oe,pe,Me,Pe,Ge,Se,Ae));var ct=void 0;we.totals&&(ct=Y(De,Ee,we.columns,we.totals,we.identityFields,Oe,pe,Pe,Ge,Se,Ae)),(lt||ct)&&(Ie=!0,we=(0,r.Uz)(we),lt&&(we.rows=lt),ct&&(we.totals=ct))}if(Ie)return we}(De,Oe,he,xe,Ae,pe,Je);lt&&(we.table=lt)}var ct=we.single;if(i.Y.assert(()=>!ct||!!ct&&!!De,"DataViewTable should be always present with DataViewSingle"),ct&&De&&(0,t.Lt)(Ee,a.k.Single)){var vt=function(we,Ee,Oe,he,xe,Se,Ae){i.Y.assertValue(we,"dataView"),i.Y.assertAnyValue(Ee,"selectTransforms"),i.Y.assertValue(Oe,"objectDescriptors"),i.Y.assertValue(he,"objectDefnsForSelector");var Ie,Je=(0,A.K2)(we,Ee);for(var pe of he){var Pe=pe.selector,Me=pe.objects,Ge=(0,C.b)(Pe,xe);if(i.Y.assertValue(Pe,"selector"),i.Y.assertValue(Me,"objectDefns"),Pe.metadata===we.single.column.queryName&&Ge.matches([])){var De=void 0;Ae&&(De={warnings:Ae,selector:Pe,targetExpr:(0,d.is)(Pe,Ee)});var lt=(0,v.po)(Se,Je,Oe,Me,De);lt&&(Ie||(Ie=(0,r.Uz)(we.single)),Ie.objects||(Ie.objects={}),(0,u.rL)(Ie.objects,lt,Pe.id,Pe.order))}}return Ie}(we,Oe,he,xe,Ae,pe,Je);vt&&(we.single=vt)}we.metadata.objectsRules=pe.getObjectsRules()}(we,Ee,xe,Oe,Ge,Se,Je,Ae,Ie)}}function mt(we,Ee,Oe,he,xe){i.Y.assertValue(we,"dataView"),i.Y.assertValue(Ee,"ruleDesc"),i.Y.assertValue(he,"propertyValue"),i.Y.assertValue(xe,"ruleType");var Se=Ee.output;if(Se){var Ae=function(we){return i.Y.assertValue(we,"selectorRoles"),[{data:[(0,B.WV)(we)]}]}(Se.selector);if(xe.fillRule)return function(we,Ee,Oe,he,xe){i.Y.assertValue(we,"dataView"),i.Y.assertValue(Ee,"ruleDesc"),i.Y.assertValue(Oe,"selectorsToCreate"),i.Y.assertValue(xe,"propertyValue");var Se=function(we,Ee,Oe){i.Y.assertValue(we,"dataView"),i.Y.assertValue(Ee,"identifier"),i.Y.assertValue(Oe,"identifierKind");var he=we.metadata.columns;switch(Oe){case p.iB.Role:return _.find(he,xe=>xe.roles&&xe.roles[Ee]);case p.iB.QueryName:return _.find(he,xe=>xe.queryName===Ee&&void 0===xe.groupName);default:i.Y.assertNever(Oe)}}(we,Ee.inputRole,p.iB.Role);if(Se){var Ae=(0,c.r)().fromFillRule(xe,Se);if(Ae){var Ie=new ee(Ee.inputRole,Ae),Je={};Je[Ee.output.property]={solid:{color:Ie}};for(var pe=[],Pe=0,Me=Oe.length;Pe<Me;Pe++)pe.push({selector:Oe[Pe],rules:[Ie],objects:[{name:he,properties:Je}]});return pe}}}(we,Ee,Ae,Oe,he)}}},877723:function(ve,z,e){e.d(z,{aI:function(){return d},cK:function(){return n},vt:function(){return c}});var a=e(18122),i=e(798553),r=e(302887),t=e(482713),o=e(747767);function d(p,l){return!p&&!l||!(!p||!l)&&(a.Y.assertValue(p,"x"),a.Y.assertValue(l,"y"),p===l||p.matchingOption===l.matchingOption)}function n(p,l){switch(a.Y.assertValue(p,"DataViewWildcard.matches - wildcard"),p.matchingOption){case o._.InstancesAndTotals:return!0;case o._.InstancesOnly:return!l;case o._.TotalsOnly:return l;default:a.Y.assertFail("DataViewWildcard.matches - Unsupported matchingOption")}}function c(p){return null==p&&(p=o._.InstancesAndTotals),new s(p)}class s{constructor(l){this.kind=t.y.Wildcard,a.Y.assertValue(l,"matchingOption"),this._matchingOption=l,this._key=new i.d(()=>JSON.stringify(this._matchingOption))}get matchingOption(){return this._matchingOption}get key(){return this._key.getValue()}}(0,r.d)(s.prototype)},165248:function(ve,z,e){e.d(z,{Mr:function(){return r},iB:function(){return a},lM:function(){return i}});var a=function(t){return t[t.QueryName=0]="QueryName",t[t.Role=1]="Role",t}({}),i=function(t){return t.Row="Rows",t.Column="Columns",t}({}),r=function(t){return t[t.InvalidValue=0]="InvalidValue",t[t.InvalidType=1]="InvalidType",t[t.MissingReference=2]="MissingReference",t[t.UndefinedStylePreset=3]="UndefinedStylePreset",t}({})},346375:function(ve,z,e){function a(){var i=r=>{};return{getExprValue:i,getExprColumn:i,getScopedEvalExprValue:i,getRoleValues:i}}e.d(z,{b:function(){return a}})},538696:function(ve,z,e){e.d(z,{b:function(){return i}});var a=e(18122);class i{evaluate(t){a.Y.assertFail("Abstract method RuleEvaluation.evaluate not implemented.")}}},63193:function(ve,z,e){e.d(z,{K2:function(){return n},hn:function(){return s}});var a=e(620825),i=e(81825),r=e(18122),t=e(5371),o=e(749837),d=e(404323);function n(v,m){return new c(v,m)}class c{constructor(m,g){this.dataView=m,this.selectTransforms=g,r.Y.assertValue(m,"dataView"),r.Y.assertAnyValue(g,"selectTransforms")}getExprColumn(m){var g=(0,o.dD)(m,this.selectTransforms);if(!(g<0))return _.find(this.dataView.metadata.columns,E=>E.index===g)}getScopedEvalExprValue(m){var g=m.decomposeGlobalAggregateOfScopedExpr();if(g){var E=(0,d.BB)(g.source,this.dataView.metadata.columns);return E?(0,d.CX)(E,g.func):void 0}if(m.hasGlobalScope())return this.getExprValue(m.expression);m.hasInnerMostScope()?r.Y.assertFail("Attempt to evaluate a scoped expression within the Global scope"):r.Y.assertFail("Evaluation of Partial-Scope expressions is not supported")}getExprValue(m){var g=this.dataView,E=this.selectTransforms;if(g&&E){if((0,a.b9)(m)||(0,a.Wx)(m)||(0,a.tx)(m)||(0,a.uD)(m)||(0,a.Gv)(m)){var D=function(v,m,g){r.Y.assertValue(v,"expr"),r.Y.assertValue(m,"selectTransforms"),r.Y.assertValue(g,"columns");var E,D=-1,h=v;do{if((D=null==h?-1:(0,o.dD)(h,m,D+1))<0)break;if(E=_.find(g,y=>y.index===D&&y.aggregates&&void 0!==y.aggregates.single))return E.aggregates.single;(0,a.Gv)(h)&&r.Y.assertValue(h=m[D].expr,"Select that matches selectRef points to a null field.")}while(D<m.length);if((0,a.b9)(v)||(0,a.Wx)(v)){var C=v.arg;if((0,a.tZ)(C)&&C.hasInnerMostScope()?D=(0,o.dD)(C.expression,m):((0,a.Gv)(C)||(0,a.tx)(C)||(0,a.b9)(C)||(0,a.mQ)(C))&&(D=(0,o.dD)(C,m)),!(D<0)&&(E=_.find(g,y=>y.index===D&&y.aggregates)))return function(v,m){if(r.Y.assertValue(v,"aggregates"),r.Y.assertValue(m,"expr"),(0,a.Wx)(m)){var g=_.find(v.percentiles,E=>E.k===m.k&&m.exclusive===!!E.exclusive);if(g)return g.value}else if((0,a.b9)(m))switch(r.Y.assertValue(m.func,"func"),m.func){case i.Sn.Min:return v.min??v.minLocal;case i.Sn.Max:return v.max??v.maxLocal;case i.Sn.Median:return v.median;case i.Sn.Avg:return v.average}r.Y.assertFail("Only Percentile, Min, Max, Median, Average are supported as Aggregate of Aggregates")}(E.aggregates,v)}}(m,E,g.metadata.columns);if(void 0!==D)return D}if(g.table)return _.isEmpty(g.table.columns)||_.isEmpty(g.table.rows)||!_.isEmpty(g.table.identityFields)?void 0:(r.Y.assert(()=>1===g.table.rows.length,"A data view with no identity fields should have a single row"),s(m,E,g.table.columns,g.table.rows[0]));if(g.categorical&&!_.isEmpty(g.metadata.columns)&&!_.isEmpty(g.categorical.values))return function(v,m,g){r.Y.assertValue(v,"expr"),r.Y.assertValue(m,"selectTransforms"),r.Y.assertValue(g,"categorical");var E=g.values;if(r.Y.assertValue(E,"categorical.values"),1===E.grouped().length&&!g.categories){var D=(0,o.dD)(v,m);if(!(D<0)){var h=_.findIndex(E,y=>y.source.index===D);if(-1!==h){var C=E[h].values;if(C&&1===C.length)return C[0]}}}}(m,E,g.categorical);g.matrix||g.tree||r.Y.assert(()=>_.isEqual(Object.getOwnPropertyNames(g),["metadata"]),"staticEvalContext.getExprValue received a dataView that is not currently supported (only table and categorical are implemented)")}}getRoleValues(m){}}function s(v,m,g,E){if(r.Y.assertValue(v,"expr"),r.Y.assertValue(m,"selectTransforms"),r.Y.assertNonEmpty(g,"tableColumns"),r.Y.assertValue(E,"tableRow"),1===E.length&&null===E[0])return null;var D=(0,o.dD)(v,m);if(!(D<0)){var h=_.findIndex(g,f=>f.index===D);if(!(h<0)){if((0,a.Gv)(v)&&v.attributeKind===t.Zw.FormatString){var C=g[h];if((h=g.indexOf(C.formatSource&&C.formatSource.formatString))<0)return}return r.Y.assert(()=>h in E,"Cannot get expr value from table row. Row values don't contain an element for the matching data column"),E[h]}}}},334734:function(ve,z,e){e.d(z,{Ol:function(){return v},aM:function(){return m},jG:function(){return E},oi:function(){return S},wc:function(){return g}});var a=e(18122),i=e(744774),r=e(989417),t=e(454840),o=e(335128),d=e(188076),n=e(625694),c=e(816030),s=e(531093),p=e(999904),l=e(337141),u="png";function v(P){if(a.Y.assertAnyValue(P,"dataViewMappings"),P&&1===P.length&&P[0])return P[0].scriptResult}function m(P){a.Y.assertAnyValue(P,"dataViewMappings");var T=v(P);if(T)return function(P,T){if(P&&P.script&&P.script.source&&P.script.provider&&T)return y((0,c._W)(T,P.script.source),(0,c._W)(T,P.script.provider),P.script.scriptOutputType)}(T,P[0].metadata&&P[0].metadata.objects)}function g(P,T){if(a.Y.assertAnyValue(P,"dataViewMappings"),a.Y.assertAnyValue(T,"objects"),T){var N=v(P);if(N&&N.script&&N.script.source&&N.script.provider){var w=(0,p._W)(T,N.script.source,null),I=(0,p._W)(T,N.script.provider,null);return y(w?w.value:null,I?I.value:null,N.script.scriptOutputType)}}}function E(P){return a.Y.assertAnyValue(P,"dataViewMappings"),function(P){return C(P&&P.script)}(v(P))}function C(P){if(a.Y.assertAnyValue(P,"scriptMapping"),P)return y(P.scriptSourceDefault,P.scriptProviderDefault,P.scriptOutputType)}function y(P,T,N){if(!(0,r.M)(P)&&!(0,r.M)(T))return{source:P,provider:T,outputType:N||u}}function S(P,T,N,w,I){a.Y.assertAnyValue(P,"projections"),a.Y.assertAnyValue(T,"selects"),a.Y.assertAnyValue(N,"schema"),a.Y.assertAnyValue(w,"scriptDefinition");var O=!!C(w),x={VariableName:"dataset",Columns:[],Parameters:[]};if(P&&T&&!_.isEmpty(T)){var j=[],U=[];for(var F in P)for(var R of P[F].all()){var B=T.withName(R.queryRef);if(B){var A={QueryName:B.name},W=(0,o.YR)((0,d.F)(B.expr),new M(N));O&&(A.Role=F,W=F+"."+W),U.push(A),j.push(W)}}j=(0,t.Yh)(j);for(var G=0;G<j.length;G++)U[G].Name=j[G];x.Columns=U}return x.Parameters=function(P,T){var N=[];if(T)for(var w in T){var I=(0,l.iM)(T,w);if(I)for(var O in I){var x=V(P,I,w,O);x&&N.push({ObjectName:w,PropertyName:O,Value:x})}}return N}(w,I),x}function V(P,T,N,w){if(!(P&&P.source&&P.source.objectName===N&&P.source.propertyName===w||P&&P.provider&&P.provider.objectName===N&&P.provider.propertyName===w)){var I=(0,s.a)(T,w);if(I)return(0,n.Qq)(I);var O=(0,s._)(T,w);if(null!=O)switch(typeof O){case"string":return(0,n.Qq)(O);case"number":var x=O;return(0,i.Fq)(x)?(0,n.nd)(x):(0,n.gd)(x);case"boolean":return(0,n.zM)(O)}}}class M{constructor(T){this.federatedSchema=T}visitNativeVisualCalc(T){}visitColumn(T){return M.getNameForProperty(T,this.federatedSchema)}visitColumnAggr(T){return M.getNameForProperty(T,this.federatedSchema)}visitGroupingColumn(T){return M.getNameForProperty(T,this.federatedSchema)}visitGroupingColumnAggr(T){return M.getNameForProperty(T,this.federatedSchema)}visitColumnHierarchyVariation(T){return M.getVariationHierarchyName(T,this.federatedSchema)}visitColumnHierarchyLevelVariation(T){return M.getVariationLevelName(T,this.federatedSchema)}visitColumnSubquery(T){}visitColumnAggrSubquery(T){}visitColumnNativeTable(T){}visitColumnAggrNativeTable(T){}visitColumnTransformRef(T){}visitEntity(T){return T.entity}visitEntityAggr(T){return T.entity}visitHierarchy(T){return M.getNameForHierarchy(T,this.federatedSchema)}visitHierarchyLevel(T){return M.getNameForHierarchyLevel(T,this.federatedSchema)}visitHierarchyLevelAggr(T){return M.getNameForProperty(T,this.federatedSchema)}visitMeasure(T){return M.getNameForProperty(T,this.federatedSchema)}visitSelectRef(T){return(0,o.YR)(T,this)}visitPercentile(T){return(0,o.YR)(T.arg,this)}visitPercentOfGrandTotal(T){return(0,o.YR)(T.baseExpr,this)}visitPercentOfRoleTotal(T){return(0,o.YR)(T.baseExpr,this)}visitTransformOutputRoleRef(T){return(0,o.YR)(T,this)}visitFilteredEval(T){return(0,o.YR)(T,this)}visitArithmetic(T){}visitConstant(T){a.Y.assertFail("ScriptResultUtil - Not expecting to be called")}visitSparklineData(T){}static getNameForHierarchy(T,N){a.Y.assertValue(T,"pattern");var I=N.schema(T.schema).findHierarchy(T.entity,T.name);if(I)return I.name}static getNameForHierarchyLevel(T,N){a.Y.assertValue(T,"pattern");var I=N.schema(T.schema).findHierarchyLevel(T.entity,T.name,T.level);if(I)return I.column.name}static getNameForProperty(T,N){a.Y.assertValue(T,"pattern");var I=N.schema(T.schema).findProperty(T.entity,T.name);if(I)return I.name}static getVariationHierarchyName(T,N){a.Y.assertValue(T,"pattern"),a.Y.assertValue(N,"federatedSchema");var w=T.source,I=N.schema(w.schema).findProperty(w.entity,w.name);if(I){var O=I.column.variations;for(var x of O)if(x.name===T.variationName&&T.hierarchy.name===x.defaultHierarchy.name)return T.hierarchy.name}}static getVariationLevelName(T,N){a.Y.assertValue(T,"pattern");var w=T.source,I=N.schema(w.schema).findProperty(w.entity,w.name);if(I){var O=I.column.variations;for(var x of O)if(x.name===T.variationName)for(var j of x.defaultHierarchy.levels)if(j.name===T.level.level)return j.column.name}}}},653872:function(ve,z,e){e.d(z,{b:function(){return l}});var a=e(98138),i=e(579260),r=e(18122),t=e(890741),o=e(106302),d=e(476271),n=e(619895),c=e(735183),s=e(877723),p=e(993337);function l(m,g){return g?new u(m):new v(m)}class u{constructor(g){if(r.Y.assertValue(g,"selector"),r.Y.assertValue(g.data,"selector.data"),this.dataParts=g.data,(0,t.EU)(g))return this.isWildcard=!0,void(this.hierarchyMatching=g.hierarchyMatching);var E=_.last(g.data);this.totalIdentity=(0,t.pB)(E)?E:null,this.totalIdentity&&(this.dataParts=this.dataParts.slice(0,g.data.length-1)),this.selectorDataExprs=u.flattenDataParts(this.dataParts),this.keys=_.map(this.selectorDataExprs,D=>D.key),this.totalIdentity&&this.keys.push(...this.totalIdentity.exprs||[])}matches(g,E){if(this.isWildcard)return(0,s.cK)(this.dataParts[0],!_.isEmpty(E));if(g.length!==this.dataParts.length||_.isEmpty(E)&&this.totalIdentity||!_.isEmpty(E)&&!this.totalIdentity||this.totalIdentity&&!(0,i.RD)(this.totalIdentity.exprs,E,a.aI))return!1;if(_.isEmpty(g)&&_.isEmpty(this.dataParts))return!0;var D=u.flattenDataParts(g);return!_.isEmpty(D)&&(0,i.RD)(this.selectorDataExprs,D,u.isDataExprsMatch)}matchesKeys(g,E){if(this.isWildcard)return g.length===E||this.hierarchyMatching===p.v.Partial;var D=_.flatten(g);return 0!==this.keys.length&&0!==D.length&&this.keys.length===D.length&&(0,i.RD)(D,this.keys,a.aI)}static flattenDataParts(g){var E=[];for(var D of g)if((0,t.fF)(D)){var h=new o.Rq;D.expr.accept(h);for(var C=0;C<h.pairs.length;C++)E.push({value:h.values[C],key:h.keys[C]})}else if((0,t.rh)(D))for(var y of D.exprs)E.push({key:y});else{if(!(0,t.pB)(D))return r.Y.assertFail("unexpected Selector data item kind: "+D.kind.toString()),[];r.Y.assertFail("Selector.matchesData: ScopeTotal should appear at the end of Selector.Data elements")}return E}static isDataExprsMatch(g,E){return r.Y.assert(()=>null!=g.value||null!=E.value,"isDataExprsMatch cant have two dataExprs with values not defined. It means they are both wildcards."),g.value&&E.value?(0,a.aI)(g.key,E.key)&&(0,a.aI)(g.value,E.value):(0,a.aI)(g.key,E.key)}}class v{constructor(g){if(this.selector=g,r.Y.assertValue(this.selector,"selector"),r.Y.assertValue(this.selector.data,"selector.data"),this.isWildcard=(0,t.EU)(this.selector),this.dataParts=this.selector.data,this.keys=[],!this.isWildcard)for(var E of this.dataParts){var D=v.getDataRepetitionIdentityKeys(E);if(!D){this.keys=[];break}this.keys.push(...D)}}matches(g,E){r.Y.assertValue(g,"identities");var D=this.dataParts,h=D.length,C=g.length,y=!_.isEmpty(E);if(y&&C++,this.isWildcard)return(0,s.cK)(D[0],y);if(h!==C)return!1;for(var f=0,S=g.length;f<S;f++){var b=D[f],V=g[f];if((0,t.jG)(b))return r.Y.assertFail("Selector.matchesData: RoleWildCard should be converted to ScopeWildCards before matching"),!1;if((0,t.fF)(b)){if(!(0,d.aI)(b,V))return!1}else{if(!(0,t.rh)(b))return(0,t.pB)(b)?(_.isEmpty(E)||r.Y.assertFail("Selector.matchesData: ScopeTotal should appear at the end of Selector.Data elements"),!1):(r.Y.assertFail("unexpected Selector data item kind: "+b.kind.toString()),!1);if(!(0,c.cK)(b,V))return!1}}if(!_.isEmpty(E)){var M=_.last(D);return(0,t.pB)(M)&&(0,n.cK)(M,E)}return!0}matchesKeys(g,E){if(r.Y.assertValue(g,"keysList"),r.Y.assert(()=>g.length<=E,"expected keysList to be within the hierarchy levels"),this.isWildcard)return g.length===E||this.selector.hierarchyMatching===p.v.Partial;var D=_.flatten(g),h=this.keys.length;if(0===h||0===D.length||h!==D.length)return!1;for(var C=0;C<h;C++)if(!(0,a.aI)(D[C],this.keys[C]))return!1;return!0}static getDataRepetitionIdentityKeys(g){return(0,t.fF)(g)?(0,o.xD)(g.expr):(0,t.rh)(g)||(0,t.pB)(g)?g.exprs:void((0,t.jG)(g)?r.Y.assertFail("Selector.matchesData: RoleWildCard should be converted to ScopeWildCards before matching"):(0,t.z2)(g)?r.Y.assertFail("Selector.matchesData: Wildcard should match anything without identity check"):r.Y.assertNever(g))}}},382534:function(ve,z,e){e.d(z,{QW:function(){return t},o0:function(){return r},sN:function(){return o}});var a=e(18122),i=e(761297);function r(d){return a.Y.assertValue(d,"categories"),!_.isEmpty(d)&&d[0].objects}function t(d,n){if(a.Y.assertValue(d,"prototypeCategories"),a.Y.assertValue(n,"objects"),!_.isEmpty(d)){var c=(0,i.Uz)(d);return(c[0]=(0,i.Uz)(c[0])).objects=n,c}}function o(d){a.Y.assertValue(d,"dataViewCategorical");var n=_.isEmpty(d.categories)?_.isEmpty(d.values)?0:d.values[0].values.length:d.categories[0].values.length;return a.Y.assert(()=>_.every(d.categories,c=>c.values.length===n),"Invariant: every category column is expected to have the same number of values."),a.Y.assert(()=>_.every(d.categories,c=>c.identity.length===n),"Invariant: every category column is expected to have the same number of identities as there are values."),a.Y.assert(()=>_.every(d.values,c=>c.values.length===n),"Invariant: every value column is expected to have the same number of values."),n}},27403:function(ve,z,e){e.d(z,{AU:function(){return t},LE:function(){return d},ZX:function(){return n},je:function(){return r},pi:function(){return c}});var a=e(111199),i=e(190593);function r(s){if(_.isEmpty(s))return!1;for(var p of s)if(p.matrix&&p.matrix.rows&&void 0!==p.matrix.rows.values)return!0;return!1}function t(s){if(_.isEmpty(s))return!1;var p=s.filter(V=>void 0!==V.categorical&&void 0!==V.categorical.categories);if(_.isEmpty(p))return!1;for(var l=0;l<p.length;l++){var u=p[l],v=u.conditions;if(!_.isEmpty(v))for(var m=l+1;m<p.length;m++){var g=p[m];if(_.isEqual(u.categorical.categories,g.categorical.categories)&&!_.isEqual(u.categorical.values,g.categorical.values)){var E=g.conditions;if(_.isEmpty(E))return!0;var D=o(v),h=o(E),C=Object.keys(D),y=Object.keys(h);if(C.length!==y.length||!_.isEqual(C,y))return!0;for(var f of C)if(!_.isEqual(D[f],h[f]))return!0}}}return!1}function o(s){var p={};for(var l of s)for(var u in l)p[u]||(p[u]=l[u]);return p}function d(s,p){if(_.isEmpty(s))return!1;var l=s.map(y=>y.matrix).filter(y=>void 0!==y);if(_.isEmpty(l)||_.isEmpty(p))return!1;var u=new Set,v=new Set;for(var m of l){var g=m.rows?a.e1.fromMatrixRows(m.rows):[],E=m.columns?a.e1.fromMatrixColumns(m.columns):[];for(var D of g)u.add(D);for(var h of E)v.add(h)}for(var C of p)if(u.has(C)&&v.has(C))return!0;return!1}function n(s){if(_.isEmpty(s))return!1;var p=s.filter(v=>!(0,i.ES)(v)),l=p.some(v=>void 0!==v.categorical),u=p.some(v=>void 0!==v.matrix);return l&&u}function c(s,p){if(_.isEmpty(s))return!1;var l=s.map(f=>f.categorical).filter(f=>void 0!==f);if(_.isEmpty(l)||_.isEmpty(p))return!1;var u=new Set,v=new Set;for(var m of l){var g=m.categories?a.e1.fromCategoricalCategories(m.categories):[],E=m.values,D=E&&E.group?a.e1.FromCategoricalValues(E):[];for(var h of g)u.add(h);for(var C of D)v.add(C)}for(var y of p)if(u.has(y)&&v.has(y))return!0;return!1}},283941:function(ve,z,e){e.d(z,{B5:function(){return v},HU:function(){return y},Io:function(){return f},NK:function(){return D},OD:function(){return u},Of:function(){return p},VT:function(){return h},d2:function(){return o},de:function(){return S},kR:function(){return l},lq:function(){return c},mx:function(){return g},of:function(){return d},qX:function(){return E},yg:function(){return t}});var a=e(579260),i=e(18122),r=e(761297),t=function(b){return b[b.stop=0]="stop",b[b.continueToChildNodes=1]="continueToChildNodes",b[b.skipDescendantNodes=2]="skipDescendantNodes",b}({});function o(b){return i.Y.assertValue(b,"node"),_.isEmpty(b.children)}function d(b,V){if(i.Y.assertAnyValue(b,"rootNodes"),i.Y.assertValue(V,"callback"),b)if(function(b){return(0,a.Sg)(b)}(b))for(var M of b)M&&n(M,[],V);else n(b,[],V)}function n(b,V,M){i.Y.assertValue(b,"matrixNode"),i.Y.assertValue(V,"traversalPath"),i.Y.assertValue(M,"callback"),i.Y.assert(()=>!_.includes(V,b),"pre-condition: traversalPath must not already contain matrixNode"),V.push(b);var P=M(b,V),T=null!=P&&P!==t.stop;if(P===t.continueToChildNodes){var N=b.children;if(!_.isEmpty(N))for(var w of N)if(w&&!(T=n(w,V,M)))break}return i.Y.assert(()=>_.last(V)===b,"pre-condition: the callback given to forEachNodeDepthFirst() is not supposed to modify the traversalPath argument array."),V.pop(),T}function c(b,V){i.Y.assertAnyValue(b,"rootNodes"),i.Y.assertValue(V,"callback");var M=0;d(b,(P,T)=>(o(P)&&(V(P,M,T),M++),t.continueToChildNodes))}function p(b,V,M){if(i.Y.assertValue(b,"node"),i.Y.assert(()=>V>=0,"targetLevel >= 0"),i.Y.assertValue(M,"callback"),b.level!==V){var P=b.children;if(P&&P.length>0)for(var T=0,N=P.length;T<N;T++)p(P[T],V,M)}else M(b)}function l(b,V,M){i.Y.assertValue(b,"node"),i.Y.assert(()=>V>=0,"deepestLevelToInherit >= 0"),i.Y.assertValue(M,"useInheritSingle");var P=b,T=void 0===b.level;if(T||b.level<=V){var w=M?r.Uz:r.IL,I=w(b);if((T||b.level<V)&&!_.isEmpty(b.children)){I.children=w(b.children);for(var x=0,j=I.children.length;x<j;x++)I.children[x]=l(I.children[x],V,M)}P=I}return P}function u(b){i.Y.assertAnyValue(b,"matrixOrHierarchy");var V=!1;if(b)if(function(b){return"rows"in b&&"columns"in b&&"valueSources"in b}(b))V=u(b.rows)||u(b.columns);else{var M=b.levels;if(!_.isEmpty(M))for(var P of M)if(P.sources&&P.sources.length>=2&&(i.Y.assert(()=>_.every(P.sources,N=>N.isMeasure===P.sources[0].isMeasure),"pre-condition: in a valid DataViewMatrix, the source columns in each of its hierarchy levels must either be all non-measure columns (i.e. a grouping level) or all measure columns (i.e. a measure headers level)"),!P.sources[0].isMeasure)){V=!0;break}}return V}function v(b){i.Y.assertValue(b,"matrix");var V=b.rows&&b.rows.levels,M=b.columns&&b.columns.levels,P=b.valueSources;return{primaryAxis:!_.isEmpty(V)&&m(V),secondaryAxis:!_.isEmpty(M)&&m(M),intersection:!_.isEmpty(P)&&_.map(P,N=>N.index)}}function m(b){return i.Y.assertValue(b,"levels"),_.map(b,V=>({selectIndices:_.map(V.sources,T=>T.index)}))}function g(b){return b&&b.rows&&!_.isEmpty(b.rows.levels)?b.rows.levels.length:0}function E(b){return!b||_.isEmpty(b.levels)?0:b.levels.length-(D(b.levels)?1:0)}function D(b){return i.Y.assertAnyValue(b,"columnHierarchyLevels"),!_.isEmpty(b)&&h(_.last(b))}function h(b){return i.Y.assertAnyValue(b,"columnHierarchyLevel"),b&&_.every(b.sources,V=>V.isMeasure)}function y(b){if(i.Y.assertAnyValue(b?.children,"A Matrix with Column Totals off and all data filtered out has undefined columns root"),!b||_.isEmpty(b.children))return[];var V=[];return c(b,(M,P,T)=>{V.push(_.clone(T))}),V}function f(b){i.Y.assertValue(b,"undefined Level");var V=b.valueSources;if(V)return i.Y.assert(()=>_.isEqual(_.keys(V),["0"]),"There is no support for Measures with a Scope containing any column levels"),i.Y.assertValue(V[0],"Empty Scoped measures metadata"),V[0]}function S(b){if(i.Y.assertValue(b,"getNodeScopedValues called for an Undefined node"),i.Y.assertAnyValue(b.nodeValues,"Synchronized nodes have undefined nodeValues"),b.nodeValues)return i.Y.assert(()=>_.isEqual(_.keys(b.nodeValues),["0"]),"There is no support for Measures with a Scope containing any column levels"),b.nodeValues[0]}},404323:function(ve,z,e){e.d(z,{AY:function(){return p},BB:function(){return u},CX:function(){return v},Hk:function(){return m},fn:function(){return c},qq:function(){return s}});var a=e(620825),i=e(98138),r=e(81825),t=e(18122),o=e(5371);function n(g,E){t.Y.assertValue(g,"metadataColumn"),t.Y.assertValue(E,"targetRoles");var D=g.roles;return!!D&&_.some(E,h=>D[h])}function c(g,E){if(t.Y.assertAnyValue(g,"roles"),t.Y.assertValue(E,"targetRole"),!g||!g[E])return!1;if(_.size(g)>=2)for(var D in g)if(D!==E&&g[D])return!1;return!0}function s(g,E,D){t.Y.assertAnyValue(g,"columnSources"),t.Y.assertValue(E,"projectionOrdering"),t.Y.assertAnyValue(D,"filterByRoles");var h=[];if(!_.isEmpty(g))for(var C=function(g){t.Y.assertValue(g,"selectIndicesByProjectionOrder");for(var E={},D=0,h=g.length;D<h;D++){var C=g[D],y=E[C];y||(y=E[C]=[]),y.push(D)}return E}(E),y=0,f=g.length;y<f;y++){var S=g[y];if(!D||n(S,D)){var b=C[S.index];if(_.isEmpty(b))h.push({metadataColumn:S,sourceIndex:y,projectionOrderIndex:void 0});else for(var V of b)h.push({metadataColumn:S,sourceIndex:y,projectionOrderIndex:V})}}return h}function p(g){var E=_.find(g,y=>y.expr&&(0,a.Ah)(y.expr));if(E){var h=E.expr.arg;if((0,a.Ir)(h)){var C=h.arg;if((0,a.sD)(C))return C.property}}}function u(g,E,D){if(t.Y.assertValue(g,"expr"),t.Y.assertNonEmpty(E,"columns"),!(0,a.Gv)(g))return _.find(E,C=>(0,i.aI)(C.expr,g)&&C.groupName===D);var h=_.find(E,C=>C.queryName===g.expressionName&&C.groupName===D);return h?g.attributeKind!==o.Zw.FormatString?h:h.formatSource&&h.formatSource.formatString?h.formatSource.formatString:void 0:void 0}function v(g,E){t.Y.assertValue(g,"column"),t.Y.assertValue(E,"aggrFunc");var D=g.aggregates;if(D)switch(E){case r.Sn.Min:return D.min;case r.Sn.Max:return D.max;case r.Sn.Count:return D.count;case r.Sn.Avg:return D.average;case r.Sn.Median:return D.median;default:return}}function m(g,E){if(!_.isEmpty(g)){var D=[],h=!0;for(var C of g)if(C.roles&&C.roles[E]&&void 0!==C.index)if(C.rolesIndex&&C.rolesIndex[E]){t.Y.assert(()=>!0===h,".initMetadataColumns if any of the columns has roleIndex all of them are supposed to have it.");var y=C.rolesIndex[E];for(var f of y)D[f]=C}else h=!1,D.push(C);return D}}},249378:function(ve,z,e){e.d(z,{MK:function(){return o},Mx:function(){return n},dL:function(){return r},mX:function(){return d},ym:function(){return t}});var a=e(343872),i=e(18122);function r(c,s){return!c&&!s||!(!c||!s||c.displayName!==s.displayName||c.queryName!==s.queryName||c.isMeasure!==s.isMeasure||c.type!==s.type||c.sort!==s.sort)}function t(c,s){if(!c&&!s)return!0;if(!c||!s)return!1;var l=s.columns.length;if(c.columns.length!==l)return!1;for(var u=0;u<l;u++)if(!r(c.columns[u],s.columns[u]))return!1;return!0}function o(c){return c&&c.values&&c.values[0]&&!!c.values[0].values}function d(c){return c&&void 0!==c.length}function n(c,s){return i.Y.assert(()=>s!==a.k.None),!!c&&!!(s&a.k.Categorical&&c.categorical||s&a.k.Matrix&&c.matrix||s&a.k.Single&&c.single||s&a.k.Table&&c.table||s&a.k.Tree&&c.tree)}},324394:function(ve,z,e){e.d(z,{$f:function(){return t},QX:function(){return d},cu:function(){return o},wC:function(){return r}});var a=e(18122),i=e(858225);function r(s,p,l){a.Y.assertValue(s,"query"),a.Y.assertValue(p,"projectionsByRole"),a.Y.assertValue(l,"roleName");var u=p[l];if(u){var v=u.all();return _.filter(_.map(v,m=>t(s,m)),m=>m)}}function t(s,p){var l=n(s,p);if(l)return l}function o(s,p,l){var u=p[l];if(u){var v=u.getFieldParameters();if(_.isEmpty(v)){var m=r(s,p,l);return _.map(m,M=>{var P=_.find(u.all(),T=>T.queryRef===M.name)?.hidden;return i.B.transformToVisualQueryField(M.expr,M.name,!1,M.nativeReferenceName,P)})}var g=[],E=u.all()||[],D=0,h=0;for(var C of v=_.sortBy(v,M=>M.index)){var f=C.index+h,S=E.slice(D,f);g.push(...c(s,S)),g.push(i.B.transformToVisualQueryField(C.expr,void 0,!0,void 0,void 0,C.sortDirection));var b=C.length??0;h+=b-1,D=f+b}var V=E.slice(D,E.length);return g.push(...c(s,V)),g}}function d(s,p){var l=_.filter(p,m=>m.index<s),u=s;for(var v of l)u+=(v.length??0)-1;return u}function n(s,p){if(a.Y.assertValue(s,"query"),p)return s.select().withName(p.queryRef)}function c(s,p){var l=_.filter(_.map(p,u=>n(s,u)),u=>u);return _.map(l,u=>{var v=_.find(p,m=>m.queryRef===u.name)?.hidden;return i.B.transformToVisualQueryField(u.expr,u.name,!1,u.nativeReferenceName,v)})}},985299:function(ve,z,e){e.d(z,{Q:function(){return a}});var a={objectName:"scalarKey",propertyName:"min"}},31802:function(ve,z,e){e.d(z,{DB:function(){return m},dY:function(){return g},f0:function(){return v},vE:function(){return u}});var a=e(18122),i=e(188076),r=e(757406),t=e(939906),o=e(858225),d=e(683116),n=e(471078),c=e(702794),s=e(816030),p=e(324394),l=e(985299);function u(E,D=l.Q){var h;if(E&&(h=E.objects),!_.isEmpty(h)){for(var C,y=h.length,f=0;f<y;f++){var b=(0,s._W)(h[f],D);void 0!==b&&(C||(C={values:new Array(y)}),C.values[f]={min:b})}return C}}function v(E){var D=!1,h={visitRole:f=>{D=D||_.some(f.items,S=>S.scalarKeyInfo&&S.scalarKeyInfo.hasScalarKey)}};return E.categorical?(0,c.Ax)(E.categorical.categories,h):E.matrix&&(0,c.ms)(E.matrix.rows,h),D}function m(E,D,h,C){a.Y.assertValue(E,"schema"),a.Y.assertValue(D,"query"),a.Y.assertValue(h,"projections"),a.Y.assertValue(C,"roleName");var y=(0,p.wC)(D,h,C);if(_.isEmpty(y)||!(y[0]?.expr instanceof r.LV))return!1;var f=y[0]?.expr;if(1!==(0,t.c)(E,_.map(y,x=>x.expr),{}).length)return!1;var b=(0,i.F)(f,E),V=(0,d.tu)(E,b),M=V&&V.column;if(!M)return!1;var P=M.type;if(!P.temporal||!P.temporal.year||!g(y[0]?.expr,E))return!1;var T=h[C],N=T.getLastActiveQueryReference();if(N){var w=T.all(),I=_.findIndex(w,x=>x.queryRef===N);if(-1===I)return!1;for(var O=0;O<I;O++)if(!_.includes(T.activeProjectionRefs,w[O].queryRef))return!1}return!0}function g(E,D){if(a.Y.assertValue(D,"schema"),E){var h=(E=(0,n.e)(E,D)).getTargetEntity();if(h){var C=o.B.getConceptualEntity(h,D),y=_.filter(C.properties,f=>f.type.temporal&&f.type.temporal.paddedDateTableDate);if(1===y.length)return(0,r.sX)(h,y[0].name)}}}},190593:function(ve,z,e){e.d(z,{ES:function(){return p},FL:function(){return g},T9:function(){return d},Zf:function(){return n},bV:function(){return s},gH:function(){return t},k3:function(){return o},oY:function(){return l},xf:function(){return r},y0:function(){return D},zS:function(){return c}});var a=e(149804),i=e(111199),r="smallMultiplesLayout",t="subheader";function o(C,y){return(C+1)*y}var d=2,n=2,c=o(d,n);function s(C){return a.sh.check(y=>({matrix:y.check(C&&C.matrix,a.t2,f=>({rows:y.check(f.rows,i.PQ,S=>({select:y.check(S.select,(0,a.Ej)(2),b=>[y.check(b[0],i.kz,V=>({composite:y.check(V.composite,(0,a.Ej)(1),M=>[y.check(M[0],i.od,a.D_)]),dataReductionAlgorithm:V.dataReductionAlgorithm})),y.check(b[1],i.kz,V=>({composite:y.check(V.composite,(0,a.Ej)(1),M=>[y.check(M[0],i.od,a.D_)]),dataReductionAlgorithm:V.dataReductionAlgorithm}))])})),columns:y.check(f.columns,i.od,a.D_),values:y.check(f.values,i.PQ,a.D_)})),metadata:C.metadata}))}function p(C){return a.sh.check(y=>({matrix:y.check(C&&C.matrix,a.t2,f=>({rows:y.check(f.rows,i.CT,S=>({select:y.check(S.select,(0,a.Ej)(2),b=>[y.check(b[0],i.Le,V=>({composite:y.check(V.composite,(0,a.Ej)(1),M=>[y.check(M[0],i.lb,a.D_)]),dataReductionAlgorithm:V.dataReductionAlgorithm})),y.check(b[1],i.Le,V=>({composite:y.check(V.composite,(0,a.Ej)(1),M=>[y.check(M[0],i.lb,a.D_)]),dataReductionAlgorithm:V.dataReductionAlgorithm}))])})),columns:y.check(f.columns,i.lb,a.D_)}))}))}function l(C){if(!_.isEmpty(C))for(var y of C)if(y.matrix&&p(y))return!0;return!1}function g(C){return C.matrix.rows.select[1].composite[0]}function D(C,y){C.matrix.rows.select[1].dataReductionAlgorithm=y}},838751:function(ve,z,e){e.d(z,{kD:function(){return o}});var a=e(18122),i=e(943509),r=e(34584),t=e(106302);function o(p){if(p&&p.matrix&&p.matrix.rows&&p.matrix.rows.root&&!_.isEmpty(p.matrix.rows.levels))return a.Y.assert(()=>_.every(p.matrix.rows.levels,l=>1===_.size(l.sources)),"Composite groups are not supported"),{levels:_.map(p.matrix.rows.levels,l=>({identityKeys:l.sources[0].identityExprs})),root:c(p.matrix.rows.root)}}function d(p,l){if(!_.isEmpty(p)){var u,v;switch(l){case i.yt.Before:var m=_.findIndex(p,E=>E&&!E.isSubtotal&&E.identity);u=p[m],v=p[m+1];break;case i.yt.After:var g=_.findLastIndex(p,E=>E&&!E.isSubtotal&&E.identity);u=p[g],v=p[g-1];break;default:a.Y.assertFail("Unexpected restart kind "+l)}if(u&&u.restartKind===l)return u;if(v&&v.restartKind===l)return v}}function n(p){return{restartValues:p.restartValues,identityValues:(0,t.BI)(p.identity.expr),windowKind:s(p.restartKind)}}function c(p){var l=[],u=d(p.children,i.yt.Before);u&&l.push(n(u));var v=d(p.children,i.yt.After);v&&l.push(n(v));var m=_.filter(p.children,g=>_.some(g.children,E=>E.identity&&!E.isSubtotal));return{identityValues:p.identity&&p.identity.expr&&(0,t.BI)(p.identity.expr),children:_.map(m,g=>c(g)),windowValues:l}}function s(p){switch(p){case i.yt.Before:return r.d9.OnOrAfter;case i.yt.After:return r.d9.OnOrBefore}a.Y.assertFail("Invalid restartKind")}},266092:function(ve,z,e){function a(r){return t=>t.get(r)}function i(r,t){return"function"==typeof r?r(t):"string"==typeof r?r:void 0}e.d(z,{D:function(){return a},M:function(){return i}})},979856:function(ve,z,e){e.d(z,{ZE:function(){return c}});var a=e(18122),i=e(744774),r=e(122707),t=e(153484),o=(()=>{class f{_ensureIncludeZero(){this.includeZero&&(this.min>0&&!this.hasFixedMin&&(this.min=0),this.max<0&&!this.hasFixedMax&&(this.max=0))}_ensureNotEmpty(){if(this.min===this.max)if(this.min){var M,b=this.min,V=(0,i.YL)(Math.abs(b));V>=0&&V<4?(M=.5,this.forcedSingleStop=b):(M=(0,i.eC)(V)/2,this.forcedSingleStop=null),this.min=b-M,this.max=b+M}else this.min=0,this.max=f.DEFAULT_MAX,this.hasFixedMin=!0,this.hasFixedMax=!0}_ensureDirection(){if(this.min>this.max){var b=this.min;this.min=this.max,this.max=b}}getSize(){return this.max-this.min}shrinkByStep(b,V){a.Y.assertValue(b,"range"),a.Y.assert(()=>V>0,"step");var M=this.min/V,P=b.min/V,T=Math.floor(P-M);this.min+=T*V,M=this.max/V,P=b.max/V,T=Math.ceil(P-M),this.max+=T*V}static calculate(b,V,M,P,T){a.Y.assert(()=>b<=V,"dataMin should be less or equal to dataMax."),a.Y.assert(()=>!M||!P||M<=P,"fixedMin should be less or equal to fixedMax.");var N=new f;return N.includeZero=!!T,N.hasDataRange=d(b)&&d(V),N.hasFixedMin=d(M),N.hasFixedMax=d(P),b=(0,i.hA)(b,f.MIN_SUPPORTED_DOUBLE,f.MAX_SUPPORTED_DOUBLE),V=(0,i.hA)(V,f.MIN_SUPPORTED_DOUBLE,f.MAX_SUPPORTED_DOUBLE),N.hasFixedMin&&N.hasFixedMax?(N.min=M,N.max=P):N.hasFixedMin?(N.min=M,N.max=V>M?V:M):N.hasFixedMax?(N.min=b<P?b:P,N.max=P):N.hasDataRange?(N.min=b,N.max=V):(N.min=0,N.max=0),N._ensureIncludeZero(),N._ensureNotEmpty(),N._ensureDirection(),0===N.min?N.hasFixedMin=!0:0===N.max&&(N.hasFixedMax=!0),N}static calculateDataRange(b,V,M){return d(b)&&d(V)?f.calculate(b,V,null,null,M):f.calculateFixedRange(0,f.DEFAULT_MAX)}static calculateFixedRange(b,V,M){a.Y.assertValue(b,"fixedMin"),a.Y.assertValue(V,"fixedMax");var P=new f;return P.hasDataRange=!1,P.includeZero=M,P.min=b,P.max=V,P._ensureIncludeZero(),P._ensureNotEmpty(),P._ensureDirection(),P.hasFixedMin=!0,P.hasFixedMax=!0,P}}return f.DEFAULT_MAX=10,f.MIN_SUPPORTED_DOUBLE=-1e307,f.MAX_SUPPORTED_DOUBLE=1e307,f})();function d(f){return null!=f}var n=(()=>{class f{static calculate(b,V,M,P,T,N){a.Y.assertValue(b,"range"),a.Y.assert(()=>void 0===V||V>=f.MIN_COUNT&&V<=f.MAX_COUNT,"expectedCount"),a.Y.assert(()=>void 0===P||P>=i.h1&&P<=i.tk,"minPower"),a.Y.assert(()=>void 0===M||M>=0,"maxAllowedMargin");var w=new f;if(V=void 0===V?10:(0,i.hA)(V,f.MIN_COUNT,f.MAX_COUNT),void 0===P&&(P=i.h1),void 0===T&&(T=!1),void 0===M&&(M=1),void 0===N&&(N=[1,2,5]),b.forcedSingleStop)return w.interval=b.getSize(),w.intervalOffset=w.interval-(b.forcedSingleStop-b.min),w.min=b.min,w.max=b.max,w.sequence=[b.forcedSingleStop],w;var W,I=0,O=0,x=9,j=M>0&&!b.hasFixedMin,U=M>0&&!b.hasFixedMax,F=b.getSize(),R=(0,i.YL)(F),B=(0,i.YL)(N[0]);if(R-=B,R-=(0,i.YL)(V),R=Math.max(R,P-B+1),0!==I){var G=(0,i.eC)(R),K=(0,i.iW)(b.min,G),q=(0,i.Xm)(b.max,G),ne=o.calculateFixedRange(K,q);ne.shrinkByStep(b,I),O=ne.min,x=ne.max,W=Math.floor(ne.getSize()/I)}else{var k;for(k=0;k<3;k++){for(var L=R+k,X=(0,i.eC)(L),Y=(0,i.iW)(b.min,X),Q=(0,i.Xm)(b.max,X),H=N.length,te=(0,i.eC)(L-1),ee=0;ee<H;ee++){var ue=N[ee]*te,Te=o.calculateFixedRange(Y,Q,T);if(Te.shrinkByStep(b,ue),j&&b.min===Te.min&&M>=1&&(Te.min-=ue),U&&b.max===Te.max&&M>=1&&(Te.max+=ue),(W=(0,i.w1)(Te.getSize()/ue,i.Vi))<=V||2===k&&ee===H-1||1===V&&2===W&&(ue>b.getSize()||b.min<0&&b.max>0&&2*ue>=b.getSize())){I=ue,O=Te.min,x=Te.max;break}}if(0!==I)break}}(W>32*V||W>f.MAX_COUNT)&&(I=(x-O)/(W=Math.min(32*V,f.MAX_COUNT))),w.min=O,w.max=x,w.interval=I,w.intervalOffset=O-b.min,w.maxAllowedMargin=M,w.canExtendMin=j,w.canExtendMax=U;var He=(0,i.XV)(I,0);w.precision=He;var We=[],ft=(0,i.CR)(O,He);We.push(ft);for(var mt=0;mt<W;mt++)ft=(0,i.CR)(ft+I,He),We.push(ft);return w.sequence=We,w.trimMinMax(b.min,b.max),w}static calculateUnits(b,V,M,P){M=(0,i.hA)(M,f.MIN_COUNT,f.MAX_COUNT),b===V&&(V=b+1);var N=0;for(N of P)if((0,i.w1)(V/N)-(0,i.pp)(b/N)<=M)break;var O=-b;O%=N;var x=new f;x.sequence=[];for(var j=b+O;x.sequence.push(j),!(j>=V);j+=N);return x.interval=N,x.intervalOffset=O,x.min=x.sequence[0],x.max=x.sequence[x.sequence.length-1],x}trimMinMax(b,V){var M=(b-this.min)/this.interval,P=(this.max-V)/this.interval;(!this.canExtendMin||M>this.maxAllowedMargin&&M>.001)&&(this.min=b),(!this.canExtendMax||P>this.maxAllowedMargin&&P>.001)&&(this.max=V)}}return f.MIN_COUNT=1,f.MAX_COUNT=1e3,f})(),c=(()=>{class f{constructor(b){this.unit=b,this.sequence=[],this.min=new Date("9999-12-31T23:59:59.999Z"),this.max=new Date("0001-01-01T00:00:00.000Z")}add(b){b<this.min&&(this.min=b),b>this.max&&(this.max=b),this.sequence.push(b)}moveToCover(b,V){var M=f.getDelta(b,V,this.unit),P=Math.floor(M/this.interval);for(this.min=f.addInterval(this.min,P*this.interval,this.unit),this.sequence=[],this.sequence.push(this.min),this.max=this.min;this.max<V;)this.max=f.addInterval(this.max,this.interval,this.unit),this.sequence.push(this.max)}static calculate(b,V,M,P){switch(P||(P=f.getIntervalUnit(b,V,M)),P){case r.k.Year:return f.calculateYears(b,V,M);case r.k.Month:return f.calculateMonths(b,V,M);case r.k.Week:return f.calculateWeeks(b,V,M);case r.k.Day:return f.calculateDays(b,V,M);case r.k.Hour:return f.calculateHours(b,V,M);case r.k.Minute:return f.calculateMinutes(b,V,M);case r.k.Second:return f.calculateSeconds(b,V,M);case r.k.Millisecond:return f.calculateMilliseconds(b,V,M);default:a.Y.assertFail("Unsupported DateTimeUnit")}}static calculateYears(b,V,M){a.Y.assertValue(b,"dataMin"),a.Y.assertValue(V,"dataMax"),a.Y.assert(()=>!M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"Expected count is out of range");var P=o.calculateDataRange(b.getFullYear(),V.getFullYear(),!1),T=n.calculate(o.calculate(0,P.max-P.min),M,0,null,null,[1,2,5]),N=Math.floor(P.min/T.interval)*T.interval,w=t.tw.fromDateParts(N,0,1);return f.fromNumericSequence(w,T,r.k.Year)}static calculateMonths(b,V,M){a.Y.assertValue(b,"dataMin"),a.Y.assertValue(V,"dataMax"),a.Y.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var P=b.getFullYear(),T=V.getFullYear(),N=b.getMonth(),w=12*(T-P)+V.getMonth(),I=t.tw.fromDateParts(P,0,1),O=n.calculateUnits(N,w,M,[1,2,3,6,12]);return f.fromNumericSequence(I,O,r.k.Month)}static calculateWeeks(b,V,M){a.Y.assertValue(b,"dataMin"),a.Y.assertValue(V,"dataMax"),a.Y.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var N=(b.getDay()-0+7)%7,w=b.getDate()-N,I=t.tw.fromDateParts(b.getFullYear(),b.getMonth(),w),x=(0,i.w1)(f.getDelta(I,V,r.k.Week)),j=n.calculateUnits(0,x,M,[1,2,4,8]);return f.fromNumericSequence(I,j,r.k.Week)}static calculateDays(b,V,M){a.Y.assertValue(b,"dataMin"),a.Y.assertValue(V,"dataMax"),a.Y.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var P=t.tw.fromDateParts(b.getFullYear(),b.getMonth(),b.getDate()),N=(0,i.w1)(f.getDelta(b,V,r.k.Day)),w=n.calculateUnits(0,N,M,[1,2,7,14]);return f.fromNumericSequence(P,w,r.k.Day)}static calculateHours(b,V,M){a.Y.assertValue(b,"dataMin"),a.Y.assertValue(V,"dataMax"),a.Y.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var P=t.tw.fromDateParts(b.getFullYear(),b.getMonth(),b.getDate()),T=(0,i.pp)(f.getDelta(P,b,r.k.Hour)),N=(0,i.w1)(f.getDelta(P,V,r.k.Hour)),w=n.calculateUnits(T,N,M,[1,2,3,6,12,24]);return f.fromNumericSequence(P,w,r.k.Hour)}static calculateMinutes(b,V,M){a.Y.assertValue(b,"dataMin"),a.Y.assertValue(V,"dataMax"),a.Y.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var P=t.tw.fromDateParts(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours()),T=(0,i.pp)(f.getDelta(P,b,r.k.Minute)),N=(0,i.w1)(f.getDelta(P,V,r.k.Minute)),w=n.calculateUnits(T,N,M,[1,2,5,10,15,30,60,120,180,360,720,1440]);return f.fromNumericSequence(P,w,r.k.Minute)}static calculateSeconds(b,V,M){a.Y.assertValue(b,"dataMin"),a.Y.assertValue(V,"dataMax"),a.Y.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var P=t.tw.fromDateParts(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes()),T=(0,i.pp)(f.getDelta(P,b,r.k.Second)),N=(0,i.w1)(f.getDelta(P,V,r.k.Second)),w=n.calculateUnits(T,N,M,[1,2,5,10,15,30,60,120,300,600,900,1800,3600]);return f.fromNumericSequence(P,w,r.k.Second)}static calculateMilliseconds(b,V,M){a.Y.assertValue(b,"dataMin"),a.Y.assertValue(V,"dataMax"),a.Y.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var P=t.tw.fromDateParts(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds()),T=f.getDelta(P,b,r.k.Millisecond),N=f.getDelta(P,V,r.k.Millisecond),w=n.calculate(o.calculate(T,N),M,0);return f.fromNumericSequence(P,w,r.k.Millisecond)}static addInterval(b,V,M){switch(V=Math.round(V),M){case r.k.Year:return function(f,S){var b=f.getFullYear(),V=f.getMonth(),M=f.getDate(),P=2===V&&29===M,T=t.tw.fromTimeValue(f.getTime());return b+=S,P&&!l(b)&&(M=28),T.setUTCFullYear(b,V,M),T}(b,V);case r.k.Month:return function(f,S){var b=f.getFullYear(),V=f.getMonth(),M=f.getDate(),P=t.tw.fromTimeValue(f.getTime());return b+=(S-S%12)/12,(V+=S%12)>11&&(V%=12,b++),M=Math.min(M,function(f,S){return l(f)?p[S]:s[S]}(b,V)),P.setUTCFullYear(b,V,M),P}(b,V);case r.k.Week:return function(f,S){return E(f,7*S)}(b,V);case r.k.Day:return E(b,V);case r.k.Hour:return function(f,S){return t.tw.fromTimeValue(f.getTime()+36e5*S)}(b,V);case r.k.Minute:return function(f,S){return t.tw.fromTimeValue(f.getTime()+6e4*S)}(b,V);case r.k.Second:return function(f,S){return t.tw.fromTimeValue(f.getTime()+1e3*S)}(b,V);case r.k.Millisecond:return function(f,S){return t.tw.fromTimeValue(f.getTime()+S)}(b,V)}}static fromNumericSequence(b,V,M){var P=new f(M);for(var T of V.sequence){var N=f.addInterval(b,T,M);P.add(N)}return P.interval=V.interval,P.intervalOffset=V.intervalOffset,P}static getDelta(b,V,M){var P=0;switch(M){case r.k.Year:P=V.getFullYear()-b.getFullYear();break;case r.k.Month:P=12*(V.getFullYear()-b.getFullYear())+V.getMonth()-b.getMonth();break;case r.k.Week:P=(V.getTime()-b.getTime())/6048e5;break;case r.k.Day:P=(V.getTime()-b.getTime())/864e5;break;case r.k.Hour:P=(V.getTime()-b.getTime())/36e5;break;case r.k.Minute:P=(V.getTime()-b.getTime())/6e4;break;case r.k.Second:P=(V.getTime()-b.getTime())/1e3;break;case r.k.Millisecond:P=V.getTime()-b.getTime()}return P}static getIntervalUnit(b,V,M){M=Math.max(M,2);var P=f.getDelta(b,V,r.k.Day);if(P>356&&P>=180*M)return r.k.Year;if(P>58&&P>7*M)return r.k.Month;if(P>14&&P>2*M)return r.k.Week;var T=f.getDelta(b,V,r.k.Hour);if(P>2&&T>12*M)return r.k.Day;if(T>=24&&T>=M)return r.k.Hour;var N=f.getDelta(b,V,r.k.Minute);if(N>2&&N>=M)return r.k.Minute;var w=f.getDelta(b,V,r.k.Second);if(w>2&&w>=.8*M)return r.k.Second;if(f.getDelta(b,V,r.k.Millisecond)>0)return r.k.Millisecond;var O=b;return 0!==O.getMilliseconds()?r.k.Millisecond:0!==O.getSeconds()?r.k.Second:0!==O.getMinutes()?r.k.Minute:0!==O.getHours()?r.k.Hour:1!==O.getDate()?r.k.Day:0!==O.getMonth()?r.k.Month:r.k.Year}}return f.MIN_COUNT=1,f.MAX_COUNT=1e3,f})(),s=[31,28,31,30,31,30,31,31,30,31,30,31],p=[31,29,31,30,31,30,31,31,30,31,30,31];function l(f){return f%4==0&&f%100!=0||f%400==0}function E(f,S){var b=f.getFullYear(),V=f.getMonth(),M=f.getDate(),P=t.tw.fromTimeValue(f.getTime());return P.setUTCFullYear(b,V,M+S),P}},73113:function(ve,z,e){e.d(z,{XQ:function(){return g},b4:function(){return E},hQ:function(){return u},kX:function(){return D},ny:function(){return h}});var a=e(18122),i=e(744774),r=e(153484),t=e(361582),d=1e15,n=1e-4,l=/^([0\#,]*\.[0\#]+|[0\#,]+|g)$/i,u=function(f){return f[f.Custom=-1]="Custom",f[f.Auto=0]="Auto",f[f.None=1]="None",f}({});class v{project(S){return this.value?(0,i.c4)(S/this.value):S}isApplicableTo(S){S=Math.abs(S);var b=(0,i.XV)(S,3);return(0,i.Id)(S,this.applicableRangeMin,b)&&(0,i.Yt)(S,this.applicableRangeMax,b)}isScaling(){return this.value>1}}var m=(()=>{class f{constructor(b){this.units=b||[]}getUnits(b=!1){var V=_.clone(this.units);return b&&_.remove(V,M=>M.value===u.Auto),V}get title(){return this.displayUnit?this.displayUnit.title:void 0}update(b){void 0!==b&&(this.displayUnit=this.findApplicableDisplayUnit(b))}findApplicableDisplayUnit(b){for(var V of this.units)if(V.isApplicableTo(b))return V}format(b,V,M,P){a.Y.assert(()=>"number"==typeof b,"value must be a number"),M=this.getNumberOfDecimalsForFormatting(M);var T="";return this.isFormatSupported(V)&&!this.hasScientificFormat(V)&&this.isScalingUnit()&&this.shouldRespectScalingUnit()&&(b=this.displayUnit.project(b),T=this.displayUnit.labelFormat),this.formatHelper(b,T,V,M,P)}isFormatSupported(b){return!f.UNSUPPORTED_FORMATS.test(b)}isPercentageFormat(b){return b&&b.indexOf("%")>=0}shouldRespectScalingUnit(){return!0}getNumberOfDecimalsForFormatting(b){return b}isScalingUnit(){return this.displayUnit&&this.displayUnit.isScaling()}formatHelper(b,V,M,P,T){if(("g"===M||"G"===M)&&null!=P&&(M=t.IC),(M=(0,r.Cr)(M,P,T))&&!r.r9.isStandardNumberFormat(M))return r.r9.formatNumberWithCustomOverride(b,M,V);M||(M="G"),V||(V="{0}");var N=r.r9.formatValue(b,M);return r.r9.format(V,[N])}formatSingleValue(b,V,M,P){return this.update(this.shouldUseValuePrecision(b)?(0,i.XV)(b,8):b),this.format(b,V,M,P)}shouldUseValuePrecision(b){if(0===this.units.length)return!0;var V=0;for(var M of this.units)if(M.isScaling()){V=M.applicableRangeMin;break}return Math.abs(b)<V}isScientific(b){return b<-d||b>d||-n<b&&b<n&&0!==b}hasScientificFormat(b){return b&&(-1!==b.toUpperCase().indexOf("E+")||-1!==b.toUpperCase().indexOf("E-"))}supportsScientificFormat(b){return!b||l.test(b)}shouldFallbackToScientific(b,V){return!this.hasScientificFormat(V)&&this.supportsScientificFormat(V)&&this.isScientific(b)}getScientificFormat(b,V,M,P){if(this.isFormatSupported(V)&&this.shouldFallbackToScientific(b,V)){var T=(0,r.zd)(b,V);return M&&(T=(0,r.Cr)(T||"0",Math.abs(M),P)),T?T+"E+0":"0.##E+0"}return V}}return f.UNSUPPORTED_FORMATS=/^(p\d*)|(e\d*)$/i,f})();class g extends m{constructor(){super([])}}class E extends m{constructor(S){super(E.getUnits(S))}format(S,b,V,M){return b=this.getScientificFormat(S,b,V,M),super.format(S,b,V,M)}static reset(){E.units=null}static getUnits(S){return E.units||(E.units=C(S,(b,V,M)=>b-V>=1e3?b/10:M),E.units.length>=1&&(E.units[E.units.length-1].applicableRangeMax=1/0)),E.units}}class D extends m{constructor(S){super(D.getUnits(S))}static reset(){D.units=null}static getUnits(S){return D.units||(D.units=C(S),D.units.length>=1&&(D.units[D.units.length-1].applicableRangeMax=1/0)),D.units}format(S,b,V,M){return b=this.getScientificFormat(S,b,V,M),super.format(S,b,V,M)}}var h=(()=>{class f extends m{constructor(b){super(f.getUnits(b))}isFormatSupported(b){return!f.UNSUPPORTED_FORMATS.test(b)}static getUnits(b){if(!f.units){var V=[],M=(T,N,w)=>-1===T&&T-N>=1e3?T/10:w,P=b(-1);y(V,u.Auto,P.title,P.format,M),P=b(0),y(V,u.None,P.title,P.format,M),f.units=V.concat(C(b,M)),f.units.length>=1&&(f.units[f.units.length-1].applicableRangeMax=1/0)}return f.units}format(b,V,M,P){return V=this.getScientificFormat(b,V,M,P),super.format(b,V,M,P)}}return f.UNSUPPORTED_FORMATS=/^(e\d*)$/i,f})();function C(f,S){for(var b=[],V=3;V<24;V++){var M=f(V);M&&y(b,(0,i.eC)(V),M.title,M.format,S)}return b}function y(f,S,b,V,M){if(b||V){var P=S;if(f.length>0){var T=f[f.length-1];M&&(P=M(S,T.value,P)),T.applicableRangeMax=P}var N=new v;N.value=S,N.applicableRangeMin=P,N.applicableRangeMax=1e3*P,N.title=b,N.labelFormat=V,f.push(N)}}},359317:function(ve,z,e){e.d(z,{Bn:function(){return t},VR:function(){return o},Z7:function(){return d},q1:function(){return s},ul:function(){return n}});var a=e(81825),i=e(18122),r=e(153484),t=function(p){return p[p.Last=0]="Last",p[p.Current=1]="Current",p[p.Next=2]="Next",p}({}),o=function(p){return p[p.Second=0]="Second",p[p.Minute=1]="Minute",p[p.Hour=2]="Hour",p[p.Day=3]="Day",p[p.Week=4]="Week",p[p.CalendarWeek=5]="CalendarWeek",p[p.Month=6]="Month",p[p.CalendarMonth=7]="CalendarMonth",p[p.Year=8]="Year",p[p.CalendarYear=9]="CalendarYear",p}({}),d=function(p){return p[p.Unsupported=0]="Unsupported",p[p.Time=1]="Time",p[p.Date=2]="Date",p}({});function n(p){switch(p){case o.Minute:case o.Hour:return!0;default:return!1}}class s{static convertRelativeDateUnitToRelativeFilterType(l){switch(l){case o.Second:case o.Minute:case o.Hour:return d.Time;case o.Day:case o.Week:case o.CalendarWeek:case o.Month:case o.CalendarMonth:case o.Year:case o.CalendarYear:return d.Date;default:return void i.Y.assertNever(l)}}static convertTimeUnitToRelativeFilterType(l){switch(l){case a.yr.Second:return d.Unsupported;case a.yr.Minute:case a.yr.Hour:return d.Time;case a.yr.Day:case a.yr.Week:case a.yr.Month:case a.yr.Year:case a.yr.Decade:return d.Date;default:return void i.Y.assertNever(l)}}static getDateRange(l,u){switch(u.relativeUnit){case o.Minute:return this.getMinutesRange(l,u);case o.Hour:return this.getHoursRange(l,u);case o.Day:return this.getDaysRange(l,u);case o.Week:return this.getWeeksRange(l,u);case o.CalendarWeek:return this.getCalendarWeekRange(l,u);case o.Month:return this.getMonthRange(l,u);case o.CalendarMonth:return this.getCalendarMonthRange(l,u);case o.Year:return this.getYearRange(l,u);case o.CalendarYear:return this.getCalendarYearRange(l,u);default:return void i.Y.assertFail("Unexpected RelativeDateUnit: "+u.relativeUnit)}}static getMinutesRange(l,u){var v={min:null,max:null};switch(u.relativeQualifier){case t.Last:v.min=new Date(l.valueOf()-6e4*u.duration),v.max=l;break;case t.Current:v.min=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),l.getUTCHours(),l.getUTCMinutes(),0)),v.max=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),l.getUTCHours(),l.getUTCMinutes(),59));break;case t.Next:v.min=l,v.max=new Date(l.valueOf()+6e4*u.duration)}return v}static getHoursRange(l,u){var v={min:null,max:null},m=36e5;switch(u.relativeQualifier){case t.Last:v.min=new Date(l.valueOf()-u.duration*m),v.max=l;break;case t.Current:v.min=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),l.getUTCHours(),0,0)),v.max=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),l.getUTCHours(),59,59));break;case t.Next:v.min=l,v.max=new Date(l.valueOf()+u.duration*m)}return v}static getDaysRange(l,u){var v={min:null,max:null};switch(u.relativeQualifier){case t.Last:v.max=u.includeToday?l:this.addDays(l,-1),v.min=this.addDays(v.max,1-u.duration);break;case t.Current:v.min=l,v.max=l;break;case t.Next:v.min=u.includeToday?l:this.addDays(l,1),v.max=this.addDays(v.min,u.duration-1)}return v}static getWeeksRange(l,u){var v={min:null,max:null};switch(u.relativeQualifier){case t.Last:v.max=u.includeToday?l:this.addDays(l,-1),v.min=this.addDays(v.max,-7*u.duration+1);break;case t.Current:v=this.getCalendarWeek(l);break;case t.Next:v.min=u.includeToday?l:this.addDays(l,1),v.max=this.addDays(v.min,7*u.duration-1)}return v}static getCalendarWeekRange(l,u){var v={min:null,max:null},m=l.getUTCDay();switch(u.relativeQualifier){case t.Last:var g=this.addDays(l,-m-1);v.min=this.addDays(g,-7*u.duration+1),v.max=g;break;case t.Current:v=this.getCalendarWeek(l);break;case t.Next:var E=this.addDays(l,7-m);v.min=E,v.max=this.addDays(E,7*u.duration-1)}return v}static getMonthRange(l,u){var v={min:null,max:null};switch(u.relativeQualifier){case t.Last:v.max=u.includeToday?l:this.addDays(l,-1),v.min=this.addMonths(v.max,-u.duration);break;case t.Current:v=this.getCalendarMonth(l);break;case t.Next:v.min=u.includeToday?l:this.addDays(l,1),v.max=this.addMonths(v.min,u.duration)}return v}static getCalendarMonthRange(l,u){var v={min:null,max:null};switch(u.relativeQualifier){case t.Last:v.min=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth()-u.duration,1)),v.max=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),0));break;case t.Current:v=this.getCalendarMonth(l);break;case t.Next:v.min=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth()+1,1)),v.max=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth()+1+u.duration,0))}return v}static getYearRange(l,u){var v={min:null,max:null};switch(u.relativeQualifier){case t.Last:v.max=u.includeToday?l:this.addDays(l,-1),v.min=this.addYears(v.max,-u.duration);break;case t.Current:v=this.getCalendarYear(l);break;case t.Next:v.min=u.includeToday?l:this.addDays(l,1),v.max=this.addYears(v.min,u.duration)}return v}static getCalendarYearRange(l,u){var v={min:null,max:null};switch(u.relativeQualifier){case t.Last:v.min=new Date(Date.UTC(l.getUTCFullYear()-u.duration,0,1)),v.max=new Date(Date.UTC(l.getUTCFullYear()-1,11,31));break;case t.Current:v=this.getCalendarYear(l);break;case t.Next:v.min=new Date(Date.UTC(l.getUTCFullYear()+1,0,1)),v.max=new Date(Date.UTC(l.getUTCFullYear()+u.duration,11,31))}return v}static getTimeRangeRestatement(l,u,v,m){return u?this.getDetailedTimeRestatement(v):this.getSimplifiedTimeRestatement(l,m)}static getDetailedTimeRestatement(l){return Math.abs(l.max.valueOf()-l.min.valueOf())/864e5>1||l.max.getUTCDate()!==l.min.getUTCDate()?r.r9.format("{0} - {1}",[l.min,l.max]):r.r9.format("{0:T} - {1:T}",[l.min,l.max])}static getSimplifiedTimeRestatement(l,u){switch(l.relativeQualifier){case t.Current:switch(l.relativeUnit){case o.Minute:return u("RelativeTimeRestatement_this_Minute");case o.Hour:return u("RelativeTimeRestatement_this_Hour");default:i.Y.assertFail(`The following relative unit is not a relative time unit: ${l.relativeUnit}`)}break;case t.Last:switch(l.relativeUnit){case o.Minute:return 1===l.duration?u("RelativeTimeRestatement_last_Minute"):u("RelativeTimeRestatement_last_Minutes",l.duration);case o.Hour:return 1===l.duration?u("RelativeTimeRestatement_last_Hour"):u("RelativeTimeRestatement_last_Hours",l.duration);default:i.Y.assertFail(`The following relative unit is not a relative time unit: ${l.relativeUnit}`)}break;case t.Next:switch(l.relativeUnit){case o.Minute:return 1===l.duration?u("RelativeTimeRestatement_next_Minute"):u("RelativeTimeRestatement_next_Minutes",l.duration);case o.Hour:return 1===l.duration?u("RelativeTimeRestatement_next_Hour"):u("RelativeTimeRestatement_next_Hours",l.duration);default:i.Y.assertFail(`The following relative unit is not a relative time unit: ${l.relativeUnit}`)}break;default:i.Y.assertFail(`The following is an Unsupported relativeQualifer: ${l.relativeQualifier}`)}return""}static getDateRangeRestatement(l){return r.r9.format("{0:d} - {1:d}",[l.min,l.max])}static getRestatement(l,u,v,m){var g;if(n(l.relativeUnit)?(i.Y.assert(()=>!!m,"For Relative time restatement, anchor time should be defined"),g=m||new Date):g=new Date,l.anchorDate&&!n(l.relativeUnit)){var E=l.anchorDate;g=new Date(Date.UTC(E.getFullYear(),E.getMonth(),E.getDate(),E.getHours(),E.getMinutes(),E.getSeconds(),E.getMilliseconds()))}var D=this.getDateRange(g,l);return D.min.epochTimeStamp=D.min.getTime(),D.max.epochTimeStamp=D.max.getTime(),n(l.relativeUnit)?this.getTimeRangeRestatement(l,u,D,v):s.getDateRangeRestatement(D)}static addMinutes(l,u){return new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes()+u,l.getSeconds())}static addHours(l,u){return new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours()+u,l.getMinutes(),l.getSeconds())}static addDays(l,u){return new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()+u))}static addMonths(l,u){if(0===u)return l;var g=l.getUTCDate()-(u>0?1:-1),E=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth()+u,g)),D=E.getUTCDate();if(g>0)if(D!==g&&u>0)E=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth()+u+1,0));else if(u<0){var h=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),g));(D!==g||h.getUTCMonth()!==l.getUTCMonth())&&(E=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth()+u+1,1)))}return E}static addYears(l,u){return this.addMonths(l,12*u)}static getDurationMax(l,u){if(l===t.Current)return 1;switch(u){case o.Year:case o.CalendarYear:return 100;case o.Month:case o.CalendarMonth:case o.CalendarWeek:case o.Week:return 1e3;default:return 1e4}}static getCalendarWeek(l){var u=l.getUTCDay(),v=this.addDays(l,-u);return{min:v,max:this.addDays(v,6)}}static getCalendarMonth(l){return{min:new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),1)),max:new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth()+1,0))}}static getCalendarYear(l){return{min:new Date(Date.UTC(l.getUTCFullYear(),0,1)),max:new Date(Date.UTC(l.getUTCFullYear(),11,31))}}}},358719:function(ve,z,e){e.d(z,{$4:function(){return G},Bq:function(){return F},GP:function(){return N},T2:function(){return I},W9:function(){return x},ZM:function(){return D},_s:function(){return w},be:function(){return K},eH:function(){return O},gQ:function(){return R},i8:function(){return P},jp:function(){return B},lg:function(){return V},lw:function(){return m},n1:function(){return k},p9:function(){return A},rL:function(){return M},vt:function(){return T},z$:function(){return g}});var a=e(293444),i=e(18122),r=e(744774),t=e(223431),o=e(989417),d=e(288808),n=e(816030),c=e(153484),s=e(337965),p=e(979856),l=e(73113),u=e(361582);function m(L){g||(t.Cn.information("allowFormatBeautification used",void 0,{key:L}),g=!0)}var g=!1;function D(L){return u.Xg[L]}var h={null:u.Xg.NullValue,true:u.Xg.BooleanTrue,false:u.Xg.BooleanFalse,NaN:u.Xg.NaNValue,infinity:u.Xg.InfinityValue,negativeInfinity:u.Xg.NegativeInfinityValue,beautify:L=>function(L){var X=u.UC[L];return X?(m(X),u.Xg[X]||L):L}(L),describe:L=>function(L){var X=-1===L?"Auto":L.toString(),H=u.Xg["DisplayUnitSystem_E"+X+"_Title"],te=L<=0?"{0}":u.Xg["DisplayUnitSystem_E"+X+"_LabelFormat"];if(H||te)return{title:H,format:te}}(L),restatementComma:u.Xg.RestatementComma,restatementCompoundAnd:u.Xg.RestatementCompoundAnd,restatementCompoundOr:u.Xg.RestatementCompoundOr},C=2,y=1e3,f=1e4,S=2,b={displayName:"",type:s.eV.fromPrimitiveTypeAndCategory(a.W.DateTime)};function V(L){return(0,c.s6)(L)}function M(L){i.Y.assertValue(L,"options"),h=L,l.b4.reset(),l.kX.reset()}function P(L,X=!1){var Y=X?h.beautify(L):L;return{format:function(Q){return null==Q?h.null:q(Q,Y)}}}function T(L){i.Y.assertValue(L,"options");var X=L.allowFormatBeautification?h.beautify(L.format):L.format;if(function(L){var X=L.value,Y=L.value2,Q=L.format,H=L.columnType;if(L.formatSingleValues&&Q&&Math.abs(X)<f)if((0,c.rW)(Q)){if((0,r.Fq)(X))return!1}else if((0,c.s6)(Q,!0).precision<S)return!1;if("number"==typeof X||"number"==typeof Y)return!(H&&H.temporal&&H.temporal.year)}(L)){var Y=O(L.displayUnitSystemType),Q=!!L.formatSingleValues;Y.update(Math.max(Math.abs(L.value||0),Math.abs(L.value2||0)));var te,H=null!=L.precision;return H?te=-L.precision:Y.displayUnit&&Y.displayUnit.value>1&&(te=-C),{format:function(ue){var Te=ne(ue,!0);if(!(0,o.M)(Te))return Te;var He=Number(ue);return He&&!Y.isScalingUnit()&&Math.abs(He)<y&&!H&&(ue=(0,r.CR)(He)),Q?Y.formatSingleValue(He,X,te,H):Y.format(He,X,te,H)},displayUnit:Y.displayUnit,options:L}}if(function(L,X,Y){return L instanceof Date&&X instanceof Date&&null!=Y}(L.value,L.value2,L.tickCount)){var ee=p.ZE.getIntervalUnit(L.value,L.value2,L.tickCount);return{format:function(ue){return null==ue?h.null:q(ue,c.r9.dateFormatString(ee))},options:L}}return P(X)}function N(L,X,Y){return null==L?h.null:q(L,Y?h.beautify(X):X)}function w(L,X,Y,Q,H){return!(Y&&Y.type&&Y.type.dateTime)&&L instanceof Date?q(L,F(b,null,!1),H):q(L,A(X,Y,Q),H)}class I{constructor(X){i.Y.assertValue(X,"createVariantMeasureFormatter - options"),i.Y.assertValue(X.column,"createVariantMeasureFormatter - options.column"),i.Y.assertValue(X.formatStringPropId,"createVariantMeasureFormatter - options.formatStringPropId"),this.options=X,this.columnFormatString=F(X.column,X.formatStringPropId,!1),this.isDateTimeColumn=X.column&&X.column.type&&X.column.type.dateTime,(null!=X.displayUnit&&1!==X.displayUnit||null!=X.precision)&&(this.displayUnitSystem=O(X.displayUnitSystemType),this.displayUnitSystem.update(X.displayUnit))}setDisplayUnitSystem(X,Y){null==X&&null==Y?this.displayUnitSystem=void 0:(this.displayUnitSystem=O(Y),this.displayUnitSystem.update(X))}format(X,Y){var Q=this.options;if(!this.isDateTimeColumn&&X instanceof Date)return q(X,F(b,null,!1),Q.nullsAreBlank);var te=this.columnFormatString;if(Y){var ee=(0,n._W)(Y,Q.formatStringPropId);null!=ee&&(te=ee)}if(this.displayUnitSystem&&"number"==typeof X&&null!=X){var ue=Q.precision;return Q.defaultPrecisionForScaledValues&&null==(ue=B(ue,te))&&Q.displayUnit>1&&(ue=C),Q.formatSingleValues?this.displayUnitSystem.formatSingleValue(X,te,ue,Q.trailingZeroes):this.displayUnitSystem.format(X,te,ue,Q.trailingZeroes)}return q(X,te,Q.nullsAreBlank)}}function O(L){if(null==L)return new l.b4(h.describe);switch(L){case d.I.Default:return new l.b4(h.describe);case d.I.WholeUnits:return new l.kX(h.describe);case d.I.Verbose:return new l.XQ;case d.I.DataLabels:return new l.ny(h.describe);default:return i.Y.assertFail("Unknown display unit system type"),new l.b4(h.describe)}}function x(L=!1){return new l.ny(h.describe).getUnits(L)}function F(L,X,Y){if(L){if(X){var Q=(0,n._W)(L.objects,X);if(Q)return Q}if(!Y&&L.type)return R(L.type)}}function R(L){return i.Y.assertValue(L,"type must be defined"),L.dateTime?u.Hx:L.integer?L.temporal&&L.temporal.year?"0":u.fI:L.numeric?u.IC:void 0}function B(L,X){if(i.Y.assertAnyValue(X,"format"),void 0!==L)return L;if("g"!==X&&"G"!==X){if(X){var Y=(0,c.Py)(X).positive,Q=(0,c.s6)(Y,!0);if(Q.hasDots)return Q.optionalPrecision?void 0:Q.precision}return 0}}function A(L,X,Y,Q){return(0,n._W)(L,Y)||F(X,Y,Q)}function W(L,X){var Y;if(!L)return null;var Q=L.length;if(Q>0){Y=L[0];for(var H=Q-1,te=1,ee=H;te<ee;te++)Y=(0,o.G)(h.restatementComma,Y,L[te]);Q>1&&(Y=(0,o.G)(X,Y,L[H]))}else Y=null;return Y}function G(L){return W(L,h.restatementCompoundAnd)}function K(L){return W(L,h.restatementCompoundOr)}function q(L,X,Y){var Q=ne(L,Y||!1);return(0,o.M)(Q)?c.r9.formatValue(L,X):Q}function ne(L,X){return null==L&&X?h.null:!0===L?h.true:!1===L?h.false:"number"==typeof L&&isNaN(L)?h.NaN:L===Number.NEGATIVE_INFINITY?h.negativeInfinity:L===Number.POSITIVE_INFINITY?h.infinity:""}function k(L){return L?.displayUnit?.isScaling()}},361582:function(ve,z,e){e.d(z,{Hx:function(){return r},IC:function(){return i},UC:function(){return o},Xg:function(){return t},fI:function(){return a}});var a="g",i="#,0.00",r="d",t={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",RestatementComma:"{0}, {1}",RestatementCompoundAnd:"{0} and {1}",RestatementCompoundOr:"{0} or {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"},o={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"}},122707:function(ve,z,e){e.d(z,{k:function(){return a}});var a=function(i){return i[i.Year=0]="Year",i[i.Month=1]="Month",i[i.Week=2]="Week",i[i.Day=3]="Day",i[i.Hour=4]="Hour",i[i.Minute=5]="Minute",i[i.Second=6]="Second",i[i.Millisecond=7]="Millisecond",i}({})},146066:function(ve,z,e){e.d(z,{BX:function(){return s},Jn:function(){return r},WE:function(){return p}});var a=e(18122),i=e(249378);function r(D,h){if(D.matrix||a.Y.assert(()=>(0,i.ym)(D.metadata,h.metadata),"Cannot merge data views with different metadata columns"),h.metadata.segment?D.metadata.segment=h.metadata.segment:delete D.metadata.segment,D.table&&h.table&&function(D,h){if(a.Y.assertValue(D,"source"),a.Y.assertValue(h,"segment"),!_.isEmpty(h.rows)){var C=h.lastMergeIndex+1;d(D.rows,h.rows,C),a.Y.assert(()=>!D.identity==!h.identity,"The existence of identity in the new segment is different than the source"),h.identity&&d(D.identity,h.identity,C)}}(D.table,h.table),D.categorical&&h.categorical&&function(D,h){if(a.Y.assertValue(D,"source"),a.Y.assertValue(h,"segment"),a.Y.assert(()=>_.size(D.categories)===_.size(h.categories),"pre-condition: source categories and segment categories should have the same length"),a.Y.assert(()=>_.every(D.categories,P=>D.categories[0].identity===P.identity),"pre-condition: the identity property of all category columns are expected to be the same array object"),!_.isEmpty(D.categories)&&!_.isEmpty(h.categories)){for(var C=h.lastMergeIndex+1,y=h.categories.length,f=function(){var P=h.categories[S],T=D.categories[S];a.Y.assert(()=>(0,i.dL)(T.source,P.source),"Source and segment category have different sources."),a.Y.assert(()=>void 0!==T.values||void 0===T.identity,"Source category is missing values but has identities."),P.values&&d(T.values,P.values,C)},S=0;S<y;S++)f();h.categories[0].identity&&d(D.categories[0].identity,h.categories[0].identity,C)}if(D.values&&h.values){var b=h.values.length;a.Y.assert(()=>D.values.length===b,"Source and segment values have different lengths.");for(var V=function(){var P=h.values[M],T=D.values[M];a.Y.assert(()=>(0,i.dL)(T.source,P.source),"Source and segment value have different sources."),!T.values&&P.values&&(T.values=[]);var N=h.lastMergeIndex+1;P.values&&d(T.values,P.values,N),P.highlights&&d(T.highlights,P.highlights,N)},M=0;M<b;M++)V()}}(D.categorical,h.categorical),D.tree&&h.tree&&n(D.tree.root,h.tree.root,!0),D.matrix&&h.matrix){a.Y.assertValue(D.matrix.rows,"source.matrix.rows"),a.Y.assertValue(D.matrix.rows.levels,"source.matrix.rows.levels"),a.Y.assertValue(h.matrix.rows,"segment.matrix.rows"),a.Y.assertValue(h.matrix.rows.levels,"segment.matrix.rows.levels"),a.Y.assertValue(D.metadata,"source.metadata"),a.Y.assertValue(D.metadata.columns,"source.metadata.columns"),a.Y.assertValue(h.metadata,"segment.metadata"),a.Y.assertValue(h.metadata.columns,"segment.metadata.columns");var C=D.matrix.rows.levels.length,y=h.matrix.rows.levels.length;if(C>y)_.remove(D.metadata.columns,V=>null!=V.index&&!_.some(h.metadata.columns,M=>M.index===V.index)),D.metadata.columns.length=h.metadata.columns.length,function(D,h){var C=h.levels.length;D.levels.length=C,a.Y.assert(()=>_.isEqual(D.levels,h.levels),"Segments have different levels");var y=[];for(var f of(g(D.root.children,C-1,y),y))u(f)}(D.matrix.rows,h.matrix.rows);else if(C<y){var f=_.filter(h.metadata.columns,V=>null!=V.index&&!_.some(D.metadata.columns,M=>M.index===V.index)),S=0;for(var b of f){for(;S<D.metadata.columns.length&&(null==D.metadata.columns[S].index||D.metadata.columns[S].index<b.index);)S++;D.metadata.columns.splice(S,0,b)}!function(D,h){for(var C=h.levels.length,y=D.levels.length,f=y;f<C;f++)D.levels.push(h.levels[f]);a.Y.assert(()=>_.isEqual(D.levels,h.levels),"Segments have different levels");var S=[];for(var b of(g(D.root.children,y-1,S),S))m(b,y);(function(D,h){for(var C=D.root,y=0;y<h;y++)if(_.isEmpty(C.children)||(a.Y.assertValue(C=C.children[0],"Segment has fewer levels than expected"),!C.isMerge||C.isSubtotal))return!1;return!0})(h,y)&&delete _.last(S).children}(D.matrix.rows,h.matrix.rows)}n(D.matrix.rows.root,h.matrix.rows.root,C!==y)}}function d(D,h,C){if(C>=h.length)return h;var y=[];return void 0!==C&&(y=h.splice(0,C)),Array.prototype.push.apply(D,h),y}function n(D,h,C){if(a.Y.assertValue(D,"sourceRoot"),a.Y.assertValue(h,"segmentRoot"),h.children&&0!==h.children.length){if(C&&(!D.children||0===D.children.length))return void(D.children=h.children);a.Y.assert(()=>D.children&&D.children.length>=0,"Source tree has different structure than segment.");var y=c(h.children),f=D.children[D.children.length-1],S=d(D.children,h.children,y);S.length>0&&n(f,S[S.length-1],C)}}function c(D){if(0===D.length)return 0;for(var h=0;h<D.length&&D[h].isMerge;h++);return h}function s(D,h){var C;for(var y of(a.Y.assertValue(D,"dataViewMerger.pruneTree - root"),a.Y.assertNonEmpty(h,"dataViewMerger.pruneTree - Zero-depth index"),h)){if(C=D.children,_.isEmpty(C))return!0;if(y>=C.length)return!1;C.length=y+1,D=_.last(C)}return!0}function p(D,h){var C=D.children;a.Y.assertNonEmpty(D.children,"Empty segment");for(var y=0,f=!0;!_.isEmpty(C);){var S=c(C);if(S>=C.length)f=!0;else{var b=C.length-S;f?void 0===h[y]?h[y]=b-1:h[y]+=b:h[y]=b-1,f=!1}C=_.last(C).children,y++}y<h.length&&(h.length=y)}function u(D){if(!_.isEmpty(D.children)){var h=_.find(D.children,C=>C.isSubtotal);h&&(D.values=h.values),delete D.children,delete D.childIdentityFields}}function m(D,h){D.isSubtotal||(a.Y.assert(()=>D.level===h-1,"Leaf was found on a non-last level"),a.Y.assert(()=>0===_.size(D.children),"Node has children"),D.children=[{isSubtotal:!0,level:h,values:D.values}],delete D.values)}function g(D,h,C){for(var y of(a.Y.assertValue(D,"nodes"),D))y.isSubtotal||(y.level===h?C.push(y):!_.isEmpty(y.children)&&void 0!==y.level&&y.level<h&&g(y.children,h,C))}},573740:function(ve,z,e){e.d(z,{M3:function(){return c},qs:function(){return s},tJ:function(){return p}});var a=e(18122),i=e(798553),r=e(890741),t=e(476271),o=e(249378),d=e(358719),n=function(l){return l[l.Contains=0]="Contains",l[l.Equals=1]="Equals",l}({});class c{constructor(u,v,m){this.selector=c.ensureSelector(u),this.highlight=v,this._columnLevelKeys=new i.d(()=>{if(u)return(0,r.kH)(u,!1)}),this._identityLevelKeys=new i.d(()=>{if(u)return(0,r.kH)(u,!0)}),this.selectorsByColumn=m}static fromSelectorsByColumn(u){var v=(0,r.j9)(u);return new c(v,!1,u)}static fromSelectorsByColumnAndRoles(u,v){var m=(0,r.j9)(u),g=new c(m,!1,u);return g.role=v,g}equals(u){return this.selector&&u.selector?this.highlight===u.highlight&&(0,r.aI)(this.selector,u.selector):!this.selector==!u.selector&&this.highlight===u.highlight}static isEqual(u,v){return u===v||null!=u&&null!=v&&u.equals(v)}includes(u,v=!1,m=!1,g){var E=this;if(!u)return!1;var D=this.selector,h=u.selector;if(!D||!h)return!1;var C=D.data,y=h.data;if(!C&&D.metadata&&D.metadata!==h.metadata||!v&&this.highlight!==u.highlight)return!1;if(C){if(!y)return!1;if(C.length>0)if(g){for(var M,f=m?n.Contains:n.Equals,S=this.getComparisonTypeCache(g,f),b=this.isOrderIndependentComparison(f),V=function(){var x=C[P];if(!y.some(j=>E.runComparison(x,j,f,S,b)))return{v:!1}},P=0,T=C.length;P<T;P++)if(M=V())return M.v}else for(var w,N=function(){var x=C[I];if(m){var j=x.expr;if(!_.some(y,U=>(0,t.XV)(j,U)))return{v:!1}}else if(!y.some(U=>(0,t.aI)(x,U)))return{v:!1}},I=0,O=C.length;I<O;I++)if(w=N())return w.v}return!0}getKey(){return void 0===this._key&&(this._key=`{selector: ${this.selector?this.getSelectorKey():null}, highlight: ${this.highlight}}`),this._key}getDecomposedKeys(u){return u?this._identityLevelKeys.getValue():this._columnLevelKeys.getValue()}getKeyWithoutHighlight(){return void 0===this._keyWithoutHighlight&&(this._keyWithoutHighlight=`{selector: ${this.selector?this.getSelectorKey():null}}`),this._keyWithoutHighlight}hasIdentity(){return this.selector&&!!this.selector.data}getSelector(){return this.selector}getSelectorsByColumn(){return this.selectorsByColumn}getSelectorKey(){return void 0===this._selectorKey&&(this._selectorKey=(0,r.i7)(this.selector)),this._selectorKey}runComparison(u,v,m,g,E){var D=this.extractComparisonFromCache(u,v,g);if(void 0===D){switch(m){case n.Contains:D=(0,t.XV)(u.expr,v);break;case n.Equals:D=(0,t.aI)(u,v);break;default:a.Y.assertNever(m)}this.addComparisonToCache(u,v,D,g,E)}return D}extractComparisonFromCache(u,v,m){if(m){var g=m[u.key];if(g)return g[v.key]}}addComparisonToCache(u,v,m,g,E){if(g){var D=g[u.key];if(D||(D=g[u.key]={}),D[v.key]=m,E){var h=g[v.key];h||(h=g[v.key]={}),h[u.key]=m}}}getComparisonTypeCache(u,v){switch(v){case n.Contains:return u.containsComparisonCache;case n.Equals:return u.equalsComparisonCache;default:a.Y.assertNever(v)}}isOrderIndependentComparison(u){switch(u){case n.Contains:case n.Equals:return!0;default:a.Y.assertNever(u)}}static createNull(u=!1){return new c(null,u)}static createWithId(u,v=!1){var m=null;return u&&(m={data:[u]}),new c(m,v)}static createWithMeasure(u,v=!1){a.Y.assertValue(u,"measureId");var g=new c({metadata:u},v);return g.selectorsByColumn={metadata:[u]},g}static createWithIdAndMeasure(u,v,m=!1){var g={};return u&&(g.data=[u]),v&&(g.metadata=v),!u&&!v&&(g=null),new c(g,m)}static createWithIdAndMeasureAndCategory(u,v,m,g=!1,E=[]){var D=this.createWithIdAndMeasure(u,v,g);return D.selector&&(D.selectorsByColumn={},u&&m&&(D.selectorsByColumn.dataMap={},D.selectorsByColumn.dataMap[m]=[u]),v&&(D.selectorsByColumn.metadata=[v]),_.isEmpty(E)||(D.selectorsByColumn.valueDetails=E)),D}static createWithIds(u,v,m=!1){var g=null,E=c.idArray(u,v);return E&&(g={data:E}),new c(g,m)}static createWithIdsAndMeasure(u,v,m,g=!1){var E={},D=c.idArray(u,v);return D&&(E.data=D),m&&(E.metadata=m),!u&&!v&&!m&&(E=null),new c(E,g)}static createWithSelectorForColumnAndMeasure(u,v,m=!1,g=[]){var E={};_.isEmpty(u)||(E.dataMap=u),v&&(E.metadata=[v]),!u&&!v&&(E=null),_.isEmpty(g)||(E.valueDetails=g);var D=(0,r.j9)(E);return new c(D,m,E)}static createWithSelectorForColumnAndMeasures(u,v,m,g=!1){var E={};_.isEmpty(u)||(E.dataMap=u),_.isEmpty(v)||(E.metadata=v),m&&(E.valueDetails=m),!u&&_.isEmpty(v)&&(E=null);var D=(0,r.j9)(E);return new c(D,g,E)}static createWithHighlight(u){a.Y.assertValue(u,"original"),a.Y.assert(()=>!u.highlight,"!original.highlight");var v=new c(u.getSelector(),!0);return v.selectorsByColumn=u.selectorsByColumn,v}static idArray(u,v){if(u||v){var m=[];return u&&m.push(u),v&&v!==u&&m.push(v),m}}static ensureSelector(u){return u&&u.data&&(u.data=_.uniqWith(u.data,r.mu)),u}}function s(l,u,v){var g,m=l.format;return{expr:l.expr,get formattedValue(){return void 0===g&&(g=(0,d.GP)(u,m)),g},value:u,identity:v,queryName:l.queryName}}class p{static builder(){return new p}withColumnIdentity(u,v,m){return this.addItemToDataMap(v,u),m&&(this.ensureValueDetails(),this.valueDetails.push(...m)),this}withCategoryIdentity(u,v,m){return u&&u.source&&u.source.queryName&&(this.ensureValueDetails(),this.valueDetails.push(s(u.source,u.values[v],u.identity[v])),this.addItemToDataMap(u.source.queryName,m)),this}withCategory(u,v,m,g=!1){if((0,o.mX)(u)){if(g&&m)for(var E of u)this.addCategoryValueDetails(E,v);u[0]&&m&&u[0].identity&&this.addItemToDataMap(m,u[0].identity[v])}else g&&this.addCategoryValueDetails(u,v),u&&u.source&&u.source.queryName&&u.identity&&this.addItemToDataMap(u.source.queryName,u.identity[v]);return this}addCategoryValueDetails(u,v){u&&u.source&&u.source.queryName&&u.identity&&(this.ensureValueDetails(),this.valueDetails.push(s(u.source,u.values[v],u.identity[v])))}withSeries(u,v,m=!1){return u&&u.source&&u.source.queryName&&v&&(m&&(0,o.MK)(v)&&(this.ensureValueDetails(),this.valueDetails.push(s(u.source,v.name,v.identity))),this.addItemToDataMap(u.source.queryName,v.identity)),this}withMeasure(u,v,m){if(this.ensureMeasures(),null!=u&&this.measures.push(u),v&&v.source.queryName===u)if(this.ensureValueDetails(),m>=0)this.valueDetails.push(s(v.source,v.values[m],void 0));else for(var g of v.values)this.valueDetails.push(s(v.source,g,void 0));return this}withMeasures(u){for(var v of(this.ensureMeasures(),u))this.measures.push(v);return this}createSelectionId(){return c.createWithSelectorForColumnAndMeasures(this.dataMap,this.measures,this.valueDetails)}clone(){var u=new p,v=this.dataMap;if(v){var m=u.dataMap={};for(var g in this.dataMap)m[g]=[...v[g]||[]]}return this.measures&&(u.measures=[...this.measures||[]]),u}ensureMeasures(){void 0===this.measures&&(this.measures=[])}ensureValueDetails(){void 0===this.valueDetails&&(this.valueDetails=[])}addItemToDataMap(u,v){if(v){this.dataMap||(this.dataMap={});var m=this.dataMap,g=m[u];if(null==g)return void(m[u]=[v]);g.push(v)}}}},5371:function(ve,z,e){e.d(z,{Ez:function(){return r},Gf:function(){return i},Zw:function(){return t},np:function(){return a}});var a=function(o){return o[o.invalidAggregateFunction=0]="invalidAggregateFunction",o[o.invalidSchemaReference=1]="invalidSchemaReference",o[o.invalidEntityReference=2]="invalidEntityReference",o[o.invalidColumnReference=3]="invalidColumnReference",o[o.invalidGroupingColumnReference=4]="invalidGroupingColumnReference",o[o.invalidMeasureReference=5]="invalidMeasureReference",o[o.invalidHierarchyReference=6]="invalidHierarchyReference",o[o.invalidHierarchyLevelReference=7]="invalidHierarchyLevelReference",o[o.invalidVariationReference=8]="invalidVariationReference",o[o.invalidLeftOperandType=9]="invalidLeftOperandType",o[o.invalidRightOperandType=10]="invalidRightOperandType",o[o.invalidValueType=11]="invalidValueType",o[o.invalidPercentileArgument=12]="invalidPercentileArgument",o[o.invalidPercentArgument=13]="invalidPercentArgument",o[o.invalidScopeArgument=14]="invalidScopeArgument",o[o.invalidTableReference=15]="invalidTableReference",o[o.invalidDiscretizeCount=16]="invalidDiscretizeCount",o[o.invalidFiltersForFilteredEval=17]="invalidFiltersForFilteredEval",o[o.invalidSubqueryReference=18]="invalidSubqueryReference",o[o.invalidNativeTableReference=19]="invalidNativeTableReference",o[o.invalidNativeTableColumnReference=20]="invalidNativeTableColumnReference",o}({}),i=function(o){return o[o.Default=0]="Default",o[o.Ordinal=1]="Ordinal",o}({}),r=function(o){return o[o.Entity=0]="Entity",o[o.SubqueryRef=1]="SubqueryRef",o[o.ColumnRef=2]="ColumnRef",o[o.MeasureRef=3]="MeasureRef",o[o.Aggregation=4]="Aggregation",o[o.PropertyVariationSource=5]="PropertyVariationSource",o[o.Hierarchy=6]="Hierarchy",o[o.HierarchyLevel=7]="HierarchyLevel",o[o.And=8]="And",o[o.Between=9]="Between",o[o.In=10]="In",o[o.Or=11]="Or",o[o.Contains=12]="Contains",o[o.Compare=13]="Compare",o[o.StartsWith=14]="StartsWith",o[o.Exists=15]="Exists",o[o.Not=16]="Not",o[o.Constant=17]="Constant",o[o.DateSpan=18]="DateSpan",o[o.DateAdd=19]="DateAdd",o[o.Now=20]="Now",o[o.AnyValue=21]="AnyValue",o[o.DefaultValue=22]="DefaultValue",o[o.Arithmetic=23]="Arithmetic",o[o.FillRule=24]="FillRule",o[o.ResourcePackageItem=25]="ResourcePackageItem",o[o.ScopedEval=26]="ScopedEval",o[o.WithRef=27]="WithRef",o[o.Percentile=28]="Percentile",o[o.RangePercent=29]="RangePercent",o[o.SelectRef=30]="SelectRef",o[o.NativeTableRef=31]="NativeTableRef",o[o.TransformTableRef=32]="TransformTableRef",o[o.TransformOutputRoleRef=33]="TransformOutputRoleRef",o[o.ThemeDataColor=34]="ThemeDataColor",o[o.GroupRef=35]="GroupRef",o[o.Floor=36]="Floor",o[o.RoleRef=37]="RoleRef",o[o.AllRolesRef=38]="AllRolesRef",o[o.Discretize=39]="Discretize",o[o.NamedQueryRef=40]="NamedQueryRef",o[o.Member=41]="Member",o[o.FilteredEval=42]="FilteredEval",o[o.Conditional=43]="Conditional",o[o.NativeMeasure=44]="NativeMeasure",o[o.NativeColumn=45]="NativeColumn",o[o.SummaryValueRef=46]="SummaryValueRef",o[o.SparklineData=47]="SparklineData",o[o.NativeVisualCalc=48]="NativeVisualCalc",o[o.VisualTopN=49]="VisualTopN",o[o.TableType=50]="TableType",o[o.PrimitiveType=51]="PrimitiveType",o[o.TypeOfType=52]="TypeOfType",o}({}),t=function(o){return o[o.FormatString=0]="FormatString",o}({})},448724:function(ve,z,e){e.d(z,{l0:function(){return r},tl:function(){return i},um:function(){return a}});var a=function(t){return t[t.And=0]="And",t[t.Or=1]="Or",t[t.Undefined=2]="Undefined",t}({}),i=function(t){return t[t.None=0]="None",t[t.LessThan=1]="LessThan",t[t.LessThanOrEqual=2]="LessThanOrEqual",t[t.GreaterThan=3]="GreaterThan",t[t.GreaterThanOrEqual=4]="GreaterThanOrEqual",t[t.Contains=5]="Contains",t[t.DoesNotContain=6]="DoesNotContain",t[t.StartWith=7]="StartWith",t[t.DoesNotStartWith=8]="DoesNotStartWith",t[t.Is=9]="Is",t[t.IsNot=10]="IsNot",t[t.IsBlank=11]="IsBlank",t[t.IsNotBlank=12]="IsNotBlank",t[t.IsEmptyString=13]="IsEmptyString",t[t.IsNotEmptyString=14]="IsNotEmptyString",t}({}),r=function(t){return t[t.Column=0]="Column",t[t.Measure=1]="Measure",t[t.Exists=2]="Exists",t[t.Subquery=3]="Subquery",t[t.VisualTopN=4]="VisualTopN",t}({})},335128:function(ve,z,e){e.d(z,{E0:function(){return x},UU:function(){return U},WE:function(){return K},YR:function(){return i},ZO:function(){return F},_w:function(){return R},hm:function(){return O},vG:function(){return G}});var a=e(18122);function i(k,L){return a.Y.assertValue(k,"expr"),a.Y.assertValue(L,"visitor"),a.Y.assertValue(k,"expected sqExpr to conform to a fieldExprPattern"),k.column?function(k,L){return a.Y.assertValue(k,"column"),a.Y.assertValue(L,"visitor"),L.visitColumn(k)}(k.column,L):k.columnAggr?function(k,L){return a.Y.assertValue(k,"columnAggr"),a.Y.assertValue(L,"visitor"),L.visitColumnAggr(k)}(k.columnAggr,L):k.groupingColumn?function(k,L){return a.Y.assertValue(k,"column"),a.Y.assertValue(L,"visitor"),L.visitGroupingColumn(k)}(k.groupingColumn,L):k.groupingColumnAggr?function(k,L){return a.Y.assertValue(k,"columnAggr"),a.Y.assertValue(L,"visitor"),L.visitGroupingColumnAggr(k)}(k.groupingColumnAggr,L):k.columnHierarchyVariation?function(k,L){return a.Y.assertValue(k,"columnHierarchyVariation"),a.Y.assertValue(L,"visitor"),L.visitColumnHierarchyVariation(k)}(k.columnHierarchyVariation,L):k.columnHierarchyLevelVariation?function(k,L){return a.Y.assertValue(k,"columnHierarchyLevelVariation"),a.Y.assertValue(L,"visitor"),L.visitColumnHierarchyLevelVariation(k)}(k.columnHierarchyLevelVariation,L):k.columnSubquery?function(k,L){return a.Y.assertValue(k,"columnSubquery"),a.Y.assertValue(L,"visitor"),L.visitColumnSubquery(k)}(k.columnSubquery,L):k.columnAggrSubquery?function(k,L){return a.Y.assertValue(k,"columnAggrSubquery"),a.Y.assertValue(L,"visitor"),L.visitColumnAggrSubquery(k)}(k.columnAggrSubquery,L):k.columnNativeTable?function(k,L){return a.Y.assertValue(k,"columnNativeTable"),a.Y.assertValue(L,"visitor"),L.visitColumnNativeTable(k)}(k.columnNativeTable,L):k.columnAggrNativeTable?function(k,L){return a.Y.assertValue(k,"columnAggrNativeTable"),a.Y.assertValue(L,"visitor"),L.visitColumnAggrNativeTable(k)}(k.columnAggrNativeTable,L):k.columnTransformRef?function(k,L){return a.Y.assertValue(k,"columnTransformRef"),a.Y.assertValue(L,"visitor"),L.visitColumnTransformRef(k)}(k.columnTransformRef,L):k.entity?function(k,L){return a.Y.assertValue(k,"entity"),a.Y.assertValue(L,"visitor"),L.visitEntity(k)}(k.entity,L):k.entityAggr?function(k,L){return a.Y.assertValue(k,"entityAggr"),a.Y.assertValue(L,"visitor"),L.visitEntityAggr(k)}(k.entityAggr,L):k.hierarchy?function(k,L){return a.Y.assertValue(k,"hierarchy"),a.Y.assertValue(L,"visitor"),L.visitHierarchy(k)}(k.hierarchy,L):k.hierarchyLevel?function(k,L){return a.Y.assertValue(k,"hierarchyLevel"),a.Y.assertValue(L,"visitor"),L.visitHierarchyLevel(k)}(k.hierarchyLevel,L):k.hierarchyLevelAggr?function(k,L){return a.Y.assertValue(k,"hierarchyLevelAggr"),a.Y.assertValue(L,"visitor"),L.visitHierarchyLevelAggr(k)}(k.hierarchyLevelAggr,L):k.measure?function(k,L){return a.Y.assertValue(k,"measure"),a.Y.assertValue(L,"visitor"),L.visitMeasure(k)}(k.measure,L):k.percentile?function(k,L){return a.Y.assertValue(k,"percentile"),a.Y.assertValue(L,"visitor"),L.visitPercentile(k)}(k.percentile,L):k.percentOfGrandTotal?function(k,L){return a.Y.assertValue(k,"percentOfGrandTotal"),a.Y.assertValue(L,"visitor"),L.visitPercentOfGrandTotal(k)}(k.percentOfGrandTotal,L):k.percentOfRoleTotal?function(k,L){return a.Y.assertValue(k,"percentOfRoleTotal"),a.Y.assertValue(L,"visitor"),L.visitPercentOfRoleTotal(k)}(k.percentOfRoleTotal,L):k.selectRef?function(k,L){return a.Y.assertValue(k,"selectRef"),a.Y.assertValue(L,"visitor"),L.visitSelectRef(k)}(k.selectRef,L):k.transformOutputRoleRef?function(k,L){return a.Y.assertValue(k,"transformOutputRoleRef"),a.Y.assertValue(L,"visitor"),L.visitTransformOutputRoleRef(k)}(k.transformOutputRoleRef,L):k.filteredEval?function(k,L){return a.Y.assertValue(k,"filteredEval"),a.Y.assertValue(L,"visitor"),L.visitFilteredEval(k)}(k.filteredEval,L):k.arithmetic?function(k,L){return a.Y.assertValue(k,"arithmetic"),a.Y.assertValue(L,"visitor"),L.visitArithmetic(k)}(k.arithmetic,L):k.constant?function(k,L){return a.Y.assertValue(k,"constant"),a.Y.assertValue(L,"visitor"),L.visitConstant(k)}(k.constant,L):k.sparklineData?function(k,L){return a.Y.assertValue(k,"sparkline"),a.Y.assertValue(L,"visitor"),L.visitSparklineData(k)}(k.sparklineData,L):k.nativeVisualCalc?function(k,L){return a.Y.assertValue(k,"nativeVisualCalc"),a.Y.assertValue(L,"visitor"),L.visitNativeVisualCalc(k)}(k.nativeVisualCalc,L):void a.Y.assertFail("failed to visit a fieldExprPattern.")}function O(k){var L=i(k,ne.instance);return a.Y.assert(()=>!L||1===_.size(L),"If there are more than 1 property names, then use getPropertyNames instead"),L?.[0]}function x(k){return i(k,ne.instance)}function U(k){return k.columnHierarchyLevelVariation?k.columnHierarchyLevelVariation.source:k.column||k.groupingColumn||k.groupingColumnAggr||k.measure||k.columnAggr}function F(k){return O(k)||G(k).entity}function R(k){var L=function(k){a.Y.assertValue(k,"fieldExpr");var L=K(k);return a.Y.assertAnyValue(L,"expected fieldExpr to be an entity item"),_.isEmpty(L)?void 0:_.map(L,X=>X.schema)}(k);return a.Y.assert(()=>!L||1===_.size(L),"If there are more than 1 schema, then use getSchemas instead"),L?.[0]}function G(k){var L=i(k,q.instance);return a.Y.assert(()=>!L||1===_.size(L),"If there are more than 1 entity, then use toFieldExprEntityItemPatterns instead"),L?.[0]}function K(k){return i(k,q.instance)}var q=(()=>{class k{visitColumn(X){return[k.toEntityItemExprPattern(X)]}visitColumnAggr(X){return[k.toEntityItemExprPattern(X)]}visitGroupingColumn(X){return[k.toEntityItemExprPattern(X)]}visitGroupingColumnAggr(X){return[k.toEntityItemExprPattern(X)]}visitColumnHierarchyVariation(X){return[k.toEntityItemExprPattern(X.source)]}visitColumnHierarchyLevelVariation(X){return[k.toEntityItemExprPattern(X.source)]}visitColumnSubquery(X){}visitColumnAggrSubquery(X){}visitColumnNativeTable(X){}visitColumnAggrNativeTable(X){}visitColumnTransformRef(X){}visitEntity(X){return[k.toEntityItemExprPattern(X)]}visitEntityAggr(X){return[k.toEntityItemExprPattern(X)]}visitHierarchy(X){return[k.toEntityItemExprPattern(X)]}visitHierarchyLevel(X){return[k.toEntityItemExprPattern(X)]}visitHierarchyLevelAggr(X){return[k.toEntityItemExprPattern(X)]}visitMeasure(X){return[k.toEntityItemExprPattern(X)]}visitSelectRef(X){}visitPercentile(X){return i(X.arg,this)}visitPercentOfGrandTotal(X){return i(X.baseExpr,this)}visitPercentOfRoleTotal(X){return i(X.baseExpr,this)}visitTransformOutputRoleRef(X){}visitFilteredEval(X){return i(X.baseExpr,this)}visitArithmetic(X){var Y=i(X.left,this),Q=i(X.right,this),H=Y&&Q?[...Y,...Q]:Y??Q;return _.isEmpty(H)?void 0:H}visitConstant(X){}visitSparklineData(X){return[...i(X.measure,this),..._.chain(X.grouping).map(Y=>i(Y,this)).flatten().value()]}visitNativeVisualCalc(X){}static toEntityItemExprPattern(X){a.Y.assertValue(X,"exprPattern");var Y={schema:X.schema,entity:X.entity};return X.entityVar&&(Y.entityVar=X.entityVar),Y}}return k.instance=new k,k})(),ne=(()=>{class k{visitColumn(X){return[X.name]}visitColumnAggr(X){return[X.name]}visitGroupingColumn(X){return[X.name]}visitGroupingColumnAggr(X){return[X.name]}visitColumnHierarchyVariation(X){}visitColumnHierarchyLevelVariation(X){}visitColumnSubquery(X){return[X.name]}visitColumnAggrSubquery(X){return[X.name]}visitColumnNativeTable(X){return[X.name]}visitColumnAggrNativeTable(X){return[X.name]}visitColumnTransformRef(X){return[X.name]}visitEntity(X){}visitEntityAggr(X){}visitHierarchy(X){}visitHierarchyLevel(X){}visitHierarchyLevelAggr(X){}visitMeasure(X){return[X.name]}visitSelectRef(X){}visitPercentile(X){return i(X.arg,this)}visitPercentOfGrandTotal(X){return i(X.baseExpr,this)}visitPercentOfRoleTotal(X){return i(X.baseExpr,this)}visitTransformOutputRoleRef(X){}visitFilteredEval(X){return i(X.baseExpr,this)}visitArithmetic(X){var Y=i(X.left,this),Q=i(X.right,this),H=Y&&Q?[...Y,...Q]:Y??Q;return _.isEmpty(H)?void 0:H}visitConstant(X){}visitSparklineData(X){return[...i(X.measure,this),..._.chain(X.grouping).map(Y=>i(Y,this)).flatten().value()]}visitNativeVisualCalc(X){return[X.name]}}return k.instance=new k,k})()},188076:function(ve,z,e){e.d(z,{F:function(){return c},b:function(){return s}});var a=e(18122),i=e(258480),r=e(620825),t=e(73646),o=e(671825),d=e(906514),n=e(81825);function c(u,v){return u.accept(new s(v))}class s extends t.nP{constructor(v){super(),this.schema=v}visitColumnRef(v){var m=v.source.accept(p.instance);if(m){if(m.entity){var g=m.entity;return g.name=v.ref,{column:g}}if(m.subquery)return m.subquery.variable?{columnSubquery:{name:v.ref,subqueryRef:m.subquery.variable}}:{columnSubquery:{name:v.ref,subquery:m.subquery.query}};if(m.nativeTable)return{columnNativeTable:{name:v.ref,nativeTableRef:m.nativeTable.variable}};if(m.transform)return{columnTransformRef:{name:v.ref,transformTable:m.transform}}}}visitMeasureRef(v){var m=v.source.accept(p.instance);if(m&&m.entity){var g=m.entity;return g.name=v.ref,{measure:g}}}visitEntity(v){var m={schema:v.schema,entity:v.entity};return v.variable&&(m.entityVar=v.variable),{entity:m}}visitAggr(v){var m=v.arg.accept(this);if(m){if(m.column){var g=m.column;return g.aggregate=v.func,{columnAggr:g}}if(m.columnAggr){var E=m.columnAggr;return E.aggregate=v.func,{columnAggr:E}}if(m.groupingColumn){var D=m.groupingColumn;return D.aggregate=v.func,{groupingColumnAggr:D}}if(m.groupingColumnAggr){var h=m.groupingColumnAggr;return h.aggregate=v.func,{groupingColumnAggr:h}}if(m.hierarchyLevel){var C=m.hierarchyLevel;return C.aggregate=v.func,{hierarchyLevelAggr:C}}if(m.columnHierarchyLevelVariation){var y=m.columnHierarchyLevelVariation.level;return y.aggregate=v.func,{hierarchyLevelAggr:y}}if(m.columnSubquery){var f=m.columnSubquery;return f.aggregate=v.func,{columnAggrSubquery:f}}if(m.columnNativeTable){var S=m.columnNativeTable;return S.aggregate=v.func,{columnAggrNativeTable:S}}}var b=v.arg.accept(p.instance);if(b&&b.entity){var V=b.entity;return V.aggregate=v.func,{entityAggr:V}}}visitPercentile(v){return{percentile:{arg:v.arg.accept(this),k:v.k,exclusive:v.exclusive}}}visitGroupRef(v){var m=v.source.accept(p.instance);if(m&&m.entity){var g=m.entity;for(var E of(g.name=v.ref,g.groupedColumns=[],v.groupedExprs)){var D=E.accept(this);(D.column||D.groupingColumn||D.hierarchyLevel)&&g.groupedColumns.push(D)}return{groupingColumn:g}}}visitHierarchy(v){var m=v.arg.accept(p.instance);if(m){if(m.entity)return{hierarchy:{entity:m.entity.entity,name:v.hierarchy,schema:m.entity.schema}};if(m.variation&&m.variation.column){var g=m.variation;if((0,r.sD)(v.arg)){var E=v.arg;if((0,r.Qg)(E.arg)){var D=E.arg,h=this.schema.schema(g.column.schema).findTargetEntityOfVariation(D.entity,g.column.name,g.variationName);if(h)return{columnHierarchyVariation:{source:{...g.column},hierarchy:{schema:g.column.schema,entity:h.name,name:v.hierarchy},variationName:m.variation.variationName}}}}}}}visitHierarchyLevel(v){var m=v.arg.accept(l.instance);if(m){var g;if(m.hierarchy&&(g={entity:m.hierarchy.entity,schema:m.hierarchy.schema,name:m.hierarchy.name,level:v.level}),m.variation){if(this.schema){var E=m.variation,D=this.schema.schema(m.variation.column.schema).findTargetEntityOfVariation(g.entity,E.column.name,E.variationName);D&&(g.entity=D.name)}return{columnHierarchyLevelVariation:{source:{entity:m.variation.column.entity,schema:m.variation.column.schema,name:m.variation.column.name},level:g,variationName:m.variation.variationName}}}return{hierarchyLevel:g}}}visitArithmetic(v){if(!(0,r.tZ)(v.right)||v.operator!==n.Fj.Divide)return{arithmetic:{left:v.left.accept(this),right:v.right.accept(this),operator:v.operator}};var m=v.right.scope;return _.isEmpty(m)?{percentOfGrandTotal:{baseExpr:v.left.accept(this)}}:_.every(m,g=>(0,r.aV)(g))?{percentOfRoleTotal:{baseExpr:v.left.accept(this),roles:_.map(m,g=>g.role)}}:void 0}visitSelectRef(v){return{selectRef:{expressionName:v.expressionName}}}visitTransformOutputRoleRef(v){return{transformOutputRoleRef:{expressionName:v.role}}}visitFilteredEval(v){var m=_.map(v.filters,g=>{var E=(0,d.Z$)(i.b0.fromSQFromAndSQFilters(new o.l0,[g]),this.schema);if(E)return a.Y.assert(()=>1===E.length,"There are more than one filter pattern in this Semantic Filter"),E[0]});return{filteredEval:{baseExpr:v.expression.accept(this),filters:m}}}visitConstant(v){return{constant:{value:v.value,type:v.type}}}visitSparklineData(v){return{sparklineData:{measure:v.measure.accept(this),grouping:_.map(v.grouping,m=>m.accept(this)),applyCalculationGroupTo:v.applyCalculationGroupTo}}}visitNativeVisualCalc(v){return{nativeVisualCalc:{name:v.name,language:v.language,expression:v.expression}}}}var p=(()=>{class u extends t.nP{visitEntity(m){var g={schema:m.schema,entity:m.entity};return m.variable&&(g.entityVar=m.variable),{entity:g}}visitPropertyVariationSource(m){var g=m.arg;if((0,r.Qg)(g)){var E={schema:g.schema,entity:g.entity,name:m.property};return g.variable&&(E.entityVar=g.variable),{variation:{column:E,variationName:m.name}}}}visitSubqueryRef(m){return m.variable?{subquery:{variable:m.variable}}:{subquery:{query:m.query}}}visitNativeTableRef(m){return a.Y.assertValue(m,"expr"),a.Y.assertValue(m.variable,"expr.variable"),{nativeTable:{variable:m.variable}}}visitTransformTableRef(m){return a.Y.assertValue(m,"expr"),a.Y.assertValue(m.source,"source"),{transform:{name:m?.source}}}}return u.instance=new u,u})(),l=(()=>{class u extends t.nP{visitHierarchy(m){var E,D,g=m.arg.accept(p.instance);return g.variation?(E={name:m.hierarchy,schema:g.variation.column.schema,entity:g.variation.column.entity},D=g.variation):E={name:m.hierarchy,schema:g.entity.schema,entity:g.entity.entity},{hierarchy:E,variation:D}}}return u.instance=new u,u})()},158649:function(ve,z,e){e.d(z,{$Q:function(){return T},CX:function(){return U},D2:function(){return y},Hu:function(){return j},O7:function(){return D},Oj:function(){return h},P7:function(){return F},R3:function(){return C},Sg:function(){return x},Vm:function(){return f},Xq:function(){return E},_S:function(){return R},ah:function(){return P},cu:function(){return m},fq:function(){return g},gl:function(){return w},hB:function(){return W},hu:function(){return O},kf:function(){return b},li:function(){return S},tP:function(){return G},to:function(){return l},tt:function(){return u},xA:function(){return I},yt:function(){return N}});var a=e(18122),i=e(757406),r=e(335128),t=e(188076),o=e(906514),d=e(448724),n=e(81825),c=e(620825),s=e(98138),p=e(169430);function l(ne){var k=(0,r.YR)(ne,A.instance);return a.Y.assertValue(k,"Failed to convert FieldExprPattern into SQExpr"),k}function u(ne){var k={condition:(0,o.YR)(ne,v.instance)};return _.isEmpty(ne.target)||(k.target=_.map(ne.target,L=>l(L))),k}var v=(()=>{class ne{visitIn(L){var X=(0,i.eu)(_.map(L.args,Y=>l(Y)),_.map(L.values,Y=>_.map(Y,Q=>(0,i.FT)(Q.value,Q.type))));return L.not?(0,i.AU)(X):X}visitBetween(L){var X,Y;if(L&&L.lower&&L.upper&&((0,o.Jq)(L.lower)&&(0,o.Jq)(L.upper)?(X=(0,i.b5)(L.lower.unit,(0,i.KQ)(L.lower.value)),Y=(0,i.b5)(L.upper.unit,(0,i.KQ)(L.upper.value))):(0,o.Bi)(L.lower)&&(0,o.Bi)(L.upper)&&(X=(0,i.FT)(L.lower.value,L.lower.type),Y=(0,i.FT)(L.upper.value,L.upper.type)),X&&Y))return(0,i.Tq)(l(L.arg),X,Y)}visitRelativeDateRange(L){return(0,p.qd)({field:l(L.arg),options:L.options})}visitComposite(L){return null}visitTopN(L){return null}visitComplex(L){a.Y.assertFail("cannot recreate complex patterns as SQExprs")}visitAdvanced(L){var X=L.logicalOperator,Y=(0,o.Un)(L.left)?this.visitCompare(L.left):this.visitAdvanced(L.left),Q=(0,o.Un)(L.right)?this.visitCompare(L.right):this.visitAdvanced(L.right);return X===d.um.And?(0,i.Uo)(Y,Q):(0,i.or)(Y,Q)}visitCompare(L){var X=l(L.arg),Y=this.getValueExpr(L.condition);if(Y&&X)return this.expandExpr(L.filterOperator,Y,X)}expandExpr(L,X,Y){switch(L){case d.tl.Is:return(0,i.UD)(n.mq.Equal,Y,X);case d.tl.IsNot:return(0,i.AU)((0,i.UD)(n.mq.Equal,Y,X));case d.tl.IsBlank:return(0,i.UD)(n.mq.Equal,Y,(0,i.gN)());case d.tl.IsNotBlank:return(0,i.AU)((0,i.UD)(n.mq.Equal,Y,(0,i.gN)()));case d.tl.Contains:return(0,i.gR)(Y,X);case d.tl.DoesNotContain:return(0,i.AU)((0,i.gR)(Y,X));case d.tl.StartWith:return(0,i.w1)(Y,X);case d.tl.DoesNotStartWith:return(0,i.AU)((0,i.w1)(Y,X));case d.tl.GreaterThan:return(0,i.UD)(n.mq.GreaterThan,Y,X);case d.tl.GreaterThanOrEqual:return(0,i.UD)(n.mq.GreaterThanOrEqual,Y,X);case d.tl.LessThan:return(0,i.UD)(n.mq.LessThan,Y,X);case d.tl.LessThanOrEqual:return(0,i.UD)(n.mq.LessThanOrEqual,Y,X);case d.tl.IsEmptyString:return(0,i.UD)(n.mq.Equal,Y,(0,i.Qq)(""));case d.tl.IsNotEmptyString:return(0,i.AU)((0,i.UD)(n.mq.Equal,Y,(0,i.Qq)("")));default:a.Y.assertFail("Not valid filter operator type.")}}getValueExpr(L){var X;return L.constant?X=(0,i.FT)(L.constant.value,L.constant.type):L.dateSpan?X=(0,i.b5)(L.dateSpan.unit,(0,i.KQ)(L.dateSpan.value)):L.defaultValue?a.Y.assertFail("DefaultValue is not supported yet"):L.anyValue&&a.Y.assertFail("AnyValue is not supported yet"),X}visitHierarchical(L){}visitVisualTopN(L){return new i.vy(L.itemCount)}}return ne.instance=new ne,ne})();function m(ne){return(0,i.QD)(g(ne),ne.aggregate)}function g(ne){return(0,i.sX)(h(ne),ne.name)}function E(ne){return(0,i.QD)((0,i.bR)(ne.name,h(ne),B(ne.groupedColumns)),ne.aggregate)}function D(ne){return(0,i.bR)(ne.name,h(ne),B(ne.groupedColumns))}function h(ne){return(0,i.EG)(ne.schema,ne.entity,ne.entityVar)}function C(ne){return(0,i.QD)(h(ne),ne.aggregate)}function y(ne){var k=h(ne.source),L=(0,i.U7)(k,ne.variationName,ne.source.name);return(0,i.Sk)(L,ne.hierarchy.name)}function f(ne){var k=h(ne.source),L=(0,i.U7)(k,ne.variationName,ne.source.name),X=(0,i.Sk)(L,ne.level.name);return(0,i.Mw)(X,ne.level.level)}function S(ne){return ne.subqueryRef?(0,i.sX)((0,i.a_)(ne.subqueryRef),ne.name):ne.subquery?(0,i.sX)((0,i.a_)(ne.subquery),ne.name):void 0}function b(ne){return(0,i.QD)((0,i.sX)((0,i.a_)(ne.subqueryRef),ne.name),ne.aggregate)}function V(ne){return(0,i.sX)((0,i.rQ)(ne.nativeTableRef),ne.name)}function M(ne){return(0,i.QD)((0,i.sX)((0,i.rQ)(ne.nativeTableRef),ne.name),ne.aggregate)}function P(ne){return(0,i.sX)((0,i.CR)(ne.transformTable.name),ne.name)}function T(ne){return(0,i.QD)(N(ne),ne.aggregate)}function N(ne){return(0,i.Mw)(w(ne),ne.level)}function w(ne){return(0,i.Sk)(h(ne),ne.name)}function I(ne){return(0,i.Bm)(l(ne.left),l(ne.right),ne.operator)}function O(ne){return(0,i.FT)(ne.value,ne.type)}function x(ne){return(0,i.yC)(l(ne.measure),_.map(ne.grouping,k=>l(k)),ne.applyCalculationGroupTo)}function j(ne){return new i.UL(ne.name,ne.language,ne.expression)}function U(ne){return a.Y.assertValue(ne,"fieldExpr"),(0,r.YR)(ne,K.instance)}function F(ne){return a.Y.assertValue(ne,"fieldExpr"),(0,r.YR)(ne,q.instance)}function R(ne){return(0,i.sX)((0,i.EG)(ne.schema,ne.entity,ne.entityVar),ne.name)}function B(ne){return _.map(ne,k=>l(k))}var A=(()=>{class ne{visitColumn(L){return g(L)}visitColumnAggr(L){return m(L)}visitGroupingColumn(L){return D(L)}visitGroupingColumnAggr(L){return E(L)}visitColumnHierarchyVariation(L){return y(L)}visitColumnHierarchyLevelVariation(L){return f(L)}visitColumnSubquery(L){return S(L)}visitColumnAggrSubquery(L){return b(L)}visitColumnNativeTable(L){return V(L)}visitColumnAggrNativeTable(L){return M(L)}visitColumnTransformRef(L){return P(L)}visitEntity(L){return h(L)}visitEntityAggr(L){return C(L)}visitHierarchy(L){return w(L)}visitHierarchyLevel(L){return N(L)}visitHierarchyLevelAggr(L){return T(L)}visitMeasure(L){return(0,i.K6)(this.visitEntity(L),L.name)}visitPercentile(L){var X=l(L.arg);return(0,i.Ym)(X,L.k,L.exclusive)}visitPercentOfGrandTotal(L){var X=l(L.baseExpr);return(0,i.Bm)(X,(0,i.bg)(X,[]),n.Fj.Divide)}visitPercentOfRoleTotal(L){var X=l(L.baseExpr);return(0,i.Bm)(X,(0,i.bg)(X,_.map(L.roles,Y=>(0,i.a3)(Y))),n.Fj.Divide)}visitSelectRef(L){return(0,i.o4)(L.expressionName)}visitTransformOutputRoleRef(L){return(0,i.Cv)(L.expressionName)}visitFilteredEval(L){return(0,i.Ge)(l(L.baseExpr),_.map(L.filters,X=>u(X)))}visitArithmetic(L){return I(L)}visitConstant(L){return O(L)}visitSparklineData(L){return x(L)}visitNativeVisualCalc(L){return j(L)}}return ne.instance=new ne,ne})();function W(ne){return a.Y.assertValue(ne,"expr"),(0,c.rJ)(ne)&&(0,c.tZ)(ne.right)&&!_.isEmpty(ne.right.scope)&&_.every(ne.right.scope,k=>(0,c.aV)(k))}function G(ne,k){if(a.Y.assertValue(ne,"expr"),!(0,c.rJ)(ne)||!(0,c.tZ)(ne.right))return!1;var L={percentOfGrandTotal:{baseExpr:ne.left.accept(new t.b(k))}};return(0,s.aI)(ne,l(L))}var K=(()=>{class ne{visitColumn(L){}visitColumnAggr(L){return L.aggregate}visitGroupingColumn(L){}visitGroupingColumnAggr(L){return L.aggregate}visitColumnHierarchyVariation(L){}visitColumnHierarchyLevelVariation(L){}visitColumnSubquery(L){}visitColumnAggrSubquery(L){return L.aggregate}visitColumnNativeTable(L){}visitColumnAggrNativeTable(L){return L.aggregate}visitColumnTransformRef(L){}visitEntity(L){}visitEntityAggr(L){return L.aggregate}visitHierarchy(L){}visitHierarchyLevel(L){}visitHierarchyLevelAggr(L){return L.aggregate}visitMeasure(L){}visitSelectRef(L){}visitPercentile(L){}visitPercentOfGrandTotal(L){return(0,i.CX)(l(L.baseExpr))}visitPercentOfRoleTotal(L){return(0,i.CX)(l(L.baseExpr))}visitTransformOutputRoleRef(L){}visitFilteredEval(L){return(0,i.CX)(l(L.baseExpr))}visitArithmetic(L){}visitConstant(L){a.Y.assertFail("FieldExprPattern - Not expecting to be called")}visitSparklineData(L){}visitNativeVisualCalc(L){}}return ne.instance=new ne,ne})(),q=(()=>{class ne{visitColumn(L){return g(L)}visitColumnAggr(L){return m(L)}visitGroupingColumn(L){return D(L)}visitGroupingColumnAggr(L){return E(L)}visitColumnHierarchyVariation(L){return y(L)}visitColumnHierarchyLevelVariation(L){return f(L)}visitColumnSubquery(L){return S(L)}visitColumnAggrSubquery(L){return b(L)}visitColumnNativeTable(L){return V(L)}visitColumnAggrNativeTable(L){return M(L)}visitColumnTransformRef(L){return P(L)}visitEntity(L){return h(L)}visitEntityAggr(L){return C(L)}visitHierarchy(L){return w(L)}visitHierarchyLevel(L){return N(L)}visitHierarchyLevelAggr(L){return T(L)}visitMeasure(L){return(0,i.K6)(this.visitEntity(L),L.name)}visitSelectRef(L){return(0,i.o4)(L.expressionName)}visitPercentile(L){return(0,r.YR)((0,t.F)(l(L.arg)),this)}visitPercentOfGrandTotal(L){return(0,r.YR)((0,t.F)(l(L.baseExpr)),this)}visitPercentOfRoleTotal(L){return(0,r.YR)((0,t.F)(l(L.baseExpr)),this)}visitTransformOutputRoleRef(L){return(0,i.Cv)(L.expressionName)}visitFilteredEval(L){return(0,r.YR)((0,t.F)(l(L.baseExpr)),this)}visitArithmetic(L){return I(L)}visitConstant(L){a.Y.assertFail("FieldExprPattern - Not expecting to be called")}visitSparklineData(L){return x(L)}visitNativeVisualCalc(L){return new i.UL(L.name,L.language,L.expression)}}return ne.instance=new ne,ne})()},400388:function(ve,z,e){e.d(z,{C:function(){return r}});var a=e(18122),i=e(73646);function r(o){a.Y.assertValue(o,"expr");var d=new t;return o.accept(d),d.analyze()}class t extends i.ff{constructor(){super(),this.fieldsBeingFiltered=[]}analyze(){return{fieldsBeingFiltered:this.fieldsBeingFiltered,subqueryName:this.subqueryName}}visitColumnRef(d){this.fieldsBeingFiltered.push(d)}visitHierarchyLevel(d){this.fieldsBeingFiltered.push(d)}visitGroupRef(d){this.fieldsBeingFiltered.push(d)}visitSubqueryRef(d){d.variable?this.subqueryName=d.variable:a.Y.assertFail("SubqueryRef with a inlined subquery not expected here")}visitAggr(d){this.fieldsBeingFiltered.push(d)}visitPropertyVariationSource(d){this.fieldsBeingFiltered.push(d)}visitMeasureRef(d){this.fieldsBeingFiltered.push(d)}}},910058:function(ve,z,e){e.d(z,{E:function(){return t},m:function(){return o}});var a=e(448724),i=e(18122),r=e(73646);function t(n){i.Y.assertValue(n,"expr");var c=new d;return n.accept(c),c.analyze()}function o(n){i.Y.assertValue(n,"expr");var c=new d;return n.accept(c),c.analyze().filterKind}class d extends r.ff{constructor(){super(),this.entityExprs={},this.filterKind=a.l0.Column,this.isSubquery=!1}analyze(){return{entitiesByName:this.entityExprs,filterKind:this.isSubquery?a.l0.Subquery:this.filterKind}}visitMeasureRef(c){this.filterKind=a.l0.Measure,c.source.accept(this)}visitExists(c){this.filterKind=a.l0.Exists,c.arg.accept(this)}visitAggr(c){this.filterKind=a.l0.Measure,c.arg.accept(this)}visitSubqueryRef(c){this.isSubquery=!0}visitEntity(c){this.entityExprs[c.entity]=!0}visitVisualTopN(c){this.filterKind=a.l0.VisualTopN}}},906514:function(ve,z,e){e.d(z,{Bi:function(){return y},Jq:function(){return C},SI:function(){return S},Un:function(){return v},YR:function(){return T},Z$:function(){return m},zE:function(){return g}});var a=e(620825),i=e(81825),r=e(18122),t=e(359317),o=e(757406),d=e(448724),n=e(5371),c=e(858225),s=e(188076),p=e(576926),l=e(169430),u=e(400895);function v(A){return void 0!==A.arg}function m(A,W){if(A){var G=A.where();if(G){var K=new P(W),q=A.from();return G.map(ne=>{var k=K.tryMatchPattern(ne,q);if(k){var L={condition:k};return _.isEmpty(ne.target)||(L.target=_.map(ne.target,X=>(0,s.F)(X))),L}})}}}function g(A){if(function(A){return!!A.lower&&!!A.upper&&!!A.arg}(A))return function(A){if(A){var W,G;if(function(A){return void 0!==A.lower.unit}(A)){if(A.lower.unit!==A.upper.unit)return void r.Y.assertFail("DateSpanPattern units should match");W={dateSpan:A.lower},G={dateSpan:A.upper}}else W={constant:A.lower},G={constant:A.upper};return{logicalOperator:d.um.And,left:{arg:A.arg,filterOperator:d.tl.GreaterThanOrEqual,condition:W},right:{arg:A.arg,filterOperator:d.tl.LessThanOrEqual,condition:G}}}}(A);var W=A.args;if(1===W.length){var K=A.not;return f(W[0],A.values,K?d.um.And:d.um.Or,K??!1)}}function C(A){return void 0!==A.unit}function y(A){return void 0!==!!A.type}function f(A,W,G,K){return 1===W.length?{arg:A,filterOperator:K?d.tl.IsNot:d.tl.Is,condition:{constant:W[0][0]}}:{logicalOperator:G,left:f(A,W.slice(0,(W.length+1)/2),G,K),right:f(A,W.slice((W.length+1)/2),G,K)}}function S(A){if(A)return v(A)?A.filterOperator!==d.tl.Is&&A.filterOperator!==d.tl.IsNot||!A.condition.constant?void 0:{args:[A.arg],values:[[A.condition.constant]],not:A.filterOperator===d.tl.IsNot}:b(A,A.logicalOperator)}function b(A,W){if(A&&A.logicalOperator===W){var G=[],K=[],q=V(A.left,W);if(q){G.push(...q.args),K.push(...q.values);var ne=V(A.right,W);if(ne){G.push(...ne.args),K.push(...ne.values);var k=G[0];if(G.every(L=>_.isEqual(L,k)))return{args:[G[0]],values:K,not:W===d.um.And}}}}}function V(A,W){var G=[],K=[];if(v(A)){if(!function(A,W){return A===d.um.And&&W===d.tl.IsNot||A===d.um.Or&&W===d.tl.Is}(W,A.filterOperator))return;G.push(A.arg),K.push([A.condition.constant])}else{var q=b(A,W);if(!q)return;G.push(...q.args),K.push(...q.values)}return{args:G,values:K}}class P{constructor(W){this.schema=W}tryMatchPattern(W,G){var K;if(r.Y.assert(()=>void 0!==W,"There is no SQFilter for this Semantic filter"),K=this.matchTopN(W,G))return K;var q=W&&W.condition;if(q){if((K=this.tryMatchExpr(q,d.um.Undefined))||(K=this.tryMatchComplex(W,G)))return K;r.Y.assert(()=>null==K,"There is no pattern that currently matches `expr`")}}tryMatchExpr(W,G){var K;if((K=this.matchBasicFilter(W))||(K=this.matchRelativeRange(W,t.Z7.Date))||(K=this.matchRelativeRange(W,t.Z7.Time))||(K=this.matchBetweenFilter(W))||(K=this.matchAdvanced(W))||(K=this.matchCompareOperator(W))||G!==d.um.Or&&(K=this.tryMatchHierarchical(W))||(K=this.matchComposite(W,G))||(K=this.matchVisualTopNFilter(W)))return K;r.Y.assert(()=>null==K,"There is no pattern that currently matches `expr`")}tryMatchComplex(W,G){var K=(0,p.c)(W,G);if(K)return{complex:{args:_.map(K.fieldsBeingFiltered,q=>(0,s.F)(q))}}}matchBasicFilter(W){var G=!1;if((0,a.w8)(W)&&(G=!0,W=W.arg),(0,a.S1)(W)&&!W.table&&W.values)return{in:{args:_.map(W.args,K=>(0,s.F)(K)),values:_.map(W.values,K=>_.map(K,(q,ne)=>({value:q.value,type:q.type}))),not:G}}}matchVisualTopNFilter(W){if((0,a.q_)(W))return{visualTopN:{itemCount:W.itemCount}}}matchBetweenFilter(W){if((0,a.Bt)(W)){if((0,a.B6)(W.lower)&&(0,a.B6)(W.upper))return{between:{arg:(0,s.F)(W.arg),lower:{value:W.lower.arg.value,unit:W.lower.unit},upper:{value:W.upper.arg.value,unit:W.upper.unit}}};if((0,a.VO)(W.lower)&&(0,a.VO)(W.upper))return{between:{arg:(0,s.F)(W.arg),lower:{value:W.lower.value,type:W.lower.type},upper:{value:W.upper.value,type:W.upper.type}}}}}matchTopN(W,G){if(W&&G){var K=(0,u.c$)(W,G);if(K)return{topN:{fieldBeingFiltered:(0,s.F)(K.fieldBeingFiltered),isTop:K.isTop,itemCount:K.itemCount,orderByField:(0,s.F)(K.orderByField)}}}}matchRelativeRange(W,G){var K=(0,l.Pw)(W,G);if(K)return{relativeDateRange:{arg:(0,s.F)(K.field),options:K.options}}}matchCompareOperator(W){var G=W,K=!1;if((0,a.w8)(W)&&(G=W.arg,K=!0),(0,a.Wc)(G)||(0,a.c5)(G)||(0,a.qg)(G)){var q=this.getValuePattern(G.left,G.right);if(q)return{compareOperator:{arg:(0,s.F)(G.left),filterOperator:this.mapFromSQExprKindToFilterOperator(G,K),condition:q}}}}getValuePattern(W,G){if((0,a.B6)(G)){var K=G.arg;if((0,a.VO)(K))return{dateSpan:{value:K.value,unit:G.unit}}}if((0,a.VO)(G))return{constant:{value:G.value,type:G.type}};if((0,a.xb)(G)){var q=c.B.getDefaultValue(W,this.schema);return{defaultValue:{value:q.value,type:q.type}}}return(0,a.qz)(G)?{anyValue:{}}:void 0}matchAdvanced(W){if((0,a.mP)(W)||(0,a.yE)(W)){var G=(0,a.mP)(W)?d.um.And:d.um.Or,K=this.matchAdvanced(W.left)||this.matchCompareOperator(W.left);if(K){var q=this.matchAdvanced(W.right)||this.matchCompareOperator(W.right);if(q)return{advancedOperator:{logicalOperator:G,left:K.advancedOperator||K.compareOperator,right:q.advancedOperator||q.compareOperator}}}}}mapFromSQExprKindToFilterOperator(W,G){var q=d.tl.None;switch(W.kind){case n.Ez.Contains:q=G?d.tl.DoesNotContain:d.tl.Contains;break;case n.Ez.StartsWith:q=G?d.tl.DoesNotStartWith:d.tl.StartWith;break;case n.Ez.Compare:var ne=W;ne.comparison===i.mq.Equal?q=(0,a.VO)(ne.right)&&null==ne.right.value?G?d.tl.IsNotBlank:d.tl.IsBlank:(0,a.VO)(ne.right)&&""===ne.right.value?G?d.tl.IsNotEmptyString:d.tl.IsEmptyString:G?d.tl.IsNot:d.tl.Is:ne.comparison===i.mq.GreaterThan?q=d.tl.GreaterThan:ne.comparison===i.mq.GreaterThanOrEqual?q=d.tl.GreaterThanOrEqual:ne.comparison===i.mq.LessThan?q=d.tl.LessThan:ne.comparison===i.mq.LessThanOrEqual&&(q=d.tl.LessThanOrEqual);break;default:q=d.tl.None}return q}tryMatchHierarchical(W){var ne,k,G=[],K=[],q={hierarchical:{included:G,excluded:K}};if(W instanceof o.xC){if(ne=this.tryGetHierarchicalNode(W.left,!1)||this.tryGetHierarchicalNode(W.right,!1),k=this.tryGetHierarchicalNode(W.left,!0)||this.tryGetHierarchicalNode(W.right,!0),!ne||!k)return}else if(ne=this.tryGetHierarchicalNode(W,!1),k=this.tryGetHierarchicalNode(W,!0),!ne&&!k)return;return ne&&!this.matchHierarchicalNode(ne,!1,G)||k&&!this.matchHierarchicalNode(k,!0,K)?void 0:q}tryGetHierarchicalNode(W,G){if(G){if(W instanceof o.JC){if(W.arg instanceof o.zn||W.arg instanceof o.xC)return W.arg}else if(W instanceof o.xC)return W}else if(W instanceof o.Zd||W instanceof o.zn)return W}matchHierarchicalNode(W,G,K){if(W instanceof o.zn)return this.matchHierarchicalExpr(W,G,K);var q=this.tryGetHierarchicalNode(W,G);if(!q)return!1;r.Y.assert(()=>q instanceof o.Zd||q instanceof o.xC,".matchHierarchicalNode does not expect any other expr type");var ne=q;return this.matchHierarchicalExpr(ne.left,G,K)&&this.matchHierarchicalExpr(ne.right,G,K)}matchHierarchicalExpr(W,G,K){if(W instanceof o.zn){var q=this.matchBasicFilter(W);return!!q&&(K.push(q.in),q.in.not=G,!0)}return this.matchHierarchicalNode(W,G,K)}matchComposite(W,G){var K=!1;(0,a.w8)(W)&&(K=!0,W=W.arg);var q=(0,a.yE)(W);if((!q||G!==d.um.And)&&((0,a.yE)(W)||(0,a.mP)(W))){var ne=q?d.um.Or:d.um.And,k=this.tryMatchExpr(W.left,ne),L=this.tryMatchExpr(W.right,ne);if(k&&L)return{composite:{not:K,operator:ne,filters:[k,L]}}}}}function T(A,W){r.Y.assertValue(A,"filterPattern"),r.Y.assertValue(W,"visitor");var G=A.condition;return G.in?function(A,W){return r.Y.assertValue(A,"pattern"),r.Y.assertValue(W,"visitor"),W.visitIn(A)}(G.in,W):G.between?function(A,W){return r.Y.assertValue(A,"pattern"),r.Y.assertValue(W,"visitor"),W.visitBetween(A)}(G.between,W):G.relativeDateRange?function(A,W){return r.Y.assertValue(A,"pattern"),r.Y.assertValue(W,"visitor"),W.visitRelativeDateRange(A)}(G.relativeDateRange,W):G.compareOperator?function(A,W){return r.Y.assertValue(A,"pattern"),r.Y.assertValue(W,"visitor"),W.visitCompare(A)}(G.compareOperator,W):G.advancedOperator?function(A,W){return r.Y.assertValue(A,"pattern"),r.Y.assertValue(W,"visitor"),W.visitAdvanced(A)}(G.advancedOperator,W):G.composite?function(A,W){return r.Y.assertValue(A,"pattern"),r.Y.assertValue(W,"visitor"),W.visitComposite(A)}(G.composite,W):G.topN?function(A,W){return r.Y.assertValue(A,"pattern"),r.Y.assertValue(W,"visitor"),W.visitTopN(A)}(G.topN,W):G.complex?function(A,W){return r.Y.assertValue(A,"pattern"),r.Y.assertValue(W,"visitor"),W.visitComplex(A)}(G.complex,W):G.hierarchical?function(A,W){return r.Y.assertValue(A,"pattern"),r.Y.assertValue(W,"visitor"),W.visitHierarchical(A)}(G.hierarchical,W):G.visualTopN?function(A,W){return r.Y.assertValue(A,"pattern"),r.Y.assertValue(W,"visitor"),W.visitVisualTopN(A)}(G.visualTopN,W):void r.Y.assertFail("Failed to visit filterPattern")}},417841:function(ve,z,e){e.d(z,{BN:function(){return l},WY:function(){return m},kc:function(){return s},vl:function(){return v},yg:function(){return p}});var a=e(757406),i=e(476271),r=e(18122),t=e(73646),o=e(98138),d=e(293444),n=e(81825),c=e(579260);function s(h,C){var y=p(h,C,!1);if(y)return{isNot:_.some(y,f=>!f.selected),scopeIds:[_.map(y,f=>f.identity)]}}function p(h,C,y=!0){return u(h,C,!1,y)}function l(h,C,y=!0){return u(h,C,!0,y)}function u(h,C,y,f){r.Y.assertValue(h,"filter"),r.Y.assertValue(C,"fieldSQExprs"),r.Y.assert(()=>C.length>0,"There should be at least 1 field expression.");var S=h.conditions();r.Y.assert(()=>1===S.length,"There should be exactly 1 filter expression.");var b=S[0];if(b){var V=new g(C,f,b);if(b.accept(V))return y?V.getHierarchyResult():V.getResult()}}function v(h){r.Y.assertValue(h,"identity");var C=h.expr.accept(new E);if(C)return C.value}function m(h){return r.Y.assertValue(h,"identity"),h.expr.accept(new D)}class g extends t.nP{constructor(C,y,f){super(),this.supportsMultiLevelFilters=y,this.filter=f,this.isNot=!1,this.isAnd=!1,this.keyIndex=0,this.valueIndex=0,this.fieldExprs=[],this.groups=[],this.supportedGroups={};var S=0,b=0;for(var V of(this.values=[],C))if(r.Y.assertNonEmpty(V,"FilterScopeIdsCollectorVisitor identities should not be empty."),!_.isEmpty(V)){var M=_.map(V,P=>(0,a.bY)(P));this.supportedGroups[b+=V.length]=!0,this.fieldExprs.push(...M||[]),this.groups.push(..._.map(V,P=>S)),S++}}getResult(){return this.addScopeId(),this.toFilterNode(this.values,{index:0})}getHierarchyResult(){return this.addScopeId(),this.toHierarchyScopeIdentityFilterNode(this.values)}toFilterNode(C,y){var f=[];for(var S of C)f.push({identity:S.identity,selected:S.selected,checked:S.checked,children:_.isEmpty(S.children)?void 0:this.toFilterNode(S.children,y),index:S.checked?y.index++:void 0});return f}toHierarchyScopeIdentityFilterNode(C){var y=[];for(var f of C)y.push({identity:f.identity,operator:f.checked?f.selected?"Selected":"NotSelected":"Inherited",children:_.isEmpty(f.children)?void 0:this.toHierarchyScopeIdentityFilterNode(f.children)});return y}static getScopeIdentity(C,y){r.Y.assert(()=>y.length>0,"valueExprs has at least one valueExpr"),r.Y.assert(()=>y.length===C.length,"fieldExpr and valueExpr count should match");for(var f,S=0,b=C.length;S<b;S++){var V=(0,a.LC)(C[S],y[S]);f=f?(0,a.Uo)(f,V):V}return(0,i.UQ)(f)}visitOr(C){this.resetState();var y=C.left.accept(this);return this.resetState(),y&&C.right.accept(this)}visitAnd(C){if(this.supportsMultiLevelFilters){var y=!1;if((this.isNot&&(C.left instanceof a.xC||C.left instanceof a.zn)&&(C.right instanceof a.zn||C.right instanceof a.xC)||!this.isNot&&(C.left instanceof a.Zd||C.left instanceof a.zn||C.left instanceof a.xC||C.left instanceof a.JC)&&(C.right instanceof a.Zd||C.right instanceof a.zn||C.right instanceof a.xC||C.right instanceof a.JC)||(C.left instanceof a.j_||C.left instanceof a.xC)&&(C.right instanceof a.j_||C.right instanceof a.xC))&&(y=!0),y){var f=!1===this.isAnd;f&&this.resetState(),this.isAnd=!0;var S=C.left.accept(this)&&C.right.accept(this);return f&&(this.isAnd=!1),S}}return this.unsupportedSQExpr()}visitNot(C){this.isNot=!0;var y=C.arg.accept(this);return this.isNot=!1,y}visitConstant(C){return 0===this.keyIndex&&C.type.primitiveType===d.W.Null?this.unsupportedSQExpr():(this.addValue(C),!0)}visitCompare(C){return this.keyIndex>0&&!this.supportsMultiLevelFilters||C.comparison!==n.mq.Equal?this.unsupportedSQExpr():C.right instanceof a.JK||C.left.accept(this)&&C.right.accept(this)}visitIn(C){var f,y=this;if(!C.values)return!1;for(var S of(this.resetState(),C.args))if(!(f=S.accept(this)))return this.unsupportedSQExpr();if(!this.supportedGroups[this.keyIndex])return this.unsupportedSQExpr();var M,b=C.values,V=function(T){for(var N of(r.Y.assert(()=>T.length===y.keyIndex,"keys count and values count should match"),T))if(!(f=N.accept(y)))return{v:y.unsupportedSQExpr()}};for(var P of b)if(M=V(P))return M.v;return f}visitColumnRef(C){var y=(0,a.bY)(C),f=(0,o.aI)(this.fieldExprs[this.keyIndex],y);return this.keyIndex++,f}visitDefaultValue(C){return this.addValue(C),!0}visitAnyValue(C){return!0}visitDefault(C){return this.unsupportedSQExpr()}unsupportedSQExpr(){return!1}addValue(C){var y=this.valueIndex%this.keyIndex,f=this.groups[y];0===y?(this.addScopeId(),this.parent=void 0,this.currentNode=this.createNode(C)):this.currentNode.groupIndex===f?(this.currentNode.values.push(C),this.currentNode.columns.push(this.fieldExprs[y])):(this.currentNode.checked=!1,this.parent=this.addScopeId(),this.currentNode=this.createNode(C)),this.valueIndex++}addScopeId(){if(this.currentNode){var C=this.currentNode,y=this.parent&&this.parent.children||this.values,f=_.find(y,S=>(0,c.m2)(S.values,C.values,o.aI));return f?C.checked&&!f.checked&&(f.selected=C.selected,f.checked=C.checked):(C.identity=g.getScopeIdentity(C.columns,C.values),y.push(C)),f||C}}createNode(C){var y=this.valueIndex%this.keyIndex;return{children:[],selected:!this.isNot,checked:!0,values:[C],columns:[this.fieldExprs[y]],groupIndex:this.groups[y],identity:void 0}}resetState(){this.keyIndex=0,this.valueIndex=0}}class E extends t.nP{visitAnd(C){return C.left.accept(this)||C.right.accept(this)}visitCompare(C){if(C.comparison===n.mq.Equal){if(C.right instanceof a.wy)return C.right;if(C.left instanceof a.wy)return C.left}}}class D extends t.nP{visitAnd(C){var y=[];return(y=y.concat(C.left.accept(this))).concat(C.right.accept(this))}visitCompare(C){if(C.comparison===n.mq.Equal){var y=[];return C.right instanceof a.wy?y.push({expr:C.left,value:C.right.value}):C.left instanceof a.wy&&y.push({expr:C.right,value:C.left.value}),y}}}},576926:function(ve,z,e){e.d(z,{c:function(){return o}});var a=e(98138),i=e(258480),r=e(415585),t=e(400388);function o(n,c){if(n){if(n instanceof i.b0){var s=n.conditions();return _.isEmpty(s)||s.length>1?void 0:d(n.from(),s[0])}return d(c,n.condition)}}function d(n,c){var s=(0,t.C)(c),p={fieldsBeingFiltered:_.uniqWith(s.fieldsBeingFiltered,a.aI),isSubquery:!1};if(s.subqueryName){p.isSubquery=!0;var l=n.sources(),v=(0,r.e)(l&&l[s.subqueryName]);v&&(p.orderByField=v.orderByField,p.itemCount=v.itemCount,p.isTop=v.isTop)}return p}},542987:function(ve,z,e){e.d(z,{C:function(){return o},TS:function(){return n}});var a=e(620825),i=e(81825),r=e(18122),t=e(744524);function o(u){if(u){var v=u.conditions();if(v&&1===v.length)return function(u){var v=new l;return v.tryParseCondition(u)?{field:v.field,options:v.options}:null}(v[0])}}function n(u){return p(u,1)}function p(u,v){var m={};if(null!=u.min){r.Y.assert(()=>(0,t.th)(u.min),"Implementing DateWithEpochValue is needed for serialization");var g=(0,t.Ar)(u.min);g.setHours(0,0,0,0);var E=new Date(g.epochTimeStamp);E.setUTCHours(0,0,0,0),g.epochTimeStamp=E.getTime(),m.min=g}if(null!=u.max){r.Y.assert(()=>(0,t.th)(u.max),"Implementing DateWithEpochValue is needed for serialization");var D=new Date(u.max.getFullYear(),u.max.getMonth(),u.max.getDate()+v);D.epochTimeStamp=Date.UTC(D.getFullYear(),D.getMonth(),D.getDate()),m.max=D}return m}class l{tryParseCondition(v){return(0,a.mP)(v)?this.tryParseAndCondition(v):!!(0,a.Wc)(v)&&this.tryParseCompareCondition(v)}tryParseAndCondition(v){var m=v;return!(!(0,a.Wc)(m.left)||!(0,a.Wc)(m.right))&&this.tryParseCompareCondition(m.left)&&this.tryParseCompareCondition(m.right)}tryParseCompareCondition(v){var m=v;return!(!(0,a.R3)(m.left)&&!(0,a.Ah)(m.left))&&(this.field=m.left,this.options=this.options||{},this.tryParseNumericCompareCondition(m)||this.tryParseDateCompareCondition(m))}tryParseNumericCompareCondition(v){if(!(0,a.GK)(v.right))return!1;switch(v.comparison){case i.mq.Equal:this.options.min=v.right.value,this.options.max=v.right.value;break;case i.mq.GreaterThan:case i.mq.GreaterThanOrEqual:this.options.min=v.right.value;break;case i.mq.LessThan:case i.mq.LessThanOrEqual:this.options.max=v.right.value;break;default:return r.Y.assertNever(v.comparison),!1}return!0}tryParseDateCompareCondition(v){return(0,a.B6)(v.right)&&v.right.arg&&(0,a.tC)(v.right.arg)?this.tryParseDateConstantCondition(v.comparison,v.right.arg):!!(0,a.tC)(v.right)&&this.tryParseDateConstantCondition(v.comparison,v.right)}parseDateValue(v){return(0,t.th)(v)?v:(0,t.IG)(new Date(v))}tryParseDateConstantCondition(v,m){switch(v){case i.mq.Equal:this.options.min=this.parseDateValue(m.value),this.options.max=this.parseDateValue(m.value);break;case i.mq.GreaterThan:case i.mq.GreaterThanOrEqual:this.options.min=this.parseDateValue(m.value);break;case i.mq.LessThan:this.options.max=this.parseDateValue(m.value),this.options=p(this.options,-1);break;case i.mq.LessThanOrEqual:this.options.max=this.parseDateValue(m.value);break;default:return r.Y.assertNever(v),!1}return v!==i.mq.LessThan&&(this.options=p(this.options,0)),!0}}},169430:function(ve,z,e){e.d(z,{C:function(){return g},Pw:function(){return E},ls:function(){return s},qd:function(){return p},ur:function(){return v},yY:function(){return D}});var a=e(620825),i=e(98138),r=e(81825),t=e(18122),o=e(359317),d=e(258480),n=e(757406),c=e(233716);function s(f){var S=p(f);return d.b0.fromSQExpr(S)}function p(f,S=!1){var b=f.field,V=f.options,M=null,P=(0,n.tB)();if(f.options.anchorDate&&!(0,o.ul)(V.relativeUnit)){var T=f.options.anchorDate;T.epochTimeStamp=Date.UTC(T.getFullYear(),T.getMonth(),T.getDate(),T.getHours(),T.getMinutes(),T.getSeconds(),T.getMilliseconds()),P=(0,n.KQ)(f.options.anchorDate)}var N=function(f){switch(f){case o.VR.CalendarYear:case o.VR.Year:return r.yr.Year;case o.VR.CalendarMonth:case o.VR.Month:return r.yr.Month;case o.VR.CalendarWeek:case o.VR.Week:return r.yr.Week;case o.VR.Day:return r.yr.Day;case o.VR.Hour:return r.yr.Hour;case o.VR.Minute:return r.yr.Minute;case o.VR.Second:return r.yr.Second;default:return void t.Y.assertFail("Unsupported RelativeDateUnit")}}(V.relativeUnit),w=v(V.relativeUnit,S);switch(V.relativeQualifier){case o.Bn.Current:var I=(0,n.b5)(N,P);M=(0,n.UD)(r.mq.Equal,b,I);break;case o.Bn.Last:if(w)M=l(-V.duration,-1,N,P,b);else if((0,o.ul)(V.relativeUnit)){var O=P,x=(0,n.El)(N,-V.duration,P);M=(0,n.Tq)(b,x,O)}else{var j=V.includeToday?P:(0,n.El)(r.yr.Day,-1,P),U=(0,n.b5)(r.yr.Day,j),F=(0,n.b5)(r.yr.Day,(0,n.El)(N,-V.duration,(0,n.El)(r.yr.Day,1,j)));M=(0,n.Tq)(b,F,U)}break;case o.Bn.Next:if(w)M=l(1,V.duration,N,P,b);else if((0,o.ul)(V.relativeUnit)){var R=P,B=(0,n.El)(N,V.duration,P);M=(0,n.Tq)(b,R,B)}else{var A=V.includeToday?P:(0,n.El)(r.yr.Day,1,P),W=(0,n.b5)(r.yr.Day,A),G=(0,n.b5)(r.yr.Day,(0,n.El)(N,V.duration,(0,n.El)(r.yr.Day,-1,A)));M=(0,n.Tq)(b,W,G)}}return M}function l(f,S,b,V,M){var P=(0,n.b5)(b,(0,n.El)(b,f,V)),T=(0,n.b5)(b,(0,n.El)(b,S,V));return(0,n.Tq)(M,P,T)}function v(f,S=!1){switch(f){case o.VR.Second:case o.VR.Minute:case o.VR.Hour:case o.VR.Year:case o.VR.Month:case o.VR.Week:return!1;case o.VR.Day:return S;case o.VR.CalendarYear:case o.VR.CalendarMonth:case o.VR.CalendarWeek:return!0;default:return void t.Y.assertFail("Unsupported RelativeDateUnit")}}function m(f,S){switch(f){case r.yr.Day:return o.VR.Day;case r.yr.Week:return S?o.VR.CalendarWeek:o.VR.Week;case r.yr.Month:return S?o.VR.CalendarMonth:o.VR.Month;case r.yr.Year:return S?o.VR.CalendarYear:o.VR.Year;case r.yr.Hour:return o.VR.Hour;case r.yr.Minute:return o.VR.Minute;case r.yr.Second:return o.VR.Second;default:return}}function g(f,S){if(f){var b=f.conditions();if(b&&1===b.length)return E(b[0],S)}}function E(f,S){var b=new y(S);if(b.tryExtractParametersFrom(f))return{field:b.field,options:b.options}}function D(f){return!!f&&(!(!f.where()||!function(f){var S=new y(o.Z7.Time);for(var b of f)if(b.condition&&S.tryExtractParametersFrom(b.condition))return!0;return!1}(f.where()))||function(f){var S=f.sources();if(!S)return!1;for(var b of f.keys()){var V=S[b];if((0,c.c)(V)&&V.subquery&&D(V.subquery))return!0}return!1}(f.from()))}class y{constructor(S){this.relativeFilterType=S}tryExtractParametersFrom(S){return this.tryExtractCurrent(S)||this.tryExtractLastOrNext(S)}tryExtractCurrent(S){if((0,a.Wc)(S)){var b=S;if(((0,a.R3)(b.left)||(0,a.Ah)(b.left))&&(this.field=b.left,(0,a.B6)(b.right))){var V=b.right,M=o.q1.convertTimeUnitToRelativeFilterType(V.unit);if(this.relativeFilterType!==M)return!1;if(void 0!==m(V.unit,!1)&&((0,a.DK)(V.arg)||(0,a.tC)(V.arg))&&(this.options={duration:1,includeToday:!0,includeTodayFromDefault:!0,relativeQualifier:o.Bn.Current,relativeUnit:m(V.unit,!1)},(0,a.tC)(V.arg)&&(this.options.anchorDate=V.arg.value),this.validateOptions(S)))return!0}}return!1}tryExtractLastOrNext(S){if((0,a.Bt)(S)){var b=S;if((0,a.R3)(b.arg)||(0,a.Ah)(b.arg))if(this.field=b.arg,(0,a.B6)(b.upper)&&(0,a.B6)(b.lower)){if(this.options=this.getOptionsFromDateSpan(b.lower,o.Bn.Last),this.validateOptions(S)||(this.options=this.getOptionsFromDateSpan(b.upper,o.Bn.Next),this.validateOptions(S)))return!0}else if((0,a.yS)(b.upper)||(0,a.yS)(b.lower)){var V=b.lower,M=b.upper;if(this.options=this.getOptionsFromDateAdd(V,V.unit,o.Bn.Last),this.validateOptions(S)||(this.options=this.getOptionsFromDateAdd(M,M.unit,o.Bn.Next),this.validateOptions(S)))return!0}}return!1}getOptionsFromDateSpan(S,b){if((0,a.B6)(S))return this.getOptionsFromDateAdd(S.arg,S.unit,b)}getOptionsFromDateAdd(S,b,V){if((0,a.yS)(S)){var M=S,P=o.q1.convertTimeUnitToRelativeFilterType(M.unit);if(this.relativeFilterType!==P)return;var T=b===M.unit&&b!==r.yr.Day,N=!!T||this.getIncludeToday(M.arg),w=this.getAnchorDate(M);switch(V){case o.Bn.Last:if(M.amount<0)return{duration:-M.amount,includeToday:N,relativeQualifier:V,relativeUnit:m(M.unit,T),anchorDate:w};break;case o.Bn.Next:if(M.amount>0)return{duration:M.amount,includeToday:N,relativeQualifier:V,relativeUnit:m(M.unit,T),anchorDate:w}}}}getAnchorDate(S){for(var b=S;(0,a.yS)(b);)b=b.arg;if((0,a.tC)(b))return b.value}getIncludeToday(S){if((0,a.yS)(S)){var b=S;return(0,a.DK)(b.arg)||(0,a.tC)(b.arg)}return!1}validateOptions(S){if(!this.field||!this.options)return!1;var b={field:this.field,options:this.options};return(0,i.aI)(S,p(b))||this.options.relativeUnit===o.VR.Day&&!this.options.includeToday&&(0,i.aI)(S,p(b,!0))}}},106302:function(ve,z,e){e.d(z,{BI:function(){return s},Rq:function(){return g},Tv:function(){return u},Ve:function(){return m},gE:function(){return v},lj:function(){return l},m4:function(){return p},xD:function(){return c}});var a=e(620825),i=e(98138),r=e(81825),t=e(579260),o=e(18122),d=e(757406),n=e(73646);function c(C){var y=new g;return C.accept(y),y.malformed?null:(0,t.qR)(y.keys)}function s(C){var y=new g;return C.accept(y),y.malformed?null:(0,t.qR)(y.values)}function p(C){var y=new g;return C.accept(y),y.malformed?null:(0,t.qR)(y.pairs)}function l(C){if((0,a.S1)(C))return C;var y=new g;if(C.accept(y),!y.malformed){var f=(0,t.qR)(y.keys),S=(0,t.qR)(y.values);if(f&&S)return(0,d.eu)(f,[S])}}function u(C,y){o.Y.assertValue(C,"expr"),o.Y.assertNonEmpty(y,"subsetFieldExprs");var f=new E(y);return C.accept(f),f.getResult()}function v(C,y){if(!y||!C)return[];var f=new h(C);return y.accept(f),f.getValues()}function m(C){var y=new D;return C.accept(y),!!y.containsSelectRef}class g extends n.nP{constructor(){super(...arguments),this.keys=[],this.values=[],this.pairs=[]}visitAnd(y){y.left.accept(this),y.right.accept(this)}visitCompare(y){y.comparison===r.mq.Equal?(o.Y.assert(()=>y.left instanceof d.yj&&y.right instanceof d.wy,"invalid compare expr operands"),this.pairs.push(y),y.left.accept(this),y.right.accept(this)):this.visitDefault(y)}visitIn(y){for(var f of y.args)f.accept(this);for(var S of y.values)for(var b of S)b.accept(this)}visitSelectRef(y){this.keys.push(y)}visitColumnRef(y){this.keys.push(y)}visitGroupRef(y){this.keys.push(y)}visitHierarchyLevel(y){this.keys.push(y)}visitConstant(y){this.values.push(y)}visitArithmetic(y){this.keys.push(y)}visitDefault(y){this.malformed=!0}}class E extends n.nP{constructor(y){super(),o.Y.assertNonEmpty(y,"identityFieldExprs"),this.identityFieldExprs=y,this.identityComparisonExprs=[],this.identityComparisonExprCount=0}getResult(){if(o.Y.assert(()=>this.identityComparisonExprCount===_.filter(this.identityComparisonExprs,S=>!!S).length,"invariant: this.identityComparisonExprCount should equal to the number of defined elements in this.identityComparisonExprs array"),!this.malformed&&this.identityComparisonExprCount===this.identityFieldExprs.length){var y;for(var f of this.identityComparisonExprs)y=y?(0,d.Uo)(y,f):f;return y}}visitAnd(y){y.left.accept(this),y.right.accept(this)}visitCompare(y){if(y.comparison===r.mq.Equal){var f=_.findIndex(this.identityFieldExprs,S=>(0,i.aI)(y.left,S));f>=0&&!this.identityComparisonExprs[f]&&(this.identityComparisonExprs[f]=y,this.identityComparisonExprCount++)}else this.visitDefault(y)}visitDefault(y){this.malformed=!0}}class D extends n.ff{visitSelectRef(y){this.containsSelectRef=!0}}class h extends n.nP{constructor(y){super(),this.targetExpr=y,this.orderedValues=[]}getValues(){return _.uniq(this.orderedValues)}visitAnd(y){y.left.accept(this),y.right.accept(this)}visitOr(y){y.left.accept(this),y.right.accept(this)}visitCompare(y){y.comparison===r.mq.Equal&&(y.right instanceof d.Dw&&(0,i.aI)(y.right,this.targetExpr)&&y.left instanceof d.wy&&this.orderedValues.push(y.left.value),y.left instanceof d.Dw&&(0,i.aI)(y.left,this.targetExpr)&&y.right instanceof d.wy&&this.orderedValues.push(y.right.value))}visitIn(y){var f=-1;if(!y.table){for(var S=0;S<y.args.length;S++)if((0,i.aI)(y.args[S],this.targetExpr)){f=S;break}if(-1!==f)for(var b of y.values){var V=b[f];V instanceof d.wy&&this.orderedValues.push(V.value)}}}}},415585:function(ve,z,e){e.d(z,{e:function(){return n}});var a=e(233716),i=e(924672),r=e(18122),t=e(73646),o=e(188076),d=function(s){return s[s.Root=0]="Root",s[s.InAggregate=1]="InAggregate",s}({});function n(s){if(s&&(0,a.c)(s)){var p=s.subquery.orderBy();if(!p||1!==p.length)return;var l=p[0],u=new c;return u.visitOrderBy(l.expr)?{orderByField:u.orderByField,isTop:l.direction===i.U.Descending,itemCount:s.subquery.top()}:void 0}}class c extends t.Li{constructor(){super(),this.orderByField=null}visitOrderBy(p){return p.accept(this,d.Root)}visitAggr(p,l){return l===d.Root&&(r.Y.assertValue((0,o.F)(p),"expected field pattern"),this.orderByField=p,!0)}visitMeasureRef(p,l){return l===d.Root&&(this.orderByField=p,!0)}}},400895:function(ve,z,e){e.d(z,{c$:function(){return s},hQ:function(){return p}});var a=e(924672),i=e(18122),r=e(258480),t=e(757406),o=e(73646),d=e(671825),n=e(233716),c=e(415585);function s(g,E){if(g){if(g instanceof r.b0){var D=g.conditions();return i.Y.assertValue(D,"conditions"),i.Y.assert(()=>1===D.length,"should be exactly one filter condition for a TopN filter"),l(g.from(),D[0])}return l(E,g.condition)}}function p(g){var E=function(g){var E=new d.l0,D=r.O8.rewrite(g.fieldBeingFiltered,null,E),h=r.O8.rewrite(g.orderByField,null,E);return r.DC.createWith({from:E,orderBy:[{expr:h,direction:g.isTop?a.U.Descending:a.U.Ascending}],select:[{name:"field",expr:D}],top:g.itemCount})}(g),D=new d.m$(E),h=new d.l0,C=h.ensureSource(D,"subquery"),y=(0,t.Kd)([g.fieldBeingFiltered],(0,t.a_)(C.name));return r.b0.fromSQFromAndSQExpr(h,y)}function l(g,E){i.Y.assertValue(g,"from"),i.Y.assertValue(E,"condition");var D=new m;if(D.visitCondition(E)){var h=g.sources(),C=h&&h[D.subqueryName],y=(0,c.e)(C);if(y&&(0,n.c)(C))return{fieldBeingFiltered:D.fieldBeingFiltered,isTop:y.isTop,itemCount:C.subquery.top(),orderByField:y.orderByField}}}var v=function(g){return g[g.Root=0]="Root",g[g.LeftOfIn=1]="LeftOfIn",g[g.RightOfIn=2]="RightOfIn",g}({});class m extends o.Li{constructor(){super(),this.fieldBeingFiltered=null,this.subqueryName=null}visitCondition(E){return E.accept(this,v.Root)}visitIn(E,D){return!!(D===v.Root&&E.args&&1===E.args.length&&E.args[0].accept(this,v.LeftOfIn)&&E.table&&E.table.accept(this,v.RightOfIn))}visitColumnRef(E,D){return D===v.LeftOfIn&&(this.fieldBeingFiltered=E,!0)}visitHierarchyLevel(E,D){return D===v.LeftOfIn&&(this.fieldBeingFiltered=E,!0)}visitGroupRef(E,D){return D===v.LeftOfIn&&(this.fieldBeingFiltered=E,!0)}visitSubqueryRef(E,D){return D===v.RightOfIn&&(E.variable?this.subqueryName=E.variable:i.Y.assertFail("SubqueryRef with a direct subquery not expected here"),!0)}}},914348:function(ve,z,e){e.d(z,{a:function(){return c}});var a=e(335128),i=e(188076),r=e(158649),t=e(18122),o=e(757406),d=e(524034);class n extends d.q{constructor(l){t.Y.assertValue(l,"func"),super(),this.func=l}visitAggr(l){return l.func===this.func?l:new o.wC(l.arg,this.func)}visitColumnRef(l){return new o.wC(l,this.func)}visitGroupRef(l){return new o.wC(l,this.func)}visitHierarchyLevel(l){return new o.wC(l,this.func)}static rewrite(l,u){t.Y.assertValue(l,"expr"),t.Y.assertValue(u,"func");var v=new n(u);return l.accept(v)}}function c(p,l){return s.rewrite(p,l)}class s{constructor(l,u){this.sqExpr=l,this.aggregate=u}static rewrite(l,u){return(0,a.YR)((0,i.F)(l),new s(l,u))}visitPercentOfGrandTotal(l){return l.baseExpr=(0,i.F)(n.rewrite((0,r.to)(l.baseExpr),this.aggregate)),(0,r.to)({percentOfGrandTotal:l})}visitPercentOfRoleTotal(l){return l.baseExpr=(0,i.F)(n.rewrite((0,r.to)(l.baseExpr),this.aggregate)),(0,r.to)({percentOfRoleTotal:l})}visitFilteredEval(l){return l.baseExpr=(0,i.F)(n.rewrite((0,r.to)(l.baseExpr),this.aggregate)),(0,r.to)({filteredEval:l})}visitColumn(l){return this.defaultRewrite()}visitColumnAggr(l){return this.defaultRewrite()}visitGroupingColumn(l){return this.defaultRewrite()}visitGroupingColumnAggr(l){return this.defaultRewrite()}visitColumnHierarchyVariation(l){return this.defaultRewrite()}visitColumnHierarchyLevelVariation(l){return this.defaultRewrite()}visitColumnSubquery(l){return this.defaultRewrite()}visitColumnAggrSubquery(l){return this.defaultRewrite()}visitColumnNativeTable(l){return this.defaultRewrite()}visitColumnAggrNativeTable(l){return this.defaultRewrite()}visitColumnTransformRef(l){return this.defaultRewrite()}visitSelectRef(l){return this.defaultRewrite()}visitEntity(l){return this.defaultRewrite()}visitEntityAggr(l){return this.defaultRewrite()}visitHierarchy(l){return this.defaultRewrite()}visitHierarchyLevel(l){return this.defaultRewrite()}visitHierarchyLevelAggr(l){return this.defaultRewrite()}visitMeasure(l){return this.defaultRewrite()}visitPercentile(l){return this.defaultRewrite()}visitTransformOutputRoleRef(l){return this.defaultRewrite()}visitArithmetic(l){return this.defaultRewrite()}visitConstant(l){return this.defaultRewrite()}visitSparklineData(l){return this.defaultRewrite()}visitNativeVisualCalc(l){return this.defaultRewrite()}defaultRewrite(){return n.rewrite(this.sqExpr,this.aggregate)}}},893613:function(ve,z,e){e.d(z,{s:function(){return d}});var a=e(335128),i=e(188076),r=e(158649),t=e(524034),o=e(18122);function d(s,p){return c.rewrite(s,p)}var n=(()=>{class s extends t.q{visitAggr(l){return l.arg}static rewrite(l){return o.Y.assertValue(l,"expr"),l.accept(s.instance)}}return s.instance=new s,s})();class c{constructor(p){this.sqExpr=p}static rewrite(p,l){return(0,a.YR)((0,i.F)(p,l),new c(p))}visitPercentOfGrandTotal(p){return c.rewrite((0,r.to)(p.baseExpr))}visitPercentOfRoleTotal(p){return c.rewrite((0,r.to)(p.baseExpr))}visitFilteredEval(p){return c.rewrite((0,r.to)(p.baseExpr))}visitColumn(p){return this.defaultRewrite()}visitColumnAggr(p){return this.defaultRewrite()}visitGroupingColumn(p){return this.defaultRewrite()}visitGroupingColumnAggr(p){return this.defaultRewrite()}visitColumnHierarchyVariation(p){return this.defaultRewrite()}visitColumnHierarchyLevelVariation(p){return this.defaultRewrite()}visitColumnSubquery(p){return this.defaultRewrite()}visitColumnAggrSubquery(p){return this.defaultRewrite()}visitColumnNativeTable(p){return this.defaultRewrite()}visitColumnAggrNativeTable(p){return this.defaultRewrite()}visitColumnTransformRef(p){return this.defaultRewrite()}visitSelectRef(p){return this.defaultRewrite()}visitEntity(p){return this.defaultRewrite()}visitEntityAggr(p){return this.defaultRewrite()}visitHierarchy(p){return this.defaultRewrite()}visitHierarchyLevel(p){return this.defaultRewrite()}visitHierarchyLevelAggr(p){return this.defaultRewrite()}visitMeasure(p){return this.defaultRewrite()}visitPercentile(p){return this.defaultRewrite()}visitTransformOutputRoleRef(p){return this.defaultRewrite()}visitArithmetic(p){return this.defaultRewrite()}visitConstant(p){return this.defaultRewrite()}visitSparklineData(p){return this.defaultRewrite()}visitNativeVisualCalc(p){return this.defaultRewrite()}defaultRewrite(){return n.rewrite(this.sqExpr)}}},163252:function(ve,z,e){e.d(z,{M:function(){return o}});var a=e(990328),i=e(757406),r=e(671825),t=e(579260);class o extends a.k{constructor(n){super(),this.query=n,this.hasRewrites=!1}visitSubqueryRef(n){if(!n.query)return n;var s=new o(n.query).rewrite();this.mergedFrom||(this.mergedFrom=this.query.from());var p=new r.m$(s),l=this.mergedFrom.ensureSource(p);return this.hasRewrites=!0,(0,i.a_)(l.name)}get didRewrite(){return this.hasRewrites}rewrite(){var n=this.query.select(),c=(0,t.s0)((0,t.cd)(n,s=>{var p=s.expr.accept(this);return p===s.expr?s:{name:s.name,expr:p}}));return c===n?this.query:this.query.createModified({from:this.mergedFrom,select:c})}}},625694:function(ve,z,e){e.d(z,{Qq:function(){return s},gd:function(){return n},nd:function(){return c},x5:function(){return u},xA:function(){return p},zM:function(){return l}});var a=e(293444),i=e(18122),r=e(744524),t=/'/g,o=/\.000$/;function n(v){return i.Y.assertValue(v,"value"),v+"D"}function c(v){return i.Y.assertValue(v,"value"),v+"L"}function s(v){return i.Y.assertValue(v,"value"),"'"+v.replace(t,"''")+"'"}function p(){return"null"}function l(v){return v?"true":"false"}function u(v,m){if(null===v)return"null";switch(m.primitiveType){case a.W.Integer:return i.Y.assert(()=>_.isString(v)||_.isNumber(v),`Expected either a string or number value to encode for type ${m}`),v+"L";case a.W.Decimal:return i.Y.assert(()=>_.isString(v)||_.isNumber(v),`Expected either a string or number value to encode for type ${m}`),v+"M";case a.W.Double:return i.Y.assert(()=>_.isString(v)||_.isNumber(v),`Expected either a string or number value to encode for type ${m}`),v+"D";case a.W.DateTime:case a.W.Date:var E;return v instanceof Date?(E=(0,r.th)(v)?new Date(v.epochTimeStamp).toISOString():new Date(v.getTime()-6e4*v.getTimezoneOffset()).toISOString(),_.endsWith(E,"Z")&&(E=E.substr(0,E.length-1)),E=E.replace(o,"")):(i.Y.assert(()=>_.isString(v),`Expected a string or a Date value for type ${m}`),E=v),`datetime'${E}'`;case a.W.Text:return i.Y.assert(()=>_.isString(v),`Expected a string value to encode for type ${m}`),s(v);case a.W.Boolean:return i.Y.assert(()=>_.isBoolean(v),`Expected boolean values for type ${m}`),l(v);case a.W.Variant:return i.Y.assert(()=>_.isString(v),`Expected string values to encode for type ${m}`),v;default:i.Y.assertFail(`unsupported dsrValue for type ${m}`)}}},258480:function(ve,z,e){e.d(z,{O8:function(){return T},b0:function(){return P},DC:function(){return M},VU:function(){return V},Aj:function(){return x},m4:function(){return j}});var a=e(81825),i=e(579260),r=e(18122),t=e(989417),o=e(910058),d=e(757406),n=e(448724),c=e(990328),s=e(73646),p=e(671825),l=e(233716),v=e(620825),m=e(98138),g=e(303609),E=e(454840),D=e(961564);function h(F,R,B){r.Y.assertValue(F,"namedItems");for(var A={},W=0,G=F.length;W<G;W++)A[F[W].name]=!0;return(0,E.uL)(A,B||(0,D.Z)(R))}var C=e(664158),f=(()=>{class F extends s.nP{visitCompare(B){return B.comparison===a.mq.Equal&&B.right.accept(this)}visitAnd(B){return B.left.accept(this)&&B.right.accept(this)}visitAnyValue(B){return!0}visitDefault(B){return!1}}return F.instance=new F,F})(),S=e(15134),b=e(759831);class V{constructor(R){this.exprRewriter=R}static rewriteFrom(R,B){for(var A,W=R,G=W.keys(),K=0,q=G.length;K<q;K++){var ne=G[K],k=W.source(ne),L=k.accept(B,ne);(k!==L||A)&&(A||(A=_.pick(W.sources(),G.slice(0,K))),A[ne]=L)}return A?new p.l0(A):W}rewriteFrom(R){return V.rewriteFrom(R,new p.gW(this.exprRewriter))}rewriteSelect(R,B){return r.Y.assertValue(R,"selectItems"),r.Y.assertValue(B,"from"),this.rewriteNamedSQExpressions(R,B)}rewriteGroupBy(R,B){if(r.Y.assertAnyValue(R,"groupByitems"),r.Y.assertValue(B,"from"),!_.isEmpty(R))return this.rewriteNamedSQExpressions(R,B)}rewriteNamedSQExpressions(R,B){return r.Y.assertValue(R,"expressions"),_.map(R,A=>({name:A.name,expr:T.rewrite(A.expr.accept(this.exprRewriter),B,B),nativeReferenceName:A.nativeReferenceName}))}rewriteOrderBy(R,B){if(r.Y.assertAnyValue(R,"orderByItems"),r.Y.assertValue(B,"from"),!_.isEmpty(R)){for(var A=[],W=0,G=R.length;W<G;W++){var K=R[W],q=T.rewrite(K.expr.accept(this.exprRewriter),B,B);A.push({direction:K.direction,expr:q})}return A}}rewriteWhere(R,B){if(r.Y.assertAnyValue(R,"whereItems"),r.Y.assertValue(B,"from"),!_.isEmpty(R)){for(var A=[],W=0,G=R.length;W<G;W++){var K=R[W],q={condition:T.rewrite(K.condition.accept(this.exprRewriter),B,B)};K.target&&(q.target=_.map(K.target,ne=>T.rewrite(ne.accept(this.exprRewriter),B,B))),K.annotations&&(q.annotations=K.annotations),A.push(q)}return A}}rewriteTransform(R,B){if(r.Y.assertAnyValue(R,"transformItems"),r.Y.assertAnyValue(B,"from"),!_.isEmpty(R)){var A=[];for(var W of R){var G=void 0;W.input.table&&!_.isEmpty(W.input.table.columns)&&(G=_.map(W.input.table.columns,q=>({role:q.role,expression:{name:q.expression.name,expr:T.rewrite(q.expression.expr.accept(this.exprRewriter),B,B)}})));var K={name:W.name,algorithm:W.algorithm,input:{parameters:W.input.parameters},output:W.output};W.input.table&&(K.input.table={name:W.input.table.name,columns:G}),A.push(K)}return A}}}class M{constructor(R,B,A,W,G,K,q){r.Y.assertValue(R,"from"),r.Y.assertValue(W,"select"),this.fromValue=R,this.whereItems=B,this.orderByItems=A,this.selectItems=W,this.groupByItems=G,this.transformItems=K,null!=q&&(this.topValue=q)}static create(){return M.empty||(M.empty=new M(new p.l0,null,null,[],null,null,null)),M.empty}static createWith(R,B){return r.Y.assertValue(R,"clauses"),B||(R=M.normalize(R)),new M(R.from,R.where,R.orderBy,R.select,R.groupBy,R.transforms,R.top)}createModified(R){return M.createWith({from:void 0!==R.from?R.from:this.fromValue,where:void 0!==R.where?R.where:this.whereItems,transforms:void 0!==R.transforms?R.transforms:this.transformItems,orderBy:void 0!==R.orderBy?R.orderBy:this.orderByItems,select:void 0!==R.select?R.select:this.selectItems,groupBy:void 0!==R.groupBy?R.groupBy:this.groupByItems,top:void 0!==R.top?R.top:this.topValue})}static normalize(R){var B={clauses:{from:R.from,where:R.where,orderBy:R.orderBy,select:R.select,groupBy:R.groupBy,transforms:R.transforms,top:R.top},usedSourceNames:{}};return M.removeUnreferencedKeys(B),M.renameSources(B),M.renameSourcesInSubqueries(B),B.clauses}static removeUnreferencedKeys(R){var B=R.clauses,A=B.from,W=B.where,G=B.orderBy,K=B.select,q=B.groupBy,ne=B.transforms,k=new N(A.keys());if(W)for(var L=0,X=W.length;L<X;L++){var Y=W[L];Y.condition.accept(k);var Q=Y.target;if(Q)for(var H=0,te=Q.length;H<te;H++)Q[H]&&Q[H].accept(k)}if(ne)for(var ee=0,ue=ne.length;ee<ue;ee++){var Te=ne[ee].input.table;if(Te&&!_.isEmpty(Te.columns))for(var He of Te.columns)He.expression.expr.accept(k)}if(G)for(var We=0,ft=G.length;We<ft;We++)G[We].expr.accept(k);for(var mt=0,At=K.length;mt<At;mt++)K[mt].expr.accept(k);if(q)for(var Qe=0,Fe=q.length;Qe<Fe;Qe++)q[Qe].expr.accept(k);var ye=k.result();if(ye){var we=A.clone();for(var Ee of ye)we.remove(Ee);R.clauses.from=we}}static renameSources(R){var B=R.clauses.from,A=B.renameSources(R.usedSourceNames);A!==B&&(R.clauses.from=A,M.rewriteClauses(R.clauses,new T(B,A)))}static renameSourcesInSubqueries(R){R.clauses.from=I.renameSources(M.renameSourcesInQuery,R.clauses.from,R.usedSourceNames)}static renameSourcesInQuery(R,B){var A={clauses:R.getClauses(),usedSourceNames:B},W=A.clauses.from;return M.renameSources(A),M.renameSourcesInSubqueries(A),A.clauses.from===W?R:M.createWith(A.clauses)}from(R){return R?this.createModified({from:R}):this.fromValue.clone()}select(R){return _.isEmpty(arguments)?this.getSelect():this.setSelect(R)}getSelect(){return M.createNamedExpressionArray(this.selectItems)}static createNamedExpressionArray(R){return(0,i.s0)(_.map(R,B=>({name:B.name,expr:B.expr,nativeReferenceName:B.nativeReferenceName})))}setSelect(R){var B=this.fromValue.clone(),A=M.rewriteExpressionsWithSourceRenames(R,B);return this.createModified({from:B,select:A})}static rewriteExpressionsWithSourceRenames(R,B){for(var A=[],W=0,G=R.length;W<G;W++){var K=R[W];A.push({name:K.name,expr:T.rewrite(K.expr,null,B)})}return A}removeSelect(R){r.Y.assertValue(R,"expr");for(var B=this.selectItems,A=[],W=0,G=B.length;W<G;W++){var K=B[W];(0,m.aI)(K.expr,R)||A.push(K)}return this.createModified({select:A})}removeOrderBy(R){for(var B=this.orderBy(),A=B.length-1;A>=0;A--)(0,m.aI)(B[A].expr,R)&&B.splice(A,1);return this.createModified({orderBy:B})}removeTransform(R){for(var B=this.transforms(),A=0,W=B.length;A<W;A++)if(B[A].name===R.name){B.splice(A,1);break}return this.createModified({transforms:B})}selectNameOf(R){return this.getSelectFor(R)?.name}selectNamesOf(R){return _.map(this.getSelectsFor(R),B=>B.name)}selectNativeReferenceNameOf(R){return this.getSelectFor(R)?.nativeReferenceName}getSelectFor(R){var B=(0,g.s)(this.selectItems,R);if(B>=0)return this.selectItems[B]}getSelectsFor(R){return _.filter(this.selectItems,B=>(0,m.aI)(B.expr,R))}setSelectAt(R,B,A){if(r.Y.assertValue(B,"expr"),!(R>=this.selectItems.length)){var W=this.select(),G=this.fromValue.clone(),q=A??W[R].nativeReferenceName;return W[R]={name:W[R].name,expr:T.rewrite(B,null,G),nativeReferenceName:q},this.createModified({from:G,select:W})}}addSelect(R,B,A){r.Y.assertValue(R,"expr");var W=this.select(),G=this.fromValue.clone();return W.push(this.createNamedExpr(W,G,R,B,A)),this.createModified({from:G,select:W})}setNativeReferenceNameAt(R,B){r.Y.assert(()=>0<=R&&R<this.selectItems.length,"index should be within the length of the selectedItems"),this.selectItems[R].nativeReferenceName=B}getNativeReferenceNameAt(R){return r.Y.assert(()=>0<=R&&R<this.selectItems.length,"index should be within the length of the selectedItems"),this.selectItems[R].nativeReferenceName}getNativeReferenceNames(R){var B=this.selectItems.map(A=>A.nativeReferenceName);return R?_.filter(B,A=>!(0,t.M)(A)):B}createNamedExpr(R,B,A,W,G){return{name:h(R,A,W),expr:T.rewrite(A,B,B),nativeReferenceName:G}}groupBy(R){return _.isEmpty(arguments)?this.getGroupBy():this.setGroupBy(R)}getGroupBy(){return M.createNamedExpressionArray(this.groupByItems)}setGroupBy(R){var B=this.fromValue.clone(),A=M.rewriteExpressionsWithSourceRenames(R,B);return this.createModified({from:B,groupBy:A})}addGroupBy(R){r.Y.assertValue(R,"expr");var B=this.groupBy(),A=this.fromValue.clone();return B.push(this.createNamedExpr(B,A,R)),this.createModified({from:A,groupBy:B})}orderBy(R){return _.isEmpty(arguments)?this.getOrderBy():this.setOrderBy(R)}getOrderBy(){var R=[],B=this.orderByItems;if(B)for(var A=0,W=B.length;A<W;A++){var G=B[A];R.push({expr:G.expr,direction:G.direction})}return R}setOrderBy(R){r.Y.assertValue(R,"values");for(var B=[],A=this.fromValue.clone(),W=0,G=R.length;W<G;W++){var K=R[W];B.push({expr:T.rewrite(K.expr,A,A),direction:K.direction})}return this.createModified({from:A,orderBy:B})}where(R,B){return _.isEmpty(arguments)?this.getWhere():this.setWhere([],R,B)}getWhere(){var R=[],B=this.whereItems;if(B)for(var A=0,W=B.length;A<W;A++)R.push(B[A]);return R}setWhere(R,B,A){r.Y.assertValue(R,"existingFilters"),r.Y.assertValue(B,"newFilters");var W=_.clone(R),G=this.fromValue.clone();for(var K of B){var q={condition:T.rewrite(K.condition,A,G)};K.target&&(q.target=_.map(K.target,ne=>T.rewrite(ne,A,G))),K.annotations&&(q.annotations=K.annotations),W.push(q)}return this.createModified({from:G,where:W})}addWhere(R,B){return this.setWhere(this.where(),R,B)}addSemanticFilter(R){return r.Y.assertValue(R,"filter"),this.setWhere(this.where(),R.where(),R.from())}transforms(R){return _.isEmpty(arguments)?this.getTransforms():this.setTransforms(R)}getTransforms(){var R=[];if(!_.isEmpty(this.transformItems))for(var B of this.transformItems)R.push(B);return R}setTransforms(R){var B=this.fromValue.clone(),A=[];for(var W of R){var G=void 0;W.input.table&&!_.isEmpty(W.input.table.columns)&&(G=_.map(W.input.table.columns,q=>({role:q.role,expression:this.createNamedExpr((0,i.s0)([]),B,q.expression.expr,q.expression.name)})));var K={name:W.name,algorithm:W.algorithm,input:{parameters:W.input.parameters},output:W.output};W.input.table&&(K.input.table={name:W.input.table.name,columns:G}),A.push(K)}return this.createModified({from:B,transforms:R})}top(R){return _.isEmpty(arguments)?this.topValue:this.setTop(R)}setTop(R){return r.Y.assert(()=>null==R||R>0,"if top is specified, it must be positive"),this.createModified({top:R})}rewrite(R){var B=this.getClauses();return M.rewriteClauses(B,R),this.createModified(B)}hasVisualCalculations(){for(var R of this.selectItems)if((0,v.$M)(R.expr))return!0;return!1}getClauses(){return{from:this.fromValue,where:this.whereItems,orderBy:this.orderByItems,select:this.selectItems,groupBy:this.groupByItems,transforms:this.transformItems,top:this.topValue}}static rewriteClauses(R,B){var A=new V(B);R.from=A.rewriteFrom(R.from),R.where=A.rewriteWhere(R.where,R.from),R.orderBy=A.rewriteOrderBy(R.orderBy,R.from),R.select=A.rewriteSelect(R.select,R.from),R.groupBy=A.rewriteGroupBy(R.groupBy,R.from),R.transforms=A.rewriteTransform(R.transforms,R.from)}static willFiltersAffectQuery(R){return r.Y.assertValue(R,"query"),new w(R).willFilterAffectQuery()}}class P{constructor(R,B){r.Y.assertValue(R,"from"),r.Y.assertValue(B,"where"),this.fromValue=R,this.whereItems=B}static fromSQExpr(R){return P.fromSQFromAndSQExpr(new p.l0,R)}static fromSQFromAndSQExpr(R,B){r.Y.assertValue(R,"from"),r.Y.assertValue(B,"condition");var A=T.rewrite(B,R,R);return new P(R,[{condition:A}])}static fromSQFromAndSQFilters(R,B){return new P(R,B)}static clone(R){return P.fromSQFromAndSQFilters(R.from(),R.where())}static fromMeasureFilters(R,B,A){r.Y.assertValue(R,"query"),r.Y.assert(()=>!_.isEmpty(B),"measureFilters not empty"),r.Y.assert(()=>_.every(B,H=>(0,o.m)(H.condition)===n.l0.Measure),"Require measure filter");var W,ne,G=[],K=R.where(),q=function(H){var te=_.find(K,ee=>(0,m.aI)(ee.condition,H.condition));if(!te||!te.target)return{v:void 0};W=W||te.target,r.Y.assert(()=>(()=>{for(var ee=0;ee<W.length;ee++)if(!(0,m.aI)(W[ee],te.target[ee]))return!1;return!0})(),"Expected targets to be the same."),G.push(te)};for(var k of B)if(ne=q(k))return ne.v;var L=_.filter(K,H=>(0,o.m)(H.condition)!==n.l0.Measure&&(0,o.m)(H.condition)!==n.l0.VisualTopN),X=_.map(W,H=>_.find(R.select(),te=>(0,m.aI)(H,te.expr)));A&&X.push(...this.getMeasuresForJoinPredicates(R,A)||[]);var Y=M.createWith({from:R.from(),select:X,where:[...L||[],...G||[]]});return j(P.fromSubquery(Y,W),R)}static fromSubquery(R,B,A){var W=new p.m$(R,A),G=new p.l0,K=G.ensureSource(W,"subquery"),q=(0,d.Kd)(B,(0,d.a_)(K.name)),ne=T.rewrite(q,G,G),k=[];return k.push({condition:ne}),P.fromSQFromAndSQFilters(G,k)}static getDefaultValueFilter(R){return P.getDataViewScopeIdentityComparisonFilters(R,(0,d.Jh)())}static getAnyValueFilter(R){return P.getDataViewScopeIdentityComparisonFilters(R,(0,d.mh)())}static getDefaultAnyValueFilter(R,B){if(_.isEmpty(R))return P.getAnyValueFilter(B);if(_.isEmpty(B))return P.getDefaultValueFilter(R);var A=Array.apply(null,Array(R.length)).map(()=>(0,d.Jh)()),W=Array.apply(null,Array(R.length)).map(()=>(0,d.mh)()),G=(0,b.o)(R,A),K=(0,b.o)(B,W),q=(0,d.Uo)(G,K);return P.fromSQExpr(q)}static getDataViewScopeIdentityComparisonFilters(R,B){if(r.Y.assertValue(R,"fieldSQExprs"),r.Y.assertValue(B,"value"),R instanceof Array){var A=Array.apply(null,Array(R.length)).map(()=>B);return P.fromSQExpr((0,b.o)(R,A))}return P.fromSQExpr((0,d.LC)(R,B))}from(){return this.fromValue.clone()}conditions(){for(var R=[],B=this.whereItems,A=0,W=B.length;A<W;A++)R.push(B[A].condition);return R}where(){for(var R=[],B=this.whereItems,A=0,W=B.length;A<W;A++)R.push(B[A]);return R}rewrite(R){var B=new V(R),A=B.rewriteFrom(this.fromValue),W=B.rewriteWhere(this.whereItems,A);return new P(A,W)}validate(R,B,A){var W=new d.zH(R,B,A);return this.rewrite(W),W.errors}static merge(R){if(_.isEmpty(R))return null;if(1===R.length)return R[0];for(var B=R[0],A=B.from(),W=(0,i.s)(B.whereItems,B.whereItems.length),G=1,K=R.length;G<K;G++)P.applyFilter(R[G],A,W);return new P(A,W)}static unmerge(R){var B=[];for(var A of R.whereItems){var W=new P(R.fromValue,[A]);Object.keys(W.from().sources()).length>1&&(W=P.removeUnreferencedKeys(W)),B.push(W)}return B}static removeUnreferencedKeys(R){var B=R.from(),A=R.where(),W=new N(B.keys());if(A)for(var G=0,K=A.length;G<K;G++){var q=A[G];q.condition.accept(W);var ne=q.target;if(ne)for(var k=0,L=ne.length;k<L;k++)ne[k]&&ne[k].accept(W)}var X=W.result();if(X){for(var Y of X)B.remove(Y);return new P(B,A)}}static getMeasuresForJoinPredicates(R,B){for(var A=this,W=R.select(),G=[],K=function(ne){var k=W[ne];if((0,C.t)(k.expr)){if(_.some(B.SuppressedJoinPredicates,L=>L===ne))return 1;(A.isSelectProjected(B.Primary,ne)||A.isSelectProjected(B.Secondary,ne))&&G.push(k)}},q=0;q<W.length;q++)K(q);return G}static isSelectProjected(R,B){if(R&&R.Groupings)for(var A of R.Groupings)if(_.some(A.Projections,W=>W===B)&&!_.some(A.SuppressedProjections,W=>W===B))return!0;return!1}static isDefaultFilter(R){return!(!R||1!==R.where().length)&&(0,S.x)(R.where()[0].condition)}static isAnyFilter(R){return!(!R||1!==R.where().length)&&(F=R.where()[0].condition,r.Y.assertValue(F,"expr"),F.accept(f.instance));var F}static isSameFilter(R,B){return R===B||!!(R&&B&&R.from().equals(B.from())&&(0,i.m2)(R.where(),B.where(),(A,W)=>(0,m.gc)(A,W)))&&!(P.isDefaultFilter(R)&&P.isAnyFilter(B)||P.isAnyFilter(R)&&P.isDefaultFilter(B))}static isInFilter(R){return!(!R||1!==R.where().length)&&(0,v.S1)(R.where()[0].condition)}static applyFilter(R,B,A){r.Y.assertValue(R,"filter"),r.Y.assertValue(B,"from"),r.Y.assertValue(A,"where");var W=R.whereItems;for(var G of W){var K={condition:T.rewrite(G.condition,R.fromValue,B)};G.target&&(K.target=_.map(G.target,q=>T.rewrite(q,R.fromValue,B))),A.push(K)}}setIgnoreMParameter(){var R=this.whereItems;for(var B of R)B.annotations||(B.annotations={}),B.annotations["PowerBI.MParameterBehavior"]=a.n5.Ignore}}class T extends c.k{constructor(R,B){r.Y.assertValue(B,"destinationFrom"),super(),this.sourceFrom=R,this.destinationFrom=B}visitEntity(R){var B=this.destinationFrom.source(R.variable);if(B&&(0,p.lj)(B)&&B.schema===R.schema&&B.entity===R.entity)return R;var A=this.destinationFrom.ensureSource(new p.tv(R.schema,R.entity),R.variable);return A.name!==R.variable?new d.BO(R.schema,R.entity,A.name):R}visitSubqueryRef(R){if(!this.sourceFrom)return r.Y.assertFail("A source From clause must be provided to rewrite an expression containing a subquery reference."),R;var B=this.sourceFrom.source(R.variable);if(!B)return R;var A=this.destinationFrom.source(R.variable);if(A&&(0,l.c)(A)&&(0,m.EO)(B.subquery,A.subquery))return R;var W=this.destinationFrom.ensureSource(new p.m$(B.subquery,B.inheritsSorting),R.variable);return W.name!==R.variable?new d.nS(W.name):R}visitNativeTableRef(R){if(!this.sourceFrom)return r.Y.assertFail("A source From clause must be provided to rewrite an expression containing a native table reference."),R;var B=this.sourceFrom.source(R.variable);if(!B)return r.Y.assertFail("The source From clause should contain a native table with the matching reference name."),R;var A=this.destinationFrom.source(R.variable);if(A&&(0,p.BF)(A)&&B.equals(A))return R;var W=this.destinationFrom.ensureSource(new p.Ho(B.language,B.expression,B.type),R.variable);return W.name!==R.variable?new d.OC(W.name):R}visitNamedQueryRef(R){var B=this.destinationFrom.source(R.variable);if(B&&(0,p.L8)(B)&&(0,m.aI)(B.expr,R))return R;var W=this.destinationFrom.ensureSource(new p.zg(R),R.variable);return W.name!==R.variable?new d.a2(R.queryName,W.name):void 0}static rewrite(R,B,A){r.Y.assertValue(R,"expr"),r.Y.assertValue(A,"destinationFrom");var W=new T(B,A);return R.accept(W)}}class N extends s.ff{constructor(R){r.Y.assertValue(R,"keys"),super(),this.keys=R}visitEntity(R){this.removeKey(R.variable)}visitSubqueryRef(R){this.removeKey(R.variable)}visitNativeTableRef(R){this.removeKey(R.variable)}visitNamedQueryRef(R){this.removeKey(R.variable)}removeKey(R){var B=this.keys.indexOf(R);B>=0&&this.keys.splice(B,1)}result(){return this.keys}}class w extends s.ff{constructor(R){super(),this.query=R,this.containsEntityRefs=!1,this.containsSubqueries=!1}visitEntity(R){this.containsEntityRefs=!0}visitPropertyVariationSource(R){this.containsEntityRefs=!0}visitSubqueryRef(R){this.containsSubqueries=!0}willFilterAffectQuery(){var R=this.query.select();for(var B of R)B.expr.accept(this);return!(!this.containsEntityRefs&&this.containsSubqueries)}}class I{constructor(R,B,A){this.renameSources=R,this.from=B,this.usedSourceNames=A,r.Y.assertValue(R,"renameSources"),r.Y.assertValue(B,"from"),r.Y.assertValue(A,"usedSourceNames")}static renameSources(R,B,A){var W=new I(R,B,A);return V.rewriteFrom(B,W)}visitEntity(R,B){return R}visitPod(R,B){return R}visitSubquery(R,B){var A=R.subquery,W=this.renameSources(A,this.usedSourceNames);return W===A?R:new p.m$(W,R.inheritsSorting)}visitExpr(R,B){return R}visitNativeTable(R,B){return R}}function x(F,R){var B=F.from(),A=B,W=P.merge(R);return B===(A=U.ensureFiltersInSubqueries(A,W.where(),W.from()))?F:P.fromSQFromAndSQFilters(A,F.where())}function j(F,R){var B=_.filter(_.map(R.select(),K=>K.expr),K=>!(0,C.t)(K));if(_.isEmpty(B))return F;var A=_.map(B,K=>({condition:(0,d.LC)(K,(0,d.mh)(!0))})),W=F.from(),G=U.ensureFiltersInSubqueries(W,A,W);return W===G?F:P.fromSQFromAndSQFilters(G,F.where())}class U{constructor(R,B){this.filtersToEnsure=R,this.filtersToEnsureFrom=B,this.modifiedSubquery=!1,r.Y.assertNonEmpty(R,"expected filters to ensure exist in each subquery")}static ensureFiltersInSubqueries(R,B,A){var W=new U(B,A),G=V.rewriteFrom(R,W);return r.Y.assert(()=>G!==R===W.modifiedSubquery,"expected to rewrite the from clause if and only if we modified a subquery"),G}visitEntity(R,B){return R}visitPod(R,B){return R}visitSubquery(R,B){var A=R.subquery.where(),W=[],G=function(q){_.find(A,ne=>(0,m.gc)(q,ne))||W.push(q)};for(var K of this.filtersToEnsure)G(K);return 0===W.length?R:(this.modifiedSubquery=!0,new p.m$(R.subquery.addWhere(W,this.filtersToEnsureFrom),R.inheritsSorting))}visitExpr(R,B){return R}visitNativeTable(R,B){return R}}},757406:function(ve,z,e){e.d(z,{K7:function(){return Er},wC:function(){return ne},xC:function(){return ee},JK:function(){return xe},AW:function(){return j},qO:function(){return ue},Dw:function(){return W},j_:function(){return We},Ku:function(){return ft},wy:function(){return ye},v6:function(){return mt},Nt:function(){return Ee},UC:function(){return we},Uv:function(){return De},BO:function(){return N},_7:function(){return Qe},yj:function(){return T},yq:function(){return fr},zH:function(){return dt},xW:function(){return Se},$M:function(){return R},K$:function(){return U},CH:function(){return Y},t9:function(){return Q},LV:function(){return H},zn:function(){return Te},hR:function(){return G},gX:function(){return lt},a2:function(){return x},fo:function(){return q},D7:function(){return K},OC:function(){return O},UL:function(){return w},JC:function(){return Fe},Zd:function(){return He},TJ:function(){return k},P0:function(){return X},KW:function(){return L},HM:function(){return Ie},e6:function(){return F},r0:function(){return ct},Ly:function(){return At},nS:function(){return I},vy:function(){return vt},QD:function(){return Ke},G9:function(){return zt},Uo:function(){return Yt},mh:function(){return Yr},Bm:function(){return ae},Tq:function(){return Qt},zM:function(){return Kr},yW:function(){return br},sX:function(){return et},UD:function(){return nr},Jr:function(){return ar},gR:function(){return $e},El:function(){return Hr},b5:function(){return Wr},KQ:function(){return Gr},_:function(){return Or},Jh:function(){return Ur},z:function(){return na},gd:function(){return ra},bQ:function(){return Mr},EG:function(){return Ze},LC:function(){return Ut},t2:function(){return pt},Kf:function(){return zr},Ge:function(){return rt},RI:function(){return tt},G3:function(){return Cr},CX:function(){return _e},q7:function(){return ke},bR:function(){return J},Sk:function(){return ce},Mw:function(){return ze},Kd:function(){return je},eu:function(){return sr},nd:function(){return Xr},K6:function(){return le},Dc:function(){return Nr},JP:function(){return ut},Oi:function(){return Be},IW:function(){return me},rQ:function(){return qe},zy:function(){return Qr},AU:function(){return $t},tB:function(){return Lr},gN:function(){return vr},or:function(){return Tt},Ym:function(){return re},s4:function(){return wr},U7:function(){return Ce},Lg:function(){return fe},bY:function(){return ia},SC:function(){return Zr},a3:function(){return Nt},bg:function(){return ot},o4:function(){return Xe},is:function(){return Rr},yC:function(){return Ir},w1:function(){return er},a_:function(){return Ye},ft:function(){return Lt},Gd:function(){return kr},Qq:function(){return aa},Bg:function(){return Tr},Cv:function(){return yt},CR:function(){return it},mQ:function(){return Pt},FT:function(){return jr},IM:function(){return nt},IS:function(){return Re}});var a=e(293444),i=e(81825),r=e(744774),t=e(302887),o=e(647132),d=e(18122),n=e(309754),c=e(545414),s=e(34584),p=e(5371),l=e(153484),u=e(337965),v=e(335128),m=e(188076),g=e(625694),E=e(912709),D=be=>null!=be&&be[E.l]===p.Gf.Ordinal,h=e(990328),C=e(98138),y=e(620825),f=e(858225),S=e(73646),b=e(683116),V=e(524034),M=e(664158),P=e(671825);class T{constructor(Z,ie){d.Y.assertValue(Z,"kind"),d.Y.assertAnyValue(ie,"annotations"),this._kind=Z,this._annotations=ie}validate(Z,ie,Ue,st){var ht=new dt(Z,ie,Ue,st);return this.accept(ht),ht.errors}accept(Z,ie){d.Y.assertFail("abstract method")}get kind(){return this._kind}getMetadata(Z,ie){d.Y.assertValue(Z,"federatedSchema");var Ue=(0,m.F)(this,Z);if(Ue)return Ue.column||Ue.columnAggr||Ue.groupingColumn||Ue.groupingColumnAggr||Ue.measure?this.getMetadataForProperty(Ue,Z):Ue.hierarchyLevel||Ue.hierarchyLevelAggr?this.getMetadataForHierarchyLevel(Ue,Z):Ue.columnHierarchyLevelVariation?this.getMetadataForVariation(Ue,Z):Ue.columnSubquery||Ue.columnAggrSubquery?this.getMetadataForSubqueryColumn(Ue,Z,ie):Ue.columnNativeTable||Ue.columnAggrNativeTable?this.getMetadataForNativeTableColumn(Ue,Z,ie):Ue.columnTransformRef?this.getMetadataForColumnTransformRef():T.getMetadataForEntity(Ue,Z)}isOrdinalEvaluation(){return!1}getAnnotations(){return this._annotations}getKeyColumns(Z){var ie=Ht.getColumnRefSQExpr(Z,this);if(ie){var Ue=[],st=this.getPropertyKeys(Z);if(st&&st.length>0)for(var ht=0,bt=st.length;ht<bt;ht++)Ue.push(et(ie.source,st[ht].name));else Ue.push(ie);return Ue}}hasGroupOnKeys(Z){var ie=this.getTargetColumnRef(Z);if(ie){var Ue=this.getPropertyKeys(Z);if(!Ue||Ue.length<1)return!1;if(Ue.length>1)return!0;var st=et(ie.source,Ue[0].name);return!(0,C.aI)(st,this)}}getPropertyKeys(Z){var ie=this.getConceptualProperty(Z,!0);if(ie)return ie.column?ie.column.keys:void 0}getOrderByColumns(Z){var ie=this.getTargetColumnRef(Z);if(ie){var Ue=ie.getConceptualProperty(Z,!0),st=Ue&&Ue.column&&Ue.column.orderBy;if(_.isEmpty(st))return[];for(var ht=new Array(st.length),bt=0,kt=st.length;bt<kt;bt++)ht[bt]=et(ie.source,st[bt].name);return ht}}getConceptualProperty(Z,ie){var Ue=(0,m.F)(this,Z);if(Ue){var st=(0,v.WE)(Ue);if(st&&1===_.size(st)){var ht=(0,v.hm)(Ue);if(ht){var bt=Z.schema(st[0].schema);return bt?bt.findProperty(st[0].entity,ht):void 0}if(ie){var kt,Ft;if(Ue.columnHierarchyLevelVariation)(kt=Ue.columnHierarchyLevelVariation.level)&&(Ft=Z.schema(kt.schema).findHierarchy(kt.entity,kt.name));else if(kt=Ue.hierarchyLevel||Ue.hierarchyLevelAggr){var Jt=(0,v.vG)(Ue);Ft=Z.schema(Jt.schema).findHierarchy(Jt.entity,kt.name)}if(Ft){var lr=Ft.levels.withName(kt.level);if(lr)return lr.column}}}}}getTargetEntityForVariation(Z,ie){var Ue=this.getConceptualProperty(Z);if(Ue&&Ue.column&&!_.isEmpty(Ue.column.variations)){var st=Ue.column.variations;for(var ht of st)if(ht.name===ie)return ht.navigationProperty.targetEntity.name}}getTargetEntity(){return dr.getEntityExpr(this)}getTargetSchemaName(){return Sr.getSchemaName(this)}getTargetColumnRef(Z){return d.Y.assertValue(Z,"schema"),Ht.getColumnRefSQExpr(Z,this)}getMetadataForVariation(Z,ie){d.Y.assertValue(Z,"field"),d.Y.assertValue(ie,"federatedSchema");var Ue=Z.columnHierarchyLevelVariation,st=(0,v.vG)(Z),ht=ie.schema(st.schema).findProperty(st.entity,Ue.source.name);if(ht&&ht.column&&ht.column.variations)for(var bt of ht.column.variations)if(bt.defaultHierarchy&&bt.defaultHierarchy.levels)for(var kt of bt.defaultHierarchy.levels)if(kt.name===Ue.level.level){var Ft=kt.column;return{kind:Ft.kind===s.ye.Measure?n.L.Measure:n.L.Column,type:Ft.type,format:Ft.format,idOnEntityKey:!!Ft.column&&Ft.column.idOnEntityKey,defaultAggregate:Ft.column?Ft.column.defaultAggregate:null}}}getMetadataForHierarchyLevel(Z,ie){d.Y.assertValue(Z,"field"),d.Y.assertValue(ie,"federatedSchema");var Ue=this.getConceptualProperty(ie,!0);if(Ue)return this.getPropertyMetadata(Z,Ue)}getPropertyMetadata(Z,ie){var Ue=Z.columnAggr||Z.groupingColumnAggr||Z.hierarchyLevelAggr,{format:st,type:ht}=Ue?this.getFormatAndTypeForAggregate(Ue.aggregate,ie.format,ie.type):ie;return{kind:ie.kind===s.ye.Measure||Ue&&void 0!==Ue.aggregate?n.L.Measure:n.L.Column,type:ht,format:st,idOnEntityKey:!!ie.column&&ie.column.idOnEntityKey,aggregate:Ue?Ue.aggregate:void 0,defaultAggregate:ie.column?ie.column.defaultAggregate:null}}getMetadataForProperty(Z,ie){d.Y.assertValue(Z,"field"),d.Y.assertValue(ie,"federatedSchema");var Ue=this.getConceptualProperty(ie);if(Ue)return this.getPropertyMetadata(Z,Ue)}getFormatAndTypeForAggregate(Z,ie,Ue){var st=ie,ht=Ue;switch(Z){case i.Sn.Count:case i.Sn.CountNonNull:ht=u.eV.fromExtendedType(c.K.Integer),st=void 0;break;case i.Sn.Avg:case i.Sn.StandardDeviation:case i.Sn.Variance:ht.integer&&(ht=u.eV.fromExtendedType(c.K.Double),st=(0,l.EC)(st))}return{format:st,type:ht}}getMetadataForSubqueryColumn(Z,ie,Ue){d.Y.assertValue(Z,"field"),d.Y.assertValue(ie,"federatedSchema"),d.Y.assert(()=>!(!Ue||!Ue.sources),"context sources should be available for evaluating subquery source");var st=f.B.getSubqueryExpression(this,Ue);d.Y.assertValue(st,"could not find original select expr of subquery from context");var ht=st.getMetadata(ie,Ue);if(ht){if(ht.kind=n.L.Column,Z.columnAggrSubquery){var bt=this.getFormatAndTypeForAggregate(Z.columnAggrSubquery.aggregate,ht.format,ht.type);ht.type=bt.type,ht.format=bt.format,ht.aggregate=Z.columnAggrSubquery.aggregate}else Z.columnSubquery?ht.aggregate=void 0:d.Y.assertFail("invalid field expression for subquery column");return ht}}getMetadataForNativeTableColumn(Z,ie,Ue){var st=Le(Z,Ue);return st?.column?.expr.getMetadata(ie)}getMetadataForColumnTransformRef(){return{idOnEntityKey:!1,kind:n.L.Column,type:u.eV.fromVariant([u.eV.fromPrimitiveTypeAndCategory(a.W.Boolean),u.eV.fromPrimitiveTypeAndCategory(a.W.DateTime),u.eV.fromPrimitiveTypeAndCategory(a.W.Decimal),u.eV.fromPrimitiveTypeAndCategory(a.W.Double),u.eV.fromPrimitiveTypeAndCategory(a.W.Integer),u.eV.fromPrimitiveTypeAndCategory(a.W.Text)])}}static getMetadataForEntity(Z,ie){d.Y.assertValue(Z,"field"),d.Y.assertValue(ie,"federatedSchema");var Ue=(0,v.vG)(Z);if(ie.schema(Ue.schema).entities.withName(Ue.entity)&&Z.entityAggr)switch(Z.entityAggr.aggregate){case i.Sn.Count:case i.Sn.CountNonNull:return{kind:n.L.Measure,type:u.eV.fromExtendedType(c.K.Integer),format:void 0,idOnEntityKey:!1,aggregate:Z.entityAggr.aggregate}}}}(0,t.d)(T.prototype);class N extends T{constructor(Z,ie,Ue,st){d.Y.assertValue(ie,"entity"),super(p.Ez.Entity,st),this.schema=Z,this.entity=ie,Ue&&(this.variable=Ue)}accept(Z,ie){return Z.visitEntity(this,ie)}as(Z,ie){return new N(this.schema,this.entity,Z,ie)}}class w extends T{constructor(Z,ie,Ue,st,ht){d.Y.assertValue(Z,"name"),super(p.Ez.NativeVisualCalc,ht),this.name=Z,this.language=ie,this.expression=Ue,this.dataType=st}accept(Z,ie){return Z.visitNativeVisualCalc(this,ie)}getMetadata(Z){return{kind:n.L.Measure,type:u.eV.fromPrimitiveTypeAndCategory(this.dataType??a.W.Double)}}}class I extends T{constructor(Z,ie){d.Y.assertValue(Z,"source"),d.Y.assertAnyValue(ie,"annotations"),super(p.Ez.SubqueryRef,ie),_.isString(Z)?this.variable=Z:this.query=Z}accept(Z,ie){return Z.visitSubqueryRef(this,ie)}as(Z,ie){return new I(Z,ie)}}class O extends T{constructor(Z,ie){d.Y.assertValue(Z,"variable"),d.Y.assertAnyValue(ie,"annotations"),super(p.Ez.NativeTableRef,ie),this.variable=Z}accept(Z,ie){return Z.visitNativeTableRef(this,ie)}as(Z,ie){return new O(Z,ie)}}class x extends T{constructor(Z,ie,Ue){d.Y.assertValue(Z,"source"),super(p.Ez.NamedQueryRef,Ue),this.queryName=Z,ie&&(this.variable=ie)}accept(Z,ie){return Z.visitNamedQueryRef(this,ie)}as(Z,ie){return new x(this.queryName,Z,ie)}}class j extends T{constructor(Z,ie,Ue,st){d.Y.assertValue(Z,"left"),d.Y.assertValue(ie,"right"),d.Y.assertValue(Ue,"operator"),super(p.Ez.Arithmetic,st),this.left=Z,this.right=ie,this.operator=Ue}accept(Z,ie){return Z.visitArithmetic(this,ie)}getMetadata(Z){var ie=this.left.getMetadata(Z);if((0,y.tZ)(this.right))return ie?(d.Y.assert(()=>this.operator===i.Fj.Divide,"unexpected usage of scoped eval with arithmetic"),ie.format="#,##0.00%",ie.type=u.eV.fromExtendedType(c.K.Double),ie):void 0;var bt,Ue=this.right.getMetadata(Z),st=ie?.type,ht=Ue?.type;bt=st&&ht?this.getArithmeticResultType(st,ht):st??ht,d.Y.assertValue(bt,"SQExpr - cannot get proper type for arithmetic expression");var Jt,kt=ie?.format,Ft=Ue?.format;return(this.operator===i.Fj.Add||this.operator===i.Fj.Subtract)&&(Jt=kt===Ft?kt:void 0),{format:Jt,type:bt,kind:n.L.Measure}}getArithmeticResultType(Z,ie){return this.operator!==i.Fj.Add&&this.operator!==i.Fj.Subtract&&this.operator!==i.Fj.Multiply&&this.operator!==i.Fj.Divide&&d.Y.assertNever(this.operator),Z.primitiveType===a.W.Decimal?u.eV.fromPrimitiveTypeAndCategory(this.operator===i.Fj.Divide&&ie.primitiveType===a.W.Decimal?a.W.Double:a.W.Decimal):Z.primitiveType===a.W.Double?u.eV.fromPrimitiveTypeAndCategory(this.operator!==i.Fj.Divide&&ie.primitiveType===a.W.Decimal?a.W.Decimal:a.W.Double):Z.primitiveType===a.W.Integer?this.operator===i.Fj.Divide&&ie.primitiveType===a.W.Integer?u.eV.fromPrimitiveTypeAndCategory(a.W.Double):ie:void d.Y.assertFail("unsupported arithmetic expression type")}}class U extends T{constructor(Z,ie,Ue,st){d.Y.assertValue(Z,"arg"),d.Y.assertValue(ie,"size"),super(p.Ez.Floor,st),this.arg=Z,this.size=ie,null!=Ue&&(this.timeUnit=Ue)}accept(Z,ie){return Z.visitFloor(this,ie)}}class F extends T{constructor(Z,ie,Ue){d.Y.assertValue(Z,"expression"),d.Y.assertValue(ie,"scope"),super(p.Ez.ScopedEval,Ue),this.expression=Z,this.scope=ie}accept(Z,ie){return Z.visitScopedEval(this,ie)}getMetadata(Z){return this.expression.getMetadata(Z)}hasGlobalScope(){return d.Y.assertValue(this.scope,"scope"),0===this.scope.length}hasInnerMostScope(){return d.Y.assertValue(this.scope,"scope"),1===this.scope.length&&(0,y.U)(this.scope[0])}static createGlobalAggregateOfScopedExpr(Z,ie){var Ue=new F(Z,[new Ge]);return new F(new ne(Ue,ie),[])}decomposeGlobalAggregateOfScopedExpr(){if(this.hasGlobalScope()){var Z=this.expression;if((0,y.b9)(Z)){var ie=Z.arg;if((0,y.tZ)(ie)&&ie.hasInnerMostScope())return{source:ie.expression,func:Z.func}}}}}class R extends T{constructor(Z,ie,Ue){d.Y.assertValue(Z,"expression"),d.Y.assertValue(ie,"filters"),super(p.Ez.FilteredEval,Ue),this.expression=Z,this.filters=ie}accept(Z,ie){return Z.visitFilteredEval(this,ie)}getMetadata(Z){return this.expression.getMetadata(Z)}}class B extends T{constructor(Z,ie){d.Y.assertValue(Z,"expressionName"),super(p.Ez.WithRef,ie),this.expressionName=Z}accept(Z,ie){return Z.visitWithRef(this,ie)}}class A extends T{constructor(Z,ie,Ue,st){d.Y.assertValue(Z,"kind"),d.Y.assertValue(ie,"source"),d.Y.assertValue(Ue,"ref"),super(Z,st),this.source=ie,this.ref=Ue}}class W extends A{constructor(Z,ie,Ue,st){super(Ue||p.Ez.ColumnRef,Z,ie,st)}accept(Z,ie){return Z.visitColumnRef(this,ie)}}class G extends A{constructor(Z,ie,Ue){super(p.Ez.MeasureRef,Z,ie,Ue)}accept(Z,ie){return Z.visitMeasureRef(this,ie)}}class K extends T{constructor(Z,ie,Ue,st,ht,bt,kt){super(p.Ez.NativeMeasure,kt),d.Y.assertValue(Z,"language"),d.Y.assertValue(ie,"expression"),d.Y.assertValue(Ue,"dataType"),d.Y.assertAnyValue(st,"proposedName"),d.Y.assertAnyValue(ht,"expressionContentCache"),d.Y.assertAnyValue(bt,"format"),this.language=Z,this.expression=ie,this.dataType=Ue,this.proposedName=st,this.expressionContentCache=ht,this.format=bt}getMetadata(Z){return d.Y.assertValue(Z,"federatedSchema"),{kind:n.L.Measure,type:u.eV.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}}accept(Z,ie){return Z.visitNativeMeasure(this,ie)}}class q extends T{constructor(Z,ie,Ue,st,ht,bt,kt,Ft){super(p.Ez.NativeColumn,Ft),d.Y.assertValue(Z,"language"),d.Y.assertValue(ie,"expression"),d.Y.assertValue(Ue,"dataType"),d.Y.assertValue(st,"source"),d.Y.assertAnyValue(ht,"proposedName"),d.Y.assertAnyValue(bt,"expressionContentCache"),d.Y.assertAnyValue(kt,"format"),this.language=Z,this.expression=ie,this.dataType=Ue,this.source=st,this.proposedName=ht,this.expressionContentCache=bt,this.format=kt}getMetadata(Z){return d.Y.assertValue(Z,"federatedSchema"),{kind:n.L.Column,type:u.eV.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}}accept(Z,ie){return Z.visitNativeColumn(this,ie)}}class ne extends T{constructor(Z,ie,Ue,st){d.Y.assertValue(Z,"arg"),d.Y.assertValue(ie,"func"),super(p.Ez.Aggregation,st),this.arg=Z,this.func=ie,this.includeAllTypes=Ue,d.Y.assert(()=>_.isNil(this.includeAllTypes)||this.func===i.Sn.Min||this.func===i.Sn.Max,"includeAllTypes has a value and the aggregate is not min/max - not a valid combination.")}accept(Z,ie){return Z.visitAggr(this,ie)}getMetadata(Z,ie){if(d.Y.assertValue(Z,"federatedSchema"),(0,y.mQ)(this.arg)){var Ue=this.getFormatAndTypeForAggregate(this.func,this.arg.format,u.eV.fromPrimitiveTypeAndCategory(this.arg.dataType));return{kind:n.L.Measure,type:Ue.type,format:Ue.format}}return super.getMetadata(Z,ie)}}class k extends T{constructor(Z,ie,Ue,st){d.Y.assertValue(Z,"arg"),d.Y.assertValue(ie,"k"),d.Y.assert(()=>0<=ie&&ie<=1,"0 <= k && k <= 1"),d.Y.assertValue(Ue,"exclusive"),super(p.Ez.Percentile,st),this.arg=Z,this.k=ie,this.exclusive=Ue}getMetadata(Z){d.Y.assertValue(Z,"federatedSchema");var ie=this.arg.getMetadata(Z);if(ie)return{kind:n.L.Measure,type:ie.type}}accept(Z,ie){return Z.visitPercentile(this,ie)}}class L extends T{constructor(Z,ie,Ue,st){super(p.Ez.RangePercent,st),this.min=Z,this.max=ie,this.percent=Ue,d.Y.assert(()=>Ue>=0&&Ue<=1,"Invalid percent value. Valid values are 0 to 1")}accept(Z,ie){return Z.visitRangePercent(this,ie)}static overRangeOf(Z,ie){var Ue=F.createGlobalAggregateOfScopedExpr(Z,i.Sn.Min),st=F.createGlobalAggregateOfScopedExpr(Z,i.Sn.Max);return new L(Ue,st,ie)}decomposeOverRangePattern(){var Z=this.min,ie=this.max;if((0,y.tZ)(Z)&&(0,y.tZ)(ie)){var Ue=Z.decomposeGlobalAggregateOfScopedExpr(),st=ie.decomposeGlobalAggregateOfScopedExpr();if(Ue&&st&&Ue.func===i.Sn.Min&&st.func===i.Sn.Max&&(0,C.aI)(Ue.source,st.source))return{sourceExpr:Ue.source,percent:this.percent}}}}class X extends T{constructor(Z,ie,Ue,st){d.Y.assertValue(Z,"arg"),d.Y.assertValue(ie,"name"),d.Y.assertValue(Ue,"property"),super(p.Ez.PropertyVariationSource,st),this.arg=Z,this.name=ie,this.property=Ue}accept(Z,ie){return Z.visitPropertyVariationSource(this,ie)}}class Y extends W{constructor(Z,ie,Ue,st){d.Y.assertValue(Z,"name"),d.Y.assertValue(Ue,"groupedExprs"),d.Y.assert(()=>Ue.length>0,"groupedExprs.length > 0"),super(ie,Z,p.Ez.GroupRef,st),this.groupedExprs=Ue}accept(Z,ie){return Z.visitGroupRef(this,ie)}}class Q extends T{constructor(Z,ie,Ue){d.Y.assertValue(Z,"arg"),d.Y.assertValue(ie,"hierarchy"),super(p.Ez.Hierarchy,Ue),this.arg=Z,this.hierarchy=ie}accept(Z,ie){return Z.visitHierarchy(this,ie)}}class H extends T{constructor(Z,ie,Ue){d.Y.assertValue(Z,"arg"),d.Y.assertValue(ie,"level"),super(p.Ez.HierarchyLevel,Ue),this.arg=Z,this.level=ie}accept(Z,ie){return Z.visitHierarchyLevel(this,ie)}}class te extends T{constructor(Z,ie,Ue){d.Y.assertValue(Z,"expressionName"),super(p.Ez.SelectRef,Ue),this.expressionName=Z,this.attributeKind=ie}accept(Z,ie){return Z.visitSelectRef(this,ie)}}class ee extends T{constructor(Z,ie,Ue){d.Y.assertValue(Z,"left"),d.Y.assertValue(ie,"right"),super(p.Ez.And,Ue),this.left=Z,this.right=ie}accept(Z,ie){return Z.visitAnd(this,ie)}}class ue extends T{constructor(Z,ie,Ue,st){d.Y.assertValue(Z,"arg"),d.Y.assertValue(ie,"lower"),d.Y.assertValue(Ue,"upper"),super(p.Ez.Between,st),this.arg=Z,this.lower=ie,this.upper=Ue}accept(Z,ie){return Z.visitBetween(this,ie)}}class Te extends T{constructor(Z,ie,Ue,st){d.Y.assertValue(Z,"args"),d.Y.assert(()=>null==ie!=(null==Ue),"values or table"),super(p.Ez.In,st),this.args=Z,ie&&(this.values=ie),Ue&&(this.table=Ue)}accept(Z,ie){return Z.visitIn(this,ie)}}class He extends T{constructor(Z,ie,Ue){d.Y.assertValue(Z,"left"),d.Y.assertValue(ie,"right"),super(p.Ez.Or,Ue),this.left=Z,this.right=ie}accept(Z,ie){return Z.visitOr(this,ie)}}class We extends T{constructor(Z,ie,Ue,st){d.Y.assertValue(Z,"kind"),d.Y.assertValue(ie,"left"),d.Y.assertValue(Ue,"right"),super(p.Ez.Compare,st),this.comparison=Z,this.left=ie,this.right=Ue}accept(Z,ie){return Z.visitCompare(this,ie)}isOrdinalEvaluation(){return D(this.getAnnotations())}}class ft extends T{constructor(Z,ie,Ue){d.Y.assertNonEmpty(Z,"cases"),d.Y.assertAnyValue(ie,"defaultValue"),super(p.Ez.Conditional,Ue),this.cases=Z,this.defaultValue=ie}accept(Z,ie){return Z.visitConditional(this,ie)}}class mt extends T{constructor(Z,ie,Ue){d.Y.assertValue(Z,"left"),d.Y.assertValue(ie,"right"),super(p.Ez.Contains,Ue),this.left=Z,this.right=ie}accept(Z,ie){return Z.visitContains(this,ie)}isOrdinalEvaluation(){return D(this.getAnnotations())}}class At extends T{constructor(Z,ie,Ue){d.Y.assertValue(Z,"left"),d.Y.assertValue(ie,"right"),super(p.Ez.StartsWith,Ue),this.left=Z,this.right=ie}accept(Z,ie){return Z.visitStartsWith(this,ie)}isOrdinalEvaluation(){return D(this.getAnnotations())}}class Qe extends T{constructor(Z,ie){d.Y.assertValue(Z,"arg"),d.Y.assert(()=>Z instanceof N,"Exists only supports Entity argument"),super(p.Ez.Exists,ie),this.arg=Z}accept(Z,ie){return Z.visitExists(this,ie)}}class Fe extends T{constructor(Z,ie){d.Y.assertValue(Z,"arg"),super(p.Ez.Not,ie),this.arg=Z}accept(Z,ie){return Z.visitNot(this,ie)}}class ye extends T{get valueEncoded(){return void 0===this.typeEncodedValue&&(this.typeEncodedValue=(0,g.x5)(this.rawValue||this.value,this.type)),this.typeEncodedValue}constructor(Z,ie,Ue,st,ht){d.Y.assertValue(Z,"type"),super(p.Ez.Constant,ht),this.type=Z,this.value=ie,this.typeEncodedValue=Ue,st&&(this.rawValue=st)}accept(Z,ie){return Z.visitConstant(this,ie)}getMetadata(){return{kind:n.L.Measure,type:this.type}}static getNumericValue(Z){if((0,y.GK)(Z)&&_.isNumber(Z.value))return Z.value;d.Y.assertFail("SQConstantExpr.getNumericValue - Unexpected SQExpr kind/value")}static getTextValue(Z){if((0,y.Qy)(Z)&&_.isString(Z.value))return Z.value;d.Y.assertFail("SQConstantExpr.getTextValue - Unexpected SQExpr kind/value")}static getBooleanValue(Z){if((0,y.Rd)(Z)&&_.isBoolean(Z.value))return Z.value;d.Y.assertFail("SQConstantExpr.getBooleanValue - Unexpected SQExpr kind/value")}static getDateValue(Z){if((0,y.tC)(Z)&&_.isDate(Z.value))return Z.value;d.Y.assertFail("SQConstantExpr.getDateValue - Unexpected SQExpr kind/value")}}(0,t.d)(ye.prototype);class we extends T{constructor(Z,ie,Ue){d.Y.assertValue(Z,"unit"),d.Y.assertValue(ie,"arg"),super(p.Ez.DateSpan,Ue),this.unit=Z,this.arg=ie}accept(Z,ie){return Z.visitDateSpan(this,ie)}}class Ee extends T{constructor(Z,ie,Ue,st){d.Y.assertValue(Z,"unit"),d.Y.assertValue(ie,"amount"),d.Y.assertValue(Ue,"arg"),super(p.Ez.DateAdd,st),this.unit=Z,this.arg=Ue,this.amount=ie}accept(Z,ie){return Z.visitDateAdd(this,ie)}getMetadata(Z){return this.arg.getMetadata(Z)}}class Oe extends T{constructor(Z){super(p.Ez.Now,Z)}accept(Z,ie){return Z.visitNow(this,ie)}getMetadata(){return{kind:n.L.Measure,type:u.eV.fromExtendedType(c.K.DateTime)}}}class he extends T{constructor(Z){super(p.Ez.DefaultValue,Z)}accept(Z,ie){return Z.visitDefaultValue(this,ie)}}class xe extends T{constructor(Z,ie){d.Y.assertAnyValue(Z,"defaultValueOverridesAncestors"),super(p.Ez.AnyValue,ie),this.defaultValueOverridesAncestors=Z}accept(Z,ie){return Z.visitAnyValue(this,ie)}}class Se extends T{constructor(Z,ie,Ue){d.Y.assertValue(Z,"input"),d.Y.assertValue(ie,"fillRule"),super(p.Ez.FillRule,Ue),this.input=Z,this.rule=ie}accept(Z,ie){return Z.visitFillRule(this,ie)}}class Ae extends T{constructor(Z,ie,Ue){d.Y.assertValue(Z,"SQThemeDataColorExpr - colorId"),d.Y.assertValue(ie,"SQThemeDataColorExpr - percent"),d.Y.assertValue(-1<=ie&&ie<=1,"percent"),super(p.Ez.ThemeDataColor,Ue),this.colorId=Z,this.percent=ie}accept(Z,ie){return Z.visitThemeDataColor(this,ie)}}class Ie extends T{constructor(Z,ie,Ue,st){d.Y.assertValue(Z,"packageName"),d.Y.assertValue(Ue,"itemName"),super(p.Ez.ResourcePackageItem,st),this.packageName=Z,this.packageType=ie,this.itemName=Ue}accept(Z,ie){return Z.visitResourcePackageItem(this,ie)}}class Je extends T{constructor(Z,ie){d.Y.assertValue(Z,"source"),super(p.Ez.TransformTableRef,ie),this.source=Z}accept(Z,ie){return Z.visitTransformTableRef(this,ie)}}class pe extends T{constructor(Z,ie,Ue){d.Y.assertValue(Z,"role"),super(p.Ez.TransformOutputRoleRef,Ue),this.role=Z,ie&&(this.transform=ie)}accept(Z,ie){return Z.visitTransformOutputRoleRef(this,ie)}getMetadata(Z){}}class Pe extends T{constructor(Z,ie){d.Y.assertValue(Z,"role"),super(p.Ez.RoleRef,ie),this.role=Z}accept(Z,ie){return Z.visitRoleRef(this,ie)}}class Me extends T{constructor(Z,ie){d.Y.assert(()=>!_.isEmpty(Z),"name"),d.Y.assertAnyValue(ie,"annotations"),super(p.Ez.SummaryValueRef,ie),this.name=Z}accept(Z,ie){return Z.visitSummaryValueRef(this,ie)}}class Ge extends T{constructor(Z){super(p.Ez.AllRolesRef,Z)}accept(Z,ie){return Z.visitAllRolesRef(this,ie)}}class De extends T{constructor(Z,ie,Ue){d.Y.assertValue(Z,"source"),super(p.Ez.Discretize,Ue),this.source=Z,this.count=ie}accept(Z,ie){return Z.visitDiscretize(this,ie)}}class lt extends T{constructor(Z,ie,Ue){d.Y.assertValue(Z,"source"),d.Y.assertValue(ie,"member"),super(p.Ez.Member,Ue),this.source=Z,this.member=ie}accept(Z,ie){return Z.visitMember(this,ie)}}class ct extends T{constructor(Z,ie,Ue,st,ht,bt,kt){super(p.Ez.SparklineData,kt),d.Y.assertValue(Z,"measure"),d.Y.assertValue(ie,"grouping"),d.Y.assertAnyValue(st,"scalarKey"),d.Y.assertValue(Ue,"applyCalculationGroupTo must not be null"),d.Y.assert(()=>1===_.size(ie),"exactly 1 grouping is allowed"),this.measure=Z,this.grouping=ie,this.scalarKey=st,this.pointsPerSparkline=ht,this.includeMinGroupingInterval=bt,this.applyCalculationGroupTo=Ue}getMetadata(Z){return d.Y.assertValue(Z,"federatedSchema"),d.Y.assert(()=>1===_.size(this.grouping),"exactly 1 grouping is allowed"),{kind:n.L.Measure,type:u.eV.fromDescriptor({misc:{sparkline:{groupingType:this.grouping[0].getMetadata(Z)?.type}}})}}accept(Z,ie){return Z.visitSparklineData(this,ie)}}class vt extends T{constructor(Z){super(p.Ez.VisualTopN),d.Y.assertValue(Z,"itemCount"),this.itemCount=Z}accept(Z,ie){return Z.visitVisualTopN(this,ie)}}class Vt extends T{}class It extends Vt{constructor(Z,ie){super(p.Ez.TableType,ie),this.columns=Z}getMetadata(Z){}accept(Z,ie){return Z.visitTableTypeExpr(this,ie)}}class Ot extends Vt{constructor(Z,ie){super(p.Ez.PrimitiveType,ie),this.type=Z}getMetadata(Z){return{kind:n.L.Column,type:u.eV.fromPrimitiveTypeAndCategory(this.type)}}accept(Z,ie){return Z.visitPrimitiveTypeExpr(this,ie)}}class de extends Vt{constructor(Z,ie){super(p.Ez.TypeOfType,ie),this.baseExpr=Z}getMetadata(Z){var ie=this.baseExpr.getMetadata(Z);return{kind:n.L.Column,type:ie.type}}accept(Z,ie){return Z.visitTypeOfTypeExpr(this,ie)}}function Ze(be,Z,ie,Ue){return new N(be,Z,ie,Ue)}function Ye(be,Z){return _.isString(be),new I(be,Z)}function qe(be,Z){return new O(be,Z)}function ut(be,Z,ie){return new x(be,Z,ie)}function et(be,Z,ie){return new W(be,Z,null,ie)}function le(be,Z,ie){return new G(be,Z,ie)}function me(be,Z,ie,Ue,st,ht,bt){return new K(be,Z,ie,Ue,st,ht,bt)}function Be(be,Z,ie,Ue,st,ht,bt,kt){return new q(be,Z,ie,Ue,st,ht,bt,kt)}function Ke(be,Z,ie,Ue){return new ne(be,Z,ie,Ue)}function Xe(be,Z,ie){return new te(be,Z,ie)}function re(be,Z,ie,Ue){return new k(be,Z,ie,Ue)}function fe(be,Z,ie,Ue){return new L(be,Z,ie,Ue)}function ae(be,Z,ie,Ue){return new j(be,Z,ie,Ue)}function tt(be,Z,ie,Ue){return new U(be,Z,ie,Ue)}function ot(be,Z,ie){return new F(be,Z,ie)}function rt(be,Z,ie){return new R(be,Z,ie)}function Re(be,Z){return new B(be,Z)}function J(be,Z,ie,Ue){return new Y(be,Z,ie,Ue)}function ce(be,Z,ie){return new Q(be,Z,ie)}function Ce(be,Z,ie,Ue){return new X(be,Z,ie,Ue)}function ze(be,Z,ie){return new H(be,Z,ie)}function it(be,Z){return new Je(be,Z)}function yt(be,Z,ie){return new pe(be,Z,ie)}function Nt(be,Z){return new Pe(be,Z)}function Lt(be,Z){return new Me(be,Z)}function zt(be){return new Ge(be)}function Yt(be,Z,ie){return be?Z?new ee(be,Z,ie):be:Z}function Qt(be,Z,ie,Ue){return new ue(be,Z,ie,Ue)}function sr(be,Z,ie){return new Te(be,Z,null,ie)}function je(be,Z,ie){return new Te(be,null,Z,ie)}function Tt(be,Z,ie){if(!be)return Z;if(!Z)return be;if((0,y.S1)(be)&&(0,y.S1)(Z)){var Ue=function(be,Z,ie){if(be.args&&Z.args&&be.values&&Z.values){var Ue=be.args.length;if(Ue===Z.args.length){for(var ht=0;ht<Ue;++ht)if(!(0,C.aI)(be.args[ht],Z.args[ht]))return;var bt=be.values.concat(Z.values);return sr(be.args,bt,ie)}}}(be,Z,ie);if(Ue)return Ue}return new He(be,Z,ie)}function nr(be,Z,ie,Ue){return new We(be,Z,ie,Ue)}function ar(be,Z,ie){return new ft(be,Z,ie)}function $e(be,Z,ie){return new mt(be,Z,ie)}function pt(be,Z){return new Qe(be,Z)}function Ut(be,Z,ie){return nr(i.mq.Equal,be,Z,ie)}function $t(be,Z){return new Fe(be,Z)}function er(be,Z,ie){return new At(be,Z,ie)}var or=new ye(u.eV.fromExtendedType(c.K.Null),null,(0,g.xA)());function vr(){return or}var mr=new ye(u.eV.fromExtendedType(c.K.Text),"");function Mr(){return mr}function Lr(be){return new Oe(be)}function Ur(be){return new he(be)}function Yr(be,Z){return new xe(be,Z)}function Kr(be,Z){return new ye(u.eV.fromExtendedType(c.K.Boolean),be,(0,g.zM)(be),void 0,Z)}function Hr(be,Z,ie,Ue){return new Ee(be,Z,ie,Ue)}function Gr(be,Z,ie){return new ye(u.eV.fromExtendedType(c.K.DateTime),be,Z,void 0,ie)}function Wr(be,Z,ie){return new we(be,Z,ie)}function Or(be,Z,ie){return new ye(u.eV.fromExtendedType(c.K.Decimal),be,Z,void 0,ie)}function ra(be,Z,ie){return new ye(u.eV.fromExtendedType(c.K.Double),be,Z,void 0,ie)}function Xr(be,Z,ie){return new ye(u.eV.fromExtendedType(c.K.Integer),be,Z,void 0,ie)}function aa(be,Z,ie){return d.Y.assert(()=>!Z||Z===(0,g.Qq)(be),"Incorrect encoded value specified."),new ye(u.eV.fromExtendedType(c.K.Text),be,Z,void 0,ie)}function jr(be,Z){return null==be?vr():_.isBoolean(be)?Kr(be):_.isString(be)?aa(be):_.isNumber(be)?Z.integer&&(0,r.Fq)(be)?Xr(be):ra(be):be instanceof Date?Gr(be):void 0}function Cr(be,Z,ie,Ue){return new ye(u.eV.fromExtendedType(be),Z,void 0,ie,Ue)}function Ir(be,Z,ie,Ue,st,ht,bt){return new ct(be,Z,ie,Ue,st,ht,bt)}function ia(be){return fr.rewrite(be)}function Rr(be,Z,ie,Ue){if((0,y.$M)(be))return Zt.rewrite(be,Z,ie,Ue)}function zr(be,Z,ie){return d.Y.assertValue(be,"expr"),d.Y.assertValue(Z,"rule"),new Se(be,Z,ie)}function Tr(be,Z,ie){return d.Y.assertValue(be,"themeDataColor - colorId"),d.Y.assertValue(Z,"themeDataColor - percent"),new Ae(be,Z,ie)}function Zr(be,Z,ie,Ue){return new Ie(be,Z,ie,Ue)}function na(be,Z,ie){return new De(be,Z,ie)}function Nr(be,Z,ie){return new lt(be,Z,ie)}function br(be,Z,ie){return d.Y.assertValue(null==be||(0,o.Lo)(be),"SQExprBuilder.color - hexCode has to either not exist or be a valid hex code"),d.Y.assertValue(Z,"SQExprBuilder.color - colorName has to exist"),aa(be||Z,void 0,ie)}function Qr(be,Z,ie,Ue){return new w(be,"dax",Z,ie,Ue)}function kr(be,Z){return new It(be,Z)}function wr(be,Z){return new Ot(be,Z)}function Pt(be,Z){return new de(be,Z)}function nt(be){return new vt(be)}function _e(be){return xt.getAggregate(be)}function ke(be){if(d.Y.assertValue(be,"expr"),(0,y.VO)(be)&&be.type.text)return be.value}class dt extends h.k{constructor(Z,ie,Ue,st){d.Y.assertValue(Z,"schema"),d.Y.assertValue(ie,"aggrUtils"),super(),this.schema=Z,this.aggrUtils=ie,this.context=st,Ue&&(this.errors=Ue)}visitIn(Z){var ie=this,Ue=super.visitIn(Z),st=Ue.args,ht=Ue.values;if(ht){d.Y.assert(()=>!Ue.table,"values and table cannot both be specified for the In operator");var bt=function(Jt){d.Y.assert(()=>Jt.length===st.length,"args and value tuple are not the same length");for(var lr=0,Wt=Jt.length;lr<Wt;++lr)ie.validateCompatibleType(st[lr],Jt[lr])};for(var kt of ht)bt(kt)}else{var Ft=Ue.table;d.Y.assert(()=>!!Ft,"either values or table must be non-null for an In operator"),this.validateIsTableRef(Ft)}return Ue}visitCompare(Z){var ie=super.visitCompare(Z);return this.validateCompatibleType(ie.left,ie.right),ie}visitColumnRef(Z){if((0,y.EP)(Z.source))return f.B.getSubqueryExpression(Z,this.context)||this.register(p.np.invalidSubqueryReference),Z;if((0,y.D)(Z.source)){var st=Le((0,m.F)(Z),this.context),ht=st?.validationError;return ht&&this.register(ht),Z}var bt=(0,m.F)(Z);return bt&&this.validateColumnExpr(bt),Z}visitMeasureRef(Z){var ie=(0,m.F)(Z);if(ie){var Ue=(0,v.vG)(ie),st=this.validateEntity(Ue.schema,Ue.entity);if(st){var ht=st.properties.withName(ie.measure.name);(!ht||ht.kind!==s.ye.Measure||!this.isQueryable(ie))&&this.register(p.np.invalidMeasureReference)}}return Z}visitAggr(Z){var ie=super.visitAggr(Z);return Ht.getColumnRefSQExpr(this.schema,ie.arg)&&(this.aggrUtils.isSupportedAggregate(Z,this.schema,Z.func,null,this.context)||this.register(p.np.invalidAggregateFunction)),ie}visitGroupRef(Z){var ie=(0,m.F)(Z);if(ie){var Ue=(0,v.vG)(ie),st=this.validateEntity(Ue.schema,Ue.entity);if(st){var ht=st.properties.withName(ie.groupingColumn.name);(!ht||ht.kind!==s.ye.Column||!this.validateExprSequence(Z.groupedExprs)||!ht.column.groupingMetadata||!this.isQueryable(ie))&&this.register(p.np.invalidGroupingColumnReference)}}return Z}visitHierarchy(Z){var ie=(0,m.F)(Z);if(ie){var Ue=ie.hierarchy;Ue?this.validateHierarchy(Ue.schema,Ue.entity,Ue.name):this.register(p.np.invalidHierarchyReference)}return Z}visitHierarchyLevel(Z){var ie=(0,m.F)(Z);if(ie){var Ue=ie.hierarchyLevel,st=ie.columnHierarchyLevelVariation;Ue?this.validateHierarchyLevel(Ue.schema,Ue.entity,Ue.name,Ue.level):st?this.validateHierarchyLevelVariation(st):this.register(p.np.invalidHierarchyLevelReference)}return Z}visitPercentile(Z){if(Z.arg.accept(this),_.isEmpty(this.errors)){var ie=Z.arg.getMetadata(this.schema,this.context);(!ie||ie.kind!==n.L.Column||!ie.type||!ie.type.integer&&!ie.type.numeric)&&this.register(p.np.invalidPercentileArgument)}return Z}visitRangePercent(Z){return(Z.percent>1||Z.percent<0)&&this.register(p.np.invalidPercentArgument),Z.min.accept(this),Z.max.accept(this),Z}visitDiscretize(Z){return Z.source.accept(this),Z.count<=0&&this.register(p.np.invalidDiscretizeCount),Z}visitEntity(Z){return this.validateEntity(Z.schema,Z.entity),Z}visitSubqueryRef(Z){return Z}visitNamedQueryRef(Z){return Z}visitContains(Z){return this.validateStartOrContainsArgs(Z.left,Z.right),Z}visitStartsWith(Z){return this.validateStartOrContainsArgs(Z.left,Z.right),Z}visitArithmetic(Z){return this.validateArithmeticTypes(Z.operator,Z.left,Z.right),Z}visitScopedEval(Z){if(Z.hasGlobalScope()||Z.hasInnerMostScope())return Z;for(var ie of Z.scope)(0,y.KH)(ie)||(0,y.R3)(ie)||this.register(p.np.invalidScopeArgument);return Z}visitFilteredEval(Z){for(var ie of(Z.expression.accept(this),0===_.size(Z.filters)&&this.register(p.np.invalidFiltersForFilteredEval),Z.filters)){if(!_.isEmpty(ie.target))for(var Ue of ie.target)Ue.accept(this);ie.condition.accept(this)}return Z}visitWithRef(Z){return Z}visitTransformTableRef(Z){return Z}visitTransformOutputRoleRef(Z){return Z}visitRoleRef(Z){return Z}visitSummaryValueRef(Z){return Z}visitAllRolesRef(Z){return Z}visitSparklineData(Z){if((0,M.t)(Z.measure)){var ie=Z.measure.getMetadata(this.schema),Ue=ie?.type;!Ue?.numeric&&!Ue?.integer&&this.register(p.np.invalidMeasureReference)}else this.register(p.np.invalidMeasureReference);for(var st of(d.Y.assert(()=>1===_.size(Z.grouping),"Only support 1 grouping for now"),_.some(Z.grouping,ht=>(0,M.t)(ht))&&this.register(p.np.invalidColumnReference),Z.measure.accept(this),Z.grouping))st.accept(this);return Z.scalarKey&&Z.scalarKey.accept(this),Z}visitNativeVisualCalc(Z){return Z}validateExprSequence(Z){return _.reduce(Z,(ie,Ue)=>ie&&_.isEmpty(Ue.validate(this.schema,this.aggrUtils,this.errors,this.context)),!0)}validateStartOrContainsArgs(Z,ie){Z.accept(this),ie.accept(this),_.isEmpty(this.errors)&&((0,y.VO)(ie)&&ie.type.text?this.validateCompatibleType(Z,ie,!0):this.register(p.np.invalidRightOperandType))}validateArithmeticTypes(Z,ie,Ue){f.B.supportsArithmetic(Z,ie,this.schema)||this.register(p.np.invalidLeftOperandType),f.B.supportsArithmetic(Z,Ue,this.schema)||this.register(p.np.invalidRightOperandType)}validateCompatibleType(Z,ie,Ue){var st=Z.getMetadata(this.schema,this.context),ht=st&&st.type,bt=ie.getMetadata(this.schema,this.context),kt=bt&&bt.type;(Ue?!ht||!kt||!ht.isCompatibleFrom(kt):ht&&kt&&!ht.isCompatibleFrom(kt))&&this.register(p.np.invalidValueType)}validateEntity(Z,ie){var Ue=this.schema.schema(Z);if(Ue){var st=Ue.entities.withName(ie);if(st)return st;this.register(p.np.invalidEntityReference)}else this.register(p.np.invalidSchemaReference)}validateIsTableRef(Z){Z.kind!==p.Ez.SubqueryRef&&Z.kind!==p.Ez.Entity&&this.register(p.np.invalidTableReference)}validateHierarchy(Z,ie,Ue){var st=this.validateEntity(Z,ie);if(st){var ht=st.hierarchies.withName(Ue);if(ht)return ht;this.register(p.np.invalidHierarchyReference)}}validateHierarchyLevel(Z,ie,Ue,st){var ht=this.validateHierarchy(Z,ie,Ue);if(ht){var bt=ht.levels.withName(st);if(bt)return bt;this.register(p.np.invalidHierarchyLevelReference)}}validateHierarchyLevelVariation(Z){var ie=Z.source,Ue=this.schema.schema(ie.schema),st=Ue.findProperty(ie.entity,ie.name);if(this.validateColumnExpr({column:Z.source}),st&&st.column){var bt=st.column.variations.withName(Z.variationName);if(bt){var kt=Ue.findHierarchyByVariation(ie.entity,ie.name,Z.variationName,Z.level.name);if(kt&&kt.levels.withName(Z.level.level))return bt}this.register(p.np.invalidVariationReference)}}validateColumnExpr(Z){var ie=Z.column,Ue=this.validateEntity(ie.schema,ie.entity);if(Ue){var st=Ue.properties.withName(ie.name);if(st&&st.kind===s.ye.Column&&this.isQueryable(Z))return st;this.register(p.np.invalidColumnReference)}}register(Z){this.errors||(this.errors=[]),this.errors.push(Z)}isQueryable(Z){var ie=(0,v.vG)(Z);if(Z.hierarchyLevel||Z.hierarchyLevelAggr){var Ue=(0,b.tu)(this.schema,Z);return Ue&&Ue.column.queryable!==s.IW.Error}return this.schema.schema(ie.schema).findProperty(ie.entity,(0,v.hm)(Z)).queryable!==s.IW.Error}}class xt extends S.nP{visitAggr(Z){return Z.func}visitDefault(Z){}static getAggregate(Z){var ie=new xt;return Z.accept(ie)}}class Ht extends S.nP{constructor(Z){super(),this.schema=Z}visitColumnRef(Z){return Z}visitGroupRef(Z){return Z}visitHierarchyLevel(Z){var ie=Z.level,Ue=Z.arg,st=Ue.accept(this);if(Ue&&(0,y.sD)(Ue.arg)){var bt=st.getTargetEntityForVariation(this.schema,Ue.arg.name);if(st&&bt){var kt=st.source.schema,Ft=Ze(kt,bt),Jt=this.schema.schema(kt).findHierarchy(bt,Ue.hierarchy);if(Jt)for(var lr of Jt.levels)if(lr.name===ie)return new W(Ft,lr.column.name)}}else{var Wt=Ue.arg,_t=(0,b.Gn)(this.schema,Wt.schema,Wt.entity,Ue.hierarchy,Z.level);if(_t)return new W(Ue.arg,_t.column.name)}}visitHierarchy(Z){return Z.arg.accept(this)}visitPropertyVariationSource(Z){return new W(Z.arg,Z.property)}visitAggr(Z){return Z.arg.accept(this)}visitDefault(Z){}static getColumnRefSQExpr(Z,ie){var Ue=new Ht(Z);return ie.accept(Ue)}}class dr extends S.ff{visitEntity(Z){var ie=this.result;this.result=void 0===ie||(0,C.aI)(ie,Z)?Z:null}visitFilteredEval(Z){Z.expression.accept(this)}static getEntityExpr(Z){var ie=new dr;return Z.accept(ie),ie.result||void 0}}var Sr=(()=>{class be extends S.nP{visitNativeVisualCalc(ie){}visitDefault(ie){return ie.getTargetEntity()?.schema}static getSchemaName(ie){return ie.accept(be.instance)}}return be.instance=new be,be})(),fr=(()=>{class be extends h.k{visitEntity(ie){return ie.variable?Ze(ie.schema,ie.entity):ie}static rewrite(ie){return d.Y.assertValue(ie,"expr"),ie.accept(be.instance)}}return be.instance=new be,be})(),Zt=(()=>{class be extends V.q{static rewrite(ie,Ue,st,ht){return d.Y.assertValue(ie,"expr"),d.Y.assert(()=>(0,y.$M)(ie),"should be a native visual calc"),ie.accept(be.instance,{expression:Ue,name:st,dataType:ht})}visitNativeVisualCalc(ie,Ue){return Qr(Ue.name,Ue.expression,Ue.dataType,ie.getAnnotations())}}return be.instance=new be,be})();class Er extends S.nP{visitHierarchyLevel(Z){return Z.arg.accept(this)}visitHierarchy(Z){return Z.arg.accept(this)}visitPropertyVariationSource(Z){return Z.property}static getProperty(Z){var ie=new Er;return Z.accept(ie)}}function Le(be,Z){if(d.Y.assertValue(be,"fieldPattern"),be){var ie=be.columnNativeTable||be.columnAggrNativeTable;if(!ie)return void d.Y.assertFail("expect the given fieldPattern to match columnNativeTable or columnAggrNativeTable");var Ue=ie.nativeTableRef;if(!Ue)return void d.Y.assertFail("expect the given fieldPattern to have a nativeTableRef property as an descendant");if(!Z?.sources)return void d.Y.assertFail("expect context and context.sources to be available for evaluating native table source");var st=Z.sources[Ue];if(!st||!(0,P.BF)(st))return{column:void 0,validationError:p.np.invalidNativeTableReference};var ht=ie.name,bt=_.find(st.type.columns,kt=>kt.name===ht);return bt?{column:bt}:{column:void 0,validationError:p.np.invalidNativeTableColumnReference}}}},98138:function(ve,z,e){e.d(z,{EO:function(){return h},aI:function(){return d},fB:function(){return s},gc:function(){return c},i1:function(){return p},lC:function(){return l}});var a=e(454840),i=e(579260),r=e(18122),t=e(98138),o=e(620825);function d(C,y,f,S,b){return n.run(C,y,f,S,b)}var n=(()=>{class C{static getInstance(f,S,b){f||(f=!1),S||(S=!1),b||(b=!1);var V=[+f,+S,+b].reduce((P,T)=>P<<1|T),M=C.instances[V];return M||(M=new C(f,S,b)),M}static run(f,S,b,V,M){return(f=f||null)===(S=S||null)||!f==!S&&(r.Y.assertValue(f,"x"),r.Y.assertValue(S,"y"),f.accept(C.getInstance(b,V,M),S))}constructor(f,S,b){this.ignoreCase=f,this.ignoreVariables=S,this.ignoreAnnotations=b}visitColumnRef(f,S){return!(!(0,o.R3)(S)&&!(0,o.Jq)(S))&&f.ref===S.ref&&this.equals(f.source,S.source)&&this.equalAnnotations(f,S)}visitMeasureRef(f,S){return!(!(0,o.tx)(S)||!this.equalAnnotations(f,S))&&f.ref===S.ref&&this.equals(f.source,S.source)}visitNativeMeasure(f,S){if(!(0,o.uD)(S)||f.language!==S.language||f.expression!==S.expression||f.dataType!==S.dataType||f.format!==S.format||f.proposedName!==S.proposedName||!this.equalAnnotations(f,S))return!1;var b=f.expressionContentCache,V=S.expressionContentCache;return!b&&!V||!(!b||!V)&&b.unrecognizedIdentifiers===V.unrecognizedIdentifiers&&this.equalsAll(b.dependencies,V.dependencies)}visitNativeColumn(f,S){if(!(0,o.mQ)(S)||f.language!==S.language||f.expression!==S.expression||f.dataType!==S.dataType||f.proposedName!==S.proposedName||f.format!==S.format||!this.equals(f.source,S.source)||!this.equalAnnotations(f,S))return!1;var b=f.expressionContentCache,V=S.expressionContentCache;return!b&&!V||!(!b||!V)&&b.unrecognizedIdentifiers===V.unrecognizedIdentifiers&&this.equalsAll(b.dependencies,V.dependencies)}visitAggr(f,S){return(0,o.b9)(S)&&this.equalAnnotations(f,S)&&f.func===S.func&&this.equals(f.arg,S.arg)}visitPercentile(f,S){return!(!(0,o.Wx)(S)||!this.equalAnnotations(f,S))&&f.exclusive===S.exclusive&&f.k===S.k&&this.equals(f.arg,S.arg)}visitRangePercent(f,S){return!(!(0,o.hl)(S)||!this.equalAnnotations(f,S))&&f.percent===S.percent&&this.equals(f.min,S.min)&&this.equals(f.max,S.max)}visitGroupRef(f,S){var b=!1;return((0,o.Jq)(S)||(0,o.R3)(S))&&(b=f.ref===S.ref&&this.equals(f.source,S.source)&&this.equalAnnotations(f,S)),(0,o.Jq)(S)&&this.equalAnnotations(f,S)&&(b=b&&this.equalsAll(f.groupedExprs,S.groupedExprs)),b}visitHierarchy(f,S){return!(!(0,o.Ir)(S)||!this.equalAnnotations(f,S))&&f.hierarchy===S.hierarchy&&this.equals(f.arg,S.arg)}visitHierarchyLevel(f,S){return!(!(0,o.Ah)(S)||!this.equalAnnotations(f,S))&&f.level===S.level&&this.equals(f.arg,S.arg)}visitPropertyVariationSource(f,S){return!(!(0,o.sD)(S)||!this.equalAnnotations(f,S))&&f.name===S.name&&f.property===S.property&&this.equals(f.arg,S.arg)}visitSelectRef(f,S){return!(!(0,o.Gv)(S)||!this.equalAnnotations(f,S)||f.expressionName!==S.expressionName||f.attributeKind!==S.attributeKind&&this.isNullOrUndefined(f.attributeKind)!==this.isNullOrUndefined(S.attributeKind))}isNullOrUndefined(f){return null==f}visitBetween(f,S){return!(!(0,o.Bt)(S)||!this.equalAnnotations(f,S))&&this.equals(f.arg,S.arg)&&this.equals(f.lower,S.lower)&&this.equals(f.upper,S.upper)}visitIn(f,S){if(!(0,o.S1)(S)||!this.equalsAll(f.args,S.args)||!this.equalAnnotations(f,S))return!1;var b=S,V=f.values;if(V){var M=b.values;if(!M||V.length!==M.length)return!1;for(var P=0,T=V.length;P<T;P++)if(!this.equalsAll(V[P],M[P]))return!1}else if(r.Y.assert(()=>!!f.table,"either values or table must be non-null for an In operator"),!b.table||!this.equals(f.table,b.table))return!1;return!0}visitEntity(f,S){return!(!(0,o.Qg)(S)||!this.equalAnnotations(f,S))&&f.schema===S.schema&&f.entity===S.entity&&(this.ignoreVariables||this.optionalEqual(f.variable,S.variable))}visitSubqueryRef(f,S){return!(!(0,o.EP)(S)||!this.equalAnnotations(f,S)||!f.query&&S.query||f.query&&!S.query)&&(f.query&&S.query?f.variable===S.variable&&h(f.query,S.query):f.variable===S.variable)}visitNativeTableRef(f,S){return!!(0,o.D)(S)&&f.variable===S.variable}visitNamedQueryRef(f,S){return!(!(0,o.bu)(S)||!this.equalAnnotations(f,S))&&f.queryName===S.queryName&&(this.ignoreVariables||this.optionalEqual(f.variable,S.variable))}visitAnd(f,S){return!(!(0,o.mP)(S)||!this.equalAnnotations(f,S))&&this.equals(f.left,S.left)&&this.equals(f.right,S.right)}visitOr(f,S){return!(!(0,o.yE)(S)||!this.equalAnnotations(f,S))&&this.equals(f.left,S.left)&&this.equals(f.right,S.right)}visitCompare(f,S){return!(!(0,o.Wc)(S)||!this.equalAnnotations(f,S))&&f.comparison===S.comparison&&this.equals(f.left,S.left)&&this.equals(f.right,S.right)}visitConditional(f,S){return!(!(0,o.Jz)(S)||!this.equalAnnotations(f,S))&&(0,i.m2)(f.cases,S.cases,(b,V)=>this.visitCase(b,V))&&this.equalsNullableObject(f.defaultValue,S.defaultValue,(b,V)=>this.equals(b,V))}visitCase(f,S){return this.equals(f.condition,S.condition)&&this.equals(f.value,S.value)}visitContains(f,S){return!(!(0,o.c5)(S)||!this.equalAnnotations(f,S))&&this.equals(f.left,S.left)&&this.equals(f.right,S.right)}visitDateSpan(f,S){return!(!(0,o.B6)(S)||!this.equalAnnotations(f,S))&&f.unit===S.unit&&this.equals(f.arg,S.arg)}visitDateAdd(f,S){return!(!(0,o.yS)(S)||!this.equalAnnotations(f,S))&&f.unit===S.unit&&f.amount===S.amount&&this.equals(f.arg,S.arg)}visitExists(f,S){return!(!(0,o.D$)(S)||!this.equalAnnotations(f,S))&&this.equals(f.arg,S.arg)}visitNot(f,S){return!(!(0,o.w8)(S)||!this.equalAnnotations(f,S))&&this.equals(f.arg,S.arg)}visitNow(f,S){return!!this.equalAnnotations(f,S)&&(0,o.DK)(S)}visitDefaultValue(f,S){return!!this.equalAnnotations(f,S)&&(0,o.xb)(S)}visitAnyValue(f,S){return!!this.equalAnnotations(f,S)&&(0,o.qz)(S)}visitResourcePackageItem(f,S){return!(!(0,o.cd)(S)||!this.equalAnnotations(f,S))&&f.packageName===S.packageName&&f.packageType===S.packageType&&f.itemName===S.itemName}visitStartsWith(f,S){return!(!(0,o.qg)(S)||!this.equalAnnotations(f,S))&&this.equals(f.left,S.left)&&this.equals(f.right,S.right)}visitConstant(f,S){return!!((0,o.VO)(S)&&f.type.equals(S.type)&&this.equalAnnotations(f,S))&&(f.type.text&&this.ignoreCase?(0,a.Hd)(f.valueEncoded,S.valueEncoded):f.valueEncoded===S.valueEncoded)}visitFillRule(f,S){if(!(0,o.ON)(S)||!this.equals(f.input,S.input)||!this.equalAnnotations(f,S))return!1;var b=f.rule,V=S.rule;return b===V||this.equalsNullableObject(b.linearGradient2,V.linearGradient2,(M,P)=>this.visitLinearGradient2(M,P))&&this.equalsNullableObject(b.linearGradient3,V.linearGradient3,(M,P)=>this.visitLinearGradient3(M,P))}visitLinearGradient2(f,S){return r.Y.assertValue(f,"left"),r.Y.assertValue(S,"right"),this.equalsFillRuleStop(f.min,S.min)&&this.equalsFillRuleStop(f.max,S.max)&&this.equalsNullableObject(f.nullColoringStrategy,S.nullColoringStrategy,(b,V)=>this.equalsNullStrategy(b,V))}visitLinearGradient3(f,S){return r.Y.assertValue(f,"left"),r.Y.assertValue(S,"right"),this.equalsFillRuleStop(f.min,S.min)&&this.equalsFillRuleStop(f.mid,S.mid)&&this.equalsFillRuleStop(f.max,S.max)&&this.equalsNullableObject(f.nullColoringStrategy,S.nullColoringStrategy,(b,V)=>this.equalsNullStrategy(b,V))}visitThemeDataColor(f,S){return r.Y.assertValue(f,"expr"),r.Y.assertValue(S,"comparand"),(0,o.Hf)(S)&&f.colorId===S.colorId&&f.percent===S.percent}equalsFillRuleStop(f,S){return r.Y.assertValue(f,"stop1"),r.Y.assertValue(S,"stop2"),this.equals(f.color,S.color)&&this.equalsNullable(f.value,S.value)}equalsNullStrategy(f,S){return r.Y.assertValue(f,"equalsNullStrategy - left"),r.Y.assertValue(S,"equalsNullStrategy - right"),this.equals(f.strategy,S.strategy)&&this.equalsNullable(f.color,S.color)}visitArithmetic(f,S){return!(!(0,o.rJ)(S)||!this.equalAnnotations(f,S))&&f.operator===S.operator&&this.equals(f.left,S.left)&&this.equals(f.right,S.right)}visitFloor(f,S){return!(!(0,o.b5)(S)||!this.equalAnnotations(f,S))&&f.timeUnit===S.timeUnit&&f.size===S.size&&this.equals(f.arg,S.arg)}visitScopedEval(f,S){return!(!(0,o.tZ)(S)||!this.equalAnnotations(f,S))&&this.equals(f.expression,S.expression)&&this.equalsAll(f.scope,S.scope)}visitFilteredEval(f,S){return!(!(0,o.m6)(S)||!this.equalAnnotations(f,S))&&this.equals(f.expression,S.expression)&&f.filters.length===S.filters.length&&_.every(f.filters,(b,V)=>c(b,S.filters[V]))}visitWithRef(f,S){return!(!(0,o.KH)(S)||!this.equalAnnotations(f,S))&&f.expressionName===S.expressionName}visitTransformTableRef(f,S){return!(!(0,o.eN)(S)||!this.equalAnnotations(f,S))&&f.source===S.source}visitTransformOutputRoleRef(f,S){return!(!(0,o.VT)(S)||!this.equalAnnotations(f,S))&&f.role===S.role&&f.transform===S.transform}visitRoleRef(f,S){return!(!(0,o.aV)(S)||!this.equalAnnotations(f,S))&&f.role===S.role}visitSummaryValueRef(f,S){return!(!(0,o.$t)(S)||!this.equalAnnotations(f,S))&&f.name===S.name}visitAllRolesRef(f,S){return(0,o.U)(S)}visitDiscretize(f,S){return!(!(0,o.vU)(S)||!this.equalAnnotations(f,S))&&f.count===S.count&&this.equals(f.source,S.source)}visitMember(f,S){return!(!(0,o.NB)(S)||!this.equalAnnotations(f,S))&&f.member===S.member&&this.equals(f.source,S.source)}visitSparklineData(f,S){return!!(0,o.AH)(S)&&f.applyCalculationGroupTo===S.applyCalculationGroupTo&&f.pointsPerSparkline===S.pointsPerSparkline&&f.includeMinGroupingInterval===S.includeMinGroupingInterval&&this.equals(f.measure,S.measure)&&this.equalsAll(f.grouping,S.grouping)&&!!(!f.scalarKey&&!S.scalarKey||f.scalarKey&&S.scalarKey&&this.equals(f.scalarKey,S.scalarKey))}visitTableTypeExpr(f,S){return!!(0,o.Vb)(S)&&(0,i.m2)(f.columns,S.columns,(b,V)=>b.name===V.name&&this.equals(b.expr,V.expr))}visitPrimitiveTypeExpr(f,S){return!!(0,o.Cb)(S)&&f.type===S.type}visitTypeOfTypeExpr(f,S){return!!(0,o.y)(S)&&(0,t.aI)(f.baseExpr,S.baseExpr)}optionalEqual(f,S){return!f||!S||f===S}equals(f,S){return f.accept(this,S)}equalsNullable(f,S){return this.equalsNullableObject(f,S,(b,V)=>this.equals(b,V))}equalsNullableObject(f,S,b){return null==f&&null==S||null!=f&&null!=S&&b(f,S)}equalsAll(f,S){return(0,i.m2)(f,S,(b,V)=>this.equals(b,V))}equalAnnotations(f,S){return!(!this.ignoreAnnotations&&!_.isEqual(f.getAnnotations(),S.getAnnotations()))}visitNativeVisualCalc(f,S){return!(!this.ignoreAnnotations&&!_.isEqual(f.getAnnotations(),S.getAnnotations()))&&f.language===S.language&&f.expression===S.expression&&f.name===S.name&&f.dataType===S.dataType}visitVisualTopN(f,S){return!!(0,o.q_)(S)&&f.itemCount===S.itemCount}}return C.instances=[],C})();function c(C,y){return r.Y.assertAnyValue(C,"leftFilter"),r.Y.assertAnyValue(y,"rightFilter"),C||(C=null),y||(y=null),C===y||!(!!C!=!!y||!s(C,y))&&d(C.condition,y.condition)}function s(C,y){return r.Y.assertValue(C,"leftFilter"),r.Y.assertValue(y,"rightFilter"),(0,i.m2)(C.target,y.target,d)}function p(C,y){return r.Y.assertAnyValue(C,"filters"),r.Y.assertValue(y,"searchTarget"),!_.isEmpty(C)&&_.some(C,f=>c(f,y))}function l(C,y){return!C&&!y||!(!C||!y)&&C.direction===y.direction&&d(C.expr,y.expr)}function u(C,y){return!C&&!y||!(!C||!y)&&d(C.expr,y.expr)}function m(C,y){return!C&&!y||!(!C||!y)&&(0,i.m2)(C.columns,y.columns,(f,S)=>function(C,y){return!C&&!y||!(!C||!y)&&C.role===y.role&&u(C.expression,y.expression)}(f,S))}function D(C,y){return!C&&!y||!(!C||!y)&&C.algorithm===y.algorithm&&function(C,y){return!C&&!y||!(!C||!y)&&(0,i.m2)(C.parameters,y.parameters,(f,S)=>u(f,S))&&m(C.table,y.table)}(C.input,y.input)&&function(C,y){return!C&&!y||!(!C||!y)&&m(C.table,y.table)}(C.output,y.output)}function h(C,y){return r.Y.assertValue(C,"x SemanticQuery"),r.Y.assertValue(y,"y SemanticQuery"),C.from().equals(y.from())&&(0,i.m2)(C.where(),y.where(),c)&&(0,i.m2)(C.orderBy(),y.orderBy(),l)&&(0,i.m2)(C.select(),y.select(),u)&&(0,i.m2)(C.groupBy(),y.groupBy(),u)&&(0,i.m2)(C.transforms(),y.transforms(),D)&&C.top()===y.top()}},939906:function(ve,z,e){e.d(z,{c:function(){return d}});var a=e(18122),i=e(620825),r=e(98138),t=e(858225),o=e(683116);function d(c,s,p){var m,{disableHierarchyLevelGrouping:l,useNativeReferenceNames:u}=p,v=[];if(0===s.length)return v;for(var g=0,E=(m=t.B.isSQExprArray(s)?s.map(y=>t.B.transformToVisualQueryField(y)):s).length;g<E;g++){var D=m[g],h=D.expr,C=D.isFieldParameter;a.Y.assertValue(h,"Expression not found"),u||!(0,i.Ah)(h)?v.push({expr:h,children:null,selectQueryIndex:g,isHierarchyLevelsGroup:!1,isFieldParameter:C}):n(c,v,h,g,l)}return v}function n(c,s,p,l,u){var v=!0,m=(0,o.mA)(p)||(0,o.HL)(p),g=_.last(s);if(!u&&g&&g.children&&(0,r.aI)(g.expr,m)){var E=(0,o.w)(c,p.arg);E instanceof Array&&(v=!(0,o.wd)(E,_.last(g.children),p))}v||u?s.push({expr:m,children:[p],selectQueryIndex:l,isHierarchyLevelsGroup:!0,isFieldParameter:!1}):(a.Y.assertValue(g,"There should be a group to add the variation to"),a.Y.assertValue(g.children,"The group should have children to add the variation to"),g.children.push(p))}},350410:function(ve,z,e){e.d(z,{x:function(){return o}});var a=e(18122),i=e(188076),r=e(524034),t=e(158649);function o(n){return d.rewrite(n)}var d=(()=>{class n extends r.q{static rewrite(s){return a.Y.assertValue(s,"expr"),s.accept(n.instance)}visitDefault(s){var p=(0,i.F)(s);return p&&p.percentOfGrandTotal&&(s=(0,t.to)(p.percentOfGrandTotal.baseExpr)),s}}return n.instance=new n,n})()},870934:function(ve,z,e){e.d(z,{L:function(){return o}});var a=e(18122),i=e(188076),r=e(524034),t=e(158649);function o(n){return d.rewrite(n)}var d=(()=>{class n extends r.q{static rewrite(s){return a.Y.assertValue(s,"expr"),s.accept(n.instance)}visitDefault(s){var p=(0,i.F)(s);return p&&p.percentOfRoleTotal&&(s=(0,t.to)(p.percentOfRoleTotal.baseExpr)),s}}return n.instance=new n,n})()},990328:function(ve,z,e){e.d(z,{k:function(){return o}});var a=e(579260),i=e(18122),r=e(757406),t=e(98138);class o{visitColumnRef(c){var s=c.source,p=s.accept(this);return s===p?c:new r.Dw(p,c.ref,void 0,c.getAnnotations())}visitMeasureRef(c){var s=c.source,p=s.accept(this);return s===p?c:new r.hR(p,c.ref,c.getAnnotations())}visitNativeMeasure(c){var s=c.expressionContentCache&&c.expressionContentCache.dependencies,p=s&&this.rewriteAll(s);return s===p?c:new r.D7(c.language,c.expression,c.dataType,c.proposedName,{...c.expressionContentCache,dependencies:p},c.format,c.getAnnotations())}visitNativeColumn(c){var s=c.expressionContentCache&&c.expressionContentCache.dependencies,p=s&&this.rewriteAll(s),l=c.source.accept(this);if(s===p&&c.source===l)return c;var u=c.expressionContentCache?{...c.expressionContentCache,dependencies:p}:void 0;return new r.fo(c.language,c.expression,c.dataType,l,c.proposedName,u,c.format,c.getAnnotations())}visitAggr(c){var s=c.arg,p=s.accept(this);return s===p?c:new r.wC(p,c.func,c.includeAllTypes,c.getAnnotations())}visitSelectRef(c){return c}visitPercentile(c){var s=c.arg,p=s.accept(this);return s===p?c:new r.TJ(p,c.k,c.exclusive,c.getAnnotations())}visitRangePercent(c){var s=c.min,p=s.accept(this),l=c.max,u=l.accept(this);return s===p&&l===u?c:new r.KW(p,u,c.percent,c.getAnnotations())}visitGroupRef(c){for(var s=c.source,p=c.source.accept(this),l=c.groupedExprs,u=new Array(l.length),v=0;v<l.length;v++)u[v]=l[v].accept(this);return s===p&&function(n,c){i.Y.assertValue(n,"x"),i.Y.assertValue(c,"y");var s=n.length;if(s!==c.length)return!1;for(var p=0;p<s;p++)if(!(0,t.aI)(n[p],c[p]))return!1;return!0}(l,u)?c:new r.CH(c.ref,p,u,c.getAnnotations())}visitHierarchy(c){var s=c.arg,p=s.accept(this);return s===p?c:new r.t9(p,c.hierarchy,c.getAnnotations())}visitHierarchyLevel(c){var s=c.arg,p=s.accept(this);return s===p?c:new r.LV(p,c.level,c.getAnnotations())}visitPropertyVariationSource(c){var s=c.arg,p=s.accept(this);return s===p?c:new r.P0(p,c.name,c.property,c.getAnnotations())}visitEntity(c){return c}visitSubqueryRef(c){return c}visitNativeTableRef(c){return c}visitNamedQueryRef(c){return c}visitAnd(c){var s=c.left,p=s.accept(this),l=c.right,u=l.accept(this);return s===p&&l===u?c:new r.xC(p,u,c.getAnnotations())}visitBetween(c){var s=c.arg,p=s.accept(this),l=c.lower,u=l.accept(this),v=c.upper,m=v.accept(this);return s===p&&l===u&&v===m?c:new r.qO(p,u,m,c.getAnnotations())}visitIn(c){var u,s=c.args,p=this.rewriteAll(s),l=c.values,v=c.table,m=v;if(l){i.Y.assert(()=>!v,"values and table cannot be both specified for the In operator");for(var g=0,E=l.length;g<E;g++){var D=l[g],h=this.rewriteAll(D);D!==h&&!u&&(u=(0,a.s)(l,g)),u&&u.push(h)}}return v&&(i.Y.assert(()=>!l,"values and table cannot be both specified for the In operator"),m=v.accept(this)),s!==p||u||v!==m?new r.zn(p,u||l,m,c.getAnnotations()):c}rewriteAll(c){return i.Y.assertValue(c,"origExprs"),(0,a.cd)(c,s=>s.accept(this))}visitOr(c){var s=c.left,p=s.accept(this),l=c.right,u=l.accept(this);return s===p&&l===u?c:new r.Zd(p,u,c.getAnnotations())}visitCompare(c){var s=c.left,p=s.accept(this),l=c.right,u=l.accept(this);return s===p&&l===u?c:new r.j_(c.comparison,p,u,c.getAnnotations())}visitConditional(c){i.Y.assertNonEmpty(c.cases,"orig.cases");for(var u,s=c.defaultValue,p=s&&s.accept(this),l=c.cases,v=0,m=l.length;v<m;v++){var g=l[v],E=this.visitCase(g);g!==E&&!u&&(u=(0,a.s)(l,v)),u&&u.push(E)}return u||(u=l),p===s&&u===l?c:new r.Ku(u,p,c.getAnnotations())}visitCase(c){var s=c.condition,p=s.accept(this),l=c.value,u=l.accept(this);return s===p&&l===u?c:{condition:p,value:u}}visitContains(c){var s=c.left,p=s.accept(this),l=c.right,u=l.accept(this);return s===p&&l===u?c:new r.v6(p,u,c.getAnnotations())}visitExists(c){var s=c.arg,p=s.accept(this);return s===p?c:new r._7(p,c.getAnnotations())}visitNot(c){var s=c.arg,p=s.accept(this);return s===p?c:new r.JC(p,c.getAnnotations())}visitStartsWith(c){var s=c.left,p=s.accept(this),l=c.right,u=l.accept(this);return s===p&&l===u?c:new r.Ly(p,u,c.getAnnotations())}visitConstant(c){return c}visitFloor(c){var s=c.arg,p=s.accept(this);return s===p?c:new r.K$(p,c.size,c.timeUnit,c.getAnnotations())}visitDateSpan(c){var s=c.arg,p=s.accept(this);return s===p?c:new r.UC(c.unit,p,c.getAnnotations())}visitDateAdd(c){var s=c.arg,p=s.accept(this);return s===p?c:new r.Nt(c.unit,c.amount,p,c.getAnnotations())}visitNow(c){return c}visitDefaultValue(c){return c}visitAnyValue(c){return c}visitArithmetic(c){var s=c.left,p=s.accept(this),l=c.right,u=l.accept(this);return s===p&&l===u?c:new r.AW(p,u,c.operator,c.getAnnotations())}visitScopedEval(c){var s=c.expression,p=s.accept(this),l=c.scope,u=this.rewriteAll(l);return s===p&&l===u?c:new r.e6(p,u,c.getAnnotations())}visitFilteredEval(c){var s=c.expression,p=s.accept(this),l=!1,u=[];for(var v of c.filters){var m=v.target,g=void 0;_.isEmpty(m)||(g=this.rewriteAll(m));var E=v.condition,D=v.condition.accept(this);(m!==g||E!==D)&&(l=!0),u.push({target:g,condition:D})}return s!==p||l?new r.$M(p,u,c.getAnnotations()):c}visitWithRef(c){return c}visitTransformTableRef(c){return c}visitTransformOutputRoleRef(c){return c}visitRoleRef(c){return c}visitSummaryValueRef(c){return c}visitAllRolesRef(c){return c}visitFillRule(c){var s=c.input,p=s.accept(this),l=c.rule,u=l.linearGradient2,v=u;u&&(v=this.visitLinearGradient2(u));var m=l.linearGradient3,g=m;if(m&&(g=this.visitLinearGradient3(m)),s!==p||u!==v||m!==g){var E={};return v&&(E.linearGradient2=v),g&&(E.linearGradient3=g),new r.xW(p,E,c.getAnnotations())}return c}visitLinearGradient2(c){i.Y.assertValue(c,"origGradient");var s=c.min,p=this.visitFillRuleStop(s),l=c.max,u=this.visitFillRuleStop(l),v=c.nullColoringStrategy,m=this.visitFillNullStrategy(v);if(s!==p||l!==u||v!==m){var g={min:p,max:u};return m&&(g.nullColoringStrategy=m),g}return c}visitLinearGradient3(c){i.Y.assertValue(c,"origGradient");var s=c.min,p=this.visitFillRuleStop(s),l=c.mid,u=this.visitFillRuleStop(l),v=c.max,m=this.visitFillRuleStop(v),g=c.nullColoringStrategy,E=this.visitFillNullStrategy(g);if(s!==p||l!==u||v!==m||g!==E){var D={min:p,mid:u,max:m};return E&&(D.nullColoringStrategy=E),D}return c}visitFillRuleStop(c){i.Y.assertValue(c,"stop");var s=c.color,p=c.color.accept(this),l=c.value,u=l;if(l&&(u=l.accept(this)),s!==p||l!==u){var v={color:p};return u&&(v.value=u),v}return c}visitFillNullStrategy(c){if(c){var s=c.strategy,p=s.accept(this),l=c.color,u=l;if(l&&(u=l.accept(this)),s!==p||l!==u){var v={strategy:p};return u&&(v.color=u),v}return c}}visitThemeDataColor(c){return c}visitResourcePackageItem(c){return c}visitDiscretize(c){var s=c.source.accept(this);return s===c.source?c:new r.Uv(s,c.count,c.getAnnotations())}visitMember(c){var s=c.source.accept(this);return s===c.source?c:new r.gX(s,c.member,c.getAnnotations())}visitSparklineData(c){var s=c.measure.accept(this),p=this.rewriteAll(c.grouping),l=c.applyCalculationGroupTo,u=c.scalarKey?.accept(this),v=c.pointsPerSparkline,m=c.includeMinGroupingInterval;return s===c.measure&&p===c.grouping&&c.applyCalculationGroupTo===l&&c.scalarKey===u&&c.pointsPerSparkline===v&&c.includeMinGroupingInterval===m?c:new r.r0(s,p,l,u,v,m)}visitNativeVisualCalc(c){return c}visitTableTypeExpr(c){return c}visitPrimitiveTypeExpr(c){return c}visitTypeOfTypeExpr(c){return c}visitVisualTopN(c){return c}}},524034:function(ve,z,e){e.d(z,{q:function(){return a}});class a{visitEntity(r,t){return this.visitDefault(r,t)}visitSubqueryRef(r,t){return this.visitDefault(r,t)}visitNativeTableRef(r,t){return this.visitDefault(r,t)}visitColumnRef(r,t){return this.visitDefault(r,t)}visitMeasureRef(r,t){return this.visitDefault(r,t)}visitAggr(r,t){return this.visitDefault(r,t)}visitPercentile(r,t){return this.visitDefault(r,t)}visitRangePercent(r,t){return this.visitDefault(r,t)}visitGroupRef(r,t){return this.visitDefault(r,t)}visitHierarchy(r,t){return this.visitDefault(r,t)}visitHierarchyLevel(r,t){return this.visitDefault(r,t)}visitPropertyVariationSource(r,t){return this.visitDefault(r,t)}visitSelectRef(r,t){return this.visitDefault(r,t)}visitAnd(r,t){return this.visitDefault(r,t)}visitBetween(r,t){return this.visitDefault(r,t)}visitIn(r,t){return this.visitDefault(r,t)}visitOr(r,t){return this.visitDefault(r,t)}visitCompare(r,t){return this.visitDefault(r,t)}visitConditional(r,t){return this.visitDefault(r,t)}visitContains(r,t){return this.visitDefault(r,t)}visitExists(r,t){return this.visitDefault(r,t)}visitNot(r,t){return this.visitDefault(r,t)}visitStartsWith(r,t){return this.visitDefault(r,t)}visitConstant(r,t){return this.visitDefault(r,t)}visitDateSpan(r,t){return this.visitDefault(r,t)}visitDateAdd(r,t){return this.visitDefault(r,t)}visitNow(r,t){return this.visitDefault(r,t)}visitDefaultValue(r,t){return this.visitDefault(r,t)}visitAnyValue(r,t){return this.visitDefault(r,t)}visitArithmetic(r,t){return this.visitDefault(r,t)}visitFloor(r,t){return this.visitDefault(r,t)}visitFillRule(r,t){return this.visitDefault(r,t)}visitThemeDataColor(r,t){return this.visitDefault(r,t)}visitResourcePackageItem(r,t){return this.visitDefault(r,t)}visitScopedEval(r,t){return this.visitDefault(r,t)}visitFilteredEval(r,t){return this.visitDefault(r,t)}visitWithRef(r,t){return this.visitDefault(r,t)}visitTransformTableRef(r,t){return this.visitDefault(r,t)}visitTransformOutputRoleRef(r,t){return this.visitDefault(r,t)}visitRoleRef(r,t){return this.visitDefault(r,t)}visitAllRolesRef(r,t){return this.visitDefault(r,t)}visitDiscretize(r,t){return this.visitDefault(r,t)}visitMember(r,t){return this.visitDefault(r,t)}visitNamedQueryRef(r,t){return this.visitDefault(r,t)}visitNativeMeasure(r,t){return this.visitDefault(r,t)}visitNativeColumn(r,t){return this.visitDefault(r,t)}visitSummaryValueRef(r,t){return this.visitDefault(r,t)}visitSparklineData(r,t){return this.visitDefault(r,t)}visitTableTypeExpr(r,t){return this.visitDefault(r,t)}visitPrimitiveTypeExpr(r,t){return this.visitDefault(r,t)}visitTypeOfTypeExpr(r,t){return this.visitDefault(r,t)}visitNativeVisualCalc(r,t){return this.visitDefault(r,t)}visitVisualTopN(r,t){return this.visitDefault(r,t)}visitDefault(r,t){return r}}},639132:function(ve,z,e){e.d(z,{p:function(){return o}});var a=e(18122),i=e(188076),r=e(158649),t=e(524034);function o(n){return d.rewrite(n)}var d=(()=>{class n extends t.q{static rewrite(s){return a.Y.assertValue(s,"expr"),s.accept(n.instance)}visitDefault(s){var p=(0,i.F)(s);return p&&!p.percentOfGrandTotal&&(s=(0,r.to)({percentOfGrandTotal:{baseExpr:p}})),s}}return n.instance=new n,n})()},677792:function(ve,z,e){e.d(z,{L:function(){return o}});var a=e(18122),i=e(188076),r=e(524034),t=e(158649);function o(n,c){return d.rewrite(n,c)}var d=(()=>{class n extends r.q{static rewrite(s,p){return a.Y.assertValue(s,"expr"),s.accept(n.instance,p)}visitDefault(s,p){var l=(0,i.F)(s);return l&&!l.percentOfRoleTotal&&(s=(0,t.to)({percentOfRoleTotal:{baseExpr:l,roles:p}})),s}}return n.instance=new n,n})()},620825:function(ve,z,e){e.d(z,{$M:function(){return Ie},$t:function(){return ne},$y:function(){return f},A0:function(){return pe},AH:function(){return Oe},Ah:function(){return E},B6:function(){return ue},Bt:function(){return X},Cb:function(){return xe},D:function(){return F},D$:function(){return He},DG:function(){return b},DK:function(){return ft},EL:function(){return v},EP:function(){return U},GK:function(){return s},Gv:function(){return O},Hf:function(){return ye},Iq:function(){return Je},Ir:function(){return g},JG:function(){return Ae},Jq:function(){return K},Jz:function(){return te},KH:function(){return R},LM:function(){return S},NB:function(){return Ee},Nd:function(){return C},ON:function(){return Fe},Qg:function(){return m},Qy:function(){return u},R3:function(){return n},R4:function(){return y},Rd:function(){return p},S1:function(){return D},U:function(){return k},VO:function(){return c},VT:function(){return A},Vb:function(){return he},Wc:function(){return H},Wx:function(){return N},Ze:function(){return G},aV:function(){return q},b5:function(){return d},b9:function(){return h},bu:function(){return L},c5:function(){return ee},cR:function(){return V},cd:function(){return W},eN:function(){return B},hl:function(){return w},m6:function(){return j},mP:function(){return Y},mQ:function(){return T},q_:function(){return Pe},qg:function(){return Qe},qz:function(){return At},rJ:function(){return o},sD:function(){return I},tC:function(){return l},tZ:function(){return x},tx:function(){return M},uD:function(){return P},vU:function(){return we},w8:function(){return We},xb:function(){return mt},y:function(){return Se},yE:function(){return Q},yS:function(){return Te}});var a=e(293444),i=e(81825),r=e(18122),t=e(5371);function o(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.Arithmetic}function d(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.Floor}function n(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.ColumnRef}function c(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.Constant}function s(Me){return r.Y.assertValue(Me,"expr"),c(Me)&&Me.type.numeric}function p(Me){return r.Y.assertValue(Me,"expr"),c(Me)&&Me.type.bool}function l(Me){return r.Y.assertValue(Me,"expr"),c(Me)&&Me.type.dateTime}function u(Me){return r.Y.assertValue(Me,"expr"),c(Me)&&Me.type.text}function v(Me){return r.Y.assertValue(Me,"expr"),c(Me)&&Me.type.primitiveType===a.W.Null&&null===Me.value}function m(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.Entity}function g(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.Hierarchy}function E(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.HierarchyLevel}function D(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.In}function h(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.Aggregation}function C(Me){return r.Y.assertValue(Me,"expr"),h(Me)&&Me.func===i.Sn.Min}function y(Me){return r.Y.assertValue(Me,"expr"),h(Me)&&Me.func===i.Sn.Max}function f(Me){return r.Y.assertValue(Me,"expr"),h(Me)&&Me.func===i.Sn.Avg}function S(Me){return r.Y.assertValue(Me,"expr"),h(Me)&&Me.func===i.Sn.Median}function b(Me){return r.Y.assertValue(Me,"expr"),h(Me)&&Me.func===i.Sn.StandardDeviation}function V(Me){return r.Y.assertValue(Me,"expr"),h(Me)&&Me.func===i.Sn.Variance}function M(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.MeasureRef}function P(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.NativeMeasure}function T(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.NativeColumn}function N(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.Percentile}function w(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.RangePercent}function I(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.PropertyVariationSource}function O(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.SelectRef}function x(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.ScopedEval}function j(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.FilteredEval}function U(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.SubqueryRef}function F(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.NativeTableRef}function R(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.WithRef}function B(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.TransformTableRef}function A(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.TransformOutputRoleRef}function W(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.ResourcePackageItem}function G(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.Compare}function K(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.GroupRef}function q(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.RoleRef}function ne(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.SummaryValueRef}function k(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.AllRolesRef}function L(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.NamedQueryRef}function X(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.Between}function Y(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.And}function Q(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.Or}function H(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.Compare}function te(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.Conditional}function ee(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.Contains}function ue(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.DateSpan}function Te(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.DateAdd}function He(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.Exists}function We(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.Not}function ft(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.Now}function mt(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.DefaultValue}function At(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.AnyValue}function Qe(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.StartsWith}function Fe(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.FillRule}function ye(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.ThemeDataColor}function we(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.Discretize}function Ee(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.Member}function Oe(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.SparklineData}function he(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.TableType}function xe(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.PrimitiveType}function Se(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.TypeOfType}function Ae(Me){return r.Y.assertValue(Me,"expr"),Me.comparison===i.mq.Equal&&(v(Me.right)||v(Me.left))}function Ie(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.NativeVisualCalc}function Je(Me){return r.Y.assertValue(Me,"expr"),h(Me)&&Me.func===i.Sn.Count}function pe(Me){return r.Y.assertValue(Me,"expr"),h(Me)&&Me.func===i.Sn.CountNonNull}function Pe(Me){return r.Y.assertValue(Me,"expr"),Me.kind===t.Ez.VisualTopN}},912709:function(ve,z,e){e.d(z,{$:function(){return i},l:function(){return a}});var a="PowerBI.SQExprEvaluationKind",i="PowerBI.SQExprTextOperatorOption"},858225:function(ve,z,e){e.d(z,{B:function(){return h}});var a=e(81825),i=e(579260),r=e(18122),t=e(943509),o=e(476271),d=e(335128),n=e(188076),c=e(106302),s=e(757406),p=e(34584),l=e(5371),u=e(73646),v=e(671825),m=e(233716),g=e(620825),E=e(98138),D=e(759831),h=(()=>{class b{static supportsArithmetic(M,P,T){var N=P.getMetadata(T),w=N&&N.type;return!(!N||!w)&&(M===a.Fj.Multiply||M===a.Fj.Divide?w.numeric:w.numeric||w.dateTime||w.duration)}static indexOfExpr(M,P){r.Y.assertValue(M,"items"),r.Y.assertValue(P,"searchElement");for(var T=0,N=M.length;T<N;T++)if((0,E.aI)(M[T],P))return T;return-1}static sequenceEqual(M,P){r.Y.assertValue(M,"x"),r.Y.assertValue(P,"y");var T=M.length;if(T!==P.length)return!1;for(var N=0;N<T;N++)if(!(0,E.aI)(M[N],P[N]))return!1;return!0}static isSubset(M,P){r.Y.assertValue(M,"x"),r.Y.assertValue(P,"y");var N,T=function(I){if(-1===_.findIndex(P,x=>(0,E.aI)(x,I)))return{v:!1}};for(var w of M)if(N=T(w))return N.v;return!0}static isFromVariation(M){return r.Y.assertValue(M,"expr"),(0,g.Ir)(M)&&(0,g.sD)(M.arg)||(0,g.Ah)(M)&&this.isFromVariation(M.arg)}static discourageAggregation(M,P){var T=this.getSchemaCapabilities(M,P);return _.some(T,N=>N.discourageQueryAggregateUsage)}static getAggregateBehavior(M,P){r.Y.assertValue(M,"expr"),r.Y.assertValue(P,"schema");var T=this.getConceptualColumn(M,P);if(T)return T.aggregateBehavior}static getSchemaCapabilities(M,P){r.Y.assertValue(M,"expr"),r.Y.assertValue(P,"schema");var T=(0,n.F)(M,P);if(T){var N=(0,d.WE)(T);return _.chain(N).map(w=>P.schema(w.schema)?.capabilities).filter(w=>!!w).value()}}static getKpiMetadata(M,P){var T=this.getKpiStatusProperty(M,P);if(T)return T.kpiValue.measure.kpi.statusMetadata;var N=this.getKpiTrendProperty(M,P);return N?N.kpiValue.measure.kpi.trendMetadata:void 0}static getParameterMetadata(M,P){var T=M.getConceptualProperty(P,!0),N=T&&T.column&&T.column.parameterMetadata;return N&&this.getDataViewParameterColumnMetadata(N)}static getWhatIfParameterMetadata(M){if(M&&M.parameterMetadata&&M.parameterMetadata.kind===p.S_.WhatIf)return M.parameterMetadata}static getFieldParameterQuerySelects(M,P){if(!_.isEmpty(M)){var T=M.getConceptualProperty(P);if(T){var N=T.column;if(N&&M.kind===l.Ez.ColumnRef&&N.parameterMetadata?.kind===p.S_.Field){var w=M.getTargetEntity(),I=P.schema(w.schema).entities.withName(w.entity),O=_.some(I.properties,U=>U.column&&U.column.keys);for(var x of(r.Y.assert(()=>O,"A key should always exist within the fieldParameter entity"),I.properties))if(x.column&&x.column.keys&&1===x.column.keys.length){var j=x.column.keys[0];if(j===T)return{parameterColumn:M,labelColumn:(0,s.sX)(w,x.name)};if(T===x)return{labelColumn:M,parameterColumn:(0,s.sX)(w,j.name)}}return{parameterColumn:M}}}}}static getFieldParameters(M){var P=[];for(var T in M){var w=M[T].getFieldParameters();P.push({role:T,parameters:w})}return P}static getParameterValuesOrder(M,P){if(!_.isEmpty(M))for(var T of M){var N=T?.conditions();if(!_.isEmpty(N)){var w=(0,c.gE)(P,N[0]);if(!_.isEmpty(w))return w}}return[]}static isFilterForFieldParameter(M,P,T){if(M){var N=b.getFieldParameters(M);for(var w of N)for(var I of w.parameters){var O=b.getFieldParameterQuerySelects(I.expr,T);if(O&&!_.isEmpty(b.getParameterValuesOrder([P],O.parameterColumn)))return!0}}return!1}static shouldUseAsFieldParameter(M,P,T,N,w){return!(!M||w||!N||(0,g.Ah)(T)||!b.getFieldParameterQuerySelects(T,P))}static getDataViewParameterColumnMetadata(M){return{kind:this.getDataViewParameterKind(M),mappedMParameterNames:M.mappedMParameterNames,supportsMultipleValues:M.supportsMultipleValues,supportsSelectAll:M.supportsSelectAll}}static getDataViewParameterKind(M){if(null!=M){var P=M.kind;if(null==P)return t.t_.WhatIf;switch(P){case p.S_.WhatIf:return t.t_.WhatIf;case p.S_.MParameters:return t.t_.MParameters;case p.S_.Field:return t.t_.Field;default:return void r.Y.assertNever(P)}}}static hasMappedMParameter(M,P){var T=this.getConceptualParameterMetadata(M,P);return T?.kind===p.S_.MParameters}static isSupportMulitpleValuesEnabled(M,P){var T=this.getConceptualParameterMetadata(M,P);return T?.supportsMultipleValues}static getConceptualParameterMetadata(M,P){var T=this.getConceptualColumn(M,P);return T?.parameterMetadata}static getConceptualEntity(M,P){return r.Y.assertValue(M,"entityExpr"),P.schema(M.schema).entities.withName(M.entity)}static hasMappedColumn(M,P){return C.hasMappedColumn(M,P)}static isSingleDateColumn(M,P){if(1!==_.size(M))return!1;var N=M[0].getMetadata(P);return N&&!!N.type.dateTime}static getColumnnsWithKey(M,P){r.Y.assertValue(M,"keyExpr"),r.Y.assertValue(P,"schema");var T=M.getTargetColumnRef(P);if(T){var N=T.getConceptualProperty(P);if(N&&N.column){var w=T.getTargetEntity();if(w){var I=this.getConceptualEntity(w,P);if(I){var O=[];for(var x of I.properties)x.column&&x.column.keys&&_.includes(x.column.keys,N)&&O.push((0,s.sX)(w,x.name));return O}}}}}static tryGetExprFromFilter(M){if((0,g.S1)(M.condition)&&1===_.size(M.condition.args))return M.condition.args[0];if((0,g.Wc)(M.condition)){if((0,g.VO)(M.condition.left))return M.condition.right;if((0,g.VO)(M.condition.right))return M.condition.left}}static checkExprForValidMParameters(M,P){return this.checkExprForMapped(M,P).isValidSQExpr}static checkExprForMapped(M,P){return(0,g.Wc)(M)?this.checkComparsionForMapped(M,P):(0,g.S1)(M)?this.checkInForMapped(M,P):(0,g.yE)(M)?this.checkOrForMapped(M,P):{isValidSQExpr:!b.hasMappedColumn(M,P)}}static checkComparsionForMapped(M,P){if(!(0,g.R3)(M.left))return{isValidSQExpr:!0};var w,T=b.getConceptualParameterMetadata(M.left,P);if(T?.kind===p.S_.MParameters){if(M.comparison!==a.mq.Equal||(0,g.EL)(M.right))return{isValidSQExpr:!1};if(!T.supportsSelectAll&&(0,g.qz)(M.right))return{isValidSQExpr:!1};w=M.left}return{isValidSQExpr:!0,columnExpr:w}}static checkInForMapped(M,P){var N,T=M.args,w=!1,I=!1;for(var O of T)if((0,g.R3)(O)){var x=b.getConceptualParameterMetadata(O,P);if(w=x?.kind===p.S_.MParameters){N=O,I=x?.supportsMultipleValues;break}}if(w){if(T.length>1||M.table&&(0,g.EP)(M.table)||M.values.length>1&&!I)return{isValidSQExpr:!1};if(_.some(M.values,U=>_.some(U,F=>(0,g.EL)(F))))return{isValidSQExpr:!1}}return{isValidSQExpr:!0,columnExpr:N}}static checkOrForMapped(M,P){var T=this.checkExprForMapped(M.left,P),N=this.checkExprForMapped(M.right,P),w=T.columnExpr,I=N.columnExpr;return(0,E.aI)(w,I)?w&&!b.isSupportMulitpleValuesEnabled(w,P)||I&&!b.isSupportMulitpleValuesEnabled(I,P)?{isValidSQExpr:!1}:{isValidSQExpr:T.isValidSQExpr&&N.isValidSQExpr,columnExpr:w}:{isValidSQExpr:!1}}static getKpiStatusProperty(M,P){var T=M.getConceptualProperty(P);if(T){var N=T.kpiValue;if(N&&N.measure.kpi.status===T)return T}}static getKpiTrendProperty(M,P){var T=M.getConceptualProperty(P);if(T){var N=T.kpiValue;if(N&&N.measure.kpi.trend===T)return T}}static getDefaultValue(M,P){var T=this.getConceptualColumn(M,P);if(T)return T.defaultValue}static getConceptualColumn(M,P){if(M&&P){var T=(0,n.F)(M);if(T){var N=T.column||T.groupingColumn;if(N){if(P.schema(N.schema)&&N.name){var w=P.schema(N.schema).findProperty(N.entity,N.name);if(w)return w.column}}else{var I=T.hierarchyLevel;if(I){var O=(0,d.vG)(T),x=O.schema;if(P.schema(x)){var j=P.schema(x).findHierarchy(O.entity,I.name);if(j){var U=j.levels.withName(I.level);if(U&&U.column)return U.column.column}}}}}}}static getDefaultValues(M,P){if(!_.isEmpty(M)&&P){var T=[];for(var N of M){var w=this.getDefaultValue(N,P);w&&T.push(w)}return T}}static getPrimitiveValuesFromSQConstantExpr(M){if((0,g.VO)(M)){if((0,g.Qy)(M))return s.wy.getTextValue(M);if((0,g.tC)(M))return s.wy.getDateValue(M);if((0,g.GK)(M))return s.wy.getNumericValue(M);if((0,g.Rd)(M))return s.wy.getBooleanValue(M)}}static convertSemanticFilterToDataViewScopeIdentity(M){var P=[],T=M.conditions();if(T)for(var N of T){var w=new c.Rq;if(N.accept(w),w.keys&&w.values&&w.values.length>0&&w.keys.length>0&&w.values.length%w.keys.length==0)for(var I=0;I<w.values.length;I+=w.keys.length){for(var O=[],x=[],j=0;j<w.keys.length;j++)O.push(w.keys[j]),x.push(w.values[I+j]);var U=(0,D.o)(O,x),F=(0,o.UQ)(U);P.push(F)}}return P}static getActiveTablesNames(M){var T=new v.gT;if(M){var N=M.from();if(void 0!==N)for(var w of N.keys())N.source(w).accept(T,null)}return _.map(T.entities,I=>I.entity)}static isRelatedToMany(M,P,T,N){return this.isRelated(M,P,T,p.Sw.ZeroOrOne,p.Sw.Many,N)||this.isRelated(M,T,P,p.Sw.Many,p.Sw.ZeroOrOne,N)}static isRelatedToOne(M,P,T,N){return this.isRelated(M,P,T,p.Sw.Many,p.Sw.ZeroOrOne,N)||this.isRelated(M,T,P,p.Sw.ZeroOrOne,p.Sw.Many,N)}static isRelated(M,P,T,N,w,I){var O=b.getConceptualEntity(P,M);if(r.Y.assertValue(O,"could not resolve conceptual entity form sourceExpr."),_.isEmpty(O.navigationProperties))return!1;var x=b.getConceptualEntity(T,M);r.Y.assertValue(x,"could not resolve conceptual entity form targetExpr.");var j=[];for(j.push(O);!_.isEmpty(j);){var F=j.shift().navigationProperties;if(!_.isEmpty(F))for(var R of F)if(R.isActive&&(null==I||R.behavior===I)&&R.targetMultiplicity===w&&R.sourceMultiplicity===N){if(R.targetEntity===x)return!0;j.push(R.targetEntity)}}return!1}static isRelatedOneToOne(M,P,T,N){var w=b.getConceptualEntity(P,M);r.Y.assertValue(w,"could not resolve conceptual entity form sourceExpr.");var I=b.getConceptualEntity(T,M);r.Y.assertValue(I,"could not resolve conceptual entity form targetExpr.");var O=w.navigationProperties,x=I.navigationProperties;return(!_.isEmpty(O)||!_.isEmpty(x))&&(this.hasOneToOneNavigation(O,I,N)||this.hasOneToOneNavigation(x,w,N))}static haveTheSameSchema(M){r.Y.assertNonEmpty(M,"exprs should not be null, undefined, or empty");var P=M[0].schema;return _.chain(M).drop(1).every(T=>T.schema===P).value()}static areHierarchicallyRelated(M,P){if(_.isEmpty(P)||!this.haveTheSameSchema(P))return!1;if(1===(P=_.values(_.keyBy(P,x=>x.entity))).length)return!0;var T=P[0].schema,N=_.find(M.schemas,x=>x.name===T);if(!N)return!1;var w=P.map(x=>b.getConceptualEntity(x,M));if(_.some(w,x=>!x))return!1;var I=p.JD.Default,O=b.buildEntityGraph(w,this.allowedHierarchicalMultiplicityPairForTraversal,I);return!!this.searchEntityGraph(w,O)||(O=b.buildEntityGraph(N.entities,this.allowedHierarchicalMultiplicityPairForTraversal,I),this.searchEntityGraph(w,O))}static searchEntityGraph(M,P){var T=[].concat(M),N=T.shift(),w=this.findEntityPath([N],T,P,!0);if(1===w.length&&0===w[0].unableToVisit.length)return!0;var I=_.values(_.keyBy(_.flatten(w.map(F=>F.unableToVisit)),F=>F.name)),O=this.findEntityPath([N],I,P,!1);if(1===O.length&&0===O[0].unableToVisit.length)return!0;var j,x=function(F){if(_.find(O,B=>{var A=!0;for(var W of F.unableToVisit)if(B.unableToVisit.indexOf(W)>=0){A=!1;break}return A}))return{v:!0}};for(var U of w)if(j=x(U))return j.v;return!1}static buildEntityGraph(M,P,T){var N={};for(var w of M)N[w.name]={entity:w};for(var I of M){var O=I.navigationProperties;if(!_.isEmpty(O)){var x=N[I.name];for(var j of O)if(j.isActive&&(void 0===j.behavior||void 0===T||j.behavior===T)){var U=N[j.targetEntity.name];U&&(this.multiplicityPairMatches([j.targetMultiplicity,j.sourceMultiplicity],P)&&this.addTraversalNodes(U,x),j.crossFilterDirection===p.kD.Both&&this.multiplicityPairMatches([j.sourceMultiplicity,j.targetMultiplicity],P)&&this.addTraversalNodes(x,U))}}}return N}static addTraversalNodes(M,P){M.forwardNodes=M.forwardNodes||[],_.find(M.forwardNodes,T=>T.entity.name===P.entity.name)||M.forwardNodes.push(P),P.backwardNodes=P.backwardNodes||[],_.find(P.backwardNodes,T=>T.entity.name===M.entity.name)||P.backwardNodes.push(M)}static multiplicityPairMatches(M,P){if(M&&2===M.length&&!_.isEmpty(P))for(var T of P)if(2===T.length&&M[0]===T[0]&&M[1]===T[1])return!0;return!1}static findEntityPath(M,P,T,N){if(P=P||[],0===(M=M||[]).length||0===P.length||!T)return[{path:M,unableToVisit:P}];for(var w of M)if(!T[w.name])return[{path:M,unableToVisit:P}];var O=T[M[M.length-1].name],x=N?O.forwardNodes:O.backwardNodes;if(!x||0===x.length)return[{path:M,unableToVisit:P}];var j=this.getEntityLoopPatterns(M),U=[];for(var F of x){var R=F.entity,B=[].concat(M);B.push(R);var A=!1;for(var W of j)if(this.endsWith(B,W)){A=!0;break}if(!A){var G=P,K=P.indexOf(R);K>=0&&(G=[].concat(P)).splice(K,1);var q=this.findEntityPath(B,G,T,N);if(1===q.length&&0===q[0].unableToVisit.length){U=q;break}for(var ne of q)U.push(ne)}}return 0===U.length&&(U=[{path:M,unableToVisit:P}]),U}static getEntityLoopPatterns(M){var P=[],T=_.values(_.keyBy(M,I=>I.name)),N=function(I){if(M.filter(U=>U===I).length>=2){var x,O=I;for(var j of M)j===O?(x&&(x.push(j),P.push(x)),x=[j]):x&&x.push(j)}};for(var w of T)N(w);return P}static endsWith(M,P){if(P.length>M.length)return!1;for(var T=!0,N=M.length-1,w=P.length-1;w>=0;--w){if(P[w]!==M[N]){T=!1;break}N--}return T}static hasOneToOneNavigation(M,P,T){if(_.isEmpty(M))return!1;for(var N of M)if(N.isActive&&(null==T||N.behavior===T)&&N.targetEntity===P&&N.sourceMultiplicity===p.Sw.ZeroOrOne&&N.targetMultiplicity===p.Sw.ZeroOrOne)return!0;return!1}static concatUnique(M,P){r.Y.assertValue(M,"leftExprs"),r.Y.assertValue(P,"rightExprs");var T=(0,i.C)(M);for(var N of P)-1===this.indexOfExpr(T,N)&&T.push(N);return T}static detectTransformExpr(M){r.Y.assertValue(M,"expr");var P=new y;return M.accept(P),P.sawTransformOutputRoleRef}static isExprValidForAggregation(M){return r.Y.assertValue(M,"expr"),!this.isFromVariation(M)&&!(0,g.Ir)(M)}static isExprValidForSorting(M){return r.Y.assertValue(M,"expr"),!(0,g.m6)(M)}static isExprValidForFiltering(M){return r.Y.assertValue(M,"expr"),!((0,g.m6)(M)||(0,g.VT)(M)||(0,g.AH)(M)||(0,g.$M)(M))}static isExprValidForClustering(M){return r.Y.assertValue(M,"expr"),!((0,g.m6)(M)||(0,g.Ir)(M)||(0,g.Ah)(M)||(0,g.AH)(M)||(0,g.$M)(M))}static isExprValidForAnalysisTransform(M){return r.Y.assertValue(M,"expr"),!(0,g.m6)(M)}static getSubqueryExpression(M,P){var N,w,T=(0,n.F)(M);if(T.columnSubquery)T.columnSubquery.subqueryRef?N=T.columnSubquery.subqueryRef:T.columnSubquery.subquery?w=new v.m$(T.columnSubquery.subquery):r.Y.assertFail("fieldExpr needs to contain either a subquery reference or an inlined query");else{if(!T.columnAggrSubquery)return void r.Y.assertFail("invalid fieldExpr in subquery");T.columnAggrSubquery.subqueryRef?N=T.columnAggrSubquery.subqueryRef:T.columnAggrSubquery.subquery?w=new v.m$(T.columnAggrSubquery.subquery):r.Y.assertFail("fieldExpr needs to contain either a subquery reference or an inlined query")}w||(r.Y.assert(()=>!(!P||!P.sources),"context sources should be available for evaluating subquery source"),P.sources[N]?(w=P.sources[N],r.Y.assert(()=>w&&(0,m.c)(w),"column referencing source should be available and be a subquery source")):r.Y.assertFail("No context for the subquery ref.  Cannot construct SQFromSubquerySource without underlying reference."));var I=w;if(I){var x,O=(0,d.ZO)(T);if(I.subquery&&(x=I.subquery.select().withName(O)),x)return x.expr}}static buildExprEvaluationContext(M){r.Y.assertValue(M,"from");var P=M.sources();if(P)return{sources:P}}static transformToVisualQueryField(M,P,T,N,w,I){return{expr:M,queryName:P,isFieldParameter:!!T,nativeReferenceName:N,isHidden:w,fieldParameterSortDirection:I}}static isSQExprArray(M){return M[0]instanceof s.yj}static syncSQExprWithFilterIdenities(M,P){var T=new S(M,(0,g.w8)(P)),N=P.accept(T);if(N)return N.accept(new f)}static validate(M,P,T,N){r.Y.assertValue(P,"schema");var w=[];if(M&&(w=M.validate(P,T,w,N)),!_.isEmpty(w))return w}static tryMergeSQInExprs(M,P,T){if("Replace"===T)return P;var N=M.args,w=P.args;if(N.length===w.length&&N.every((O,x)=>(0,E.aI)(O,w[x],!1,!0,!0))){var I=[];return"Append"===T?(I=_.concat(M.values,P.values),I=_.uniqWith(I,(O,x)=>(0,E.aI)(O[0],x[0],!1,!0,!0))):I=_.filter(M.values,O=>!_.some(P.values,x=>(0,E.aI)(O[0],x[0],!1,!0,!0))),(0,s.eu)(N,I)}}}return b.allowedHierarchicalMultiplicityPairForTraversal=[[p.Sw.ZeroOrOne,p.Sw.Many],[p.Sw.ZeroOrOne,p.Sw.ZeroOrOne]],b})();class C extends u.ff{constructor(V){super(),this.schema=V,this.detectedMappedColumn=!1}visitIn(V){for(var M of V.args)if(M.accept(this),this.detectedMappedColumn)return}visitColumnRef(V){h.hasMappedMParameter(V,this.schema)&&(this.detectedMappedColumn=!0)}static hasMappedColumn(V,M){var P=new C(M);return V.accept(P),P.detectedMappedColumn}}class y extends u.ff{constructor(){super(),this.sawTransformOutputRoleRef=!1}visitTransformOutputRoleRef(V){this.sawTransformOutputRoleRef=!0}}class f extends u.nP{visitIn(V){return(0,s.eu)(V.args,this.removeDuplicates(V.values),V.getAnnotations())}visitAnd(V){var M=V.right.accept(this),P=V.left.accept(this);return(0,s.Uo)(P,M,V.getAnnotations())}visitOr(V){var M=V.right.accept(this),P=V.left.accept(this);return(0,s.or)(P,M,V.getAnnotations())}visitDefault(V){return V}removeDuplicates(V){return _.uniqWith(V,(M,P)=>{for(var T=M.length,N=0;N<T;N++)if(!(0,E.aI)(M[N],P[N]))return!1;return!0})}}class S extends u.nP{constructor(V,M){super(),this.isRootNotExpr=!1,this.hasBeenModified=!1,this.isSupportedSQExpr=!1,this.filterIdentities=V,this.isRootNotExpr=M}visitIn(V){if(this.verifyIsSupportedSQExpr(V),!this.shouldDropWholeSQExpr()){if(this.noChangeRequired(V.args))return V;var{newArgs:M,newValues:P}=this.tryToRemoveColumnsToMatchVisual(V);if(!this.shouldDropWholeSQExpr()&&0!==M.length)return(0,s.eu)(M,P,V.getAnnotations())}}visitDefault(V){if(this.verifyIsSupportedSQExpr(V),!this.shouldDropWholeSQExpr()){var M=V.left,P=V.right;if(M&&_.some(this.filterIdentities,T=>(0,E.aI)(T,M))||P&&_.some(this.filterIdentities,T=>(0,E.aI)(T,P)))return V;this.hasBeenModified=!0}}visitAnd(V){if(this.verifyIsSupportedSQExpr(V),!this.shouldDropWholeSQExpr()){var M=V.right.accept(this),P=V.left.accept(this);if(!this.shouldDropWholeSQExpr()){if(P&&M)return(0,s.Uo)(P,M,V.getAnnotations());if(P)return P;if(M)return M}}}visitOr(V){if(this.verifyIsSupportedSQExpr(V),!this.shouldDropWholeSQExpr()){var M=V.right.accept(this),P=V.left.accept(this);if(!this.shouldDropWholeSQExpr()){if(P&&M)return(0,s.or)(P,M,V.getAnnotations());if(P)return P;if(M)return M}}}visitNot(V){if(this.verifyIsSupportedSQExpr(V),!this.shouldDropWholeSQExpr()){var M=V.arg.accept(this);if(M&&(this.isRootNotExpr||!this.hasBeenModified))return(0,s.AU)(M,V.getAnnotations())}}verifyIsSupportedSQExpr(V){this.isSupportedSQExpr=(0,g.yE)(V)?(0,g.S1)(V.right)&&((0,g.yE)(V.left)||(0,g.S1)(V.left)):(0,g.mP)(V)?(0,g.w8)(V.right)&&((0,g.S1)(V.left)||(0,g.yE)(V.left)):(0,g.w8)(V)?(0,g.yE)(V.arg)||(0,g.w8)(V.arg):!(0,g.S1)(V)||!!V.values&&V.values.length>0}shouldDropWholeSQExpr(){return this.hasBeenModified&&!this.isSupportedSQExpr}noChangeRequired(V){var M=V.map(P=>({expr:[P],index:_.findIndex(this.filterIdentities,N=>(0,E.aI)(N,P))}));return 0===M[0].index&&M.every((P,T)=>P.index>-1&&(T===M.length-1||P.index+1===M[T+1].index))}tryToRemoveColumnsToMatchVisual(V){var M=[],P=[],{args:T,values:N}=V,w=T.map(U=>({expr:[U],index:_.findIndex(this.filterIdentities,R=>(0,E.aI)(R,U))}));if(w[0].index>0)return this.hasBeenModified=!0,{newArgs:M,newValues:P};N=_.unzip(N);var I=w.map((U,F)=>({expr:N[F],index:U.index}));M=w.filter(U=>U.index>-1).map(U=>U.expr[0]),P=I.filter(U=>U.index>-1).map(U=>U.expr),w=w.filter(U=>U.index>-1);for(var O=0;O<w.length-1;O++)if(w[O].index+1<w[O+1].index){M=M.splice(0,O+1),P=P.splice(0,O+1);break}return P=_.unzip(P),this.hasBeenModified=!0,{newArgs:M,newValues:P}}}},961564:function(ve,z,e){e.d(z,{Z:function(){return t}});var a=e(81825),i=e(678162),r=e(73646);function t(d,n="select"){return d?d.accept(o.instance,n):n}var o=(()=>{class d extends r.Li{visitEntity(c){return c.entity}visitNamedQueryRef(c){return`QueryRef(${c.queryName})`}visitColumnRef(c){return c.source.accept(this)+"."+c.ref}visitGroupRef(c){return c.source.accept(this)+"."+c.ref}visitMeasureRef(c){return c.source.accept(this)+"."+c.ref}visitNativeMeasure(c){return`NativeMeasure(${c.proposedName})`}visitNativeColumn(c){return`NativeColumn(${c.proposedName})`}visitHierarchy(c){return c.arg.accept(this)+"."+c.hierarchy}visitHierarchyLevel(c){return c.arg.accept(this)+"."+c.level}visitPropertyVariationSource(c){return c.arg.accept(this)+"."+c.property+"."+c.name}visitAggr(c){return(0,i.V)(c.func)+"("+c.arg.accept(this)+")"}visitPercentile(c){return(c.exclusive?"Percentile.Exc(":"Percentile.Inc(")+c.arg.accept(this)+", "+c.k+")"}visitRangePercent(c){return"RangePercent("+c.min.accept(this)+", "+c.max.accept(this)+", "+c.percent.toString()+")"}visitArithmetic(c){return(0,i.a)(c.operator)+"("+c.left.accept(this)+", "+c.right.accept(this)+")"}visitConstant(c){return"const"}visitNativeTableRef(c){return"NativeTable"}visitTransformOutputRoleRef(c){var s=c.role;return c.transform&&(s+="."+c.transform),s}visitScopedEval(c){return"ScopedEval("+c.expression.accept(this)+", ["+_.map(c.scope,s=>s.accept(this)).join(", ")+"])"}visitFilteredEval(c){var s=p=>{var l="{";return _.isEmpty(p.target)||(l+=`Target(${_.map(p.target,u=>u.accept(this)).join(", ")}), `),l+`Condition(${p.condition.accept(this)})}`};return`FilteredEval(${c.expression.accept(this)}, [${_.map(c.filters,p=>s(p)).join(", ")}])`}visitRoleRef(c){return"Role."+c.role}visitSummaryRef(c){return"SummaryValueRef."+c.name}visitAllRolesRef(c){return"AllRoles"}visitDiscretize(c){return`Discretize(${c.source.accept(this)}, ${c.count})`}visitMember(c){return`Member(${c.source.accept(this)}, ${c.member})`}visitCompare(c){var s=c.left.accept(this),p=c.right.accept(this),l="";switch(c.comparison){case a.mq.Equal:l="=";break;case a.mq.GreaterThan:l=">";break;case a.mq.GreaterThanOrEqual:l=">=";break;case a.mq.LessThan:l="<";break;case a.mq.LessThanOrEqual:l="<="}return`${s}${l}${p}`}visitSparklineData(c){return`SparklineData(${c.measure.accept(this)}_[${_.map(c.grouping,s=>s.accept(this)).join(",")}])`}visitDefault(c,s){return s||"expr"}}return d.instance=new d,d})()},759831:function(ve,z,e){e.d(z,{o:function(){return t}});var a=e(81825),i=e(18122),r=e(757406);function t(o,d){i.Y.assert(()=>o.length===d.length,"fileds and values need to be the same size");for(var n=[],c=0;c<o.length;c++)n.push((0,r.UD)(a.mq.Equal,o[c],d[c]));if(!_.isEmpty(n)){var s;for(var p of n)s=(0,r.Uo)(s,p);return s}}},303609:function(ve,z,e){e.d(z,{s:function(){return r}});var a=e(18122),i=e(98138);function r(t,o){a.Y.assertValue(t,"items"),a.Y.assertValue(o,"searchElement");for(var d=0,n=t.length;d<n;d++){var c=t[d];if(c&&(0,i.aI)(c.expr,o))return d}return-1}},15134:function(ve,z,e){e.d(z,{x:function(){return t}});var a=e(81825),i=e(18122),r=e(73646);function t(d){return i.Y.assertValue(d,"expr"),d.accept(o.instance)}var o=(()=>{class d extends r.nP{visitCompare(c){return c.comparison===a.mq.Equal&&c.right.accept(this)}visitAnd(c){return c.left.accept(this)&&c.right.accept(this)}visitDefaultValue(c){return!0}visitDefault(c){return!1}}return d.instance=new d,d})()},664158:function(ve,z,e){e.d(z,{t:function(){return r}});var a=e(18122),i=e(73646);function r(o){return a.Y.assertValue(o,"expr"),o.accept(t.instance)}var t=(()=>{class o extends i.nP{visitMeasureRef(n){return!0}visitNativeMeasure(n){return!0}visitNativeVisualCalc(n){return!0}visitAggr(n){return!0}visitArithmetic(n){return!0}visitFilteredEval(n){return n.expression.accept(this)}visitSparklineData(n){return!0}visitDefault(n){return!1}}return o.instance=new o,o})()},73646:function(ve,z,e){e.d(z,{Li:function(){return t},ff:function(){return d},nP:function(){return o}});var a=e(18122),i=e(889953),r=e(317998);class t{visitEntity(c,s){return this.visitDefault(c,s)}visitSubqueryRef(c,s){return this.visitDefault(c,s)}visitNativeTableRef(c,s){return this.visitDefault(c,s)}visitNamedQueryRef(c,s){return this.visitDefault(c,s)}visitColumnRef(c,s){return this.visitDefault(c,s)}visitMeasureRef(c,s){return this.visitDefault(c,s)}visitAggr(c,s){return this.visitDefault(c,s)}visitPercentile(c,s){return this.visitDefault(c,s)}visitRangePercent(c,s){return this.visitDefault(c,s)}visitGroupRef(c,s){return this.visitDefault(c,s)}visitHierarchy(c,s){return this.visitDefault(c,s)}visitHierarchyLevel(c,s){return this.visitDefault(c,s)}visitPropertyVariationSource(c,s){return this.visitDefault(c,s)}visitSelectRef(c,s){return this.visitDefault(c,s)}visitBetween(c,s){return this.visitDefault(c,s)}visitIn(c,s){return this.visitDefault(c,s)}visitAnd(c,s){return this.visitDefault(c,s)}visitOr(c,s){return this.visitDefault(c,s)}visitCompare(c,s){return this.visitDefault(c,s)}visitConditional(c,s){return this.visitDefault(c,s)}visitContains(c,s){return this.visitDefault(c,s)}visitExists(c,s){return this.visitDefault(c,s)}visitNot(c,s){return this.visitDefault(c,s)}visitStartsWith(c,s){return this.visitDefault(c,s)}visitConstant(c,s){return this.visitDefault(c,s)}visitDateSpan(c,s){return this.visitDefault(c,s)}visitDateAdd(c,s){return this.visitDefault(c,s)}visitNow(c,s){return this.visitDefault(c,s)}visitDefaultValue(c,s){return this.visitDefault(c,s)}visitAnyValue(c,s){return this.visitDefault(c,s)}visitArithmetic(c,s){return this.visitDefault(c,s)}visitFloor(c,s){return this.visitDefault(c,s)}visitFillRule(c,s){return this.visitDefault(c,s)}visitThemeDataColor(c,s){return this.visitDefault(c,s)}visitResourcePackageItem(c,s){return this.visitDefault(c,s)}visitScopedEval(c,s){return this.visitDefault(c,s)}visitFilteredEval(c,s){return this.visitDefault(c,s)}visitWithRef(c,s){return this.visitDefault(c,s)}visitTransformTableRef(c,s){return this.visitDefault(c,s)}visitTransformOutputRoleRef(c,s){return this.visitDefault(c,s)}visitRoleRef(c,s){return this.visitDefault(c,s)}visitSummaryValueRef(c,s){return this.visitDefault(c,s)}visitAllRolesRef(c,s){return this.visitDefault(c,s)}visitDiscretize(c,s){return this.visitDefault(c,s)}visitMember(c,s){return this.visitDefault(c,s)}visitNativeMeasure(c,s){return this.visitDefault(c,s)}visitNativeColumn(c,s){return this.visitDefault(c,s)}visitSparklineData(c,s){return this.visitDefault(c,s)}visitNativeVisualCalc(c,s){return this.visitDefault(c,s)}visitVisualTopN(c,s){return this.visitDefault(c,s)}visitTableTypeExpr(c,s){return this.visitDefault(c,s)}visitPrimitiveTypeExpr(c,s){return this.visitDefault(c,s)}visitTypeOfTypeExpr(c,s){return this.visitDefault(c,s)}visitDefault(c,s){}}class o extends t{}class d{visitEntity(c){this.visitDefault(c)}visitSubqueryRef(c){this.visitDefault(c)}visitNativeTableRef(c){this.visitDefault(c)}visitNamedQueryRef(c){this.visitDefault(c)}visitColumnRef(c){c.source.accept(this)}visitMeasureRef(c){c.source.accept(this)}visitAggr(c){c.arg.accept(this)}visitPercentile(c){c.arg.accept(this)}visitRangePercent(c){c.min.accept(this),c.max.accept(this)}visitGroupRef(c){for(var s of(c.source.accept(this),c.groupedExprs))s.accept(this)}visitHierarchy(c){c.arg.accept(this)}visitHierarchyLevel(c){c.arg.accept(this)}visitPropertyVariationSource(c){c.arg.accept(this)}visitSelectRef(c){this.visitDefault(c)}visitBetween(c){c.arg.accept(this),c.lower.accept(this),c.upper.accept(this)}visitIn(c){for(var s=c.args,p=0,l=s.length;p<l;p++)s[p].accept(this);var u=c.values;if(u)for(var v=0,m=u.length;v<m;v++)for(var g=u[v],E=0,D=g.length;E<D;E++)g[E].accept(this);else c.table.accept(this)}visitAnd(c){c.left.accept(this),c.right.accept(this)}visitOr(c){c.left.accept(this),c.right.accept(this)}visitCompare(c){c.left.accept(this),c.right.accept(this)}visitConditional(c){for(var s of(a.Y.assertValue(c,"expr"),a.Y.assertNonEmpty(c.cases,"expr.cases"),c.cases))s.condition.accept(this),s.value.accept(this);c.defaultValue&&c.defaultValue.accept(this)}visitContains(c){c.left.accept(this),c.right.accept(this)}visitExists(c){c.arg.accept(this)}visitNot(c){c.arg.accept(this)}visitStartsWith(c){c.left.accept(this),c.right.accept(this)}visitConstant(c){this.visitDefault(c)}visitDateSpan(c){c.arg.accept(this)}visitDateAdd(c){c.arg.accept(this)}visitNow(c){this.visitDefault(c)}visitDefaultValue(c){this.visitDefault(c)}visitAnyValue(c){this.visitDefault(c)}visitArithmetic(c){c.left.accept(this),c.right.accept(this)}visitFloor(c){c.arg.accept(this)}visitFillRule(c){c.input.accept(this),(0,i.Ju)(c.rule,new r.B(this,null))}visistExists(c){c.arg.accept(this)}visitThemeDataColor(c){this.visitDefault(c)}visitResourcePackageItem(c){this.visitDefault(c)}visitScopedEval(c){for(var s of(c.expression.accept(this),c.scope))s.accept(this)}visitFilteredEval(c){for(var s of(c.expression.accept(this),c.filters)){if(!_.isEmpty(s.target))for(var p of s.target)p.accept(this);s.condition.accept(this)}}visitWithRef(c){this.visitDefault(c)}visitTransformTableRef(c){this.visitDefault(c)}visitTransformOutputRoleRef(c){this.visitDefault(c)}visitRoleRef(c){this.visitDefault(c)}visitSummaryValueRef(c){this.visitDefault(c)}visitAllRolesRef(c){this.visitDefault(c)}visitDiscretize(c){this.visitDefault(c)}visitMember(c){this.visitDefault(c)}visitNativeMeasure(c){this.visitDefault(c)}visitNativeColumn(c){this.visitDefault(c)}visitSparklineData(c){for(var s of(c.measure.accept(this),c.grouping))s.accept(this);c.scalarKey?.accept(this)}visitNativeVisualCalc(c,s){this.visitDefault(c)}visitVisualTopN(c,s){this.visitDefault(c)}visitTableTypeExpr(c,s){for(var p of c.columns)p.expr.accept(this)}visitPrimitiveTypeExpr(c,s){this.visitDefault(c)}visitTypeOfTypeExpr(c,s){c.baseExpr.accept(this)}visitDefault(c){}}},671825:function(ve,z,e){e.d(z,{BF:function(){return D},Bo:function(){return c},Ho:function(){return l},L8:function(){return E},T7:function(){return g},gT:function(){return C},gW:function(){return y},l0:function(){return u},lj:function(){return m},m$:function(){return s},tv:function(){return n},zg:function(){return p}});var a=e(579260),i=e(18122),r=e(454840),t=e(757406),o=e(98138),d=e(233716);class n{constructor(S,b){this.schema=S,this.entity=b}accept(S,b){return S.visitEntity(this,b)}equals(S){return S&&this.entity===S.entity&&this.schema===S.schema}}class c{constructor(S,b){this.schema=S,this.pod=b}accept(S,b){return S.visitPod(this,b)}equals(S){return S&&this.pod===S.pod&&this.schema===S.schema}}class s{constructor(S,b){this.subquery=S,this.inheritsSorting=b}accept(S,b){return S.visitSubquery(this,b)}equals(S){return S&&(0,o.EO)(this.subquery,S.subquery)}}class p{constructor(S){this.expr=S}accept(S,b){return S.visitExpr(this,b)}equals(S){return S&&(0,o.aI)(this.expr,S.expr)}}class l{constructor(S="dax",b,V){this.language=S,this.expression=b,this.type=V}accept(S,b){return S.visitNativeTable(this,b)}equals(S){return!!S&&this.expression===S.expression&&this.language===S.language&&(0,o.aI)(this.type,S.type)}}class u{constructor(S,b){if(this.items=S||{},this.usedNames=b||{},!_.isEmpty(this.items))for(var V of this.keys())this.usedNames[V]=!0}keys(){return Object.keys(this.items)}source(S){return this.items[S]}sources(){return this.items}usedSourceNames(){return this.usedNames}ensureSource(S,b){i.Y.assertValue(S,"source");var V=this.getSourceKeyFromItems(S);return V?{name:V}:{name:this.addSource(S,b),new:!0}}remove(S){this.items[S]&&delete this.usedNames[S],delete this.items[S]}getSourceKeyFromItems(S){var b=this.keys();for(var V in b){var M=b[V];if(v(this.items[M],S))return M}}addSource(S,b){var M=b||S.accept(new h,null);return M=(0,r.uL)(this.usedNames,M),this.items[M]=S,this.usedNames[M]=!0,M}clone(){var S=new u(null,_.clone(this.usedNames));return $.extend(S.items,this.items),S}equals(S){if(!S)return!1;var b=this.keys(),V=S.keys();return b.length===V.length&&(0,a.m2)(b,V,(M,P)=>v(this.source(M),S.source(P)))}renameSources(S){for(var V,b=this.items,M=Object.keys(b),P=0,T=M.length;P<T;P++){var N=M[P],w=N;if(S[N]&&(w=(0,r.uL)(S,N),!V)){V={};for(var I=0;I<P;I++){var O=M[I];V[O]=b[O]}}S[w]=!0,V&&(V[w]=b[N])}return V?new u(V):this}getSubquerySources(){var S={};for(var b in this.items){var V=this.items[b];(0,d.c)(V)&&(S[b]=V)}return S}}function v(f,S){if(f===S)return!0;if(f&&S){if(m(f)&&m(S)||g(f)&&g(S))return f.equals(S);if((0,d.c)(f)&&(0,d.c)(S))return f.equals(S);if(E(f)&&E(S))return f.equals(S);if(D(f)&&D(S))return f.equals(S)}return!1}function m(f){return i.Y.assertValue(f,"source"),null!=f.entity}function g(f){return i.Y.assertValue(f,"source"),null!=f.pod}function E(f){return i.Y.assertValue(f,"source"),null!=f.expr}function D(f){return i.Y.assertValue(f,"source"),null!=f.expression}class h{visitEntity(S){return this.getShortName(S.entity)}visitPod(S){return this.getShortName(S.pod)}visitSubquery(S){return"q"}visitExpr(S){return"x"}visitNativeTable(S,b){return"nt"}getShortName(S){var b=S,V=b.lastIndexOf(".");return V>=0&&V!==b.length-1&&(b=b.substr(V+1)),(0,r.w0)(b.charCodeAt(0))?b.charAt(0).toLowerCase():"a"}}class C{constructor(){this.entities=[]}visitEntity(S,b){this.entities.push(new t.BO(S.schema,S.entity,b))}visitPod(S,b){}visitSubquery(S,b){}visitExpr(S,b){}visitNativeTable(S,b){}}class y{constructor(S){this.exprRewriter=S}visitEntity(S,b){var M=(0,t.EG)(S.schema,S.entity,b).accept(this.exprRewriter);return new n(M.schema,M.entity)}visitPod(S,b){var M=(0,t.EG)(S.schema,S.pod,b).accept(this.exprRewriter);return new c(M.schema,M.entity)}visitSubquery(S,b){var M=S.subquery.rewrite(this.exprRewriter);return new s(M,S.inheritsSorting)}visitExpr(S,b){var M=S.expr.accept(this.exprRewriter);return new p(M)}visitNativeTable(S,b){return S}}},233716:function(ve,z,e){e.d(z,{c:function(){return i}});var a=e(18122);function i(r){return a.Y.assertValue(r,"source"),null!=r.subquery}},683116:function(ve,z,e){e.d(z,{wd:function(){return D},C6:function(){return y},w:function(){return u},Mr:function(){return l},Gn:function(){return p},tu:function(){return s},PT:function(){return E},_q:function(){return h},HL:function(){return g},mA:function(){return m},ok:function(){return v}});var a=e(18122),i=e(188076),r=e(757406),t=e(98138),o=e(858225),d=e(335128);function s(f,S){var b=function(f){return f.hierarchyLevel||f.hierarchyLevelAggr||f.columnHierarchyLevelVariation&&f.columnHierarchyLevelVariation.level}(S);if(b)return p(f,b.schema,b.entity,b.name,b.level)}function p(f,S,b,V,M){var T=f.schema(S).findHierarchy(b,V);if(T)return T.levels.withName(M)}function l(f,S){if(f instanceof r.t9){var b=f;if(f.arg instanceof r.BO){var V=f.arg;return S.schema(V.schema).findHierarchy(V.entity,b.hierarchy)}if(f.arg instanceof r.P0){var M=f.arg,P=M.arg;return S.schema(P.schema).findHierarchyByVariation(P.entity,M.property,M.name,b.hierarchy)}}}function u(f,S,b){return y(S,f)||function(f,S){a.Y.assertValue(f,"sqExpr"),a.Y.assertValue(S,"federatedSchema");var b,V=f.getConceptualProperty(S);if(V){var M=V.column;if(M&&M.variations&&M.variations.length>0){var P=M.variations;a.Y.assert(()=>1===P.length,"variations.length");var T=P[0],N=(0,i.F)(f),w=(0,d.vG)(N);if(b=[],T.defaultHierarchy){var I=(0,r.Sk)((0,r.U7)((0,r.EG)(w.schema,w.entity,w.entityVar),T.name,V.name),T.defaultHierarchy.name);for(var O of T.defaultHierarchy.levels)b.push((0,r.Mw)(I,O.name))}}}return b}(S,f)||!b&&function(f,S){a.Y.assertValue(f,"sqExpr"),a.Y.assertValue(S,"federatedSchema");var b=[];if(f instanceof r.LV){var V=(0,i.F)(f);if(V.hierarchyLevel){var M=(0,d.vG)(V),P=S.schema(M.schema).findHierarchy(M.entity,V.hierarchyLevel.name);if(P){var T=P.levels;for(var N of T){if(N.name===V.hierarchyLevel.level){b.push(f);break}b.push((0,r.Mw)((0,r.Sk)((0,r.EG)(M.schema,M.entity,M.entityVar),P.name),N.name))}}}}if(!_.isEmpty(b))return b}(S,f)||S}function v(f,S){if(S instanceof r.t9||S instanceof r.LV)return!0;var b=S.getConceptualProperty(f);if(b){var V=b.column;if(V&&V.variations&&V.variations.length>0)return!0}return!1}function m(f){var S=(0,i.F)(f);if(S.columnHierarchyLevelVariation){var b=(0,r.EG)(S.columnHierarchyLevelVariation.source.schema,S.columnHierarchyLevelVariation.source.entity);return(0,r.sX)(b,S.columnHierarchyLevelVariation.source.name)}}function g(f){var b=(0,i.F)(f).hierarchyLevel;if(b){var V=(0,r.EG)(b.schema,b.entity,b.entityVar);return(0,r.Sk)(V,b.name)}}function E(f){if(f.arg instanceof r.t9){var S=f.arg;if(S.arg instanceof r.P0)return S.arg}}function D(f,S,b){if(!(S instanceof r.LV&&b instanceof r.LV))return!1;var V=S,M=b;if(!(0,t.aI)(V.arg,M.arg))return!1;var P=o.B.indexOfExpr(f,V),T=o.B.indexOfExpr(f,M);return-1!==P&&-1!==T&&P<T}function h(f,S,b){for(var V=0;V<S.length&&D(f,S[V],b);)V++;return V}function y(f,S){if(a.Y.assertValue(f,"sqExpr"),a.Y.assertValue(S,"federatedSchema"),f instanceof r.t9){var V=l(f,S);if(V)return _.map(V.levels,M=>(0,r.Mw)(f,M.name))}}},471078:function(ve,z,e){e.d(z,{e:function(){return t}});var a=e(18122),i=e(757406),r=e(990328);function t(d,n){return a.Y.assertValue(d,"expr"),a.Y.assertValue(n,"schema"),d.accept(new o(n))}class o extends r.k{constructor(n){super(),this.schema=n}visitPropertyVariationSource(n){var c=n.arg.getTargetEntity();if(!c)return n;var s=c.schema,p=this.schema.schema(s).findTargetEntityOfVariation(c.entity,n.property,n.name);return p?(0,i.EG)(s,p.name):n}}},153484:function(ve,z,e){e.d(z,{tw:function(){return m},Cr:function(){return Y},r9:function(){return Je},Py:function(){return te},s6:function(){return Fe},EC:function(){return Te},zd:function(){return L},rW:function(){return ue},FI:function(){return h}});var t,a=e(18122),i=e(744774),r=e(501285),n=e(495123),c=e(744524),s=e(623670),p=e(454840),l=e(122707);class u{static canFormat(Pe){return Pe instanceof Date}static format(Pe,Me,Ge){Me=Me||"G",(0,c.th)(Pe)&&(Pe=m.fromTimeValue(Pe.epochTimeStamp));var ct=1===Me.length;try{return ct?w(Pe,Me,Ge):function(pe,Pe,Me){var Ge,De=[];if((Pe=h(Pe,De)).indexOf("F")>-1){Pe=(0,p.yh)(Pe,"FFFF","FFF");var lt=pe.getMilliseconds();if(lt%10>=1&&(Pe=(0,p.yh)(Pe,"FFF","fff")),Pe=(0,p.yh)(Pe,"FFF","FF"),lt%100/10>=1&&(Pe=(0,p.yh)(Pe,"FF","ff")),Pe=(0,p.yh)(Pe,"FF","F"),lt%1e3/100>=1&&(Pe=(0,p.yh)(Pe,"F","f")),""===(Pe=(0,p.yh)(Pe,"F",""))||"%"===Pe)return""}var ct=function(pe){return null!=pe.match(/gg/)}(Pe);Pe=function(pe){return pe===T?N:(T=pe,pe=function(pe){if(pe=(pe=(pe=(pe=(pe=(pe=(pe=(pe=pe.replace(/%K/g,"zzz")).replace(/K/g,"zzz")).replace(/fffffff/g,"fff0000")).replace(/ffffff/g,"fff000")).replace(/fffff/g,"fff00")).replace(/ffff/g,"fff0")).replace(/yyyyy/g,"0yyyy")).replace(/(^y|^)yyy(^y|$)/g,"yyyy"),t||(t=["d","f","F","g","h","H","K","m","M","s","t","y","z",":","/"].map(Me=>({r:new RegExp("%"+Me+"(?!"+Me+")","g"),s:Me}))),-1!==pe.indexOf("%")&&pe.length>2)for(var Pe of t)pe=pe.replace(Pe.r,Pe.s);return pe}(pe),N=pe,pe)}(Pe);var vt=Me.calendar;return ct&&(Me.calendar=Me.calendars.Japanese),Ge=Globalize.format(pe,Pe,Me),ct&&(Me.calendar=vt),Ge=C(Ge=u.localize(Ge,Me.calendar),De,!1)}(Pe,Me,Ge)}catch{return w(Pe,"G",Ge)}}static localize(Pe,Me){var Ge=Me[":"];if(":"===Ge)return Pe;for(var De="",lt=Pe.length,ct=0;ct<lt;ct++){var vt=Pe.charAt(ct);De+=":"===vt?Ge:vt}return De}}class v{static canFormat(Pe){return"number"==typeof Pe}static format(Pe,Me,Ge){Me=Me||"G";try{return ue(Me)?function(pe,Pe,Me){var Ge,De=Pe.length>1?parseInt(Pe.substr(1,Pe.length-1),10):void 0,lt=Me.numberFormat,ct=Pe.charAt(0);switch(ct){case"e":case"E":void 0===De&&(De=6);var vt=_.repeat("0",De);Ge=ft(pe,Pe="0."+vt+ct+"+000",Me);break;case"f":case"F":Ge=pe.toFixed(void 0!==De?De:lt.decimals),Ge=v.localize(Ge,lt);break;case"g":case"G":var Vt=Math.abs(pe);if(0===Vt||1e-4<=Vt&&Vt<1e15)Ge=void 0!==De?pe.toPrecision(De):pe.toString();else{if(a.Y.assert(()=>"number"==typeof pe,"value must be a number"),"number"!=typeof pe)return String(pe);Ge=(Ge=void 0!==De?pe.toExponential(De):pe.toExponential()).replace("e","E")}Ge=v.localize(Ge,lt);break;case"r":case"R":Ge=pe.toString(),Ge=v.localize(Ge,lt);break;case"x":case"X":if(Ge=pe.toString(16),"X"===ct&&(Ge=Ge.toUpperCase()),void 0!==De){var It=Ge.length,Ot=pe<0;Ot&&It--;var Ze,de=De-It;de>0&&(Ze=_.repeat("0",de)),Ge=Ot?"-"+Ze+Ge.substr(1):Ze+Ge}Ge=v.localize(Ge,lt);break;default:Ge=Globalize.format(pe,Pe,Me)}return Ge}(Pe,Me,Ge):ft(Pe,Me,Ge)}catch{return Globalize.format(Pe,void 0,Ge)}}static localize(Pe,Me){var Ge=Me["+"],De=Me["-"],lt=Me["."],ct=Me[","];if("+"===Ge&&"-"===De&&"."===lt&&","===ct)return Pe;for(var vt=Pe.length,Vt="",It=0;It<vt;It++){var Ot=Pe.charAt(It);switch(Ot){case"+":Vt+=Ge;break;case"-":Vt+=De;break;case".":Vt+=lt;break;case",":Vt+=ct;break;default:Vt+=Ot}}return Vt}}class m extends Date{constructor(Pe){super(Pe)}static fromTimeValue(Pe){return new m(Pe)}static fromDateParts(Pe,Me=0,Ge=1,De=0,lt=0,ct=0,vt=0){var Vt=Date.UTC(Pe,Me,Ge,De,lt,ct,vt);return new m(Vt)}static fromString(Pe){a.Y.assert(()=>/^[\+-]?\d{4}-\d{2}-\d{2}(T\d{2}\:\d{2}\:\d{2}(\.\d{3})?Z)?$/.test(Pe),"Only ISO 8601 is guaranteed to be parsed as UTC");var Me=new Date(Pe);return new m(Me.getTime())}static fromDateWithEpochValue(Pe){return m.fromTimeValue(Pe.epochTimeStamp)}static isDate(Pe){return Pe instanceof Date}getDate(){return this.getUTCDate()}getDay(){return this.getUTCDay()}getFullYear(){return this.getUTCFullYear()}getHours(){return this.getUTCHours()}getMilliseconds(){return this.getUTCMilliseconds()}getMinutes(){return this.getUTCMinutes()}getMonth(){return this.getUTCMonth()}getSeconds(){return this.getUTCSeconds()}setDate(Pe){return this.setUTCDate.apply(this,arguments)}setFullYear(Pe,Me,Ge){return this.setUTCFullYear.apply(this,arguments)}setHours(Pe,Me,Ge,De){return this.setUTCHours.apply(this,arguments)}setMilliseconds(Pe){return this.setUTCMilliseconds.apply(this,arguments)}setMinutes(Pe,Me,Ge){return this.setUTCMinutes.apply(this,arguments)}setMonth(Pe,Me){return this.setUTCMonth.apply(this,arguments)}setSeconds(Pe,Me){return this.setUTCSeconds.apply(this,arguments)}toString(){var Pe=this.toUTCString();return Pe.endsWith(" GMT")&&(Pe=Pe.substr(0,Pe.length-4)),Pe}}var E=new RegExp(["'[^']*'",'"[^"]*"',"\\\\.","'[^']*$",'"[^"]*$',"\\\\$"].join("|"),"g");function D(pe){return E.lastIndex=0,pe.replace(E,"\ue100")}function h(pe,Pe){for(E.lastIndex=0;;){var Me=E.exec(pe);if(!Me)break;var Ge=Me[0],De=E.lastIndex-Ge.length,lt=String.fromCharCode(57600+Pe.length);Pe.push(Ge),pe=pe.substr(0,De)+lt+pe.substr(E.lastIndex),E.lastIndex=De+1}return pe}function C(pe,Pe,Me=!0){for(var Ge=Pe.length,De=0;De<Ge;De++){var lt=String.fromCharCode(57600+De),ct=Pe[De];if(!Me){var vt=ct[0];ct="\\"===vt||1===ct.length||ct[ct.length-1]!==vt?ct.substring(1):ct.substring(1,ct.length-1)}pe=pe.replace(lt,ct)}return pe}var T,N,y=/({{)|(}})|{(\d+[^}]*)}/g,f="0",S="#",b="E",M=new RegExp([f,S].join("|"),"g");function w(pe,Pe,Me){var Ge=Me.calendar.patterns;!function(pe){var Pe=pe.patterns;void 0===Pe.g&&(Pe.g=Pe.f.replace(Pe.D,Pe.d),Pe.G=Pe.F.replace(Pe.D,Pe.d))}(Me.calendar);var De=function(pe,Pe,Me){switch(Pe){case"m":Pe="M";break;case"O":case"o":Pe="yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'0000'";break;case"R":case"r":pe=new Date(pe.getUTCFullYear(),pe.getUTCMonth(),pe.getUTCDate(),pe.getUTCHours(),pe.getUTCMinutes(),pe.getUTCSeconds(),pe.getUTCMilliseconds()),Pe="ddd, dd MMM yyyy HH':'mm':'ss 'GMT'";break;case"s":Pe="S";break;case"u":pe=new Date(pe.getUTCFullYear(),pe.getUTCMonth(),pe.getUTCDate(),pe.getUTCHours(),pe.getUTCMinutes(),pe.getUTCSeconds(),pe.getUTCMilliseconds()),Pe="yyyy'-'MM'-'dd HH':'mm':'ss'Z'";break;case"U":pe=new Date(pe.getUTCFullYear(),pe.getUTCMonth(),pe.getUTCDate(),pe.getUTCHours(),pe.getUTCMinutes(),pe.getUTCSeconds(),pe.getUTCMilliseconds()),Pe="F";break;case"y":case"Y":switch(Me){case"default":case"en":case"en-US":Pe="MMMM, yyyy";break;default:Pe="Y"}}return{value:pe,format:Pe}}(pe,Pe,Me.name);return Pe=1===De.format.length?Ge[De.format]:De.format,Globalize.format(De.value,Pe,Me)}var ee,U=/^\{.+\}.*/,F=/\{.+\}/,R=/e[+-]*[0#]+/i,B=/^[a-z]\d{0,2}$/i,A=/0+$/,W=/([,]*)\.([0#]*)/g,G=/[0#,\.]+[0,#]*/g,K=/([0#])(?=[^0#]*$)/,q=".",ne=";";function L(pe,Pe){if(null==Pe)return Pe;if(H(Pe)){var{positive:Me,negative:Ge,zero:De}=te(Pe);return X(pe>0?Me:0===pe?De:Ge)}return X(Pe)}function X(pe){var Pe=(0,s.eF)(G,pe);return Pe?Pe[0]:pe}function Y(pe,Pe,Me){if(null==Pe)return pe;if(null==pe&&(pe=f),H(pe)){for(var{positive:Ge,negative:De,zero:lt}=te(pe),ct=[Ge,De,lt],vt=0;vt<ct.length;vt++)ct[vt]=Q(ct[vt],Pe,Me);return ct.join(ne)}return Q(pe,Pe,Me)}function Q(pe,Pe,Me){if((Pe=Math.abs(Pe))>=0){var Ge=[];pe=h(pe,Ge);var lt=_.repeat(Me?f:S,Math.abs(Pe)),ct=(0,s.eF)(W,pe);if(ct){var vt=pe.substr(0,ct.index+ct[1].length),Vt=pe.substr(ct.index+ct[1].length+1,ct[2].length),It=ct[1],Ot=pe.substr(ct.index+ct[0].length);if(Me)Vt=lt;else{var de=lt.length-Vt.length;de>0?Vt+=lt.slice(-de):de<0&&(Vt=Vt.slice(0,de))}Vt.length>0?Vt=q+Vt:It.length>0&&(Vt=q),pe=vt+Vt+Ot}else lt.length>0&&(pe=pe.replace(K,"$1"+q+lt));0!==Ge.length&&(pe=C(pe,Ge))}return pe}function H(pe){return-1!==D(pe).indexOf(ne)}function te(pe){var Pe={hasNegative:!1,positive:pe,negative:pe,zero:pe},Me=[],Ge=(pe=h(pe,Me)).split(ne),De=Ge.length;return De>1&&(0!==Me.length&&(Ge=_.map(Ge,lt=>C(lt,Me))),Pe.hasNegative=!0,Pe.positive=Pe.zero=Ge[0],Pe.negative=Ge[1],De>2&&(Pe.zero=Ge[2])),Pe}function ue(pe){return a.Y.assertValue(pe,"format"),B.test(pe)}function Te(pe){return!pe||ue(pe)||Fe(pe).hasDots?pe:Y(pe,2,!0)}function ft(pe,Pe,Me,Ge){var De,lt=Me.numberFormat;if(!isFinite(pe))return Globalize.format(pe,void 0);var ct=te(Pe);Pe=pe>0?ct.positive:0===pe?ct.zero:ct.negative,ct.hasNegative&&(pe=Math.abs(pe));var vt=Fe(Pe,!0),Vt=[];if(vt.hasLiterals&&(Pe=h(Pe,Vt)),vt.hasE&&!Ge){var It=(0,s.eF)(R,Pe);if(It){var Ot=Pe.substr(0,It.index),de=Pe.substr(It.index+2),Ze=ye(Ot,vt),Ye=he(Ot,vt);if(1!==Ye&&(pe*=Ye),a.Y.assert(()=>"number"==typeof pe,"value must be a number"),"number"!=typeof pe)return String(pe);var qe=pe.toExponential(Ze),ut=qe.indexOf("e"),et=qe.substr(0,ut),le=qe.substr(ut+1),me=xe(et,Ot,lt),Be=xe(le,de,lt);"+"===Be.charAt(0)&&"+"!==It[0].charAt(1)&&(Be=Be.substr(1)),De=me+It[0].charAt(0)+Be}}if(void 0===De){var Xe,re=!1,fe=ye(Pe,vt),ae=he(Pe,vt);if(1!==ae&&(pe*=ae),pe=parseFloat(At(pe,fe)),!isFinite(pe))return Globalize.format(pe,void 0);Ge?(Ge=function(pe,Pe){return Pe&&void 0!==pe?pe.replace("{0}","{0:"+Pe+"}"):pe}(Ge,L(pe,Pe)),Xe=Je.format(Ge,[pe],Me.name),re=!0):(Xe=At(pe,fe),Xe=function(pe,Pe,Me,Ge){if(0===Ge)return Pe;var De=Pe.indexOf(".");if(-1===De)return Pe;for(var lt=De+1,vt=lt+(Me-Ge);vt<Pe.length;++vt){var Vt=Pe[vt];if("0"===Vt||"9"===Vt){var It=At(pe,vt-lt);if(parseFloat(It)===pe)return It}}return Pe}(pe,Xe,fe,function(pe,Pe){return Ee(pe,Pe),Pe.optionalPrecision}(Pe,vt))),De=xe(Xe,Pe,lt,Ge,re)}return vt.hasLiterals&&(De=C(De,Vt,!1)),ee=vt,De}function At(pe,Pe){var Me="",Ge=0;Pe>16&&(Ge=Pe-16,Pe=16);var De=(0,i.YL)(Math.abs(pe))+1;if(De<16){if(De>0){var lt=16-De;Pe>lt&&(Ge+=Pe-lt,Pe=lt)}Me=function(pe,Pe){if(!pe||isFinite(pe)){var Me=pe<0;Me&&(pe=-pe);var Ge=Math.pow(2,Math.floor(Math.log(pe)/Math.LN2)-52),De=Math.pow(10,Pe);1/De>10*Ge&&(pe=Math.round((pe+Ge)*De)/De),Me&&(pe=-pe)}return pe.toFixed(Pe)}(pe,Pe)}else if(16===De)Me=pe.toFixed(0),(Ge+=Pe)>0&&(Me+=".");else{if(a.Y.assert(()=>"number"==typeof pe,"value must be a number"),"number"!=typeof pe)return String(pe);var ct=(Me=pe.toExponential(15)).indexOf("e");if(ct>0){var vt=Me.indexOf("."),Vt=Me.substr(0,ct),It=Me.substr(ct+1),Ot=parseInt(It,10)-(Vt.length-vt-1);Me=Vt.replace(".","")+_.repeat("0",Ot),Pe>0&&(Me=Me+"."+_.repeat("0",Pe))}}return Ge>0&&(Me+=_.repeat("0",Ge)),Me}function Fe(pe,Pe,Me,Ge){if(void 0!==ee&&pe===ee.format)return ee;for(var De=[],lt=h(pe,De),ct={format:pe,hasLiterals:0!==De.length,hasE:!1,hasCommas:!1,hasDots:!1,hasPercent:!1,hasPermile:!1,precision:void 0,optionalPrecision:void 0,scale:void 0,partsPerScale:void 0},vt=0,Vt=lt.length;vt<Vt;vt++)switch(lt.charAt(vt)){case"e":case"E":ct.hasE=!0;break;case",":ct.hasCommas=!0;break;case".":ct.hasDots=!0;break;case"%":ct.hasPercent=!0;break;case"\u2030":ct.hasPermile=!0}var Ot=te(pe);return Pe&&(ct.precision=ye(Ot.positive,ct)),Ge&&(ct.partsPerScale=Oe(Ot.positive,ct)),Me&&(ct.scale=he(Ot.positive,ct)),ct}function ye(pe,Pe){return Ee(pe,Pe),Pe.precision}function Ee(pe,Pe){if(!(Pe.precision>-1)){var Me=0,Ge=0;if(Pe.hasDots){Pe.hasLiterals&&(pe=D(pe));var De=pe.indexOf(".");if(De>-1){for(var lt=pe.length,ct=De;ct<lt;ct++){var vt=pe.charAt(ct);if(vt.match(M)&&++Me,vt===S?++Ge:Ge=0,vt===b)break}Me>19&&(Ge=Math.max(0,Ge-(Me-19)),Me=19)}}Pe.precision=Me,Pe.optionalPrecision=Ge}}function Oe(pe,Pe){if(null!=Pe.partsPerScale)return Pe.partsPerScale;var Me=1;return Pe.hasPercent&&pe.indexOf("%")>-1&&(Me*=100),Pe.hasPermile&&pe.indexOf("\u2030")>-1&&(Me*=1e3),Pe.partsPerScale=Me,Me}function he(pe,Pe){if(Pe.scale>-1)return Pe.scale;var Me=Oe(pe,Pe);if(Pe.hasCommas){var Ge=pe.indexOf(".");if(-1===Ge)for(Ge=pe.length;Ge>0&&")"===pe.charAt(Ge-1);)Ge--;for(var De=Ge-1;De>-1&&","===pe.charAt(De);De--)Me/=1e3}return Pe.scale=Me,Me}function xe(pe,Pe,Me,Ge,De){var lt=!!Ge,ct=Pe.split(".",2);if(2===ct.length){var vt=ct[0],Vt=ct[1],It="";Ge&&(a.Y.assert(()=>U.test(Ge),"Number should always precede the display unit"),It=Ge.replace(F,""),pe=pe.replace(It,""));var Ot=Me["."],Ze=pe.split(De?Ot:".",2),Ye=1===Ze.length?Ze[0]+It:Ze[0],qe=2===Ze.length?Ze[1]+It:"";qe=qe.replace(A,"");var ut=Se(Ye,vt,Me,lt),et=function(pe,Pe,Me){var Ge=0,De=Pe.length,lt=pe.length;if(Me){a.Y.assert(()=>De>0,"Empty formatting string");var ct=Pe.charAt(De-1);return ct.match(M)?{value:pe,fmtOnly:""===pe}:{value:pe+ct,fmtOnly:""===pe}}for(var vt="",Vt=!0,It=0;It<De;It++){var Ot=Pe.charAt(It);if(Ge<lt)switch(Ot){case f:case S:vt+=pe[Ge++],Vt=!1;break;default:vt+=Ot}else Ot!==S&&(vt+=Ot,Vt=Vt&&Ot!==f)}return{value:vt,fmtOnly:Vt}}(qe,Vt,lt);return et.fmtOnly||""===et.value?ut+et.value:ut+Ot+et.value}return Se(pe,Pe,Me,lt)}function Se(pe,Pe,Me,Ge){var De=Pe.indexOf(","),lt=De>-1&&De<Math.max(Pe.lastIndexOf("0"),Pe.lastIndexOf("#"))&&Me[","],ct=0,vt=0,Vt=Me.groupSizes||[3],It=Vt[0],Ot=Me[","],de="",Ze=pe.charAt(0);("+"===Ze||"-"===Ze)&&(de=Me[Ze],pe=pe.substr(1));for(var Ye="0"===pe,qe="",ut="",et=pe.length-1,le=!0,me=Pe.length-1;me>-1;me--){var Be=Pe.charAt(me);switch(Be){case f:case S:le=!1,""!==ut&&(qe=ut+qe,ut=""),Ge||((et>-1||Be===f)&&lt&&(ct===It?(qe=Ot+qe,++vt<Vt.length&&(It=Vt[vt]),ct=1):ct++),et>-1?(Ye&&Be===S||(qe=pe.charAt(et)+qe),et--):Be!==S&&(qe=Be+qe));break;case",":break;default:ut=Be+ut}}if(!Ge){if(et>-1&&""!==qe)if(lt)for(;et>-1;)ct===It?(qe=Ot+qe,++vt<Vt.length&&(It=Vt[vt]),ct=1):ct++,qe=pe.charAt(et)+qe,et--;else qe=pe.substr(0,et+1)+qe;return de+ut+qe}return le?de+ut+qe:de+ut+pe+qe}class Ie{constructor(Pe){var Me=Pe.calendar,Ge=Me.patterns,De=null!=Me.months?.namesAbbr?.[0],lt=Ge.Y,ct=Ge.M,vt=Ge.f,Vt=Ge.T,It=Ge.t,Ot=vt.indexOf(",")>-1?", ":" ",de=0===lt.indexOf("yyyy'")&&lt.length>6&&"'"===lt[6];this.YearPattern=de?lt.substr(0,7):"yyyy";var Ze=vt.indexOf("yy"),Ye=vt.indexOf("MMMM");this.MonthPattern=De&&Ye>-1?Ze>Ye?"MMM yyyy":"yyyy MMM":lt,this.DayPattern=De?ct.replace("MMMM","MMM"):ct;var qe=vt.indexOf("mm"),et=vt.indexOf("tt")>-1?It.replace(":mm ",""):It;this.HourPattern=Ze<qe?this.DayPattern+Ot+et:et+Ot+this.DayPattern,this.MinutePattern=It,this.SecondPattern=Vt,this.MillisecondPattern=Vt.replace("ss","ss.fff")}getFormatString(Pe){switch(Pe){case l.k.Year:return this.YearPattern;case l.k.Month:return this.MonthPattern;case l.k.Week:case l.k.Day:return this.DayPattern;case l.k.Hour:return this.HourPattern;case l.k.Minute:return this.MinutePattern;case l.k.Second:return this.SecondPattern;case l.k.Millisecond:return this.MillisecondPattern}a.Y.assertFail("Unexpected unit: "+Pe)}}var Je=new class{formatValue(Pe,Me,Ge){if(null==Pe)return"";var De=this.getCulture(Ge);return u.canFormat(Pe)?u.format(Pe,Me,De):v.canFormat(Pe)?v.format(Pe,Me,De):Pe.toString()}format(Pe,Me,Ge){return Pe?Pe.replace(y,(lt,ct,vt,Vt)=>{if(ct)return"{";if(vt)return"}";var It=Vt.split(":"),Ot=parseInt(It[0],10);return this.formatValue(Me[Ot],It[1],Ge)}):""}isStandardNumberFormat(Pe){return ue(Pe)}formatNumberWithCustomOverride(Pe,Me,Ge,De){return function(pe,Pe,Me,Ge){return a.Y.assertValue(pe,"value"),a.Y.assert(()=>"number"==typeof pe,"value must be a number"),a.Y.assertValue(Pe,"format"),a.Y.assertValue(Me,"nonScientificOverrideFormat"),a.Y.assertValue(Ge,"culture"),a.Y.assert(()=>!ue(Pe),"Standard format"),ft(pe,Pe,Ge,Me)}(Pe,Me,Ge,this.getCulture(De))}dateFormatString(Pe){return this._dateTimeScaleFormatInfo||this.initialize(),this._dateTimeScaleFormatInfo.getFormatString(Pe)}setCurrentCulture(Pe){this._currentCultureSelector!==Pe&&(this._currentCulture=this.getCulture(Pe),this._currentCultureSelector=Pe,this._dateTimeScaleFormatInfo=new Ie(this._currentCulture))}normalizeCultureSelector(Pe){var Me=Pe.split("-");return 2===Me.length&&2===Me[1].length&&(Pe=Me[0]+"-"+Me[1].toUpperCase()),Pe}getCulture(Pe){if(null==Pe)return null==this._currentCulture&&this.initialize(),this._currentCulture;Pe=this.normalizeCultureSelector(Pe);var Me=Globalize.findClosestCulture(Pe);return Me||(Me=Globalize.culture("en-US")),Me}parseFloat(Pe){return Globalize.parseFloat(Pe,this.getCulture())}parseDate(Pe){var Me=Globalize.parseDate(Pe,null,this.getCulture());return Me&&(0,c.IG)(Me)}getCurrentCulture(){return this.getCulture()}initialize(){var Pe=this.getCurrentLocale();this.setCurrentCulture(Pe);var Me=this.getUrlParam("calendar");if(Me){var Ge=this._currentCulture,De=Ge.calendars[Me];De&&(Ge.calendar=De)}}getCurrentLocale(){var Pe=n.C.getLanguage()||Globalize.culture().name,Me=(0,r.iE)().cultureInfo;return Pe=(0,r.iE)().formattingLocale||Me||Pe,this.getUrlParam("formatLocale")||this.getUrlParam("language")||Pe}getUrlParam(Pe){var Me=window.location.search.match(RegExp("[?&]"+Pe+"=([^&]*)"));return Me?Me[1]:void 0}}},369195:function(ve,z,e){e.d(z,{SZ:function(){return d},lK:function(){return o}});var a=e(18122),i=e(744524),r=e(73646),t=e(153484);function o(s){return JSON.stringify(s.accept(n.instance))}function d(s){for(var p="[",l=0,u=s.length;l<u;l++)l>0&&(p+=","),p+=o(s[l]);return p+"]"}var n=(()=>{class s extends r.nP{visitColumnRef(l){return{col:{s:l.source.accept(this),r:l.ref}}}visitMeasureRef(l){return{measure:{s:l.source.accept(this),r:l.ref}}}visitNativeMeasure(l){var u={l:l.language,e:l.expression,t:l.dataType};return l.proposedName&&(u.p=l.proposedName),l.expressionContentCache&&(u.c={}),l.expressionContentCache.dependencies&&(u.c.d=d(l.expressionContentCache.dependencies)),null!=l.expressionContentCache.unrecognizedIdentifiers&&(u.c.u=l.expressionContentCache.unrecognizedIdentifiers),{nativeMeasure:u}}visitNativeColumn(l){var u={l:l.language,e:l.expression,t:l.dataType,s:l.source.accept(this),f:l.format};return l.proposedName&&(u.p=l.proposedName),l.expressionContentCache&&(u.c={}),l.expressionContentCache.dependencies&&(u.c.d=d(l.expressionContentCache.dependencies)),null!=l.expressionContentCache.unrecognizedIdentifiers&&(u.c.u=l.expressionContentCache.unrecognizedIdentifiers),{nativeColumn:u}}visitAggr(l){return{agg:{a:l.arg.accept(this),f:l.func}}}visitEntity(l){return a.Y.assertValue(l,"expr"),a.Y.assertValue(l.entity,"expr.entity"),{e:l.entity}}visitHierarchyLevel(l){return{h:l.arg.accept(this),l:l.level}}visitHierarchy(l){return{e:l.arg.accept(this),h:l.hierarchy}}visitPropertyVariationSource(l){return{e:l.arg.accept(this),n:l.name,p:l.property}}visitAnd(l){return a.Y.assertValue(l,"expr"),{and:{l:l.left.accept(this),r:l.right.accept(this)}}}visitCompare(l){return a.Y.assertValue(l,"expr"),{comp:{k:l.comparison,l:l.left.accept(this),r:l.right.accept(this)}}}visitConstant(l){return a.Y.assertValue(l,"expr"),{const:{t:l.type.primitiveType,v:c(l.value)}}}visitArithmetic(l){return a.Y.assertValue(l,"expr"),{arithmetic:{o:l.operator,l:l.left.accept(this),r:l.right.accept(this)}}}visitScopedEval(l){return a.Y.assertValue(l,"expr"),{scopedEval:{e:l.expression.accept(this),s:d(l.scope)}}}visitFilteredEval(l){a.Y.assertValue(l,"expr");var u=v=>{var m={};return _.isEmpty(v.target)||(m.t=_.map(v.target,g=>g.accept(this))),m.c=v.condition.accept(this),m};return{filteredEval:{e:l.expression.accept(this),f:`[${_.map(l.filters,v=>JSON.stringify(u(v))).join(", ")}]`}}}visitWithRef(l){return a.Y.assertValue(l,"expr"),{withRef:{e:l.expressionName}}}visitTransformTableRef(l){return a.Y.assertValue(l,"expr"),{transformTableRef:{source:l.source}}}visitTransformOutputRoleRef(l){a.Y.assertValue(l,"expr");var u={transformOutputRoleRef:{role:l.role}};return l.transform&&(u.transformOutputRoleRef.transform=l.transform),u}visitFloor(l){a.Y.assertValue(l,"expr");var u={floor:{a:l.arg.accept(this),s:l.size}};return null!=l.timeUnit&&(u.floor.timeunit=l.timeUnit),u}visitRoleRef(l){return a.Y.assertValue(l,"expr"),{roleRef:{role:l.role}}}visitSummaryValueRef(l){return a.Y.assertValue(l,"expr"),{summaryValueRef:{name:l.name}}}visitAllRolesRef(l){return a.Y.assertValue(l,"expr"),{allRolesRef:{}}}visitNot(l){return a.Y.assertValue(l,"expr"),{not:l.arg.accept(this)}}visitIn(l){return a.Y.assertValue(l,"expr"),{in:{c:d(l.args),v:_.map(l.values,u=>d(u))}}}visitSelectRef(l){return a.Y.assertValue(l,"expr"),{n:l.expressionName}}visitSparklineData(l){return a.Y.assertValue(l,"expr"),{sparklineData:{m:l.measure.accept(this),g:d(l.grouping),s:l.scalarKey?.accept(this)}}}visitDefault(l){a.Y.assertFail("Unexpected expression type found in DataViewScopeIdentity.")}}return s.instance=new s,s})();function c(s){return(0,i.th)(s)?t.tw.fromDateWithEpochValue(s):s}},310554:function(ve,z,e){e.d(z,{B:function(){return r},Z:function(){return t}});var a=e(18122),i=e(904143);function r(o,d){if(a.Y.assertValue(o,"getStylePreset called with undefined stylePresets"),o){_.isEmpty(d)&&(d=o.defaultPresetName);var n=o.presets[d];return n||(n=o.presets[o.defaultPresetName]),a.Y.assertValue(n,"VisualStylePreset not found and no valid default exists"),n}}function t(o,d){var n=[];if(o){var c=o.presets;if(c)for(var s in c){var p=c[s];p.isDeprecated&&p.name!==d||n.push({value:p.name,displayName:p.displayName})}}return(0,i.s)(n)}},816078:function(ve,z,e){e.d(z,{Ju:function(){return t},TV:function(){return i}});var a=e(927574);function i(o){return o.annotationType===a.x.Callout}function t(o,d){o.annotationType===a.x.Callout?(o.text&&d.visitExpr(o.text),o.offsetX&&d.visitExpr(o.offsetX),o.offsetY&&d.visitExpr(o.offsetY),o.width&&d.visitExpr(o.width),o.height&&d.visitExpr(o.height),o.lastEditUTCTimestamp&&d.visitExpr(o.lastEditUTCTimestamp)):o.annotationType===a.x.Highlight&&(o.color&&d.visitExpr(o.color),o.fontColor&&d.visitExpr(o.fontColor),o.backgroundColor&&d.visitExpr(o.backgroundColor),o.emphasizeText&&d.visitExpr(o.emphasizeText),o.strokeDasharray&&d.visitExpr(o.strokeDasharray),o.shouldOffsetVisibleOutlinesInbound&&d.visitExpr(o.shouldOffsetVisibleOutlinesInbound),o.targets&&_.forEach(o.targets,n=>d.visitExpr(n)))}},926744:function(ve,z,e){e.d(z,{J:function(){return r}});var a=e(18122),i=e(985503);function r(t,o){a.Y.assertValue(t,"dataBars"),t.minValue&&o.visitExpr(t.minValue),t.maxValue&&o.visitExpr(t.maxValue),t.totalMatchingOption&&o.visitExpr(t.totalMatchingOption),(0,i.Ju)(t.positiveColor,o),(0,i.Ju)(t.negativeColor,o),(0,i.Ju)(t.axisColor,o),o.visitExpr(t.reverseDirection),o.visitExpr(t.hideText)}},904143:function(ve,z,e){e.d(z,{s:function(){return i}});var a=e(18122);function i(t){return new r(t)}class r{constructor(o){a.Y.assertValue(o,"allMembers"),this.allMembers=o}members(o){var d=this.allMembers;if(!o)return d;var n=[];for(var c of d)_.includes(o,c.value)&&n.push(c);return n}}},927574:function(ve,z,e){e.d(z,{x:function(){return a}});var a=function(i){return i.Callout="callout",i.Highlight="highlight",i}({})},364453:function(ve,z,e){e.d(z,{Ju:function(){return i}});var a=e(18122);function i(n,c){n.explicit?function(n,c){c.visitExpr(n.isRelative),n.lowerBound&&c.visitExpr(n.lowerBound),n.upperBound&&c.visitExpr(n.upperBound)}(n.explicit,c):n.symmetricalExplicit?c.visitExpr(n.symmetricalExplicit.delta):n.standardDeviation?function(n,c){n.visitExpr(c.value),n.visitExpr(c.multiplier)}(c,n.standardDeviation):n.percentage?function(n,c){c.visitExpr(n.lowerBoundDelta),c.visitExpr(n.upperBoundDelta)}(n.percentage,c):n.percentile?function(n,c){c.visitExpr(n.lowerBound),c.visitExpr(n.upperBound)}(n.percentile,c):a.Y.assertFail("Unsupported ErrorRangeDefinition")}},985503:function(ve,z,e){e.d(z,{GG:function(){return o},Ju:function(){return t},_w:function(){return r},me:function(){return d}});var a=e(18122),i=e(757406);function r(n){return n&&(void 0!==n.solid&&void 0!==n.solid.color||void 0!==n.gradient&&(void 0!==n.gradient.startColor||void 0!==n.gradient.endColor)||void 0!==n.pattern&&(void 0!==n.pattern.patternKind||void 0!==n.pattern.color))}function t(n,c){a.Y.assertValue(n,"fill"),n.solid&&n.solid.color?c.visitExpr(n.solid.color):a.Y.assertFail("Unsupported FillDefinition")}function o(n,c){return c?{solid:{color:(0,i.yW)(n,c)}}:null===n?{solid:{color:(0,i.gN)()}}:n?{solid:{color:(0,i.Qq)(n)}}:void 0}function d(n){return a.Y.assertValue(n,"descriptor"),!0!==n&&!!n.nullable}},889953:function(ve,z,e){e.d(z,{Ju:function(){return n},NW:function(){return d},Pe:function(){return r},dw:function(){return t},iQ:function(){return o}});var a=e(18122),i=e(904143),r="asZero",t="noColor",o="specificColor",d=(0,i.s)([{value:r,displayName:u=>u.get("ConditionalFormattingDialog_FormatNull_AsZero")},{value:t,displayName:u=>u.get("ConditionalFormattingDialog_FormatNull_NoFormat")},{value:o,displayName:u=>u.get("ConditionalFormattingDialog_FormatNull_SpecificColor")}]);function n(u,v){a.Y.assertValue(u,"fillRule"),u.linearGradient2?function(u,v){a.Y.assertValue(u,"gradient2"),p(u.min,v),p(u.max,v),l(u.nullColoringStrategy,v)}(u.linearGradient2,v):u.linearGradient3?function(u,v){a.Y.assertValue(u,"gradient3"),p(u.min,v),p(u.mid,v),p(u.max,v),l(u.nullColoringStrategy,v)}(u.linearGradient3,v):a.Y.assertFail("Unsupported FillRuleDefinition")}function p(u,v){a.Y.assertValue(u,"stop"),v.visitExpr(u.color);var m=u.value;m&&v.visitExpr(m)}function l(u,v){u&&(v.visitExpr(u.strategy),u.color&&v.visitExpr(u.color))}},423427:function(ve,z,e){e.d(z,{NW:function(){return i},Se:function(){return r},pX:function(){return t},ue:function(){return a}});var a="shared",i="packaged",r="geojson",t="topojson"},204951:function(ve,z,e){e.d(z,{J:function(){return i}});var a=e(18122);function i(r,t){a.Y.assertValue(r,"fillRule"),r.layout&&t.visitExpr(r.layout),r.verticalAlignment&&t.visitExpr(r.verticalAlignment),r.value&&t.visitExpr(r.value)}},641509:function(ve,z,e){e.d(z,{c:function(){return a}});var a={misc:{imageUrl:!0}}},265142:function(ve,z,e){function a(i,r){var t=i.metadata;if(t){var o=t.dataFunction;if(o)for(var d of o.parameters)"ValueParameter"===d.type&&d.value&&r.visitExpr(d.value)}}e.d(z,{J:function(){return a}})},312185:function(ve,z,e){e.d(z,{Ju:function(){return t},Nr:function(){return s},OX:function(){return o},PG:function(){return d},k9:function(){return c}});var a=e(18122),i=e(757406),r=e(153920);function t(m,g){for(var E of(a.Y.assertValue(m,"paragraphs"),m))p(E,g)}function o(m){var g=m;return a.Y.assertValue(g,"textRunDefinition"),_.isString(g.value)||(0,r.p)(g.value)||g.value instanceof i.yj}function d(m){var g=m;return a.Y.assertValue(g,"textRunDefinitionGeneric"),_.isString(g.value)||function(m){return m&&m.expr}(g.value)||(0,r.p)(g.value)}function c(m){var g=m;return a.Y.assertValue(g,"textRunConditionalDefinition"),_.isArray(g.cases)&&void 0!==g.defaultCase&&_.isArray(g.defaultCase.textRuns)&&(0,r.p)(g.expression)}function s(m){var g=m;return a.Y.assertValue(g,"conditionalDefinitionGeneric"),_.isArray(g.cases)&&void 0!==g.defaultCase&&void 0!==g.expression}function p(m,g){if(a.Y.assertValue(m,"paragraph"),!_.isEmpty(m.textRuns))for(var E of m.textRuns)o(E)?l(E,g):c(E)?v(E,g):a.Y.assertNever(E)}function l(m,g){a.Y.assertValue(m,"textRun"),a.Y.assertValue(m.value,"textRun.value"),!_.isString(m.value)&&u(m.value,g)}function u(m,g){if((0,r.p)(m))return g.visitValueRef(m);g.visitExpr(m)}function v(m,g){for(var E of(a.Y.assertValue(m,"textRunConditional"),a.Y.assertValue(m.expression,"expression"),a.Y.assertValue(m.defaultCase,"defaultCase"),a.Y.assertValue(m.cases,"cases"),m.cases))for(var D of E.textRuns)l(D,g);for(var h of m.defaultCase.textRuns)l(h,g);(0,r.p)(m.expression)&&u(m.expression,g)}},317998:function(ve,z,e){e.d(z,{B:function(){return i}});var a=e(18122);class i{constructor(t,o){this.exprVisitor=t,this.valueRefVisitor=o}visitExpr(t){return a.Y.assertValue(t,"expr"),a.Y.assertValue(this.exprVisitor,"exprVisitor"),t.accept(this.exprVisitor)}visitValueRef(t){return a.Y.assertValue(this.valueRefVisitor,"valueRefVisitor"),this.valueRefVisitor.accept(t)}}},154277:function(ve,z,e){e.d(z,{CY:function(){return P},GO:function(){return f},Hx:function(){return I},Ju:function(){return w},Mr:function(){return m},P3:function(){return b},W8:function(){return T},YK:function(){return v},Z$:function(){return E},df:function(){return V},fn:function(){return x},h1:function(){return O},lF:function(){return M},nc:function(){return N},pj:function(){return C},xo:function(){return g}});var a=e(18122),i=e(178748),r=e(258480),t=e(757406),o=e(926744),d=e(364453),n=e(265142),c=e(816078),s=e(985503),p=e(889953),l=e(204951),u=e(312185);function v(j){var U=j.kind;if(!U)return!1;switch(U){case i.P.AnnotationTemplate:case i.P.Icon:case i.P.ExprList:case i.P.ErrorRange:case i.P.ItemLocation:return!0;default:return a.Y.assertNever(U),!1}return!1}function m(j){return!!j&&(j instanceof r.b0||g(j)||E(j)||function(j){return!!j.identityFieldsValues}(j)||function(j){return j.name instanceof t.yj&&j.url instanceof t.yj}(j)||C(j)||function(j){return j.name instanceof t.yj&&j.content instanceof t.yj&&j.type instanceof t.yj}(j)||f(j)||S(j)||b(j)||V(j)||M(j)||P(j)||T(j)||N(j))}function g(j){return!!(j.gradient||j.solid||j.pattern)}function E(j){return!(!j.linearGradient2&&!j.linearGradient3)}function C(j){var U=j;if(!_.isArray(U))return!1;for(var F of U)if(!F.textRuns)return!1;return!0}function f(j){return!(!j.algorithm||!j.parameters)}function S(j){return!!(j.axisColor&&j.negativeColor&&j.negativeColor)}function b(j){return j.kind===i.P.Icon}function V(j){return j.kind===i.P.ExprList}function M(j){return null!=j&&j.kind===i.P.ErrorRange}function P(j){var U=j;return null!=U?.suggestedUtterances}function T(j){if(null==j)return!1;if(j.kind!==i.P.ItemLocation)return!1;var F=j.byReference;if(F.folderId&&!(F.folderId instanceof t.yj)||F.workspaceId&&!(F.workspaceId instanceof t.yj)||F.itemId&&!(F.itemId instanceof t.yj))return!1;var R=j.metadata;if(R){var B=R.dataFunction;if(B&&_.some(B.parameters,A=>"ValueParameter"===A.type&&!(A.value instanceof t.yj)))return!1}return!0}function N(j){return null!=j&&j.kind===i.P.AnnotationTemplate}function w(j,U){g(j)?U.visitFillDefinition(j):E(j)?U.visitFillRuleDefinition(j):C(j)?U.visitParagraphs(j):S(j)?U.visitDataBarsDefinition(j):b(j)?U.visitIconDefinition(j):M(j)?U.visitErrorRangeDefinition(j):T(j)?U.visitItemLocationDefinition(j):N(j)&&U.visitAnnotationTemplateDefinition(j)}function I(j,U){g(j)?(0,s.Ju)(j,U):E(j)?(0,p.Ju)(j,U):C(j)?(0,u.Ju)(j,U):S(j)?(0,o.J)(j,U):b(j)?(0,l.J)(j,U):M(j)?(0,d.Ju)(j,U):T(j)?(0,n.J)(j,U):N(j)&&(0,c.Ju)(j,U)}function O(j,U){return U?j?j.kind===i.P.Icon&&U.kind===i.P.Icon?{kind:i.P.Icon,layout:null!=U.layout?U.layout:j.layout,verticalAlignment:null!=U.verticalAlignment?U.verticalAlignment:j.verticalAlignment,value:void 0!==U.value?U.value:j.value}:void a.Y.assertFail("unsupported StructuralObjectValues merging"):U:j}function x(j){return a.Y.assertValue(j,"type"),!!(j.fill||j.fillRule||j.filter||j.expression||j.image||j.paragraphs||j.geoJson||j.queryTransform||j.dataBars||j.icon||j.exprList||j.errorRange||j.qnaVisualLink||j.itemLocation||j.annotationTemplate)}},153920:function(ve,z,e){function a(r){return!!r&&(void 0!==r.selector&&void 0!==r.propertyIdentifier)}e.d(z,{T:function(){return i},p:function(){return a}});class i{constructor(){this.references=[]}accept(t){this.references.push(t)}}},337965:function(ve,z,e){e.d(z,{eV:function(){return d},qP:function(){return v},qu:function(){return m}});var a=e(293444),i=e(18122),r=e(302887),t=e(893420),o=e(545414),d=(()=>{class V{constructor(P,T,N,w,I,O){i.Y.assert(()=>!!P&&null!=m[P]||P===o.K.Null,"type"),i.Y.assert(()=>!!T||null===T,"category"),i.Y.assert(()=>P!==o.K.Enumeration||!!N,"enumType"),i.Y.assert(()=>P!==o.K.FlagsEnumeration||!!w,"flagsEnumType"),this.underlyingType=P,this.category=T,(0,t.Lt)(P,o.K.Temporal)&&(this.temporalType=new c(P)),(0,t.Lt)(P,o.K.Geography)&&(this.geographyType=new s(P)),(0,t.Lt)(P,o.K.Miscellaneous)&&(this.miscType=new p(P,O)),(0,t.Lt)(P,o.K.Formatting)&&(this.formattingType=new u(P)),(0,t.Lt)(P,o.K.Enumeration)&&(this.enumType=N),(0,t.Lt)(P,o.K.FlagsEnumeration)&&(this.flagsEnumType=w),(0,t.Lt)(P,o.K.Scripting)&&(this.scriptingType=new n(P)),(0,t.Lt)(P,o.K.Reference)&&(this.referenceType=new l(P)),(0,t.Lt)(P,o.K.Variant)&&(this.variationTypes=I)}static isValueTypeDescriptor(P){return V.fromDescriptor(P).primitiveType!==a.W.Null}static fromDescriptor(P){if((P=P||{}).scripting&&P.scripting.source)return V.fromExtendedType(o.K.ScriptSource);if(P.enumeration)return V.fromEnum(P.enumeration);if(P.flagsEnumeration)return V.fromFlagsEnum(P.flagsEnumeration);if(P.temporal){if(P.temporal.year)return V.fromExtendedType(o.K.Years_Integer);if(P.temporal.quarter)return V.fromExtendedType(o.K.Quarters_Integer);if(P.temporal.month)return V.fromExtendedType(o.K.Months_Integer);if(P.temporal.day)return V.fromExtendedType(o.K.DayOfMonth_Integer);if(P.temporal.paddedDateTableDate)return V.fromExtendedType(o.K.PaddedDateTableDates)}if(P.geography){if(P.geography.address)return V.fromExtendedType(o.K.Address);if(P.geography.city)return V.fromExtendedType(o.K.City);if(P.geography.continent)return V.fromExtendedType(o.K.Continent);if(P.geography.country)return V.fromExtendedType(o.K.Country);if(P.geography.county)return V.fromExtendedType(o.K.County);if(P.geography.region)return V.fromExtendedType(o.K.Region);if(P.geography.postalCode)return V.fromExtendedType(o.K.PostalCode_Text);if(P.geography.stateOrProvince)return V.fromExtendedType(o.K.StateOrProvince);if(P.geography.place)return V.fromExtendedType(o.K.Place);if(P.geography.latitude)return V.fromExtendedType(o.K.Latitude_Double);if(P.geography.longitude)return V.fromExtendedType(o.K.Longitude_Double)}if(P.misc){if(P.misc.image)return V.fromExtendedType(o.K.Image);if(P.misc.imageUrl)return V.fromExtendedType(o.K.ImageUrl);if(P.misc.webUrl)return V.fromExtendedType(o.K.WebUrl);if(P.misc.barcode)return V.fromExtendedType(o.K.Barcode_Text);if(P.misc.sparkline)return V.fromSparklineType(P.misc.sparkline)}if(P.formatting){if(P.formatting.color)return V.fromExtendedType(o.K.Color);if(P.formatting.formatString)return V.fromExtendedType(o.K.FormatString);if(P.formatting.alignment)return V.fromExtendedType(o.K.Alignment);if(P.formatting.labelDisplayUnits)return V.fromExtendedType(o.K.LabelDisplayUnits);if(P.formatting.displayUnitsWithoutAuto)return V.fromExtendedType(o.K.DisplayUnitsWithoutAuto);if(P.formatting.fontFamily)return V.fromExtendedType(o.K.FontFamily);if(P.formatting.fontSize)return V.fromExtendedType(o.K.FontSize);if(P.formatting.altText)return V.fromExtendedType(o.K.AltText);if(P.formatting.stylePreset)return V.fromExtendedType(o.K.StylePreset);if(P.formatting.dashArray)return V.fromExtendedType(o.K.DashArray)}if(P.text)return V.fromExtendedType(o.K.Text);if(P.integer)return V.fromExtendedType(o.K.Integer);if(P.numeric)return V.fromExtendedType(o.K.Double);if(P.bool)return V.fromExtendedType(o.K.Boolean);if(P.dateTime)return V.fromExtendedType(o.K.DateTime);if(P.duration)return V.fromExtendedType(o.K.Duration);if(P.binary)return V.fromExtendedType(o.K.Binary);if(P.json)return V.fromExtendedType(o.K.Json);if(P.none)return V.fromExtendedType(o.K.None);if(P.extendedType)return V.fromExtendedType(P.extendedType);if(P.operations&&P.operations.searchEnabled)return V.fromExtendedType(o.K.SearchEnabled);if(P.reference){if(P.reference.bookmark)return V.fromExtendedType(o.K.BookmarkRef);if(P.reference.bookmarkGroup)return V.fromExtendedType(o.K.BookmarkGroupRef);if(P.reference.section)return V.fromExtendedType(o.K.SectionRef);if(P.reference.perspective)return V.fromExtendedType(o.K.PerspectiveRef);if(P.reference.rowRefText)return V.fromExtendedType(o.K.RowRefText)}if(P.variant){var T=_.map(P.variant,N=>V.fromDescriptor(N));return V.fromVariant(T)}return V.fromExtendedType(o.K.Null)}static fromExtendedType(P){var T=C(P=P||o.K.Null),N=function(V){if(function(V){return(V&D)===V}(V))return null;var M=m[V];if(!M)return null;var P=M.lastIndexOf("_");if(P>0){var T=M.slice(0,P);T in g&&(i.Y.assert(()=>(V&h)==(V&h),"Unexpected value for ExtendedType base member of "+V),M=T)}return M}(P);return i.Y.assert(()=>T!==a.W.Null||P===o.K.Null,"Cannot create ValueType for abstract extended type. Consider using fromDescriptor instead."),V.fromPrimitiveTypeAndCategory(T,N)}static fromPrimitiveTypeAndCategory(P,T){T=T||null;var N=(P=P||a.W.Null).toString();return T&&(N+="|"+T),V.typeCache[N]||(V.typeCache[N]=new V(function(V,M){var P=v[V],T=g[P];if(null==T&&(i.Y.assertFail("Unexpected primitiveType "+V),T=o.K.Null),V&&M){var N=g[M];if(N){var w=C(N);w===a.W.Null?m[N|=T]&&(i.Y.assert(()=>m[N]===M+"_"+P,"Unexpected name for ExtendedType member "+N),T=N):w===V&&(T=N)}}return T}(P,T),T))}static fromEnum(P){return i.Y.assertValue(P,"enumType"),new V(o.K.Enumeration,null,P)}static fromFlagsEnum(P){return i.Y.assertValue(P,"enumType"),new V(o.K.FlagsEnumeration,null,null,P)}static fromVariant(P){return i.Y.assertValue(P,"variantTypes"),new V(o.K.Variant,null,null,null,P)}static fromSparklineType(P){return new V(o.K.Sparkline,"Sparkline",null,null,null,P)}static isCompatibleFromAny(P,T,N){i.Y.assertValue(P,"type"),i.Y.assertValue(T,"otherType");var w=V.fromDescriptor(P);return!!V.isCompatibleTo(w,[T],N)||w&&w.isCompatibleFrom(V.fromDescriptor(T),N)}static isCompatibleTo(P,T,N){i.Y.assertValue(P,"type"),i.Y.assertValue(T,"otherTypes");var w=V.fromDescriptor(P);for(var I of T)if(V.fromDescriptor(I).isCompatibleFrom(w,N))return!0;return!1}isCompatibleFrom(P,T){if(i.Y.assertValue(P,"other"),this===P)return!0;if(P.variant)for(var N of P.variant)if(!this.isCompatibleFrom(N,T))return!1;if(this.variant)for(var w of this.variant)if(w.isCompatibleFrom(P,T))return!0;var I=P.primitiveType;return this.primitiveType===I||I===a.W.Null||this.numeric&&P.numeric&&(!T||!this.integer||P.integer)}equals(P){return _.isEqual(this,P)}get primitiveType(){return C(this.underlyingType)}get extendedType(){return this.underlyingType}get categoryString(){return this.category}get text(){return this.primitiveType===a.W.Text}get numeric(){return(0,t.Lt)(this.underlyingType,o.K.Numeric)}get integer(){return this.primitiveType===a.W.Integer}get bool(){return this.primitiveType===a.W.Boolean}get dateTime(){return this.primitiveType===a.W.DateTime||this.primitiveType===a.W.Date||this.primitiveType===a.W.Time}get duration(){return this.primitiveType===a.W.Duration}get binary(){return this.primitiveType===a.W.Binary}get json(){return this.primitiveType===a.W.Json}get none(){return this.primitiveType===a.W.None}get temporal(){return this.temporalType}get geography(){return this.geographyType}get misc(){return this.miscType}get formatting(){return this.formattingType}get enum(){return this.enumType}get flagsEnum(){return this.flagsEnumType}get scripting(){return this.scriptingType}get reference(){return this.referenceType}get variant(){return this.variationTypes}}return V.typeCache={},V})();(0,r.d)(d.prototype);class n{constructor(M){i.Y.assert(()=>!!M&&(0,t.Lt)(M,o.K.Scripting),"type"),this.underlyingType=M}get source(){return b(this.underlyingType,o.K.ScriptSource)}}class c{constructor(M){i.Y.assert(()=>!!M&&(0,t.Lt)(M,o.K.Temporal),"type"),this.underlyingType=M}get year(){return b(this.underlyingType,o.K.Years)}get quarter(){return b(this.underlyingType,o.K.Quarters)}get month(){return b(this.underlyingType,o.K.Months)}get day(){return b(this.underlyingType,o.K.DayOfMonth)}get paddedDateTableDate(){return b(this.underlyingType,o.K.PaddedDateTableDates)}}class s{constructor(M){i.Y.assert(()=>!!M&&(0,t.Lt)(M,o.K.Geography),"type"),this.underlyingType=M}get address(){return b(this.underlyingType,o.K.Address)}get city(){return b(this.underlyingType,o.K.City)}get continent(){return b(this.underlyingType,o.K.Continent)}get country(){return b(this.underlyingType,o.K.Country)}get county(){return b(this.underlyingType,o.K.County)}get region(){return b(this.underlyingType,o.K.Region)}get postalCode(){return b(this.underlyingType,o.K.PostalCode)}get stateOrProvince(){return b(this.underlyingType,o.K.StateOrProvince)}get place(){return b(this.underlyingType,o.K.Place)}get latitude(){return b(this.underlyingType,o.K.Latitude)}get longitude(){return b(this.underlyingType,o.K.Longitude)}}class p{constructor(M,P){i.Y.assert(()=>!!M&&(0,t.Lt)(M,o.K.Miscellaneous),"type"),this.underlyingType=M,this.sparklineType=P}get image(){return b(this.underlyingType,o.K.Image)}get imageUrl(){return b(this.underlyingType,o.K.ImageUrl)}get webUrl(){return b(this.underlyingType,o.K.WebUrl)}get barcode(){return b(this.underlyingType,o.K.Barcode)}get sparkline(){if(b(this.underlyingType,o.K.Sparkline))return this.sparklineType}}Object.getOwnPropertyNames(p.prototype).forEach(V=>{"constructor"!==V&&Object.defineProperty(p.prototype,V,{enumerable:!0})});class l{constructor(M){i.Y.assert(()=>!!M&&(0,t.Lt)(M,o.K.Reference),"type"),this.underlyingType=M}get bookmark(){return b(this.underlyingType,o.K.BookmarkRef)}get bookmarkGroup(){return b(this.underlyingType,o.K.BookmarkGroupRef)}get section(){return b(this.underlyingType,o.K.SectionRef)}get perspective(){return b(this.underlyingType,o.K.PerspectiveRef)}get rowRefText(){return b(this.underlyingType,o.K.RowRefText)}}class u{constructor(M){i.Y.assert(()=>!!M&&(0,t.Lt)(M,o.K.Formatting),"type"),this.underlyingType=M}get color(){return b(this.underlyingType,o.K.Color)}get formatString(){return b(this.underlyingType,o.K.FormatString)}get alignment(){return b(this.underlyingType,o.K.Alignment)}get labelDisplayUnits(){return b(this.underlyingType,o.K.LabelDisplayUnits)}get displayUnitsWithoutAuto(){return b(this.underlyingType,o.K.DisplayUnitsWithoutAuto)}get fontFamily(){return b(this.underlyingType,o.K.FontFamily)}get fontSize(){return b(this.underlyingType,o.K.FontSize)}get altText(){return b(this.underlyingType,o.K.AltText)}get stylePreset(){return b(this.underlyingType,o.K.StylePreset)}get dashArray(){return b(this.underlyingType,o.K.DashArray)}}Object.getOwnPropertyNames(u.prototype).forEach(V=>{"constructor"!==V&&Object.defineProperty(u.prototype,V,{enumerable:!0})});var v={[a.W.Null]:"Null",[a.W.Text]:"Text",[a.W.Decimal]:"Decimal",[a.W.Double]:"Double",[a.W.Integer]:"Integer",[a.W.Boolean]:"Boolean",[a.W.Date]:"Date",[a.W.DateTime]:"DateTime",[a.W.DateTimeZone]:"DateTimeZone",[a.W.Time]:"Time",[a.W.Duration]:"Duration",[a.W.Binary]:"Binary",[a.W.None]:"None",[a.W.Variant]:"Variant",[a.W.Json]:"Json"},m={[o.K.Numeric]:"Numeric",[o.K.Temporal]:"Temporal",[o.K.Geography]:"Geography",[o.K.Miscellaneous]:"Miscellaneous",[o.K.Formatting]:"Formatting",[o.K.Scripting]:"Scripting",[o.K.Null]:"Null",[o.K.Text]:"Text",[o.K.Decimal]:"Decimal",[o.K.Double]:"Double",[o.K.Integer]:"Integer",[o.K.Boolean]:"Boolean",[o.K.Date]:"Date",[o.K.DateTime]:"DateTime",[o.K.DateTimeZone]:"DateTimeZone",[o.K.Time]:"Time",[o.K.Duration]:"Duration",[o.K.Binary]:"Binary",[o.K.None]:"None",[o.K.Variant]:"Variant",[o.K.Years]:"Years",[o.K.Years_Text]:"Years_Text",[o.K.Years_Integer]:"Years_Integer",[o.K.Years_Date]:"Years_Date",[o.K.Years_DateTime]:"Years_DateTime",[o.K.Months]:"Months",[o.K.Months_Text]:"Months_Text",[o.K.Months_Integer]:"Months_Integer",[o.K.Months_Date]:"Months_Date",[o.K.Months_DateTime]:"Months_DateTime",[o.K.PaddedDateTableDates]:"PaddedDateTableDates",[o.K.Quarters]:"Quarters",[o.K.Quarters_Text]:"Quarters_Text",[o.K.Quarters_Integer]:"Quarters_Integer",[o.K.Quarters_Date]:"Quarters_Date",[o.K.Quarters_DateTime]:"Quarters_DateTime",[o.K.DayOfMonth]:"DayOfMonth",[o.K.DayOfMonth_Text]:"DayOfMonth_Text",[o.K.DayOfMonth_Integer]:"DayOfMonth_Integer",[o.K.DayOfMonth_Date]:"DayOfMonth_Date",[o.K.DayOfMonth_DateTime]:"DayOfMonth_DateTime",[o.K.Address]:"Address",[o.K.City]:"City",[o.K.Continent]:"Continent",[o.K.Country]:"Country",[o.K.County]:"County",[o.K.Region]:"Region",[o.K.PostalCode]:"PostalCode",[o.K.PostalCode_Text]:"PostalCode_Text",[o.K.PostalCode_Integer]:"PostalCode_Integer",[o.K.StateOrProvince]:"StateOrProvince",[o.K.Place]:"Place",[o.K.Latitude]:"Latitude",[o.K.Latitude_Decimal]:"Latitude_Decimal",[o.K.Latitude_Double]:"Latitude_Double",[o.K.Longitude]:"Longitude",[o.K.Longitude_Decimal]:"Longitude_Decimal",[o.K.Longitude_Double]:"Longitude_Double",[o.K.Image]:"Image",[o.K.ImageUrl]:"ImageUrl",[o.K.WebUrl]:"WebUrl",[o.K.Barcode]:"Barcode",[o.K.Barcode_Text]:"Barcode_Text",[o.K.Barcode_Integer]:"Barcode_Integer",[o.K.Color]:"Color",[o.K.FormatString]:"FormatString",[o.K.Alignment]:"Alignment",[o.K.LabelDisplayUnits]:"LabelDisplayUnits",[o.K.DisplayUnitsWithoutAuto]:"DisplayUnitsWithoutAuto",[o.K.FontFamily]:"FontFamily",[o.K.AltText]:"AltText",[o.K.FontSize]:"FontSize",[o.K.Enumeration]:"Enumeration",[o.K.FlagsEnumeration]:"FlagsEnumeration",[o.K.ScriptSource]:"ScriptSource",[o.K.SearchEnabled]:"SearchEnabled",[o.K.BookmarkRef]:"BookmarkRef",[o.K.BookmarkGroupRef]:"BookmarkGroupRef",[o.K.SectionRef]:"SectionRef",[o.K.StylePreset]:"StylePreset",[o.K.DashArray]:"DashArray",[o.K.PerspectiveRef]:"PerspectiveRef",[o.K.Reference]:"Reference",[o.K.Json]:"Json",[o.K.Sparkline]:"Sparkline",[o.K.RowRefText]:"RowRefText"},g={Numeric:o.K.Numeric,Temporal:o.K.Temporal,Geography:o.K.Geography,Miscellaneous:o.K.Miscellaneous,Formatting:o.K.Formatting,Scripting:o.K.Scripting,Null:o.K.Null,Text:o.K.Text,Decimal:o.K.Decimal,Double:o.K.Double,Integer:o.K.Integer,Boolean:o.K.Boolean,Date:o.K.Date,DateTime:o.K.DateTime,DateTimeZone:o.K.DateTimeZone,Time:o.K.Time,Duration:o.K.Duration,Binary:o.K.Binary,None:o.K.None,Variant:o.K.Variant,Years:o.K.Years,Years_Text:o.K.Years_Text,Years_Integer:o.K.Years_Integer,Years_Date:o.K.Years_Date,Years_DateTime:o.K.Years_DateTime,Months:o.K.Months,Months_Text:o.K.Months_Text,Months_Integer:o.K.Months_Integer,Months_Date:o.K.Months_Date,Months_DateTime:o.K.Months_DateTime,PaddedDateTableDates:o.K.PaddedDateTableDates,Quarters:o.K.Quarters,Quarters_Text:o.K.Quarters_Text,Quarters_Integer:o.K.Quarters_Integer,Quarters_Date:o.K.Quarters_Date,Quarters_DateTime:o.K.Quarters_DateTime,DayOfMonth:o.K.DayOfMonth,DayOfMonth_Text:o.K.DayOfMonth_Text,DayOfMonth_Integer:o.K.DayOfMonth_Integer,DayOfMonth_Date:o.K.DayOfMonth_Date,DayOfMonth_DateTime:o.K.DayOfMonth_DateTime,Address:o.K.Address,City:o.K.City,Continent:o.K.Continent,Country:o.K.Country,County:o.K.County,Region:o.K.Region,PostalCode:o.K.PostalCode,PostalCode_Text:o.K.PostalCode_Text,PostalCode_Integer:o.K.PostalCode_Integer,StateOrProvince:o.K.StateOrProvince,Place:o.K.Place,Latitude:o.K.Latitude,Latitude_Decimal:o.K.Latitude_Decimal,Latitude_Double:o.K.Latitude_Double,Longitude:o.K.Longitude,Longitude_Decimal:o.K.Longitude_Decimal,Longitude_Double:o.K.Longitude_Double,Image:o.K.Image,ImageUrl:o.K.ImageUrl,WebUrl:o.K.WebUrl,Barcode:o.K.Barcode,Barcode_Text:o.K.Barcode_Text,Barcode_Integer:o.K.Barcode_Integer,Color:o.K.Color,FormatString:o.K.FormatString,Alignment:o.K.Alignment,LabelDisplayUnits:o.K.LabelDisplayUnits,DisplayUnitsWithoutAuto:o.K.DisplayUnitsWithoutAuto,FontFamily:o.K.FontFamily,AltText:o.K.AltText,FontSize:o.K.FontSize,Enumeration:o.K.Enumeration,FlagsEnumeration:o.K.FlagsEnumeration,ScriptSource:o.K.ScriptSource,SearchEnabled:o.K.SearchEnabled,BookmarkRef:o.K.BookmarkRef,BookmarkGroupRef:o.K.BookmarkGroupRef,SectionRef:o.K.SectionRef,StylePreset:o.K.StylePreset,DashArray:o.K.DashArray,PerspectiveRef:o.K.PerspectiveRef,Reference:o.K.Reference,Json:o.K.Json,Sparkline:o.K.Sparkline,RowRefText:o.K.RowRefText},E=255,D=65535,h=4294901760;function C(V){return V&E}function b(V,M){return(V&h)==(M&h)}},691988:function(ve,z,e){e.d(z,{N:function(){return Wt}});var a=e(233390),i=e(620455),r=e(30918),t=e(919971),o=e(558699),d=e(18122),n=e(266092),c=e(757406),s=e(620825),p=e(249584),l=e(816360),u=e(436151),v=e(976319);function D(_t){switch(_t){case p.Fl:return l.Oy.Satellite;case p.d8:return l.Oy.Night;case p.hF:return l.Oy.Road;case p.CM:return l.Oy.GrayscaleLight;case p.j8:return l.Oy.Road}return l.Oy.GrayscaleLight}function h(_t){return _.clamp(_t-1,0,22)}function C(_t,Mt,Dt){var[wt,Et]=Mt,[Ne,at]=Dt,St=Et-wt,Ct=at-Ne;if(0===St)throw new Error("Input range size must be greater than 0");return(_t-wt)/St*Ct+Ne}var y=e(371577),f=e(786890);function S(_t){var Mt=_.first(_t.dataViewMappings),Dt=[],Et=(0,f.pO)(Mt.table.rows);return _.isEmpty(Et)?{subjectKind:y.Nz.KPI,error:y.ZX.NoValidBindings,bindings:void 0}:(Dt.push(...Et),{subjectKind:y.Nz.KPI,error:void 0,bindings:Dt})}function b(_t){var Mt=_.first(_t.dataViewMappings),Dt=[],Et=(0,f.pO)(Mt.table.rows);return _.isEmpty(Et)?{subjectKind:y.Nz.KPI,error:y.ZX.NoValidBindings,bindings:void 0}:(Dt.push(...Et),{subjectKind:y.Nz.KPI,error:void 0,bindings:Dt})}function V(_t){return["Rows"]}var M=e(55684),P=e(625917),T=e(429943);function N(_t){var Mt={},Dt=_.head(_t?.categorical?.categories);return Dt&&(Mt.axisType=(0,M.wt)(_t.metadata.objects,T.De.categoryAxis.axisType,Dt.source.type,void 0,(0,P.Kp)(_t))?"scalar":"categorical"),Mt}function w(_t){return(0,f.JO)(_t,y.Nz.Cartesian)}var I=e(190593),O=e(140290);function x(_t){var Mt=_t.dataViewMappings[0];Mt&&(Mt.categorical?function(_t){var Mt=_t.dataViewMappings[0];if(Mt.categorical.categories){if(Mt.categorical.dataVolume=4,(0,M.ye)(Mt,!1)){Mt.categorical.categories.dataReductionAlgorithm={sample:{}};var wt=Mt.categorical.values;wt&&wt.group&&(wt.group.dataReductionAlgorithm={top:{}})}else(0,P.LF)([Mt]);(0,P.ek)(_t.dataViewMappings);var Et=F(_t);(0,P.Hq)(_t.dataViewMappings,Et)}}(_t):Mt.matrix&&function(_t){var Mt=_t.dataViewMappings[0];if((0,I.bV)(Mt)){if((0,M.ye)(Mt,!0)){(0,I.y0)(Mt,{sample:{}});var Dt=(0,I.FL)(Mt);(0,O.gI)([Dt],{min:!0,max:!0})}(0,O.Y_)(Mt,[T.bl.y]),(0,O.Ws)(Mt)}}(_t))}function F(_t){var Mt=_t.dataViewMappings[0];return(0,I.bV)(Mt)?function(_t){return[T.bl.rows,...(0,M.ye)(_t,!0)?[]:[T.bl.category],T.bl.y,T.bl.tooltips,T.bl.series]}(Mt):function(_t){if(!_t||!_t.categorical||!_t.categorical.categories)return null;var Dt=_t.categorical.categories.for.in,wt=Dt.items,Et=Dt.activeItems,Ne=["Category","Series","Y","Tooltips"];if(!_.isEmpty(wt)){var St,Ct;if(_t.metadata&&(St=_t.metadata.objects),_.isEmpty(Et))Ct=wt[0].type;else if(1===Et.length){var Rt=_.find(wt,jt=>jt.queryName===Et[0]);d.Y.assert(()=>!!Rt,"Item should always be defined"),Ct=Rt.type}else if(Et.length>1)return Ne;return(0,M.mV)(St,T.De.categoryAxis.axisType,Ct)?["Series"]:Ne}return null}(Mt)}function A(_t){_.isEmpty(_t.dataViewMappings)||(_t.dataViewMappings[0].matrix?function(_t){var Mt=_t.dataViewMappings[0];if((0,I.bV)(Mt)){if((0,M.ye)(Mt,!0)){(0,I.y0)(Mt,{sample:{}});var Dt=(0,I.FL)(Mt);(0,O.gI)([Dt],{min:!0,max:!0})}(0,O.Y_)(Mt,[T.VE.y,T.VE.y2]),(0,O.Ws)(Mt)}}(_t):function(_t){var Mt=!_.isEmpty(_t.dataViewMappings)&&_t.dataViewMappings[0],Dt=_t.dataViewMappings.length>1&&_t.dataViewMappings[1];K(Mt,Dt,_t.queryProperties);var wt=(0,M.ye)(Mt,!1);if(Mt&&Mt.categorical&&(Mt.categorical.dataVolume=4,wt)){Mt.categorical.categories.dataReductionAlgorithm={sample:{}};var Ne=Mt.categorical.values;Ne&&Ne.group&&(Ne.group.dataReductionAlgorithm={top:{}})}if(Dt&&Dt.categorical&&(Dt.categorical.dataVolume=4,wt)){Dt.categorical.categories.dataReductionAlgorithm={sample:{}};var St=Dt.categorical.values;St&&St.group&&(St.group.dataReductionAlgorithm={top:{}})}wt||(0,P.LF)(_t.dataViewMappings),(0,P.ek)(_t.dataViewMappings);var Ct=ne(_t);(0,P.Hq)(_t.dataViewMappings,Ct)}(_t))}function K(_t,Mt,Dt){if(_t&&Mt){var wt=_t.categorical&&_t.categorical.values,Et=wt.group&&!_.isEmpty(wt.group.select)&&wt.group.select[0];_.isEmpty(Et.for.in.items)&&!_.isEmpty(wt.group.by.items)&&(Dt?.hasVisualCalculations?wt.group.by.items.forEach(Ne=>{Ne.hidden=!0}):wt.group.by.items=void 0)}}function ne(_t){if(_t&&_t.dataViewMappings.length>0){var Mt=_t.dataViewMappings[0];if((0,I.bV)(Mt))return function(_t){return[T.VE.rows,...(0,M.ye)(_t,!0)?[]:[T.VE.category],T.VE.y,T.VE.y2,T.VE.tooltips,T.VE.series]}(Mt);if(!(0,M.ye)(Mt,!1))return["Category","Series","Y","Y2","Tooltips"]}return null}function k(_t){if(!_t||_.isEmpty(_t.dataViewMappings))return{subjectKind:y.Nz.Cartesian,error:y.ZX.NoValidBindings,bindings:void 0};var Mt=_t.dataViewMappings[0],Dt=_t.dataViewMappings[1];if(K(Mt,Dt),!(Mt&&Mt.categorical&&Mt.categorical.categories))return{subjectKind:y.Nz.Cartesian,error:y.ZX.NoValidBindings,bindings:void 0};var wt=(0,f.UF)(Mt);return wt.push(...(0,f.ss)(Mt)),Dt&&Dt.categorical&&Dt.categorical.categories&&wt.push(...(0,f.ss)(Dt)),_.isEmpty(wt)?{subjectKind:y.Nz.Cartesian,error:y.ZX.NoValidBindings,bindings:void 0}:{subjectKind:y.Nz.Cartesian,error:void 0,bindings:wt}}var L=e(693029),X=e(702794),Y=e(816030),Q=e(166157);function H(_t){var Mt=_.first(_t.dataViewMappings);d.Y.assertValue(Mt,"mapping");var Dt=(0,Y._W)(Mt.metadata.objects,Q.jm,void 0);null!=Dt&&(d.Y.assert(()=>Dt>0&&_.isInteger(Dt),"Invalid data reduction count"),Mt.table.rows.dataReductionAlgorithm={top:{count:Dt}});var wt=_.groupBy(_.filter(Mt.metadata.columns,Et=>!!Et?.objects?.columnOptions?.suppressJoinPredicate),Et=>Et.queryName);_.isEmpty(wt)||(0,X.UB)(Mt.table,{visitRole:Et=>{if(Et.role===Q.MJ.values)for(var Ne of Et.items)wt[Ne.queryName]&&(Ne.joinPredicate=L.gD.None)}})}var te=e(140318),ee=e(55128);function ue(_t){var Mt=_t.dataViewMappings[0];Mt&&Mt.matrix&&Mt.metadata&&(function(_t,Mt){var Dt=_t.metadata.columns,wt=Mt.rows.for.in.items;if(!_.isEmpty(wt))for(var Et=function(){var St=wt[Ne];if(!_.find(Dt,Rt=>Rt.queryName===St.queryName))return 1;St.subtotalType=te.y.Before},Ne=0,at=wt.length;Ne<at;Ne++)Et()}(Mt,Mt.matrix),_t.scopedAggregates&&function(_t){var Dt=_.find(_t.matrix.values.select,jt=>(0,O.OB)(jt)&&jt.for.in.role===ee.$X.analyze).for.in.items;if(!_.isEmpty(Dt)){var wt=_t.matrix.rows.for.in.items;if(!_.isEmpty(wt)&&(0,Y._W)(_t.metadata.objects,{objectName:ee.hC.dataBars,propertyName:ee.iL.dataBarScalingType},ee.R1.LevelMaximum)===ee.R1.LevelMaximum){for(var at of _t.metadata.columns)if(at.discourageAggregationAcrossGroups)return void d.Y.assertFail("Aggregates should not be computed across groups with different values of the column "+at.queryName);var St=Dt[0].queryName,Ct=wt.map(jt=>jt.queryName);_t.scopedAggregates=[{min:!0,max:!0,scope:[Ct[0]],queryName:St}];for(var Rt=0;Rt<wt.length-1;Rt++)wt[Rt].aggregates=[{min:!0,max:!0,scope:Ct.slice(0,Rt+2),queryName:St}]}}}(Mt),function(_t){var Mt=_t.matrix.rows.dataReductionAlgorithm;if(Mt&&Mt.topNPerLevel){var Dt=_t.metadata.objects,wt=(0,Y._W)(Dt,{objectName:ee.hC.tree,propertyName:ee.iL.responsiveLayout})??!0,Et=(0,Y._W)(Dt,{objectName:ee.hC.tree,propertyName:wt?ee.iL.effectiveBarsPerLevel:ee.iL.barsPerLevel},ee.lq.defaultValue);(Et<ee.lq.minValue||Et>ee.lq.maxValue)&&(Et=ee.lq.defaultValue),Mt.topNPerLevel.count=Et}}(Mt))}function ft(_t){return(0,f.JO)(_t,y.Nz.Hierarchical)}function mt(_t){var Mt=y.Nz.KPI,Dt=_.first(_t.dataViewMappings);if(!Dt||!Dt.categorical||!Dt.categorical.values)return{subjectKind:y.Nz.Cartesian,error:y.ZX.NoValidBindings,bindings:void 0};var wt=(0,f.ao)(Dt);return _.isEmpty(wt)?{subjectKind:Mt,error:y.ZX.NoValidBindings,bindings:void 0}:{subjectKind:Mt,error:void 0,bindings:wt}}function At(_t){return!_t||_.isEmpty(_t.dataViewMappings)?{keyDriversConfiguration:void 0,error:y.nQ.NoValidBindings}:{keyDriversConfiguration:Qe(_t.dataViewMappings),error:void 0}}function Qe(_t){d.Y.assertValue(_t,"compiledDataViewMappings");var Mt=_.first(_t),Dt=Mt.table,wt=Mt.metadata,Et=wt.objects,Ne=_.map(wt.columns,Dr=>Dr.queryName),at=Dt.rows,St=at.select[0],Ct=at.select[1];d.Y.assert(()=>1===St.bind.to.items.length,"There should be exactly one analyze item"),d.Y.assert(()=>Ct.for.in.items.length>=1,"There should be at least one explain by item");var Rt="keyDrivers",jt=_.first(St.bind.to.items).queryName,qt=_.map(Ct.for.in.items,Dr=>Dr.queryName),ir=_.filter(Ne,Dr=>jt!==Dr&&qt.indexOf(Dr)<0),cr=(0,Y._W)(Et,{objectName:Rt,propertyName:"targetValue"},void 0),gr=(0,Y._W)(Et,{objectName:Rt,propertyName:"selectedNumericAnalysis"},void 0),hr=(0,Y._W)(Et,{objectName:Rt,propertyName:"numericTargetSelectedKind"},void 0);return void 0!==hr&&0===hr?hr="Increase":void 0!==hr&&1===hr&&(hr="Decrease"),{analyzeQueryName:jt,explainByQueryNames:qt,expandByQueryNames:ir,targetValue:cr,numericTargetSelectedKind:hr,selectedNumericAnalysis:gr}}var Fe=e(615309),ye=e(386300),we=e(64589),Ee=[{objectProperty:we.rt.indicatorFontFamilyProp,defaultValue:(0,c.Qq)(Fe.Hx.lightSecondary.family)},{objectProperty:we.rt.goalFontSizeProp,defaultValue:(0,c.nd)(ye.zs)},{objectProperty:we.rt.goalFontFamilyProp,defaultValue:(0,c.Qq)(Fe.Hx.semibold.family)}];function Oe(_t){return(0,f.JO)(_t,y.Nz.KPI)}var he=e(688555),xe=e(111199),Se=e(31802),Ae=e(337965),Ie=e(149804),Pe=e(878907),Me=e(955111),Ge=e(30885);function De(_t){var Mt=_t.dataViewMappings[0];Mt&&(Mt.categorical?function(_t){var Mt=_t.dataViewMappings[0],Dt=Mt?.categorical;if(Dt&&Dt.categories){Dt.dataVolume=4;var wt=Dt.categories,Et=_.find(_t.dataViewMappings,Rt=>!!Rt.usage?.anomalyDetection);Et&&(function(_t,Mt){d.Y.assertValue(_t&&_t.dataReductionAlgorithm,"categorical dataReductionAlgorithm"),d.Y.assertValue(Mt&&Mt.categorical,"anomalyDetection.categorical");var Dt=_t.dataReductionAlgorithm.binnedLineSample;d.Y.assertValue(!Dt.count,"binnedLineSample.count should be undefined"),d.Y.assertValue(!Dt.warningCount,"binnedLineSample.warningCount should be undefined"),Dt.count=4900,Dt.warningCount=3500,Mt.categorical.dataReductionAlgorithm={binnedLineSample:{}};var wt=Mt.categorical.dataReductionAlgorithm.binnedLineSample;wt.count=Dt.count,wt.warningCount=Dt.warningCount}(Dt,Et),_.some(_t.dataViewMappings,Rt=>function(_t){return Ie.sh.check(Mt=>({metadata:Mt.check(_t&&_t.metadata,Ie.t2,Dt=>({columns:Mt.check(Dt.columns,le,Ie.D_),objects:Mt.check(Dt.objects,me,Ie.D_)})),categorical:Mt.check(_t.categorical,Ie.t2,Dt=>({categories:Mt.check(Dt.categories,xe.od,wt=>({for:Mt.check(wt.for,Ie.t2,Et=>({in:Mt.check(Et.in,Be,Ie.D_)}))})),values:Mt.check(Dt.values,xe.$i,wt=>({group:Mt.check(wt.group,Ie.t2,Et=>({by:Mt.check(Et.by,Ke,Ie.D_),select:Mt.check(Et.select,Xe,Ie.D_)}))}))}))}))}(Rt))||_.remove(_t.dataViewMappings,Rt=>Rt===Et));var Ne=!1;if((0,M.wD)(Mt.metadata.objects,T.De.categoryAxis.axisType)){Ne=(0,Se.f0)(Mt);var at=_.find(_t.dataViewMappings,Rt=>!!Rt.usage?.forecast);(0,X.Ax)(wt,{visitRole:Rt=>{lt(Rt,at,Et,!1)}})}if(!Ne&&!(0,M.ye)(Mt,!1)){_.remove(_t.dataViewMappings,Rt=>Rt.usage&&(Rt.usage.forecast||Rt.usage.anomalyDetection)),(0,Me.dP)(Mt,!1);var St=[Mt];(0,P.LF)(St);var Ct=It(_t);(0,P.Hq)(St,Ct)}(0,P.ek)(_t.dataViewMappings)}}(_t):Mt.matrix&&function(_t){var Mt=_t.dataViewMappings[0];if((0,I.bV)(Mt)){var Dt=!1;(0,M.wD)(Mt.metadata.objects,T.De.categoryAxis.axisType)&&(Dt=(0,Se.f0)(Mt),(0,X.ms)(Mt.matrix.rows,{visitRole:Ne=>{lt(Ne,void 0,void 0,!0)}}));var wt=(0,M.ye)(Mt,!0);if(Dt||wt){if(wt){var Et=(0,I.FL)(Mt);(0,O.gI)([Et],{min:!0,max:!0})}}else(0,Me.dP)(Mt,!0);(0,O.Y_)(Mt,[T.Cl.Y,T.Cl.Y2]),(0,O.Ws)(Mt)}}(_t))}function lt(_t,Mt,Dt,wt){if(_t.role===T.Cl.Category)for(var Et={data:[(0,he.WV)([...wt?[T.Cl.Rows]:[],T.Cl.Category])]},Ne=_t.items,at=0,St=_.size(Ne);at<St;at++){var Rt=Ne[at].scalarKeyInfo;if(Rt&&Rt.hasScalarKey){Rt.scalarKeyMinProperty=T.De.scalarKey.min,Rt.selector=Et,Mt&&Vt(Mt,Et,at),Dt&&Vt(Dt,Et,at);break}}}function Vt(_t,Mt,Dt){(0,X.Ax)(_t?.categorical?.categories,{visitRole:wt=>{wt.items[Dt].scalarKeyInfo||(wt.items[Dt].scalarKeyInfo={});var Et=wt.items[Dt].scalarKeyInfo;Et.scalarKeyMinProperty=T.De.scalarKey.min,Et.selector=Mt}})}function It(_t){var Mt=_t.dataViewMappings[0];return(0,I.bV)(Mt)?function(_t){return[T.Cl.Rows,...(0,M.ye)(_t,!0)?[]:[T.Cl.Category],T.Cl.Y,T.Cl.Tooltips,T.Cl.Series]}(Mt):function(_t){if(!_t||!_t.categorical||!_t.categorical.categories)return null;var Ne,at,Dt=_t.categorical.categories.for.in,wt=Dt.items,Et=Dt.activeItems;if(Ne=["Category","Series","Y","Y2","Tooltips"],at=["Series"],!_.isEmpty(wt)){var St,Ct;if(_t.metadata&&(St=_t.metadata.objects),(0,Se.f0)(_t)&&(0,M.wD)(St,T.De.categoryAxis.axisType))return at;if(_.isEmpty(Et))Ct=wt[0].type;else if(1===Et.length){var Rt=_.find(wt,jt=>jt.queryName===Et[0]);d.Y.assert(()=>!!Rt,"Item should always be defined"),Ct=Rt.type}else if(Et.length>1)return Ne;return(0,M.mV)(St,T.De.categoryAxis.axisType,Ct)?at:Ne}return null}(Mt)}function Ze(_t,Mt){var Dt=[],wt=[],Et=[],Ne=[],at=[],St={xIndex:void 0,yIndex:void 0};for(var Ct of _t?.selects)Ct?.roles[T.Cl.Series]&&Dt.push(Ct),Ct?.roles[T.Cl.Category]&&(wt.push(Ct),at.push(Ae.eV.fromDescriptor(Ct?.type))),Ct?.roles[T.Cl.Y]&&Et.push(Ct),Ct?.roles[T.Cl.Y2]&&Ne.push(Ct);if(function(_t,Mt,Dt){var wt=Dt[0],Et=(0,Se.vE)(wt?.categorical?.categories[0]),Ne=(0,M.wt)(wt?.metadata?.objects,T.De.categoryAxis.axisType,_t[0]?.type,Et,(0,P.Kp)(wt));return 1===_t.length||_t.length>1&&Ne&&_t[0]?.type?.temporal&&!Mt?.objects?.categoryAxis}(wt,_t,Mt)&&function(_t,Mt,Dt,wt){var Et=_.first(_t);return 1===Mt.length&&0===Dt.length&&0===wt.length&&(Et?.dateTime||Et?.numeric||Et?.temporal?.day||Et?.temporal?.year)&&!(Et?.temporal?.quarter||Et?.temporal?.month)}(at,Et,Ne,Dt)&&_t&&_t.roles&&_t.roles.ordering){if(_t.roles.ordering[T.Cl.Category]&&_t.roles.activeItems)for(var Rt=_.first(_t.roles.activeItems[T.Cl.Category])?.queryRef,jt=0;jt<_t.selects?.length;jt++)_t.selects[jt]?.queryName===Rt&&(St.xIndex=jt);_t.roles.ordering[T.Cl.Y]&&(St.yIndex=_.first(_t.roles.ordering[T.Cl.Y]))}return St}function le(_t){return _.some(_t,Mt=>!(!Mt.objects||!Mt.objects[Ge.Fn]||Mt.objects[T.wn.generic]||Mt.objects[T.Yp]))}function me(_t){if(!_t)return!0;var Mt=(0,Y._W)(_t,T.De.categoryAxis.axisType);return!Mt||Mt===Pe.G.scalar}function Be(_t){var Mt=_t.items,Dt=_t.activeItems;if(_.size(Mt)<1)return!1;if(1===_.size(Mt)){var wt=_.first(Mt).type;if(!wt||!wt.dateTime&&!wt.temporal?.year)return!1}else{var Et=_.size(Dt);if(Et<1)return!1;var Ne=_.last(Dt),at=_.find(Mt,Ct=>Ct.queryName===Ne);if(d.Y.assertValue(at,"invalidAnomalyDataViewMapping. Active projection must be part of category items"),!at)return!1;var St=at.type;if(1===Et&&!St?.temporal?.year)return!1;if(Et>1&&!St?.temporal||!at.scalarKeyInfo?.hasScalarKey)return!1}return!0}function Ke(_t){return!(_t.role===T.Cl.Series&&!_.isEmpty(_t.items))}function Xe(_t){var Mt=_t;if(!Mt)return!1;var Dt=_.find(Mt,Et=>Et.for.in.role===T.Cl.Y);if(!Dt||1!==_.size(Dt.for.in.items))return!1;var wt=_.find(Mt,Et=>Et.for.in.role===T.Cl.Y2);return!(wt&&!_.isEmpty(wt.for.in.items))}var re=e(65994),fe=e(737889);function ae(_t){var Mt=_t.dataViewMappings[0];if(Mt&&Mt.matrix&&Mt.metadata){var Dt=Mt.matrix;_.isEmpty(Dt.columns.for.in.items)||(Dt.rows.dataReductionAlgorithm.window.count=100);var wt=Mt.metadata.objects;Dt.rows.for.in.subtotalType=fe.iK.PropGeneralMatrixRowSubtotals.getValue(wt)?te.y.After:te.y.None,Dt.columns.for.in.subtotalType=fe.iK.PropGeneralMatrixColumnSubtotals.getValue(wt)?te.y.After:te.y.None}}function tt(_t){return["Rows","Values"]}function rt(_t){if(_t&&_t.dataViewMappings&&!_.isEmpty(_t.dataViewMappings))for(var Mt of _t.dataViewMappings)if(Mt.table){var Dt=Mt.table.rows;if(Dt&&Dt.for&&Dt.for.in&&Dt.for.in.items)return["Values"]}}function Re(_t){var Mt=_.first(_t.dataViewMappings),Dt=[];if(Mt&&Mt.table&&Mt.table.rows){var Et=(0,f.pO)(Mt.table.rows);return _.isEmpty(Et)?{subjectKind:y.Nz.KPI,error:y.ZX.NoValidBindings,bindings:void 0}:(Dt.push(...Et),{subjectKind:y.Nz.KPI,error:void 0,bindings:Dt})}}var J=e(124500),ce=e(964363);function Ce(_t){var Mt=_t.dataViewMappings[0];if(Mt&&Mt.matrix&&Mt.metadata){var Dt=Mt.matrix,wt=!_.isEmpty(Dt.columns.for.in.items);wt&&(Dt.rows.dataReductionAlgorithm.window.count=100);var Et=Dt.values;if(Et){var Ne=Et.for.in.items;_.some(Ne,at=>!!at.type?.misc?.sparkline)&&(Dt.rows.dataReductionAlgorithm.window.count=wt?50:100,wt&&(Dt.columns.dataReductionAlgorithm.top.count=25)),(0,O.hd)(Mt,Ne)}(function(_t,Mt){var Dt=_t.metadata.objects,wt=_t.metadata.columns,Et=Mt.rows.for.in.items,Ne=fe.iK.PropSubTotalsPivotTableRowSubtotals.getValue(Dt),at=fe.iK.PropSubTotalsPivotTableRowSubtotalsPosition.getValue(Dt)===ce.Mn?te.y.Before:te.y.After,St=fe.iK.PropSubTotalsPivotTableRowSubtotalsPerLevel.getValue(Dt);if(!_.isEmpty(Et))for(var Ct=function(){var qt=Et[Rt],ir=_.find(wt,yr=>yr.queryName===qt.queryName);if(!ir)return 1;var cr=fe.iK.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(ir.objects);if(!Ne||St&&!cr)qt.subtotalType=te.y.None;else{var gr=fe.iK.PropGeneralMatrixLayout.getValue(Dt),hr=void 0!==gr?gr===J.$.Compact:fe.iK.PropRowsSteppedLayout.getValue(Dt);qt.subtotalType=0===Rt&&hr?te.y.Before:at}},Rt=0,jt=Et.length;Rt<jt;Rt++)Ct()})(Mt,Dt),function(_t,Mt){var Dt=_t.metadata.objects,wt=_t.metadata.columns,Et=Mt.columns.for.in.items,Ne=fe.iK.PropSubTotalsPivotTableColumnSubtotals.getValue(Dt),at=fe.iK.PropSubTotalsPivotTableColumnSubtotalsPerLevel.getValue(Dt);if(!_.isEmpty(Et)){var St=function(Rt){var jt=_.find(wt,ir=>ir.queryName===Rt.queryName);if(!jt)return 1;var qt=fe.iK.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(jt.objects);Rt.subtotalType=!Ne||at&&!qt?te.y.None:te.y.After};for(var Ct of Et)St(Ct)}}(Mt,Dt)}}function yt(_t){return["Rows","Values"]}function Nt(_t){var Mt=_t.dataViewMappings[0];Mt&&Mt.table&&(Mt.table.rows.for.in.subtotalType=te.y.Before)}var Lt=[{objectProperty:T.De.valueAxis.showAxisTitle,defaultValue:(0,c.zM)(!1)}],zt=e(943509),Yt=e(283104),Qt=e(807779);function sr(_t){var Mt=_t.dataViewMappings[0];if(Mt&&Mt.matrix&&Mt.metadata){var Dt=Mt.matrix,wt=Mt.metadata.objects,Et=(0,Y._W)(wt,Qt.fA.ratioLine.strokeShow,!1),Ne=!1,at=!1,St=!1,Ct=[],Rt=Dt.rows;if(Rt&&!_.isEmpty(Rt.select))for(var jt of(d.Y.assert(()=>!!(Rt.dataReductionAlgorithm.bottom||Rt.dataReductionAlgorithm.sample||Rt.dataReductionAlgorithm.overlappingPointsSample),"invalid data reduction"),Rt.select)){var ir=jt;for(var cr of ir.composite?ir.composite:[jt]){(0,O.Cw)(cr)&&Ct.push(cr.bind.to),(0,O.OB)(cr)&&Ct.push(cr.for.in);var gr=Tt(cr);gr&&(Ne=!0,gr===T.Jl.y&&(at=!0),gr===T.Jl.x&&(St=!0))}}if(Et&&!Ne){for(var hr of Ct)hr.subtotalType=te.y.After;(0,O.OB)(Dt.columns)&&(Dt.columns.for.in.subtotalType=te.y.After)}var yr=Dt.rows.dataReductionAlgorithm,Dr=(0,Y._W)(wt,Qt.fA.general.dataVolume,null),Vr=(0,Y._W)(wt,T.De.categoryAxis.axisType)===Pe.G.categorical,$r=_.find(Ct,Fr=>Fr.role===T.Jl.x),Br=$r&&_.filter($r.items,Fr=>_.includes($r.activeItems,Fr.queryName)),la=_.size(Br),qr=0===la?void 0:1===la&&_.every(Br,Fr=>Fr.type&&(Fr.type.numeric||Fr.type.integer)),oe=_.find(Dt.values.select,Fr=>(0,O.Cw)(Fr)&&Fr.bind.to.role===T.Jl.x),Ve=oe&&(0,O.Cw)(oe)&&oe.bind.to,se=Ve?_.filter(Ve.items,Fr=>!Fr.hidden):[],gt=_.size(se),Bt=_.every(se,Fr=>Fr.type&&(Fr.type.numeric||Fr.type.integer));if(!St&&gt>1)return{error:{code:"DataViewMappingError_ScatterXMismatchType"}};if(at&&la>1)return{error:{code:"DataViewMappingError_ScatterYGroupedXDrilled"}};if(!St&&1===gt&&!Bt)return{error:{code:"DataViewMappingError_ScatterXIncorrectAggregate"}};if(Ne&&(Vr||!1===qr)){if(at)return{error:{code:Vr?"DataViewMappingError_ScatterYGroupedXCategoricalAxis":"DataViewMappingError_ScatterYGroupedXNonScalar"}};Dt.rows.dataReductionAlgorithm={window:{count:200}};var Xt=_.remove(Rt.select,Fr=>(0,O.Cw)(Fr)&&Fr.bind.to.role===T.Jl.series);d.Y.assert(()=>1===Xt.length,"series mapping should be removed");var tr=Xt[0];tr&&tr.bind&&(Dt.columns={for:{in:tr.bind.to},dataReductionAlgorithm:{top:{count:60}}})}else yr?.overlappingPointsSample?((0,Y._W)(wt,T.De.categoryAxis.logAxisScale)&&(yr.overlappingPointsSample.x.transform=zt.Xx.Log),(0,Y._W)(wt,T.De.valueAxis.logAxisScale)&&(yr.overlappingPointsSample.y.transform=zt.Xx.Log),null!=Dr&&(yr.overlappingPointsSample.count=Dr)):yr?.sample&&null!=Dr&&(yr.sample.count=Dr)}}function je(_t){if(_.find(_t.dataViewMappings,Dt=>Dt.matrix?.rows?.dataReductionAlgorithm?.window))return[T.Jl.x,T.Jl.y,T.Jl.series]}function Tt(_t){var Mt;return(0,O.Cw)(_t)?Mt=_t.bind.to.role:(0,O.OB)(_t)&&(Mt=_t.for.in.role),Mt===T.Jl.x?T.Jl.x:Mt===T.Jl.y?T.Jl.y:void 0}function Kt(_t){return{hasSize:(0,Yt.zv)(_t,"Size"),hasPlayAxis:(0,Yt.zv)(_t,"Play")}}function nr(_t){var Mt=_.first(_t.dataViewMappings);return Mt&&Mt.matrix?(0,f.mI)(Mt.matrix,y.Nz.Scatter):Mt&&Mt.categorical&&Mt.categorical.categories?(0,f.JO)(_t,y.Nz.Scatter):{subjectKind:y.Nz.Scatter,error:y.ZX.NoValidBindings,bindings:void 0}}var ar=e(243569),$e=e(782777),pt=e(434076),Ut=e(153954),$t=e(33936),or=e(6120),vr=e(223303),mr=e(708589);function Mr(_t){return[mr.E0.value,vr.qg.Tooltips]}function Lr(_t){if(!_.isEmpty(_t.dataViewMappings)){var Mt=_t.dataViewMappings[0];if(Mt&&Mt.metadata){var Dt=Ur(Mt)||[];if(Mt.matrix&&Mt.matrix.rows){var wt=Mt.matrix.rows.for.in.items;if(!_.isEmpty(wt)){var Et=function(at){if(!_.find(Dt,Ct=>Ct.queryName===at.queryName))return 1;at.subtotalType=te.y.Before};for(var Ne of wt)Et(Ne)}}}}}function Ur(_t){return _t.metadata?_t.metadata.columns:null}function Yr(_t){return(0,or.V7)(_t,{merge:[],remove:[],replace:[]},{objectName:mr.NK.general.filter.objectName,selector:null,properties:{[mr.NK.general.filter.propertyName]:_t.filterToApply}})}function Kr(_t){var{dataViewMappings:Mt,filterForFieldParameter:Dt}=_t,wt=Mt[0];if(wt&&wt.metadata){var Et=Ur(wt);if(!_.isEmpty(Et))return!Dt&&_.some(Et,Ne=>Ne.roles&&Ne.roles[mr.E0.label])?y.$O.HighlightFilter:y.$O.DataFilter}}function Hr(_t){_t.dataViewMappings[0].updateType=L.FU.MetadataOnly}function Gr(_t){var Mt=_t.dataViewMappings[0];Mt&&Mt.table&&Mt.metadata&&(Mt.table.rows.for.in.subtotalType=fe.iK.PropGeneralTableTotals.getValue(Mt.metadata.objects)?te.y.Before:te.y.None)}function Wr(_t){return["Values"]}var Or=e(917334);function ra(_t){var Mt=_t.dataViewMappings[0];if(Mt&&Mt.table&&Mt.metadata){var Dt=Mt.table.rows,wt=Dt.for.in.items;_.some(wt,Ne=>!!Ne.type?.misc?.sparkline)&&(Mt.table.rows.dataReductionAlgorithm.window.count=100),Dt.for.in.subtotalType=fe.iK.PropTotalTableExTotals.getValue(Mt.metadata.objects)?te.y.Before:te.y.None,(0,O.hd)(Mt,wt)}}function Xr(_t){return["Values"]}function aa(_t){var Mt=_t.dataViewMappings[0];if(Mt&&Mt.matrix){var Dt=Mt.matrix;Dt.columns&&Dt.columns.for&&Dt.columns.for.in&&(Dt.columns.for.in.subtotalType=te.y.Before)}}function jr(_t){return[T.vu.category,T.vu.y,T.vu.tooltips]}var Cr=e(993513),Ir=e(936622),ia={dataRoles:[{name:Ir.o.rows,kind:L.Ts.Grouping,displayName:(0,n.D)("Role_DisplayName_Rows"),description:(0,n.D)("Role_DisplayName_RowsDescription")},{name:Ir.o.columns,kind:L.Ts.Grouping,displayName:(0,n.D)("Role_DisplayName_Columns"),description:(0,n.D)("Role_DisplayName_ColumnsDescription")},{name:Ir.o.values,kind:L.Ts.Measure,displayName:(0,n.D)("Role_DisplayName_Values")}],objects:{general:{displayName:(0,n.D)("Visual_General"),properties:{formatString:Cr.SP.formatString}}},dataViewMappings:[{matrix:{rows:{for:{in:Ir.o.rows},dataReductionAlgorithm:{top:{count:3e3}}},columns:{for:{in:Ir.o.columns},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:Ir.o.values}}}}]},Rr=e(221411),zr=e(242442),Zr={objects:{general:{properties:{formatString:Cr.SP.formatString}}},dataViewMappings:[{single:{role:"Values"}}],supportsSelection:!1},na=e(550967),Nr=e(993491),br=e(687655),Qr=e(228603),kr=e(638761),wr=e(795273),Pt=e(545532),nt=e(752150),_e=e(383251),ke=e(142810),dt=e(858830),xt=e(50053),dr=e(467655),Sr=e(502275),fr=e(924672),Zt={dataRoles:[{name:"Category",kind:L.Ts.Grouping,displayName:(0,n.D)("Role_DisplayName_Axis"),description:(0,n.D)("Role_DisplayName_AxisDescription"),requiredTypes:[{numeric:!0},{dateTime:!0}],cartesianKind:L.Xk.X},{name:"Series",kind:L.Ts.Grouping,displayName:(0,n.D)("Role_DisplayName_Legend"),description:(0,n.D)("Role_DisplayName_LegendDescription")},{name:"Y",kind:L.Ts.Measure,displayName:(0,n.D)("Role_DisplayName_Values"),description:(0,n.D)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:L.Xk.Y}],objects:{general:{displayName:(0,n.D)("Visual_General"),properties:{formatString:Cr.SP.formatString,responsive:Cr.SP.responsive,responsiveLegacy:Cr.SP.responsiveLegacy}},legend:{displayName:(0,n.D)("Visual_Legend"),description:(0,n.D)("Visual_LegendDescription"),properties:{show:Cr.SP.show,position:Cr.SP.legendPosition,showTitle:Cr.SP.showLegendTitle,titleText:{...Cr.SP.legendTitle,suppressFormatPainterCopy:!0},labelColor:Cr.SP.genericColor,fontSize:Cr.SP.fontSize}},categoryAxis:{displayName:(0,n.D)("Visual_XAxis"),properties:{show:Cr.SP.show,axisType:Cr.SP.axisType,showAxisTitle:Cr.SP.showAxisTitle_X,axisStyle:Cr.SP.axisStyle,labelColor:Cr.SP.genericColor,labelDisplayUnits:Cr.SP.labelDisplayUnits,labelPrecision:Cr.SP.labelPrecision,duration:{type:{numeric:!0}}}},valueAxis:{displayName:(0,n.D)("Visual_YAxis"),properties:{show:Cr.SP.show,showAxisTitle:Cr.SP.showAxisTitle_Y,axisStyle:Cr.SP.axisStyle,labelColor:Cr.SP.genericColor,labelDisplayUnits:Cr.SP.labelDisplayUnits,labelPrecision:Cr.SP.labelPrecision}},dataPoint:{displayName:(0,n.D)("Visual_DataPoint"),description:(0,n.D)("Visual_DataPointDescription"),properties:{defaultColor:Cr.SP.defaultColor,fill:Cr.SP.fill}},plotArea:Cr.rg.plotArea},dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{for:{in:"Y"}}],dataReductionAlgorithm:{top:{}}}}}}],sorting:{implicit:{clauses:[{role:"Category",direction:fr.U.Ascending}]}}},Er=e(382901),Le={dataRoles:[{name:"Values",kind:L.Ts.GroupingOrMeasure,displayName:(0,n.D)("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}},suppressVisualCalc:!0},be=e(262422),Z=e(354233),ie=e(966517),Ue=e(605911),st=e(538915),ht=e(390864),bt={actionButton:Rr.tc,aiNarratives:(0,zr.G)(),animatedNumber:Zr,areaChart:(0,Me.Hx)(!1,!0),barChart:(0,br.LH)(!0,!0),basicShape:pt.s,advancedSlicer:(0,vr.LO)(y.$F.Tile),listSlicer:(0,vr.LO)(y.$F.List),textSlicer:(0,ht.qR)(),shape:Ut.Ko,card:na.t,cardVisual:(0,Nr.l$)(),multiRowCard:ke.U,clusteredBarChart:(0,br.LH)(!0),clusteredColumnChart:(0,br.LH)(),columnChart:(0,br.LH)(!1,!0),donutChart:(0,kr.du)(),funnel:(0,wr.$w)(),gauge:Pt.uD,hundredPercentStackedBarChart:(0,br.LH)(!0,!0),hundredPercentStackedColumnChart:(0,br.LH)(!1,!0),ribbonChart:(0,br.LH)(!1,!0,!0),image:nt.cH,lineChart:(0,Me.Hx)(!1,!1),stackedAreaChart:(0,Me.Hx)(!0,!0),lineStackedColumnComboChart:(0,Qr.p)(!0),lineClusteredColumnComboChart:(0,Qr.p)(!1),map:(0,v.$J)(),filledMap:(0,u.Vy)(),azureMap:(0,l.mD)(),shapeMap:(0,be.a)(),treemap:(0,Ue.LX)(),pieChart:(0,kr.du)(),scatterChart:(0,Qt.X6)(),table:(0,Z.J)(),matrix:Ir.w,slicer:(0,mr.ts)(),pageNavigator:dt.WT,bookmarkNavigator:dt.Xr,textbox:ie.Hp,waterfallChart:(0,st.B)(),heatMap:(0,v.$J)(),scriptVisual:Le,pythonVisual:{dataRoles:[{name:"Values",kind:L.Ts.GroupingOrMeasure,displayName:(0,n.D)("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}}},kpi:(0,we.Ve)(),realTimeLineChart:Zt,accessibleTable:ia,pivotTableCapabilities:(0,xt.h)(),keyDrivers:(0,_e.RH)(),decompositionTree:ee.oo,qnaVisual:dr.Hy,dataQueryVisual:Q.x0,scorecard:Er.T,rdlVisual:Sr.px},Ft=()=>{throw new Error("plugins.ts: 'Create' function is deprecated")},Jt=!1,Wt=function(){if(Jt)return r.q;var Dt,_t={actionButton:{name:i.U.actionButton,titleKey:(0,n.D)("Button"),capabilities:bt.actionButton,create:Ft,createES6:(Dt=(0,a.A)(function*(){var{ActionButton:wt}=yield Promise.all([e.e(15),e.e("BasicShapeVisual")]).then(e.bind(e,753471));return new wt}),function(){return Dt.apply(this,arguments)})},animatedNumber:{name:i.U.animatedNumber,capabilities:bt.animatedNumber,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{AnimatedNumber:wt}=yield Promise.all([e.e(15),e.e("SingleValueVisuals")]).then(e.bind(e,20777));return new wt});return function(){return Dt.apply(this,arguments)}}()},areaChart:{name:i.U.areaChart,watermarkKey:"area",titleKey:(0,n.D)("AreaChart_ToolTip"),capabilities:bt.areaChart,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(wt){var{CartesianChart:Et}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new Et({chartType:t.Bb.Area,featureSwitches:wt.featureSwitches})});return function(Et){return Dt.apply(this,arguments)}}(),customizeQuery:De,getSortableRoles:It,getAdditionalTelemetry:N,getNarrativeSummaryBindings:w},barChart:{name:i.U.barChart,watermarkKey:"bar",titleKey:(0,n.D)("BarChart_ToolTip"),capabilities:bt.barChart,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(wt){var{CartesianChart:Et}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new Et({chartType:t.Bb.StackedBar,featureSwitches:wt.featureSwitches})});return function(Et){return Dt.apply(this,arguments)}}(),customizeQuery:x,getSortableRoles:F,getAdditionalTelemetry:N,getNarrativeSummaryBindings:w},basicShape:{name:i.U.basicShape,titleKey:(0,n.D)("BasicShape_ToolTip"),capabilities:bt.basicShape,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{BasicShape:wt}=yield Promise.all([e.e(15),e.e("BasicShapeVisual")]).then(e.bind(e,753471));return new wt});return function(){return Dt.apply(this,arguments)}}()},shape:{name:i.U.shape,titleKey:(0,n.D)("BasicShape_ToolTip"),capabilities:bt.shape,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{Shape:wt}=yield Promise.all([e.e(15),e.e("ShapeVisual")]).then(e.bind(e,776702));return new wt});return function(){return Dt.apply(this,arguments)}}(),getCustomizeConvertTo:(Dt,wt,Et)=>function(_t){if("basicShape"===_t)return{objects:{[$t.X7.fill]:{[$t.K9.fillColor]:{transform:Mt=>Mt??(0,c.yW)(null,"backgroundLight"),transformArgs:[{identifier:pt.M.fill.fillColor}],targetSelector:{id:Ut.eC.default}},[$t.K9.fillTransparency]:{transformArgs:[{identifier:pt.M.fill.transparency}],targetSelector:{id:Ut.eC.default}}},[$t.X7.outline]:{[$t.K9.outlineColor]:{transform:Mt=>Mt??(0,c.Bg)(2,0),transformArgs:[{identifier:pt.M.line.lineColor}],targetSelector:{id:Ut.eC.default}},[$t.K9.outlineWeight]:{transform:Mt=>Mt??(0,c.nd)(3),transformArgs:[{identifier:pt.M.line.weight}],targetSelector:{id:Ut.eC.default}},[$t.K9.outlineTransparency]:{transformArgs:[{identifier:pt.M.line.transparency}],targetSelector:{id:Ut.eC.default}}},[$t.X7.shape]:{[$t.K9.tileShape]:{transform:Mt=>{if(Mt&&(0,s.VO)(Mt)){var Dt;switch(Mt.value){case ar.YC:Dt=$e.c.Rectangle;break;case ar.n7:Dt=$e.c.Oval;break;case ar.n8:Dt=$e.c.Line;break;case ar.UE:Dt=$e.c.Arrow;break;case ar.zX:Dt=$e.c.TriangleIsoc;break;default:Dt=$e.c.Rectangle}return(0,c.Qq)(Dt)}},transformArgs:[{identifier:pt.M.general.shapeType}]},[$t.K9.shapeRounding]:{transformArgs:[{identifier:pt.M.line.roundEdge}]}},[Ut.xX.rotation]:{[$t.K9.shapeRotation]:{transform:(Mt=(0,c.nd)(0),Dt)=>{if(!Dt)return Mt;if((0,s.VO)(Mt)&&(0,s.VO)(Dt)){var Et,wt=Mt.value;switch(Dt.value){case ar.n8:Et=(wt+90)%360;break;case ar.UE:Et=(wt+270)%360;break;default:Et=wt}return(0,c.nd)(Et)}d.Y.assertFail("CustomizeConvert shape: unsupported SQExpr type")},transformArgs:[{identifier:pt.M.rotation.angle},{identifier:pt.M.general.shapeType}]},[Ut.yi.rotation]:{transform:()=>{}}}}}}(Dt)},card:{name:i.U.card,watermarkKey:"card",titleKey:(0,n.D)("Card_ToolTip"),titleInSentenceKey:(0,n.D)("Card_Visual_InSentenceCase"),capabilities:bt.card,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{createCard:wt}=yield Promise.all([e.e(15),e.e("SingleValueVisuals")]).then(e.bind(e,20777));return wt(void 0)});return function(){return Dt.apply(this,arguments)}}(),getNarrativeSummaryBindings:S},cardVisual:{name:i.U.cardVisual,watermarkKey:"cardVisual",titleKey:(0,n.D)("Card_ToolTip_New"),titleInSentenceKey:(0,n.D)("Card_Visual_New_InSentenceCase"),capabilities:bt.cardVisual,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{CardVisual:wt}=yield Promise.all([e.e(12),e.e(15),e.e("CardVisual")]).then(e.bind(e,904886));return new wt(void 0)});return function(){return Dt.apply(this,arguments)}}(),module:{css:["cardVisual"]},getSortableRoles:V,getNarrativeSummaryBindings:b},multiRowCard:{name:i.U.multiRowCard,watermarkKey:"multiRowCard",titleKey:(0,n.D)("MultiRowCard_ToolTip"),titleInSentenceKey:(0,n.D)("MultiRowCard_Visual_InSentenceCase"),capabilities:bt.multiRowCard,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{MultiRowCard:wt}=yield Promise.all([e.e(15),e.e("MultiRowCardVisual")]).then(e.bind(e,136433));return new wt(void 0)});return function(){return Dt.apply(this,arguments)}}(),getSortableRoles:rt,getNarrativeSummaryBindings:Re},clusteredBarChart:{name:i.U.clusteredBarChart,watermarkKey:"clusteredBar",titleKey:(0,n.D)("ClusteredBarChart_ToolTip"),capabilities:bt.clusteredBarChart,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(wt){var{CartesianChart:Et}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new Et({chartType:t.Bb.ClusteredBar,featureSwitches:wt.featureSwitches})});return function(Et){return Dt.apply(this,arguments)}}(),customizeQuery:x,getSortableRoles:F,getAdditionalTelemetry:N,getNarrativeSummaryBindings:w},clusteredColumnChart:{name:i.U.clusteredColumnChart,watermarkKey:"clusteredColumn",titleKey:(0,n.D)("ClusteredColumnChart_ToolTip"),capabilities:bt.clusteredColumnChart,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(wt){var{CartesianChart:Et}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new Et({chartType:t.Bb.ClusteredColumn,featureSwitches:wt.featureSwitches})});return function(Et){return Dt.apply(this,arguments)}}(),customizeQuery:x,getSortableRoles:F,getAdditionalTelemetry:N,getNarrativeSummaryBindings:w},columnChart:{name:i.U.columnChart,watermarkKey:"column",titleKey:(0,n.D)("ColumnChart_ToolTip"),capabilities:bt.columnChart,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(wt){var{CartesianChart:Et}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new Et({chartType:t.Bb.StackedColumn,featureSwitches:wt.featureSwitches})});return function(Et){return Dt.apply(this,arguments)}}(),customizeQuery:x,getSortableRoles:F,getAdditionalTelemetry:N,getNarrativeSummaryBindings:w},donutChart:{name:i.U.donutChart,watermarkKey:"donut",titleKey:(0,n.D)("DonutChart_ToolTip"),capabilities:bt.donutChart,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{DonutChart:wt}=yield Promise.all([e.e(15),e.e("DonutChartVisuals")]).then(e.bind(e,949290));return new wt(void 0)});return function(){return Dt.apply(this,arguments)}}(),getNarrativeSummaryBindings:ft},funnel:{name:i.U.funnel,watermarkKey:"funnel",titleKey:(0,n.D)("Funnel_ToolTip"),capabilities:bt.funnel,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{FunnelChart:wt}=yield Promise.all([e.e(15),e.e("FunnelChartVisual")]).then(e.bind(e,308577));return new wt(void 0)});return function(){return Dt.apply(this,arguments)}}()},gauge:{name:i.U.gauge,watermarkKey:"gauge",titleKey:(0,n.D)("Gauge_ToolTip"),capabilities:bt.gauge,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{Gauge:wt}=yield Promise.all([e.e(15),e.e("SingleValueVisuals")]).then(e.bind(e,20777));return new wt(void 0,void 0)});return function(){return Dt.apply(this,arguments)}}(),getNarrativeSummaryBindings:mt},hundredPercentStackedBarChart:{name:i.U.hundredPercentStackedBarChart,watermarkKey:"100stackedbar",titleKey:(0,n.D)("HundredPercentStackedBarChart_ToolTip"),capabilities:bt.hundredPercentStackedBarChart,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(wt){var{CartesianChart:Et}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new Et({chartType:t.Bb.HundredPercentStackedBar,featureSwitches:wt.featureSwitches})});return function(Et){return Dt.apply(this,arguments)}}(),customizeQuery:x,getSortableRoles:F,getAdditionalTelemetry:N,getNarrativeSummaryBindings:w},hundredPercentStackedColumnChart:{name:i.U.hundredPercentStackedColumnChart,watermarkKey:"100stackedcolumn",titleKey:(0,n.D)("HundredPercentStackedColumnChart_ToolTip"),capabilities:bt.hundredPercentStackedColumnChart,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(wt){var{CartesianChart:Et}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new Et({chartType:t.Bb.HundredPercentStackedColumn,featureSwitches:wt.featureSwitches})});return function(Et){return Dt.apply(this,arguments)}}(),customizeQuery:x,getSortableRoles:F,getAdditionalTelemetry:N,getNarrativeSummaryBindings:w},image:{name:i.U.image,watermarkKey:"image",titleKey:(0,n.D)("Image"),capabilities:bt.image,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{ImageVisual:wt}=yield e.e("ImageVisual").then(e.bind(e,437114));return new wt});return function(){return Dt.apply(this,arguments)}}()},lineChart:{name:i.U.lineChart,watermarkKey:"line",titleKey:(0,n.D)("LineChart_ToolTip"),capabilities:bt.lineChart,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(wt){var{CartesianChart:Et}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new Et({chartType:t.Bb.Line,featureSwitches:wt.featureSwitches})});return function(Et){return Dt.apply(this,arguments)}}(),customizeQuery:De,getSortableRoles:It,getAdditionalTelemetry:N,getNarrativeSummaryBindings:w,getDataDrivenAlertCapabilities:Ze},lineStackedColumnComboChart:{name:i.U.lineStackedColumnComboChart,watermarkKey:"combo",titleKey:(0,n.D)("LineStackedColumnComboChart_ToolTip"),capabilities:bt.lineStackedColumnComboChart,customizeQuery:A,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(wt){var{CartesianChart:Et}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new Et({chartType:t.Bb.LineStackedColumnCombo,featureSwitches:wt.featureSwitches})});return function(Et){return Dt.apply(this,arguments)}}(),getSortableRoles:ne,getAdditionalTelemetry:N,getNarrativeSummaryBindings:k},lineClusteredColumnComboChart:{name:i.U.lineClusteredColumnComboChart,watermarkKey:"combo",titleKey:(0,n.D)("LineClusteredColumnComboChart_ToolTip"),capabilities:bt.lineClusteredColumnComboChart,customizeQuery:A,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(wt){var{CartesianChart:Et}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new Et({chartType:t.Bb.LineClusteredColumnCombo,featureSwitches:wt.featureSwitches})});return function(Et){return Dt.apply(this,arguments)}}(),getSortableRoles:ne,getAdditionalTelemetry:N,getNarrativeSummaryBindings:k},map:{name:i.U.map,watermarkKey:"map",titleKey:(0,n.D)("Map_ToolTip"),capabilities:bt.map,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{Map:wt}=yield Promise.all([e.e(15),e.e("MapVisuals")]).then(e.bind(e,350540));return new wt({filledMap:!1})});return function(){return Dt.apply(this,arguments)}}(),customizeQuery:re.wf,getNarrativeSummaryBindings:re.fY},filledMap:{name:i.U.filledMap,watermarkKey:"filledMap",titleKey:(0,n.D)("FilledMap_ToolTip"),capabilities:bt.filledMap,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{Map:wt}=yield Promise.all([e.e(15),e.e("MapVisuals")]).then(e.bind(e,350540));return new wt({filledMap:!0})});return function(){return Dt.apply(this,arguments)}}()},azureMap:{name:i.U.azureMap,watermarkKey:"azureMap",titleKey:(0,n.D)("AzureMap_ToolTip"),capabilities:bt.azureMap,module:{css:["azureMapVisuals"]},create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{AzureMap:wt}=yield Promise.all([e.e(12),e.e(15),e.e("AzureMapVisuals")]).then(e.bind(e,35799));return new wt(void 0)});return function(){return Dt.apply(this,arguments)}}(),getCustomizeConvertTo:(Dt,wt,Et)=>function(_t,Mt){if(Mt.azureMapsConversion){if("map"===_t)return{skipRoleMapping:!0,objects:{[l.D.mapControls]:{[l.cH.defaultStyle]:{transformArgs:[{identifier:v.rr.mapStyles.mapTheme}],transform:_t=>{if(!_t||!(0,s.VO)(_t))return(0,c.Qq)(D(p.j8));var Mt=D(_t.value);return(0,c.Qq)(Mt)}},[l.cH.showLabels]:{transformArgs:[{identifier:v.rr.mapStyles.showLabels}]},[l.cH.autoZoom]:{transformArgs:[{identifier:v.rr.mapControls.autoZoom}]},[l.cH.zoom]:{transformArgs:[{identifier:v.rr.mapControls.zoomLevel}],transform:_t=>{if(_t&&(0,s.VO)(_t)){var Dt=h(_t.value);return(0,c.nd)(Dt)}}},[l.cH.centerLatitude]:{transformArgs:[{identifier:v.rr.mapControls.centerLatitude}]},[l.cH.centerLongitude]:{transformArgs:[{identifier:v.rr.mapControls.centerLongitude}]},[l.cH.showStylePicker]:{transform:()=>(0,c.zM)(!1)},[l.cH.showNavigationControls]:{transformArgs:[{identifier:v.rr.mapControls.showZoomButtons}],transform:_t=>_t||(0,c.zM)(!1)},[l.cH.showSelectionControl]:{transformArgs:[{identifier:v.rr.mapControls.showLassoButton}],transform:_t=>_t||(0,c.zM)(!1)}},dataPoint:{showAllDataPoints:{transformArgs:[{identifier:v.rr.dataPoint.showAllDataPoints}]},fill:{transformArgs:[{identifier:v.rr.dataPoint.fill}]}},[l.D.bubbleLayer]:{[l.cH.show]:{transformArgs:[{identifier:v.rr.heatMap.show}],transform:_t=>_t&&(0,s.VO)(_t)&&_t.value?(0,c.zM)(!1):(0,c.zM)(!0)},[l.cH.bubbleRadius]:{transformArgs:[{identifier:v.rr.bubbles.bubbleSize}],transform:_t=>{(!_t||!(0,s.VO)(_t))&&(_t=(0,c.nd)(1));var wt=C(_t.value,[-30,100],[.6,24]);return(0,c.nd)(Math.round(wt))}},[l.cH.minBubbleRadius]:{transformArgs:[{identifier:v.rr.bubbles.bubbleSize}],transform:_t=>{(!_t||!(0,s.VO)(_t))&&(_t=(0,c.nd)(1));var Mt=[-30,50],Et=C(_.clamp(_t.value,Mt[0],Mt[1]),Mt,[.6,15]);return(0,c.nd)(Math.round(Et))}},[l.cH.maxRadius]:{transformArgs:[{identifier:v.rr.bubbles.bubbleSize}],transform:_t=>{(!_t||!(0,s.VO)(_t))&&(_t=(0,c.nd)(1));var Mt=[-30,50],Et=C(_.clamp(_t.value,Mt[0],Mt[1]),Mt,[2,50]);return(0,c.nd)(Math.round(Et))}},[l.cH.markerRangeType]:{transformArgs:[{identifier:v.rr.bubbles.markerRangeType}],transform:_t=>{if(_t&&(0,s.VO)(_t)&&_t.value)return(0,c.Qq)(_t.value)}},[l.cH.bubbleStrokeWidth]:{transform:()=>(0,c.nd)(1)},[l.cH.autoStrokeColor]:{transform:()=>(0,c.zM)(!0)},[l.cH.layerPosition]:{transform:()=>(0,c.Qq)(l.zp.AboveLabels)}},[l.D.categoryLabels]:{[l.cH.show]:{transformArgs:[{identifier:v.rr.categoryLabels.show},{identifier:v.rr.heatMap.show}],transform:(_t,Mt)=>Mt&&(0,s.VO)(Mt)&&Mt.value?(0,c.zM)(!1):_t},color:{transformArgs:[{identifier:v.rr.categoryLabels.color}]},fontFamily:{transformArgs:[{identifier:v.rr.categoryLabels.fontFamily}]},fontSize:{transformArgs:[{identifier:v.rr.categoryLabels.fontSize}]},bold:{transformArgs:[{identifier:v.rr.categoryLabels.bold}]},italic:{transformArgs:[{identifier:v.rr.categoryLabels.italic}]},underline:{transformArgs:[{identifier:v.rr.categoryLabels.underline}]},enableBackground:{transformArgs:[{identifier:v.rr.categoryLabels.enableBackground}]},backgroundColor:{transformArgs:[{identifier:v.rr.categoryLabels.backgroundColor}]},backgroundTransparency:{transformArgs:[{identifier:v.rr.categoryLabels.backgroundTransparency}]}},[l.D.heatMapLayer]:{[l.cH.show]:{transformArgs:[{identifier:v.rr.heatMap.show}]},[l.cH.heatMapRadius]:{transformArgs:[{identifier:v.rr.heatMap.filterRadius}]},[l.cH.heatMapRadiusUnit]:{transformArgs:[{identifier:v.rr.heatMap.unit}]},[l.cH.mapTransparency]:{transformArgs:[{identifier:v.rr.heatMap.transparency}]},[l.cH.heatMapColorLow]:{transformArgs:[{identifier:v.rr.heatMap.color0}]},[l.cH.heatMapColorCenter]:{transformArgs:[{identifier:v.rr.heatMap.color50}]},[l.cH.heatMapColorHigh]:{transformArgs:[{identifier:v.rr.heatMap.color100}]}}}};if("filledMap"===_t)return{skipRoleMapping:!0,objects:{dataPoint:{showAllDataPoints:{transformArgs:[{identifier:u.Xt.dataPoint.showAllDataPoints}]},fill:{transformArgs:[{identifier:u.Xt.dataPoint.fill}]}},[l.D.mapControls]:{[l.cH.defaultStyle]:{transformArgs:[{identifier:v.rr.mapStyles.mapTheme}],transform:_t=>{if(!_t||!(0,s.VO)(_t))return(0,c.Qq)(D(p.j8));var Mt=D(_t.value);return(0,c.Qq)(Mt)}},[l.cH.showLabels]:{transformArgs:[{identifier:v.rr.mapStyles.showLabels}]},[l.cH.autoZoom]:{transformArgs:[{identifier:u.Xt.mapControls.autoZoom}]},[l.cH.zoom]:{transformArgs:[{identifier:u.Xt.mapControls.zoomLevel}],transform:_t=>{if(_t&&(0,s.VO)(_t)){var Dt=h(_t.value);return(0,c.nd)(Dt)}}},[l.cH.centerLatitude]:{transformArgs:[{identifier:u.Xt.mapControls.centerLatitude}]},[l.cH.centerLongitude]:{transformArgs:[{identifier:u.Xt.mapControls.centerLongitude}]},[l.cH.showStylePicker]:{transform:()=>(0,c.zM)(!1)},[l.cH.showNavigationControls]:{transformArgs:[{identifier:u.Xt.mapControls.showZoomButtons}],transform:_t=>_t||(0,c.zM)(!1)},[l.cH.showSelectionControl]:{transformArgs:[{identifier:u.Xt.mapControls.showLassoButton}],transform:_t=>_t||(0,c.zM)(!1)}},[l.D.categoryLabels]:{[l.cH.show]:{transform:()=>(0,c.zM)(!1)}},[l.D.bubbleLayer]:{[l.cH.show]:{transform:()=>(0,c.zM)(!1)}},[l.D.filledMap]:{[l.cH.show]:{transform:()=>(0,c.zM)(!0)},[l.cH.defaultColor]:{transformArgs:[{identifier:u.Xt.dataPoint.defaultColor}]},[l.cH.mapTransparency]:{transform:()=>(0,c.nd)(40)}}}}}}(Dt,Et)},ribbonChart:{name:i.U.ribbonChart,watermarkKey:"ribbon",titleKey:(0,n.D)("RibbonChart_ToolTip"),capabilities:bt.ribbonChart,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(wt){var{CartesianChart:Et}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new Et({chartType:t.Bb.RibbonChart,featureSwitches:wt.featureSwitches})});return function(Et){return Dt.apply(this,arguments)}}(),stampHardcodedDefaultObjects:Lt,customizeQuery:x,getSortableRoles:F,getAdditionalTelemetry:N,getNarrativeSummaryBindings:w},shapeMap:{name:i.U.shapeMap,watermarkKey:"shapeMap",titleKey:(0,n.D)("ShapeMap_ToolTip"),capabilities:bt.shapeMap,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{ShapeMap:wt}=yield Promise.all([e.e(15),e.e("ShapeMapVisual")]).then(e.bind(e,52140));return new wt(void 0)});return function(){return Dt.apply(this,arguments)}}()},treemap:{name:i.U.treemap,watermarkKey:"tree",titleKey:(0,n.D)("Treemap_ToolTip"),capabilities:bt.treemap,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{Treemap:wt}=yield Promise.all([e.e(15),e.e("TreemapVisual")]).then(e.bind(e,791300));return new wt(void 0)});return function(){return Dt.apply(this,arguments)}}()},pieChart:{name:i.U.pieChart,watermarkKey:"pie",titleKey:(0,n.D)("PieChart_ToolTip"),capabilities:bt.pieChart,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{DonutChart:wt}=yield Promise.all([e.e(15),e.e("DonutChartVisuals")]).then(e.bind(e,949290));return new wt({isPieChart:!0})});return function(){return Dt.apply(this,arguments)}}(),getNarrativeSummaryBindings:ft},realTimeLineChart:{name:i.U.realTimeLineChart,watermarkKey:"line",titleKey:(0,n.D)("LineChart_ToolTip"),capabilities:bt.realTimeLineChart,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(wt){var{CartesianChart:Et}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new Et({chartType:t.Bb.RealTimeLineChart,featureSwitches:wt.featureSwitches})});return function(Et){return Dt.apply(this,arguments)}}(),getAdditionalTelemetry:N},scatterChart:{name:i.U.scatterChart,watermarkKey:"scatterplot",titleKey:(0,n.D)("ScatterChart_ToolTip"),capabilities:bt.scatterChart,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(wt){var{CartesianChart:Et}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new Et({chartType:t.Bb.Scatter,featureSwitches:wt.featureSwitches})});return function(Et){return Dt.apply(this,arguments)}}(),customizeQuery:sr,getSortableRoles:je,getAdditionalTelemetry:Kt,getNarrativeSummaryBindings:nr},stackedAreaChart:{name:i.U.stackedAreaChart,watermarkKey:"stackedarea",titleKey:(0,n.D)("StackedAreaChart_ToolTip"),capabilities:bt.stackedAreaChart,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(wt){var{CartesianChart:Et}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new Et({chartType:t.Bb.StackedArea,featureSwitches:wt.featureSwitches})});return function(Et){return Dt.apply(this,arguments)}}(),customizeQuery:De,getSortableRoles:It,getAdditionalTelemetry:N,getNarrativeSummaryBindings:w},hundredPercentStackedAreaChart:{name:i.U.hundredPercentStackedAreaChart,watermarkKey:"stacked100area",titleKey:(0,n.D)("HundredPercentStackedAreaChart_ToolTip"),capabilities:bt.stackedAreaChart,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(wt){var{CartesianChart:Et}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new Et({chartType:t.Bb.HundredPercentStackedArea,featureSwitches:wt.featureSwitches})});return function(Et){return Dt.apply(this,arguments)}}(),customizeQuery:De,getSortableRoles:It,getAdditionalTelemetry:N,getNarrativeSummaryBindings:w},table:{name:i.U.table,watermarkKey:"table",titleKey:(0,n.D)("Table_ToolTip"),titleInSentenceKey:(0,n.D)("Table_Visual_InSentenceCase"),capabilities:bt.table,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{Table:wt}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,84141));return new wt});return function(){return Dt.apply(this,arguments)}}(),customizeQuery:Gr,getSortableRoles:Wr},matrix:{name:i.U.matrix,watermarkKey:"matrix",titleKey:(0,n.D)("Matrix_ToolTip"),titleInSentenceKey:(0,n.D)("Matrix_Visual_InSentenceCase"),capabilities:bt.matrix,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{Matrix:wt}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,84141));return new wt});return function(){return Dt.apply(this,arguments)}}(),customizeQuery:ae,getSortableRoles:tt},tableEx:{name:i.U.tableEx,watermarkKey:"table",titleKey:(0,n.D)("Table_ToolTip"),titleInSentenceKey:(0,n.D)("Table_Visual_InSentenceCase"),capabilities:(0,Or.o)(),create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{TableEx:wt}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,84141));return new wt(void 0,void 0)});return function(){return Dt.apply(this,arguments)}}(),customizeQuery:ra,getSortableRoles:Xr,module:{css:["pivotTableVisuals"]}},pivotTable:{name:i.U.pivotTable,watermarkKey:"matrix",titleKey:(0,n.D)("Matrix_ToolTip"),titleInSentenceKey:(0,n.D)("Matrix_Visual_InSentenceCase"),capabilities:bt.pivotTableCapabilities,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{PivotTable:wt}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,84141));return new wt(void 0,void 0)});return function(){return Dt.apply(this,arguments)}}(),customizeQuery:Ce,getSortableRoles:yt,module:{css:["pivotTableVisuals"]}},accessibleTable:{name:i.U.accessibleTable,watermarkKey:"matrix",capabilities:bt.accessibleTable,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{AccessibleTable:wt}=yield Promise.all([e.e(12),e.e(15),e.e("AccessibleTableVisual")]).then(e.bind(e,329303));return new wt});return function(){return Dt.apply(this,arguments)}}(),module:{css:["accessibleTableVisual"]}},slicer:{name:i.U.slicer,watermarkKey:"slicer",titleKey:(0,n.D)("Slicer_ToolTip"),capabilities:bt.slicer,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(wt){var{Slicer:Et}=yield Promise.all([e.e(15),e.e("SlicerVisual")]).then(e.bind(e,428553));return new Et({featureSwitches:wt.featureSwitches})});return function(Et){return Dt.apply(this,arguments)}}(),customizeQuery:or.wf,getSortableRoles:or.iw,customizeDefaultFilterAction:or.VC,mergeObjects:or.rL,customizeVisualAuthoringOperations:or.Pu,tryCreateFilterObjectsToPersist:or.vK},advancedSlicerVisual:{name:i.U.advancedSlicerVisual,watermarkKey:"buttonSlicer",titleKey:(0,n.D)("ButtonSlicer_Tooltip"),capabilities:bt.advancedSlicer,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{createAdvancedSlicer:wt}=yield Promise.all([e.e(15),e.e("AdvancedSlicerVisual")]).then(e.bind(e,759939));return wt(void 0)});return function(){return Dt.apply(this,arguments)}}(),getSortableRoles:Mr,module:{css:["advancedSlicerVisual"]},tryCreateFilterObjectsToPersist:Yr,customizeDefaultFilterAction:Kr},textSlicer:{name:i.U.textSlicer,watermarkKey:"textSlicer",titleKey:(0,n.D)("TextSlicerVisual_Tooltip"),capabilities:bt.textSlicer,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{TextSlicer:wt}=yield Promise.all([e.e(12),e.e("TextSlicerVisual")]).then(e.bind(e,38941));return new wt});return function(){return Dt.apply(this,arguments)}}(),module:{css:["textSlicerVisual"]},customizeQuery:Hr},listSlicer:{name:i.U.listSlicer,watermarkKey:"listSlicer",titleKey:(0,n.D)("ListSlicerVisual_Tooltip"),capabilities:bt.listSlicer,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{createAdvancedSlicer:wt}=yield Promise.all([e.e(15),e.e("AdvancedSlicerVisual")]).then(e.bind(e,759939));return wt(void 0)});return function(){return Dt.apply(this,arguments)}}(),getSortableRoles:Mr,module:{css:["advancedSlicerVisual"]},customizeQuery:Lr,tryCreateFilterObjectsToPersist:Yr},pageNavigator:{name:i.U.pageNavigator,titleKey:(0,n.D)("Visual_PageNavigator"),capabilities:bt.pageNavigator,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{createNavigator:wt}=yield Promise.all([e.e(15),e.e("NavigatorVisuals")]).then(e.bind(e,200187));return wt({navigatorType:o.E.Page})});return function(){return Dt.apply(this,arguments)}}()},bookmarkNavigator:{name:i.U.bookmarkNavigator,titleKey:(0,n.D)("Visual_BookmarkNavigator"),capabilities:bt.bookmarkNavigator,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{createNavigator:wt}=yield Promise.all([e.e(15),e.e("NavigatorVisuals")]).then(e.bind(e,200187));return wt({navigatorType:o.E.Bookmark})});return function(){return Dt.apply(this,arguments)}}()},filterSlicer:{name:i.U.filterSlicer,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{Slicer:wt}=yield Promise.all([e.e(15),e.e("SlicerVisual")]).then(e.bind(e,428553));return new wt(void 0)});return function(){return Dt.apply(this,arguments)}}(),capabilities:bt.slicer,customizeQuery:or.wf,getSortableRoles:or.iw,customizeDefaultFilterAction:or.VC,mergeObjects:or.rL,customizeVisualAuthoringOperations:or.Pu,tryCreateFilterObjectsToPersist:or.vK},textbox:{name:i.U.textbox,titleKey:(0,n.D)("Textbox"),capabilities:bt.textbox,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{Textbox:wt}=yield Promise.all([e.e(12),e.e(15),e.e("TextboxVisual")]).then(e.bind(e,395603));return new wt(void 0)});return function(){return Dt.apply(this,arguments)}}(),supportsSummarization:!0,summarizationMessage:(0,n.D)("SmartNarratives_InitializationMessage")},aiNarratives:{name:i.U.aiNarratives,titleKey:(0,n.D)("Narrative"),capabilities:bt.aiNarratives,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{AINarratives:wt}=yield Promise.all([e.e(15),e.e("AINarrativesVisual")]).then(e.bind(e,540213));return new wt});return function(){return Dt.apply(this,arguments)}}(),module:{css:["aiNarrativesVisual"]},getCustomizeConvertTo:Dt=>function(_t){if("textbox"===_t)return{objects:{[zr.WV.narrativeSelection.dismissSelectionScreen.objectName]:{[zr.WV.narrativeSelection.dismissSelectionScreen.propertyName]:{transform:()=>(0,c.zM)(!0)}}}}}(Dt)},waterfallChart:{name:i.U.waterfallChart,watermarkKey:"waterfall",titleKey:(0,n.D)("WaterfallChart_ToolTip"),capabilities:bt.waterfallChart,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(wt){var{CartesianChart:Et}=yield Promise.all([e.e(15),e.e("CartesianVisuals")]).then(e.bind(e,315019));return new Et({chartType:t.Bb.Waterfall,featureSwitches:wt.featureSwitches})});return function(Et){return Dt.apply(this,arguments)}}(),customizeQuery:aa,getSortableRoles:jr,getAdditionalTelemetry:N},scriptVisual:{name:i.U.scriptVisual,watermarkKey:"scriptvisual",titleKey:(0,n.D)("ScriptVisual_ToolTip"),capabilities:bt.scriptVisual,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{ScriptVisual:wt}=yield e.e("ScriptVisual").then(e.bind(e,318178));return new wt});return function(){return Dt.apply(this,arguments)}}()},pythonVisual:{name:i.U.pythonVisual,watermarkKey:"pythonvisual",titleKey:(0,n.D)("PythonVisual_ToolTip"),capabilities:bt.pythonVisual,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{ScriptVisual:wt}=yield e.e("ScriptVisual").then(e.bind(e,318178));return new wt});return function(){return Dt.apply(this,arguments)}}()},kpi:{name:i.U.kpi,watermarkKey:"kpi",titleKey:(0,n.D)("kpi_Tooltip"),capabilities:bt.kpi,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{KPIStatusWithHistory:wt}=yield Promise.all([e.e(15),e.e("KpiVisual")]).then(e.bind(e,743094));return new wt(void 0)});return function(){return Dt.apply(this,arguments)}}(),stampHardcodedDefaultObjects:Ee,getNarrativeSummaryBindings:Oe},keyDriversVisual:{name:i.U.keyDriversVisual,watermarkKey:"keyDrivers",titleKey:(0,n.D)("KeyDriver_Tooltip"),capabilities:bt.keyDrivers,create:Dt=>Dt.module.createAnalysisVisual(),getAnalysisVisualNarrativeSummaryConfiguration:At},decompositionTreeVisual:{name:i.U.decompositionTreeVisual,watermarkKey:"decompositionTree",titleKey:(0,n.D)("DecompositionTree_Tooltip"),capabilities:bt.decompositionTree,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{DecompositionTree:wt}=yield Promise.all([e.e(15),e.e("DecompositionTreeVisual")]).then(e.bind(e,773445));return new wt});return function(){return Dt.apply(this,arguments)}}(),customizeQuery:ue},qnaVisual:{name:i.U.qnaVisual,capabilities:bt.qnaVisual,create:Dt=>Dt.module.createQnaVisual(),titleKey:(0,n.D)("Generic_Qna")},scorecard:{name:i.U.scorecard,watermarkKey:"scorecard",titleKey:(0,n.D)("Scorecard_Visual_Tooltip"),capabilities:bt.scorecard,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{Scorecard:wt}=yield Promise.all([e.e(15),e.e("ScorecardVisual")]).then(e.bind(e,34679));return new wt});return function(){return Dt.apply(this,arguments)}}(),module:{css:["scorecardVisual"]}},rdlVisual:{name:i.U.rdlVisual,titleKey:(0,n.D)("RdlVisual_ToolTip"),capabilities:bt.rdlVisual,create:Ft,createES6:function(){var Dt=(0,a.A)(function*(){var{RdlVisual:wt}=yield Promise.all([e.e(15),e.e("RdlVisual")]).then(e.bind(e,655945));return new wt});return function(){return Dt.apply(this,arguments)}}(),module:{css:["rdlVisual"]},customizeQuery:Nt},dataQueryVisual:{name:i.U.dataQueryVisual,capabilities:bt.dataQueryVisual,create:()=>{d.Y.assertFail("This visual should not be created")},customizeQuery:H},heatMap:{name:"heatMap",capabilities:bt.map,create:()=>{throw new Error("pluginsNotForOSS.ts: 'Create' function is deprecated")},createES6:function(){var Dt=(0,a.A)(function*(){var{Map:wt}=yield Promise.all([e.e(15),e.e("MapVisuals")]).then(e.bind(e,350540));return new wt({filledMap:!1})});return function(){return Dt.apply(this,arguments)}}()}};for(var Mt in _t)r.q[Mt]=_t[Mt];return Jt=!0,r.q}()},30918:function(ve,z,e){function a(t,o){r[t]=o}e.d(z,{Z:function(){return a},q:function(){return r}});var t,r=(t={},window.powerbi||(window.powerbi={}),window.powerbi.visuals||(window.powerbi.visuals={}),window.powerbi.visuals.plugins?t=window.powerbi.visuals.plugins:window.powerbi.visuals.plugins=t,t)},286509:function(ve,z,e){e.d(z,{y:function(){return a}});var a=(()=>{class i{static get defaults(){return{duration:250,easing:d3.easeCubicInOut,suppressed:!1,suppressFullToFull:!0}}constructor(t){this.options=t,this.flow=void 0,this.options=_.defaults(t,i.defaults),this.options.duration=Math.max(0,this.options.duration)}get duration(){return this.suppressed?0:this.options.duration}get suppressed(){return this.options.suppressed}get easing(){return this.options.easing}get isActive(){return this.duration>0}get isSuppressed(){return this.suppressed}suppress(t=!0){return this.options.suppressed=t,this}transition(t,o={},d={}){return this.isActive?t.transition().duration(this.duration).ease(this.easing).call(n=>Object.entries(o).reduce((c,[s,p])=>c.attrTween(s,p),n)).call(n=>Object.entries(d).reduce((c,[s,p])=>c.styleTween(s,p),n)):t.interrupt().call(n=>Object.entries(o).reduce((c,[s,p])=>c.attr(s,(l,u,v)=>p.call(v[u],l,u,v)(1)),n)).call(n=>Object.entries(d).reduce((c,[s,p])=>c.style(s,(l,u,v)=>p.call(v[u],l,u,v)(1)),n))}FullToHighlighted(){return this.isHighlighted()&&!this.wasHighlighted()}HighlightedToFull(){return this.wasHighlighted()&&!this.isHighlighted()}HighlightedToHighlighted(){return this.wasHighlighted()&&this.isHighlighted()}FullToFull(){return!this.wasHighlighted()&&!this.isHighlighted()}hasSelection(){return!!(this.flow&i.Bit_HasSelection)}hadSelection(){return!!(this.flow&i.Bit_HasSelection<<i.BitArraySize)}isHighlighted(){return!!(this.flow&i.Bit_Highlighted)}wasHighlighted(){return!!(this.flow&i.Bit_Highlighted<<i.BitArraySize)}highlightOverflows(){return!!(this.flow&i.Bit_HighlightOverflows)}didHighlightOverflow(){return!!(this.flow&i.Bit_HighlightOverflows<<i.BitArraySize)}isFiltered(){return!!(this.flow&i.Bit_Filtered)}wasFiltered(){return!!(this.flow&i.Bit_Filtered<<i.BitArraySize)}advanceFlow(t=!1,o=!1,d,n=!1){this.suppress(t||null===this.flow||this.didHighlightOverflow()||n),this.flow=this.flow<<i.BitArraySize|(o&&i.Bit_Highlighted)|(n&&i.Bit_HighlightOverflows)|(d?.hasSelection()&&i.Bit_HasSelection),this.options.suppressFullToFull&&this.FullToFull()&&this.suppress(!0)}}return i.BitArraySize=16,i.Bit_Highlighted=1,i.Bit_HighlightOverflows=2,i.Bit_HasSelection=4,i.Bit_Filtered=8,i})()},133895:function(ve,z,e){e.d(z,{BY:function(){return t},U:function(){return i},bi:function(){return r}});var a=e(286509),i=1e3;function r(o,d){return d||!o?0:o.getDuration()}class t{constructor(d){d&&d.duration&&(this.animationDuration=d.duration),this.animationDuration=this.animationDuration>=0?this.animationDuration:a.y.defaults.duration}getDuration(){return this.animationDuration}animate(d){return null}getEasing(){return a.y.defaults.easing}}},221411:function(ve,z,e){e.d(z,{VX:function(){return c},bd:function(){return s},d5:function(){return d},tc:function(){return l}});var a=e(319842),i=e(266092),r=e(993513),t=e(42006),o=e(33936),d={fill:o.Ct.fill,outline:o.Ct.outline,text:t.GA.text,icon:t.GA.icon,shape:o.Ct.shape,shadow:o.Ct.shadow,glow:o.Ct.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},n_fill=o.X7.fill,n_outline=o.X7.outline,n_text=t.pP.text,n_icon=t.pP.icon,n_shape=o.X7.shape,n_shadow=o.X7.shadow,n_glow=o.X7.glow,n_rotation="rotation",c={...o.K9,...t.q,rotation:"angle"},s={default:"default",hover:"hover",selected:"selected",disabled:"disabled",loading:"loading"},l={objects:{[n_fill]:o.ZX.fill,[n_outline]:o.ZX.outline,[n_text]:t.Vo.text,[n_icon]:t.Vo.icon,[n_shape]:o.ZX.shape,[n_shadow]:o.ZX.shadow,[n_glow]:o.ZX.glow,[n_rotation]:{displayName:(0,i.D)("Visual_BasicShape_Rotate"),properties:{[c.rotation]:r.SP.genericRotation,[c.shapeRotation]:r.SP.shapeRotation,[c.textRotation]:r.SP.textRotation}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:a.A.Button,disableFormatMode:!0}},223303:function(ve,z,e){e.d(z,{$f:function(){return D},Dt:function(){return x},JF:function(){return O},LO:function(){return f},Nr:function(){return j},Tb:function(){return w},at:function(){return u},qg:function(){return l},uv:function(){return N},wR:function(){return U}});var a=e(693029),i=e(266092),r=e(802053),t=e(415592),o=e(993513),d=e(708589),n=e(33936),c=e(613552),s=e(904143),p=e(371577),l={Tooltips:"Tooltips"},u={accentBar:"accentBar",altText:"altText",textRotation:"textAngle",field:"field",fill:n.X7.fillCustom,fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",outline:n.X7.outline,shapeCustomRectangle:n.X7.shapeCustomRectangle,layout:"layout",shadowCustom:n.X7.shadowCustom,glowCustom:n.X7.glowCustom,verticalAlignment:"verticalAlignment",overFlow:"overFlow",Rotation:"textAngle",rotation:"rotation",cards:"cards",icon:"icon",image:"image",imageType:"imageType",imageUrl:"imageUrl",imageAreaSize:"imageAreaSize",isHorizontal:"isHorizontal",isPaginated:"isPaginated",iconType:"iconType",iconUrl:"iconUrl",ignorePadding:"ignorePadding",imageFit:"imageFit",angle:"angle",position:"position",padding:"padding",setAsBackGround:"setAsBackGround",shapeRotation:"shapeAngle",color:"color",width:"width",size:"size",spacing:"spacing",text:"text",transparency:"transparency",saturation:"saturation",blur:"blur",background:"background",wrapContent:"wrapContent",indentation:"indentation",reverseIndentation:"reverseIndentation",containerIndentation:"containerIndentation",fixedButtonsCount:"fixedButtonsCount"},v={icon:{show:{objectName:"icon",propertyName:"show"},iconType:{objectName:"icon",propertyName:"iconType"},icon:{objectName:"icon",propertyName:"icon"},iconUrl:{objectName:"icon",propertyName:"iconUrl"},transparency:{objectName:"icon",propertyName:"transparency"},position:{objectName:"icon",propertyName:"position"},padding:{objectName:"icon",propertyName:"padding"},size:{objectName:"icon",propertyName:"size"},altText:{objectName:"icon",propertyName:"altText"}},image:{image:{objectName:"image",propertyName:"image"},imageFit:{objectName:"image",propertyName:"imageFit"},transparency:{objectName:"image",propertyName:"transparency"},saturation:{objectName:"image",propertyName:"saturation"},blur:{objectName:"image",propertyName:"blur"},position:{objectName:"image",propertyName:"position"},ignorePadding:{objectName:"image",propertyName:"ignorePadding"},setAsBackGround:{objectName:"image",propertyName:"setAsBackGround"},padding:{objectName:"image",propertyName:"padding"},size:{objectName:"image",propertyName:"size"},altText:{objectName:"image",propertyName:"altText"},imageAreaSize:{objectName:"image",propertyName:"imageAreaSize"}},overFlow:{isHorizontal:{objectName:"overFlow",propertyName:"isHorizontal"},isPaginated:{objectName:"overFlow",propertyName:"isPaginated"}},background:{show:{objectName:"background",propertyName:"show"},transparency:{objectName:"background",propertyName:"transparency"},color:{objectName:"background",propertyName:"color"},wrapContent:{objectName:"background",propertyName:"wrapContent"}},layout:{...n.Ct.layout,style:{objectName:"layout",propertyName:"style"},customizeLines:{objectName:"layout",propertyName:"customizeLines"},lineStyle:{objectName:"layout",propertyName:"lineStyle"},lineTransparency:{objectName:"layout",propertyName:"lineTransparency"},lineWidth:{objectName:"layout",propertyName:"lineWidth"},lineColor:{objectName:"layout",propertyName:"lineColor"},gridlineStyle:{objectName:"layout",propertyName:"gridlineStyle"},gridlineTransparency:{objectName:"layout",propertyName:"gridlineTransparency"},gridlineWidth:{objectName:"layout",propertyName:"gridlineWidth"},gridlineColor:{objectName:"layout",propertyName:"gridlineColor"},borderStyle:{objectName:"layout",propertyName:"borderStyle"},borderTransparency:{objectName:"layout",propertyName:"borderTransparency"},borderWidth:{objectName:"layout",propertyName:"borderWidth"},borderColor:{objectName:"layout",propertyName:"borderColor"},rectangleRoundedCurveCustomStyle:{objectName:"layout",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"layout",propertyName:"rectangleRoundedCurve"},rectangleRoundedCurveLeftTop:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"layout",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveRightBottom"},backgroundShow:{objectName:"layout",propertyName:"backgroundShow"},backgroundFillColor:{objectName:"layout",propertyName:"backgroundFillColor"},backgroundTransparency:{objectName:"layout",propertyName:"backgroundTransparency"},backgroundImage:{objectName:"layout",propertyName:"backgroundImage"},backgroundImageTransparency:{objectName:"layout",propertyName:"backgroundImageTransparency"}},selectionIcon:{color:{objectName:"selectionIcon",propertyName:"color"},overlayPosition:{objectName:"selectionIcon",propertyName:"overlayPosition"},overlayToggle:{objectName:"selectionIcon",propertyName:"overlayToggle"},position:{objectName:"selectionIcon",propertyName:"position"},size:{objectName:"selectionIcon",propertyName:"size"},show:{objectName:"selectionIcon",propertyName:"show"},showIconByState:{objectName:"selectionIcon",propertyName:"showIconByState"},spacing:{objectName:"selectionIcon",propertyName:"spacing"},transparency:{objectName:"selectionIcon",propertyName:"transparency"},verticalAlignment:{objectName:"selectionIcon",propertyName:"verticalAlignment"}},expansionIcon:{color:{objectName:"expansionIcon",propertyName:"color"},position:{objectName:"expansionIcon",propertyName:"position"},size:{objectName:"expansionIcon",propertyName:"size"},spacing:{objectName:"expansionIcon",propertyName:"spacing"},transparency:{objectName:"expansionIcon",propertyName:"transparency"},verticalAlignment:{objectName:"expansionIcon",propertyName:"verticalAlignment"}},actionState:{isCalloutValueAdvanced:{objectName:"actionState",propertyName:"isCalloutValuesAdvanced"},isImageAdvanced:{objectName:"actionState",propertyName:"isImageAdvanced"},isSelectionIconAdvanced:{objectName:"actionState",propertyName:"isSelectionIconAdvanced"},isExpansionIconAdvanced:{objectName:"actionState",propertyName:"isExpansionIconAdvanced"},isButtonsAdvanced:{objectName:"actionState",propertyName:"IsButtonsAdvanced"}}},m={show:o.SP.show,[u.iconType]:{displayName:(0,i.D)("Button_Icon_Type"),type:{enumeration:r.Hq}},[u.icon]:o.SP.image,[u.iconUrl]:{displayName:(0,i.D)("Image_Url"),type:{text:!0}},[u.transparency]:o.SP.backgroundTransparency,[u.position]:{displayName:(0,i.D)("Visual_Position"),type:{enumeration:t.fF}},[u.padding]:{displayName:(0,i.D)("Visual_Padding"),type:{integer:!0}},[u.size]:{displayName:(0,i.D)("Visual_BubbleSize"),type:{integer:!0}},[u.altText]:{displayName:(0,i.D)("Visual_General_Properties_Description"),type:{formatting:{altText:!0}}}},g={show:o.SP.show,[u.color]:o.SP.fill,[u.transparency]:o.SP.backgroundTransparency,[u.wrapContent]:{displayName:(0,i.D)("ButtonSlicer_Objects_WrapContent"),type:{bool:!0}}},E=(F,R)=>({[u.image]:{displayName:(0,i.D)("Field"),type:{variant:[{text:!0}]}},[u.imageFit]:{displayName:(0,i.D)("PagePropertyPane_PageBackgroundImageFit"),type:{enumeration:c.KV}},[u.transparency]:o.SP.backgroundTransparency,[u.position]:{displayName:(0,i.D)("Visual_Position"),type:{enumeration:R?.advancedSlicerTypeList&&F===p.$F.List?C:t.fF}},[u.saturation]:{displayName:(0,i.D)("Visual_Saturation"),type:{integer:!0}},[u.blur]:{displayName:(0,i.D)("Visual_DropShadow_Blur"),type:{integer:!0}},[u.ignorePadding]:{displayName:(0,i.D)("Visual_Divider_IgnorePadding"),type:{bool:!0}},[u.setAsBackGround]:{displayName:(0,i.D)("Visual_SetAsBackGround"),type:{bool:!0}},[u.padding]:{displayName:(0,i.D)("Visual_Space_Between_Image"),type:{integer:!0}},[u.imageAreaSize]:{displayName:(0,i.D)("Visual_Image_Area_Size"),type:{integer:!0}}}),D=function(F){return F.TopLeft="topLeft",F.TopCenter="topCenter",F.TopRight="topRight",F.MiddleLeft="middleLeft",F.MiddleRight="middleRight",F.BottomLeft="bottomLeft",F.BottomCenter="bottomCenter",F.BottomRight="bottomRight",F}({}),h=(0,s.s)([{value:D.TopLeft,displayName:F=>F.get("Visual_LabelPosition_TopLeft")},{value:D.TopCenter,displayName:F=>F.get("Visual_LabelPosition_TopCenter")},{value:D.TopRight,displayName:F=>F.get("Visual_LabelPosition_TopRight")},{value:D.MiddleLeft,displayName:F=>F.get("Visual_LabelPosition_MiddleLeft")},{value:D.MiddleRight,displayName:F=>F.get("Visual_LabelPosition_MiddleRight")},{value:D.BottomLeft,displayName:F=>F.get("Visual_LabelPosition_BottomLeft")},{value:D.BottomCenter,displayName:F=>F.get("Visual_LabelPosition_BottomCenter")},{value:D.BottomRight,displayName:F=>F.get("Visual_LabelPosition_BottomRight")}]),C=(0,s.s)([{value:t.kF.left,displayName:F=>F.get("Visual_TextAlignment_Left")},{value:t.kF.right,displayName:F=>F.get("Visual_TextAlignment_Right")}]),y={displayName:(0,i.D)("Role_DisplayName_Values"),properties:{...n.ZX.value.properties,[u.verticalAlignment]:o.SP.verticalAlignment,[u.text]:{displayName:(0,i.D)("Text"),placeHolderText:(0,i.D)("Visual_Auto"),type:{text:!0}}}};function f(F,R){var B={dataRoles:b(F=F??p.$F.Tile,R),objects:T(F,R),dataViewMappings:P(F,R),drilldown:V(F,R),expandCollapse:M(F,R),tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},roles:[l.Tooltips],supportEnhancedTooltips:!0},sorting:{default:{}},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0,hasFilterOptions:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,disableFocusMode:!0,supportsFilterClearButton:!0,suppressVisualCalc:!0,keepAllMetadataColumns:!0};return R?.buttonSlicerGA&&F===p.$F.Tile&&(B.supportsHighlight=!0),B}function S(F){var R=n.ZX.layout;return F===p.$F.List&&(R={displayName:R.displayName,properties:{...R.properties,[u.indentation]:{displayName:(0,i.D)("Visual_PivotTable_Indentation"),type:{integer:!0}},[u.reverseIndentation]:{displayName:(0,i.D)("Visual_ReverseIndentation"),type:{bool:!0}},[u.containerIndentation]:{displayName:(0,i.D)("Visual_ContainerIndentation"),type:{bool:!0}},[u.fixedButtonsCount]:{displayName:(0,i.D)("Visual_FixedButtonsCount"),type:{bool:!0}}}}),R}function b(F,R){var B=[{name:d.E0.value,kind:a.Ts.Grouping,displayName:(0,i.D)("Field"),description:(0,i.D)("Role_DisplayName_FieldDescription")}];return R?.buttonSlicerGA&&F===p.$F.Tile&&B.push({name:d.E0.label,kind:a.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_Label"),description:(0,i.D)("Role_ButtonSlicer_Label_Description")}),B.push({name:l.Tooltips,kind:a.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_Tooltips"),joinPredicate:a.gD.None,description:(0,i.D)("Role_Tooltips_Description")}),B}function V(F,R){if(R?.advancedSlicerTypeList&&F===p.$F.List)return{roles:[d.E0.value],suppresDrillOperations:!0}}function M(F,R){if(R?.advancedSlicerTypeList&&F===p.$F.List)return{roles:[d.E0.value],addDataViewFlags:{defaultValue:!0},supportsMerge:!0}}function P(F,R){var B=[];return R?.advancedSlicerTypeList&&F===p.$F.List?B.push({conditions:[{[d.E0.value]:{min:1,areHierarchicallyRelated:!0,multiTableTupleFiltersSupported:!0,suppressDrill:!0}}],matrix:{rows:{for:{in:d.E0.value},dataReductionAlgorithm:{window:{count:500}}},values:{select:[{for:{in:l.Tooltips}}]},includeEmptyGroups:!0}}):(B.push({conditions:[{[d.E0.value]:{max:1,suppressDrill:!0}}],matrix:{rows:{select:[{for:{in:d.E0.value}}],dataReductionAlgorithm:{window:{count:100}}},values:{select:[{for:{in:l.Tooltips}}]},includeEmptyGroups:!0}}),R?.buttonSlicerGA&&F===p.$F.Tile&&B[0].matrix.values.select.push({for:{in:d.E0.label}})),B}function T(F,R){var B={general:{displayName:(0,i.D)("Visual_General"),properties:{formatString:o.SP.formatString,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selfFilter:{suppressFormatPainterCopy:!0,type:{filter:{selfFilter:!0}}},selfFilterEnabled:{suppressFormatPainterCopy:!0,type:{operations:{searchEnabled:!0}}}}},[u.fill]:n.ZX.fillCustom,[u.outline]:n.ZX.outline,[n.X7.value]:y,[n.X7.label]:I(n.ZX.label),[u.shapeCustomRectangle]:n.ZX.shapeCustomRectangle,[u.layout]:S(F),[n.X7.overFlow]:n.ZX.overFlow,[u.shadowCustom]:n.ZX.shadowCustom,[u.glowCustom]:n.ZX.glowCustom,[u.rotation]:{displayName:(0,i.D)("Visual_BasicShape_Rotate"),properties:{[u.angle]:o.SP.genericRotation,[u.shapeRotation]:o.SP.shapeRotation,[u.textRotation]:o.SP.textRotation}},[u.spacing]:n.ZX.spacing,[u.padding]:n.ZX.padding,[u.accentBar]:n.ZX.accentBar,[u.icon]:{displayName:(0,i.D)("Icon"),properties:m},[u.image]:{displayName:(0,i.D)("Image"),properties:E(F,R)},[u.background]:{displayName:(0,i.D)("Visual_Background"),properties:g},selection:{displayName:(0,i.D)("Visual_SelectionControls"),properties:{selectAllCheckboxEnabled:{displayName:(0,i.D)("Visual_SelectAll"),description:(0,i.D)("Visual_SelectAll_Description"),type:{bool:!0}},strictSingleSelect:{displayName:(0,i.D)("Visual_ForceSelection"),description:(0,i.D)("Visual_StrictSingleSelect_Description"),type:{bool:!0},filterState:!0},singleSelect:{displayName:(0,i.D)("Visual_StrictSingleSelect"),description:(0,i.D)("Visual_StrictSingleSelect"),type:{bool:!0}},restrictToLeafNodes:{displayName:(0,i.D)("Visual_SelectionLastLevelOnly"),description:(0,i.D)("Visual_SelectionLastLevelOnly_Description"),type:{bool:!0},filterState:!0}}},data:{suppressFormatPainterCopy:!0,properties:{isInvertedSelectionMode:{type:{bool:!0},filterState:!0}}},selectionIcon:{displayName:(0,i.D)("Visual_SelectionIcon_Label"),properties:{color:o.SP.genericColor,overlayPosition:{displayName:(0,i.D)("Visual_Position"),type:{enumeration:h}},overlayToggle:{displayName:(0,i.D)("Visual_Overlay"),type:{bool:!0}},position:{displayName:(0,i.D)("Visual_Position"),type:{enumeration:C}},size:{displayName:(0,i.D)("Visual_BubbleSize"),type:{integer:!0}},show:o.SP.show,showIconByState:o.SP.show,spacing:{displayName:(0,i.D)("Visual_Gap_Horizontal"),type:{integer:!0}},transparency:o.SP.genericTransparency,verticalAlignment:o.SP.verticalAlignment}},actionState:{properties:{isCalloutValuesAdvanced:{displayName:(0,i.D)("Advanced"),type:{bool:!0}},isImageAdvanced:{displayName:(0,i.D)("Advanced"),type:{bool:!0}},isSelectionIconAdvanced:{displayName:(0,i.D)("Advanced"),type:{bool:!0}},isExpansionIconAdvanced:{displayName:(0,i.D)("Advanced"),type:{bool:!0}},IsButtonsAdvanced:{displayName:(0,i.D)("Advanced"),type:{bool:!0}}}}};return F===p.$F.List&&(B.expansionIcon={displayName:(0,i.D)("Slicer_ExpandCollapse_Toggle"),properties:{color:o.SP.genericColor,position:{displayName:(0,i.D)("Visual_Position"),type:{enumeration:C}},size:{displayName:(0,i.D)("Visual_BubbleSize"),type:{integer:!0}},spacing:{displayName:(0,i.D)("Visual_Spacing"),type:{integer:!0}},transparency:o.SP.genericTransparency,verticalAlignment:{displayName:(0,i.D)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}}}}),B}var N={...n.Ct.value,verticalAlignment:{objectName:"value",propertyName:"verticalAlignment"},text:{objectName:"value",propertyName:"text"}},w={general:{formatString:o.kM.formatString},fillCustom:n.Ct.fillCustom,outline:n.Ct.outline,value:N,label:n.Ct.label,shapeCustomRectangle:n.Ct.shapeCustomRectangle,layout:v.layout,shadowCustom:n.Ct.shadowCustom,glowCustom:n.Ct.glowCustom,spacing:n.Ct.spacing,padding:n.Ct.padding,accentBar:n.Ct.accentBar,icon:v.icon,image:v.image,overFlow:n.Ct.overFlow,background:v.background,selection:{advancedSlicerType:{objectName:"selection",propertyName:"type"}},selectionIcon:v.selectionIcon,expansionIcon:v.expansionIcon,actionState:v.actionState};function I(F){var R=_.cloneDeep(F);return delete R.properties[n.K9.text],R.properties[u.field]={displayName:(0,i.D)("Field"),type:{variant:[{text:!0},{integer:!0},{dateTime:!0}]}},R}var O={default:"default",hover:"hover",press:"press",selected:"selected",mixed:"mixed"},x={hover:"hover",press:"press",rest:"rest",disabled:"disabled"},j={mixed:"mixed",selected:"selected",unselected:"unselected",default:"default"},U={expanded:"expanded",default:"default",collapsed:"collapsed"}},242442:function(ve,z,e){e.d(z,{G:function(){return t},WV:function(){return d}});var a=e(236880),i=e(266092),r=e(993513);function t(){return o}var o={objects:{userPrompt:{properties:{text:{displayName:(0,i.D)("Text"),type:{text:!0},suppressFormatPainterCopy:!0},selectedVisualsJson:{displayName:(0,i.D)("ExplorationBookmarks_SelectedVisuals"),type:{text:!0}},useAllVisuals:{type:{bool:!0}},useCurrentLocale:{type:{bool:!0}}}},text:{displayName:"Text",properties:{fontColor:r.SP.fontColor,fontSize:r.SP.fontSize,fontFamily:r.SP.fontFamily,textAlignment:r.SP.textAlignment}},narrativeSelection:{properties:{dismissSelectionScreen:{type:{bool:!0}}}}},tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsKeyboardFocus:!0,supportsLandingPage:!0,supportsSelection:!1,disableDeferredRendering:!0},d=(0,a.cM)(o.objects)},30885:function(ve,z,e){e.d(z,{AL:function(){return t},AM:function(){return s},F8:function(){return l},Fn:function(){return r},In:function(){return p},L3:function(){return o},Rf:function(){return n},aY:function(){return c},lw:function(){return d},wj:function(){return i}});var a=e(701330),i={CategoryValue:"CategoryValue",Value:"Value",ExpectedValue:"ExpectedValue",ExpectedLow:"ExpectedLow",ExpectedHigh:"ExpectedHigh",RawScore:"RawScore",Anomaly:"Anomaly",BatchStart:"BatchStart",BatchEnd:"BatchEnd",FormattedCategoryValue:"FormattedCategoryValue",ValueFormatString:"ValueFormatString"},r="anomalyDetection",t="anomaly",o="sensitivity",d=_.mapValues(i,u=>`${r}.${u}`),n="SampleAndDetectAnomaly",c="SampleSizePerSeries",s=.7,p={showAnomalies:"show",displayName:"displayName",transform:"transform",explainBy:"explainBy",isAnomalyHighlighted:"isAnomalyHighlighted",sensitivity:"Sensitivity",confidenceBandShow:"confidenceBandShow",confidenceBandStyle:"confidenceBandStyle",confidenceBandTransparency:"transparency",confidenceBandColor:"confidenceBandColor"},l={showAnomalies:{objectName:r,propertyName:p.showAnomalies},displayName:{objectName:r,propertyName:p.displayName},transform:{objectName:r,propertyName:p.transform},isAnomalyHighlighted:{objectName:r,propertyName:p.isAnomalyHighlighted},explainBy:{objectName:r,propertyName:p.explainBy},sensitivity:{objectName:r,propertyName:p.sensitivity},confidenceBandShow:{objectName:r,propertyName:p.confidenceBandShow},confidenceBandStyle:{objectName:r,propertyName:p.confidenceBandStyle},confidenceBandTransparency:{objectName:r,propertyName:p.confidenceBandTransparency},confidenceBandColor:{objectName:r,propertyName:p.confidenceBandColor},show:{objectName:r,propertyName:a.mx.show},shape:{objectName:r,propertyName:a.mx.shape},size:{objectName:r,propertyName:a.mx.size},color:{objectName:r,propertyName:a.mx.color},transparency:{objectName:r,propertyName:a.mx.transparency},rotation:{objectName:r,propertyName:a.mx.rotation},strokeShow:{objectName:r,propertyName:a.mx.strokeShow},strokeColorMatch:{objectName:r,propertyName:a.mx.strokeColorMatch},strokeColor:{objectName:r,propertyName:a.mx.strokeColor},strokeTransparency:{objectName:r,propertyName:a.mx.strokeTransparency},strokeWidth:{objectName:r,propertyName:a.mx.strokeWidth}}},816360:function(ve,z,e){e.d(z,{AN:function(){return B},D:function(){return I},I5:function(){return g},Lp:function(){return l},Ng:function(){return h},Oy:function(){return C},TG:function(){return E},Uq:function(){return s},cH:function(){return O},cT:function(){return v},eh:function(){return m},fK:function(){return D},mD:function(){return x},nK:function(){return p},zp:function(){return u}});var a=e(924672),i=e(693029),r=e(266092),t=e(904143),o=e(423427),d=e(130939),n=e(466229),c=e(993513),s=function(A){return A.PathID="PathID",A.Category="Category",A.Series="Series",A.X="X",A.Y="Y",A.Size="Size",A.Tooltips="Tooltips",A.PointOrder="PointOrder",A}({}),p=function(A){return A[A.Box=0]="Box",A[A.Cylinder=1]="Cylinder",A}({}),l=function(A){return A[A.Linear=0]="Linear",A[A.Log=1]="Log",A[A.CubicBezier=2]="CubicBezier",A}({}),u=function(A){return A.AboveLabels="",A.BelowLabels="labels",A.BelowRoads="transit",A}({}),v=function(A){return A.Url="url",A.FileUpload="file_upload",A}({}),m=function(A){return A.Map="map",A.Viewport="viewport",A}({}),g=function(A){return A.Map="map",A.Viewport="viewport",A}({}),E=function(A){return A.Icon="icon",A.Image="image",A}({}),D=function(A){return A.Image="image",A.ImageUrl="imageUrl",A}({}),h=function(A){return A.Pixels="pixels",A.Meters="meters",A}({}),C=function(A){return A.Road="road",A.Satellite="satellite",A.SatelliteRoadLabels="satellite_road_labels",A.GrayscaleDark="grayscale_dark",A.Night="night",A.GrayscaleLight="grayscale_light",A.RoadShadedRelief="road_shaded_relief",A.Blank="blank",A.BlankAccessible="blank_accessible",A.HighContrastDark="high_contrast_dark",A.HighContrastLight="high_contrast_light",A}({}),y=(0,t.s)([{value:C.Road,displayName:(0,r.D)("Visual_MapThemeRoad")},{value:C.Satellite,displayName:(0,r.D)("Visual_AzureMapsSatelliteStyle")},{value:C.SatelliteRoadLabels,displayName:(0,r.D)("Hybrid")},{value:C.GrayscaleDark,displayName:(0,r.D)("Visual_AzureMapsGrayScaleDarkStyle")},{value:C.Night,displayName:(0,r.D)("Visual_AzureMapsNightStyle")},{value:C.GrayscaleLight,displayName:(0,r.D)("Visual_AzureMapsGrayScaleLightStyle")},{value:C.RoadShadedRelief,displayName:(0,r.D)("Visual_AzureMapsTerraStyle")},{value:C.Blank,displayName:(0,r.D)("ReportAppBar_Blank")},{value:C.BlankAccessible,displayName:(0,r.D)("Visual_AzureMapsBlankAccessibleStyle")},{value:C.HighContrastDark,displayName:(0,r.D)("Visual_AzureMapsHighContrastDarkStyle")},{value:C.HighContrastLight,displayName:(0,r.D)("Visual_AzureMapsHighContrastLightStyle")}]),f=(0,t.s)([{value:p.Box,displayName:(0,r.D)("Visual_AzureMapsBoxShape")},{value:p.Cylinder,displayName:(0,r.D)("Visual_AzureMapsCylinderShape")}]),S=(0,t.s)([{value:l.Linear,displayName:(0,r.D)("Visual_Axis_Linear")},{value:l.Log,displayName:(0,r.D)("Visual_Axis_Log")},{value:l.CubicBezier,displayName:(0,r.D)("Visual_AzureMapsCubicBezier")}]),b=(0,t.s)([{value:m.Map,displayName:(0,r.D)("Visual_ShapeMap_Map")},{value:m.Viewport,displayName:(0,r.D)("Visual_AzureMapsViewport")}]),V=(0,t.s)([{value:g.Map,displayName:(0,r.D)("Visual_ShapeMap_Map")},{value:g.Viewport,displayName:(0,r.D)("Visual_AzureMapsViewport")}]),M=(0,t.s)([{value:E.Icon,displayName:(0,r.D)("Icon")},{value:E.Image,displayName:(0,r.D)("Image")}]),P=(0,t.s)([{value:D.Image,displayName:(0,r.D)("Image")},{value:D.ImageUrl,displayName:(0,r.D)("Url")}]),T=(0,t.s)([{value:u.AboveLabels,displayName:(0,r.D)("Visual_AzureMapsLayerAboveLabels")},{value:u.BelowLabels,displayName:(0,r.D)("Visual_AzureMapsLayerBelowLabels")},{value:u.BelowRoads,displayName:(0,r.D)("Visual_AzureMapsLayerBelowRoads")}]),N=(0,t.s)([{value:h.Pixels,displayName:A=>A.get("Generic_Pixels")},{value:h.Meters,displayName:A=>A.get("Visual_MapUnitMeters")}]),w=(0,t.s)([{value:v.Url,displayName:(0,r.D)("Url")},{value:v.FileUpload,displayName:(0,r.D)("Visual_AzureMapsFileUpload")}]),I={mapControls:"mapControls",traffic:"traffic",tileLayer:"tileLayer",bubbleLayer:"bubbleLayer",categoryLabels:"categoryLabels",heatMapLayer:"heatMapLayer",barChart:"barChart",commonDataOptions:"commonDataOptions",referenceLayer:"referenceLayer",filledMap:"filledMap",pathLayer:"pathLayer"},O={defaultStyle:"defaultStyle",showStylePicker:"showStylePicker",showLabels:"showLabels",showCountryRegionBorders:"showCountryRegionBorders",showAdminDistrictBorders:"showAdminDistrictBorders",showAdminDistrict2Borders:"showAdminDistrict2Borders",showBuildingFootprints:"showBuildingFootprints",showRoadDetails:"showRoadDetails",showNavigationControls:"showNavigationControls",zoom:"zoom",centerLatitude:"centerLatitude",centerLongitude:"centerLongitude",heading:"heading",pitch:"pitch",showIncidents:"showIncidents",showTrafficControl:"showTrafficControl",tileLayerUrl:"tileLayerUrl",tileSize:"tileSize",northBounds:"northBounds",southBounds:"southBounds",eastBounds:"eastBounds",westBounds:"westBounds",mapTransparency:"mapTransparency",isTMS:"isTMS",minZoom:"minZoom",maxZoom:"maxZoom",barShape:"barShape",height:"barHeight",scaleHeightOnZoom:"scaleHeightOnZoom",thickness:"thickness",scaleThicknessOnZoom:"scaleThicknessOnZoom",unselectedTransparency:"unselectedTransparency",show:"show",fillColor:"fillColor",bubbleRadius:"bubbleRadius",minBubbleRadius:"minBubbleRadius",markerRangeType:"markerRangeType",radiusScalingMethod:"radiusScalingMethod",maxRadius:"maxRadius",showZeros:"showZeros",showNegatives:"showNegatives",defaultColor:"defaultColor",strokeColor:"strokeColor",autoStrokeColor:"autoStrokeColor",matchFillColor:"matchFillColor",strokeTransparency:"strokeTransparency",bubbleStrokeWidth:"bubbleStrokeWidth",strokeWidth:"strokeWidth",blur:"blur",pitchAlignment:"pitchAlignment",rotationAlignment:"rotationAlignment",markerType:"markerType",imageSourceType:"imageSourceType",imageData:"imageData",imageUrl:"imageUrl",iconId:"iconId",markerRotation:"markerRotation",layerPosition:"layerPosition",minDataValue:"minDataValue",maxDataValue:"maxDataValue",zoomScaleFactor:"zoomScaleFactor",logScale:"logScale",x1:"x1",x2:"x2",y1:"y1",y2:"y2",autoZoom:"autoZoom",autoZoomIncludesReferenceLayer:"autoZoomIncludesReferenceLayer",worldWrap:"worldWrap",additionalDatasource:"additionalDatasource",showSelectionControl:"showSelectionControl",geocodingCulture:"geocodingCulture",heatMapRadius:"heatMapRadius",heatMapRadiusUnit:"heatMapRadiusUnit",heatMapIntensity:"heatMapIntensity",heatMapColorLow:"heatMapColorLow",heatMapColorCenter:"heatMapColorCenter",heatMapColorHigh:"heatMapColorHigh",heatMapUseSize:"heatMapUseSize",clusteringEnabled:"clusteringEnabled",clusteredBubbleRadius:"clusteredBubbleRadius",clusteredBubbleFillColor:"clusteredBubbleFillColor",clusteredBubbleFontSize:"clusteredBubbleFontSize",clusteredBubbleFontColor:"clusteredBubbleFontColor",clusteredBubbleStrokeColor:"clusteredBubbleStrokeColor",clusteredBubbleStrokeWidth:"clusteredBubbleStrokeWidth",datasourceType:"datasourceType",referenceLayerUrl:"referenceLayerUrl",bubbleFillColor:"bubbleFillColor",bubbleStrokeColor:"bubbleStrokeColor",bubbleStrokeTransparency:"bubbleStrokeTransparency",lineStrokeColor:"lineStrokeColor",lineStrokeWidth:"lineStrokeWidth",lineStrokeTransparency:"lineStrokeTransparency",polygonFillColor:"polygonFillColor",polygonStrokeColor:"polygonStrokeColor",polygonStrokeWidth:"polygonStrokeWidth",polygonStrokeTransparency:"polygonStrokeTransparency",unmappedObjectFillColor:"unmappedObjectFillColor",unmappedObjectStrokeColor:"unmappedObjectStrokeColor",dataSource:"dataSource",point:"point",line:"line",polygon:"polygon",unmappedObject:"unmappedObject",unmappedObjectVisibility:"unmappedObjectVisibility",unmappedObjectUseCustomColors:"unmappedObjectUseCustomColors"};function x(A){return{dataRoles:j(A),objects:U(A),dataViewMappings:F(A),visualShapeDataViewMappings:R(A),sorting:{custom:{},implicit:{clauses:[...A?.azureMapsPathLayer?[{role:s.PointOrder,direction:a.U.Ascending}]:[],{role:s.Size,direction:a.U.Descending}]}},drilldown:{roles:[s.Category],...A?.azureMapsPathLayer?{canDisableDrill:{}}:{}},tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[s.Tooltips],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0,suppressVisualCalc:!A?.enableCalculationScatterChartMap}}function j(A){var W=[{name:s.Y,kind:i.Ts.GroupingOrMeasure,displayName:(0,r.D)("Role_DisplayName_Latitude"),description:(0,r.D)("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:i.Xk.Y},{name:s.X,kind:i.Ts.GroupingOrMeasure,displayName:(0,r.D)("Role_DisplayName_Longitude"),description:(0,r.D)("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:i.Xk.X},{name:s.Series,kind:i.Ts.Grouping,displayName:(0,r.D)("Role_DisplayName_Legend"),description:(0,r.D)("Role_DisplayName_LegendDescription")},{name:s.Size,kind:i.Ts.Measure,displayName:(0,r.D)("Role_DisplayName_Size"),description:(0,r.D)("Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:s.Tooltips,kind:i.Ts.Measure,displayName:(0,r.D)("Role_DisplayName_Tooltips"),description:(0,r.D)("Role_Tooltips_Description"),joinPredicate:i.gD.None}];return A?.azureMapsGeocoding&&W.unshift({name:s.Category,kind:i.Ts.Grouping,displayName:(0,r.D)("Role_DisplayName_Location"),description:(0,r.D)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]}),A?.azureMapsPathLayer&&W.push({name:s.PathID,kind:i.Ts.Grouping,displayName:(0,r.D)("Role_DisplayName_PathID"),description:(0,r.D)("Role_DisplayName_PathIDMapDescription"),disallowedWithVisualCalculations:!A?.azureMapsPathLayerVisualCalculation},{name:s.PointOrder,kind:i.Ts.Grouping,displayName:(0,r.D)("Role_DisplayName_PointOrder"),description:(0,r.D)("Role_DisplayName_PointOrderDescription"),preferredTypes:[{numeric:!0},{integer:!0},{dateTime:!0}],disallowedWithVisualCalculations:!A?.azureMapsPathLayerVisualCalculation}),W}function U(A){var W={general:{displayName:(0,r.D)("Visual_General"),properties:{formatString:c.SP.formatString}},legend:c.rg.legend,dataPoint:{displayName:(0,r.D)("Visual_DataPoint"),description:(0,r.D)("Visual_DataPointDescription"),properties:{showAllDataPoints:c.SP.showAllDataPoints,fill:c.SP.genericColor}},labels:{displayName:(0,r.D)("Visual_DataPointsLabels"),properties:{show:c.SP.show,color:c.SP.dataColor,labelDisplayUnits:c.SP.labelDisplayUnits,labelPrecision:c.SP.labelPrecision}},[I.mapControls]:{displayName:(0,r.D)("Visual_AzureMapsMapSettings"),description:(0,r.D)("Visual_MapControlsDescription"),properties:{[O.defaultStyle]:{displayName:(0,r.D)("Visual_AzureMapsDefaultStyle"),description:(0,r.D)("Visual_AzureMapsDefaultStyleDescription"),type:{enumeration:y}},[O.showStylePicker]:{displayName:(0,r.D)("Visual_AzureMapsStylePicker"),description:(0,r.D)("Visual_AzureMapsStylePickerDescription"),type:{bool:!0}},[O.showLabels]:{displayName:(0,r.D)("Labels_Title"),description:(0,r.D)("Visual_AzureMapsShowLabelsDescription"),type:{bool:!0}},[O.showNavigationControls]:{displayName:(0,r.D)("Visual_AzureMapsNavigationControls"),description:(0,r.D)("Visual_AzureMapsNavigationControlsDescription"),type:{bool:!0}},[O.zoom]:{displayName:(0,r.D)("Visual_ShapeMap_Zoom"),description:(0,r.D)("Visual_AzureMapsZoomDescription"),type:{numeric:!0}},[O.centerLatitude]:{displayName:(0,r.D)("Visual_AzureMapsCenterLatitude"),description:(0,r.D)("Visual_AzureMapsCenterLatitudeDescription"),type:{numeric:!0}},[O.centerLongitude]:{displayName:(0,r.D)("Visual_AzureMapsCenterLongitude"),description:(0,r.D)("Visual_AzureMapsCenterLongitudeDescription"),type:{numeric:!0}},[O.heading]:{displayName:(0,r.D)("Visual_LabelOrientation"),description:(0,r.D)("Visual_AzureMapsHeadingDescription"),type:{numeric:!0}},[O.pitch]:{displayName:(0,r.D)("Visual_AzureMapsPitch"),description:(0,r.D)("Visual_AzureMapsPitchDescription"),type:{numeric:!0}},[O.autoZoom]:{displayName:(0,r.D)("Visual_AutoZoom"),description:(0,r.D)("Visual_AzureMapsAutoZoomDescription"),type:{bool:!0}},[O.autoZoomIncludesReferenceLayer]:{displayName:(0,r.D)("Visual_AzureMapsAutoZoomIncludesReferenceLayer"),description:(0,r.D)("Visual_AzureMapsAutoZoomIncludesReferenceLayerDescription"),type:{bool:!0}},[O.worldWrap]:{displayName:(0,r.D)("Visual_AzureMapsWorldWrap"),description:(0,r.D)("Visual_AzureMapsWorldWrapDescription"),type:{bool:!0}},[O.showSelectionControl]:{displayName:(0,r.D)("Visual_AzureMapsSelectionControl"),description:(0,r.D)("Visual_AzureMapsSelectionControlDescription"),type:{bool:!0}}}},[I.filledMap]:{displayName:(0,r.D)("FilledMap_ToolTip"),description:(0,r.D)("Visual_AzureMapsFilledMapDescription"),properties:{show:c.SP.show,[O.defaultColor]:{displayName:(0,r.D)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},[O.mapTransparency]:{displayName:(0,r.D)("Visual_Fill_Transparency"),type:{numeric:!0}},[O.strokeColor]:{displayName:(0,r.D)("Visual_OutlineColor"),type:{fill:{solid:{color:!0}}}},[O.strokeTransparency]:{displayName:(0,r.D)("Visual_AzureMapsBubbleStrokeTransparency"),type:{numeric:!0}},[O.strokeWidth]:{displayName:(0,r.D)("Visual_AzureMapsBubbleStrokeWidth"),type:{integer:!0}},[O.minZoom]:{displayName:(0,r.D)("Visual_AzureMapsMinZoom"),description:(0,r.D)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[O.maxZoom]:{displayName:(0,r.D)("Visual_AzureMapsMaxZoom"),description:(0,r.D)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[O.layerPosition]:{displayName:(0,r.D)("Visual_AzureMapsLayerPosition"),description:(0,r.D)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:T}}}},[I.bubbleLayer]:{displayName:(0,r.D)("Visual_Bubbles"),description:(0,r.D)("Visual_BubblesDescription"),properties:{show:c.SP.show,[O.mapTransparency]:{displayName:(0,r.D)("Visual_Fill_Transparency"),description:(0,r.D)("Visual_AzureMapsBubbleTransparencyDescription"),type:{numeric:!0}},[O.bubbleRadius]:{displayName:(0,r.D)("Visual_BubbleSize"),description:(0,r.D)("Visual_AzureMapsBubbleRadiusDescription"),type:{integer:!0}},[O.minBubbleRadius]:{displayName:(0,r.D)("Visual_AzureMapsMinBubbleRadius"),description:(0,r.D)("Visual_AzureMapsMinBubbleRadiusDescription"),type:{integer:!0}},[O.markerRangeType]:{displayName:(0,r.D)("Visual_MarkerRangeType"),description:(0,r.D)("Visual_MarkerRangeType"),type:{enumeration:d.hQ}},[O.radiusScalingMethod]:{displayName:(0,r.D)("Visual_AzureMapsBubbleRadiusScalingMethod"),description:(0,r.D)("Visual_AzureMapsBubbleRadiusScalingMethodDescription"),type:{enumeration:S}},[O.maxRadius]:{displayName:(0,r.D)("Visual_AzureMapsBubbleMaxRadius"),description:(0,r.D)("Visual_AzureMapsBubbleMaxRadiusDescription"),type:{integer:!0}},[O.logScale]:{displayName:(0,r.D)("Visual_AzureMapsLogScale"),description:(0,r.D)("Visual_AzureMapsLogScaleDescription"),type:{integer:!0}},[O.x1]:{displayName:(0,r.D)("Visual_AzureMapsX1"),description:(0,r.D)("Visual_AzureMapsX1Description"),type:{numeric:!0}},[O.x2]:{displayName:(0,r.D)("Visual_AzureMapsX2"),description:(0,r.D)("Visual_AzureMapsX2Description"),type:{numeric:!0}},[O.y1]:{displayName:(0,r.D)("Visual_AzureMapsY1"),description:(0,r.D)("Visual_AzureMapsY1Description"),type:{numeric:!0}},[O.y2]:{displayName:(0,r.D)("Visual_AzureMapsY2"),description:(0,r.D)("Visual_AzureMapsY2Description"),type:{numeric:!0}},[O.strokeColor]:{displayName:(0,r.D)("Visual_OutlineColor"),description:(0,r.D)("Visual_AzureMapsBubbleStrokeColorDescription"),type:{fill:{solid:{color:!0}}}},[O.autoStrokeColor]:{displayName:(0,r.D)("Visual_AzureMapsBubbleAutoStrokeColor"),description:(0,r.D)("Visual_AzureMapsBubbleAutoStrokeColorDescription"),type:{bool:!0}},[O.matchFillColor]:{displayName:(0,r.D)("Visual_AzureMapsBubbleMatchFillColor"),description:(0,r.D)("Visual_AzureMapsBubbleMatchFillColorDescription"),type:{bool:!0}},[O.strokeTransparency]:{displayName:(0,r.D)("Visual_AzureMapsBubbleStrokeTransparency"),description:(0,r.D)("Visual_AzureMapsBubbleStrokeTransparencyDescription"),type:{numeric:!0}},[O.bubbleStrokeWidth]:{displayName:(0,r.D)("Visual_AzureMapsBubbleStrokeWidth"),description:(0,r.D)("Visual_AzureMapsBubbleStrokeWidthDescription"),type:{integer:!0}},[O.blur]:{displayName:(0,r.D)("Visual_DropShadow_Blur"),description:(0,r.D)("Visual_AzureMapsBubbleBlurDescription"),type:{numeric:!0}},[O.pitchAlignment]:{displayName:(0,r.D)("Visual_AzureMapsBubblePitchAlignment"),description:(0,r.D)("Visual_AzureMapsBubblePitchAlignmentDescription"),type:{enumeration:b}},[O.zoomScaleFactor]:{displayName:(0,r.D)("Visual_AzureMapsZoomScaleFactor"),description:(0,r.D)("Visual_AzureMapsZoomScaleFactorDescription"),type:{integer:!0}},[O.minZoom]:{displayName:(0,r.D)("Visual_AzureMapsMinZoom"),description:(0,r.D)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[O.maxZoom]:{displayName:(0,r.D)("Visual_AzureMapsMaxZoom"),description:(0,r.D)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[O.layerPosition]:{displayName:(0,r.D)("Visual_AzureMapsLayerPosition"),description:(0,r.D)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:T}}}},[I.categoryLabels]:{displayName:(0,r.D)("Visual_CategoryLabels"),description:(0,r.D)("Visual_CategoryLabelsDescription"),properties:{...c.Jk,...c.Ed}},[I.heatMapLayer]:{displayName:(0,r.D)("Visual_HeatMap"),description:(0,r.D)("Visual_HeatMapDescription"),properties:{show:c.SP.show,[O.heatMapRadius]:{displayName:(0,r.D)("Visual_Radius"),description:(0,r.D)("Visual_AzureMapsHeatMapRadiusDescription"),type:{numeric:!0}},[O.heatMapRadiusUnit]:{displayName:(0,r.D)("Visual_Forecast_Parameter_Units"),description:(0,r.D)("Visual_AzureMapsHeatMapRadiusUnitDescription"),type:{enumeration:N}},[O.mapTransparency]:{displayName:(0,r.D)("Transparency"),description:(0,r.D)("Visual_AzureMapsHeatMapTransparencyDescription"),type:{numeric:!0}},[O.heatMapIntensity]:{displayName:(0,r.D)("Visual_AzureMapsHeatMapIntensity"),description:(0,r.D)("Visual_AzureMapsHeatMapIntensityDescription"),type:{numeric:!0}},[O.heatMapColorLow]:{displayName:(0,r.D)("Visual_Color0"),description:(0,r.D)("Visual_AzureMapsHeatMapColorLowDescription"),type:{fill:{solid:{color:!0}}}},[O.heatMapColorCenter]:{displayName:(0,r.D)("Visual_Color50"),description:(0,r.D)("Visual_AzureMapsHeatMapColorCenterDescription"),type:{fill:{solid:{color:!0}}}},[O.heatMapColorHigh]:{displayName:(0,r.D)("Visual_Color100"),description:(0,r.D)("Visual_AzureMapsHeatMapColorHighDescription"),type:{fill:{solid:{color:!0}}}},[O.heatMapUseSize]:{displayName:(0,r.D)("Visual_AzureMapsHeatMapUseSize"),description:(0,r.D)("Visual_AzureMapsHeatMapUseSizeDescription"),type:{bool:!0}},[O.minZoom]:{displayName:(0,r.D)("Visual_AzureMapsMinZoom"),description:(0,r.D)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[O.maxZoom]:{displayName:(0,r.D)("Visual_AzureMapsMaxZoom"),description:(0,r.D)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[O.layerPosition]:{displayName:(0,r.D)("Visual_AzureMapsLayerPosition"),description:(0,r.D)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:T}}}},[I.barChart]:{displayName:(0,r.D)("Visual_AzureMapsBarChart"),description:(0,r.D)("Visual_AzureMapsBarChartDescription"),properties:{show:c.SP.show,[O.barShape]:{displayName:(0,r.D)("Visual_AzureMapsBarShape"),description:(0,r.D)("Visual_AzureMapsBarShapeDescription"),type:{enumeration:f}},[O.height]:{displayName:(0,r.D)("Visual_General_Properties_Height"),description:(0,r.D)("Visual_AzureMapsBarHeightDescription"),type:{integer:!0}},[O.scaleHeightOnZoom]:{displayName:(0,r.D)("Visual_AzureMapsScaleBarHeight"),description:(0,r.D)("Visual_AzureMapsScaleBarHeightDescription"),type:{bool:!0}},[O.thickness]:{displayName:(0,r.D)("Visual_General_Properties_Width"),description:(0,r.D)("Visual_AzureMapsBarThicknessDescription"),type:{integer:!0}},[O.scaleThicknessOnZoom]:{displayName:(0,r.D)("Visual_AzureMapsScaleBarThickness"),description:(0,r.D)("Visual_AzureMapsScaleBarThicknessDescription"),type:{bool:!0}},[O.defaultColor]:{displayName:(0,r.D)("Visual_FillColor"),description:(0,r.D)("Visual_AzureMapsBarChartDefaultColorDescription"),type:{fill:{solid:{color:!0}}}},[O.mapTransparency]:{displayName:(0,r.D)("Transparency"),description:(0,r.D)("Visual_AzureMapsBarTransparencyDescription"),type:{numeric:!0}},[O.minZoom]:{displayName:(0,r.D)("Visual_AzureMapsMinZoom"),description:(0,r.D)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[O.maxZoom]:{displayName:(0,r.D)("Visual_AzureMapsMaxZoom"),description:(0,r.D)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[O.layerPosition]:{displayName:(0,r.D)("Visual_AzureMapsLayerPosition"),description:(0,r.D)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:T}}}},[I.commonDataOptions]:{displayName:(0,r.D)("Visual_AzureMapsCommonDataLayer"),description:(0,r.D)("Visual_AzureMapsCommonDataLayerDescription"),properties:{[O.unselectedTransparency]:{displayName:(0,r.D)("Visual_AzureMapsUnselectedTransparency"),description:(0,r.D)("Visual_AzureMapsUnselectedTransparencyDescription"),type:{numeric:!0}},[O.showZeros]:{displayName:(0,r.D)("Visual_AzureMapsShowZeros"),description:(0,r.D)("Visual_AzureMapsShowZerosDescription"),type:{bool:!0}},[O.showNegatives]:{displayName:(0,r.D)("Visual_AzureMapsShowNegatives"),description:(0,r.D)("Visual_AzureMapsShowNegativesDescription"),type:{bool:!0}},[O.minDataValue]:{displayName:(0,r.D)("Visual_AzureMapsMinDataValue"),description:(0,r.D)("Visual_AzureMapsMinDataValueDescription"),type:{numeric:!0}},[O.maxDataValue]:{displayName:(0,r.D)("Visual_AzureMapsMaxDataValue"),description:(0,r.D)("Visual_AzureMapsMaxDataValueDescription"),type:{numeric:!0}}}},[I.referenceLayer]:{displayName:(0,r.D)("Visual_AzureMapsReferenceLayer"),description:(0,r.D)(A?.azureMapsMultiDataFormats?"Visual_AzureMapsReferenceLayerDescriptionMultiDataFormats":"Visual_AzureMapsReferenceLayerDescription"),properties:{[O.additionalDatasource]:{displayName:A?.azureMapsMultiDataFormats?"":(0,r.D)("Visual_AzureMapsReferenceLayerDatasource"),type:{geoJson:{contentType:o.Se}}}}},[I.traffic]:{displayName:(0,r.D)("Visual_AzureMapsTrafficLayer"),description:(0,r.D)("Visual_AzureMapsTrafficLayerDescription"),properties:{show:c.SP.show,[O.showIncidents]:{displayName:(0,r.D)("Visual_AzureMapsShowIncidents"),description:(0,r.D)("Visual_AzureMapsShowIncidentsDescription"),type:{bool:!0}},[O.showTrafficControl]:{displayName:(0,r.D)("Visual_AzureMapsShowTrafficControl"),description:(0,r.D)("Visual_AzureMapsShowTrafficControlDescription"),type:{bool:!0}}}},[I.tileLayer]:{displayName:(0,r.D)("Visual_AzureMapsTileLayer"),description:(0,r.D)("Visual_AzureMapsTileLayerDescription"),properties:{[O.tileLayerUrl]:{displayName:(0,r.D)("Url"),description:(0,r.D)("Visual_AzureMapsTileUrlDescription"),type:{text:!0},suppressFormatPainterCopy:!0},[O.tileSize]:{displayName:(0,r.D)("Visual_AzureMapsTileSize"),description:(0,r.D)("Visual_AzureMapsTileSizeDescription"),type:{numeric:!0}},[O.northBounds]:{displayName:(0,r.D)("Visual_AzureMapsTileNorthBounds"),description:(0,r.D)("Visual_AzureMapsTileNorthBoundsDescription"),type:{numeric:!0}},[O.southBounds]:{displayName:(0,r.D)("Visual_AzureMapsTileSouthBounds"),description:(0,r.D)("Visual_AzureMapsTileSouthBoundsDescription"),type:{numeric:!0}},[O.eastBounds]:{displayName:(0,r.D)("Visual_AzureMapsTileEastBounds"),description:(0,r.D)("Visual_AzureMapsTileEastBoundsDescription"),type:{numeric:!0}},[O.westBounds]:{displayName:(0,r.D)("Visual_AzureMapsTileWestBounds"),description:(0,r.D)("Visual_AzureMapsTileWestBoundsDescription"),type:{numeric:!0}},[O.mapTransparency]:{displayName:(0,r.D)("Transparency"),description:(0,r.D)("Visual_AzureMapsTileTransparencyDescription"),type:{numeric:!0}},[O.isTMS]:{displayName:(0,r.D)("Visual_AzureMapsTileIsTMS"),description:(0,r.D)("Visual_AzureMapsTileIsTMSDescription"),type:{bool:!0}},[O.minZoom]:{displayName:(0,r.D)("Visual_AzureMapsMinZoom"),description:(0,r.D)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[O.maxZoom]:{displayName:(0,r.D)("Visual_AzureMapsMaxZoom"),description:(0,r.D)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[O.layerPosition]:{displayName:(0,r.D)("Visual_AzureMapsLayerPosition"),description:(0,r.D)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:T}}}}};return A?.azureMapsCustomMarkers&&(W[I.bubbleLayer].properties[O.fillColor]=c.SP.genericColor,W[I.bubbleLayer].properties[O.markerType]={displayName:(0,r.D)("Visual_AzureMapsMarkerType"),description:(0,r.D)("Visual_AzureMapsMarkerTypeDescription"),type:{enumeration:M}},W[I.bubbleLayer].properties[O.imageSourceType]={displayName:(0,r.D)("Visual_ImageType"),description:(0,r.D)("Visual_AzureMapsImageSourceTypeDescription"),type:{enumeration:P}},W[I.bubbleLayer].properties[O.imageData]={displayName:(0,r.D)("Upload_a_file"),description:(0,r.D)("Visual_AzureMapsImageDataDescription"),type:{image:{}}},W[I.bubbleLayer].properties[O.imageUrl]={displayName:(0,r.D)("Visual_AzureMapsEnterAUrl"),description:(0,r.D)("Visual_AzureMapsImageUrlDescription"),type:{text:!0}},W[I.bubbleLayer].properties[O.iconId]={displayName:(0,r.D)("Icon"),type:{text:!0}},W[I.bubbleLayer].properties[O.markerRotation]={displayName:(0,r.D)("Visual_BasicShape_Rotate"),description:(0,r.D)("Visual_AzureMapsMarkerRotationDescription"),type:{numeric:!0}},W[I.bubbleLayer].properties[O.rotationAlignment]={displayName:(0,r.D)("Visual_AzureMapsBubbleRotationAlignment"),description:(0,r.D)("Visual_AzureMapsBubbleRotationAlignmentDescription"),type:{enumeration:V}}),A?.azureMapsMultiDataFormats&&(W[I.referenceLayer].properties[O.datasourceType]={displayName:(0,r.D)("Type"),description:(0,r.D)("Visual_AzureMapsTypeDescription"),type:{enumeration:w}},W[I.referenceLayer].properties[O.referenceLayerUrl]={displayName:(0,r.D)("Visual_AzureMapsEnterAUrl"),description:(0,r.D)("Visual_AzureMapsReferenceLayerUploadAFileDescription"),type:{text:!0}}),A?.azureMapsCustomFormattingReferenceLayer&&(W[I.referenceLayer].properties[O.bubbleFillColor]={displayName:(0,r.D)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},W[I.referenceLayer].properties[O.bubbleStrokeColor]={displayName:(0,r.D)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},W[I.referenceLayer].properties[O.bubbleStrokeWidth]={displayName:(0,r.D)("Visual_DonutBorderWidth"),type:{integer:!0}},W[I.referenceLayer].properties[O.bubbleStrokeTransparency]={displayName:(0,r.D)("Visual_Border_Transparency"),type:{numeric:!0}},W[I.referenceLayer].properties[O.polygonFillColor]={displayName:(0,r.D)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},W[I.referenceLayer].properties[O.polygonStrokeColor]={displayName:(0,r.D)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},W[I.referenceLayer].properties[O.polygonStrokeWidth]={displayName:(0,r.D)("Visual_DonutBorderWidth"),type:{integer:!0}},W[I.referenceLayer].properties[O.polygonStrokeTransparency]={displayName:(0,r.D)("Visual_Border_Transparency"),type:{numeric:!0}},W[I.referenceLayer].properties[O.lineStrokeColor]={displayName:(0,r.D)("Generic_Color"),type:{fill:{solid:{color:!0}}}},W[I.referenceLayer].properties[O.lineStrokeWidth]={displayName:(0,r.D)("Visual_General_Properties_Width"),type:{integer:!0}},W[I.referenceLayer].properties[O.lineStrokeTransparency]={displayName:(0,r.D)("Transparency"),type:{numeric:!0}},W[I.referenceLayer].properties[O.unmappedObjectVisibility]={displayName:(0,r.D)("Visual_Show"),type:{bool:!0}},W[I.referenceLayer].properties[O.unmappedObjectUseCustomColors]={displayName:(0,r.D)("Visual_AzureMapsUnmappedObjectUseCustomColors"),type:{bool:!0}},W[I.referenceLayer].properties[O.unmappedObjectFillColor]={displayName:(0,r.D)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},W[I.referenceLayer].properties[O.unmappedObjectStrokeColor]={displayName:(0,r.D)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}}),A?.azureMapsGeocoding&&(W[I.mapControls].properties[O.geocodingCulture]={displayName:(0,r.D)("Visual_MapGeocodingCulture"),type:{enumeration:n.NW}}),A?.azureMapsBubbleCluster&&(W[I.bubbleLayer].properties[O.clusteringEnabled]={displayName:(0,r.D)("Visual_AzureMapsClusterBubbles"),description:(0,r.D)("Visual_AzureMapsClusterBubbles_Description"),type:{bool:!0}},W[I.bubbleLayer].properties[O.clusteredBubbleRadius]={displayName:(0,r.D)("Visual_AzureMapsClusterSize"),type:{integer:!0}},W[I.bubbleLayer].properties[O.clusteredBubbleFillColor]={displayName:(0,r.D)("Visual_AzureMapsClusterColor"),type:{fill:{solid:{color:!0}}}},W[I.bubbleLayer].properties[O.clusteredBubbleFontSize]=c.SP.fontSize,W[I.bubbleLayer].properties[O.clusteredBubbleFontColor]={displayName:(0,r.D)("Text_Color"),type:{fill:{solid:{color:!0}}}},W[I.bubbleLayer].properties[O.clusteredBubbleStrokeColor]=c.SP.borderColor,W[I.bubbleLayer].properties[O.clusteredBubbleStrokeWidth]={displayName:(0,r.D)("Visual_DonutBorderWidth"),type:{integer:!0}}),A?.azureMapsPathLayer&&(W[I.pathLayer]={displayName:(0,r.D)("Visual_AzureMaps_PathLayer"),description:(0,r.D)("Visual_AzureMaps_PathLayerDescription"),properties:{color:{displayName:(0,r.D)("Generic_Color"),type:{fill:{solid:{color:!0}}}},strokeWidth:{displayName:(0,r.D)("Visual_General_Properties_Width"),type:{integer:!0}},strokeTransparency:{displayName:(0,r.D)("Transparency"),type:{numeric:!0}},[O.minZoom]:{displayName:(0,r.D)("Visual_AzureMapsMinZoom"),description:(0,r.D)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[O.maxZoom]:{displayName:(0,r.D)("Visual_AzureMapsMaxZoom"),description:(0,r.D)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}}}}),A?.azureMapsCustomBasemap&&(W[I.mapControls].properties[O.showCountryRegionBorders]={displayName:(0,r.D)("Visual_AzureMapsShowCountryRegionBorders"),description:(0,r.D)("Visual_AzureMapsShowCountryRegionBordersDescription"),type:{bool:!0}},W[I.mapControls].properties[O.showAdminDistrictBorders]={displayName:(0,r.D)("Visual_AzureMapsShowAdminDistrictBorders"),description:(0,r.D)("Visual_AzureMapsShowAdminDistrictBordersDescription"),type:{bool:!0}},W[I.mapControls].properties[O.showAdminDistrict2Borders]={displayName:(0,r.D)("Visual_AzureMapsShowAdminDistrict2Borders"),description:(0,r.D)("Visual_AzureMapsShowAdminDistrict2BordersDescription"),type:{bool:!0}},W[I.mapControls].properties[O.showBuildingFootprints]={displayName:(0,r.D)("Visual_AzureMapsShowBuildingFootprints"),description:(0,r.D)("Visual_AzureMapsShowBuildingFootprintsDescription"),type:{bool:!0}},W[I.mapControls].properties[O.showRoadDetails]={displayName:(0,r.D)("Visual_AzureMapsShowRoadDetails"),description:(0,r.D)("Visual_AzureMapsShowRoadDetailsDescription"),type:{bool:!0}}),W}function F(A){var W=[{conditions:[{Category:{min:1},Series:{max:1},X:{min:1,max:1,kind:i.Ts.Measure},Y:{max:1,kind:i.Ts.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.Ts.Measure},Y:{min:1,max:1,kind:i.Ts.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.Ts.Measure},Y:{max:1,kind:i.Ts.Measure},Size:{min:1,max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.Ts.Measure},Y:{max:1,kind:i.Ts.Measure},Size:{max:1},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:i.Ts.Measure},Y:{max:1,kind:i.Ts.Measure},Size:{max:1}}],matrix:{rows:{select:[{composite:[{for:{in:s.Category}}]}],dataReductionAlgorithm:{top:{}}},columns:{for:{in:s.Series},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:s.Y}},{bind:{to:s.X}},{bind:{to:s.Size}},{for:{in:s.Tooltips}}]},dataVolume:6}},{conditions:[{Category:{min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:s.Series}},{composite:[{for:{in:s.Category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:6}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:i.Ts.Grouping},Y:{max:1,kind:i.Ts.Grouping},Size:{max:1}}],matrix:{rows:{select:[{bind:{to:s.Series}},{composite:[{bind:{to:s.X}},{bind:{to:s.Y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:s.Size}},{bind:{to:s.Tooltips}}]},dataVolume:6}}];return A?.azureMapsPathLayer&&(W.forEach(G=>{G.conditions.forEach(K=>{K[s.PointOrder]={max:0},K[s.PathID]={max:0}})}),W.push({conditions:[{[s.Series]:{max:1},[s.PathID]:{min:1,max:1},[s.Category]:{min:1},[s.PointOrder]:{max:1},[s.X]:{max:1,kind:i.Ts.Measure},[s.Y]:{max:1,kind:i.Ts.Measure},[s.Size]:{max:1}}],matrix:{rows:{select:[{bind:{to:s.Series}},{bind:{to:s.PathID}},{composite:[{for:{in:s.Category}},{bind:{to:s.PointOrder}}]}],dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:s.Y}},{bind:{to:s.X}},{bind:{to:s.Size}},{for:{in:s.Tooltips}}]},dataVolume:6}},{conditions:[{[s.Series]:{max:1},[s.PathID]:{min:1,max:1},[s.Category]:{max:0},[s.PointOrder]:{max:1},[s.X]:{min:1,max:1,kind:i.Ts.Grouping},[s.Y]:{min:1,max:1,kind:i.Ts.Grouping},[s.Size]:{max:1}}],matrix:{rows:{select:[{bind:{to:s.Series}},{bind:{to:s.PathID}},{composite:[{bind:{to:s.X}},{bind:{to:s.Y}},{bind:{to:s.PointOrder}}]}],dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:s.Size}},{for:{in:s.Tooltips}}]},dataVolume:6}})),W}function R(A){var W=[{conditions:[{[s.Category]:{min:1},[s.Series]:{max:1},[s.X]:{min:1,max:1,kind:i.Ts.Measure},[s.Y]:{max:1,kind:i.Ts.Measure},[s.Size]:{max:1}},{[s.Category]:{min:1},[s.Series]:{max:1},[s.X]:{max:1,kind:i.Ts.Measure},[s.Y]:{min:1,max:1,kind:i.Ts.Measure},[s.Size]:{max:1}},{[s.Category]:{min:1},[s.Series]:{max:1},[s.X]:{max:1,kind:i.Ts.Measure},[s.Y]:{max:1,kind:i.Ts.Measure},[s.Size]:{min:1,max:1}},{[s.Category]:{min:1},[s.Series]:{max:1},[s.X]:{max:1,kind:i.Ts.Measure},[s.Y]:{max:1,kind:i.Ts.Measure},[s.Size]:{max:1},[s.Tooltips]:{min:1}},{[s.Category]:{min:1},[s.Series]:{max:0},[s.X]:{max:1,kind:i.Ts.Measure},[s.Y]:{max:1,kind:i.Ts.Measure},[s.Size]:{max:1}},{[s.Category]:{min:1},[s.Series]:{max:1,min:1},[s.X]:{max:0},[s.Y]:{max:0},[s.Size]:{max:0},[s.Tooltips]:{max:0}}],matrix:{rows:{select:[{bind:{to:s.Category}}]},columns:{for:{in:s.Series}},values:{select:[{bind:{to:s.X}},{bind:{to:s.Y}},{bind:{to:s.Size}},{for:{in:s.Tooltips}}]}}},{conditions:[{[s.Category]:{max:0},[s.Series]:{max:1},[s.X]:{max:1,kind:i.Ts.Grouping},[s.Y]:{max:1,kind:i.Ts.Grouping},[s.Size]:{max:1}}],matrix:{rows:{select:[{composite:[{for:{in:s.X}},{for:{in:s.Y}}]}]},columns:{for:{in:s.Series}},values:{select:[{bind:{to:s.Size}},{for:{in:s.Tooltips}}]}}}];return A?.azureMapsPathLayer&&A?.azureMapsPathLayerVisualCalculation&&(W.forEach(G=>{G.conditions.forEach(K=>{K[s.PointOrder]={max:0},K[s.PathID]={max:0}})}),W.push({conditions:[{[s.Series]:{max:1},[s.PathID]:{min:1,max:1},[s.Category]:{min:1},[s.PointOrder]:{max:1},[s.X]:{max:1,kind:i.Ts.Measure},[s.Y]:{max:1,kind:i.Ts.Measure},[s.Size]:{max:1}}],matrix:{rows:{select:[{bind:{to:s.PathID}},{composite:[{for:{in:s.Category}},{bind:{to:s.PointOrder}}]}]},columns:{for:{in:s.Series}},values:{select:[{bind:{to:s.X}},{bind:{to:s.Y}},{bind:{to:s.Size}},{for:{in:s.Tooltips}}]}}},{conditions:[{[s.Series]:{max:1},[s.PathID]:{min:1,max:1},[s.Category]:{max:0},[s.PointOrder]:{max:1},[s.X]:{min:1,max:1,kind:i.Ts.Grouping},[s.Y]:{min:1,max:1,kind:i.Ts.Grouping},[s.Size]:{max:1}}],matrix:{rows:{select:[{bind:{to:s.PathID}},{composite:[{bind:{to:s.X}},{bind:{to:s.Y}},{bind:{to:s.PointOrder}}]}]},columns:{for:{in:s.Series}},values:{select:[{bind:{to:s.Size}},{for:{in:s.Tooltips}}]}}})),W}var B={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},mapControls:{defaultStyle:{objectName:"mapControls",propertyName:"defaultStyle"},showStylePicker:{objectName:"mapControls",propertyName:"showStylePicker"},showLabels:{objectName:"mapControls",propertyName:"showLabels"},showCountryRegionBorders:{objectName:"mapControls",propertyName:"showCountryRegionBorders"},showAdminDistrictBorders:{objectName:"mapControls",propertyName:"showAdminDistrictBorders"},showAdminDistrict2Borders:{objectName:"mapControls",propertyName:"showAdminDistrict2Borders"},showBuildingFootprints:{objectName:"mapControls",propertyName:"showBuildingFootprints"},showRoadDetails:{objectName:"mapControls",propertyName:"showRoadDetails"},showNavigationControls:{objectName:"mapControls",propertyName:"showNavigationControls"},zoom:{objectName:"mapControls",propertyName:"zoom"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},heading:{objectName:"mapControls",propertyName:"heading"},pitch:{objectName:"mapControls",propertyName:"pitch"},autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},autoZoomIncludesReferenceLayer:{objectName:"mapControls",propertyName:"autoZoomIncludesReferenceLayer"},worldWrap:{objectName:"mapControls",propertyName:"worldWrap"},showSelectionControl:{objectName:"mapControls",propertyName:"showSelectionControl"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},traffic:{showTraffic:{objectName:"traffic",propertyName:"show"},showIncidents:{objectName:"traffic",propertyName:"showIncidents"},showTrafficControl:{objectName:"traffic",propertyName:"showTrafficControl"}},tileLayer:{tileLayerUrl:{objectName:"tileLayer",propertyName:"tileLayerUrl"},tileSize:{objectName:"tileLayer",propertyName:"tileSize"},northBounds:{objectName:"tileLayer",propertyName:"northBounds"},southBounds:{objectName:"tileLayer",propertyName:"southBounds"},eastBounds:{objectName:"tileLayer",propertyName:"eastBounds"},westBounds:{objectName:"tileLayer",propertyName:"westBounds"},transparency:{objectName:"tileLayer",propertyName:"mapTransparency"},isTMS:{objectName:"tileLayer",propertyName:"isTMS"},minZoom:{objectName:"tileLayer",propertyName:"minZoom"},maxZoom:{objectName:"tileLayer",propertyName:"maxZoom"},layerPosition:{objectName:"tileLayer",propertyName:"layerPosition"}},filledMap:{show:{objectName:"filledMap",propertyName:"show"},defaultColor:{objectName:"filledMap",propertyName:"defaultColor"},transparency:{objectName:"filledMap",propertyName:"mapTransparency"},strokeColor:{objectName:"filledMap",propertyName:"strokeColor"},strokeTransparency:{objectName:"filledMap",propertyName:"strokeTransparency"},strokeWidth:{objectName:"filledMap",propertyName:"strokeWidth"},minZoom:{objectName:"filledMap",propertyName:"minZoom"},maxZoom:{objectName:"filledMap",propertyName:"maxZoom"},layerPosition:{objectName:"filledMap",propertyName:"layerPosition"}},bubbleLayer:{show:{objectName:"bubbleLayer",propertyName:"show"},fillColor:{objectName:"bubbleLayer",propertyName:"fillColor"},transparency:{objectName:"bubbleLayer",propertyName:"mapTransparency"},radius:{objectName:"bubbleLayer",propertyName:"bubbleRadius"},minRadius:{objectName:"bubbleLayer",propertyName:"minBubbleRadius"},markerRangeType:{objectName:"bubbleLayer",propertyName:"markerRangeType"},radiusScalingMethod:{objectName:"bubbleLayer",propertyName:"radiusScalingMethod"},maxRadius:{objectName:"bubbleLayer",propertyName:"maxRadius"},strokeColor:{objectName:"bubbleLayer",propertyName:"strokeColor"},autoStrokeColor:{objectName:"bubbleLayer",propertyName:"autoStrokeColor"},matchFillColor:{objectName:"bubbleLayer",propertyName:"matchFillColor"},strokeTransparency:{objectName:"bubbleLayer",propertyName:"strokeTransparency"},strokeWidth:{objectName:"bubbleLayer",propertyName:"bubbleStrokeWidth"},blur:{objectName:"bubbleLayer",propertyName:"blur"},pitchAlignment:{objectName:"bubbleLayer",propertyName:"pitchAlignment"},rotationAlignment:{objectName:"bubbleLayer",propertyName:"rotationAlignment"},markerType:{objectName:"bubbleLayer",propertyName:"markerType"},imageSourceType:{objectName:"bubbleLayer",propertyName:"imageSourceType"},imageData:{objectName:"bubbleLayer",propertyName:"imageData"},imageUrl:{objectName:"bubbleLayer",propertyName:"imageUrl"},iconId:{objectName:"bubbleLayer",propertyName:"iconId"},markerRotation:{objectName:"bubbleLayer",propertyName:"markerRotation"},zoomScaleFactor:{objectName:"bubbleLayer",propertyName:"zoomScaleFactor"},logScale:{objectName:"bubbleLayer",propertyName:"logScale"},x1:{objectName:"bubbleLayer",propertyName:"x1"},x2:{objectName:"bubbleLayer",propertyName:"x2"},y1:{objectName:"bubbleLayer",propertyName:"y1"},y2:{objectName:"bubbleLayer",propertyName:"y2"},minZoom:{objectName:"bubbleLayer",propertyName:"minZoom"},maxZoom:{objectName:"bubbleLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"},clusteringEnabled:{objectName:"bubbleLayer",propertyName:"clusteringEnabled"},clusteredBubbleRadius:{objectName:"bubbleLayer",propertyName:"clusteredBubbleRadius"},clusteredBubbleFillColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFillColor"},clusteredBubbleFontSize:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontSize"},clusteredBubbleFontColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontColor"},clusteredBubbleStrokeColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeColor"},clusteredBubbleStrokeWidth:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeWidth"}},heatMapLayer:{show:{objectName:"heatMapLayer",propertyName:"show"},heatMapRadius:{objectName:"heatMapLayer",propertyName:"heatMapRadius"},heatMapRadiusUnit:{objectName:"heatMapLayer",propertyName:"heatMapRadiusUnit"},heatMapTransparency:{objectName:"heatMapLayer",propertyName:"mapTransparency"},heatMapIntensity:{objectName:"heatMapLayer",propertyName:"heatMapIntensity"},heatMapColorLow:{objectName:"heatMapLayer",propertyName:"heatMapColorLow"},heatMapColorCenter:{objectName:"heatMapLayer",propertyName:"heatMapColorCenter"},heatMapColorHigh:{objectName:"heatMapLayer",propertyName:"heatMapColorHigh"},heatMapUseSize:{objectName:"heatMapLayer",propertyName:"heatMapUseSize"},minZoom:{objectName:"heatMapLayer",propertyName:"minZoom"},maxZoom:{objectName:"heatMapLayer",propertyName:"maxZoom"},layerPosition:{objectName:"heatMapLayer",propertyName:"layerPosition"}},barChart:{show:{objectName:"barChart",propertyName:"show"},barShape:{objectName:"barChart",propertyName:"barShape"},height:{objectName:"barChart",propertyName:"barHeight"},scaleHeightOnZoom:{objectName:"barChart",propertyName:"scaleHeightOnZoom"},thickness:{objectName:"barChart",propertyName:"thickness"},scaleThicknessOnZoom:{objectName:"barChart",propertyName:"scaleThicknessOnZoom"},defaultColor:{objectName:"barChart",propertyName:"defaultColor"},transparency:{objectName:"barChart",propertyName:"mapTransparency"},unselectedTransparency:{objectName:"barChart",propertyName:"unselectedTransparency"},minZoom:{objectName:"barChart",propertyName:"minZoom"},maxZoom:{objectName:"barChart",propertyName:"maxZoom"},layerPosition:{objectName:"barChart",propertyName:"layerPosition"}},commonDataOptions:{unselectedTransparency:{objectName:"commonDataOptions",propertyName:"unselectedTransparency"},showZeros:{objectName:"commonDataOptions",propertyName:"showZeros"},showNegatives:{objectName:"commonDataOptions",propertyName:"showNegatives"},minDataValue:{objectName:"commonDataOptions",propertyName:"minDataValue"},maxDataValue:{objectName:"commonDataOptions",propertyName:"maxDataValue"}},referenceLayer:{additionalDatasource:{objectName:"referenceLayer",propertyName:"additionalDatasource"},referenceLayerUrl:{objectName:"referenceLayer",propertyName:"referenceLayerUrl"},datasourceType:{objectName:"referenceLayer",propertyName:"datasourceType"},unmappedObjectVisibility:{objectName:"referenceLayer",propertyName:"unmappedObjectVisibility"},unmappedObjectUseCustomColors:{objectName:"referenceLayer",propertyName:"unmappedObjectUseCustomColors"},unmappedObjectFillColor:{objectName:"referenceLayer",propertyName:"unmappedObjectFillColor"},unmappedObjectStrokeColor:{objectName:"referenceLayer",propertyName:"unmappedObjectStrokeColor"}},referenceLayerBubble:{fillColor:{objectName:"referenceLayer",propertyName:"bubbleFillColor"},fillOpacity:{objectName:"referenceLayer",propertyName:"bubbleFillOpacity"},strokeColor:{objectName:"referenceLayer",propertyName:"bubbleStrokeColor"},strokeWidth:{objectName:"referenceLayer",propertyName:"bubbleStrokeWidth"},strokeTransparency:{objectName:"referenceLayer",propertyName:"bubbleStrokeTransparency"}},referenceLayerPolygon:{fillColor:{objectName:"referenceLayer",propertyName:"polygonFillColor"},fillOpacity:{objectName:"referenceLayer",propertyName:"polygonFillOpacity"},strokeColor:{objectName:"referenceLayer",propertyName:"polygonStrokeColor"},strokeWidth:{objectName:"referenceLayer",propertyName:"polygonStrokeWidth"},strokeTransparency:{objectName:"referenceLayer",propertyName:"polygonStrokeTransparency"}},referenceLayerLine:{strokeColor:{objectName:"referenceLayer",propertyName:"lineStrokeColor"},strokeWidth:{objectName:"referenceLayer",propertyName:"lineStrokeWidth"},strokeTransparency:{objectName:"referenceLayer",propertyName:"lineStrokeTransparency"}},pathLayer:{show:{objectName:"pathLayer",propertyName:"show"},color:{objectName:"pathLayer",propertyName:"color"},strokeWidth:{objectName:"pathLayer",propertyName:"strokeWidth"},strokeTransparency:{objectName:"pathLayer",propertyName:"strokeTransparency"},minZoom:{objectName:"pathLayer",propertyName:"minZoom"},maxZoom:{objectName:"pathLayer",propertyName:"maxZoom"}}}},434076:function(ve,z,e){e.d(z,{M:function(){return o},s:function(){return t}});var a=e(319842),i=e(266092),r=e(993513),t={objects:{line:{displayName:(0,i.D)("Visual_BasicShape_Line"),properties:{lineColor:r.SP.lineColor,transparency:r.SP.backgroundTransparency,weight:{displayName:(0,i.D)("Visual_BasicShape_Weight"),type:{numeric:!0}},roundEdge:{displayName:(0,i.D)("Visual_BasicShape_RoundEdges"),type:{integer:!0}}}},fill:{displayName:(0,i.D)("Visual_Fill"),properties:{show:r.SP.show,fillColor:{displayName:(0,i.D)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},transparency:r.SP.backgroundTransparency}},rotation:{displayName:(0,i.D)("Visual_BasicShape_Rotate"),properties:{angle:r.SP.genericRotation}},general:{properties:{shapeType:{type:{text:!0},suppressFormatPainterCopy:!0}}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,canRotate:!1,supportsSelection:!1,supportsVisualLink:!0,ariaRole:a.A.Img},o={general:{shapeType:{objectName:"general",propertyName:"shapeType"}},line:{transparency:{objectName:"line",propertyName:"transparency"},weight:{objectName:"line",propertyName:"weight"},roundEdge:{objectName:"line",propertyName:"roundEdge"},lineColor:{objectName:"line",propertyName:"lineColor"}},fill:{transparency:{objectName:"fill",propertyName:"transparency"},fillColor:{objectName:"fill",propertyName:"fillColor"},show:{objectName:"fill",propertyName:"show"}},rotation:{angle:{objectName:"rotation",propertyName:"angle"}}}},550967:function(ve,z,e){e.d(z,{b:function(){return o},t:function(){return t}});var a=e(693029),i=e(266092),r=e(993513),t={dataRoles:[{name:"Values",kind:a.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_Fields"),description:(0,i.D)("Role_DisplayName_FieldsDescription")}],objects:{general:{displayName:(0,i.D)("Visual_General"),properties:{formatString:r.SP.formatString}},labels:{displayName:(0,i.D)("Visual_DataPointLabel"),properties:{...r.Nq,labelDisplayUnits:r.SP.labelDisplayUnits,labelPrecision:r.SP.labelPrecision,preserveWhitespace:{displayName:(0,i.D)("Visual_LabelPreserveWhitespace"),description:(0,i.D)("Visual_LabelPreserveWhitespace_Description"),type:{bool:!0}}}},categoryLabels:{displayName:(0,i.D)("Visual_CategoryLabel"),properties:{show:r.SP.show,...r.Nq,preserveWhitespace:{displayName:(0,i.D)("Visual_LabelPreserveWhitespace"),description:(0,i.D)("Visual_CategoryLabelPreserveWhitespace_Description"),type:{bool:!0}}}},wordWrap:{displayName:(0,i.D)("Visual_WordWrap"),properties:{show:r.SP.show}}},dataViewMappings:[{conditions:[{Values:{max:1}}],single:{role:"Values"}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0,analyze:{supportsAnalyzeHighLowValues:!0},supportsOnObjectFormatting:!0},o={categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"categoryLabels",propertyName:"preserveWhitespace"}},labels:{color:{objectName:"labels",propertyName:"color"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"labels",propertyName:"preserveWhitespace"}},wordWrap:{show:{objectName:"wordWrap",propertyName:"show"}}}},993491:function(ve,z,e){e.d(z,{JR:function(){return D},Q3:function(){return m},Yz:function(){return g},l$:function(){return N}});var a=e(693029),i=e(266092),r=e(802053),t=e(415592),o=e(993513),d=e(33936),n=e(682509),c=e(837431),s=e(423688),p=e(352915),l=e(653660),u=e(416255),v=e(190593),m={Data:"Data",Tooltips:"Tooltips",Rows:"Rows"},g={accentBar:"accentBar",addBackground:"addBackground",altText:"altText",backgroundColor:"backgroundColor",backgroundFillColor:"backgroundFillColor",backgroundShow:"backgroundShow",backgroundTransparency:"backgroundTransparency",border:"border",angle:"angle",cards:"cards",cardImage:"cardImage",color:"color",customFormatString:"customFormatString",detailFontColor:"detailFontColor",detailFontSize:"detailFontSize",detailFontFamily:"detailFontFamily",detailItalic:"detailItalic",detailBold:"detailBold",detailUnderline:"detailUnderline",detailTransparency:"detailTransparency",detailPrecision:"detailPrecision",detailDisplayUnits:"detailDisplayUnits",detailValue:"detailValue",detailBackgroundColor:"detailBackgroundColor",dividerColor:"dividerColor",dividerLineStyle:"dividerLineStyle",dividerWidth:"dividerWidth",dividerIgnorePadding:"dividerIgnorePadding",dividerTransparency:"dividerTransparency",fill:d.X7.fillCustom,fixedSize:"fixedSize",fontSize:"fontSize",fontFamily:"fontFamily",fontColor:"fontColor",glowCustom:d.X7.glowCustom,grid:"grid",image:"image",imageBlur:"imageBlur",imageContrast:"imageContrast",imageData:"imageData",imageDataFit:"imageDataFit",imageEffects:"imageEffects",imageExposure:"imageExposure",imageHeight:"imageHeight",imageSaturation:"imageSaturation",imageTransparency:"imageTransparency",imageType:"imageType",imageUrl:"imageUrl",imageUrlFit:"imageUrlFit",imageAreaSize:"imageAreaSize",layout:"layout",outline:d.X7.outline,padding:"padding",position:"position",rectangleRoundedCurve:"rectangleRoundedCurve",rectangleRoundedCurveCustomStyle:"rectangleRoundedCurveCustomStyle",rectangleRoundedCurveLeftBottom:"rectangleRoundedCurveLeftBottom",rectangleRoundedCurveLeftTop:"rectangleRoundedCurveLeftTop",rectangleRoundedCurveRightBottom:"rectangleRoundedCurveRightBottom",rectangleRoundedCurveRightTop:"rectangleRoundedCurveRightTop",Rotation:"textAngle",referenceLabel:"referenceLabel",referenceLabelDetail:"referenceLabelDetail",referenceLabelLayout:"referenceLabelLayout",referenceLabelTitle:"referenceLabelTitle",referenceLabelValue:"referenceLabelValue",divider:"divider",rotation:"rotation",show:"show",showBlankAs:"showBlankAs",smallMultiplesLayout:"smallMultiplesLayout",smallMultiplesBorder:"smallMultiplesBorder",smallMultiplesGrid:"smallMultiplesGrid",smallMultiplesOverFlow:"smallMultiplesOverFlow",smallMultiplesHeader:"smallMultiplesHeader",smallMultiplesAccentBar:"smallMultiplesAccentBar",spacing:"spacing",size:"size",shapeCustomRectangle:d.X7.shapeCustomRectangle,shadowCustom:d.X7.shadowCustom,shapeRotation:"shapeAngle",title:"title",titleFontFamily:"titleFontFamily",titleFontSize:"titleFontSize",titleContentType:"titleContentType",titleText:"titleText",titleTransparency:"titleTransparency",titleUnderline:"titleUnderline",titleItalic:"titleItalic",titleFontColor:"titleFontColor",titleBold:"titleBold",textRotation:"textAngle",transparency:"transparency",verticalAlignment:"verticalAlignment",value:"value",valueFontColor:"valueFontColor",valueFontSize:"valueFontSize",valueFontFamily:"valueFontFamily",valueItalic:"valueItalic",valueBold:"valueBold",valueUnderline:"valueUnderline",valueTransparency:"valueTransparency",valuePrecision:"valuePrecision",valueDisplayUnits:"valueDisplayUnits",width:"width"},E={border:{show:{objectName:"border",propertyName:"show"},style:{objectName:"border",propertyName:"style"},transparency:{objectName:"border",propertyName:"transparency"},width:{objectName:"border",propertyName:"width"},color:{objectName:"border",propertyName:"color"}},divider:{show:{objectName:"divider",propertyName:"show"},dividerColor:{objectName:"divider",propertyName:"dividerColor"},dividerLineStyle:{objectName:"divider",propertyName:"dividerLineStyle"},dividerWidth:{objectName:"divider",propertyName:"dividerWidth"},dividerIgnorePadding:{objectName:"divider",propertyName:"dividerIgnorePadding"},dividerTransparency:{objectName:"divider",propertyName:"dividerTransparency"}},cardImage:{altText:{objectName:"cardImage",propertyName:"altText"},addBackground:{objectName:"cardImage",propertyName:"addBackground"},backgroundFillColor:{objectName:"cardImage",propertyName:"backgroundFillColor"},backgroundTransparency:{objectName:"cardImage",propertyName:"backgroundTransparency"},image:{objectName:"cardImage",propertyName:"image"},imageBlur:{objectName:"cardImage",propertyName:"imageBlur"},imageContrast:{objectName:"cardImage",propertyName:"imageContrast"},imageData:{objectName:"cardImage",propertyName:"imageData"},imageDataFit:{objectName:"cardImage",propertyName:"imageDataFit"},imageEffects:{objectName:"cardImage",propertyName:"imageEffects"},imageExposure:{objectName:"cardImage",propertyName:"imageExposure"},imageHeight:{objectName:"cardImage",propertyName:"imageHeight"},imageSaturation:{objectName:"cardImage",propertyName:"imageSaturation"},imageTransparency:{objectName:"cardImage",propertyName:"imageTransparency"},imageType:{objectName:"cardImage",propertyName:"imageType"},imageUrl:{objectName:"cardImage",propertyName:"imageUrl"},imageUrlFit:{objectName:"cardImage",propertyName:"imageUrlFit"},rectangleRoundedCurve:{objectName:"cardImage",propertyName:"rectangleRoundedCurve"},rectangleRoundedCurveCustomStyle:{objectName:"cardImage",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurveLeftBottom:{objectName:"cardImage",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveLeftTop:{objectName:"cardImage",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightBottom:{objectName:"cardImage",propertyName:"rectangleRoundedCurveRightBottom"},rectangleRoundedCurveRightTop:{objectName:"cardImage",propertyName:"rectangleRoundedCurveRightTop"},show:{objectName:"cardImage",propertyName:"show"}},grid:{show:{objectName:"grid",propertyName:"show"},style:{objectName:"grid",propertyName:"style"},transparency:{objectName:"grid",propertyName:"transparency"},width:{objectName:"grid",propertyName:"width"},color:{objectName:"grid",propertyName:"color"}},image:{show:{objectName:"image",propertyName:"show"},imageType:{objectName:"image",propertyName:"imageType"},image:{objectName:"image",propertyName:"image"},imageUrl:{objectName:"image",propertyName:"imageUrl"},transparency:{objectName:"image",propertyName:"transparency"},position:{objectName:"image",propertyName:"position"},padding:{objectName:"image",propertyName:"padding"},size:{objectName:"image",propertyName:"size"},altText:{objectName:"image",propertyName:"altText"},fixedSize:{objectName:"image",propertyName:"fixedSize"},imageAreaSize:{objectName:"image",propertyName:"imageAreaSize"},verticalAlignment:{objectName:"image",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"image",propertyName:"horizontalAlignment"}},referenceLabel:{value:{objectName:"referenceLabel",propertyName:"value"},formatString:{objectName:"referenceLabel",propertyName:"formatString"},backgroundShow:{objectName:"referenceLabel",propertyName:"backgroundShow"},backgroundColor:{objectName:"referenceLabel",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"referenceLabel",propertyName:"backgroundTransparency"}},referenceLabelTitle:{show:{objectName:"referenceLabelTitle",propertyName:"show"},titleContentType:{objectName:"referenceLabelTitle",propertyName:"titleContentType"},titleText:{objectName:"referenceLabelTitle",propertyName:"titleText"},titleFontColor:{objectName:"referenceLabelTitle",propertyName:"titleFontColor"},titleFontSize:{objectName:"referenceLabelTitle",propertyName:"titleFontSize"},titleFontFamily:{objectName:"referenceLabelTitle",propertyName:"titleFontFamily"},titleItalic:{objectName:"referenceLabelTitle",propertyName:"titleItalic"},titleBold:{objectName:"referenceLabelTitle",propertyName:"titleBold"},titleUnderline:{objectName:"referenceLabelTitle",propertyName:"titleUnderline"},titleTransparency:{objectName:"referenceLabelTitle",propertyName:"titleTransparency"}},referenceLabelValue:{show:{objectName:"referenceLabelValue",propertyName:"show"},valueFontColor:{objectName:"referenceLabelValue",propertyName:"valueFontColor"},valueFontSize:{objectName:"referenceLabelValue",propertyName:"valueFontSize"},valueFontFamily:{objectName:"referenceLabelValue",propertyName:"valueFontFamily"},valueItalic:{objectName:"referenceLabelValue",propertyName:"valueItalic"},valueBold:{objectName:"referenceLabelValue",propertyName:"valueBold"},valueUnderline:{objectName:"referenceLabelValue",propertyName:"valueUnderline"},valueTransparency:{objectName:"referenceLabelValue",propertyName:"valueTransparency"},valuePrecision:{objectName:"referenceLabelValue",propertyName:"valuePrecision"},valueDisplayUnits:{objectName:"referenceLabelValue",propertyName:"valueDisplayUnits"},showBlankAs:{objectName:"referenceLabelValue",propertyName:"showBlankAs"},customFormatString:{objectName:"referenceLabelValue",propertyName:"customFormatString"}},referenceLabelDetail:{show:{objectName:"referenceLabelDetail",propertyName:"show"},detailFontColor:{objectName:"referenceLabelDetail",propertyName:"detailFontColor"},detailFontSize:{objectName:"referenceLabelDetail",propertyName:"detailFontSize"},detailFontFamily:{objectName:"referenceLabelDetail",propertyName:"detailFontFamily"},detailItalic:{objectName:"referenceLabelDetail",propertyName:"detailItalic"},detailBold:{objectName:"referenceLabelDetail",propertyName:"detailBold"},detailUnderline:{objectName:"referenceLabelDetail",propertyName:"detailUnderline"},detailTransparency:{objectName:"referenceLabelDetail",propertyName:"detailTransparency"},detailPrecision:{objectName:"referenceLabelDetail",propertyName:"detailPrecision"},detailDisplayUnits:{objectName:"referenceLabelDetail",propertyName:"detailDisplayUnits"},showBlankAs:{objectName:"referenceLabelDetail",propertyName:"showBlankAs"},detailValue:{objectName:"referenceLabelDetail",propertyName:"detailValue"},detailBackgroundColor:{objectName:"referenceLabelDetail",propertyName:"detailBackgroundColor"},customFormatString:{objectName:"referenceLabelDetail",propertyName:"customFormatString"},formatString:{objectName:"referenceLabelDetail",propertyName:"formatString"}},referenceLabelLayout:{position:{objectName:"referenceLabelLayout",propertyName:"position"},arrangement:{objectName:"referenceLabelLayout",propertyName:"arrangement"},style:{objectName:"referenceLabelLayout",propertyName:"style"},horizontalAlignment:{objectName:"referenceLabelLayout",propertyName:"horizontalAlignment"},verticalAlignment:{objectName:"referenceLabelLayout",propertyName:"verticalAlignment"},valueArea:{objectName:"referenceLabelLayout",propertyName:"valueArea"},textWrap:{objectName:"referenceLabelLayout",propertyName:"textWrap"},labelSpace:{objectName:"referenceLabelLayout",propertyName:"labelSpace"},outerPadding:{objectName:"referenceLabelLayout",propertyName:"outerPadding"},customizePadding:{objectName:"referenceLabelLayout",propertyName:"customizePadding"},paddingBeforeDivider:{objectName:"referenceLabelLayout",propertyName:"paddingBeforeDivider"},paddingAfterDivider:{objectName:"referenceLabelLayout",propertyName:"paddingAfterDivider"}}},D={general:{formatString:o.kM.formatString},fillCustom:d.Ct.fillCustom,outline:d.Ct.outline,value:d.Ct.value,label:d.Ct.label,referenceLabel:E.referenceLabel,shapeCustomRectangle:d.Ct.shapeCustomRectangle,layout:d.Ct.layout,border:E.border,cardImage:E.cardImage,grid:E.grid,overFlow:d.Ct.overFlow,shadowCustom:d.Ct.shadowCustom,glowCustom:d.Ct.glowCustom,spacing:d.Ct.spacing,padding:d.Ct.padding,accentBar:d.Ct.accentBar,image:E.image,referenceLabelTitle:E.referenceLabelTitle,referenceLabelValue:E.referenceLabelValue,referenceLabelDetail:E.referenceLabelDetail,referenceLabelLayout:E.referenceLabelLayout,divider:E.divider,smallMultiplesLayout:n.vx.smallMultiplesLayout,smallMultiplesBorder:n.vx.smallMultiplesBorder,smallMultiplesGrid:n.vx.smallMultiplesGrid,smallMultiplesOverFlow:n.vx.smallMultiplesOverFlow,smallMultiplesHeader:n.vx.smallMultiplesHeader,smallMultiplesAccentBar:n.vx.smallMultiplesAccentBar,smallMultiplesCellBackGround:n.vx.smallMultiplesCellBackGround,smallMultiplesOuterShape:n.vx.smallMultiplesOuterShape},h={...(0,o.ai)({strokeShow:"show",strokePattern:"style",strokeTransparency:"transparency",strokeWidth:"width",strokeColor:"color"})},C={...(0,o.ai)({strokeShow:"show",strokePattern:"style",strokeTransparency:"transparency",strokeWidth:"width",strokeColor:"color"})},y={show:o.SP.show,[g.imageType]:{displayName:(0,i.D)("Visual_ImageType"),type:{enumeration:r.Hq}},[g.image]:o.SP.image,[g.imageUrl]:{displayName:(0,i.D)("Image_Url"),type:{text:!0}},[g.transparency]:o.SP.backgroundTransparency,[g.position]:{displayName:(0,i.D)("Visual_Position"),type:{enumeration:t.jT}},[g.padding]:{displayName:(0,i.D)("Visual_Space_Between_Image"),type:{integer:!0}},[g.size]:{displayName:(0,i.D)("Visual_BubbleSize"),type:{integer:!0}},[g.altText]:{displayName:(0,i.D)("Visual_General_Properties_Description"),type:{formatting:{altText:!0}}},[g.fixedSize]:{displayName:(0,i.D)("Visual_FixSize"),type:{bool:!0}},[g.imageAreaSize]:{displayName:(0,i.D)("Visual_Image_Area_Size"),type:{integer:!0}},[g.verticalAlignment]:o.SP.verticalAlignment,horizontalAlignment:o.SP.horizontalAlignment},f={show:o.SP.show,[g.altText]:{displayName:(0,i.D)("Visual_General_Properties_Description"),type:{formatting:{altText:!0}}},[g.addBackground]:{displayName:(0,i.D)("Visual_Add_Background"),type:{bool:!0}},[g.backgroundFillColor]:o.SP.fill,[g.backgroundTransparency]:o.SP.backgroundTransparency,[g.image]:o.SP.image,[g.imageBlur]:o.SP.imageBlur,[g.imageContrast]:o.SP.imageContrast,[g.imageData]:o.SP.imageData,[g.imageDataFit]:o.SP.imageExtendedFit,[g.imageEffects]:o.SP.imageEffects,[g.imageExposure]:o.SP.imageExposure,[g.imageHeight]:o.SP.imageHeight,[g.imageSaturation]:o.SP.imageSaturation,[g.imageTransparency]:o.SP.backgroundImageTransparency,[g.imageType]:o.SP.imageType,[g.imageUrl]:o.SP.imageUrl,[g.imageUrlFit]:o.SP.imageExtendedFit,[g.rectangleRoundedCurve]:{displayName:(0,i.D)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},[g.rectangleRoundedCurveCustomStyle]:{displayName:(0,i.D)("Visual_CustomRadius"),type:{bool:!0}},[g.rectangleRoundedCurveLeftBottom]:{displayName:(0,i.D)("Visual_CornerBottomLeft"),type:{integer:!0}},[g.rectangleRoundedCurveLeftTop]:{displayName:(0,i.D)("Visual_CornerTopLeft"),type:{integer:!0}},[g.rectangleRoundedCurveRightBottom]:{displayName:(0,i.D)("Visual_CornerBottomRight"),type:{integer:!0}},[g.rectangleRoundedCurveRightTop]:{displayName:(0,i.D)("Visual_CornerTopRight"),type:{integer:!0}}},S={[g.value]:{displayName:(0,i.D)("Visual_Add_Label"),formatStringProperty:D.referenceLabel.formatString,type:{variantDeleteEmpty:!0,variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},formatString:o.SP.formatString,[g.backgroundColor]:o.SP.genericColor,[g.backgroundTransparency]:o.SP.backgroundTransparency,[g.backgroundShow]:o.SP.show},b={show:o.SP.show,[g.titleText]:{displayName:(0,i.D)("Text"),type:{text:!0}},[g.titleFontSize]:o.SP.fontSize,[g.titleFontFamily]:o.SP.fontFamily,[g.titleUnderline]:o.SP.underline,[g.titleItalic]:o.SP.italic,[g.titleBold]:o.SP.bold,[g.titleFontColor]:o.SP.genericColor,[g.titleTransparency]:o.SP.genericTransparency,[g.titleContentType]:{displayName:(0,i.D)("Content"),type:{enumeration:s.IM}}},V={show:o.SP.show,[g.valueFontColor]:o.SP.genericColor,[g.valueFontSize]:o.SP.fontSize,[g.valueFontFamily]:o.SP.fontFamily,[g.valueUnderline]:o.SP.underline,[g.valueBold]:o.SP.bold,[g.valueItalic]:o.SP.italic,[g.valueTransparency]:o.SP.genericTransparency,[g.valuePrecision]:o.SP.labelPrecision,[g.valueDisplayUnits]:{...o.SP.labelDisplayUnits,type:{enumeration:p.N}},[g.showBlankAs]:o.SP.showBlankAs,[g.customFormatString]:o.SP.dataLabelCustomFormatString},M={show:o.SP.show,[g.detailFontColor]:o.SP.fontColor,[g.detailFontSize]:o.SP.fontSize,[g.detailFontFamily]:o.SP.fontFamily,[g.detailUnderline]:o.SP.underline,[g.detailBold]:o.SP.bold,[g.detailItalic]:o.SP.italic,[g.detailTransparency]:o.SP.genericTransparency,[g.detailPrecision]:o.SP.labelPrecision,[g.detailDisplayUnits]:{...o.SP.labelDisplayUnits,type:{enumeration:p.N}},[g.showBlankAs]:o.SP.showBlankAs,[g.detailValue]:{...o.SP.dynamicLabelValue,formatStringProperty:D.referenceLabelDetail.formatString},formatString:o.SP.formatString,[g.detailBackgroundColor]:o.SP.genericColor,[g.customFormatString]:o.SP.dataLabelCustomFormatString},P={...(0,o.ai)({strokeShow:"show",strokeColor:"dividerColor",strokeTransparency:"dividerTransparency",strokeWidth:"dividerWidth",strokePattern:"dividerLineStyle"}),dividerIgnorePadding:{displayName:(0,i.D)("Visual_Divider_IgnorePadding"),type:{bool:!0}}},T={position:{displayName:(0,i.D)("Visual_Position"),type:{enumeration:c.r}},arrangement:{displayName:(0,i.D)("Visual_Arrangement"),type:{enumeration:l.Y}},style:{displayName:(0,i.D)("Visual_Axis_Style"),type:{enumeration:u.u}},horizontalAlignment:o.SP.horizontalAlignment,verticalAlignment:o.SP.verticalAlignment,valueArea:{displayName:(0,i.D)("Visual_Label_ValueArea"),type:{numeric:!0}},textWrap:o.SP.textWrap,labelSpace:{displayName:(0,i.D)("Visual_LabelSpacing"),type:{numeric:!0}},outerPadding:{displayName:(0,i.D)("Visual_OuterPadding"),type:{numeric:!0}},customizePadding:{displayName:(0,i.D)("Visual_OuterPadding_Custom"),type:{bool:!0}},paddingBeforeDivider:{displayName:(0,i.D)("Visual_LabelPadding_DividerBefore"),type:{numeric:!0}},paddingAfterDivider:{displayName:(0,i.D)("Visual_LabelPadding_DividerAfter"),type:{numeric:!0}}};function N(I){return{dataRoles:w(I),objects:{[g.accentBar]:d.ZX.accentBar,[g.border]:{displayName:(0,i.D)("Visual_Border"),properties:h},[g.cardImage]:{displayName:(0,i.D)("Images"),properties:f},[g.divider]:{displayName:(0,i.D)("Visual_Divider"),properties:P},[g.fill]:d.ZX.fillCustom,general:{displayName:(0,i.D)("Visual_General"),properties:{formatString:o.SP.formatString}},[g.glowCustom]:d.ZX.glowCustom,[g.grid]:{displayName:(0,i.D)("Visual_Grid"),properties:C},[g.image]:{displayName:(0,i.D)("Images"),properties:y},[d.X7.label]:d.ZX.label,[g.layout]:d.ZX.layout,[g.outline]:d.ZX.outline,[d.X7.overFlow]:d.ZX.overFlow,[g.padding]:d.ZX.padding,[g.referenceLabel]:{displayName:(0,i.D)("Visual_Reference_Labels"),properties:S},[g.referenceLabelDetail]:{displayName:(0,i.D)("Visual_Label_DetailLabelName"),properties:M},[g.referenceLabelLayout]:{displayName:(0,i.D)("Layout"),properties:T},[g.referenceLabelTitle]:{displayName:(0,i.D)("Title"),properties:b},[g.referenceLabelValue]:{displayName:(0,i.D)("Value"),properties:V},[g.rotation]:{displayName:(0,i.D)("Visual_BasicShape_Rotate"),properties:{[g.angle]:o.SP.genericRotation,[g.shapeRotation]:o.SP.shapeRotation,[g.textRotation]:o.SP.textRotation}},[g.shadowCustom]:d.ZX.shadowCustom,[g.shapeCustomRectangle]:d.ZX.shapeCustomRectangle,[g.smallMultiplesAccentBar]:n.Ij.smallMultiplesAccentBar,[g.smallMultiplesBorder]:n.Ij.smallMultiplesBorder,[n.wq.smallMultiplesCellBackGround]:n.Ij.smallMultiplesCellBackGround,[g.smallMultiplesGrid]:n.Ij.smallMultiplesGrid,[g.smallMultiplesHeader]:n.Ij.smallMultiplesHeader,[g.smallMultiplesLayout]:n.Ij.smallMultiplesLayout,[n.wq.smallMultiplesOuterShape]:n.Ij.smallMultiplesOuterShape,[g.smallMultiplesOverFlow]:n.Ij.smallMultiplesOverFlow,[g.spacing]:d.ZX.spacing,[d.X7.value]:d.ZX.value},dataViewMappings:[{conditions:[{[m.Rows]:{max:1}},{[m.Data]:{min:1}}],matrix:{rows:{select:[{composite:[{for:{in:m.Rows}}],dataReductionAlgorithm:{window:{count:(0,v.k3)(4,4)}}}]},values:{select:[{for:{in:m.Data}},{for:{in:m.Tooltips}}]}}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0,sorting:{default:{}}}}function w(I){var O=[{name:m.Data,kind:a.Ts.Measure,displayName:(0,i.D)("Data"),displayOrder:0},{name:m.Tooltips,kind:a.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_Tooltips"),description:(0,i.D)("Role_Tooltips_Description"),joinPredicate:a.gD.None,displayOrder:2}];return I&&I.cardVisualSmallMultiples&&O.push({name:m.Rows,kind:a.Ts.Grouping,displayName:(0,i.D)("Visual_Categories"),displayOrder:1,description:(0,i.D)("Role_DisplayName_SmallMultiples_Description")}),O}},429943:function(ve,z,e){e.d(z,{CY:function(){return u},Cl:function(){return o},Cx:function(){return l},De:function(){return s},Jl:function(){return d},VE:function(){return c},Yp:function(){return m},bl:function(){return t},lP:function(){return r},mO:function(){return v},vu:function(){return n},wn:function(){return p}});var a=e(985299),i=e(993513),r={category:"Category",series:"Series",x:"X",y:"Y",y2:"Y2",gradient:"Gradient",tooltips:"Tooltips",rows:"Rows"},t={category:r.category,series:r.series,rows:r.rows,y:r.y,gradient:r.gradient,tooltips:r.tooltips},o={Rows:r.rows,Category:r.category,Series:r.series,Y:r.y,Y2:r.y2,Tooltips:r.tooltips},d={category:r.category,series:r.series,x:r.x,y:r.y,gradient:r.gradient,tooltips:r.tooltips,size:"Size",play:"Play"},n={category:r.category,y:r.y,tooltips:r.tooltips,breakdown:"Breakdown"},c={category:r.category,series:r.series,y:r.y,y2:r.y2,tooltips:r.tooltips,rows:r.rows},s={scalarKey:{min:a.Q},filters:{filteredToUniqueValue:{objectName:"filters",propertyName:"filteredToUniqueValue"}},categoryAxis:{show:{objectName:"categoryAxis",propertyName:"show"},fontFamily:{objectName:"categoryAxis",propertyName:"fontFamily"},fontSize:{objectName:"categoryAxis",propertyName:"fontSize"},bold:{objectName:"categoryAxis",propertyName:"bold"},italic:{objectName:"categoryAxis",propertyName:"italic"},underline:{objectName:"categoryAxis",propertyName:"underline"},showAxisTitle:{objectName:"categoryAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"categoryAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"categoryAxis",propertyName:"titleFontSize"},titleBold:{objectName:"categoryAxis",propertyName:"titleBold"},titleItalic:{objectName:"categoryAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"categoryAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"categoryAxis",propertyName:"concatenateLabels"},start:{objectName:"categoryAxis",propertyName:"start"},end:{objectName:"categoryAxis",propertyName:"end"},axisType:{objectName:"categoryAxis",propertyName:"axisType"},axisStyle:{objectName:"categoryAxis",propertyName:"axisStyle"},roundRange:{objectName:"categoryAxis",propertyName:"roundRange"},labelDisplayUnits:{objectName:"categoryAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"categoryAxis",propertyName:"labelPrecision"},labelColor:{objectName:"categoryAxis",propertyName:"labelColor"},logAxisScale:{objectName:"categoryAxis",propertyName:"logAxisScale"},titleText:{objectName:"categoryAxis",propertyName:"titleText"},titleColor:{objectName:"categoryAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"},gridlineShow:{objectName:"categoryAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"categoryAxis",propertyName:"gridlineColor"},gridlineTransparency:{objectName:"categoryAxis",propertyName:"gridlineTransparency"},gridlineThickness:{objectName:"categoryAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"categoryAxis",propertyName:"gridlineStyle"},gridlineDashArray:{objectName:"categoryAxis",propertyName:"gridlineDashArray"},gridlineDashCap:{objectName:"categoryAxis",propertyName:"gridlineDashCap"},gridlineAutoScale:{objectName:"categoryAxis",propertyName:"gridlineAutoScale"},maxMarginFactor:{objectName:"categoryAxis",propertyName:"maxMarginFactor"},innerPadding:{objectName:"categoryAxis",propertyName:"innerPadding"},invertAxis:{objectName:"categoryAxis",propertyName:"invertAxis"},switchAxisPosition:{objectName:"categoryAxis",propertyName:"switchAxisPosition"}},valueAxis:{show:{objectName:"valueAxis",propertyName:"show"},fontFamily:{objectName:"valueAxis",propertyName:"fontFamily"},fontSize:{objectName:"valueAxis",propertyName:"fontSize"},bold:{objectName:"valueAxis",propertyName:"bold"},italic:{objectName:"valueAxis",propertyName:"italic"},underline:{objectName:"valueAxis",propertyName:"underline"},showAxisTitle:{objectName:"valueAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"valueAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"valueAxis",propertyName:"titleFontSize"},titleBold:{objectName:"valueAxis",propertyName:"titleBold"},titleItalic:{objectName:"valueAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"valueAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"valueAxis",propertyName:"concatenateLabels"},start:{objectName:"valueAxis",propertyName:"start"},end:{objectName:"valueAxis",propertyName:"end"},invertAxis:{objectName:"valueAxis",propertyName:"invertAxis"},sharedAxis:{objectName:"valueAxis",propertyName:"sharedAxis"},scaleToFit:{objectName:"valueAxis",propertyName:"scaleToFit"},totalsEnabled:{objectName:"valueAxis",propertyName:"totalsEnabled"},axisType:{objectName:"valueAxis",propertyName:"axisType"},axisStyle:{objectName:"valueAxis",propertyName:"axisStyle"},roundRange:{objectName:"valueAxis",propertyName:"roundRange"},labelDisplayUnits:{objectName:"valueAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"valueAxis",propertyName:"labelPrecision"},labelColor:{objectName:"valueAxis",propertyName:"labelColor"},logAxisScale:{objectName:"valueAxis",propertyName:"logAxisScale"},titleText:{objectName:"valueAxis",propertyName:"titleText"},titleColor:{objectName:"valueAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"valueAxis",propertyName:"preferredCategoryWidth"},axisLabel:{objectName:"valueAxis",propertyName:"axisLabel"},gridlineShow:{objectName:"valueAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"valueAxis",propertyName:"gridlineColor"},gridlineTransparency:{objectName:"valueAxis",propertyName:"gridlineTransparency"},gridlineThickness:{objectName:"valueAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"valueAxis",propertyName:"gridlineStyle"},gridlineDashArray:{objectName:"valueAxis",propertyName:"gridlineDashArray"},gridlineDashCap:{objectName:"valueAxis",propertyName:"gridlineDashCap"},gridlineAutoScale:{objectName:"valueAxis",propertyName:"gridlineAutoScale"},secShow:{objectName:"valueAxis",propertyName:"secShow"},alignZeros:{objectName:"valueAxis",propertyName:"alignZeros"},secShowAxisTitle:{objectName:"valueAxis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"valueAxis",propertyName:"secFontFamily"},secFontSize:{objectName:"valueAxis",propertyName:"secFontSize"},secBold:{objectName:"valueAxis",propertyName:"secBold"},secItalic:{objectName:"valueAxis",propertyName:"secItalic"},secUnderline:{objectName:"valueAxis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"valueAxis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"valueAxis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"valueAxis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"valueAxis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"valueAxis",propertyName:"secTitleUnderline"},secStart:{objectName:"valueAxis",propertyName:"secStart"},secEnd:{objectName:"valueAxis",propertyName:"secEnd"},secInvertAxis:{objectName:"valueAxis",propertyName:"secInvertAxis"},secPosition:{objectName:"valueAxis",propertyName:"secPosition"},secAxisScale:{objectName:"valueAxis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"valueAxis",propertyName:"secAxisStyle"},secRoundRange:{objectName:"valueAxis",propertyName:"secRoundRange"},secLogAxisScale:{objectName:"valueAxis",propertyName:"secLogAxisScale"},secLabelDisplayUnits:{objectName:"valueAxis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"valueAxis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"valueAxis",propertyName:"secLabelColor"},secTitleText:{objectName:"valueAxis",propertyName:"secTitleText"},secTitleColor:{objectName:"valueAxis",propertyName:"secTitleColor"},switchAxisPosition:{objectName:"valueAxis",propertyName:"switchAxisPosition"}},y2Axis:{show:{objectName:"y2Axis",propertyName:"show"},secShowAxisTitle:{objectName:"y2Axis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"y2Axis",propertyName:"secFontFamily"},secFontSize:{objectName:"y2Axis",propertyName:"secFontSize"},secBold:{objectName:"y2Axis",propertyName:"secBold"},secItalic:{objectName:"y2Axis",propertyName:"secItalic"},secUnderline:{objectName:"y2Axis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"y2Axis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"y2Axis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"y2Axis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"y2Axis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"y2Axis",propertyName:"secTitleUnderline"},secStart:{objectName:"y2Axis",propertyName:"secStart"},secEnd:{objectName:"y2Axis",propertyName:"secEnd"},secInvertAxis:{objectName:"y2Axis",propertyName:"secInvertAxis"},secAxisScale:{objectName:"y2Axis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"y2Axis",propertyName:"secAxisStyle"},secLabelDisplayUnits:{objectName:"y2Axis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"y2Axis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"y2Axis",propertyName:"secLabelColor"},secLogAxisScale:{objectName:"y2Axis",propertyName:"secLogAxisScale"},secTitleText:{objectName:"y2Axis",propertyName:"secTitleText"},secTitleColor:{objectName:"y2Axis",propertyName:"secTitleColor"},invertAxis:{objectName:"y2Axis",propertyName:"invertAxis"},secRoundRange:{objectName:"y2Axis",propertyName:"secRoundRange"}},general:{responsive:{objectName:"general",propertyName:"responsive"},responsiveLegacy:{objectName:"general",propertyName:"responsiveLegacy"},formatString:{objectName:"general",propertyName:"formatString"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"}},legend:{},annotationTemplates:{callout:i.sA}},p={generic:"referenceLine",x:"xAxisReferenceLine",y1:"y1AxisReferenceLine"},l={show:"show",displayName:"displayName",value:"value",position:"position",...i.I$,shadeShow:"shadeShow",shadeRegion:"shadeRegion",shadeColor:"shadeColor",shadeColorMatchStroke:"shadeColorMatchStroke",shadeTransparency:"shadeTransparency",dataLabelShow:"dataLabelShow",dataLabelColor:"dataLabelColor",dataLabelText:"dataLabelText",dataLabelDecimalPoints:"dataLabelDecimalPoints",dataLabelHorizontalPosition:"dataLabelHorizontalPosition",dataLabelVerticalPosition:"dataLabelVerticalPosition",dataLabelDisplayUnits:"dataLabelDisplayUnits"},u={show:"show",displayName:"displayName",lineColor:"lineColor",transparency:"transparency",style:"style",combineSeries:"combineSeries",useHighlightValues:"useHighlightValues"},v="trend",m="forecast"},687655:function(ve,z,e){e.d(z,{CW:function(){return c},Jw:function(){return l},LH:function(){return p},XV:function(){return s}});var a=e(236880),i=e(693029),r=e(319842),t=e(266092),o=e(190593),d=e(429943),n=e(993513),c=(0,a.cM)(s(!1,!1,!1,!1,!0));function s(u=!1,v=!1,m=!1,g=!1,E=!1){var D=m||v&&!g;return{general:{displayName:(0,t.D)("Visual_General"),properties:{formatString:n.SP.formatString,responsive:n.SP.responsive,responsiveLegacy:n.SP.responsiveLegacy}},legend:{displayName:n.rg.legend.displayName,description:n.rg.legend.description,properties:{...n.rg.legend.properties,showGradientLegend:n.SP.showGradientLegend}},subheader:n.rg.subheader,[o.xf]:n.rg.smallMultiplesLayout,categoryAxis:{displayName:(0,t.D)(u?"Visual_YAxis":"Visual_XAxis"),properties:{show:n.SP.show,...n.YO,...n.WI,...n.po,...(0,n.Jx)(u?"y":"x"),...n.hL,switchAxisPosition:n.SP.switchAxisPosition}},valueAxis:{displayName:(0,t.D)(u?"Visual_XAxis":"Visual_YAxis"),properties:{show:n.SP.show,...n.e6,...n.po,...(0,n.Jx)(u?"x":"y"),...n.hL,switchAxisPosition:n.SP.switchAxisPosition}},zoom:{displayName:n.rg.zoom.displayName,properties:{show:n.rg.zoom.properties.show,showOnCategoryAxis:{displayName:(0,t.D)(u?"Visual_YAxis":"Visual_XAxis"),type:{bool:!0}},categoryMin:n.rg.zoom.properties.categoryMin,categoryMax:n.rg.zoom.properties.categoryMax,categorySize:n.rg.zoom.properties.categorySize,showOnValueAxis:{displayName:(0,t.D)(u?"Visual_XAxis":"Visual_YAxis"),type:{bool:!0}},valueMin:n.rg.zoom.properties.valueMin,valueMax:n.rg.zoom.properties.valueMax,valueSize:n.rg.zoom.properties.valueSize,showLabels:n.rg.zoom.properties.showLabels,showTooltip:n.rg.zoom.properties.showTooltip}},dataPoint:{displayName:(0,t.D)("Visual_DataPoint"),description:(0,t.D)("Visual_DataPointDescription"),properties:{defaultColor:{...n.SP.defaultColor,...g&&{displayName:(0,t.D)("Visual_DefaultColumnColor")}},fill:n.SP.genericColor,fillRule:{displayName:(0,t.D)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:d.bl.gradient,output:{property:"fill",selector:[d.bl.category]}}},fillTransparency:n.SP.genericTransparency,...n.A,...(v||E)&&{borderOutlineOnly:n.SP.borderOutlineOnly}}},layout:{displayName:(0,t.D)("Layout"),properties:{seriesOrderReversed:n.SP.seriesOrderReversed,seriesOrderSorted:n.SP.seriesOrderSorted,...(v||E)&&{stackedGapSize:n.SP.stackedGapSize,...(!g||E)&&{stackedGapExplodes:n.SP.stackedGapExplodes}},...(!v||E)&&{clusteredGapSize:n.SP.clusteredGapSize,clusteredGapOverlaps:n.SP.clusteredGapOverlaps,clusteredGapOverlapReverse:n.SP.clusteredGapOverlapReverse},...(D||E)&&{ribbonGapSize:n.SP.ribbonGapSize}}},labels:{displayName:(0,t.D)("Visual_DataPointsLabels"),description:(0,t.D)("Visual_DataPointsLabelsDescription"),properties:{show:n.SP.show,showByDefault:n.SP.boolWithoutDescription,showSeries:n.SP.show,showAll:n.SP.labelSeriesShowAll,...n.UC,labelOrientation:n.SP.labelOrientation,labelOverflow:{displayName:(0,t.D)("Visual_LabelOverflow"),description:(0,t.D)("Visual_LabelOverflow_Description"),type:{bool:!0}},wordWrap:n.SP.wordWrap,...n.Ed,...n.xy,...n.VO,...n.CQ,...n.z9,labelContentLayout:n.SP.labelContentLayout,horizontalAlignment:n.SP.horizontalAlignment}},...(v||E)&&{totals:n.rg.totalsWithNet},plotArea:n.rg.plotArea,[d.wn.x]:{displayName:(0,t.D)("Visual_Reference_Line_X"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:i.i8.Analytics,suppressFormatPainterCopy:!0,properties:n.T2},[d.wn.y1]:{displayName:(0,t.D)("Visual_Reference_Line_Y"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:i.i8.Analytics,suppressFormatPainterCopy:!0,properties:n.k4},...(!v||E)&&{[d.wn.generic]:{displayName:(0,t.D)("Visual_Reference_Line"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:i.i8.Analytics,suppressFormatPainterCopy:!0,properties:n.k4}},trend:(0,n.o4)(!0),error:{displayName:n.rg.error.displayName,objectCategory:n.rg.error.objectCategory,suppressFormatPainterCopy:n.rg.error.suppressFormatPainterCopy,properties:{enabled:n.rg.error.properties.enabled,errorRange:n.rg.error.properties.errorRange,barShow:n.rg.error.properties.barShow,barMatchSeriesColor:n.rg.error.properties.barMatchSeriesColor,barColor:n.rg.error.properties.barColor,barWidth:n.rg.error.properties.barWidth,barBorderColor:n.rg.error.properties.barBorderColor,barBorderSize:n.rg.error.properties.barBorderSize,markerShow:n.rg.error.properties.markerShow,markerShape:n.rg.error.properties.markerShape,markerSize:n.rg.error.properties.markerSize,labelShow:n.rg.error.properties.labelShow,labelFontFamily:n.rg.error.properties.labelFontFamily,labelFontSize:n.rg.error.properties.labelFontSize,labelBold:n.rg.error.properties.labelBold,labelItalic:n.rg.error.properties.labelItalic,labelUnderline:n.rg.error.properties.labelUnderline,labelColor:n.rg.error.properties.labelColor,labelMatchSeriesColor:n.rg.error.properties.labelMatchSeriesColor,labelFormat:n.rg.error.properties.labelFormat,labelBackground:n.rg.error.properties.labelBackground,labelBackgroundColor:n.rg.error.properties.labelBackgroundColor,labelBackgroundTransparency:n.rg.error.properties.labelBackgroundTransparency,tooltipShow:n.rg.error.properties.tooltipShow,tooltipFormat:n.rg.error.properties.tooltipFormat}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}},...(D||E)&&{ribbonBands:{displayName:(0,t.D)("RibbonChart"),description:(0,t.D)("RibbonChart_Description"),properties:{show:n.SP.show,fillMatchColor:{displayName:(0,t.D)("RibbonChart_Color"),description:(0,t.D)("RibbonChart_ColorDescription"),type:{bool:!0}},fillColor:n.SP.genericColor,fillTransparency:n.SP.genericTransparency,...n.A}}},...(0,n.eT)({callout:!0},!0)}}function p(u=!1,v=!1,m=!1,g){var b,V,M,P,E=g?.cartesianConditionalFormatting,D=g?.useModernFormatPane;return{dataRoles:(b=u,V=E,M=D,P=[{name:d.bl.category,kind:i.Ts.Grouping,displayName:(0,t.D)(M?b?"Visual_YAxis_Hyphen":"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:(0,t.D)("Role_DisplayName_AxisDescription"),cartesianKind:i.Xk.X},{name:d.bl.series,kind:i.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_Legend"),displayOrder:M?3:2,description:(0,t.D)("Role_DisplayName_LegendDescription")},{name:d.bl.y,kind:i.Ts.Measure,displayName:(0,t.D)(M?b?"Visual_XAxis_Hyphen":"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:M?2:3,description:(0,t.D)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:i.Xk.Y}],V||P.push({name:d.bl.gradient,kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Gradient"),displayOrder:4,description:(0,t.D)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:i.gD.None}),P.push({name:d.bl.rows,kind:i.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,t.D)("Role_DisplayName_SmallMultiples_Description"),disallowedWithVisualCalculations:!0}),P.push({name:d.bl.tooltips,kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,t.D)("Role_Tooltips_Description"),joinPredicate:i.gD.None}),P),objects:s(u,v,m,void 0,void 0),dataViewMappings:[{conditions:[{[d.bl.rows]:{min:1},[d.bl.series]:{max:0}},{[d.bl.rows]:{min:1},[d.bl.series]:{min:1,max:1},[d.bl.y]:{max:1}},{[d.bl.rows]:{min:1},[d.bl.series]:{min:1,max:1},[d.bl.y]:{max:0}}],matrix:{rows:{select:[{composite:[{for:{in:d.bl.rows}}],dataReductionAlgorithm:{window:{count:o.zS}}},{composite:[{for:{in:d.bl.category}}],synchronized:!0,dataReductionAlgorithm:{top:{}}}]},columns:{for:{in:d.bl.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:d.bl.y}},{for:{in:d.bl.tooltips}}]},dataVolume:6}},{conditions:[{[d.bl.rows]:{max:0},[d.bl.series]:{max:0},[d.bl.gradient]:{max:0}},{[d.bl.rows]:{max:0},[d.bl.series]:{min:1,max:1},[d.bl.y]:{max:1},[d.bl.gradient]:{max:0}},{[d.bl.rows]:{max:0},[d.bl.series]:{max:0},[d.bl.y]:{min:0,max:1},[d.bl.gradient]:{max:1}}],categorical:{categories:{for:{in:d.bl.category},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:d.bl.series,select:[{for:{in:d.bl.y}},{bind:{to:d.bl.gradient}},{for:{in:d.bl.tooltips}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[{[d.lP.rows]:{max:0},[d.bl.series]:{max:0},[d.bl.gradient]:{max:0}},{[d.lP.rows]:{max:0},[d.bl.series]:{min:1,max:1},[d.bl.y]:{max:1},[d.bl.gradient]:{max:0}},{[d.lP.rows]:{max:0},[d.bl.series]:{max:0},[d.bl.y]:{min:0,max:1},[d.bl.gradient]:{max:1}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}}],supportsHighlight:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[d.bl.tooltips],supportEnhancedTooltips:!0},sorting:{default:{}},drilldown:{roles:[d.bl.category]},annotationTemplates:(0,n.e1)({callout:!0}),grouping:{groupingRules:[{condition:{[d.bl.category]:{min:1,max:1},[d.bl.y]:{min:1,max:1},[d.bl.series]:{max:0},[d.bl.gradient]:{max:0}},groupingTargetRole:d.bl.series,kind:r.c.Color},{condition:{[d.bl.category]:{min:1,max:1},[d.bl.y]:{min:1},[d.bl.series]:{max:0},[d.bl.gradient]:{max:0}},groupingTargetRole:d.bl.category,kind:r.c.GroupInPlace},{condition:{[d.bl.category]:{min:1,max:1},[d.bl.y]:{min:0,max:1},[d.bl.series]:{max:0},[d.bl.gradient]:{max:1}},groupingTargetRole:d.bl.category,kind:r.c.GroupInPlace},{condition:{[d.bl.category]:{max:0},[d.bl.y]:{min:1,max:1},[d.bl.series]:{max:1},[d.bl.gradient]:{max:0}},groupingTargetRole:d.bl.series,kind:r.c.Color}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,expandAndSort:u?[]:[d.bl.category],supportsOnObjectFormatting:!0}}var l={dataPoint:{defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"}},labels:{show:{objectName:"labels",propertyName:"show"},showByDefault:{objectName:"labels",propertyName:"showByDefault"},showSeries:{objectName:"labels",propertyName:"showSeries"},color:{objectName:"labels",propertyName:"color"},labelContentLayout:{objectName:"labels",propertyName:"labelContentLayout"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},valueCustomFormatString:{objectName:"labels",propertyName:"valueCustomFormatString"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelOrientation:{objectName:"labels",propertyName:"labelOrientation"},labelPosition:{objectName:"labels",propertyName:"labelPosition"},enableBackground:{objectName:"labels",propertyName:"enableBackground"},backgroundColor:{objectName:"labels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"labels",propertyName:"backgroundTransparency"},labelOverflow:{objectName:"labels",propertyName:"labelOverflow"},showAll:{objectName:"labels",propertyName:"showAll"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},labelDensity:{objectName:"labels",propertyName:"labelDensity"},showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},enableValueDataLabel:{objectName:"labels",propertyName:"enableValueDataLabel"},showBlankAs:{objectName:"labels",propertyName:"showBlankAs"},transparency:{objectName:"labels",propertyName:"transparency"},wordWrap:{objectName:"labels",propertyName:"wordWrap"},titleFontSize:{objectName:"labels",propertyName:"titleFontSize"},titleBold:{objectName:"labels",propertyName:"titleBold"},titleItalic:{objectName:"labels",propertyName:"titleItalic"},titleUnderline:{objectName:"labels",propertyName:"titleUnderline"},titleFontFamily:{objectName:"labels",propertyName:"titleFontFamily"},titleColor:{objectName:"labels",propertyName:"titleColor"},titleTransparency:{objectName:"labels",propertyName:"titleTransparency"},titleLabelDisplayUnits:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},titleCustomFormatString:{objectName:"labels",propertyName:"titleCustomFormatString"},titleLabelPrecision:{objectName:"labels",propertyName:"titleLabelPrecision"},titleShowBlankAs:{objectName:"labels",propertyName:"titleShowBlankAs"},titleContentType:{objectName:"labels",propertyName:"titleContentType"},enableTitleDataLabel:{objectName:"labels",propertyName:"enableTitleDataLabel"},dynamicLabelTitle:{objectName:"labels",propertyName:"dynamicLabelTitle"},detailFontSize:{objectName:"labels",propertyName:"detailFontSize"},detailBold:{objectName:"labels",propertyName:"detailBold"},detailItalic:{objectName:"labels",propertyName:"detailItalic"},dynamicLabelDetail:{objectName:"labels",propertyName:"dynamicLabelDetail"},detailUnderline:{objectName:"labels",propertyName:"detailUnderline"},detailFontFamily:{objectName:"labels",propertyName:"detailFontFamily"},detailColor:{objectName:"labels",propertyName:"detailColor"},detailTransparency:{objectName:"labels",propertyName:"detailTransparency"},enableDetailDataLabel:{objectName:"labels",propertyName:"enableDetailDataLabel"},detailLabelDisplayUnits:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},detailCustomFormatString:{objectName:"labels",propertyName:"detailCustomFormatString"},detailLabelPrecision:{objectName:"labels",propertyName:"detailLabelPrecision"},detailShowBlankAs:{objectName:"labels",propertyName:"detailShowBlankAs"},detailContentType:{objectName:"labels",propertyName:"detailContentType"},optimizeLabelDisplay:{objectName:"labels",propertyName:"optimizeLabelDisplay"},labelContainerMaxWidth:{objectName:"labels",propertyName:"labelContainerMaxWidth"},horizontalAlignment:{objectName:"labels",propertyName:"horizontalAlignment"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},totals:{show:{objectName:"totals",propertyName:"show"},color:{objectName:"totals",propertyName:"color"},labelDisplayUnits:{objectName:"totals",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"totals",propertyName:"labelPrecision"},enableBackground:{objectName:"totals",propertyName:"enableBackground"},backgroundColor:{objectName:"totals",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"totals",propertyName:"backgroundTransparency"},fontSize:{objectName:"totals",propertyName:"fontSize"},fontFamily:{objectName:"totals",propertyName:"fontFamily"},bold:{objectName:"totals",propertyName:"bold"},italic:{objectName:"totals",propertyName:"italic"},underline:{objectName:"totals",propertyName:"underline"},showPositiveAndNegative:{objectName:"totals",propertyName:"showPositiveAndNegative"}}}},228603:function(ve,z,e){e.d(z,{c:function(){return p},p:function(){return l}});var a=e(236880),i=e(693029),r=e(319842),t=e(266092),o=e(190593),d=e(429943),n=e(687655),c=e(993513),s=e(955111),p=(0,a.cM)(l(!0).objects);function l(v,m){var g=(0,n.XV)(!1,v,!1,!0),E=(0,s.ZS)(!1,!1,!0,!0);return{dataRoles:[{name:d.VE.category,kind:i.Ts.Grouping,displayName:(0,t.D)(m?.useModernFormatPane?"Visual_XAxis_Hyphen":"Role_ComboChart_Category"),displayOrder:1,description:(0,t.D)("Role_ComboChart_CategoryDescription"),cartesianKind:i.Xk.X},{name:d.VE.series,kind:i.Ts.Grouping,displayName:(0,t.D)(m?.useModernFormatPane?"Role_ComboChart_Legend":"Role_ComboChart_Series"),displayOrder:m?.useModernFormatPane?4:2},{name:d.VE.y,kind:i.Ts.Measure,displayName:(0,t.D)(m?.useModernFormatPane?"Role_ComboChart_Y_Axis":"Role_ComboChart_Y"),displayOrder:m?.useModernFormatPane?2:3,description:(0,t.D)("Role_ComboChart_YDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:i.Xk.Y},{name:d.VE.y2,kind:i.Ts.Measure,displayName:(0,t.D)(m?.useModernFormatPane?"Role_ComboChart_Y2_Axis":"Role_ComboChart_Y2"),displayOrder:m?.useModernFormatPane?3:4,description:(0,t.D)("Role_ComboChart_Y2Description"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:i.Xk.Y},{name:d.VE.rows,kind:i.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,t.D)("Role_DisplayName_SmallMultiples_Description"),disallowedWithVisualCalculations:!0},{name:d.VE.tooltips,kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,t.D)("Role_Tooltips_Description"),joinPredicate:i.gD.None}],objects:{general:{displayName:(0,t.D)("Visual_General"),properties:{formatString:c.SP.formatString,visualType1:{type:{text:!0}},visualType2:{type:{text:!0}},responsive:c.SP.responsive,responsiveLegacy:c.SP.responsiveLegacy}},legend:{displayName:c.rg.legend.displayName,description:c.rg.legend.description,properties:{...c.rg.legend.properties,legendMarkerRendering:c.SP.legendMarkerRendering,matchLineColor:c.SP.matchLineColor}},subheader:{...c.rg.subheader},[o.xf]:c.rg.smallMultiplesLayout,categoryAxis:{displayName:(0,t.D)("Visual_XAxis"),properties:{show:c.SP.show,...c.YO,...c.WI,...c.po,...c.hL,...(0,c.Jx)("x"),reverseStackOrder:c.SP.reverseStackOrder}},valueAxis:{displayName:(0,t.D)("Visual_YAxis"),properties:{show:c.SP.show,...c.e6,...c.po,...(0,c.Jx)("y"),...c.hL,switchAxisPosition:c.SP.switchAxisPosition,axisLabel:{displayName:(0,t.D)("Visual_YAxis_ColumnTitle"),type:{none:!0}},...c.rv,secShow:{displayName:(0,t.D)("Visual_YAxis_ShowSecondary"),type:{bool:!0}},alignZeros:{displayName:(0,t.D)("Visual_YAxis_AlignZeros"),description:(0,t.D)("Visual_YAxis_AlignZeros_Description"),type:{bool:!0}}}},zoom:{displayName:c.rg.zoom.displayName,properties:{...c.rg.zoom.properties,...c.Wd.zoom.properties}},dataPoint:{displayName:(0,t.D)("Visual_DataPoint"),description:(0,t.D)("Visual_DataPointDescription"),properties:{...g.dataPoint.properties,transparency:E.dataPoint.properties.transparency}},layout:g.layout,lineStyles:E.lineStyles,markers:E.markers,labels:{displayName:(0,t.D)("Visual_DataPointsLabels"),description:(0,t.D)("Visual_DataPointsLabelsDescription"),properties:{show:c.SP.show,showByDefault:c.SP.boolWithoutDescription,showSeries:c.SP.show,showAll:c.SP.labelSeriesShowAll,...c.UC,labelOrientation:c.SP.labelOrientation,...c.Ed,...c.xy,...c.VO,...c.CQ,...c.z9,labelDisplayUnits:c.SP.dataLabelDisplayUnits,labelContentLayout:c.SP.labelContentLayout}},seriesLabels:c.rg.seriesLabels,error:c.rg.error,plotArea:c.rg.plotArea,filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}},[d.wn.x]:{displayName:(0,t.D)("Visual_Reference_Line_X"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:i.i8.Analytics,suppressFormatPainterCopy:!0,properties:c.T2},[d.wn.y1]:{displayName:(0,t.D)("Visual_Reference_Line_Y"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:i.i8.Analytics,suppressFormatPainterCopy:!0,properties:c.k4},...!v&&{[d.wn.generic]:{displayName:(0,t.D)("Visual_Reference_Line"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:i.i8.Analytics,suppressFormatPainterCopy:!0,properties:c.k4}},...v&&{totals:c.rg.totalsWithNet},...!v&&{trend:(0,c.o4)(!0)},...(0,c.eT)({callout:!0},!0)},dataViewMappings:[{conditions:[{Series:{max:0},[d.VE.rows]:{max:0}},{Series:{min:1,max:1},Y:{max:1},[d.VE.rows]:{max:0}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:"Series",select:[{for:{in:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[{Series:{max:0},Y2:{min:1},[d.VE.rows]:{max:0}},{Series:{min:1,max:1},Y:{max:1},Y2:{min:1},[d.VE.rows]:{max:0}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{select:[{for:{in:"Y2"}}]},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[{Series:{max:0},[d.VE.rows]:{max:0}},{Series:{min:1,max:1},Y:{max:1},[d.VE.rows]:{max:0}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}},{conditions:[{[d.VE.series]:{max:0},[d.VE.rows]:{min:1}}],matrix:u(!1)},{conditions:[{[d.VE.series]:{min:1,max:1},[d.VE.y]:{max:1},[d.VE.rows]:{min:1}}],matrix:u(!0)}],supportsHighlight:!0,sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:0}},groupingTargetRole:"Series",kind:r.c.Color},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{min:1,max:1},Gradient:{max:0}},groupingTargetRole:"Series",kind:r.c.Color}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,expandAndSort:[d.bl.category],supportsOnObjectFormatting:!0,suppressVisualCalc:!m?.visualCalculationOnComboChart,annotationTemplates:(0,c.e1)({callout:!0})}}function u(v){var m={rows:{select:[{composite:[{for:{in:d.VE.rows}}],dataReductionAlgorithm:{window:{count:o.zS}}},{composite:[{for:{in:d.VE.category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:d.VE.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:d.VE.y}},{for:{in:d.VE.tooltips}}]},dataVolume:6};return v?m.rows.values={select:[{for:{in:d.VE.y2}}]}:m.values.select.push({for:{in:d.VE.y2}}),m}},166157:function(ve,z,e){e.d(z,{CV:function(){return d},MJ:function(){return r},Rj:function(){return t},jm:function(){return o},x0:function(){return n}});var a=e(693029),i=e(993513),r={values:"Values"},t={objectName:"general",propertyName:"formatString"},o={objectName:"overrideDataReduction",propertyName:"count"},d={objectName:"columnOptions",propertyName:"suppressJoinPredicate"},n={dataRoles:[{name:"Values",kind:a.Ts.GroupingOrMeasure}],objects:{general:{properties:{formatString:i.SP.formatString}},overrideDataReduction:{properties:{count:{type:{numeric:!0}}}},columnOptions:{properties:{suppressJoinPredicate:{type:{bool:!0}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{count:2}}}}}]}},993513:function(ve,z,e){e.d(z,{Vo:function(){return At},hL:function(){return Me},YO:function(){return Qe},po:function(){return ft},WI:function(){return W},e6:function(){return mt},Nq:function(){return q},qe:function(){return k},j:function(){return ne},A:function(){return K},sA:function(){return Ye},Jk:function(){return he},yZ:function(){return vt},ZA:function(){return ct},Q7:function(){return Ot},Ed:function(){return Y},z9:function(){return We},xy:function(){return ue},UC:function(){return ee},CQ:function(){return He},VO:function(){return Te},vb:function(){return te},ac:function(){return xe},k4:function(){return Ee},qj:function(){return we},T2:function(){return Oe},rv:function(){return G},Wd:function(){return Ze},cC:function(){return Ae},rg:function(){return Se},tc:function(){return It},SP:function(){return A},kM:function(){return de},pK:function(){return lt},UX:function(){return De},AD:function(){return Ge},I$:function(){return ye},Hp:function(){return X},e1:function(){return et},eT:function(){return ut},Jx:function(){return Fe},ai:function(){return Ie},Nk:function(){return pe},Sd:function(){return Je},o4:function(){return Vt}});var a=e(236880),i=e(693029),r=e(266092),t=e(904143),o=e(18122),d=e(262011),n=e(336382),c=e(878907),l=(0,t.s)([{value:"Number of bins",displayName:le=>le.get("BinsDialog_ModeByCount")},{value:"Bin size",displayName:le=>le.get("BinsDialog_ModeBySize")}]),u=e(474800),v=e(917174),m=e(352915),g=e(843025),E=e(475824),D=e(167703),h=e(764314),C=e(97950),y=e(136211),f=e(999437),S=e(855517),b=e(415592),V=e(130939),M=e(204687),P=e(493434),T=e(720424),N=e(800640),w=e(226339),I=e(21141),O=e(450128),x=e(477070),j=e(479612),U=e(511681),F=e(842519),R=e(802053),B=e(613552),A={axisEnd:{displayName:(0,r.D)("Visual_Axis_End"),description:(0,r.D)("Visual_Axis_EndDescription"),placeHolderText:(0,r.D)("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStart:{displayName:(0,r.D)("Visual_Axis_Start"),description:(0,r.D)("Visual_Axis_StartDescription"),placeHolderText:(0,r.D)("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStyle:{displayName:(0,r.D)("Visual_Axis_Style"),type:{enumeration:n.B}},axisType:{displayName:(0,r.D)("Type"),type:{enumeration:c.z}},backColor:{displayName:(0,r.D)("Background_Color"),description:(0,r.D)("Visual_Tablix_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},binType:{displayName:(0,r.D)("BinsDialog_BinType"),type:{enumeration:l}},bold:{displayName:(0,r.D)("Bold"),type:{bool:!0}},borderColor:{displayName:(0,r.D)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},borderOutlineOnly:{displayName:(0,r.D)("Visual_Border_OutlineOnly"),type:{bool:!0}},numOfBins:{displayName:(0,r.D)("BinsDialog_ModeByCount"),type:{numeric:!0}},binSize:{displayName:(0,r.D)("BinsDialog_ModeBySize"),type:{numeric:!0}},dataColor:{displayName:(0,r.D)("Generic_Color"),description:(0,r.D)("Visual_LabelsFillDescription"),type:{fill:{solid:{color:!0}}}},dataLabelCustomFormatString:{displayName:(0,r.D)("Visual_FormatCode"),description:(0,r.D)("Visual_FormatCode_Description"),type:{text:!0}},dataLabelDisplayUnits:{displayName:(0,r.D)("Visual_DisplayUnits"),description:(0,r.D)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}},suppressFormatPainterCopy:!0},dataLabelDisplayUnitsWithCustom:{displayName:(0,r.D)("Visual_DisplayUnits"),description:(0,r.D)("Visual_DisplayUnitsDescription"),type:{enumeration:m.N},suppressFormatPainterCopy:!0},defaultColor:{displayName:(0,r.D)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultCategoryColor:{displayName:(0,r.D)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultDataPointColor:{displayName:(0,r.D)("DataPointColorTitle"),type:{fill:{solid:{color:!0}}}},dynamicLabelValue:{displayName:(0,r.D)("Field"),type:{variantDeleteEmpty:!0,variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},errorFormat:{displayName:(0,r.D)("Visual_Error_Format"),type:{enumeration:g.O}},fill:{displayName:(0,r.D)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},genericColor:{displayName:(0,r.D)("Generic_Color"),type:{fill:{solid:{color:!0}}}},genericTransparency:{displayName:(0,r.D)("Transparency"),type:{numeric:!0}},genericRotation:{displayName:(0,r.D)("Visual_BasicShape_Rotate"),type:{numeric:!0}},shapeRotation:{displayName:(0,r.D)("Visual_ShapeRotation"),type:{integer:!0}},textRotation:{displayName:(0,r.D)("Visual_TextRotation"),type:{integer:!0}},fontColor:{displayName:(0,r.D)("Visual_FontColor"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,r.D)("Visual_TextSize"),type:{formatting:{fontSize:!0}}},fontFamily:{displayName:(0,r.D)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}},formatString:{type:{formatting:{formatString:!0}}},horizontalAlignment:{displayName:(0,r.D)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},iconSize:{displayName:(0,r.D)("Visual_IconSize"),type:{formatting:{fontSize:!0}}},italic:{displayName:(0,r.D)("Italic"),type:{bool:!0}},image:{type:{image:{}}},imageShow:{displayName:(0,r.D)("Visual_Add_Image"),type:{bool:!0}},imageType:{displayName:(0,r.D)("Visual_Image_Source"),type:{enumeration:R.uh}},imageUrl:{displayName:(0,r.D)("Image_Url"),type:{text:!0}},imageData:{displayName:(0,r.D)("Data"),type:{text:!0}},imageExtendedFit:{displayName:(0,r.D)("PagePropertyPane_PageBackgroundImageFit"),type:{enumeration:B.lX}},imageHeight:{displayName:(0,r.D)("Visual_Tablix_ImageHeight"),type:{integer:!0}},imageEffects:{displayName:(0,r.D)("Visual_Image_Effects"),type:{bool:!0}},imageExposure:{displayName:(0,r.D)("Visual_Image_Exposure"),type:{integer:!0}},imageContrast:{displayName:(0,r.D)("Visual_Image_Contrast"),type:{integer:!0}},imageSaturation:{displayName:(0,r.D)("Visual_Saturation"),type:{integer:!0}},imageBlur:{displayName:(0,r.D)("Visual_DropShadow_Blur"),type:{integer:!0}},imageFit:{displayName:(0,r.D)("PagePropertyPane_PageBackgroundImageFit"),type:{enumeration:B.lX}},descriptionText:{displayName:(0,r.D)("Visual_General_Properties_Description"),type:{text:!0}},roundedCorners:{displayName:(0,r.D)("VisualContainer_Border_RoundedCorners"),type:{integer:!0}},topLeftCorner:{displayName:(0,r.D)("Visual_CornerTopLeft"),type:{integer:!0}},topRightCorner:{displayName:(0,r.D)("Visual_CornerTopRight"),type:{integer:!0}},bottomLeftCorner:{displayName:(0,r.D)("Visual_CornerBottomLeft"),type:{integer:!0}},bottomRightCorner:{displayName:(0,r.D)("Visual_CornerBottomRight"),type:{integer:!0}},labelBackgroundColor:{displayName:(0,r.D)("Background_Color"),type:{fill:{solid:{color:!0}}}},labelBackgroundTransparency:{displayName:(0,r.D)("Visual_Reference_Line_Transparency"),type:{integer:!0}},labelContentLayout:{displayName:(0,r.D)("Layout"),type:{enumeration:D.e}},labelDisplayUnits:{displayName:(0,r.D)("Visual_DisplayUnits"),description:(0,r.D)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},labelEnableBackground:{displayName:(0,r.D)("Visual_LabelEnableBackground"),type:{bool:!0}},labelOrientation:{displayName:(0,r.D)("Visual_LabelOrientation"),type:{enumeration:h.Fk}},labelPosition:{displayName:(0,r.D)("Visual_Position"),type:{enumeration:C.O}},labelPrecision:{displayName:(0,r.D)("Visual_Precision"),description:(0,r.D)("Visual_PrecisionDescription"),placeHolderText:(0,r.D)("Visual_Auto"),type:{integer:!0}},labelSeriesShowAll:{displayName:(0,r.D)("Visual_LabelSeriesShowAll"),type:{bool:!0}},leaderLines:{displayName:(0,r.D)("Visual_LeaderLines"),type:{bool:!0}},matchLineColor:{displayName:(0,r.D)("Visual_LegendMatchLineColor"),description:(0,r.D)("Visual_LegendMatchLineColorDescription"),type:{bool:!0}},maximumOffset:{displayName:(0,r.D)("Visual_Label_Maximum_Offset"),placeHolderText:(0,r.D)("Visual_Auto"),type:{numeric:!0}},minimumOffset:{displayName:(0,r.D)("Visual_Label_Minimum_Offset"),placeHolderText:(0,r.D)("Visual_Auto"),type:{numeric:!0}},percentageLabelPrecision:{displayName:(0,r.D)("Visual_Percentage_Precision"),description:(0,r.D)("Visual_Percentage_PrecisionDescription"),placeHolderText:(0,r.D)("Visual_Auto"),type:{integer:!0}},legendMarkerRendering:{displayName:(0,r.D)("Visual_Axis_Style"),description:(0,r.D)("Visual_LegendStyleDescription"),type:{enumeration:S.u}},legendPosition:{displayName:(0,r.D)("Visual_LegendPosition"),description:(0,r.D)("Visual_LegendPositionDescription"),type:{enumeration:b.vu}},legendTitle:{displayName:(0,r.D)("Visual_LegendName"),description:(0,r.D)("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},lineColor:{displayName:(0,r.D)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},textWrap:{displayName:(0,r.D)("TextWrap"),type:{bool:!0}},titleColor:{displayName:(0,r.D)("Visual_AxisTitleColor"),type:{fill:{solid:{color:!0}}}},titleFontSize:{displayName:(0,r.D)("Visual_AxisTitleTextSize"),type:{formatting:{fontSize:!0}}},titleText:{displayName:(0,r.D)("Visual_AxisTitleText"),placeHolderText:(0,r.D)("Visual_Auto"),type:{text:!0},suppressFormatPainterCopy:!0},outline:{displayName:(0,r.D)("Visual_Outline"),type:{enumeration:P.NW}},outlineStyle:{displayName:(0,r.D)("Visual_Outline"),type:{flagsEnumeration:P.Nx}},outlineColor:{displayName:(0,r.D)("Visual_OutlineColor"),description:(0,r.D)("Visual_OutlineColor_Desc"),type:{fill:{solid:{color:!0}}}},outlineWeight:{displayName:(0,r.D)("Visual_OutlineWeight"),description:(0,r.D)("Visual_OutlineWeight_Desc"),type:{numeric:!0}},reverseStackOrder:{displayName:(0,r.D)("Visual_ReverseStackOrder"),type:{bool:!0}},show:{displayName:(0,r.D)("Visual_Show"),type:{bool:!0}},showAllDataPoints:{displayName:(0,r.D)("ShowAll"),type:{bool:!0}},showBlankAs:{displayName:(0,r.D)("Visual_ShowBlankAs"),type:{text:!0}},showDynamicLabels:{displayName:(0,r.D)("Visual_ShowCustomLabel"),type:{bool:!0}},showLegendTitle:{displayName:(0,r.D)("Visual_LegendShowTitle"),description:(0,r.D)("Visual_LegendShowTitleDescription"),type:{bool:!0}},seriesOrderReversed:{displayName:(0,r.D)("Visual_SeriesOrderReversed"),description:(0,r.D)("Visual_SeriesOrderReversed_Description"),type:{bool:!0}},seriesOrderSorted:{displayName:(0,r.D)("Visual_SeriesOrderSorted"),description:(0,r.D)("Visual_SeriesOrderSorted_Description"),type:{bool:!0}},stackedGapSize:{displayName:(0,r.D)("Visual_Space_Between_Series"),type:{numeric:!0}},stackedGapExplodes:{displayName:(0,r.D)("Visual_Spacing_Explode"),type:{bool:!0}},clusteredGapSize:{displayName:(0,r.D)("Visual_Space_Between_Series"),type:{numeric:!0}},clusteredGapOverlaps:{displayName:(0,r.D)("Visual_Overlap_ClusteredSeries"),type:{bool:!0}},clusteredGapOverlapReverse:{displayName:(0,r.D)("Visual_Overlap_ClusteredSeries_Flip"),type:{bool:!0}},switchAxisPosition:{displayName:(0,r.D)("Visual_SwitchAxisPosition"),type:{bool:!0}},showIcon:{displayName:(0,r.D)("Visual_ShowIcon"),type:{bool:!0}},markerShape:{displayName:(0,r.D)("Type"),type:{enumeration:M.d_}},markerSize:{displayName:(0,r.D)("Visual_BubbleSize"),type:{numeric:!0}},markerRangeType:{displayName:(0,r.D)("Visual_MarkerRangeType"),type:{enumeration:V.hQ}},boolWithoutDescription:{type:{bool:!0}},matchSeriesColor:{displayName:(0,r.D)("RibbonChart_Color"),type:{bool:!0}},ribbonGapSize:{displayName:(0,r.D)("Visual_Space_Around_RibbonBands"),description:(0,r.D)("Visual_Space_Around_RibbonBands"),type:{numeric:!0}},backgroundTransparency:{displayName:(0,r.D)("Transparency"),description:(0,r.D)("Visual_Background_TransparencyDescription"),type:{numeric:!0}},backgroundImageTransparency:{displayName:(0,r.D)("Visual_Image_Transparency"),description:(0,r.D)("Visual_Background_ImageTransparencyDescription"),type:{numeric:!0}},lineTransparency:{displayName:(0,r.D)("Transparency"),description:(0,r.D)("Visual_Background_TransparencyLineDescription"),type:{numeric:!0}},responsive:{displayName:(0,r.D)("Visual_General_ResponsiveLabel"),description:(0,r.D)("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},responsiveLegacy:{type:{bool:!0}},showAxisTitle_Y:{displayName:(0,r.D)("Visual_Axis_Title"),description:(0,r.D)("Visual_Axis_YTitleDescription"),type:{bool:!0}},showAxisTitle_X:{displayName:(0,r.D)("Visual_Axis_Title"),description:(0,r.D)("Visual_Axis_XTitleDescription"),type:{bool:!0}},showGradientLegend:{displayName:(0,r.D)("Visual_Show"),type:{bool:!0}},tablixFontColor:{displayName:(0,r.D)("Visual_FontColor"),description:(0,r.D)("Visual_Tablix_FontColor_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},textAlignment:{displayName:(0,r.D)("Visual_TextAlignment"),type:{enumeration:j.O}},underline:{displayName:(0,r.D)("Underline"),type:{bool:!0}},verticalAlignment:{displayName:(0,r.D)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},width:{displayName:(0,r.D)("Visual_General_Properties_Width"),type:{numeric:!0}},wordWrap:{displayName:(0,r.D)("Visual_WordWrap"),type:{bool:!0}}},W={start:A.axisStart,end:A.axisEnd,invertAxis:{displayName:(0,r.D)("Visual_InvertAxis"),type:{bool:!0}},logAxisScale:{displayName:(0,r.D)("Visual_LogarithmicScale"),type:{bool:!0}},roundRange:{displayName:(0,r.D)("Visual_Axis_RoundRange"),description:(0,r.D)("Visual_Axis_RoundRange_Description"),type:{bool:!0}}},G={secLogAxisScale:W.logAxisScale,secAxisLabel:{displayName:(0,r.D)("Visual_YAxis_LineTitle"),type:{none:!0}},secStart:{displayName:(0,r.D)("Visual_Axis_Start"),description:(0,r.D)("Visual_Axis_StartDescription"),placeHolderText:(0,r.D)("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secEnd:{displayName:(0,r.D)("Visual_Axis_End"),description:(0,r.D)("Visual_Axis_EndDescription"),placeHolderText:(0,r.D)("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secShowAxisTitle:A.showAxisTitle_Y,secAxisStyle:A.axisStyle,secRoundRange:W.roundRange,secLabelColor:A.genericColor,secFontFamily:A.fontFamily,secFontSize:A.fontSize,secBold:A.bold,secItalic:A.italic,secUnderline:A.underline,secLabelDisplayUnits:A.labelDisplayUnits,secLabelPrecision:A.labelPrecision,secTitleColor:A.titleColor,secTitleFontFamily:A.fontFamily,secTitleFontSize:A.titleFontSize,secTitleBold:A.bold,secTitleItalic:A.italic,secTitleUnderline:A.underline,secTitleText:A.titleText},K={borderShow:{displayName:(0,r.D)("Visual_Border"),type:{bool:!0}},borderSize:A.width,borderColorMatchFill:{displayName:(0,r.D)("Visual_MatchFillColor"),description:(0,r.D)("Visual_MatchFillColor_Description"),type:{bool:!0}},borderColor:A.genericColor,borderTransparency:A.genericTransparency},q={fontFamily:A.fontFamily,fontSize:A.fontSize,bold:A.bold,italic:A.italic,underline:A.underline,color:A.dataColor},ne={fontFamily:A.fontFamily,fontSize:A.fontSize,bold:A.bold,italic:A.italic,underline:A.underline,fontColor:A.fontColor},k={fontFamily:A.fontFamily,textSize:A.fontSize,bold:A.bold,italic:A.italic,underline:A.underline,fontColor:A.fontColor,background:A.labelBackgroundColor},L={fontFamily:A.fontFamily,fontSize:A.fontSize,bold:A.bold,italic:A.italic,underline:A.underline,labelColor:A.genericColor},X={fontFamily:A.fontFamily,fontSize:A.fontSize,bold:A.bold,italic:A.italic,underline:A.underline,fontColor:A.tablixFontColor,backColor:A.backColor},Y={enableBackground:A.labelEnableBackground,backgroundColor:A.labelBackgroundColor,backgroundTransparency:A.labelBackgroundTransparency},Q={displayName:(0,r.D)("Visual_DataTotalLabels"),description:(0,r.D)("Visual_DataTotalLabelsDescription"),properties:{show:A.show,labelDisplayUnits:A.dataLabelDisplayUnits,labelPrecision:{...A.labelPrecision,suppressFormatPainterCopy:!0},...q,...Y}},H=_.cloneDeep(Q);H.properties.showPositiveAndNegative={displayName:(0,r.D)("Visual_LabelPosAndNeg"),description:(0,r.D)("Visual_LabelPosAndNeg_Description"),type:{bool:!0}};var te={transparency:{objectName:"markers",propertyName:"transparency"},rotation:{objectName:"markers",propertyName:"rotation"},strokeShow:{objectName:"markers",propertyName:"borderShow"},strokeColorMatch:{objectName:"markers",propertyName:"borderColorMatchFill"},strokeColor:{objectName:"markers",propertyName:"borderColor"},strokeTransparency:{objectName:"markers",propertyName:"borderTransparency"},strokeWidth:{objectName:"markers",propertyName:"borderWidth"}},ee={labelPosition:A.labelPosition,labelDensity:{displayName:(0,r.D)("Visual_LabelDensity"),type:{integer:!0}},optimizeLabelDisplay:{displayName:(0,r.D)("Visual_Label_OptimizeLabelDisplay"),type:{bool:!0}},labelContainerMaxWidth:{displayName:(0,r.D)("Visual_Max_Width"),type:{numeric:!0}}},ue={showDynamicLabels:A.showDynamicLabels,dynamicLabelValue:{...A.dynamicLabelValue,formatStringProperty:{objectName:"labels",propertyName:"valueFormatString"}},dynamicLabelTitle:{...A.dynamicLabelValue,formatStringProperty:{objectName:"labels",propertyName:"titleFormatString"}},dynamicLabelDetail:{...A.dynamicLabelValue,formatStringProperty:{objectName:"labels",propertyName:"detailFormatString"}},valueFormatString:A.formatString,titleFormatString:A.formatString,detailFormatString:A.formatString},Te={enableValueDataLabel:A.boolWithoutDescription,...q,transparency:A.genericTransparency,labelDisplayUnits:A.dataLabelDisplayUnitsWithCustom,valueCustomFormatString:A.dataLabelCustomFormatString,labelPrecision:{...A.labelPrecision,suppressFormatPainterCopy:!0},showBlankAs:A.showBlankAs},He={enableTitleDataLabel:A.boolWithoutDescription,titleContentType:{displayName:(0,r.D)("Content"),type:{enumeration:U.k}},titleFontFamily:A.fontFamily,titleFontSize:A.fontSize,titleBold:A.bold,titleItalic:A.italic,titleUnderline:A.underline,titleColor:A.dataColor,titleTransparency:A.genericTransparency,titleLabelDisplayUnits:A.dataLabelDisplayUnitsWithCustom,titleCustomFormatString:A.dataLabelCustomFormatString,titleLabelPrecision:A.labelPrecision,titleShowBlankAs:A.showBlankAs},We={enableDetailDataLabel:A.boolWithoutDescription,detailContentType:{displayName:(0,r.D)("Content"),type:{enumeration:v.P}},detailFontFamily:A.fontFamily,detailFontSize:A.fontSize,detailBold:A.bold,detailItalic:A.italic,detailUnderline:A.underline,detailColor:A.dataColor,detailTransparency:A.genericTransparency,detailLabelDisplayUnits:A.dataLabelDisplayUnitsWithCustom,detailCustomFormatString:A.dataLabelCustomFormatString,detailLabelPrecision:A.labelPrecision,detailShowBlankAs:A.showBlankAs},ft={...L,labelDisplayUnits:A.labelDisplayUnits,labelPrecision:A.labelPrecision},mt={...W,sharedAxis:{displayName:(0,r.D)("Visual_Shared_YAxis"),type:{bool:!0}},scaleToFit:{displayName:(0,r.D)("ScaleToFit"),type:{bool:!0}}},At={axisType:A.axisType,preferredCategoryWidth:{displayName:(0,r.D)("Visual_Category_Width"),type:{numeric:!0}},maxMarginFactor:{displayName:(0,r.D)("Visual_MaxMarginFactor"),description:(0,r.D)("Visual_MaxMarginFactorDescription"),type:{integer:!0}},innerPadding:{displayName:(0,r.D)("Visual_Axis_InnerPadding"),description:(0,r.D)("Visual_Axis_InnerPaddingDescription"),type:{integer:!0}}},Qe={...At,concatenateLabels:{displayName:(0,r.D)("Visual_Axis_ConcatenateLabels"),description:(0,r.D)("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}}};function Fe(le){return{showAxisTitle:"y"===le?A.showAxisTitle_Y:A.showAxisTitle_X,titleText:A.titleText,axisStyle:A.axisStyle,titleFontFamily:A.fontFamily,titleFontSize:A.titleFontSize,titleBold:A.bold,titleItalic:A.italic,titleUnderline:A.underline,titleColor:A.titleColor}}var ye={strokeShow:"show",strokeColor:"lineColor",strokeTransparency:"transparency",strokeWidth:"width",strokePattern:"style",strokeDashArray:"dashArray",strokeDashCap:"dashCap",strokeAutoScale:"autoScale"},we=Je(ye),Ee={displayName:{displayName:(0,r.D)("Name"),description:(0,r.D)("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:(0,r.D)("Visual_Reference_Line_Value"),description:(0,r.D)("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},position:{displayName:(0,r.D)("Visual_Reference_Line_Arrange"),description:(0,r.D)("Visual_Reference_Line_Arrange_Description"),type:{enumeration:T.al}},...we,dataLabelShow:{displayName:(0,r.D)("Visual_Reference_Line_Data_Label"),description:(0,r.D)("Visual_Reference_Line_Data_Label_Show_Description"),type:{bool:!0}},dataLabelText:{displayName:(0,r.D)("Text"),description:(0,r.D)("Visual_Reference_Line_Data_Label_Text_Description"),type:{enumeration:f.A}},dataLabelColor:{displayName:(0,r.D)("Generic_Color"),description:(0,r.D)("Visual_Reference_Line_Data_Label_Color_Description"),type:{fill:{solid:{color:!0}}}},dataLabelDecimalPoints:{displayName:(0,r.D)("Visual_Precision"),placeHolderText:(0,r.D)("Visual_Auto"),type:{numeric:!0}},dataLabelHorizontalPosition:{displayName:(0,r.D)("Visual_Reference_Line_Data_Horizontal_Position"),description:(0,r.D)("Visual_Reference_Line_Data_Label_Horizontal_Position_Description"),type:{enumeration:T.Ib}},dataLabelVerticalPosition:{displayName:(0,r.D)("Visual_Reference_Line_Data_Vertical_Position"),description:(0,r.D)("Visual_Reference_Line_Data_Label_Vertical_Position_Description"),type:{enumeration:T.A2}},dataLabelDisplayUnits:A.dataLabelDisplayUnits,shadeShow:A.show,shadeRegion:{displayName:(0,r.D)("Visual_ShadeRegion"),type:{enumeration:T.Fh}},shadeColor:{displayName:(0,r.D)("Visual_ShadeColor"),type:{fill:{solid:{color:!0}}}},shadeColorMatchStroke:A.matchLineColor,shadeTransparency:{displayName:(0,r.D)("Visual_ShadeTransparency"),type:{numeric:!0}}},Oe={...Ee,value:{displayName:(0,r.D)("Visual_Reference_Line_Value"),description:(0,r.D)("Visual_Reference_Line_Value_Numeric_DateTime_Description"),type:{variant:[{numeric:!0},{dateTime:!0}]}}},he={show:A.show,...q,color:{displayName:(0,r.D)("Generic_Color"),description:(0,r.D)("Visual_LabelStyle_CategoryDescription"),type:{fill:{solid:{color:!0}}}}},xe={outlineStyle:A.outlineStyle,outlineColor:A.outlineColor,outlineWeight:A.outlineWeight},Se={legend:{displayName:(0,r.D)("Visual_Legend"),description:(0,r.D)("Visual_LegendDescription"),properties:{show:{displayName:(0,r.D)("Visual_Show"),type:{bool:!0}},position:{displayName:(0,r.D)("Visual_LegendPosition"),description:(0,r.D)("Visual_LegendPositionDescription"),type:{enumeration:b.vu}},showTitle:{displayName:(0,r.D)("Visual_LegendShowTitle"),description:(0,r.D)("Visual_LegendShowTitleDescription"),type:{bool:!0}},titleText:{displayName:(0,r.D)("Visual_LegendName"),description:(0,r.D)("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},...L}},labels:{displayName:(0,r.D)("Visual_DataPointsLabels"),description:(0,r.D)("Visual_DataPointsLabelsDescription"),properties:{show:A.show,showSeries:{displayName:(0,r.D)("Visual_Show"),type:{bool:!0}},enableBackground:A.labelEnableBackground,labelPosition:{displayName:(0,r.D)("Visual_Position"),type:{enumeration:C.O}}}},totals:Q,totalsWithNet:H,zoom:{displayName:(0,r.D)("Visual_ZoomSlider"),properties:{show:{displayName:(0,r.D)("Visual_Show"),type:{bool:!0}},showOnCategoryAxis:{displayName:(0,r.D)("Visual_XAxis"),type:{bool:!0}},categoryMin:{type:{numeric:!0},captureState:!0},categoryMax:{type:{numeric:!0},captureState:!0},categorySize:{type:{numeric:!0},captureState:!0},showOnValueAxis:{displayName:(0,r.D)("Visual_YAxis"),type:{bool:!0}},valueMin:{type:{numeric:!0},captureState:!0},valueMax:{type:{numeric:!0},captureState:!0},valueSize:{type:{numeric:!0},captureState:!0},showLabels:{displayName:(0,r.D)("Visual_ZoomLabels"),type:{bool:!0}},showTooltip:{displayName:(0,r.D)("Visual_ZoomTooltips"),type:{bool:!0}}}},plotArea:{displayName:(0,r.D)("Visual_Plot"),properties:{transparency:A.backgroundTransparency,image:A.image}},markers:{displayName:(0,r.D)("Visual_Markers"),properties:{transparency:A.genericTransparency,rotation:A.genericRotation,borderShow:{displayName:(0,r.D)("Visual_Border"),type:{bool:!0}},borderWidth:A.width,borderColorMatchFill:{displayName:(0,r.D)("Visual_MatchFillColor"),description:(0,r.D)("Visual_MatchFillColor_Description"),type:{bool:!0}},borderColor:A.genericColor,borderTransparency:A.genericTransparency}},subheader:{displayName:(0,r.D)("Small_Multiples_Title"),description:(0,r.D)("Small_Multiples_Title_Description"),properties:{show:A.show,...ne,alignment:{displayName:(0,r.D)("Visual_Title_Alignment"),description:(0,r.D)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},position:{displayName:(0,r.D)("Visual_Position"),type:{enumeration:F.WO}},titleWrap:A.wordWrap}},smallMultiplesLayout:{displayName:(0,r.D)("Small_Multiples_Layout"),description:(0,r.D)("Small_Multiples_Layout_Description"),properties:{layoutType:{displayName:(0,r.D)("Small_Multiples_Layout"),type:{enumeration:N.Z}},rowCount:{displayName:(0,r.D)("Small_Multiples_Layout_Rows"),type:{integer:!0}},columnCount:{displayName:(0,r.D)("Small_Multiples_Layout_Columns"),type:{integer:!0}},backgroundColor:{displayName:(0,r.D)("Background_Color"),description:(0,r.D)("Small_Multiples_Layout_Background_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},backgroundTransparency:{...A.backgroundTransparency,displayName:(0,r.D)("Small_Multiples_Layout_Background_Transparency")},gridLineType:{displayName:(0,r.D)("Visual_Gridline_Show"),description:(0,r.D)("Small_Multiples_Layout_Grid_Line_Type_Desc"),type:{enumeration:E.X}},...Ie({strokeShow:"gridLineShow",strokeColor:"gridLineColor",strokeTransparency:"gridLineTransparency",strokeWidth:"gridLineWidth",strokePattern:"gridLineStyle"}),gridPadding:{displayName:(0,r.D)("Small_Multiples_Grid_Padding"),type:{numeric:!0}},advancedPaddingOptions:{displayName:(0,r.D)("Small_Multiples_Advanced_Padding"),type:{bool:!0}},columnPaddingInner:{displayName:(0,r.D)("Small_Multiples_Column_Padding_Inner"),type:{numeric:!0}},columnPaddingOuter:{displayName:(0,r.D)("Small_Multiples_Column_Padding_Outer"),type:{numeric:!0}},rowPaddingInner:{displayName:(0,r.D)("Small_Multiples_Row_Padding_Inner"),type:{numeric:!0}},rowPaddingOuter:{displayName:(0,r.D)("Small_Multiples_Row_Padding_Outer"),type:{numeric:!0}}}},error:{displayName:(0,r.D)("Visual_Error_Bars"),objectCategory:i.i8.Analytics,suppressFormatPainterCopy:!0,properties:{enabled:{displayName:(0,r.D)("Enabled"),type:{bool:!0}},errorRange:{displayName:(0,r.D)("Desktop_FileMenu_Options"),type:{errorRange:{}}},barShow:A.show,barMatchSeriesColor:A.matchSeriesColor,barColor:{displayName:(0,r.D)("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWidth:A.width,barBorderColor:A.borderColor,barBorderSize:{displayName:(0,r.D)("Visual_Border_Size"),type:{integer:!0}},shadeShow:A.show,shadeBandStyle:{displayName:(0,r.D)("Visual_Axis_Style"),type:{enumeration:u.Us}},shadeColor:{displayName:(0,r.D)("Visual_Error_BandColor"),type:{fill:{solid:{color:!0}}}},shadeMatchSeriesColor:A.matchSeriesColor,shadeTransparency:A.backgroundTransparency,markerShape:{displayName:(0,r.D)("Visual_MarkerShape"),type:{enumeration:(0,t.s)([...M.n,{value:"none",displayName:le=>le.get("None")}])}},showMarkerByDefault:A.boolWithoutDescription,markerShow:A.show,markerSize:A.markerSize,labelShow:A.show,labelFontFamily:A.fontFamily,labelFontSize:A.fontSize,labelBold:A.bold,labelItalic:A.italic,labelUnderline:A.underline,labelColor:A.genericColor,labelMatchSeriesColor:A.matchSeriesColor,labelFormat:A.errorFormat,labelBackground:A.labelEnableBackground,labelBackgroundColor:A.labelBackgroundColor,labelBackgroundTransparency:A.labelBackgroundTransparency,tooltipShow:{...A.show,displayName:(0,r.D)("Visual_ShowInTooltip")},tooltipFormat:A.errorFormat}},seriesLabels:{displayName:(0,r.D)("Visual_SeriesLabels"),description:(0,r.D)("Visual_SeriesDescription"),properties:{show:{displayName:(0,r.D)("Visual_ShowForThisSeries"),type:{bool:!0}},showByDefault:{type:{bool:!0}},seriesColor:{displayName:(0,r.D)("Visual_SeriesColor"),type:{fill:{solid:{color:!0}}}},seriesPosition:{displayName:(0,r.D)("Visual_SeriesPosition"),type:{enumeration:y.s}},...Y,showAll:{displayName:(0,r.D)("Visual_LabelSeriesShowAll"),type:{bool:!0}},textSize:{displayName:(0,r.D)("Visual_SeriesSize"),type:{formatting:{fontSize:!0}}},bold:A.bold,italic:A.italic,underline:A.underline,seriesFontFamily:{displayName:(0,r.D)("Visual_SeriesFontFamily"),type:{formatting:{fontFamily:!0}}},seriesWordWrap:A.wordWrap,seriesMaximumWidth:{displayName:(0,r.D)("Visual_Max_Width"),placeHolderText:(0,r.D)("Visual_Auto"),type:{integer:!0}}}},sparklines:{displayName:(0,r.D)("Sparkline_Label"),properties:{chartType:{displayName:(0,r.D)("Sparkline_Formatting_Slice_ChartType"),type:{enumeration:w.j}},dataColor:{displayName:(0,r.D)("DataColor"),type:{fill:{solid:{color:!0}}}},strokeWidth:A.width,markers:{displayName:(0,r.D)("Sparkline_Formatting_Slice_Show_These_Markers"),type:{flagsEnumeration:I.e}},markerColor:A.genericColor,markerSize:A.markerSize,markerShape:A.markerShape}}},Ae={chartType:{objectName:"sparklines",propertyName:"chartType"},dataColor:{objectName:"sparklines",propertyName:"dataColor"},strokeWidth:{objectName:"sparklines",propertyName:"strokeWidth"},markers:{objectName:"sparklines",propertyName:"markers"},markerColor:{objectName:"sparklines",propertyName:"markerColor"},markerSize:{objectName:"sparklines",propertyName:"markerSize"},markerShape:{objectName:"sparklines",propertyName:"markerShape"}};function Ie(le){return Je(le,!0)}function Je(le,me){var Be={[le.strokeShow]:A.show,[le.strokeWidth]:A.width,[le.strokeColor]:A.genericColor,[le.strokeColorMatch]:A.matchLineColor,[le.strokeTransparency]:A.genericTransparency,[le.strokePattern]:{displayName:(0,r.D)("Visual_LineStyle"),type:{enumeration:me?x.J$:x.Rm}},[le.strokeAutoScale]:{displayName:(0,r.D)("Visual_StrokeAutoScale"),description:(0,r.D)("Visual_StrokeAutoScale_Description"),type:{bool:!0}},[le.strokeDashArray]:{displayName:(0,r.D)("Visual_StrokeDashArray"),type:{formatting:{dashArray:!0}}},[le.strokeDashCap]:{displayName:(0,r.D)("Visual_StrokeDashCap"),type:{enumeration:x.FF}},[le.strokeLineJoin]:{displayName:(0,r.D)("Visual_StrokeLineJoin"),type:{enumeration:O.D}}};return delete Be.undefined,Be}function pe(le,me){var Be={};return d.O.forEach(Ke=>{me[Ke]&&(Be[Ke]={objectName:le,propertyName:me[Ke]})}),Be}var Me=Je({strokeShow:"gridlineShow",strokeColor:"gridlineColor",strokeTransparency:"gridlineTransparency",strokeWidth:"gridlineThickness",strokePattern:"gridlineStyle",strokeDashArray:"gridlineDashArray",strokeDashCap:"gridlineDashCap",strokeAutoScale:"gridlineAutoScale"}),Ge={strokeShow:"leaderLines",strokeColor:"leaderLineColor",strokeTransparency:"leaderLineTransparency",strokeWidth:"leaderLineWidth",strokePattern:"leaderLinePattern",strokeDashArray:"leaderLineDashArray",strokeDashCap:"leaderLineDashCap",strokeAutoScale:"leaderLineAutoScale"},De={...ye,strokeTransparency:"strokeTransparency"},lt={strokeShow:"bandLineShow",strokeColor:"bandLineColor",strokeTransparency:"bandLineTransparency",strokeWidth:"bandLineWidth",strokePattern:"bandLinePattern",strokeDashArray:"bandLineDashArray",strokeDashCap:"bandLineDashCap",strokeAutoScale:"bandLineAutoScale",strokeColorMatch:"bandLineMatchColor"},ct={...Je(lt),bandLineMatchColor:A.matchLineColor},vt={bandAreaShow:A.show,bandAreaMatchColor:A.matchLineColor,bandAreaColor:A.genericColor,bandAreaTransparency:A.genericTransparency};function Vt(le){return{displayName:(0,r.D)("Visual_Trend_Line"),objectCategory:i.i8.Analytics,suppressFormatPainterCopy:!0,properties:{...we,displayName:{displayName:(0,r.D)("Name"),description:(0,r.D)("Visual_Trend_Line_DisplayName_Description"),type:{text:!0}},combineSeries:{displayName:(0,r.D)("Visual_Trend_Line_Combine_Series"),description:(0,r.D)("Visual_Trend_Line_Combine_Series_Description"),type:{bool:!0}},...le&&{useHighlightValues:{displayName:(0,r.D)("Visual_Trend_Line_UseHighlightValues"),description:(0,r.D)("Visual_Trend_Line_UseHighlightValues_Description"),type:{bool:!0}}}}}}var It=(0,a.cM)(Se),Ot=It.error,de={formatString:{objectName:"general",propertyName:"formatString"},smallMultiplesBackgroundColor:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},dynamicLabelEnabled:{objectName:"labels",propertyName:"showDynamicLabels"}},Ze={zoom:{properties:{showOnValueSecAxis:{displayName:(0,r.D)("Visual_Y2Axis"),type:{bool:!0}},valueSecMin:{type:{numeric:!0},captureState:!0},valueSecMax:{type:{numeric:!0},captureState:!0},valueSecSize:{type:{numeric:!0},captureState:!0}}}},Ye={objectName:"annotationTemplate",propertyName:"callout"},qe={objectName:"annotationTemplate",propertyName:"highlight"};function ut(le,me=!1){o.Y.assert(()=>Ye.objectName===qe.objectName,"objectName should be the same");var Be={[Ye.objectName]:{properties:{}}},Ke=Be[Ye.objectName];if(le.callout){var Xe=Ye.propertyName;Ke.properties[Xe]={type:{annotationTemplate:{callout:!0}}},me&&(Ke.properties[Xe].captureState=!0)}if(le.highlight){var re=qe.propertyName;Ke.properties[re]={type:{annotationTemplate:{highlight:!0}}},me&&(Ke.properties[re].captureState=!0)}return Be}function et(le){var me=[];return le.callout&&me.push(Ye),le.highlight&&me.push(qe),{annotationTemplateProperties:me}}},55128:function(ve,z,e){e.d(z,{$X:function(){return o},C3:function(){return d},R1:function(){return s},Yw:function(){return n},hC:function(){return l},iL:function(){return u},lq:function(){return v},mF:function(){return p},oo:function(){return m},uM:function(){return c}});var a=e(693029),i=e(266092),r=e(904143),t=e(993513),o={analyze:"Analyze",explainBy:"ExplainBy",tooltips:"Tooltips"},d=function(g){return g.Dense="dense",g.Default="default",g.Sparse="sparse",g}({}),n=function(g){return g.Select="select",g.Toggle="toggle",g}({}),c=function(g){return g.Curve="curve",g.Round="round",g}({}),s=function(g){return g.TopNode="topNode",g.ParentNode="parentNode",g.LevelMaximum="levelMaximum",g}({}),p=function(g){return g.Absolute="absolute",g.Relative="relative",g}({}),l={analysis:"analysis",tree:"tree",categoryLabels:"categoryLabels",dataBars:"dataBars",dataLabels:"dataLabels",levelHeader:"levelHeader",insights:"insights"},u={aiEnabled:"aiEnabled",aiMode:"aiMode",axisEnd:"axisEnd",axisStart:"axisStart",barsPerLevel:"barsPerLevel",categoryLabelFontColor:"categoryLabelFontColor",categoryLabelFontFamily:"categoryLabelFontFamily",categoryLabelFontSize:"categoryLabelFontSize",categoryLabelBold:"categoryLabelBold",categoryLabelItalic:"categoryLabelItalic",categoryLabelUnderline:"categoryLabelUnderline",dataLabelFontColor:"dataLabelFontColor",dataLabelFontFamily:"dataLabelFontFamily",dataLabelFontSize:"dataLabelFontSize",dataLabelDisplayUnits:"dataLabelDisplayUnits",dataLabelPrecision:"dataLabelPrecision",dataLabelBold:"dataLabelBold",dataLabelItalic:"dataLabelItalic",dataLabelUnderline:"dataLabelUnderline",defaultClickAction:"defaultClickAction",density:"density",connectorType:"connectorType",dataBarScalingType:"dataBarScalingType",dataBarBackgroundColor:"dataBarBackgroundColor",dataBarWidthPercent:"dataBarWidthPercent",isAINode:"isAINode",levelHeaderBackgroundColor:"levelHeaderBackgroundColor",levelTitleFontColor:"levelTitleFontColor",levelTitleFontFamily:"levelTitleFontFamily",levelTitleFontSize:"levelTitleFontSize",levelTitleBold:"levelTitleBold",levelTitleItalic:"levelTitleItalic",levelTitleUnderline:"levelTitleUnderline",levelSubtitleFontColor:"levelSubtitleFontColor",levelSubtitleFontFamily:"levelSubtitleFontFamily",levelSubtitleFontSize:"levelSubtitleFontSize",levelSubtitleBold:"levelSubtitleBold",levelSubtitleItalic:"levelSubtitleItalic",levelSubtitleUnderline:"levelSubtitleUnderline",showSubtitles:"showSubtitles",positiveBarColor:"positiveBarColor",negativeBarColor:"negativeBarColor",accentColor:"accentColor",connectorDefaultColor:"connectorDefaultColor",responsiveLayout:"responsiveLayout",dataBarColor:"dataBarColor",effectiveBarsPerLevel:"effectiveBarsPerLevel"},v={defaultValue:10,minValue:3,maxValue:30},m={dataRoles:[{name:o.analyze,kind:a.Ts.Measure,kindPreference:a.gs.Measure,requiredTypes:[{numeric:!0},{integer:!0}],displayName:(0,i.D)("Role_DisplayName_Target"),description:(0,i.D)("DecompositionTree_Analyze_Tooltip")},{name:o.explainBy,kind:a.Ts.Grouping,displayName:(0,i.D)("Role_DisplayName_ExplainBy"),description:(0,i.D)("DecompositionTree_ExplainBy_Tooltip"),noDuplicates:!0},{name:o.tooltips,kind:a.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_Tooltips"),description:(0,i.D)("Role_Tooltips_Description"),joinPredicate:a.gD.None}],dataViewMappings:[{conditions:[{[o.analyze]:{max:1}}],matrix:{rows:{for:{in:o.explainBy},dataReductionAlgorithm:{topNPerLevel:{count:10,fallbackTopCount:500}}},values:{select:[{for:{in:o.analyze}},{for:{in:o.tooltips}}]}}}],tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[o.tooltips],supportEnhancedTooltips:!1},objects:{general:{displayName:(0,i.D)("Visual_General"),properties:{formatString:t.SP.formatString}},[l.analysis]:{displayName:(0,i.D)("Analysis"),description:(0,i.D)("Analysis"),properties:{[u.aiEnabled]:{displayName:(0,i.D)("DecompositionTree_Formatting_EnableAI"),description:(0,i.D)("DecompositionTree_Formatting_EnableAI_Tooltip"),type:{bool:!0}},[u.aiMode]:{displayName:(0,i.D)("DecompositionTree_AnalysisType"),description:(0,i.D)("DecompositionTree_AnalysisTypeDescription"),type:{enumeration:(0,r.s)([{displayName:(0,i.D)("DecompositionTree_AnalysisType_Absolute"),value:p.Absolute},{displayName:(0,i.D)("DecompositionTree_AnalysisType_Relative"),value:p.Relative}])}}}},[l.tree]:{displayName:(0,i.D)("DecompositionTree_Formatting_Tree"),description:(0,i.D)("DecompositionTree_Formatting_Tree"),properties:{[u.density]:{displayName:(0,i.D)("DecompositionTree_Density"),description:(0,i.D)("DecompositionTree_Density_Description"),type:{enumeration:(0,r.s)([{displayName:(0,i.D)("DecompositionTree_Density_Dense"),value:d.Dense},{displayName:(0,i.D)("Default"),value:d.Default},{displayName:(0,i.D)("DecompositionTree_Density_Sparse"),value:d.Sparse}])}},[u.accentColor]:{displayName:(0,i.D)("DecompositionTree_Formatting_Selected_Line"),description:(0,i.D)("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},[u.connectorDefaultColor]:{displayName:(0,i.D)("DecompositionTree_Formatting_Unselected_Line"),description:(0,i.D)("DecompositionTree_Formatting_Deselected_Connectors_Description"),type:{fill:{solid:{color:!0}}}},[u.connectorType]:{displayName:(0,i.D)("Style"),description:(0,i.D)("DecompositionTree_Formatting_ConnectorShape_Tooltip"),type:{enumeration:(0,r.s)([{displayName:(0,i.D)("Default"),value:c.Curve},{displayName:(0,i.D)("Visual_StrokeLineJoin_Round"),value:c.Round}])}},[u.responsiveLayout]:{displayName:(0,i.D)("Visual_General_ResponsiveLabel"),description:(0,i.D)("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},[u.effectiveBarsPerLevel]:{type:{integer:!0}},[u.barsPerLevel]:{displayName:(0,i.D)("DecompositionTree_BarsPerLevel"),description:(0,i.D)("DecompositionTree_BarsPerLevel_Description"),type:{integer:!0}},[u.defaultClickAction]:{displayName:(0,i.D)("DecompositionTree_DefaultAction"),description:(0,i.D)("DecompositionTree_DefaultAction_Description"),type:{enumeration:(0,r.s)([{displayName:(0,i.D)("DecompositionTree_DefaultAction_Filter"),value:n.Select},{displayName:(0,i.D)("Collapse"),value:n.Toggle}])}}}},[l.dataBars]:{displayName:(0,i.D)("Visual_Bars_Title"),description:(0,i.D)("Visual_ConditionalFormatting_DataBars"),properties:{[u.positiveBarColor]:{displayName:(0,i.D)("DataBarsDialog_PositiveBar"),description:(0,i.D)("DecompositionTree_Formatting_PositiveBar_Tooltip"),type:{fill:{solid:{color:!0}}}},[u.negativeBarColor]:{displayName:(0,i.D)("DataBarsDialog_NegativeBar"),description:(0,i.D)("DecompositionTree_Formatting_NegativeBar_Tooltip"),type:{fill:{solid:{color:!0}}}},[u.dataBarBackgroundColor]:{displayName:(0,i.D)("DecompositionTree_Formatting_BarBackground"),description:(0,i.D)("DecompositionTree_Formatting_BarBackground_Description"),type:{fill:{solid:{color:!0}}}},[u.dataBarColor]:{displayName:(0,i.D)("DecompositionTree_DataBarColor"),description:(0,i.D)("DecompositionTree_Formatting_DataBarColor_Tooltip"),type:{fill:{solid:{color:!0}}}},[u.dataBarWidthPercent]:{displayName:(0,i.D)("DecompositionTree_Formatting_DataBarSize"),description:(0,i.D)("DecompositionTree_Formatting_DataBarSize"),type:{integer:!0}},[u.dataBarScalingType]:{displayName:(0,i.D)("DecompositionTree_Formatting_ScaleType"),description:(0,i.D)("DecompositionTree_Formatting_ScaleType_Tooltip"),type:{enumeration:(0,r.s)([{displayName:(0,i.D)("DecompositionTree_Formatting_ScaleType_TopNode"),value:s.TopNode},{displayName:(0,i.D)("DecompositionTree_Formatting_ScaleType_ParentNode"),value:s.ParentNode},{displayName:(0,i.D)("DecompositionTree_Formatting_ScaleType_LevelMaximum"),value:s.LevelMaximum}])}},[u.axisStart]:t.SP.axisStart,[u.axisEnd]:t.SP.axisEnd}},[l.categoryLabels]:{displayName:(0,i.D)("Visual_CategoryLabels"),description:(0,i.D)("DecompositionTree_Formatting_CategoryLabels_Description"),properties:{[u.categoryLabelFontFamily]:t.SP.fontFamily,[u.categoryLabelFontSize]:t.SP.fontSize,[u.categoryLabelBold]:t.SP.bold,[u.categoryLabelItalic]:t.SP.italic,[u.categoryLabelUnderline]:t.SP.underline,[u.categoryLabelFontColor]:t.SP.fontColor}},[l.dataLabels]:{displayName:(0,i.D)("Visual_Tablix_Values"),description:(0,i.D)("DecompositionTree_Formatting_ValueLabels_Description"),properties:{[u.dataLabelFontFamily]:t.SP.fontFamily,[u.dataLabelFontSize]:t.SP.fontSize,[u.dataLabelBold]:t.SP.bold,[u.dataLabelItalic]:t.SP.italic,[u.dataLabelUnderline]:t.SP.underline,[u.dataLabelFontColor]:t.SP.fontColor,[u.dataLabelDisplayUnits]:t.SP.labelDisplayUnits,[u.dataLabelPrecision]:t.SP.labelPrecision}},[l.levelHeader]:{displayName:(0,i.D)("Header_Plural"),description:(0,i.D)("DecompositionTree_Formatting_TreeHeader_Description"),properties:{[u.levelHeaderBackgroundColor]:{displayName:(0,i.D)("Generic_Color"),description:(0,i.D)("VisualGroup_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},[u.levelTitleFontFamily]:{displayName:(0,i.D)("DecompositionTree_Formatting_LevelTitle_FontFamily"),description:(0,i.D)("DecompositionTree_Formatting_LevelTitle_FontFamily"),type:{formatting:{fontFamily:!0}}},[u.levelTitleFontSize]:{displayName:(0,i.D)("DecompositionTree_Formatting_LevelTitle_FontSize"),description:(0,i.D)("DecompositionTree_Formatting_LevelTitle_FontSize"),type:{formatting:{fontSize:!0}}},[u.levelTitleBold]:t.SP.bold,[u.levelTitleItalic]:t.SP.italic,[u.levelTitleUnderline]:t.SP.underline,[u.levelTitleFontColor]:{displayName:(0,i.D)("Generic_Color"),description:(0,i.D)("Generic_Color"),type:{fill:{solid:{color:!0}}}},[u.showSubtitles]:{displayName:(0,i.D)("DecompositionTree_Formatting_ShowSubtitles"),description:(0,i.D)("DecompositionTree_Formatting_ShowSubtitles"),type:{bool:!0}},[u.levelSubtitleFontFamily]:{displayName:(0,i.D)("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),description:(0,i.D)("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),type:{formatting:{fontFamily:!0}}},[u.levelSubtitleFontSize]:{displayName:(0,i.D)("DecompositionTree_Formatting_LevelSubtitle_FontSize"),description:(0,i.D)("DecompositionTree_Formatting_LevelSubtitle_FontSize"),type:{formatting:{fontSize:!0}}},[u.levelSubtitleBold]:t.SP.bold,[u.levelSubtitleItalic]:t.SP.italic,[u.levelSubtitleUnderline]:t.SP.underline,[u.levelSubtitleFontColor]:{displayName:(0,i.D)("Generic_Color"),description:(0,i.D)("Generic_Color"),type:{fill:{solid:{color:!0}}}}}},[l.insights]:{properties:{[u.isAINode]:{type:{bool:!0}}}}},drilldown:{suppresDrillOperations:!0},expandCollapse:{roles:[o.explainBy],addDataViewFlags:{defaultValue:!0},supportsMerge:!0,restoreProjectionsOrderFromBookmark:!0,addDataViewExpansionState:!0,collapseParentAfterRemovingChildLevel:!0},filterMappings:{measureFilter:{targetRoles:[o.explainBy]}},sorting:{default:{}},suppressDefaultTitle:!0,supportsHighlight:!0,supportsSelection:!0,supportsKeyboardFocus:!0,noDefaultProjections:!0,keepAllMetadataColumns:!0,insights:{decomposition:{analyzeRole:o.analyze,explainByRole:o.explainBy,enableAIProperty:{objectName:l.analysis,propertyName:u.aiEnabled},highlightedAIMatrixNode:{objectName:l.insights,propertyName:u.isAINode},analysisType:{objectName:l.analysis,propertyName:u.aiMode}},ignoreHighlightFilter:!0},suppressVisualCalc:!0}},638761:function(ve,z,e){e.d(z,{bN:function(){return s},du:function(){return l},wD:function(){return p}});var a=e(236880),i=e(693029),r=e(319842),t=e(266092),o=e(114172),d=e(933627),n=e(406087),c=e(993513),s={category:"Category",series:"Series",y:"Y",tooltips:"Tooltips"},p=(0,a.cM)(l().objects);function l(u){return{dataRoles:[{name:s.category,kind:i.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_Legend"),displayOrder:1,description:(0,t.D)("Role_DisplayName_LegendDescription")},{name:s.series,kind:i.Ts.Grouping,displayName:(0,t.D)("Details"),displayOrder:u?.useModernFormatPane?3:2,description:(0,t.D)("Role_DisplayName_DetailsDonutChartDescription")},{name:s.y,kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Values"),displayOrder:u?.useModernFormatPane?2:3,description:(0,t.D)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:s.tooltips,kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Tooltips"),displayOrder:4,description:(0,t.D)("Role_Tooltips_Description"),joinPredicate:i.gD.None}],objects:{general:{displayName:(0,t.D)("Visual_General"),properties:{formatString:c.SP.formatString}},legend:c.rg.legend,dataPoint:{displayName:(0,t.D)("Visual_DataPoint"),description:(0,t.D)("Visual_DataPointDescription"),properties:{defaultColor:c.SP.defaultColor,fill:c.SP.genericColor,fillTransparency:c.SP.genericTransparency,...c.A,borderOutlineOnly:c.SP.borderOutlineOnly}},labels:{displayName:(0,t.D)("Visual_DetailLabels"),properties:{show:c.SP.show,...c.Nq,labelDisplayUnits:c.SP.dataLabelDisplayUnits,labelPrecision:{...c.SP.labelPrecision,suppressFormatPainterCopy:!0},percentageLabelPrecision:{...c.SP.percentageLabelPrecision,suppressFormatPainterCopy:!0},labelStyle:{displayName:(0,t.D)("Visual_LabelStyle"),type:{enumeration:n.eY}},position:{displayName:(0,t.D)("Visual_DonutLabelPosition"),type:{enumeration:d.NW}},overflow:{displayName:(0,t.D)("Visual_LabelOverflow"),type:{bool:!0}},background:{displayName:(0,t.D)("Visual_Background"),type:{enumeration:o.NW}}}},slices:{displayName:(0,t.D)("Visual_Shapes"),description:(0,t.D)("Visual_ShapesDescription"),properties:{innerRadiusRatio:{displayName:(0,t.D)("Visual_DonutInnerRadius"),type:{integer:!0}},startAngle:{displayName:(0,t.D)("Visual_DonutStartAngle"),type:{integer:!0}}}},...(0,c.eT)({callout:!0},!0)},dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2},supported:{min:1}}}}],sorting:{default:{}},supportsHighlight:!0,drilldown:{roles:["Category"]},annotationTemplates:(0,c.e1)({callout:!0}),grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0}},groupingTargetRole:"Category",groupSourceTargetRole:"Series",kind:r.c.Color},{condition:{Category:{min:1,max:1},Y:{min:1},Series:{max:0}},groupingTargetRole:"Category",kind:r.c.GroupInPlace},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{max:1}},groupingTargetRole:"Series",kind:r.c.Color}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}},436151:function(ve,z,e){e.d(z,{Vy:function(){return c},Xt:function(){return p}});var a=e(924672),i=e(693029),r=e(266092),t=e(249584),o=e(466229),d=e(993513),n={category:"Category",series:"Series",x:"X",y:"Y",gradient:"Size",tooltips:"Tooltips"};function c(l){return{dataRoles:s(l&&l.cartesianConditionalFormatting),objects:{general:{displayName:(0,r.D)("Visual_General"),properties:{formatString:d.SP.formatString}},legend:d.rg.legend,dataPoint:{displayName:(0,r.D)("Visual_DataPoint"),description:(0,r.D)("Visual_DataPointDescription"),properties:{defaultColor:d.SP.defaultColor,showAllDataPoints:d.SP.showAllDataPoints,fill:d.SP.defaultCategoryColor,fillRule:{displayName:(0,r.D)("Role_DisplayName_Values"),description:(0,r.D)("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:n.gradient,output:{property:"fill",selector:[n.category]}}},transparency:d.SP.genericTransparency}},labels:{displayName:(0,r.D)("Visual_DataPointsLabels"),properties:{show:d.SP.show,color:d.SP.dataColor,labelDisplayUnits:d.SP.labelDisplayUnits,labelPrecision:d.SP.labelPrecision}},categoryLabels:{displayName:(0,r.D)("Visual_CategoryLabels"),properties:{show:d.SP.show}},mapControls:{displayName:(0,r.D)("Visual_MapControls"),description:(0,r.D)("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:(0,r.D)("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:(0,r.D)("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:(0,r.D)("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:(0,r.D)("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:(0,r.D)("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:(0,r.D)("Visual_MapGeocodingCulture"),type:{enumeration:o.NW}}}},mapStyles:{displayName:(0,r.D)("Visual_MapStyles"),description:(0,r.D)("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:(0,r.D)("Visual_MapTheme"),type:{enumeration:t.NW}},showLabels:{displayName:(0,r.D)("Visual_MapShowLabels"),type:{bool:!0}}}},stroke:{displayName:"Shape outline",properties:{show:d.SP.show,strokeColor:d.SP.genericColor,strokeWidth:d.SP.width}}},dataViewMappings:[{conditions:[{Category:{},Series:{max:1},X:{min:1,max:1},Y:{max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{min:1,max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Tooltips:{min:1}},{Category:{},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:1}}],categorical:{categories:{for:{in:n.category},dataReductionAlgorithm:{top:{}}},values:{group:{by:n.series,select:[{bind:{to:n.x}},{bind:{to:n.y}},{bind:{to:n.gradient}},{for:{in:n.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:n.series}},{composite:[{for:{in:n.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}}],visualShapeDataViewMappings:[{conditions:[{[n.category]:{max:1},[n.series]:{max:1,min:1},[n.x]:{max:0},[n.y]:{max:0},[n.gradient]:{max:0},[n.tooltips]:{max:0}},{[n.category]:{},[n.series]:{max:1},[n.x]:{min:1,max:1},[n.y]:{max:1},[n.gradient]:{max:0}},{[n.category]:{},[n.series]:{max:1},[n.x]:{max:1},[n.y]:{min:1,max:1},[n.gradient]:{max:0}},{[n.category]:{},[n.series]:{max:1},[n.x]:{max:1},[n.y]:{max:1},[n.gradient]:{max:0},[n.tooltips]:{min:1}},{[n.category]:{},[n.series]:{max:0},[n.x]:{max:1},[n.y]:{max:1},[n.gradient]:{max:1}}],matrix:{rows:{select:[{bind:{to:n.category}}]},columns:{for:{in:n.series}},values:{select:[{bind:{to:n.x}},{bind:{to:n.y}},{bind:{to:n.gradient}},{for:{in:n.tooltips}}]}}}],sorting:{custom:{},implicit:{clauses:[{role:n.gradient,direction:a.U.Descending}]}},drilldown:{roles:[n.category]},supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[n.tooltips],supportEnhancedTooltips:!0},suppressVisualCalc:!l?.enableCalculationScatterChartMap}}function s(l){var u=[{name:n.category,kind:i.Ts.Grouping,displayName:(0,r.D)("Role_DisplayName_Location"),description:(0,r.D)("Role_DisplayName_LocationFilledMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:n.series,kind:i.Ts.Grouping,displayName:(0,r.D)("Role_DisplayName_Legend"),description:(0,r.D)("Role_DisplayName_LegendDescription")},{name:n.y,kind:i.Ts.Measure,displayName:(0,r.D)("Role_DisplayName_Latitude"),description:(0,r.D)("Role_DisplayName_LatitudeFilledMapDescription"),preferredTypes:[{geography:{latitude:!0}}]},{name:n.x,kind:i.Ts.Measure,displayName:(0,r.D)("Role_DisplayName_Longitude"),description:(0,r.D)("Role_DisplayName_LongitudeFilledMapDescription"),preferredTypes:[{geography:{longitude:!0}}]}];return l||u.push({name:n.gradient,kind:i.Ts.Measure,displayName:(0,r.D)("Role_DisplayName_Gradient"),description:(0,r.D)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}),u.push({name:n.tooltips,kind:i.Ts.Measure,displayName:(0,r.D)("Role_DisplayName_Tooltips"),description:(0,r.D)("Role_Tooltips_Description"),joinPredicate:i.gD.None}),u}var p={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},stroke:{show:{objectName:"stroke",propertyName:"show"},color:{objectName:"stroke",propertyName:"strokeColor"},width:{objectName:"stroke",propertyName:"strokeWidth"}}}},795273:function(ve,z,e){e.d(z,{$w:function(){return s},I2:function(){return c},Xk:function(){return n}});var a=e(236880),i=e(693029),r=e(266092),t=e(198961),o=e(97950),d=e(993513),n={category:"Category",y:"Y",gradient:"Gradient",tooltips:"Tooltips"},c=(0,a.cM)(s().objects);function s(p){return{dataRoles:[{name:n.category,kind:i.Ts.Grouping,displayName:(0,r.D)(p?.useModernFormatPane?"Role_DisplayName_Category":"Group"),description:(0,r.D)("Role_DisplayName_GroupFunnelDescription")},{name:n.y,kind:i.Ts.Measure,displayName:(0,r.D)("Role_DisplayName_Values"),description:(0,r.D)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},!p?.cartesianConditionalFormatting&&{name:n.gradient,kind:i.Ts.Measure,displayName:(0,r.D)("Role_DisplayName_Gradient"),description:(0,r.D)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:i.gD.None},{name:n.tooltips,kind:i.Ts.Measure,displayName:(0,r.D)("Role_DisplayName_Tooltips"),description:(0,r.D)("Role_Tooltips_Description"),joinPredicate:i.gD.None}].filter(l=>l),dataViewMappings:[{conditions:[{Category:{max:0},Gradient:{max:0}},{Category:{max:1},Y:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:"Y"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},rowCount:{preferred:{min:1}}}}],objects:{general:{displayName:(0,r.D)("Visual_General"),properties:{formatString:d.SP.formatString}},categoryAxis:{displayName:(0,r.D)("Visual_CategoryLabels"),description:(0,r.D)("Visual_CategoryLabelOptionsDescription"),properties:{...d.Jk}},dataPoint:{displayName:(0,r.D)("Visual_DataPoint"),description:(0,r.D)("Visual_DataPointDescription"),properties:{defaultColor:d.SP.defaultColor,showAllDataPoints:d.SP.showAllDataPoints,fill:d.SP.defaultCategoryColor,fillRule:{displayName:(0,r.D)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category"]}}}}},labels:{displayName:(0,r.D)("Visual_DataPointsLabels"),description:(0,r.D)("Visual_DataPointsLabelsDescription"),properties:{show:d.SP.show,labelPosition:{displayName:(0,r.D)("Visual_Position"),type:{enumeration:o.O},suppressFormatPainterCopy:!0},labelDisplayUnits:d.SP.dataLabelDisplayUnits,labelPrecision:{...d.SP.labelPrecision,suppressFormatPainterCopy:!0},percentageLabelPrecision:{...d.SP.percentageLabelPrecision,suppressFormatPainterCopy:!0},funnelLabelStyle:{displayName:(0,r.D)("Visual_LabelStyle"),type:{enumeration:t.US}},...d.Nq,...d.Ed}},percentBarLabel:{displayName:(0,r.D)("Visual_PercentBarLabel"),description:(0,r.D)("Visual_PercentBarLabelDescription"),properties:{show:d.SP.show,...d.Nq}}},supportsHighlight:!0,supportsKeyboardFocus:!0,sorting:{default:{}},drilldown:{roles:["Category"]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsOnObjectFormatting:!0}}},545532:function(ve,z,e){e.d(z,{u1:function(){return d},uD:function(){return o},y8:function(){return t}});var a=e(693029),i=e(266092),r=e(993513),t={y:"Y",minValue:"MinValue",maxValue:"MaxValue",targetValue:"TargetValue",tooltips:"Tooltips"},o={dataRoles:[{name:t.y,kind:a.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_Value"),description:(0,i.D)("Role_DisplayName_ValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:t.minValue,kind:a.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_MinValue"),description:(0,i.D)("Role_DisplayName_MinValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:t.maxValue,kind:a.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_MaxValue"),description:(0,i.D)("Role_DisplayName_MaxValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:t.targetValue,kind:a.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_TargetValue"),description:(0,i.D)("Role_DisplayName_TargetValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:"Tooltips",kind:a.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_Tooltips"),description:(0,i.D)("Role_Tooltips_Description"),joinPredicate:a.gD.None}],objects:{general:{properties:{formatString:r.SP.formatString}},axis:{displayName:(0,i.D)("Visual_Gauge_Axis"),properties:{min:{displayName:(0,i.D)("Min"),placeHolderText:(0,i.D)("Visual_Auto"),type:{numeric:!0}},max:{displayName:(0,i.D)("Max"),placeHolderText:(0,i.D)("Visual_Auto"),type:{numeric:!0}},target:{displayName:(0,i.D)("Visual_Gauge_Axis_Target"),placeHolderText:(0,i.D)("Visual_Auto"),type:{numeric:!0}}}},dataPoint:{displayName:(0,i.D)("Visual_DataPoint"),properties:{fill:r.SP.fill,target:{displayName:(0,i.D)("Visual_Gauge_Axis_TargetColor"),type:{fill:{solid:{color:!0}}}}}},labels:{displayName:(0,i.D)("Visual_DataPointsLabels"),properties:{show:r.SP.show,...r.Nq,labelDisplayUnits:r.SP.labelDisplayUnits,labelPrecision:r.SP.labelPrecision}},target:{displayName:(0,i.D)("Visual_Gauge_Axis_Target"),properties:{show:r.SP.show,...r.Nq,labelDisplayUnits:r.SP.labelDisplayUnits,labelPrecision:r.SP.labelPrecision}},calloutValue:{displayName:(0,i.D)("Visual_Gauge_CalloutValue"),properties:{show:r.SP.show,..._.omit(r.Nq,["fontSize"]),labelDisplayUnits:r.SP.labelDisplayUnits,labelPrecision:r.SP.labelPrecision,showDynamicLabels:r.SP.showDynamicLabels,dynamicLabelValue:r.SP.dynamicLabelValue}}},dataViewMappings:[{conditions:[{Y:{max:1},MinValue:{max:1},MaxValue:{max:1},TargetValue:{max:1}}],categorical:{values:{select:[{bind:{to:"Y"}},{bind:{to:"MinValue"}},{bind:{to:"MaxValue"}},{bind:{to:"TargetValue"}},{for:{in:"Tooltips"}}]}}}],supportsSelection:!1,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0,supportsDataDrivenAlerts:!0},d={general:{formatString:{objectName:"general",propertyName:"formatString"}},axis:{min:{objectName:"axis",propertyName:"min"},max:{objectName:"axis",propertyName:"max"},target:{objectName:"axis",propertyName:"target"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"},target:{objectName:"dataPoint",propertyName:"target"}},target:{show:{objectName:"target",propertyName:"show"},labelDisplayUnits:{objectName:"target",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"target",propertyName:"labelPrecision"},fontSize:{objectName:"target",propertyName:"fontSize"},fontFamily:{objectName:"target",propertyName:"fontFamily"},color:{objectName:"target",propertyName:"color"},bold:{objectName:"target",propertyName:"bold"},italic:{objectName:"target",propertyName:"italic"},underline:{objectName:"target",propertyName:"underline"}},labels:{show:{objectName:"labels",propertyName:"show"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},color:{objectName:"labels",propertyName:"color"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"}},calloutValue:{show:{objectName:"calloutValue",propertyName:"show"},color:{objectName:"calloutValue",propertyName:"color"},labelDisplayUnits:{objectName:"calloutValue",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"calloutValue",propertyName:"labelPrecision"},fontFamily:{objectName:"calloutValue",propertyName:"fontFamily"},bold:{objectName:"calloutValue",propertyName:"bold"},italic:{objectName:"calloutValue",propertyName:"italic"},underline:{objectName:"calloutValue",propertyName:"underline"},showDynamicLabels:{objectName:"calloutValue",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"calloutValue",propertyName:"dynamicLabelValue"}}}},752150:function(ve,z,e){e.d(z,{cH:function(){return c},t:function(){return n}});var a=e(236880),i=e(319842),r=e(266092),t=e(613552),o=e(993513),d={general:{properties:{imageUrl:{type:{misc:{imageUrl:!0}},suppressFormatPainterCopy:!0}}},image:{properties:{sourceType:o.SP.imageType,fit:o.SP.imageFit,height:o.SP.imageHeight,transparency:o.SP.genericTransparency,effects:o.SP.imageEffects,exposure:o.SP.imageExposure,contrast:o.SP.imageContrast,saturation:o.SP.imageSaturation,blur:o.SP.imageBlur,descriptionText:o.SP.descriptionText,roundedCorners:o.SP.roundedCorners,topLeftCorner:o.SP.topLeftCorner,topRightCorner:o.SP.topRightCorner,bottomLeftCorner:o.SP.bottomLeftCorner,bottomRightCorner:o.SP.bottomRightCorner}},imageScaling:{displayName:(0,r.D)("Visual_Image_Scaling_Type"),properties:{imageScalingType:{displayName:(0,r.D)("Visual_Image_Scaling_Type"),type:{enumeration:t.KV}}}}},n=(0,a.cM)(d),c={objects:d,suppressDefaultTitle:!0,supportsSelection:!1,supportsVisualLink:!0,disableFormatMode:!0,ariaRole:i.A.Img}},383251:function(ve,z,e){e.d(z,{RH:function(){return l},Wx:function(){return c},gR:function(){return p}});var a=e(236880),i=e(693029),r=e(266092),t=e(595590),o=e(988473),d=e(637343),n=e(273892),c={target:"Target",explainBy:"ExplainBy",details:"Details"},s={keyDrivers:{displayName:(0,r.D)("Analysis"),description:(0,r.D)("Visual_KeyDriversDescription"),properties:{allowKeyDrivers:{displayName:(0,r.D)("Visual_KeyDrivers_AllowKeyDrivers"),description:(0,r.D)("Visual_KeyDrivers_AllowKeyDriversDescription"),type:{bool:!0}},allowProfiles:{displayName:(0,r.D)("Visual_KeyDrivers_AllowProfiles"),description:(0,r.D)("Visual_KeyDrivers_AllowProfilesDescription"),type:{bool:!0}},selectedNumericAnalysis:{displayName:(0,r.D)("Visual_KeyDrivers_NumericAnalysis"),description:(0,r.D)("Visual_KeyDrivers_NumericAnalysisDescription"),type:{enumeration:d.NW},suppressFormatPainterCopy:!0},allowKeyDriversCounting:{displayName:(0,r.D)("Visual_KeyDrivers_AllowKeyDriversCounting"),description:(0,r.D)("Visual_KeyDrivers_AllowKeyDriversCountingDescription"),type:{bool:!0}},countType:{displayName:(0,r.D)("KeyDriver_CountType"),description:(0,r.D)("KeyDriver_CountType_Description"),type:{enumeration:o.NW}},selectedAnalysis:{type:{enumeration:t.NW},suppressFormatPainterCopy:!0},selectedSort:{type:{enumeration:n.NW},suppressFormatPainterCopy:!0},targetValue:{type:{text:!0},suppressFormatPainterCopy:!0},numericTargetSelectedKind:{type:{numeric:!0},suppressFormatPainterCopy:!0}}},keyInfluencersVisual:{displayName:(0,r.D)("Visual_KeyDriversVisualColors"),description:(0,r.D)("Visual_KeyDriversVisualColors_Description"),properties:{primaryColor:{displayName:(0,r.D)("Visual_KeyDriversVisualColors_PrimaryColor"),description:(0,r.D)("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},primaryFontColor:{displayName:(0,r.D)("Visual_KeyDriversVisualColors_PrimaryFontColor"),description:(0,r.D)("Visual_KeyDriversVisualColors_PrimaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryColor:{displayName:(0,r.D)("Visual_KeyDriversVisualColors_SecondaryColor"),description:(0,r.D)("Visual_KeyDriversVisualColors_SecondaryColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryFontColor:{displayName:(0,r.D)("Visual_KeyDriversVisualColors_SecondaryFontColor"),description:(0,r.D)("Visual_KeyDriversVisualColors_SecondaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},canvasColor:{displayName:(0,r.D)("Background_Color"),description:(0,r.D)("Visual_KeyDriversVisualColors_CanvasColor_Description"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,r.D)("Visual_FontColor"),description:(0,r.D)("Visual_FontColor"),type:{fill:{solid:{color:!0}}}}}},keyDriversDrillVisual:{displayName:(0,r.D)("Visual_KeyDriversDrillVisualColors"),description:(0,r.D)("Visual_KeyDriversDrillVisualColors_Description"),properties:{defaultColor:{displayName:(0,r.D)("Visual_DefaultColor"),description:(0,r.D)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},referenceLineColor:{displayName:(0,r.D)("Visual_KeyDriversDrillVisualColors_ReferenceLineColor"),description:(0,r.D)("Visual_Reference_Line_Color_Description"),type:{fill:{solid:{color:!0}}}}}}},p=(0,a.cM)(s);function l(){return{dataRoles:[{name:c.target,kind:i.Ts.GroupingOrMeasure,kindPreference:i.gs.Grouping,displayName:(0,r.D)("Role_DisplayName_Target"),description:(0,r.D)("Role_DisplayName_TargetDescription")},{name:c.explainBy,kind:i.Ts.GroupingOrMeasure,displayName:(0,r.D)("Role_DisplayName_ExplainBy"),description:(0,r.D)("Role_DisplayName_ExplainByDescription")},{name:c.details,kind:i.Ts.Grouping,displayName:(0,r.D)("Role_DisplayName_Details"),description:(0,r.D)("Role_DisplayName_DetailsKeyDriversDescription")}],objects:s,suppressDefaultTitle:!0,dataViewMappings:[{conditions:[{[c.target]:{min:1,max:1}}],table:{rows:{select:[{bind:{to:c.target}},{for:{in:c.explainBy}}],dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],supportsKeyboardFocus:!0,supportsSelection:!1,tooltips:{supportEnhancedTooltips:!0}}}},64589:function(ve,z,e){e.d(z,{QQ:function(){return u},VV:function(){return s},Ve:function(){return l},rt:function(){return v}});var a=e(924672),i=e(236880),r=e(693029),t=e(266092),o=e(589395),d=e(469056),n=e(233311),c=e(993513),s={indicator:"Indicator",trendLine:"TrendLine",goal:"Goal"};function p(m){var g=m&&m.useModernFormatPane;return[{name:s.indicator,kind:r.Ts.Measure,displayName:(0,t.D)(g?"KpiValueFieldListDisplayName":"Role_DisplayName_KPI_Indicator"),description:(0,t.D)("Role_DisplayName_KPI_IndicatorDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:s.trendLine,kind:r.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_KPI_TrendLine"),description:(0,t.D)("Role_DisplayName_KPI_Trendline_Description")},{name:s.goal,kind:r.Ts.Measure,displayName:(0,t.D)(g?"Target":"Role_DisplayName_KPI_Goal"),description:(0,t.D)("Role_DisplayName_KPI_GoalDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}]}function l(m){return{dataRoles:p(m),dataViewMappings:[{conditions:[{Indicator:{max:1},TrendLine:{max:1},Goal:{max:2}}],categorical:{categories:{for:{in:"TrendLine"},dataReductionAlgorithm:{bottom:{}}},values:{select:[{bind:{to:"Indicator"}},{bind:{to:"Goal"}}]}}}],objects:{general:{displayName:(0,t.D)("Visual_General"),properties:{formatString:c.SP.formatString}},indicator:{displayName:(0,t.D)("Role_DisplayName_KPI_Indicator"),description:(0,t.D)("Role_DisplayName_KPI_IndicatorDescription"),properties:{indicatorDisplayUnits:{displayName:(0,t.D)("Visual_DisplayUnits"),description:(0,t.D)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},indicatorPrecision:c.SP.labelPrecision,...c.j,showIcon:c.SP.showIcon,iconSize:c.SP.iconSize,verticalAlignment:c.SP.verticalAlignment,horizontalAlignment:c.SP.horizontalAlignment}},trendline:{displayName:(0,t.D)("Role_DisplayName_KPI_TrendLine"),description:(0,t.D)("Role_DisplayName_KPI_Trendline_Description"),properties:{show:c.SP.show,transparency:c.SP.genericTransparency}},goals:{displayName:(0,t.D)("Role_DisplayName_KPI_Goals"),description:(0,t.D)("Role_DisplayName_KPI_Goals"),properties:{showGoal:{displayName:(0,t.D)("Role_DisplayName_KPI_Show_Goal"),type:{bool:!0}},goalText:{displayName:(0,t.D)("Role_DisplayName_Label"),type:{text:!0}},fontSize:c.SP.fontSize,bold:c.SP.bold,italic:c.SP.italic,underline:c.SP.underline,goalFontFamily:c.SP.fontFamily,goalFontColor:c.SP.fontColor,showDistance:{displayName:(0,t.D)("Distance"),type:{bool:!0}},distanceLabel:{displayName:(0,t.D)("Role_DisplayName_Label"),type:{enumeration:n.NW}},labelPrecision:c.SP.labelPrecision,titleFontSize:c.SP.fontSize,titleBold:c.SP.bold,titleItalic:c.SP.italic,titleUnderline:c.SP.underline,distanceFontFamily:c.SP.fontFamily,distanceFontColor:c.SP.fontColor,direction:{displayName:(0,t.D)("Visual_KPI_DistanceDirection"),type:{enumeration:d.NW}}}},status:{displayName:(0,t.D)("Role_DisplayName_KPI_Color_Coding"),description:(0,t.D)("Role_DisplayName_KPI_Color_Coding"),properties:{direction:{displayName:(0,t.D)("Visual_KPI_Direction"),type:{enumeration:o.NW}},goodColor:{displayName:(0,t.D)("Visual_KPI_Good_Color"),type:{fill:{solid:{color:!0}}}},neutralColor:{displayName:(0,t.D)("Visual_KPI_Neutral_Color"),type:{fill:{solid:{color:!0}}}},badColor:{displayName:(0,t.D)("Visual_KPI_Bad_Color"),type:{fill:{solid:{color:!0}}}}}},lastDate:{displayName:(0,t.D)("ConditionalFormattingDialog_Date"),description:(0,t.D)("Role_DisplayName_KPI_Date_Description"),properties:{show:c.SP.show,..._.omit(c.Nq,["fontFamily","color"]),lastDateFontFamily:c.SP.fontFamily,lastDateFontColor:c.SP.fontColor}}},sorting:{custom:{},implicit:{clauses:[{role:"TrendLine",direction:a.U.Ascending}]}},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0}}var u=(0,i.cM)(l().objects),v={directionTypeStringProp:{objectName:"status",propertyName:"direction"},goodColorProp:{objectName:"status",propertyName:"goodColor"},neutralColorProp:{objectName:"status",propertyName:"neutralColor"},badColorProp:{objectName:"status",propertyName:"badColor"},showKPIGoal:{objectName:"goals",propertyName:"showGoal"},showKPIDistance:{objectName:"goals",propertyName:"showDistance"},showKPITrendLine:{objectName:"trendline",propertyName:"show"},showKPILastDate:{objectName:"lastDate",propertyName:"show"},indicatorDisplayUnitsProp:{objectName:"indicator",propertyName:"indicatorDisplayUnits"},indicatorPrecisionProp:{objectName:"indicator",propertyName:"indicatorPrecision"},indicatorFontSizeProp:{objectName:"indicator",propertyName:"fontSize"},indicatorBoldProp:{objectName:"indicator",propertyName:"bold"},indicatorItalicProp:{objectName:"indicator",propertyName:"italic"},indicatorUnderlineProp:{objectName:"indicator",propertyName:"underline"},indicatorFontFamilyProp:{objectName:"indicator",propertyName:"fontFamily"},indicatorFontColorProp:{objectName:"indicator",propertyName:"fontColor"},indicatorIconSizeProp:{objectName:"indicator",propertyName:"iconSize"},indicatorIconShowIconProp:{objectName:"indicator",propertyName:"showIcon"},indicatorTransparencyProp:{objectName:"trendline",propertyName:"transparency"},indicatorHorizontalAlignmentProp:{objectName:"indicator",propertyName:"horizontalAlignment"},indicatorVerticalAlignmentProp:{objectName:"indicator",propertyName:"verticalAlignment"},goalTextProp:{objectName:"goals",propertyName:"goalText"},goalFontSizeProp:{objectName:"goals",propertyName:"fontSize"},goalBoldProp:{objectName:"goals",propertyName:"bold"},goalItalicProp:{objectName:"goals",propertyName:"italic"},goalUnderlineProp:{objectName:"goals",propertyName:"underline"},goalFontFamilyProp:{objectName:"goals",propertyName:"goalFontFamily"},goalFontColorProp:{objectName:"goals",propertyName:"goalFontColor"},distanceLabelProp:{objectName:"goals",propertyName:"distanceLabel"},distancePrecisionProp:{objectName:"goals",propertyName:"labelPrecision"},distanceFontSizeProp:{objectName:"goals",propertyName:"titleFontSize"},distanceBoldProp:{objectName:"goals",propertyName:"titleBold"},distanceItalicProp:{objectName:"goals",propertyName:"titleItalic"},distanceUnderlineProp:{objectName:"goals",propertyName:"titleUnderline"},distanceFontFamilyProp:{objectName:"goals",propertyName:"distanceFontFamily"},distanceFontColorProp:{objectName:"goals",propertyName:"distanceFontColor"},distanceDirectionTypeStringProp:{objectName:"goals",propertyName:"direction"},lastDateFontSizeProp:{objectName:"lastDate",propertyName:"fontSize"},lastDateBoldProp:{objectName:"lastDate",propertyName:"bold"},lastDateItalicProp:{objectName:"lastDate",propertyName:"italic"},lastDateUnderlineProp:{objectName:"lastDate",propertyName:"underline"},lastDateFontFamilyProp:{objectName:"lastDate",propertyName:"lastDateFontFamily"},lastDateFontColorProp:{objectName:"lastDate",propertyName:"lastDateFontColor"}}},955111:function(ve,z,e){e.d(z,{Hx:function(){return E},ZS:function(){return m},bz:function(){return C},dP:function(){return f},kB:function(){return g}});var a=e(18122),i=e(236880),r=e(693029),t=e(266092),o=e(190593),d=e(30885),n=e(881605),c=e(204687),s=e(474800),p=e(702962),l=e(429943),u=e(993513),v=e(701330);function m(b,V,M=!1,P=!1){var T={general:{displayName:(0,t.D)("Visual_General"),properties:{formatString:u.SP.formatString,responsive:u.SP.responsive,responsiveLegacy:u.SP.responsiveLegacy}},legend:{displayName:u.rg.legend.displayName,description:u.rg.legend.description,properties:{...u.rg.legend.properties,legendMarkerRendering:u.SP.legendMarkerRendering,matchLineColor:u.SP.matchLineColor}},subheader:{...u.rg.subheader},[o.xf]:{...u.rg.smallMultiplesLayout},categoryAxis:{displayName:(0,t.D)("Visual_XAxis"),properties:{show:u.SP.show,...u.YO,...u.WI,...u.po,...(0,u.Jx)("x"),...u.hL,...(b&&V||M)&&{reverseStackOrder:u.SP.reverseStackOrder}}},valueAxis:{displayName:(0,t.D)("Visual_YAxis"),properties:{show:u.SP.show,...u.e6,...u.po,...(0,u.Jx)("y"),...u.hL,switchAxisPosition:u.SP.switchAxisPosition}},y2Axis:{displayName:(0,t.D)("Visual_Y2Axis"),properties:{show:u.SP.show,...u.rv}},zoom:{displayName:u.rg.zoom.displayName,properties:{...u.rg.zoom.properties,...u.Wd.zoom.properties}},dataPoint:{displayName:(0,t.D)("Visual_DataPoint"),description:(0,t.D)("Visual_DataPointDescription"),properties:{transparency:{displayName:(0,t.D)("Visual_AreaTransparency"),type:{numeric:!0}},defaultColor:u.SP.defaultColor,fill:u.SP.genericColor,showAllDataPoints:u.SP.showAllDataPoints}},layout:{displayName:(0,t.D)("Layout"),properties:{...(b&&V||M)&&{seriesOrderReversed:u.SP.seriesOrderReversed}}},labels:{displayName:(0,t.D)("Visual_DataPointsLabels"),description:(0,t.D)("Visual_DataPointsLabelsDescription"),properties:{show:u.SP.show,showByDefault:u.SP.boolWithoutDescription,showSeries:u.SP.show,showAll:u.SP.labelSeriesShowAll,...u.UC,maximumOffset:u.SP.maximumOffset,minimumOffset:u.SP.minimumOffset,...u.Ed,...u.xy,...u.VO,...u.CQ,...u.z9,labelContentLayout:u.SP.labelContentLayout,horizontalAlignment:u.SP.horizontalAlignment,leaderLines:u.SP.leaderLines,...(!b||M)&&(0,u.Sd)(u.AD)}},...(b||M)&&{totals:u.rg.totals},seriesLabels:u.rg.seriesLabels,lineStyles:{displayName:(0,t.D)("Visual_Shapes"),description:(0,t.D)("Visual_ShapesDescription"),properties:{...(0,u.Sd)({strokeShow:"strokeShow",strokeWidth:"strokeWidth",strokeColor:P?void 0:"strokeColor",strokeTransparency:"strokeTransparency",strokePattern:"lineStyle",strokeLineJoin:"strokeLineJoin",strokeAutoScale:"strokeAutoScale",strokeDashArray:"strokeDashArray",strokeDashCap:"strokeDashCap"}),showMarker:u.SP.show,markerShape:u.SP.markerShape,markerSize:u.SP.markerSize,markerColor:u.SP.genericColor,showMarkerByDefault:u.SP.boolWithoutDescription,showSeries:u.SP.labelSeriesShowAll,...h({interpolation:"lineChartType"}),areaShow:{displayName:(0,t.D)("Visual_Shapes_ShadeArea"),type:{bool:!0}},areaColor:u.SP.genericColor,areaMatchStrokeColor:u.SP.matchLineColor,...!P&&{segmentAlignment:{displayName:(0,t.D)("Visual_SegmentAlignment"),type:{enumeration:n.Y}},segmentGradient:{displayName:(0,t.D)("ConditionalFormattingDialogModern_Mode_ColorScale"),type:{bool:!0}}}}},markers:u.rg.markers,plotArea:u.rg.plotArea,trend:(0,u.o4)(!0),scalarKey:{properties:{min:{type:{dateTime:!0}}}},[l.wn.x]:{displayName:(0,t.D)("Visual_Reference_Line_X"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:r.i8.Analytics,suppressFormatPainterCopy:!0,properties:u.T2},[l.wn.y1]:{displayName:(0,t.D)("Visual_Reference_Line_Y"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:r.i8.Analytics,suppressFormatPainterCopy:!0,properties:u.k4},...(!b||M)&&{[l.wn.generic]:{displayName:(0,t.D)("Visual_Reference_Line"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:r.i8.Analytics,suppressFormatPainterCopy:!0,properties:u.k4}},...(!b&&!V||M)&&{error:{...u.rg.error},forecast:{displayName:(0,t.D)("Visual_Forecast"),objectCategory:r.i8.Analytics,suppressFormatPainterCopy:!0,properties:{displayName:{displayName:(0,t.D)("Name"),description:(0,t.D)("Visual_Forecast_DisplayName_Description"),type:{text:!0}},...(0,u.Sd)(u.UX),...u.ZA,...u.yZ,matchSeriesInterpolation:{displayName:(0,t.D)("Visual_MatchSeriesInterpolation"),type:{bool:!0}},...h(),transform:{type:{queryTransform:{}}}}}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}},...(0,u.eT)({callout:!0},!0)};return delete T.categoryAxis.properties.innerPadding,T}var g=(0,i.cM)(m(!0,!0,!0));function E(b,V,M){var P=M&&M.useModernFormatPane;a.Y.assert(()=>!b||V,"Non-area stacked line is not supported");var T=m(b,V,void 0),N=[{name:l.Cl.Category,kind:r.Ts.Grouping,displayName:(0,t.D)(P?"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:(0,t.D)("Role_DisplayName_AxisDescription"),cartesianKind:r.Xk.X},{name:l.Cl.Series,kind:r.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_Legend"),displayOrder:P?4:2,description:(0,t.D)("Role_DisplayName_LegendDescription")},{name:l.Cl.Y,kind:r.Ts.Measure,displayName:(0,t.D)(P?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:P?2:3,description:(0,t.D)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:r.Xk.Y}];b||N.push({name:l.Cl.Y2,kind:r.Ts.Measure,displayName:(0,t.D)(P?"Visual_Y2Axis_Hyphen":"Role_DisplayName_Y2"),displayOrder:P?3:4,description:(0,t.D)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:r.Xk.Y}),N.push({name:l.Cl.Rows,kind:r.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,t.D)("Role_DisplayName_SmallMultiples_Description"),disallowedWithVisualCalculations:!0}),N.push({name:l.Cl.Tooltips,kind:r.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,t.D)("Role_Tooltips_Description"),joinPredicate:r.gD.None});var F,w={dataRoles:N,objects:T,dataViewMappings:[(F={conditions:[{[l.Cl.Series]:{max:0},[l.Cl.Rows]:{min:1}},{[l.Cl.Series]:{min:1,max:1},[l.Cl.Y]:{max:1},[l.Cl.Rows]:{min:1}},{[l.Cl.Series]:{min:1,max:1},[l.Cl.Y]:{max:0},[l.Cl.Rows]:{min:1}}],matrix:{rows:{select:[{composite:[{for:{in:l.Cl.Rows}}],dataReductionAlgorithm:{window:{count:o.zS}}},{composite:[{for:{in:l.Cl.Category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:l.Cl.Series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:l.Cl.Y}},{for:{in:l.Cl.Tooltips}}]},dataVolume:6}},b||D(F),F),function(){var F={conditions:[{[l.Cl.Series]:{max:0},[l.Cl.Rows]:{max:0}},{[l.Cl.Series]:{min:1,max:1},[l.Cl.Y]:{max:1},[l.Cl.Rows]:{max:0}},{[l.Cl.Series]:{min:1,max:1},[l.Cl.Y]:{max:0},[l.Cl.Rows]:{max:0}}],categorical:{categories:{for:{in:l.Cl.Category}},values:{group:{by:l.Cl.Series,select:[{for:{in:l.Cl.Y}},{for:{in:l.Cl.Tooltips}}]}}}};return b?function(b){a.Y.assertValue(b,"mapping"),a.Y.assertValue(b.categorical,"categorical mapping");var V=b.categorical;V.dataReductionAlgorithm=void 0,V.categories.dataReductionAlgorithm={sample:{}},V.values.group.dataReductionAlgorithm={top:{}}}(F):function(b){if(a.Y.assertValue(b,"mapping"),b.categorical){var V=b.categorical;V.dataReductionAlgorithm={binnedLineSample:{}},V.categories.dataReductionAlgorithm=void 0,V.values.group.dataReductionAlgorithm=void 0}else b.matrix&&a.Y.assertFail("Binned sampling not supported in this configuration")}(F),b||D(F),F}(),{conditions:[{[l.lP.rows]:{max:0},[l.Cl.Series]:{max:0}},{[l.lP.rows]:{max:0},[l.Cl.Series]:{min:1,max:1},[l.Cl.Y]:{max:1},[l.Cl.Y2]:{max:0}},{[l.lP.rows]:{max:0},[l.Cl.Series]:{min:1,max:1},[l.Cl.Y]:{max:0},[l.Cl.Y2]:{max:1}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}},{conditions:[{[l.lP.rows]:{max:0},[l.Cl.Series]:{max:0},[l.Cl.Category]:{min:1},[l.Cl.Y]:{min:1,max:1},[l.Cl.Y2]:{max:0}}],requiredProperties:[{objectName:"forecast",propertyName:"show"}],usage:{forecast:{}},categorical:{categories:{for:{in:l.Cl.Category}},values:{group:{by:l.Cl.Series,select:[{for:{in:"forecast.ForecastValue"}},{for:{in:"forecast.ConfidenceHighBound"}},{for:{in:"forecast.ConfidenceLowBound"}}]}}}},{conditions:[{[l.Cl.Rows]:{max:0},[l.Cl.Series]:{max:0},[l.Cl.Category]:{min:1},[l.Cl.Y]:{min:1,max:1},[l.Cl.Y2]:{max:0}}],requiredProperties:[{objectName:d.Fn,propertyName:"show"}],usage:{anomalyDetection:{}},categorical:{categories:{for:{in:l.Cl.Category}},values:{group:{by:l.Cl.Series,select:[{for:{in:d.lw.ExpectedValue}},{for:{in:d.lw.ExpectedLow}},{for:{in:d.lw.ExpectedHigh}},{for:{in:d.lw.RawScore}},{for:{in:d.lw.Anomaly}},{for:{in:d.lw.BatchStart}},{for:{in:d.lw.BatchEnd}}]}}}}],sorting:{default:{}},drilldown:{roles:[l.Cl.Category]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0,roles:[l.Cl.Tooltips]},supportsDataDrivenAlerts:!0,insights:{explainAnomalies:{anomalyDataPointObjectName:d.AL}},expandAndSort:[l.Cl.Category],supportsOnObjectFormatting:!0,annotationTemplates:(0,u.e1)({callout:!0})};return!b&&!V&&M&&M.daxTransformEnabled&&(w.objects[d.Fn]={displayName:(0,t.D)("Visual_AnomalyDetection"),objectCategory:r.i8.Analytics,suppressFormatPainterCopy:!0,properties:{[d.In.showAnomalies]:u.SP.show,[d.In.displayName]:{displayName:(0,t.D)("Name"),description:(0,t.D)("Visual_AnomalyDetection_DisplayName_Description"),type:{text:!0}},[v.mx.show]:u.SP.show,[v.mx.shape]:{displayName:(0,t.D)("Type"),description:(0,t.D)("Visual_AnomalyDetection_AnomalyShape_Description"),type:{enumeration:c.N0}},[v.mx.size]:u.SP.markerSize,[v.mx.color]:u.SP.genericColor,[v.mx.transparency]:u.SP.genericTransparency,[v.mx.rotation]:u.SP.genericRotation,...(0,u.Sd)(v.mx),[d.In.confidenceBandShow]:u.SP.show,[d.In.confidenceBandStyle]:{displayName:(0,t.D)("Style"),description:(0,t.D)("Visual_AnomalyDetection_RangeStyle_Description"),type:{enumeration:s.Kl}},[d.In.confidenceBandTransparency]:u.SP.genericTransparency,[d.In.confidenceBandColor]:u.SP.genericColor,[d.wj.CategoryValue]:{type:{dateTime:!0}},[d.wj.Value]:{type:{numeric:!0}},[d.wj.ExpectedValue]:{type:{numeric:!0}},[d.wj.ExpectedLow]:{type:{numeric:!0}},[d.wj.ExpectedHigh]:{type:{numeric:!0}},[d.wj.BatchStart]:{type:{dateTime:!0}},[d.wj.BatchEnd]:{type:{dateTime:!0}},transform:{type:{queryTransform:{}}},[d.In.explainBy]:{type:{exprList:{}}},[d.In.isAnomalyHighlighted]:{type:{bool:!0}}}}),w}function D(b){var V;_.find(b.conditions,M=>_.isEqual(M[l.Cl.Series],{min:1,max:1})&&_.isEqual(M[l.Cl.Y],{max:1}))[l.Cl.Y2]={max:0},_.find(b.conditions,M=>_.isEqual(M[l.Cl.Series],{min:1,max:1})&&_.isEqual(M[l.Cl.Y],{max:0}))[l.Cl.Y2]={max:1},b.categorical?V=b.categorical.values.group.select:b.matrix&&(V=b.matrix.values.select),V.splice(1,0,{for:{in:l.Cl.Y2}})}function h(b={}){var{interpolation:V="interpolation",interpolationStep:M="interpolationStep",interpolationSmooth:P="interpolationSmooth",interpolationSmoothParam:T="interpolationSmoothParam"}=b;return{[V]:{displayName:(0,t.D)("Visual_Interpolation"),description:(0,t.D)("Visual_InterpolationDescription"),type:{enumeration:p.rv}},[M]:{displayName:(0,t.D)("Visual_SteppedPosition"),type:{enumeration:p.vC}},[P]:{displayName:(0,t.D)("Visual_SmoothType"),type:{enumeration:p.ZV}},[T]:{displayName:(0,t.D)("Visual_LineInterp_Tension"),type:{numeric:!0}}}}var C={dataPoint:{showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},layout:{seriesOrderReversed:{objectName:"layout",propertyName:"seriesOrderReversed"}},trend:{show:{objectName:"trend",propertyName:"show"}},forecast:{show:{objectName:"forecast",propertyName:"show"}},legend:{legendMarkerRendering:{objectName:"legend",propertyName:"legendMarkerRendering"},matchLineColor:{objectName:"legend",propertyName:"matchLineColor"}},labels:{labelDensity:{objectName:"labels",propertyName:"labelDensity"},showByDefault:{objectName:"labels",propertyName:"showByDefault"},showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},minimumOffset:{objectName:"labels",propertyName:"minimumOffset"},maximumOffset:{objectName:"labels",propertyName:"maximumOffset"},enableValueDataLabel:{objectName:"labels",propertyName:"enableValueDataLabel"},valueCustomFormatString:{objectName:"labels",propertyName:"valueCustomFormatString"},showBlankAs:{objectName:"labels",propertyName:"showBlankAs"},titleFontSize:{objectName:"labels",propertyName:"titleFontSize"},titleBold:{objectName:"labels",propertyName:"titleBold"},titleItalic:{objectName:"labels",propertyName:"titleItalic"},titleUnderline:{objectName:"labels",propertyName:"titleUnderline"},titleFontFamily:{objectName:"labels",propertyName:"titleFontFamily"},titleColor:{objectName:"labels",propertyName:"titleColor"},titleTransparency:{objectName:"labels",propertyName:"titleTransparency"},titleLabelDisplayUnits:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},titleCustomFormatString:{objectName:"labels",propertyName:"titleCustomFormatString"},titleLabelPrecision:{objectName:"labels",propertyName:"titleLabelPrecision"},titleShowBlankAs:{objectName:"labels",propertyName:"titleShowBlankAs"},titleContentType:{objectName:"labels",propertyName:"titleContentType"},enableTitleDataLabel:{objectName:"labels",propertyName:"enableTitleDataLabel"},dynamicLabelTitle:{objectName:"labels",propertyName:"dynamicLabelTitle"},detailFontSize:{objectName:"labels",propertyName:"detailFontSize"},detailBold:{objectName:"labels",propertyName:"detailBold"},detailItalic:{objectName:"labels",propertyName:"detailItalic"},dynamicLabelDetail:{objectName:"labels",propertyName:"dynamicLabelDetail"},detailUnderline:{objectName:"labels",propertyName:"detailUnderline"},detailFontFamily:{objectName:"labels",propertyName:"detailFontFamily"},detailColor:{objectName:"labels",propertyName:"detailColor"},detailTransparency:{objectName:"labels",propertyName:"detailTransparency"},enableDetailDataLabel:{objectName:"labels",propertyName:"enableDetailDataLabel"},detailLabelDisplayUnits:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},detailCustomFormatString:{objectName:"labels",propertyName:"detailCustomFormatString"},detailLabelPrecision:{objectName:"labels",propertyName:"detailLabelPrecision"},detailShowBlankAs:{objectName:"labels",propertyName:"detailShowBlankAs"},detailContentType:{objectName:"labels",propertyName:"detailContentType"},labelContentLayout:{objectName:"labels",propertyName:"labelContentLayout"},optimizeLabelDisplay:{objectName:"labels",propertyName:"optimizeLabelDisplay"},labelContainerMaxWidth:{objectName:"labels",propertyName:"labelContainerMaxWidth"},horizontalAlignment:{objectName:"labels",propertyName:"horizontalAlignment"},leaderLines:{objectName:"labels",propertyName:"leaderLines"},leaderLineColor:{objectName:"labels",propertyName:"leaderLineColor"},leaderLineTransparency:{objectName:"labels",propertyName:"leaderLineTransparency"},leaderLineWidth:{objectName:"labels",propertyName:"leaderLineWidth"},leaderLinePattern:{objectName:"labels",propertyName:"leaderLinePattern"},leaderLineDashArray:{objectName:"labels",propertyName:"leaderLineDashArray"},leaderLineDashCap:{objectName:"labels",propertyName:"leaderLineDashCap"},leaderLineAutoScale:{objectName:"labels",propertyName:"leaderLineAutoScale"}},seriesLabels:{show:{objectName:"seriesLabels",propertyName:"showSeries"},showByDefault:{objectName:"seriesLabels",propertyName:"showByDefault"},seriesColor:{objectName:"seriesLabels",propertyName:"seriesColor"},seriesPosition:{objectName:"seriesLabels",propertyName:"seriesPosition"},enableBackground:{objectName:"seriesLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"seriesLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"seriesLabels",propertyName:"backgroundTransparency"},showAll:{objectName:"seriesLabels",propertyName:"showAll"},textSize:{objectName:"seriesLabels",propertyName:"textSize"},seriesFontFamily:{objectName:"seriesLabels",propertyName:"seriesFontFamily"},seriesWordWrap:{objectName:"seriesLabels",propertyName:"seriesWordWrap"},seriesMaximumWidth:{objectName:"seriesLabels",propertyName:"seriesMaximumWidth"},bold:{objectName:"seriesLabels",propertyName:"bold"},italic:{objectName:"seriesLabels",propertyName:"italic"},underline:{objectName:"seriesLabels",propertyName:"underline"}},markers:{show:{objectName:"lineStyles",propertyName:"showMarker"},shape:{objectName:"lineStyles",propertyName:"markerShape"},size:{objectName:"lineStyles",propertyName:"markerSize"},color:{objectName:"lineStyles",propertyName:"markerColor"},...u.vb},lineStyles:{areaShow:{objectName:"lineStyles",propertyName:"areaShow"},areaTransparency:{objectName:"dataPoint",propertyName:"transparency"},areaColor:{objectName:"lineStyles",propertyName:"areaColor"},areaMatchStrokeColor:{objectName:"lineStyles",propertyName:"areaMatchStrokeColor"},strokeShow:{objectName:"lineStyles",propertyName:"strokeShow"},strokeColorForSegment:{objectName:"lineStyles",propertyName:"strokeColor"},strokeColor:{objectName:"dataPoint",propertyName:"fill"},strokeTransparency:{objectName:"lineStyles",propertyName:"strokeTransparency"},strokeWidth:{objectName:"lineStyles",propertyName:"strokeWidth"},strokeLineJoin:{objectName:"lineStyles",propertyName:"strokeLineJoin"},strokePattern:{objectName:"lineStyles",propertyName:"lineStyle"},strokeDashArray:{objectName:"lineStyles",propertyName:"strokeDashArray"},strokeDashCap:{objectName:"lineStyles",propertyName:"strokeDashCap"},strokeAutoScale:{objectName:"lineStyles",propertyName:"strokeAutoScale"},showMarkerByDefault:{objectName:"lineStyles",propertyName:"showMarkerByDefault"},showSeries:{objectName:"lineStyles",propertyName:"showSeries"},interpolation:{objectName:"lineStyles",propertyName:"lineChartType"},interpolationStep:{objectName:"lineStyles",propertyName:"interpolationStep"},interpolationSmooth:{objectName:"lineStyles",propertyName:"interpolationSmooth"},interpolationSmoothParam:{objectName:"lineStyles",propertyName:"interpolationSmoothParam"},segmentAlignment:{objectName:"lineStyles",propertyName:"segmentAlignment"},segmentGradient:{objectName:"lineStyles",propertyName:"segmentGradient"}}};function f(b,V){if(a.Y.assertValue(b,"mapping"),b.categorical){var M=b.categorical;if(!M)return;M.dataReductionAlgorithm=void 0,M.categories.dataReductionAlgorithm={window:{count:200}},M.values.group.dataReductionAlgorithm={top:{count:60}}}else V&&(0,o.bV)(b)&&(b.matrix.rows.select[1].dataReductionAlgorithm={top:{}})}},976319:function(ve,z,e){e.d(z,{$J:function(){return l},FP:function(){return p},rr:function(){return g}});var a=e(924672),i=e(693029),r=e(319842),t=e(266092),o=e(249584),d=e(213569),n=e(466229),c=e(130939),s=e(993513),p={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",gradient:"Gradient",tooltips:"Tooltips"};function l(E){return{dataRoles:u(E&&E.cartesianConditionalFormatting,E&&E.useModernFormatPane),objects:{general:{displayName:(0,t.D)("Visual_General"),properties:{formatString:s.SP.formatString}},legend:s.rg.legend,dataPoint:{displayName:(0,t.D)("Visual_DataPoint"),description:(0,t.D)("Visual_DataPointDescription"),properties:{defaultColor:s.SP.defaultColor,showAllDataPoints:s.SP.showAllDataPoints,fill:s.SP.defaultCategoryColor,fillRule:{displayName:(0,t.D)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:p.gradient,output:{property:"fill",selector:[p.category,p.x,p.y]}}},transparency:s.SP.genericTransparency}},categoryLabels:{displayName:(0,t.D)("Visual_CategoryLabels"),description:(0,t.D)("Visual_CategoryLabelsDescription"),properties:{...s.Jk,...s.Ed}},bubbles:{displayName:(0,t.D)("Visual_Bubbles"),description:(0,t.D)("Visual_BubblesDescription"),properties:{bubbleSize:{displayName:(0,t.D)("Visual_BubbleSize"),type:{integer:!0}},markerRangeType:{displayName:(0,t.D)("Visual_MarkerRangeType"),type:{enumeration:c.hQ}}}},mapControls:{displayName:(0,t.D)("Visual_MapControls"),description:(0,t.D)("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:(0,t.D)("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:(0,t.D)("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:(0,t.D)("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:(0,t.D)("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:(0,t.D)("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:(0,t.D)("Visual_MapGeocodingCulture"),type:{enumeration:n.NW}}}},mapStyles:{displayName:(0,t.D)("Visual_MapStyles"),description:(0,t.D)("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:(0,t.D)("Visual_MapTheme"),type:{enumeration:o.NW}},showLabels:{displayName:(0,t.D)("Visual_MapShowLabels"),type:{bool:!0}}}},heatMap:{displayName:(0,t.D)("Visual_HeatMap"),properties:{show:s.SP.show,filterRadius:{displayName:(0,t.D)("Visual_Radius"),type:{numeric:!0}},transparency:s.SP.backgroundTransparency,unit:{displayName:(0,t.D)("Visual_Forecast_Parameter_Units"),type:{enumeration:d.NW}},color0:{displayName:(0,t.D)("Visual_Color0"),type:{fill:{solid:{color:!0}}}},color50:{displayName:(0,t.D)("Visual_Color50"),type:{fill:{solid:{color:!0}}}},color100:{displayName:(0,t.D)("Visual_Color100"),type:{fill:{solid:{color:!0}}}}}}},dataViewMappings:[{conditions:[{Category:{min:1},Series:{max:1},X:{max:1,kind:i.Ts.Measure},Y:{max:1,kind:i.Ts.Measure},Size:{max:1,min:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,min:1,kind:i.Ts.Measure},Y:{max:1,kind:i.Ts.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.Ts.Measure},Y:{max:1,min:1,kind:i.Ts.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.Ts.Measure},Y:{max:1,kind:i.Ts.Measure},Size:{max:1},Gradient:{max:0},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:i.Ts.Measure},Y:{max:1,kind:i.Ts.Measure},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:p.category},dataReductionAlgorithm:{top:{}}},values:{group:{by:p.series,select:[{bind:{to:p.x}},{bind:{to:p.y}},{bind:{to:p.size}},{bind:{to:p.gradient}},{for:{in:p.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:i.Ts.Grouping},Y:{max:1,kind:i.Ts.Grouping},Size:{max:1,min:1},Gradient:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1,kind:i.Ts.Grouping},Y:{max:1,kind:i.Ts.Grouping},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{select:[{bind:{to:p.x}},{bind:{to:p.y}}],dataReductionAlgorithm:{top:{}}},values:{group:{by:p.series,select:[{bind:{to:p.size}},{bind:{to:p.gradient}},{for:{in:p.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1,min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Gradient:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:p.series}},{composite:[{for:{in:p.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1,min:1},X:{max:1,kind:i.Ts.Grouping},Y:{max:1,kind:i.Ts.Grouping},Size:{max:0},Gradient:{max:0},Tooltips:{}}],matrix:{rows:{select:[{bind:{to:p.series}},{composite:[{bind:{to:p.x}},{bind:{to:p.y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{for:{in:p.tooltips}},dataVolume:4}}],visualShapeDataViewMappings:[{conditions:[{[p.category]:{max:1,min:1},[p.series]:{max:1,min:1},[p.x]:{max:0},[p.y]:{max:0},[p.size]:{max:0},[p.gradient]:{max:0},[p.tooltips]:{max:0}},{[p.category]:{min:1},[p.series]:{max:1},[p.x]:{max:1,kind:i.Ts.Measure},[p.y]:{max:1,kind:i.Ts.Measure},[p.size]:{max:1,min:1},[p.gradient]:{max:0}},{[p.category]:{min:1},[p.series]:{max:1},[p.x]:{max:1,min:1,kind:i.Ts.Measure},[p.y]:{max:1,kind:i.Ts.Measure},[p.size]:{max:1},[p.gradient]:{max:0}},{[p.category]:{min:1},[p.series]:{max:1},[p.x]:{max:1,kind:i.Ts.Measure},[p.y]:{max:1,min:1,kind:i.Ts.Measure},[p.size]:{max:1},[p.gradient]:{max:0}},{[p.category]:{min:1},[p.series]:{max:1},[p.x]:{max:1,kind:i.Ts.Measure},[p.y]:{max:1,kind:i.Ts.Measure},[p.size]:{max:1},[p.gradient]:{max:0},[p.tooltips]:{min:1}},{[p.category]:{min:1},[p.series]:{max:0},[p.x]:{max:1,kind:i.Ts.Measure},[p.y]:{max:1,kind:i.Ts.Measure},[p.size]:{max:1},[p.gradient]:{max:1}}],matrix:{rows:{select:[{bind:{to:p.category}}]},columns:{for:{in:p.series}},values:{select:[{bind:{to:p.x}},{bind:{to:p.y}},{bind:{to:p.size}},{for:{in:p.tooltips}}]}}},{conditions:[{[p.category]:{max:0},[p.series]:{max:1,min:1},[p.x]:{max:1,kind:i.Ts.Grouping},[p.y]:{max:1,kind:i.Ts.Grouping},[p.size]:{max:0},[p.gradient]:{max:0},[p.tooltips]:{}},{[p.category]:{max:0},[p.series]:{max:1},[p.x]:{max:1,kind:i.Ts.Grouping},[p.y]:{max:1,kind:i.Ts.Grouping},[p.size]:{max:1,min:1},[p.gradient]:{max:0}},{[p.category]:{max:0},[p.series]:{max:0},[p.x]:{max:1,kind:i.Ts.Grouping},[p.y]:{max:1,kind:i.Ts.Grouping},[p.size]:{max:1},[p.gradient]:{max:1}}],matrix:{rows:{select:[{composite:[{for:{in:p.x}},{for:{in:p.y}}]}]},columns:{for:{in:p.series}},values:{select:[{bind:{to:p.size}},{for:{in:p.tooltips}}]}}}],sorting:{custom:{},implicit:{clauses:[{role:p.size,direction:a.U.Descending}]}},drilldown:{roles:[p.category]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Gradient:{max:0}},groupingTargetRole:p.series,kind:r.c.Color}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[p.tooltips],supportEnhancedTooltips:!0},suppressVisualCalc:!E?.enableCalculationScatterChartMap}}function u(E,D){var h=[{name:p.category,kind:i.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_Location"),description:(0,t.D)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:p.series,kind:i.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_Legend"),description:(0,t.D)("Role_DisplayName_LegendDescription")},{name:p.y,kind:i.Ts.GroupingOrMeasure,displayName:(0,t.D)("Role_DisplayName_Latitude"),description:(0,t.D)("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:i.Xk.Y},{name:p.x,kind:i.Ts.GroupingOrMeasure,displayName:(0,t.D)("Role_DisplayName_Longitude"),description:(0,t.D)("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:i.Xk.X},{name:p.size,kind:i.Ts.Measure,displayName:(0,t.D)(D?"Visual_BubbleSize_Fieldwell":"Role_DisplayName_Size"),description:(0,t.D)(D?"Role_DisplayName_SizeDescription_Bubble":"Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];return E||h.push({name:p.gradient,kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Gradient"),description:(0,t.D)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:i.gD.None}),h.push({name:p.tooltips,kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Tooltips"),description:(0,t.D)("Role_Tooltips_Description"),joinPredicate:i.gD.None}),h}var g={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"},markerRangeType:{objectName:"bubbles",propertyName:"markerRangeType"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},mapStyles:{mapTheme:{objectName:"mapStyles",propertyName:"mapTheme"},showLabels:{objectName:"mapStyles",propertyName:"showLabels"}},heatMap:{show:{objectName:"heatMap",propertyName:"show"},filterRadius:{objectName:"heatMap",propertyName:"filterRadius"},transparency:{objectName:"heatMap",propertyName:"transparency"},unit:{objectName:"heatMap",propertyName:"unit"},color0:{objectName:"heatMap",propertyName:"color0"},color50:{objectName:"heatMap",propertyName:"color50"},color100:{objectName:"heatMap",propertyName:"color100"}}}},65994:function(ve,z,e){e.d(z,{K5:function(){return t},fY:function(){return o},wf:function(){return r}});var a=e(371577),i=e(786890);function r(d){var n=d.dataViewMappings[0];if(n.categorical){var s,c=n.categorical.categories;if(c.select&&(s=n.categorical.values,_.isEmpty(s.group.select[0].bind.to.items))){c.dataReductionAlgorithm=void 0,s.group.dataReductionAlgorithm=void 0;var l={},u=_.find(c.select,g=>"X"===g.bind.to.role),v=_.find(c.select,g=>"Y"===g.bind.to.role);l.x=u?{role:u.bind.to}:void 0,l.y=v?{role:v.bind.to}:void 0,n.categorical.dataReductionAlgorithm={overlappingPointsSample:l}}(!s||_.isEmpty(s.group.by.items))&&n.metadata&&n.metadata.objects&&n.metadata.objects.heatMap&&n.metadata.objects.heatMap.show&&(n.categorical.dataVolume=5)}}function t(d,n){if(d&&n)for(var c of n)if(c.categorical&&c.categorical.categories&&c.categorical.categories.select&&!d.Size&&d.Series)return!0}function o(d){return(0,i.JO)(d,a.Nz.Cartesian)}},936622:function(ve,z,e){e.d(z,{o:function(){return t},w:function(){return o}});var a=e(693029),i=e(266092),r=e(993513),t={rows:"Rows",columns:"Columns",values:"Values"},o={dataRoles:[{name:t.rows,kind:a.Ts.Grouping,displayName:(0,i.D)("Role_DisplayName_Rows"),description:(0,i.D)("Role_DisplayName_RowsDescription")},{name:t.columns,kind:a.Ts.Grouping,displayName:(0,i.D)("Role_DisplayName_Columns"),description:(0,i.D)("Role_DisplayName_ColumnsDescription")},{name:t.values,kind:a.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_Values")}],objects:{general:{displayName:(0,i.D)("Visual_General"),properties:{formatString:r.SP.formatString,columnWidth:{type:{numeric:!0}},rowSubtotals:{type:{bool:!0},displayName:(0,i.D)("Visual_TotalRow"),suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:(0,i.D)("Visual_TotalColumn"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,i.D)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:(0,i.D)("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:(0,i.D)("Visual_Grid"),properties:{outlineColor:r.SP.outlineColor,outlineWeight:r.SP.outlineWeight,gridVertical:{displayName:(0,i.D)("Visual_GridVertical"),description:(0,i.D)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,i.D)("Visual_GridVertical_Color"),description:(0,i.D)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,i.D)("Visual_GridVertical_Weight"),description:(0,i.D)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,i.D)("Visual_GridHorizontal"),description:(0,i.D)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,i.D)("Visual_GridHorizontal_Color"),description:(0,i.D)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,i.D)("Visual_GridHorizontal_Weight"),description:(0,i.D)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,i.D)("Visual_RowPadding"),description:(0,i.D)("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:(0,i.D)("Visual_Tablix_ImageHeight"),description:(0,i.D)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,i.D)("Visual_Tablix_ColumnHeaders"),properties:{outline:r.SP.outline,fontColor:r.SP.tablixFontColor,backColor:r.SP.backColor}},rowHeaders:{displayName:(0,i.D)("Visual_Tablix_RowHeaders"),properties:{outline:r.SP.outline,fontColor:r.SP.tablixFontColor,backColor:r.SP.backColor,wordWrap:r.SP.wordWrap}},values:{displayName:(0,i.D)("Visual_Tablix_Values"),properties:{outline:r.SP.outline,backColor:{displayName:(0,i.D)("Background_Color"),description:(0,i.D)("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,i.D)("Visual_FontColor"),description:(0,i.D)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,i.D)("Background_Color"),description:(0,i.D)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,i.D)("Visual_Tablix_FontColorSecondary"),description:(0,i.D)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,i.D)("Visual_Tablix_BackColorSecondary"),description:(0,i.D)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}}}},subTotals:{displayName:(0,i.D)("Visual_Tablix_TotalSub"),properties:{outline:r.SP.outline,fontColor:r.SP.tablixFontColor,backColor:r.SP.backColor}},total:{displayName:(0,i.D)("Visual_Tablix_Matrix_TotalGrand"),properties:{outline:r.SP.outline,fontColor:r.SP.tablixFontColor,backColor:r.SP.backColor,applyToHeaders:{displayName:(0,i.D)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:(0,i.D)("Visual_Tablix_ColumnFormatting"),properties:{fontColor:r.SP.tablixFontColor,backColor:r.SP.backColor,styleHeader:{displayName:(0,i.D)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,i.D)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:(0,i.D)("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:(0,i.D)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}}},dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],filterMappings:{measureFilter:{targetRoles:[t.rows]}},sorting:{custom:{}},dataRoleTotals:[{roles:[t.columns],displayName:(0,i.D)("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:(0,i.D)("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:(0,i.D)("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[t.rows],displayName:(0,i.D)("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:(0,i.D)("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:(0,i.D)("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],suppressDefaultTitle:!0,supportsSelection:!1,supportsMultiVisualSelection:!0}},142810:function(ve,z,e){e.d(z,{U:function(){return n},_B:function(){return c},vC:function(){return d}});var a=e(236880),i=e(693029),r=e(266092),t=e(993513),o={general:{properties:{formatString:t.SP.formatString}},dataLabels:{displayName:(0,r.D)("Visual_DataPointsLabels"),description:(0,r.D)("Visual_DataPointsLabelsDescription"),properties:{...t.Nq}},categoryLabels:{displayName:(0,r.D)("Visual_CategoryLabels"),description:(0,r.D)("Visual_CategoryLabelsDescription"),properties:{...t.Jk}},cardTitle:{displayName:(0,r.D)("Visual_CardTitle"),description:(0,r.D)("Visual_CardTitleDescription"),properties:{...t.Nq}},card:{displayName:(0,r.D)("Card_ToolTip"),properties:{...t.ac,barShow:{displayName:(0,r.D)("Visual_MultiRowCard_BarShow"),description:(0,r.D)("Visual_MultiRowCard_BarShow_Desc"),type:{bool:!0}},barColor:{displayName:(0,r.D)("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWeight:{displayName:(0,r.D)("Visual_MultiRowCard_BarWeight"),description:(0,r.D)("Visual_MultiRowCard_BarWeight_Desc"),type:{numeric:!0}},cardPadding:{displayName:(0,r.D)("Visual_Padding"),description:(0,r.D)("Visual_MultiRowCard_CardBackground"),type:{numeric:!0}},cardBackground:{displayName:(0,r.D)("Background_Color"),type:{fill:{solid:{color:!0}}}}}}},d=(0,a.cM)(o),n={dataRoles:[{name:"Values",kind:i.Ts.GroupingOrMeasure,displayName:(0,r.D)("Role_DisplayName_Fields"),description:(0,r.D)("Role_DisplayName_FieldsDescription")}],objects:o,dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{}},suppressDefaultTitle:!0,supportsSelection:!0,disableVisualDetails:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0},c={card:{outlineStyle:{objectName:"card",propertyName:"outlineStyle"},outlineColor:{objectName:"card",propertyName:"outlineColor"},outlineWeight:{objectName:"card",propertyName:"outlineWeight"},barShow:{objectName:"card",propertyName:"barShow"},barColor:{objectName:"card",propertyName:"barColor"},barWeight:{objectName:"card",propertyName:"barWeight"},cardPadding:{objectName:"card",propertyName:"cardPadding"},cardBackground:{objectName:"card",propertyName:"cardBackground"}}}},786890:function(ve,z,e){e.d(z,{JO:function(){return l},UF:function(){return s},ao:function(){return E},mI:function(){return v},pO:function(){return d},ss:function(){return p}});var a=e(371577),i=e(55684),r=e(429943),t=e(64589),o=e(140290);function d(D){return(0,o.OB)(D)&&D.for?c(D.for.in,a.gT.Value):(0,o.Cw)(D)&&D.bind?c(D.bind.to,a.gT.Value):void 0}function n(D){return D&&D.scalarKeyInfo&&D.scalarKeyInfo.hasScalarKey||(0,i.GA)(D&&D.type)?a.gT.ContinuousCategory:a.gT.DiscreteCategory}function c(D,h){var C=[];if(!D||D.role===r.lP.tooltips||_.isEmpty(D.items))return C;var y=D.activeItems;for(var f of D.items)if(!_.some(y)||_.includes(y,f.queryName)){var S=a.Ez.None;D.role===t.VV.goal&&(S=a.Ez.TargetValue),C.push({selectName:f.queryName,kind:h,roleKind:S})}return C}function s(D){var y,h=[],C=D.categorical.categories;return(0,o.OB)(C)&&C.for&&C.for.in&&(y=n(_.first(C.for.in.items)),h.push(...c(C.for.in,y))),h}function p(D){var h=[],C=D.categorical.values;if(C&&C.group){var y=C.group;if(h.push(...c(y.by,a.gT.DiscreteCategory)),y.select)for(var f of y.select){var S=d(f);_.isEmpty(S)||h.push(...S)}}if(C&&C.select)for(var b of C.select){var V=d(b);_.isEmpty(V)||h.push(...V)}return h}function l(D,h){var C=_.first(D.dataViewMappings);if(!C||!C.categorical||!C.categorical.categories)return{subjectKind:h,error:a.ZX.NoValidBindings,bindings:void 0};var y=s(C);return y.push(...p(C)),_.isEmpty(y)?{subjectKind:h,error:a.ZX.NoValidBindings,bindings:void 0}:{subjectKind:h,error:void 0,bindings:y}}function v(D,h){var C=function(D){var h=[],C=D.rows,y=[],f=[];for(var S of C.select)if((0,o.Cw)(S)&&S.bind&&S.bind.to){var V=n(_.first(S.bind.to.items));f.push(...c(S.bind.to,V))}else if((0,o.mO)(S)&&S.composite&&S.composite)for(var M of S.composite)if((0,o.OB)(M)&&M.for&&M.for.in){var T=n(_.first(M.for.in.items));y.push(...c(M.for.in,T))}h.push(...y),h.push(...f);var N=D.values;if(N&&N.select)for(var w of N.select){var I=d(w);_.isEmpty(I)||h.push(...I)}return h}(D);return _.isEmpty(C)?{subjectKind:h,error:a.ZX.NoValidBindings,bindings:void 0}:{subjectKind:h,error:void 0,bindings:C}}function m(D){var h=[],C=D.activeItems;for(var y of D.items)if(!_.some(C)||_.includes(C,y.queryName)){var f=a.Ez.None;switch(D.role){case"MinValue":f=a.Ez.MinimumValue;break;case"MaxValue":f=a.Ez.MaximumValue;break;case"TargetValue":f=a.Ez.TargetValue}h.push({selectName:y.queryName,kind:a.gT.Value,roleKind:f})}return h}function g(D,h){var C=[];if(!D||!h)return C;var y,f=a.gT.None,S=a.Ez.None;switch(D.role){case"MinValue":h.min&&(y=h.min.toString(),f=a.gT.ConstantValue,S=a.Ez.MinimumValue);break;case"MaxValue":h.max&&(y=h.max.toString(),f=a.gT.ConstantValue,S=a.Ez.MaximumValue);break;case"TargetValue":h.target&&(y=h.target.toString(),f=a.gT.ConstantValue,S=a.Ez.TargetValue)}return y&&C.push({selectName:y,kind:f,roleKind:S}),C}function E(D){var h=[];if(!D||!D.categorical||!D.categorical.values)return h;var C=D.categorical.values;if(!C||!C.select)return h;for(var y of C.select)if((0,o.Cw)(y)&&y.bind){var f=y.bind.to;f&&f.items?h.push(...m(f)):f&&void 0===f.items&&D.metadata&&D.metadata.objects&&D.metadata.objects.axis&&h.push(...g(f,D.metadata.objects.axis))}return h}},858830:function(ve,z,e){e.d(z,{Ho:function(){return v},JZ:function(){return s},OK:function(){return u},Qv:function(){return c},WT:function(){return S},Xr:function(){return b},ei:function(){return p},iI:function(){return y},iM:function(){return d},j4:function(){return n},mO:function(){return m},ph:function(){return l}});var a=e(266092),i=e(551683),r=e(993513),t=e(42006),o=e(33936),d={fill:o.Ct.fill,outline:o.Ct.outline,text:t.GA.text,shape:o.Ct.shape,layout:{orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},cellPadding:{objectName:"layout",propertyName:"cellPadding"}},shadow:o.Ct.shadow,glow:o.Ct.glow,accentBar:o.Ct.accentBar,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},n={...d,pages:{showHiddenPages:{objectName:"pages",propertyName:"showHiddenPages"},showTooltipPages:{objectName:"pages",propertyName:"showTooltipPages"},showByDefault:{objectName:"pages",propertyName:"showByDefault"},showPage:{objectName:"pages",propertyName:"showPage"}}},c={...d,bookmarks:{bookmarkGroup:{objectName:"bookmarks",propertyName:"bookmarkGroup"},allowDeselectionBookmark:{objectName:"bookmarks",propertyName:"allowDeselectionBookmark"},deselectionBookmark:{objectName:"bookmarks",propertyName:"deselectionBookmark"},hideDeselectedBookmark:{objectName:"bookmarks",propertyName:"hideDeselectedBookmark"},selectedBookmark:{objectName:"bookmarks",propertyName:"selectedBookmark"}}},s={fill:o.X7.fill,outline:o.X7.outline,text:t.pP.text,shape:o.X7.shape,layout:"layout",shadow:o.X7.shadow,glow:o.X7.glow,accentBar:o.X7.accentBar,rotation:"rotation"},p={...s,pages:"pages"},l={...s,bookmarks:"bookmarks"},u={...o.K9,...t.q,orientation:"orientation",rowCount:"rowCount",columnCount:"columnCount",cellPadding:"cellPadding",rotation:"angle"},v={...u,showHiddenPages:"showHiddenPages",showTooltipPages:"showTooltipPages",showByDefault:"showByDefault",showPage:"showPage"},m={...u,bookmarkGroup:"bookmarkGroup",allowDeselectionBookmark:"allowDeselectionBookmark",deselectionBookmark:"deselectionBookmark",hideDeselectedBookmark:"hideDeselectedBookmark",selectedBookmark:"selectedBookmark"},g={show:r.SP.show,[o.K9.fillColor]:r.SP.fill,[o.K9.fillTransparency]:r.SP.backgroundTransparency},E={show:r.SP.show,...r.j,[t.q.textVerticalAlignment]:r.SP.verticalAlignment,[t.q.textHorizontalAlignment]:r.SP.horizontalAlignment,[t.q.textLeftMargin]:{displayName:(0,a.D)("Visual_Margin_Left"),type:{integer:!0}},[t.q.textRightMargin]:{displayName:(0,a.D)("Visual_Margin_Right"),type:{integer:!0}},[t.q.textTopMargin]:{displayName:(0,a.D)("Visual_Margin_Top"),type:{integer:!0}},[t.q.textBottomMargin]:{displayName:(0,a.D)("Visual_Margin_Bottom"),type:{integer:!0}}},D={[u.orientation]:{displayName:(0,a.D)("Slicer_Orientation"),type:{enumeration:i.w}},[u.rowCount]:{displayName:(0,a.D)("Small_Multiples_Layout_Rows"),type:{integer:!0}},[u.columnCount]:{displayName:(0,a.D)("Small_Multiples_Layout_Columns"),type:{integer:!0}},[u.cellPadding]:{displayName:(0,a.D)("Visual_Padding"),type:{integer:!0}}},h={[v.showHiddenPages]:{displayName:(0,a.D)("Visual_Navigator_ShowHiddenPages"),type:{bool:!0}},[v.showTooltipPages]:{displayName:(0,a.D)("Visual_Navigator_ShowTooltipPages"),type:{bool:!0}},[v.showByDefault]:{displayName:(0,a.D)("Visual_Navigator_ShowByDefault"),type:{bool:!0}},[v.showPage]:{displayName:(0,a.D)("Show"),type:{bool:!0},suppressFormatPainterCopy:!0}},C={[m.bookmarkGroup]:{displayName:(0,a.D)("Generic_Bookmark"),type:{reference:{bookmarkGroup:!0}}},[m.allowDeselectionBookmark]:{displayName:(0,a.D)("Visual_AllowDeselection"),description:(0,a.D)("Visual_AllowDeselection_Description"),type:{bool:!0}},[m.deselectionBookmark]:{displayName:(0,a.D)("Visual_LaunchOnDeselection"),description:(0,a.D)("Visual_LaunchOnDeselection_Description"),type:{reference:{bookmark:!0}}},[m.hideDeselectedBookmark]:{displayName:(0,a.D)("Visual_HideDeselectionBookmark"),description:(0,a.D)("Visual_HideDeselectionBookmark_Description"),type:{bool:!0}},[m.selectedBookmark]:{type:{text:!0}}},y={default:"default",hover:"hover",press:"press",selected:"selected"},f={[s.fill]:{displayName:(0,a.D)("Visual_Fill"),properties:g},[s.outline]:o.ZX.outline,[s.text]:{displayName:(0,a.D)("Text"),properties:E},[s.shape]:o.ZX.shape,[s.layout]:{displayName:(0,a.D)("Small_Multiples_Layout"),properties:D},[s.shadow]:o.ZX.shadow,[s.glow]:o.ZX.glow,[s.accentBar]:o.ZX.accentBar,[s.rotation]:{displayName:(0,a.D)("Visual_BasicShape_Rotate"),properties:{[u.rotation]:r.SP.genericRotation,[u.shapeRotation]:r.SP.shapeRotation,[u.textRotation]:r.SP.textRotation}}},S={objects:{...f,[p.pages]:{displayName:(0,a.D)("Pages"),properties:h}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0},b={objects:{...f,[l.bookmarks]:{displayName:(0,a.D)("ExplorationBookmarksPane_Title"),properties:C}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0}},50053:function(ve,z,e){e.d(z,{N:function(){return l},h:function(){return p}});var a=e(236880),i=e(693029),r=e(266092),t=e(477241),o=e(124500),d=e(964363),n=e(479612),c=e(993513),s=e(936622);function p(u){return{dataRoles:[{name:s.o.rows,kind:i.Ts.Grouping,displayName:(0,r.D)("Role_DisplayName_Rows"),description:(0,r.D)("Role_DisplayName_RowsDescription")},{name:s.o.columns,kind:i.Ts.Grouping,displayName:(0,r.D)("Role_DisplayName_Columns"),description:(0,r.D)("Role_DisplayName_ColumnsDescription")},{name:s.o.values,kind:i.Ts.Measure,displayName:(0,r.D)("Role_DisplayName_Values"),supportsSparklines:!0}],objects:{general:{displayName:(0,r.D)("Visual_General"),properties:{formatString:c.SP.formatString,layout:{displayName:(0,r.D)("Layout"),type:{enumeration:o.R}}}},grid:{displayName:(0,r.D)("Visual_Grid"),properties:{...c.ac,gridVertical:{displayName:(0,r.D)("Visual_GridVertical"),description:(0,r.D)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,r.D)("Visual_GridVertical_Color"),description:(0,r.D)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,r.D)("Visual_GridVertical_Weight"),description:(0,r.D)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,r.D)("Visual_GridHorizontal"),description:(0,r.D)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,r.D)("Visual_GridHorizontal_Color"),description:(0,r.D)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,r.D)("Visual_GridHorizontal_Weight"),description:(0,r.D)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,r.D)("Visual_RowPadding"),description:(0,r.D)("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:(0,r.D)("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:(0,r.D)("Visual_General_Properties_Height"),description:(0,r.D)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}},imageWidth:{displayName:(0,r.D)("Visual_General_Properties_Width"),description:(0,r.D)("Visual_Tablix_ImageWidth_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,r.D)("Visual_Tablix_ColumnHeaders"),properties:{...c.ac,...c.Hp,alignment:c.SP.textAlignment,titleAlignment:{displayName:(0,r.D)("Visual_TextAlignment_Title"),type:{enumeration:n.O}},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,r.D)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},urlIcon:{displayName:(0,r.D)("Visual_Tablix_UrlIcon"),description:(0,r.D)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:c.SP.wordWrap}},rowHeaders:{displayName:(0,r.D)("Visual_Tablix_RowHeaders"),properties:{unfrozen:{type:{bool:!0},transient:!0},...c.ac,...c.Hp,alignment:c.SP.textAlignment,stepped:{displayName:(0,r.D)("Visual_PivotTable_SteppedLayout"),description:(0,r.D)("Visual_PivotTable_SteppedLayout_Description"),type:{bool:!0}},steppedLayoutIndentation:{displayName:(0,r.D)(u?.matrixLayouts?"Visual_PivotTable_Indentation":"Visual_PivotTable_SteppedLayoutIndentation"),description:(0,r.D)("Visual_PivotTable_SteppedLayoutIndentation_Description"),type:{numeric:!0}},urlIcon:{displayName:(0,r.D)("Visual_Tablix_UrlIcon"),description:(0,r.D)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:c.SP.wordWrap,showExpandCollapseButtons:{displayName:(0,r.D)("Visual_PivotTable_ExpandCollapseButtons_Toggle"),type:{bool:!0}},expandCollapseButtonsColor:{displayName:(0,r.D)("Visual_PivotTable_ExpandCollapseButtons_Color"),type:{fill:{solid:{color:!0}}}},expandCollapseButtonsSize:{displayName:(0,r.D)("Visual_PivotTable_ExpandCollapseButtons_Size"),type:{formatting:{fontSize:!0}}},expandCompositeHierarchy:{type:{bool:!0}},repeatRowHeaders:{displayName:(0,r.D)("Visual_RepeatRowHeaders"),type:{bool:!0}},legacyStyleDisabled:{type:{bool:!0}}}},values:{displayName:(0,r.D)("Visual_Tablix_Values"),properties:{...c.ac,...c.Hp,backColor:{displayName:(0,r.D)("Background_Color"),description:(0,r.D)("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,r.D)("Visual_FontColor"),description:(0,r.D)("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,r.D)("Visual_FontColor"),description:(0,r.D)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,r.D)("Background_Color"),description:(0,r.D)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,r.D)("Visual_Tablix_FontColorSecondary"),description:(0,r.D)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,r.D)("Visual_Tablix_BackColorSecondary"),description:(0,r.D)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},bandedRowHeaders:{displayName:(0,r.D)("Visual_PivotTable_ValuesBandedRowHeaders"),description:(0,r.D)("Visual_PivotTable_ValuesBandedRowHeaders_Description"),type:{bool:!0}},urlIcon:{displayName:(0,r.D)("Visual_Tablix_UrlIcon"),description:(0,r.D)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:c.SP.wordWrap,valuesOnRow:{displayName:(0,r.D)("Visual_PivotTable_ValuesOnRow"),description:(0,r.D)("Visual_PivotTable_ValuesOnRow_Description"),type:{bool:!0}},icon:{displayName:(0,r.D)("Visual_Tablix_Icons"),description:(0,r.D)("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:(0,r.D)("Web_Url"),type:{misc:{webUrl:!0}}}}},subTotals:{displayName:(0,r.D)("Visual_Tablix_TotalSub"),properties:{...c.Hp,rowSubtotals:{type:{bool:!0},displayName:(0,r.D)("Visual_SubtotalRow"),description:(0,r.D)("Visual_SubtotalRow_Desc"),suppressFormatPainterCopy:!0},rowSubtotalsLabel:{type:{text:!0},displayName:(0,r.D)("Visual_PivotTable_TotalLabel_RowSubtotals"),suppressFormatPainterCopy:!0},rowSubtotalsPosition:{displayName:(0,r.D)("Visual_SubtotalRow_Position"),type:{enumeration:d.NW},suppressFormatPainterCopy:!0},perRowLevel:{displayName:(0,r.D)("Visual_SubtotalRow_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:(0,r.D)("Visual_SubtotalColumn"),description:(0,r.D)("Visual_SubtotalColumn_Desc"),suppressFormatPainterCopy:!0},columnSubtotalsLabel:{type:{text:!0},displayName:(0,r.D)("Visual_PivotTable_TotalLabel_ColumnSubtotals"),suppressFormatPainterCopy:!0},perColumnLevel:{displayName:(0,r.D)("Visual_SubtotalColumn_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},applyToHeaders:{displayName:(0,r.D)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}},levelSubtotalEnabled:{type:{bool:!0}},levelSubtotalLabel:{type:{text:!0},suppressFormatPainterCopy:!0}}},total:{displayName:(0,r.D)("Visual_Tablix_Matrix_TotalGrand"),properties:{...c.Hp,applyToHeaders:{displayName:(0,r.D)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},rowTotal:{displayName:(0,r.D)("Visual_Tablix_Matrix_Row_TotalGrand"),properties:{...c.Hp,applyToHeaders:{displayName:(0,r.D)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnTotal:{displayName:(0,r.D)("Visual_Tablix_Matrix_Column_TotalGrand"),properties:{...c.Hp,applyToHeaders:{displayName:(0,r.D)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:(0,r.D)("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:(0,r.D)("Visual_DisplayUnits"),description:(0,r.D)("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:c.SP.labelPrecision,fontColor:c.SP.tablixFontColor,backColor:c.SP.backColor,alignment:c.SP.textAlignment,styleHeader:{displayName:(0,r.D)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,r.D)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:(0,r.D)("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:(0,r.D)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:(0,r.D)("Visual_ConditionalFormatting_DataBars"),description:(0,r.D)("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},sparklines:c.rg.sparklines,accessibility:{displayName:(0,r.D)("Accessibility"),properties:{altTextColumns:{displayName:(0,r.D)("Visual_Tablix_AltTextColumns_Label"),type:{text:!0}}}},blankRows:{displayName:(0,r.D)("Visual_Blank_Rows"),properties:{showBlankRows:c.SP.show,blankRowColor:c.SP.genericColor,blankRowTransparency:{displayName:(0,r.D)("Transparency"),type:{numeric:!0}},showBorder:c.SP.show,borderPosition:{displayName:(0,r.D)("Visual_Position"),type:{enumeration:t.O}},borderColor:c.SP.genericColor,borderTransparency:{displayName:(0,r.D)("Transparency"),type:{numeric:!0}},borderWidth:{displayName:(0,r.D)("Visual_General_Properties_Width"),type:{numeric:!0}}}},...(0,c.eT)({highlight:!0},!1)},annotationTemplates:(0,c.e1)({highlight:!0}),dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],dataRoleTotals:[{roles:[s.o.columns],displayName:(0,r.D)("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:(0,r.D)("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:(0,r.D)("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[s.o.rows],displayName:(0,r.D)("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:(0,r.D)("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:(0,r.D)("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],filterMappings:{measureFilter:{targetRoles:[s.o.rows]}},sorting:{default:{},custom:{}},drilldown:{roles:[s.o.rows,s.o.columns]},expandCollapse:{roles:[s.o.rows],addDataViewFlags:{defaultValue:!0},supportsMerge:!!u?.fieldParameterDynamicSlicer},suppressDefaultTitle:!0,supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}var l=(0,a.cM)(p().objects)},140290:function(ve,z,e){e.d(z,{Cw:function(){return o},OB:function(){return d},Ws:function(){return l},Y_:function(){return c},gI:function(){return p},hd:function(){return u},mO:function(){return n}});var a=e(111199),i=e(816030),r=e(190593),t=e(226339);function o(v){return v&&!!v.bind}function d(v){return v&&!!v.for}function n(v){return v&&!!v}function c(v,m){var g=v.metadata.objects;if(!g||!g.valueAxis||!1!==g.valueAxis.sharedAxis||!0!==g.valueAxis.scaleToFit){var E=v.matrix,D=s(E.values.select,m),h=E.rows.values;_.isEmpty(h)||D.push(...s(h.select,m)),p(D,{min:!0,max:!0})}}function s(v,m){return v.filter(g=>{if(!d(g))return!1;var E=g.for.in.role;return _.some(m,D=>D===E)})}function p(v,m){for(var g of v){var D=(0,a.x7)(g).items;if(!_.isEmpty(D))for(var h of D)h.hidden||(h.aggregates=h.aggregates||[]).push(m)}}function l(v){var m=v.matrix.rows.select[0].dataReductionAlgorithm;if(m.window){var g=v.metadata&&v.metadata.objects,E=g&&g[r.xf];E&&(m.window.count=(0,r.k3)(E.rowCount||r.T9,E.columnCount||r.Zf))}}function u(v,m){var g=_.filter(v.metadata.columns,E=>{var D=E.type?.misc?.sparkline?.groupingType;if(!D)return!1;var h=D.temporal||D.dateTime||D.numeric,C=(0,i._W)(E.objects,{objectName:"sparklines",propertyName:"chartType"},void 0);return h&&C===t.Y.column});_.forEach(g,E=>{var D=_.find(m,h=>E.queryName===h.queryName);D&&(D.sparklineInfo={includeMinGroupingInterval:!0})})}},467655:function(ve,z,e){e.d(z,{Hy:function(){return d},nJ:function(){return o}});var a=e(236880),i=e(266092),r=e(993513),t={inputBox:{displayName:(0,i.D)("Visual_Qna_QuestionBox"),properties:{background:{displayName:(0,i.D)("Background_Color"),description:(0,i.D)("Visual_Qna_QuestionBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontColor:{displayName:(0,i.D)("Visual_Qna_QuestionFontColor"),description:(0,i.D)("Visual_Qna_QuestionFontColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontSize:{displayName:(0,i.D)("Visual_Qna_QuestionFontSize"),description:(0,i.D)("Visual_Qna_QuestionFontSizeDescription"),type:{formatting:{fontSize:!0}}},questionBold:r.SP.bold,questionItalic:r.SP.italic,questionUnderline:r.SP.underline,questionFontFamily:{displayName:(0,i.D)("Visual_Qna_QuestionFontFamily"),description:(0,i.D)("Visual_Qna_QuestionFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},hoverColor:{displayName:(0,i.D)("Visual_Qna_HoverColor"),description:(0,i.D)("Visual_Qna_HoverColorDescription"),type:{fill:{solid:{color:!0}}}},acceptedColor:{displayName:(0,i.D)("Visual_Qna_AcceptedUnderlineColor"),description:(0,i.D)("Visual_Qna_AcceptedUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},errorColor:{displayName:(0,i.D)("Visual_Qna_ErrorUnderlineColor"),description:(0,i.D)("Visual_Qna_ErrorUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},warningColor:{displayName:(0,i.D)("Visual_Qna_WarningUnderlineColor"),description:(0,i.D)("Visual_Qna_WarningUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontColor:{displayName:(0,i.D)("Visual_Qna_RestatementFontColor"),description:(0,i.D)("Visual_Qna_RestatementFontColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontSize:{displayName:(0,i.D)("Visual_Qna_RestatementFontSize"),description:(0,i.D)("Visual_Qna_RestatementFontSizeDescription"),type:{formatting:{fontSize:!0}}},restatementFontFamily:{displayName:(0,i.D)("Visual_Qna_RestatementFontFamily"),description:(0,i.D)("Visual_Qna_RestatementFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},commitButtonBackgroundColor:{displayName:(0,i.D)("Visual_Qna_CommitButtonBackgroundColor"),description:(0,i.D)("Visual_Qna_CommitButtonBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}}}},suggestions:{displayName:(0,i.D)("Suggestions"),properties:{show:r.SP.show,headerFontColor:{displayName:(0,i.D)("Visual_Qna_HeaderFontColor"),description:(0,i.D)("Visual_Qna_HeaderFontColorDescription"),type:{fill:{solid:{color:!0}}}},headerFontSize:{displayName:(0,i.D)("Visual_Qna_HeaderFontSize"),description:(0,i.D)("Visual_Qna_HeaderFontSizeDescription"),type:{formatting:{fontSize:!0}}},headerBold:r.SP.bold,headerItalic:r.SP.italic,headerUnderline:r.SP.underline,headerFontFamily:{displayName:(0,i.D)("Visual_Qna_HeaderFontFamily"),description:(0,i.D)("Visual_Qna_HeaderFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},cardBackground:{displayName:(0,i.D)("Visual_Qna_CardBackgroundColor"),description:(0,i.D)("Visual_Qna_CardBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontColor:{displayName:(0,i.D)("Visual_Qna_CardFontColor"),description:(0,i.D)("Visual_Qna_CardFontColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontSize:{displayName:(0,i.D)("Visual_Qna_CardFontSize"),description:(0,i.D)("Visual_Qna_CardFontSizeDescription"),type:{formatting:{fontSize:!0}}},cardBold:r.SP.bold,cardItalic:r.SP.italic,cardUnderline:r.SP.underline,cardFontFamily:{displayName:(0,i.D)("Visual_Qna_CardFontFamily"),description:(0,i.D)("Visual_Qna_CardFontFamilyDescription"),type:{formatting:{fontFamily:!0}}}}},hiddenProperties:{properties:{savedUtterance:{type:{text:!0},captureState:!0,suppressFormatPainterCopy:!0}}}},o=(0,a.cM)(t),d={objects:t,suppressDefaultTitle:!0,supportsKeyboardFocus:!0,supportsHighlight:!0,isConvertible:!0,tooltips:{supportEnhancedTooltips:!1},suppressVisualCalc:!0}},502275:function(ve,z,e){e.d(z,{FA:function(){return s},px:function(){return c}});var a=e(693029),i=e(266092),r=e(904143),t=e(993513),o=e(236880),d=function(p){return p[p.Top=0]="Top",p[p.Bottom=1]="Bottom",p}({}),n=(0,r.s)([{value:d.Top,displayName:(0,i.D)("Top")},{value:d.Bottom,displayName:(0,i.D)("Bottom")}]),c={advancedEditModeSupport:a.bU.SupportedInFocus,objects:{toolbar:{displayName:(0,i.D)("RdlVisual_Capabilities_Toolbar"),properties:{show:t.SP.show,pageNavigation:{displayName:(0,i.D)("PageNavigation"),type:{bool:!0}},paramButton:{displayName:(0,i.D)("Parameters"),type:{bool:!0}},openReportButton:{displayName:(0,i.D)("OpenReport"),type:{bool:!0}},useFloatingToolbar:{displayName:(0,i.D)("RdlVisual_Capabilities_Floating"),type:{bool:!0}},position:{displayName:(0,i.D)("RdlVisual_Capabilities_ToolbarPosition"),type:{enumeration:n}}}},export:{displayName:(0,i.D)("Export"),properties:{show:t.SP.show,exportExcel:{displayName:(0,i.D)("RenderFormat_EXCELOPENXML"),type:{bool:!0}},exportPDF:{displayName:(0,i.D)("RenderFormat_PDF"),type:{bool:!0}},exportAccessiblePDF:{displayName:(0,i.D)("RenderFormat_ACCESSIBLEPDF"),type:{bool:!0}},exportCSV:{displayName:(0,i.D)("RenderFormat_CSV"),type:{bool:!0}},exportPPTX:{displayName:(0,i.D)("RenderFormat_PPTX"),type:{bool:!0}},exportWord:{displayName:(0,i.D)("RenderFormat_WORDOPENXML"),type:{bool:!0}},exportMHTML:{displayName:(0,i.D)("RenderFormat_MHTML"),type:{bool:!0}},exportXML:{displayName:(0,i.D)("RenderFormat_XML"),type:{bool:!0}}}},autoFilter:{displayName:(0,i.D)("RdlVisual_Capabilities_AutoFilter"),properties:{show:t.SP.show}},reportInfo:{suppressFormatPainterCopy:!0,properties:{reportId:{type:{text:!0}},workspaceId:{type:{text:!0}},reference:{type:{itemLocation:{}}}}},parameterMapping:{properties:{mappings:{type:{text:!0}}}}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,blockExportData:!0,dataRoles:[{name:"parameterValues",kind:a.Ts.GroupingOrMeasure,displayName:(0,i.D)("Parameters"),description:(0,i.D)("RdlVisual_Capabilities_Parameters_Description")}],dataViewMappings:[{conditions:[{parameterValues:{min:0}}],table:{rows:{for:{in:"parameterValues"},dataReductionAlgorithm:{top:{count:3e4}}}}}],suppressVisualCalc:!0,showVisualContainerScreen:!0},s=(0,o.cM)(c.objects)},807779:function(ve,z,e){e.d(z,{X6:function(){return l},Zw:function(){return m},_p:function(){return E},fA:function(){return D}});var a=e(924672),i=e(18122),r=e(236880),t=e(693029),o=e(319842),d=e(266092),n=e(904143),c=e(130939),s=e(993513),p=e(429943);function l(h){return{dataRoles:u(h&&h.cartesianConditionalFormatting,h&&h.useModernFormatPane),objects:g,dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:t.Ts.Measure},Y:{max:1,kind:t.Ts.Measure},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:t.Ts.Measure},Y:{max:1,kind:t.Ts.Measure},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:t.Ts.Measure},Y:{max:1,kind:t.Ts.Measure},Size:{max:1},Gradient:{max:0},Play:{min:1,max:1}}],matrix:{rows:{select:[{bind:{to:"Play"}},{bind:{to:"Category"}}],dataReductionAlgorithm:{bottom:{count:5e3}}},columns:{for:{in:"Series"},dataReductionAlgorithm:{top:{count:60}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{for:{in:"Tooltips"}}]}}},v(!0,!0,!1),v(!0,!1,!0),v(!1,!0,!1),{conditions:[{Category:{max:0},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:1},Play:{max:0}},{Category:{max:1},Series:{max:1},X:{max:1,kind:t.Ts.Measure},Y:{max:1,kind:t.Ts.Measure},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:t.Ts.Measure},Y:{max:1,kind:t.Ts.Measure},Size:{max:0},Gradient:{max:1},Play:{max:0}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},matrix:{rows:{select:[{bind:{to:"regression.Series"}},{bind:{to:"regression.X"}}],dataReductionAlgorithm:{sample:{}}},values:{select:[{for:{in:"regression.Y"}}]},dataVolume:4}}],visualShapeDataViewMappings:[{conditions:[{Category:{max:0},Series:{max:1},X:{min:1,kind:t.Ts.Grouping},Y:{max:1,kind:t.Ts.Measure},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{min:1,kind:t.Ts.Grouping},Y:{max:1,kind:t.Ts.Measure},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"X"}}]},columns:{for:{in:"Series"}},values:{select:[{bind:{to:"Size"}},{for:{in:"Tooltips"}},{bind:{to:"Y"}}]}}},{conditions:[{Category:{max:0},Series:{max:1},X:{min:1,max:1,kind:t.Ts.Grouping},Y:{min:1,max:1,kind:t.Ts.Grouping},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{min:1,max:1,kind:t.Ts.Grouping},Y:{min:1,max:1,kind:t.Ts.Grouping},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{composite:[{for:{in:"X"}},{for:{in:"Y"}}]}]},columns:{for:{in:"Series"}},values:{select:[{bind:{to:"Size"}},{for:{in:"Tooltips"}}]}}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:t.Ts.Measure},Y:{min:1,max:1,kind:t.Ts.Grouping},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1,kind:t.Ts.Measure},Y:{min:1,max:1,kind:t.Ts.Grouping},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Y"}}]},columns:{for:{in:"Series"}},values:{select:[{bind:{to:"Size"}},{for:{in:"Tooltips"}},{bind:{to:"X"}}]}}},{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:t.Ts.Measure},Y:{max:1,kind:t.Ts.Measure},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:t.Ts.Measure},Y:{max:1,kind:t.Ts.Measure},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Category"}}]},columns:{for:{in:"Series"}},values:{select:[{bind:{to:"Size"}},{for:{in:"Tooltips"}},{bind:{to:"X"}},{bind:{to:"Y"}}]}}}],sorting:{default:{},custom:{},implicit:{clauses:[{role:"Play",direction:a.U.Ascending}]}},drilldown:{roles:[p.Jl.category,p.Jl.x]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Play:{max:1}},groupingTargetRole:"Category",kind:o.c.GroupInPlace},{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Play:{max:1}},groupingTargetRole:"Series",kind:o.c.Color},{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:1},Play:{max:1}},groupingTargetRole:"Category",kind:o.c.GroupInPlace}],cluster:{clusteringRole:"Series",conditions:[{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Size:{max:1},Gradient:{max:0},Play:{max:0}}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsOnObjectFormatting:!0,suppressVisualCalc:!h?.enableCalculationScatterChartMap}}function u(h,C){var y=[{name:p.Jl.category,kind:t.Ts.Grouping,displayName:(0,d.D)(C?"Role_DisplayName_Values":"Details"),displayOrder:1,description:(0,d.D)("Role_DisplayName_DetailsScatterChartDescription")},{name:p.Jl.series,kind:t.Ts.Grouping,displayName:(0,d.D)("Role_DisplayName_Legend"),displayOrder:C?4:2,description:(0,d.D)("Role_DisplayName_LegendDescription")},{name:p.Jl.x,kind:t.Ts.GroupingOrMeasure,displayName:(0,d.D)("Role_DisplayName_X"),displayOrder:C?2:3,description:(0,d.D)("Role_DisplayName_XScatterChartDescription"),requiredTypes:void 0,cartesianKind:t.Xk.X},{name:p.Jl.y,kind:t.Ts.GroupingOrMeasure,displayName:(0,d.D)("Role_DisplayName_Y"),displayOrder:C?3:4,description:(0,d.D)("Role_DisplayName_YScatterChartDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:t.Xk.Y},{name:p.Jl.size,kind:t.Ts.Measure,displayName:(0,d.D)("Role_DisplayName_Size"),displayOrder:5,description:(0,d.D)("Role_DisplayName_SizeDescription_Bubble"),requiredTypes:[{numeric:!0},{integer:!0}]}];return h||y.push({name:p.Jl.gradient,kind:t.Ts.Measure,displayName:(0,d.D)("Role_DisplayName_Gradient"),displayOrder:6,description:(0,d.D)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:t.gD.None}),y.push({name:p.Jl.play,kind:t.Ts.Grouping,displayName:(0,d.D)("Role_DisplayName_Play"),displayOrder:7,disallowedWithVisualCalculations:!0}),y.push({name:p.Jl.tooltips,kind:t.Ts.Measure,displayName:(0,d.D)("Role_DisplayName_Tooltips"),displayOrder:8,description:(0,d.D)("Role_Tooltips_Description"),joinPredicate:t.gD.None}),y}function v(h,C,y){i.Y.assert(()=>h||C,"At least one of groupedX or groupedY must be true");var f={min:1,max:1,kind:t.Ts.Grouping};y&&(f={min:1,kind:t.Ts.Grouping});var b={max:1,kind:t.Ts.Measure},V=h?f:b,M=C?{min:1,max:1,kind:t.Ts.Grouping}:b,P={bind:{to:"X"}},N={bind:{to:"Y"}},w=[],I=[];h?w.push(y?{for:{in:"X"}}:P):I.push(P),C?w.push(N):I.push(N);var O,x=w.length;return x>=2||1===x&&h&&y?O={composite:w}:1===x&&(O=w[0]),{conditions:[{Category:{max:0},Series:{max:1},X:V,Y:M,Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:V,Y:M,Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},O],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[...I||[],{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},dataVolume:4}}}var m=function(h){return h.fillOnly="Fill only",h.borderOnly="Border only",h}({}),g={general:{displayName:(0,d.D)("Visual_General"),properties:{formatString:s.SP.formatString,responsive:s.SP.responsive,responsiveLegacy:s.SP.responsiveLegacy,dataVolume:{displayName:(0,d.D)("Visual_DataVolume"),description:(0,d.D)("Visual_DataVolumeDescription"),type:{integer:!0}}}},legend:{displayName:s.rg.legend.displayName,description:s.rg.legend.description,properties:{...s.rg.legend.properties,showGradientLegend:s.SP.showGradientLegend}},categoryAxis:{displayName:(0,d.D)("Visual_XAxis"),properties:{show:s.SP.show,...s.WI,...s.Vo,...s.po,...(0,s.Jx)("x"),...s.hL,treatNullsAsZero:{displayName:(0,d.D)("Visual_Scatter_TreatNullsAsZero"),description:(0,d.D)("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}}}},valueAxis:{displayName:(0,d.D)("Visual_YAxis"),properties:{show:s.SP.show,...s.WI,...s.po,...(0,s.Jx)("y"),...s.hL,treatNullsAsZero:{displayName:(0,d.D)("Visual_Scatter_TreatNullsAsZero"),description:(0,d.D)("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}},switchAxisPosition:s.SP.switchAxisPosition}},zoom:s.rg.zoom,dataPoint:{displayName:(0,d.D)("Visual_DataPoint"),description:(0,d.D)("Visual_DataPointDescription"),properties:{defaultColor:s.SP.defaultColor,showAllDataPoints:s.SP.showAllDataPoints,fill:s.SP.defaultCategoryColor,fillRule:{displayName:(0,d.D)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category","X","Y"]}}}}},markers:s.rg.markers,bubbles:{displayName:(0,d.D)("Visual_Shapes"),description:(0,d.D)("Visual_ShapesDescription"),properties:{bubbleSize:{displayName:(0,d.D)("Visual_SizeMultiplier"),type:{integer:!0}},markerRangeType:{displayName:(0,d.D)("Visual_MarkerRangeType"),type:{enumeration:c.hQ}},markerShape:s.SP.markerShape,showSeries:{displayName:(0,d.D)("Visual_LabelSeriesShowAll"),type:{bool:!0}}}},plotArea:s.rg.plotArea,categoryLabels:{displayName:(0,d.D)("Visual_CategoryLabels"),description:(0,d.D)("Visual_CategoryLabelsDescription"),properties:{...s.Jk,...s.Ed}},trend:(0,s.o4)(!1),[p.wn.x]:{displayName:(0,d.D)("Visual_Reference_Line_X"),description:(0,d.D)("Visual_Reference_Line_Description"),objectCategory:t.i8.Analytics,suppressFormatPainterCopy:!0,properties:s.k4},[p.wn.y1]:{displayName:(0,d.D)("Visual_Reference_Line_Y"),description:(0,d.D)("Visual_Reference_Line_Description"),objectCategory:t.i8.Analytics,suppressFormatPainterCopy:!0,properties:s.k4},[p.wn.generic]:{displayName:(0,d.D)("Visual_Reference_Line"),description:(0,d.D)("Visual_Reference_Line_Description"),objectCategory:t.i8.Analytics,suppressFormatPainterCopy:!0,properties:s.k4},colorBorder:{displayName:(0,d.D)("Visual_ColorBorder"),properties:{show:s.SP.show}},fillPoint:{displayName:(0,d.D)("Visual_FillPoint"),properties:{style:{displayName:(0,d.D)("Style"),type:{enumeration:(0,n.s)([{value:m.fillOnly,displayName:h=>h.get("Visual_FillStyle_Fill")},{value:m.borderOnly,displayName:h=>h.get("Visual_FillStyle_Border")}])}}}},colorByCategory:{displayName:(0,d.D)("Visual_ColorByCategory"),properties:{show:s.SP.show}},currentFrameIndex:{properties:{index:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},plotAreaShading:{displayName:(0,d.D)("Visual_Scatter_SymmetryShading"),description:(0,d.D)("Visual_Scatter_SymmetryShadingDescription"),objectCategory:t.i8.Analytics,properties:{show:s.SP.show,displayName:{displayName:(0,d.D)("Name"),type:{text:!0}},upperShadingColor:{displayName:(0,d.D)("Visual_Scatter_SymmetryShadingUpper"),description:(0,d.D)("Visual_Scatter_SymmetryShadingUpperDescription"),type:{fill:{solid:{color:!0}}}},lowerShadingColor:{displayName:(0,d.D)("Visual_Scatter_SymmetryShadingLower"),description:(0,d.D)("Visual_Scatter_SymmetryShadingLowerDescription"),type:{fill:{solid:{color:!0}}}},transparency:s.SP.backgroundTransparency}},ratioLine:{displayName:(0,d.D)("Visual_Scatter_RatioLine"),description:(0,d.D)("Visual_Scatter_RatioLineDescription"),objectCategory:t.i8.Analytics,properties:{displayName:{displayName:(0,d.D)("Name"),type:{text:!0}},...s.qj}}},E=(0,r.cM)(g),D={general:{dataVolume:{objectName:"general",propertyName:"dataVolume"}},dataPoint:{defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},markers:{color:{objectName:"dataPoint",propertyName:"fill"},rangeType:{objectName:"bubbles",propertyName:"markerRangeType"},shape:{objectName:"bubbles",propertyName:"markerShape"},...s.vb},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"},showSeries:{objectName:"bubbles",propertyName:"showSeries"}},trend:{show:{objectName:"trend",propertyName:"show"}},colorByCategory:{show:{objectName:"colorByCategory",propertyName:"show"}},currentFrameIndex:{index:{objectName:"currentFrameIndex",propertyName:"index"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},plotAreaShading:{show:{objectName:"plotAreaShading",propertyName:"show"},upperShadingColor:{objectName:"plotAreaShading",propertyName:"upperShadingColor"},lowerShadingColor:{objectName:"plotAreaShading",propertyName:"lowerShadingColor"},transparency:{objectName:"plotAreaShading",propertyName:"transparency"}},ratioLine:(0,s.Nk)("ratioLine",s.I$),categoryAxis:{treatNullsAsZero:{objectName:"categoryAxis",propertyName:"treatNullsAsZero"}},valueAxis:{treatNullsAsZero:{objectName:"valueAxis",propertyName:"treatNullsAsZero"}}}},382901:function(ve,z,e){e.d(z,{T:function(){return o},p:function(){return d}});var a=e(236880),i=e(266092),r=e(904143),t=e(993513),o={dataViewMappings:[],objects:{scorecard:{displayName:(0,i.D)("Scorecard"),properties:{scorecardId:{type:{text:!0},displayName:(0,i.D)("ContentHeader_URL"),suppressFormatPainterCopy:!0},scorecardReference:{type:{itemLocation:{}},suppressFormatPainterCopy:!0},goalIds:{displayName:(0,i.D)("Metrics"),type:{text:!0},suppressFormatPainterCopy:!0},displayMode:{displayName:(0,i.D)("ExplorationBookmarks_Display"),type:{enumeration:(0,r.s)([{displayName:(0,i.D)("Tile_Generic"),value:"tile"},{displayName:(0,i.D)("Visual_SliderMode_Basic"),value:"list"}])}},backgroundColor:t.SP.backColor,foregroundColor:t.SP.fontColor,fontFamily:t.SP.fontFamily,tableBackgroundColor:t.SP.backColor,showCommandBar:{type:{bool:!0},displayName:(0,i.D)("ScorecardVisual_Format_ShowCommandBar")}}},header:{displayName:(0,i.D)("ThemeDialog_SubSection_Header"),properties:{show:t.SP.show,showTitle:{type:{bool:!0},displayName:(0,i.D)("EditWidget_ShowTitleCheckbox")},showToolbar:{type:{bool:!0},displayName:(0,i.D)("ScorecardVisual_Format_ShowToolbar")},showCards:{type:{bool:!0},displayName:(0,i.D)("Cards")},foregroundColor:t.SP.fontColor,backgroundColor:t.SP.backColor}},columnHeaders:{displayName:(0,i.D)("Visual_Tablix_ColumnHeaders"),properties:{show:t.SP.show,foregroundColor:t.SP.fontColor}},goals:{displayName:(0,i.D)("Role_DisplayName_KPI_Goals"),properties:{foregroundColor:t.SP.fontColor,backgroundColor:t.SP.backColor}},detailsPane:{displayName:(0,i.D)("DetailsPane"),properties:{foregroundColor:t.SP.fontColor,backgroundColor:t.SP.backColor,cardForegroundColor:{displayName:(0,i.D)("Card_Font_Color"),type:{fill:{solid:{color:!0}}}},cardBackgroundColor:{displayName:(0,i.D)("Card_Background_Color"),type:{fill:{solid:{color:!0}}}},chartBackgroundColor:{displayName:(0,i.D)("Chart_Background_Color"),type:{fill:{solid:{color:!0}}}},chartForegroundColor:{displayName:(0,i.D)("Chart_Foreground_Color"),type:{fill:{solid:{color:!0}}}}}},visualization:{displayName:(0,i.D)("Visualization"),properties:{backgroundColor:t.SP.backColor,backgroundTransparency:t.SP.backgroundTransparency,showScorecardName:{displayName:(0,i.D)("ScorecardDialog_Name"),description:(0,i.D)("ScorecardDialog_Name"),type:{bool:!0}},scorecardNameFontFamily:t.SP.fontFamily,scorecardNameFontSize:t.SP.titleFontSize,scorecardNameFontColor:t.SP.fontColor,scorecardNameBold:t.SP.bold,scorecardNameItalic:t.SP.italic,scorecardNameUnderline:t.SP.underline,currentValueFontFamily:t.SP.fontFamily,currentValueFontSize:t.SP.titleFontSize,currentValueFontColor:t.SP.fontColor,currentValueBold:t.SP.bold,currentValueItalic:t.SP.italic,currentValueUnderline:t.SP.underline,targetValueFontFamily:t.SP.fontFamily,targetValueFontSize:t.SP.titleFontSize,targetValueFontColor:t.SP.fontColor,targetValueBold:t.SP.bold,targetValueItalic:t.SP.italic,targetValueUnderline:t.SP.underline,showGrowth:{displayName:(0,i.D)("ScorecardVisual_Growth"),description:(0,i.D)("ScorecardVisual_Growth"),type:{bool:!0}},growthFontFamily:t.SP.fontFamily,growthFontSize:t.SP.titleFontSize,growthFontColor:t.SP.fontColor,growthBold:t.SP.bold,growthItalic:t.SP.italic,growthUnderline:t.SP.underline,showGoalName:{displayName:(0,i.D)("GoalName"),description:(0,i.D)("GoalName"),type:{bool:!0}},goalNameFontFamily:t.SP.fontFamily,goalNameFontSize:t.SP.titleFontSize,goalNameFontColor:t.SP.fontColor,goalNameBold:t.SP.bold,goalNameItalic:t.SP.italic,goalNameUnderline:t.SP.underline,showOwner:{displayName:(0,i.D)("Owner_Lowercase"),description:(0,i.D)("Owner_Lowercase"),type:{bool:!0}},ownerPhotoSize:{displayName:(0,i.D)("Role_DisplayName_Size"),description:(0,i.D)("Role_DisplayName_Size"),type:{numeric:!0}},showDueDate:{displayName:(0,i.D)("Due"),description:(0,i.D)("Due"),type:{bool:!0}},dueDateFontFamily:t.SP.fontFamily,dueDateFontSize:t.SP.titleFontSize,dueDateFontColor:t.SP.fontColor,dueDateBold:t.SP.bold,dueDateItalic:t.SP.italic,dueDateUnderline:t.SP.underline,showStatus:{displayName:(0,i.D)("Status"),description:(0,i.D)("Status"),type:{bool:!0}},showNotes:{displayName:(0,i.D)("Notes"),description:(0,i.D)("Notes"),type:{bool:!0}},notesFontSize:t.SP.titleFontSize,notesFontColor:t.SP.fontColor,showVisualization:{displayName:(0,i.D)("Visualization"),description:(0,i.D)("Visualization"),type:{bool:!0}},showLegends:{displayName:(0,i.D)("Visual_Legend"),description:(0,i.D)("Visual_Legend"),type:{bool:!0}},showTargetLine:{displayName:(0,i.D)("ScorecardVisual_TargetLine"),description:(0,i.D)("ScorecardVisual_TargetLine"),type:{bool:!0}},targetLineColor:t.SP.fontColor,currentLineColor:t.SP.fontColor,currentAreaShaded:{displayName:(0,i.D)("Visual_Shapes_ShadeArea"),description:(0,i.D)("Visual_Shapes_ShadeArea"),type:{bool:!0}},showXAxis:{displayName:(0,i.D)("Visual_XAxis_Hyphen"),description:(0,i.D)("Visual_XAxis_Hyphen"),type:{bool:!0}},xAxisFontFamily:t.SP.fontFamily,xAxisFontSize:t.SP.titleFontSize,xAxisFontColor:t.SP.fontColor,xAxisBold:t.SP.bold,xAxisItalic:t.SP.italic,xAxisUnderline:t.SP.underline,showYAxis:{displayName:(0,i.D)("Visual_YAxis_Hyphen"),description:(0,i.D)("Visual_YAxis_Hyphen"),type:{bool:!0}},yAxisFontFamily:t.SP.fontFamily,yAxisFontSize:t.SP.titleFontSize,yAxisFontColor:t.SP.fontColor,yAxisBold:t.SP.bold,yAxisItalic:t.SP.italic,yAxisUnderline:t.SP.underline}}},sorting:{custom:{}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,supportsSelection:!1,showVisualContainerScreen:!0},d=(0,a.cM)(o.objects)},153954:function(ve,z,e){e.d(z,{Ko:function(){return m},Ns:function(){return g},a2:function(){return c},eC:function(){return l},xX:function(){return s},yi:function(){return p}});var a=e(236880),i=e(319842),r=e(266092),t=e(715274),o=e(993513),d=e(42006),n=e(33936),c={fill:n.Ct.fill,outline:n.Ct.outline,text:d.GA.text,shape:{...n.Ct.shape,linecapType:{objectName:"shape",propertyName:"linecapType"}},shadow:n.Ct.shadow,glow:n.Ct.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},s={...n.X7,...d.pP,rotation:"rotation"},p={...n.K9,...d.q,linecapType:"linecapType",rotation:"angle"},l={default:"default"},u={show:o.SP.show,[n.K9.fillColor]:o.SP.fill,[n.K9.fillTransparency]:o.SP.backgroundTransparency},v={[s.fill]:{displayName:(0,r.D)("Visual_Fill"),properties:u},[s.outline]:n.ZX.outline,[s.text]:d.Vo.text,[s.shape]:{displayName:(0,r.D)("Visual_Shape"),properties:{...n.ZX.shape.properties,[p.linecapType]:{displayName:(0,r.D)("LinecapType"),type:{enumeration:t.O}}}},[s.shadow]:n.ZX.shadow,[s.glow]:n.ZX.glow,[s.rotation]:{displayName:(0,r.D)("Visual_BasicShape_Rotate"),properties:{[p.rotation]:o.SP.genericRotation,[p.shapeRotation]:o.SP.shapeRotation,[p.textRotation]:o.SP.textRotation}}},m={objects:v,suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:i.A.Img,disableFormatMode:!0},g=(0,a.cM)(v)},262422:function(ve,z,e){e.d(z,{A:function(){return l},a:function(){return s}});var a=e(924672),i=e(236880),r=e(693029),t=e(266092),o=e(423427),d=e(919391),n=e(993513),c={general:{displayName:(0,t.D)("Visual_General"),properties:{formatString:n.SP.formatString}},legend:n.rg.legend,dataPoint:{displayName:(0,t.D)("Visual_DataPoint"),description:(0,t.D)("Visual_DataPointDescription"),properties:{defaultColor:n.SP.defaultColor,showAllDataPoints:n.SP.showAllDataPoints,fill:n.SP.defaultCategoryColor,fillRule:{displayName:(0,t.D)("Role_DisplayName_Values"),description:(0,t.D)("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:d.Uq,output:{property:"fill",selector:[d.L1]}}}}},shape:{displayName:(0,t.D)("Visual_Shape"),description:(0,t.D)("Visual_Shape"),properties:{map:{type:{geoJson:{contentType:o.pX}}},projectionEnum:{displayName:(0,t.D)("Visual_ShapeMap_Projection"),description:(0,t.D)("Visual_ShapeMap_Projection_Desc"),type:{enumeration:d.NW}}}},defaultColors:{displayName:(0,t.D)("Visual_ShapeMap_DefaultColor"),description:(0,t.D)("Visual_ShapeMap_DefaultColor_Desc"),properties:{defaultShow:{displayName:(0,t.D)("Visual_ShapeMap_DefaultShow"),description:(0,t.D)("Visual_ShapeMap_DefaultShow_Desc"),type:{bool:!0}},defaultColor:{displayName:(0,t.D)("Generic_Color"),description:(0,t.D)("Visual_ShapeMap_DefaultColorColor_Desc"),type:{fill:{solid:{color:!0}}}},borderColor:n.SP.borderColor,borderThickness:{displayName:(0,t.D)("Visual_ShapeMap_BorderThickness"),type:{numeric:!0}}}},zoom:{displayName:(0,t.D)("Visual_ShapeMap_Zoom"),description:(0,t.D)("Visual_ShapeMap_Zoom_Desc"),properties:{autoZoom:{displayName:(0,t.D)("Visual_ShapeMap_AutoZoom"),description:(0,t.D)("Visual_ShapeMap_AutoZoom_Desc"),type:{bool:!0}},selectionZoom:{displayName:(0,t.D)("Visual_ShapeMap_SelectionZoom"),description:(0,t.D)("Visual_ShapeMap_SelectionZoom_Desc"),type:{bool:!0}},manualZoom:{displayName:(0,t.D)("Visual_ShapeMap_ManualZoom"),description:(0,t.D)("Visual_ShapeMap_ManualZoom_Desc"),type:{bool:!0}}}}};function s(u){return{dataRoles:[{name:d.L1,kind:r.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_Location"),description:(0,t.D)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:d.Ul,kind:r.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_Legend"),description:(0,t.D)("Role_DisplayName_LegendDescription")},{name:d.Uq,kind:r.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Gradient"),description:(0,t.D)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:d.vX,kind:r.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Tooltips"),description:(0,t.D)("Role_Tooltips_Description"),joinPredicate:r.gD.None}],objects:c,dataViewMappings:[{conditions:[{[d.L1]:{min:0,max:1},[d.Ul]:{min:0,max:1},[d.Uq]:{min:0,max:1}}],categorical:{categories:{for:{in:d.L1},dataReductionAlgorithm:{top:{}}},values:{group:{by:d.Ul,select:[{bind:{to:d.Uq}},{for:{in:d.vX}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:d.Uq,direction:a.U.Descending}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},suppressVisualCalc:!u?.enableCalculationScatterChartMap}}var l=(0,i.cM)(c)},708589:function(ve,z,e){e.d(z,{E0:function(){return l},Eq:function(){return u},NK:function(){return m},ts:function(){return g},u2:function(){return v}});var a=e(236880),i=e(693029),r=e(266092),t=e(577440),o=e(16215),d=e(375356),n=e(439441),c=e(92249),s=e(533498),p=e(993513),l={value:"Values",label:"Label"},u={objectName:"selection",propertyName:"restrictToLeafNodes"},v={general:{displayName:(0,r.D)("Visual_General"),properties:{responsive:p.SP.responsive,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selfFilter:{suppressFormatPainterCopy:!0,type:{filter:{selfFilter:!0}}},defaultValue:{type:{expression:{defaultValue:!0}}},formatString:p.SP.formatString,outlineColor:p.SP.outlineColor,outlineWeight:p.SP.outlineWeight,orientation:{displayName:(0,r.D)("Slicer_Orientation"),type:{enumeration:s.N}},count:{type:{integer:!0}},selfFilterEnabled:{suppressFormatPainterCopy:!0,type:{operations:{searchEnabled:!0}}}}},data:{suppressFormatPainterCopy:!0,properties:{startDate:{type:{dateTime:!0},filterState:!0},endDate:{type:{dateTime:!0},filterState:!0},numericStart:{type:{numeric:!0},filterState:!0},numericEnd:{type:{numeric:!0},filterState:!0},relativeRange:{type:{enumeration:d.NW},filterState:!0},relativePeriod:{type:{enumeration:o.f9},filterState:!0},relativeTimePeriod:{type:{enumeration:o.Fm},filterState:!0},relativeDuration:{type:{numeric:!0},filterState:!0},mode:{displayName:(0,r.D)("Style"),type:{enumeration:c.NW},filterState:!0,persistUnmatchedState:!0},isInvertedSelectionMode:{type:{bool:!0},filterState:!0}}},selection:{displayName:(0,r.D)("Visual_SelectionControls"),properties:{selectAllCheckboxEnabled:{displayName:(0,r.D)("Visual_SelectAll"),description:(0,r.D)("Visual_SelectAll_Description"),type:{bool:!0}},singleSelect:{displayName:(0,r.D)("Visual_MultiSelectWithCtrl"),description:(0,r.D)("Visual_MultiSelectWithCtrl_Description"),type:{bool:!0}},strictSingleSelect:{displayName:(0,r.D)("Visual_StrictSingleSelect"),description:(0,r.D)("Visual_StrictSingleSelect_Description"),type:{bool:!0},filterState:!0}}},header:{displayName:(0,r.D)("Slicer_Header"),properties:{show:p.SP.show,text:{displayName:(0,r.D)("Visual_Title_Text"),description:(0,r.D)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},...p.qe,outlineStyle:p.SP.outlineStyle,showRestatement:{displayName:(0,r.D)("Slicer_Restatement_Enabled"),type:{bool:!0}}}},pendingChangesIcon:{displayName:(0,r.D)("PendingIcon"),properties:{show:p.SP.show,color:p.SP.genericColor,transparency:p.SP.backgroundTransparency,position:{displayName:(0,r.D)("Visual_LegendPosition"),type:{enumeration:t.NW}},size:{displayName:(0,r.D)("Embed_Size"),type:{numeric:!0}},showTooltip:{displayName:(0,r.D)("Visual_ShowTooltip"),type:{bool:!0}},tooltipText:{displayName:(0,r.D)("VisualHeaderTooltip_Text"),type:{text:!0}},tooltipLabel:{displayName:(0,r.D)("VisualHeaderTooltip_Label"),type:{text:!0}}}},searchBox:{displayName:(0,r.D)("SearchBox"),properties:{outlineStyle:p.SP.outlineStyle,borderColor:p.SP.outlineColor,background:{displayName:(0,r.D)("Visual_Background"),type:{fill:{solid:{color:!0}}}}}},items:{displayName:(0,r.D)("Items"),properties:{...p.qe,outlineStyle:p.SP.outlineStyle,expandCollapseToggleType:{displayName:(0,r.D)("Slicer_ExpandCollapse_Toggle"),type:{enumeration:n.N}},steppedLayoutIndentation:{displayName:(0,r.D)("Visual_PivotTable_SteppedLayoutIndentation"),type:{numeric:!0}},padding:{displayName:(0,r.D)("Visual_Padding"),type:{numeric:!0}},accessibilityContrastProperties:{type:{bool:!0}}}},date:{displayName:(0,r.D)("Slicer_DateInputs"),properties:{...p.qe,hideDatePickerButton:{type:{bool:!0}}}},numericInputStyle:{displayName:(0,r.D)("Slicer_NumericInputs"),properties:{...p.qe}},slider:{displayName:(0,r.D)("Slicer_Slider"),properties:{show:p.SP.show,color:p.SP.genericColor,handleFillColor:{displayName:(0,r.D)("Visual_Fill"),type:{fill:{solid:{color:!0}}}},handleBorderColor:{displayName:(0,r.D)("Visual_Border"),type:{fill:{solid:{color:!0}}}},secondaryLineColor:p.SP.genericColor}},dateRange:{displayName:(0,r.D)("Slicer_DateRange"),properties:{includeToday:{displayName:(0,r.D)("Visual_IncludeToday"),type:{bool:!0},filterState:!0},anchorDate:{displayName:(0,r.D)("RelativeSlicer_AnchorDate"),description:(0,r.D)("RelativeSlicer_AnchorDateDescription"),type:{dateTime:!0},filterState:!0}}}},m=(0,a.cM)(v);function g(C){return{dataRoles:[{name:l.value,kind:i.Ts.Grouping,displayName:(0,r.D)("Field"),description:(0,r.D)("Role_DisplayName_FieldDescription"),preferDateColumn:!0}],hasFilterOptions:!0,objects:v,drilldown:{roles:[l.value],suppresDrillOperations:!0},dataViewMappings:h(),expandCollapse:D(C),sorting:{default:{}},suppressDefaultTitle:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,keepAllMetadataColumns:!0}}function D(C){return{roles:[l.value],addDataViewFlags:{defaultValue:!0},supportsMerge:!!C?.fieldParameterDynamicSlicer}}function h(){var C=[{conditions:[{[l.value]:{max:1,suppressDrill:!0}}],categorical:{categories:{for:{in:l.value},dataReductionAlgorithm:{window:{}}},includeEmptyGroups:!0}}];return C.unshift({conditions:[{[l.value]:{min:2,areHierarchicallyRelated:!0,multiTableTupleFiltersSupported:!0,suppressDrill:!0}}],matrix:{rows:{for:{in:l.value},dataReductionAlgorithm:{window:{count:500}}},includeEmptyGroups:!0}}),C}},6120:function(ve,z,e){e.d(z,{Pu:function(){return B},V7:function(){return V},VC:function(){return ne},Yj:function(){return K},iw:function(){return y},rL:function(){return f},vK:function(){return S},wf:function(){return R},zd:function(){return G}});var a=e(18122),i=e(744524),r=e(693029),t=e(140318),o=e(943509),d=e(371577),n=e(816030),c=e(999904),s=e(542987),p=e(169430),l=e(258480),u=e(16215),v=e(375356),m=e(92249),g=e(708589),E=e(620825),D=e(858225);function y(k){var L=k.dataViewMappings[0],X=q(L);if(!_.isEmpty(X)){var Y=A(L.metadata.objects);if(null===(Y=K(X,Y))||(0,m.VW)(Y)||(0,m.l0)(Y))return null}return[g.E0.value]}function f(k){if(!function(k){if(!k.isPersistentState)return!0;var L=A(k.objects),Y_strictSingleSelect=!1,Q=(0,m.uS)(L)&&(0,n._W)(k.objects,g.NK.selection.strictSingleSelect,Y_strictSingleSelect);return k.changes?L===A(k.changes)&&!(Q&&!(0,n._W)(k.changes,g.NK.selection.strictSingleSelect,Y_strictSingleSelect)):!Q}(k))return U(k,void 0,!0);var L=function(k){var L=A(k.objects),X=A(k.changes);return(L===m.HX&&X===m.Wm||L===m.Wm&&X===m.HX)&&L!==X&&L?{merge:!0,mode:L}:{merge:!1,mode:X||L}}(k),X=k.changes&&k.changes[g.NK.general.filter.objectName],Y=X&&X[g.NK.general.filter.propertyName];if(null!=Y){var Q=U(k,L.mode,!1);return(0,m.VW)(L.mode)?(P(Y,L.mode,Q),Q):L.mode===m.Pp?(T(Y,L.mode,Q,g.NK.data.relativePeriod.propertyName),Q):(L.mode===m.KW&&T(Y,L.mode,Q,g.NK.data.relativeTimePeriod.propertyName),Q)}return L.merge?U(k,L.mode,!1):null}function S(k){var L=K(k.dataViewMetaDataColumns,A(k.objects)),X=k.filterUpdateType,Y={objectName:g.NK.general.filter.objectName,selector:null,properties:{[g.NK.general.filter.propertyName]:k.filterToApply}},Q={merge:[],remove:[],replace:[]};return L===m.HX||L===m.Wm||L===m.FF||L===m.Bw?V(k,Q,Y):"Replace"!==X||((0,m.VW)(L)&&P(k.filterToApply,L,Q),L===m.Pp&&T(k.filterToApply,L,Q,g.NK.data.relativePeriod.propertyName),L===m.KW&&T(k.filterToApply,L,Q,g.NK.data.relativeTimePeriod.propertyName),function(k){return _.isEmpty(k.merge)&&_.isEmpty(k.remove)&&_.isEmpty(k.replace)}(Q))?void 0:(Q.merge?.push(Y),Q)}function V(k,L,X){var Y=k.filterUpdateType,Q=k.filterToApply.conditions();if(a.Y.assert(()=>1===Q.length,"Only one condition is supported currently"),1!==Q.length);else{var H=Q[0],te=(0,E.w8)(H);if((0,E.S1)(H)||te&&(0,E.S1)(H.arg)){var ee=(0,E.S1)(H)?H:H.arg;if((0,n._W)(k.objects,g.NK.selection.strictSingleSelect,!1)&&("Replace"!==Y||te||ee.values.length>1))return;var He=(0,n._W)(k.objects,g.NK.general.filter),We=He&&He.conditions(),ft=We&&1===We.length&&We[0];if(!ft)return L.merge?.push(X),L;var mt=D.B.tryMergeSQInExprs(ft,ee,k.filterUpdateType);return mt?(0===mt.values.length?L.remove?.push(X):(X.properties[g.NK.general.filter.propertyName]=l.b0.fromSQFromAndSQExpr(He.from(),mt),L.merge?.push(X)),L):void 0}}}function P(k,L,X){if(a.Y.assertValue(k,"filter should be defined"),(0,m.VW)(L)){var Y=(0,s.C)(k);if(!Y||!Y.options)return void a.Y.assertValue(Y&&Y.options,"filterParams and filterParams.options must be defined.");var Q=g.NK.data.numericStart.objectName;a.Y.assert(()=>g.NK.data.numericStart.objectName===g.NK.data.numericEnd.objectName,"numericStart & numericEnd must have same object name"),a.Y.assert(()=>g.NK.data.numericStart.objectName===g.NK.data.startDate.objectName,"numericStart & startDate must have same object name"),a.Y.assert(()=>g.NK.data.numericStart.objectName===g.NK.data.endDate.objectName,"numericStart & endDate must have same object name");var H={};_.isNumber(Y.options.min)||_.isNumber(Y.options.max)?(H[g.NK.data.numericStart.propertyName]=Y.options.min,L!==m.J0&&(H[g.NK.data.numericEnd.propertyName]=Y.options.max),O(X,Q,H)):(_.isDate(Y.options.min)||_.isDate(Y.options.max))&&(a.Y.assert(()=>void 0===Y.options.min||(0,i.th)(Y.options.min),"Implementing DateWithEpochValue is needed for serialization"),a.Y.assert(()=>void 0===Y.options.max||(0,i.th)(Y.options.max),"Implementing DateWithEpochValue is needed for serialization"),H[g.NK.data.startDate.propertyName]=Y.options.min,H[g.NK.data.endDate.propertyName]=Y.options.max,O(X,Q,H))}}function T(k,L,X,Y){if(a.Y.assertValue(k,"filter should be defined"),(0,m.l0)(L)){var Q=(0,m.EJ)(L),H=(0,p.C)(k,Q);if(!H||!H.options)return void a.Y.assertValue(H&&H.options,"filterParams and filterParams.options must be defined.");var te=g.NK.data.relativeRange.objectName;a.Y.assert(()=>g.NK.data.relativeRange.objectName===g.NK.data.relativeDuration.objectName,"relativeRange & relativeDuration must have same object name"),a.Y.assert(()=>g.NK.data.relativeRange.objectName===g.NK.data.relativePeriod.objectName,"relativeRange & relativePeriod must have same object name");var ee=(0,v.dI)(H.options.relativeQualifier),ue=(0,u.dI)(H.options.relativeUnit),Te=H.options.duration;(null==ee||null==Te||null==ue)&&w(X,te),(null!=ee||null!=Te||null!=ue)&&N(X,te);var He={};He[g.NK.data.relativeRange.propertyName]=ee,He[g.NK.data.relativeDuration.propertyName]=ee===v.ss?0:H.options.duration,He[Y]=ue,O(X,te,He),function(k,L){var X=g.NK.dateRange.includeToday.objectName;a.Y.assert(()=>g.NK.dateRange.includeToday.objectName===g.NK.dateRange.anchorDate.objectName,"anchorDate is not in the same object as includeToday");var Y={};L.includeTodayFromDefault||(Y[g.NK.dateRange.includeToday.propertyName]=L.includeToday),Y[g.NK.dateRange.anchorDate.propertyName]=L.anchorDate,O(k,X,Y)}(X,H.options)}}function N(k,L){k.merge=k.merge||[];var X=x(k.merge,L);return k.merge[X]}function w(k,L){k.remove=k.remove||[];var X=x(k.remove,L);return k.remove[X]}function O(k,L,X){var Y=null,Q=null;for(var H in _.some(X,te=>null==te)&&(Y=w(k,L)),_.some(X,te=>null!=te)&&(Q=N(k,L)),X)null==X[H]?(a.Y.assertValue(Y,"remove must be defined here."),Y.properties[H]=!0):(a.Y.assertValue(Q,"merge must be defined here."),Q.properties[H]=X[H])}function x(k,L){a.Y.assertValue(k,"visualObjects");var X=k.map(Y=>Y.objectName).indexOf(L);return X<0&&(k.push({objectName:L,selector:null,properties:{}}),X=k.length-1),X}function U(k,L,X){var Y=[];for(var Q in k.changes){var H={},te=g.u2;for(var ee in k.changes[Q])X&&(!0===te[Q]?.properties[ee]?.filterState||Q===g.NK.general.filter.objectName&&ee===g.NK.general.filter.propertyName)||(H[ee]=k.changes[Q][ee]);null!=L&&Q===g.NK.data.mode.objectName&&(H[g.NK.data.mode.propertyName]=L),Y.push({objectName:Q,selector:null,properties:H})}return X&&function(k,L){var X=k.objects;for(var Y in X){var Q={},H=g.u2;for(var te in X[Y])(!0===H[Y]?.properties[te]?.filterState||Y===g.NK.general.filter.objectName&&te===g.NK.general.filter.propertyName)&&(Q[te]=X[Y][te]);if(!_.isEmpty(Q)){var ee=x(L,Y);L[ee].properties=_.merge(L[ee].properties,Q)}}}(k,Y),{merge:Y}}function R(k){if(!_.isEmpty(k.dataViewMappings)){var L=k.dataViewMappings[0];if(L&&L.metadata){var X=q(L)||[];if(L.matrix&&L.matrix.rows){var Y=L.matrix.rows.for.in.items;if(!_.isEmpty(Y)){var Q=function(Te){if(!_.find(X,We=>We.queryName===Te.queryName))return 1;Te.subtotalType=t.y.Before};for(var H of Y)Q(H)}}var te=A(L.metadata.objects);if(!_.isEmpty(X)){if((te=K(X,te))===m.J0){var ee=L.categorical&&L.categorical.categories;return void(ee&&(ee.dataReductionAlgorithm={sample:{}}))}if((0,m.Ep)(te)&&L.categorical&&L.categorical.categories){var ue=L.categorical.categories.for.in.items;L.categorical.categories=null,L.categorical.values={bind:{to:{role:g.E0.value,aggregates:{min:!0,max:!0},items:ue}}}}}(0,m.l0)(te)&&(L.updateType=r.FU.MetadataOnly),te===m.Wm&&function(k){if(k){var L=!1;if(L=(0,n._W)(k,g.NK.selection.strictSingleSelect,L)){var X=null,Y=!1;return X=(0,n._W)(k,g.NK.general.filter,X),Y=(0,n._W)(k,g.NK.data.isInvertedSelectionMode,Y),null!=X&&!Y}}return!0}(L.metadata.objects)&&(L.updateType=r.FU.Deferred)}}}function B(k){var X=k.objects,Y=A(X),H=q(k.dataViewMappings[0]);if(!_.isEmpty(H)){Y=K(H,Y,!0);var te=X&&X[g.NK.data.mode.objectName];te||(te={});var ee={};for(var ue in te)ee[ue]=te[ue];return ee[g.NK.data.mode.propertyName]=Y,{replace:[{objectName:g.NK.data.mode.objectName,selector:null,properties:ee}]}}}function A(k){var L=null;return k&&(L=(0,n._W)(k,g.NK.data.mode,L)),L}function G(k){return k&&(0,c._W)(k,g.NK.data.mode,void 0)}function K(k,L,X=!1){if(a.Y.assertNonEmpty(k,"pluginMethods.getValidateSlicerMode - columns"),k.length>1)return L===m.Wm?m.Wm:m.HX;var Y=k[0];if(!Y.type)return L;if(Y.parameter&&Y.parameter.kind===o.t_.WhatIf)L=null===L||(0,m.l0)(L)?m.J0:L;else{if(Y.parameter&&Y.parameter.kind===o.t_.MParameters)return L??m.HX;!0===Y.type.dateTime?L=null===L||L===m.J0?m.Tq:L:Y.type.numeric?null===L?L=X?m.Tq:m.HX:((0,m.l0)(L)||L===m.J0)&&(L=m.Tq):L!==m.HX&&L!==m.Wm&&(L=m.HX)}return L}function q(k){return k.metadata?k.metadata.columns:null}function ne(k){var{dataViewMappings:L,filterForFieldParameter:X}=k;if(!X){var Y=L[0];if(Y&&Y.metadata){var Q=A(Y.metadata.objects),H=q(Y);return _.isEmpty(H)||(Q=K(H,Q)),(0,m.VW)(Q)?d.$O.NoFilter:void 0}}}},682509:function(ve,z,e){e.d(z,{Ij:function(){return S},dO:function(){return v},vx:function(){return l},wq:function(){return u}});var a=e(266092),i=e(352915),r=e(475824),t=e(415592),o=e(377435),d=e(686791),n=e(551683),c=e(993513),s=e(50743),p=e(764314),l={smallMultiplesLayout:{orientation:{objectName:"smallMultiplesLayout",propertyName:"orientation"},maxSmallMultiples:{objectName:"smallMultiplesLayout",propertyName:"maxSmallMultiples"},rowCount:{objectName:"smallMultiplesLayout",propertyName:"rowCount"},columnCount:{objectName:"smallMultiplesLayout",propertyName:"columnCount"},maxHeaderSize:{objectName:"smallMultiplesLayout",propertyName:"maxHeaderSize"},titleOrientation:{objectName:"smallMultiplesLayout",propertyName:"titleOrientation"},headerPosition:{objectName:"smallMultiplesLayout",propertyName:"headerPosition"},cellPadding:{objectName:"smallMultiplesLayout",propertyName:"cellPadding"},customizePadding:{objectName:"smallMultiplesLayout",propertyName:"customizePadding"},rowPadding:{objectName:"smallMultiplesLayout",propertyName:"rowPadding"},columnPadding:{objectName:"smallMultiplesLayout",propertyName:"columnPadding"},style:{objectName:"smallMultiplesLayout",propertyName:"style"},fixNumberOfTiles:{objectName:"smallMultiplesLayout",propertyName:"fixNumberOfTiles"}},smallMultiplesBorder:{gridlineShow:{objectName:"smallMultiplesBorder",propertyName:"gridlineShow"},gridlineStyle:{objectName:"smallMultiplesBorder",propertyName:"gridlineStyle"},gridlineTransparency:{objectName:"smallMultiplesBorder",propertyName:"gridlineTransparency"},gridlineWidth:{objectName:"smallMultiplesBorder",propertyName:"gridlineWidth"},gridlineColor:{objectName:"smallMultiplesBorder",propertyName:"gridlineColor"}},smallMultiplesGrid:{gridlineShow:{objectName:"smallMultiplesGrid",propertyName:"gridlineShow"},gridlineStyle:{objectName:"smallMultiplesGrid",propertyName:"gridlineStyle"},gridlineTransparency:{objectName:"smallMultiplesGrid",propertyName:"gridlineTransparency"},gridlineWidth:{objectName:"smallMultiplesGrid",propertyName:"gridlineWidth"},gridlineColor:{objectName:"smallMultiplesGrid",propertyName:"gridlineColor"},gridlineRegion:{objectName:"smallMultiplesGrid",propertyName:"gridlineRegion"}},smallMultiplesOverFlow:{overFlowStyle:{objectName:"smallMultiplesOverFlow",propertyName:"overFlowStyle"},overFlowDirection:{objectName:"smallMultiplesOverFlow",propertyName:"overFlowDirection"}},smallMultiplesHeader:{fontFamily:{objectName:"smallMultiplesHeader",propertyName:"fontFamily"},fontSize:{objectName:"smallMultiplesHeader",propertyName:"fontSize"},fontColor:{objectName:"smallMultiplesHeader",propertyName:"fontColor"},bold:{objectName:"smallMultiplesHeader",propertyName:"bold"},italic:{objectName:"smallMultiplesHeader",propertyName:"italic"},underline:{objectName:"smallMultiplesHeader",propertyName:"underline"},transparency:{objectName:"smallMultiplesHeader",propertyName:"transparency"},horizontalAlignment:{objectName:"smallMultiplesHeader",propertyName:"horizontalAlignment"},verticalAlignment:{objectName:"smallMultiplesHeader",propertyName:"verticalAlignment"},textWrap:{objectName:"smallMultiplesHeader",propertyName:"textWrap"},displayUnits:{objectName:"smallMultiplesHeader",propertyName:"displayUnits"},precision:{objectName:"smallMultiplesHeader",propertyName:"precision"},showBlankAs:{objectName:"smallMultiplesHeader",propertyName:"showBlankAs"},leftMargin:{objectName:"smallMultiplesHeader",propertyName:"leftMargin"},rightMargin:{objectName:"smallMultiplesHeader",propertyName:"rightMargin"},topMargin:{objectName:"smallMultiplesHeader",propertyName:"topMargin"},bottomMargin:{objectName:"smallMultiplesHeader",propertyName:"bottomMargin"},backgroundShow:{objectName:"smallMultiplesHeader",propertyName:"backgroundShow"},backgroundColor:{objectName:"smallMultiplesHeader",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"smallMultiplesHeader",propertyName:"backgroundTransparency"},backgroundImage:{objectName:"smallMultiplesHeader",propertyName:"backgroundImage"},backgroundImageTransparency:{objectName:"smallMultiplesHeader",propertyName:"backgroundImageTransparency"},customFormatString:{objectName:"smallMultiplesHeader",propertyName:"customFormatString"}},smallMultiplesAccentBar:{show:{objectName:"smallMultiplesAccentBar",propertyName:"show"},position:{objectName:"smallMultiplesAccentBar",propertyName:"position"},color:{objectName:"smallMultiplesAccentBar",propertyName:"color"},transparency:{objectName:"smallMultiplesAccentBar",propertyName:"transparency"},width:{objectName:"smallMultiplesAccentBar",propertyName:"width"}},smallMultiplesCellBackGround:{backgroundFillColor:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundFillColor"},backgroundImage:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImage"},backgroundImageBlur:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImageBlur"},backgroundImageContrast:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImageContrast"},backgroundImageData:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImageData"},backgroundImageDataFit:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImageDataFit"},backgroundImageEffects:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImageEffects"},backgroundImageExposure:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImageExposure"},backgroundImageHeight:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImageHeight"},backgroundImageSaturation:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImageSaturation"},backgroundImageShow:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImageShow"},backgroundImageTransparency:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImageTransparency"},backgroundImageType:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImageType"},backgroundImageUrl:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImageUrl"},backgroundImageUrlFit:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImageUrlFit"},backgroundShow:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundShow"},backgroundTransparency:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundTransparency"}},smallMultiplesOuterShape:{rectangleRoundedCurveCustomStyle:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurve"},rectangleRoundedCurveLeftTop:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveRightBottom"}}},u={smallMultiplesAccentBar:"smallMultiplesAccentBar",smallMultiplesBorder:"smallMultiplesBorder",smallMultiplesCellBackGround:"smallMultiplesCellBackGround",smallMultiplesGrid:"smallMultiplesGrid",smallMultiplesHeader:"smallMultiplesHeader",smallMultiplesLayout:"smallMultiplesLayout",smallMultiplesOuterShape:"smallMultiplesOuterShape",smallMultiplesOverFlow:"smallMultiplesOverFlow"},v={accentBarColor:"color",accentBarPosition:"position",accentBarShow:"show",accentBarTransparency:"transparency",accentBarWidth:"width",backgroundColor:"backgroundColor",backgroundFillColor:"backgroundFillColor",backgroundImage:"backgroundImage",backgroundImageBlur:"backgroundImageBlur",backgroundImageContrast:"backgroundImageContrast",backgroundImageData:"backgroundImageData",backgroundImageEffects:"backgroundImageEffects",backgroundImageExposure:"backgroundImageExposure",backgroundImageDataFit:"backgroundImageDataFit",backgroundImageUrlFit:"backgroundImageUrlFit",backgroundImageHeight:"backgroundImageHeight",backgroundImageSaturation:"backgroundImageSaturation",backgroundImageShow:"backgroundImageShow",backgroundImageTransparency:"backgroundImageTransparency",backgroundImageType:"backgroundImageType",backgroundImageUrl:"backgroundImageUrl",backgroundShow:"backgroundShow",backgroundTransparency:"backgroundTransparency",bold:"bold",bottomMargin:"bottomMargin",cellPadding:"cellPadding",columnCount:"columnCount",columnPadding:"columnPadding",customizePadding:"customizePadding",customFormatString:"customFormatString",displayUnits:"displayUnits",fixNumberOfTiles:"fixNumberOfTiles",fontColor:"fontColor",fontFamily:"fontFamily",fontSize:"fontSize",gridlineColor:"gridlineColor",gridlineRegion:"gridlineRegion",gridlineShow:"gridlineShow",gridlineStyle:"gridlineStyle",gridlineTransparency:"gridlineTransparency",gridlineWidth:"gridlineWidth",headerPosition:"headerPosition",horizontalAlignment:"horizontalAlignment",italic:"italic",leftMargin:"leftMargin",maxHeaderSize:"maxHeaderSize",maxSmallMultiples:"maxSmallMultiples",orientation:"orientation",overFlowDirection:"overFlowDirection",overFlowStyle:"overFlowStyle",precision:"precision",rectangleRoundedCurve:"rectangleRoundedCurve",rectangleRoundedCurveCustomStyle:"rectangleRoundedCurveCustomStyle",rectangleRoundedCurveLeftBottom:"rectangleRoundedCurveLeftBottom",rectangleRoundedCurveLeftTop:"rectangleRoundedCurveLeftTop",rectangleRoundedCurveRightBottom:"rectangleRoundedCurveRightBottom",rectangleRoundedCurveRightTop:"rectangleRoundedCurveRightTop",rightMargin:"rightMargin",rowCount:"rowCount",rowPadding:"rowPadding",showBlankAs:"showBlankAs",style:"style",textWrap:"textWrap",titleOrientation:"titleOrientation",topMargin:"topMargin",transparency:"transparency",underline:"underline",verticalAlignment:"verticalAlignment"},m={[v.orientation]:{displayName:(0,a.D)("Visual_Arrangement"),type:{enumeration:n.w}},[v.maxSmallMultiples]:{displayName:(0,a.D)("Small_Multiples_Layout_Rows"),type:{integer:!0}},[v.rowCount]:{displayName:(0,a.D)("Small_Multiples_Layout_Rows"),type:{integer:!0}},[v.columnCount]:{displayName:(0,a.D)("Small_Multiples_Layout_Columns"),type:{integer:!0}},[v.maxHeaderSize]:{displayName:(0,a.D)("Small_Multiples_MaxHeaderSize"),description:(0,a.D)("Small_Multiples_MaxHeaderSize_Description"),type:{integer:!0}},[v.titleOrientation]:{displayName:(0,a.D)("Visual_LabelOrientation"),type:{enumeration:p.yy}},[v.headerPosition]:{displayName:(0,a.D)("Visual_Position"),type:{enumeration:t.DU}},[v.cellPadding]:{displayName:(0,a.D)("Visual_Spacing_Between_Cards"),type:{integer:!0}},[v.customizePadding]:{displayName:(0,a.D)("Visual_Spacing_Customize"),type:{bool:!0}},[v.rowPadding]:{displayName:(0,a.D)("Visual_Arrangement_SpaceRows"),type:{integer:!0}},[v.columnPadding]:{displayName:(0,a.D)("Visual_Arrangement_SpaceColumns"),type:{integer:!0}},[v.style]:{displayName:(0,a.D)("Style"),type:{enumeration:s.N}},[v.fixNumberOfTiles]:{displayName:(0,a.D)("Visual_AutoGrid"),type:{bool:!0}}},g={...(0,c.ai)({strokeShow:v.gridlineShow,strokePattern:v.gridlineStyle,strokeTransparency:v.gridlineTransparency,strokeWidth:v.gridlineWidth,strokeColor:v.gridlineColor})},E={...(0,c.ai)({strokeShow:v.gridlineShow,strokePattern:v.gridlineStyle,strokeTransparency:v.gridlineTransparency,strokeWidth:v.gridlineWidth,strokeColor:v.gridlineColor}),[v.gridlineRegion]:{displayName:(0,a.D)("Visual_Gridline_Show"),type:{enumeration:r.X}}},D={[v.overFlowStyle]:{displayName:(0,a.D)("Visual_OverFlow_Style"),type:{enumeration:d.N}},[v.overFlowDirection]:{displayName:(0,a.D)("Visual_OverFlow_Direction"),type:{enumeration:o.N}}},h={[v.fontFamily]:c.SP.fontFamily,[v.fontSize]:c.SP.fontSize,[v.fontColor]:c.SP.genericColor,[v.bold]:c.SP.bold,[v.italic]:c.SP.italic,[v.underline]:c.SP.underline,[v.transparency]:c.SP.genericTransparency,[v.horizontalAlignment]:c.SP.horizontalAlignment,[v.verticalAlignment]:c.SP.verticalAlignment,[v.textWrap]:c.SP.textWrap,[v.displayUnits]:{...c.SP.labelDisplayUnits,type:{enumeration:i.N}},[v.precision]:c.SP.labelPrecision,[v.showBlankAs]:c.SP.showBlankAs,[v.leftMargin]:{displayName:(0,a.D)("Visual_PaddingLeft"),type:{integer:!0}},[v.rightMargin]:{displayName:(0,a.D)("Visual_PaddingRight"),type:{integer:!0}},[v.topMargin]:{displayName:(0,a.D)("Visual_PaddingTop"),type:{integer:!0}},[v.bottomMargin]:{displayName:(0,a.D)("Visual_PaddingBottom"),type:{integer:!0}},[v.backgroundShow]:c.SP.show,[v.backgroundColor]:c.SP.genericColor,[v.backgroundTransparency]:c.SP.backgroundTransparency,[v.backgroundImage]:{...c.SP.image,displayName:(0,a.D)("Dashboard_Theme_Background_Image")},[v.backgroundImageTransparency]:{...c.SP.genericTransparency,displayName:(0,a.D)("Visual_Image_Transparency")},[v.customFormatString]:{displayName:(0,a.D)("Visual_FormatCode"),description:(0,a.D)("Visual_FormatCode_Description"),type:{text:!0}}},C={[v.accentBarShow]:c.SP.show,[v.accentBarPosition]:{displayName:(0,a.D)("Visual_Position"),type:{enumeration:t.fF}},[v.accentBarColor]:c.SP.genericColor,[v.accentBarTransparency]:c.SP.genericTransparency,[v.accentBarWidth]:c.SP.width},y={[v.backgroundFillColor]:c.SP.genericColor,[v.backgroundTransparency]:c.SP.backgroundTransparency,[v.backgroundShow]:c.SP.show,[v.backgroundImage]:{...c.SP.image,displayName:(0,a.D)("Image")},[v.backgroundImageTransparency]:c.SP.backgroundImageTransparency,[v.backgroundImageShow]:c.SP.imageShow,[v.backgroundImageType]:c.SP.imageType,[v.backgroundImageUrl]:c.SP.imageUrl,[v.backgroundImageData]:c.SP.imageData,[v.backgroundImageDataFit]:c.SP.imageExtendedFit,[v.backgroundImageHeight]:c.SP.imageHeight,[v.backgroundImageUrlFit]:c.SP.imageExtendedFit,[v.backgroundImageEffects]:c.SP.imageEffects,[v.backgroundImageExposure]:c.SP.imageExposure,[v.backgroundImageContrast]:c.SP.imageContrast,[v.backgroundImageSaturation]:c.SP.imageSaturation,[v.backgroundImageBlur]:c.SP.imageBlur},f={[v.rectangleRoundedCurveCustomStyle]:{displayName:(0,a.D)("Visual_Shape_CustomizeCorners"),type:{bool:!0}},[v.rectangleRoundedCurve]:{displayName:(0,a.D)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},[v.rectangleRoundedCurveLeftTop]:{displayName:(0,a.D)("Visual_CornerTopLeft"),type:{integer:!0}},[v.rectangleRoundedCurveRightTop]:{displayName:(0,a.D)("Visual_CornerTopRight"),type:{integer:!0}},[v.rectangleRoundedCurveLeftBottom]:{displayName:(0,a.D)("Visual_CornerBottomLeft"),type:{integer:!0}},[v.rectangleRoundedCurveRightBottom]:{displayName:(0,a.D)("Visual_CornerBottomRight"),type:{integer:!0}}},S={[u.smallMultiplesLayout]:{displayName:(0,a.D)("MultiCategory_Layout_Section"),properties:m},[u.smallMultiplesBorder]:{displayName:(0,a.D)("Visual_Border"),properties:g},[u.smallMultiplesGrid]:{displayName:(0,a.D)("Visual_Gridline_Show"),properties:E},[u.smallMultiplesOverFlow]:{displayName:(0,a.D)("Visual_OverFlow"),properties:D},[u.smallMultiplesHeader]:{displayName:(0,a.D)("Small_Multiples_Header"),properties:h},[u.smallMultiplesAccentBar]:{displayName:(0,a.D)("Visual_Outline_AccentBar"),properties:C},[u.smallMultiplesOuterShape]:{displayName:(0,a.D)("Visual_Shape"),properties:f},[u.smallMultiplesCellBackGround]:{displayName:(0,a.D)("Visual_Background"),properties:y}}},354233:function(ve,z,e){e.d(z,{J:function(){return o}});var a=e(693029),i=e(266092),r=e(993513);function t(d){return[{name:"Values",kind:a.Ts.GroupingOrMeasure,displayName:(0,i.D)(d&&d.useModernFormatPane?"Role_DisplayName_Columns":"Role_DisplayName_Values")}]}function o(d){return{dataRoles:t(d),objects:{general:{displayName:(0,i.D)("Visual_General"),properties:{formatString:r.SP.formatString,columnWidth:{type:{numeric:!0}},totals:{type:{bool:!0},displayName:(0,i.D)("Visual_Totals"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,i.D)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:(0,i.D)("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:(0,i.D)("Visual_Grid"),properties:{outlineColor:r.SP.outlineColor,outlineWeight:r.SP.outlineWeight,gridVertical:{displayName:(0,i.D)("Visual_GridVertical"),description:(0,i.D)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,i.D)("Visual_GridVertical_Color"),description:(0,i.D)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,i.D)("Visual_GridVertical_Weight"),description:(0,i.D)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,i.D)("Visual_GridHorizontal"),description:(0,i.D)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,i.D)("Visual_GridHorizontal_Color"),description:(0,i.D)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,i.D)("Visual_GridHorizontal_Weight"),description:(0,i.D)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,i.D)("Visual_RowPadding"),description:(0,i.D)("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:(0,i.D)("Visual_Tablix_ImageHeight"),description:(0,i.D)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,i.D)("Visual_Tablix_ColumnHeaders"),properties:{outline:r.SP.outline,fontColor:r.SP.tablixFontColor,backColor:r.SP.backColor,wordWrap:r.SP.wordWrap}},values:{displayName:(0,i.D)("Visual_Tablix_Values"),properties:{outline:r.SP.outline,backColor:{displayName:(0,i.D)("Background_Color"),description:(0,i.D)("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,i.D)("Visual_FontColor"),description:(0,i.D)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,i.D)("Background_Color"),description:(0,i.D)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,i.D)("Visual_Tablix_FontColorSecondary"),description:(0,i.D)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,i.D)("Visual_Tablix_BackColorSecondary"),description:(0,i.D)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:(0,i.D)("Visual_Tablix_UrlIcon"),description:(0,i.D)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}}}},total:{displayName:(0,i.D)("Visual_Total"),properties:{outline:r.SP.outline,fontColor:r.SP.tablixFontColor,backColor:r.SP.backColor}},columnFormatting:{displayName:(0,i.D)("Visual_Tablix_ColumnFormatting"),properties:{fontColor:r.SP.tablixFontColor,backColor:r.SP.backColor,styleHeader:{displayName:(0,i.D)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,i.D)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:(0,i.D)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{custom:{}},suppressDefaultTitle:!0,supportsSelection:!1,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0}}},917334:function(ve,z,e){e.d(z,{o:function(){return d},w:function(){return n}});var a=e(236880),i=e(693029),r=e(266092),t=e(993513);function o(c){return[{name:"Values",kind:i.Ts.GroupingOrMeasure,displayName:(0,r.D)(c&&c.useModernFormatPane?"Role_DisplayName_Columns":"Role_DisplayName_Values"),supportsSparklines:!0}]}function d(c){return{dataRoles:o(c),objects:{general:{displayName:(0,r.D)("Visual_General"),properties:{formatString:t.SP.formatString}},grid:{displayName:(0,r.D)("Visual_Grid"),properties:{...t.ac,gridVertical:{displayName:(0,r.D)("Visual_GridVertical"),description:(0,r.D)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,r.D)("Visual_GridVertical_Color"),description:(0,r.D)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,r.D)("Visual_GridVertical_Weight"),description:(0,r.D)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,r.D)("Visual_GridHorizontal"),description:(0,r.D)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,r.D)("Visual_GridHorizontal_Color"),description:(0,r.D)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,r.D)("Visual_GridHorizontal_Weight"),description:(0,r.D)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,r.D)("Visual_RowPadding"),description:(0,r.D)("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:(0,r.D)("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:(0,r.D)("Visual_General_Properties_Height"),description:(0,r.D)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}},imageWidth:{displayName:(0,r.D)("Visual_General_Properties_Width"),description:(0,r.D)("Visual_Tablix_ImageWidth_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,r.D)("Visual_Tablix_ColumnHeaders"),properties:{...t.ac,...t.Hp,alignment:t.SP.textAlignment,autoSizeColumnWidth:{type:{bool:!0},displayName:(0,r.D)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},wordWrap:t.SP.wordWrap}},values:{displayName:(0,r.D)("Visual_Tablix_Values"),properties:{...t.ac,...t.Hp,backColor:{displayName:(0,r.D)("Background_Color"),description:(0,r.D)("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,r.D)("Visual_FontColor"),description:(0,r.D)("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,r.D)("Visual_FontColor"),description:(0,r.D)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,r.D)("Background_Color"),description:(0,r.D)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,r.D)("Visual_Tablix_FontColorSecondary"),description:(0,r.D)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,r.D)("Visual_Tablix_BackColorSecondary"),description:(0,r.D)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:(0,r.D)("Visual_Tablix_UrlIcon"),description:(0,r.D)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:t.SP.wordWrap,icon:{displayName:(0,r.D)("Visual_Tablix_Icons"),description:(0,r.D)("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:(0,r.D)("Web_Url"),type:{misc:{webUrl:!0}}}}},total:{displayName:(0,r.D)("Visual_Total"),properties:{totals:{type:{bool:!0},displayName:(0,r.D)("Visual_Totals"),suppressFormatPainterCopy:!0},label:{type:{text:!0},displayName:(0,r.D)("Visual_TableEx_TotalLabel"),suppressFormatPainterCopy:!0},...t.ac,...t.Hp}},columnFormatting:{displayName:(0,r.D)("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:(0,r.D)("Visual_DisplayUnits"),description:(0,r.D)("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:t.SP.labelPrecision,fontColor:t.SP.tablixFontColor,backColor:t.SP.backColor,alignment:t.SP.textAlignment,styleHeader:{displayName:(0,r.D)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,r.D)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:(0,r.D)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:(0,r.D)("Visual_ConditionalFormatting_DataBars"),description:(0,r.D)("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},sparklines:t.rg.sparklines,accessibility:{displayName:(0,r.D)("Accessibility"),properties:{altTextColumns:{displayName:(0,r.D)("Visual_Tablix_AltTextColumns_Label"),type:{text:!0}},rowWithReferenceText:{displayName:(0,r.D)("Visual_Tablix_RowName"),type:{reference:{rowRefText:!0}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{},custom:{}},suppressDefaultTitle:!0,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,enablePointerEventsFormatMode:!0,supportsOnObjectFormatting:!0}}var n=(0,a.cM)(d().objects)},390864:function(ve,z,e){e.d(z,{U$:function(){return c},WM:function(){return d},qR:function(){return n}});var a=e(693029),i=e(266092),r=e(904143),t=e(993513),o=e(708589),d=function(s){return s.Top="--accent-bar-top",s.Right="--accent-bar-right",s.Bottom="--accent-bar-bottom",s.Left="--accent-bar-left",s}({});function n(s){return{dataRoles:[{name:o.E0.value,kind:a.Ts.Grouping,displayName:(0,i.D)("Field"),description:(0,i.D)("Role_DisplayName_FieldDescription"),requiredTypes:[{text:!0}]}],objects:{general:{displayName:(0,i.D)("Visual_General"),properties:{formatString:t.SP.formatString,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selectedValues:{suppressFormatPainterCopy:!0,type:{exprList:{}},transient:!0}}},slicerSettings:{properties:{multiselect:{displayName:(0,i.D)("Accept_Multiple_Values"),type:{bool:!0}}}},inputText:{properties:{placeholder:{displayName:(0,i.D)("Placeholder"),type:{text:!0}},fontFamily:t.SP.fontFamily,fontSize:t.SP.fontSize,bold:t.SP.bold,italic:t.SP.italic,underline:t.SP.underline,fontColor:t.SP.genericColor,fontTransparency:t.SP.genericTransparency,dismissColor:t.SP.genericColor,dismissTransparency:t.SP.genericTransparency,dismissSize:t.SP.iconSize,dismissSpacing:{displayName:(0,i.D)("Visual_Spacing"),type:{integer:!0}},paddingTop:{displayName:(0,i.D)("Visual_Margin_Top"),type:{integer:!0}},paddingRight:{displayName:(0,i.D)("Visual_Margin_Right"),type:{integer:!0}},paddingBottom:{displayName:(0,i.D)("Visual_Margin_Bottom"),type:{integer:!0}},paddingLeft:{displayName:(0,i.D)("Visual_Margin_Left"),type:{integer:!0}},backColor:t.SP.genericColor,backTransparency:t.SP.genericTransparency,borderShow:t.SP.show,borderColor:t.SP.genericColor,borderTransparency:t.SP.genericTransparency,borderWidth:t.SP.width}},applyButton:{properties:{iconColor:t.SP.genericColor,iconTransparency:t.SP.genericTransparency,iconSize:t.SP.iconSize,paddingTop:{displayName:(0,i.D)("Visual_Margin_Top"),type:{integer:!0}},paddingRight:{displayName:(0,i.D)("Visual_Margin_Right"),type:{integer:!0}},paddingBottom:{displayName:(0,i.D)("Visual_Margin_Bottom"),type:{integer:!0}},paddingLeft:{displayName:(0,i.D)("Visual_Margin_Left"),type:{integer:!0}},backShow:t.SP.show,backColor:t.SP.genericColor,backTransparency:t.SP.genericTransparency,borderShow:t.SP.show,borderColor:t.SP.genericColor,borderTransparency:t.SP.genericTransparency,borderWidth:t.SP.width,spacing:{displayName:(0,i.D)("Visual_Spacing"),type:{integer:!0}}}},inputTextBox:{properties:{paddingTop:{displayName:(0,i.D)("Visual_Margin_Top"),type:{integer:!0}},paddingRight:{displayName:(0,i.D)("Visual_Margin_Right"),type:{integer:!0}},paddingBottom:{displayName:(0,i.D)("Visual_Margin_Bottom"),type:{integer:!0}},paddingLeft:{displayName:(0,i.D)("Visual_Margin_Left"),type:{integer:!0}},backShow:t.SP.show,backColor:t.SP.genericColor,backTransparency:t.SP.genericTransparency,borderShow:t.SP.show,borderColor:t.SP.genericColor,borderTransparency:t.SP.genericTransparency,borderWidth:t.SP.width,accentBarShow:t.SP.show,accentBarPosition:{displayName:(0,i.D)("Visual_Position"),type:{enumeration:(0,r.s)([{value:d.Top,displayName:p=>p.get("Top")},{value:d.Right,displayName:p=>p.get("Visual_TextAlignment_Right")},{value:d.Bottom,displayName:p=>p.get("Bottom")},{value:d.Left,displayName:p=>p.get("Visual_TextAlignment_Left")}])}},accentBarColor:t.SP.genericColor,accentBarTransparency:t.SP.genericTransparency,accentBarWidth:t.SP.width}}},dataViewMappings:[{conditions:[{[o.E0.value]:{min:0,max:1,suppressDrill:!0}}],matrix:{rows:{select:[{for:{in:o.E0.value}}],dataReductionAlgorithm:{window:{count:100}}},includeEmptyGroups:!0}}],sorting:{default:{}},supportsKeyboardFocus:!0,hasFilterOptions:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,disableFocusMode:!0,supportsFilterClearButton:!0,suppressVisualCalc:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,keepAllMetadataColumns:!0}}var c={general:{filter:{objectName:"general",propertyName:"filter"},selectedValues:{objectName:"general",propertyName:"selectedValues"}},slicerSettings:{multiselect:{objectName:"slicerSettings",propertyName:"multiselect"}},inputText:{placeholder:{objectName:"inputText",propertyName:"placeholder"},fontFamily:{objectName:"inputText",propertyName:"fontFamily"},fontSize:{objectName:"inputText",propertyName:"fontSize"},bold:{objectName:"inputText",propertyName:"bold"},italic:{objectName:"inputText",propertyName:"italic"},underline:{objectName:"inputText",propertyName:"underline"},fontColor:{objectName:"inputText",propertyName:"fontColor"},fontTransparency:{objectName:"inputText",propertyName:"fontTransparency"},dismissColor:{objectName:"inputText",propertyName:"dismissColor"},dismissTransparency:{objectName:"inputText",propertyName:"dismissTransparency"},dismissSize:{objectName:"inputText",propertyName:"dismissSize"},dismissSpacing:{objectName:"inputText",propertyName:"dismissSpacing"},paddingTop:{objectName:"inputText",propertyName:"paddingTop"},paddingRight:{objectName:"inputText",propertyName:"paddingRight"},paddingBottom:{objectName:"inputText",propertyName:"paddingBottom"},paddingLeft:{objectName:"inputText",propertyName:"paddingLeft"},backColor:{objectName:"inputText",propertyName:"backColor"},backTransparency:{objectName:"inputText",propertyName:"backTransparency"},borderShow:{objectName:"inputText",propertyName:"borderShow"},borderColor:{objectName:"inputText",propertyName:"borderColor"},borderTransparency:{objectName:"inputText",propertyName:"borderTransparency"},borderWidth:{objectName:"inputText",propertyName:"borderWidth"}},applyButton:{iconColor:{objectName:"applyButton",propertyName:"iconColor"},iconTransparency:{objectName:"applyButton",propertyName:"iconTransparency"},iconSize:{objectName:"applyButton",propertyName:"iconSize"},paddingTop:{objectName:"applyButton",propertyName:"paddingTop"},paddingRight:{objectName:"applyButton",propertyName:"paddingRight"},paddingBottom:{objectName:"applyButton",propertyName:"paddingBottom"},paddingLeft:{objectName:"applyButton",propertyName:"paddingLeft"},backShow:{objectName:"applyButton",propertyName:"backShow"},backColor:{objectName:"applyButton",propertyName:"backColor"},backTransparency:{objectName:"applyButton",propertyName:"backTransparency"},borderShow:{objectName:"applyButton",propertyName:"borderShow"},borderColor:{objectName:"applyButton",propertyName:"borderColor"},borderTransparency:{objectName:"applyButton",propertyName:"borderTransparency"},borderWidth:{objectName:"applyButton",propertyName:"borderWidth"},spacing:{objectName:"applyButton",propertyName:"spacing"}},inputTextBox:{paddingTop:{objectName:"inputTextBox",propertyName:"paddingTop"},paddingRight:{objectName:"inputTextBox",propertyName:"paddingRight"},paddingBottom:{objectName:"inputTextBox",propertyName:"paddingBottom"},paddingLeft:{objectName:"inputTextBox",propertyName:"paddingLeft"},backShow:{objectName:"inputTextBox",propertyName:"backShow"},backColor:{objectName:"inputTextBox",propertyName:"backColor"},backTransparency:{objectName:"inputTextBox",propertyName:"backTransparency"},borderShow:{objectName:"inputTextBox",propertyName:"borderShow"},borderColor:{objectName:"inputTextBox",propertyName:"borderColor"},borderTransparency:{objectName:"inputTextBox",propertyName:"borderTransparency"},borderWidth:{objectName:"inputTextBox",propertyName:"borderWidth"},accentBarShow:{objectName:"inputTextBox",propertyName:"accentBarShow"},accentBarPosition:{objectName:"inputTextBox",propertyName:"accentBarPosition"},accentBarColor:{objectName:"inputTextBox",propertyName:"accentBarColor"},accentBarTransparency:{objectName:"inputTextBox",propertyName:"accentBarTransparency"},accentBarWidth:{objectName:"inputTextBox",propertyName:"accentBarWidth"}}}},966517:function(ve,z,e){e.d(z,{Hp:function(){return t},PE:function(){return r},fF:function(){return o},lq:function(){return d}});var a=e(266092),i=e(993513),r={general:{paragraphs:{objectName:"general",propertyName:"paragraphs"}},text:{color:{objectName:"text",propertyName:"color"},fontFamily:{objectName:"text",propertyName:"fontFamily"},fontSize:{objectName:"text",propertyName:"fontSize"}},values:{expr:{objectName:"values",propertyName:"expr"},formatString:{objectName:"values",propertyName:"formatString"}}},t={objects:{general:{displayName:(0,a.D)("Visual_General"),properties:{[r.general.paragraphs.propertyName]:{type:{paragraphs:{}},suppressFormatPainterCopy:!0}}},text:{displayName:(0,a.D)("Text"),properties:{[r.text.fontSize.propertyName]:{displayName:(0,a.D)("Default_Font_Size"),type:{formatting:{fontSize:!0}}},[r.text.fontFamily.propertyName]:{displayName:(0,a.D)("Default_Font_Family"),type:{formatting:{fontFamily:!0}}},[r.text.color.propertyName]:{displayName:(0,a.D)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}}}},values:{properties:{[r.values.expr.propertyName]:{formatStringProperty:r.values.formatString,ignoreUnreferenced:!0,type:{variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},[r.values.formatString.propertyName]:i.SP.formatString}}},suppressDefaultTitle:!0,supportsSelection:!1,supportsKeyboardFocus:!0,disableFormatMode:!0},o="\n",d="__Newline__"},42006:function(ve,z,e){e.d(z,{GA:function(){return o},Vo:function(){return p},pP:function(){return d},q:function(){return n}});var a=e(266092),i=e(500920),r=e(577440),t=e(993513),o={text:{show:{objectName:"text",propertyName:"show"},fontColor:{objectName:"text",propertyName:"fontColor"},fontSize:{objectName:"text",propertyName:"fontSize"},fontFamily:{objectName:"text",propertyName:"fontFamily"},italic:{objectName:"text",propertyName:"italic"},bold:{objectName:"text",propertyName:"bold"},underline:{objectName:"text",propertyName:"underline"},text:{objectName:"text",propertyName:"text"},verticalAlignment:{objectName:"text",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"text",propertyName:"horizontalAlignment"},leftMargin:{objectName:"text",propertyName:"leftMargin"},rightMargin:{objectName:"text",propertyName:"rightMargin"},topMargin:{objectName:"text",propertyName:"topMargin"},bottomMargin:{objectName:"text",propertyName:"bottomMargin"},angle:{objectName:"text",propertyName:"angle"}},icon:{show:{objectName:"icon",propertyName:"show"},shapeType:{objectName:"icon",propertyName:"shapeType"},image:{objectName:"icon",propertyName:"image"},lineColor:{objectName:"icon",propertyName:"lineColor"},lineTransparency:{objectName:"icon",propertyName:"lineTransparency"},lineWeight:{objectName:"icon",propertyName:"lineWeight"},placement:{objectName:"icon",propertyName:"placement"},verticalAlignment:{objectName:"icon",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"icon",propertyName:"horizontalAlignment"},leftMargin:{objectName:"icon",propertyName:"leftMargin"},rightMargin:{objectName:"icon",propertyName:"rightMargin"},topMargin:{objectName:"icon",propertyName:"topMargin"},bottomMargin:{objectName:"icon",propertyName:"bottomMargin"},spacing:{objectName:"icon",propertyName:"spacing"},iconSize:{objectName:"icon",propertyName:"iconSize"}}},d={text:"text",icon:"icon"},n={fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",italic:"italic",bold:"bold",underline:"underline",text:"text",textVerticalAlignment:"verticalAlignment",textHorizontalAlignment:"horizontalAlignment",textLeftMargin:"leftMargin",textRightMargin:"rightMargin",textTopMargin:"topMargin",textBottomMargin:"bottomMargin",textRotation:"textAngle",shapeType:"shapeType",iconImage:"image",iconColor:"lineColor",iconTransparency:"lineTransparency",iconWeight:"lineWeight",iconPlacement:"placement",iconVerticalAlignment:"verticalAlignment",iconHorizontalAlignment:"horizontalAlignment",iconLeftMargin:"leftMargin",iconRightMargin:"rightMargin",iconTopMargin:"topMargin",iconBottomMargin:"bottomMargin",iconSize:"iconSize"},c={show:t.SP.show,...t.j,[n.text]:{displayName:(0,a.D)("Text"),type:{text:!0},suppressFormatPainterCopy:!0},[n.textVerticalAlignment]:t.SP.verticalAlignment,[n.textHorizontalAlignment]:t.SP.horizontalAlignment,[n.textLeftMargin]:{displayName:(0,a.D)("Visual_Margin_Left"),type:{integer:!0}},[n.textRightMargin]:{displayName:(0,a.D)("Visual_Margin_Right"),type:{integer:!0}},[n.textTopMargin]:{displayName:(0,a.D)("Visual_Margin_Top"),type:{integer:!0}},[n.textBottomMargin]:{displayName:(0,a.D)("Visual_Margin_Bottom"),type:{integer:!0}}},s={show:t.SP.show,shapeType:{displayName:(0,a.D)("Icon"),type:{enumeration:i.C}},[n.iconImage]:t.SP.image,[n.iconColor]:t.SP.lineColor,[n.iconTransparency]:t.SP.lineTransparency,[n.iconWeight]:{displayName:(0,a.D)("Visual_BasicShape_Weight"),type:{integer:!0}},[n.iconPlacement]:{displayName:(0,a.D)("Visual_IconPlacement"),type:{enumeration:r.NW}},[n.iconVerticalAlignment]:t.SP.verticalAlignment,[n.iconHorizontalAlignment]:t.SP.horizontalAlignment,[n.iconLeftMargin]:{displayName:(0,a.D)("Visual_Margin_Left"),type:{integer:!0}},[n.iconRightMargin]:{displayName:(0,a.D)("Visual_Margin_Right"),type:{integer:!0}},[n.iconTopMargin]:{displayName:(0,a.D)("Visual_Margin_Top"),type:{integer:!0}},[n.iconBottomMargin]:{displayName:(0,a.D)("Visual_Margin_Bottom"),type:{integer:!0}},[n.iconSize]:{displayName:(0,a.D)("Visual_IconSize"),placeHolderText:(0,a.D)("Visual_Auto"),type:{numeric:!0}}},p={[d.text]:{displayName:(0,a.D)("Text"),properties:c},[d.icon]:{displayName:(0,a.D)("Icon"),properties:s}}},33936:function(ve,z,e){e.d(z,{$b:function(){return E},Ct:function(){return g},K9:function(){return f},X7:function(){return y},ZX:function(){return W},eR:function(){return h}});var a=e(266092),i=e(904143),r=e(372071),t=e(352915),o=e(415592),d=e(686791),n=e(377435),c=e(551683),s=e(73075),p=e(782777),l=e(734343),u=e(236562),v=e(993513),m=e(50743),g={fill:{show:{objectName:"fill",propertyName:"show"},fillColor:{objectName:"fill",propertyName:"fillColor"},transparency:{objectName:"fill",propertyName:"transparency"},image:{objectName:"fill",propertyName:"image"}},fillCustom:{show:{objectName:"fillCustom",propertyName:"show"},fillColor:{objectName:"fillCustom",propertyName:"fillColor"},transparency:{objectName:"fillCustom",propertyName:"transparency"},imageSplitTransparency:{objectName:"fillCustom",propertyName:"imageSplitTransparency"},image:{objectName:"fillCustom",propertyName:"image"},imageTransparency:{objectName:"fillCustom",propertyName:"imageTransparency"}},layout:{alignment:{objectName:"layout",propertyName:"alignment"},orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},maxTiles:{objectName:"layout",propertyName:"maxTiles"},cellPadding:{objectName:"layout",propertyName:"cellPadding"},customizePadding:{objectName:"layout",propertyName:"customizePadding"},rowPadding:{objectName:"layout",propertyName:"rowPadding"},columnPadding:{objectName:"layout",propertyName:"columnPadding"},calloutSize:{objectName:"layout",propertyName:"calloutSize"},style:{objectName:"layout",propertyName:"style"},fixedButtonsCount:{objectName:"layout",propertyName:"fixedButtonsCount"},indentation:{objectName:"layout",propertyName:"indentation"},reverseIndentation:{objectName:"layout",propertyName:"reverseIndentation"},containerIndentation:{objectName:"layout",propertyName:"containerIndentation"},customizeLines:{objectName:"layout",propertyName:"customizeLines"},lineStyle:{objectName:"layout",propertyName:"lineStyle"},lineTransparency:{objectName:"layout",propertyName:"lineTransparency"},lineWidth:{objectName:"layout",propertyName:"lineWidth"},lineColor:{objectName:"layout",propertyName:"lineColor"},gridlineStyle:{objectName:"layout",propertyName:"gridlineStyle"},gridlineTransparency:{objectName:"layout",propertyName:"gridlineTransparency"},gridlineWidth:{objectName:"layout",propertyName:"gridlineWidth"},gridlineColor:{objectName:"layout",propertyName:"gridlineColor"},borderStyle:{objectName:"layout",propertyName:"borderStyle"},borderTransparency:{objectName:"layout",propertyName:"borderTransparency"},borderWidth:{objectName:"layout",propertyName:"borderWidth"},borderColor:{objectName:"layout",propertyName:"borderColor"},rectangleRoundedCurveCustomStyle:{objectName:"layout",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"layout",propertyName:"rectangleRoundedCurve"},rectangleRoundedCurveLeftTop:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"layout",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveRightBottom"},backgroundShow:{objectName:"layout",propertyName:"backgroundShow"},backgroundFillColor:{objectName:"layout",propertyName:"backgroundFillColor"},backgroundTransparency:{objectName:"layout",propertyName:"backgroundTransparency"},backgroundImage:{objectName:"layout",propertyName:"backgroundImage"},backgroundImageTransparency:{objectName:"layout",propertyName:"backgroundImageTransparency"},leftOuterMargin:{objectName:"layout",propertyName:"leftOuterMargin"},rightOuterMargin:{objectName:"layout",propertyName:"rightOuterMargin"},topOuterMargin:{objectName:"layout",propertyName:"topOuterMargin"},bottomOuterMargin:{objectName:"layout",propertyName:"bottomOuterMargin"}},label:{show:{objectName:"label",propertyName:"show"},fontColor:{objectName:"label",propertyName:"fontColor"},fontSize:{objectName:"label",propertyName:"fontSize"},fontFamily:{objectName:"label",propertyName:"fontFamily"},italic:{objectName:"label",propertyName:"italic"},bold:{objectName:"label",propertyName:"bold"},underline:{objectName:"label",propertyName:"underline"},text:{objectName:"label",propertyName:"text"},heading:{objectName:"label",propertyName:"heading"},position:{objectName:"label",propertyName:"position"},transparency:{objectName:"label",propertyName:"transparency"},textWrap:{objectName:"label",propertyName:"textWrap"},alignBaselines:{objectName:"label",propertyName:"alignBaselines"},field:{objectName:"label",propertyName:"field"},matchValueAlignment:{objectName:"label",propertyName:"matchValueAlignment"},horizontalAlignment:{objectName:"label",propertyName:"horizontalAlignment"}},overFlow:{overFlowStyle:{objectName:"overFlow",propertyName:"overFlowStyle"},overFlowDirection:{objectName:"overFlow",propertyName:"overFlowDirection"}},outline:{show:{objectName:"outline",propertyName:"show"},lineColor:{objectName:"outline",propertyName:"lineColor"},weight:{objectName:"outline",propertyName:"weight"},transparency:{objectName:"outline",propertyName:"transparency"}},shape:{tileShape:{objectName:"shape",propertyName:"tileShape"},roundEdge:{objectName:"shape",propertyName:"roundEdge"},arrowheadSize:{objectName:"shape",propertyName:"arrowheadSize"},arrowStemWidth:{objectName:"shape",propertyName:"arrowStemWidth"},chevronAngle:{objectName:"shape",propertyName:"chevronAngle"},isocelesTriangleTipPosition:{objectName:"shape",propertyName:"isocelesTriangleTipPosition"},parallelogramSlant:{objectName:"shape",propertyName:"parallelogramSlant"},trapezoidSlant:{objectName:"shape",propertyName:"trapezoidSlant"},hexagonSlant:{objectName:"shape",propertyName:"hexagonSlant"},octagonSnipSize:{objectName:"shape",propertyName:"octagonSnipSize"},speechBubbleHeight:{objectName:"shape",propertyName:"speechBubbleHeight"},speechBubbleTailPosition:{objectName:"shape",propertyName:"speechBubbleTailPosition"},speechBubbleTailAngle:{objectName:"shape",propertyName:"speechBubbleTailAngle"},rectangleRoundedCurve:{objectName:"shape",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTopRight:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTopRight"},tabCutCornerSnipSizeTop:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shape",propertyName:"tabCutCornerSnipSizeBottom"},tabRoundCornerTopRight:{objectName:"shape",propertyName:"tabRoundCornerTopRight"},tabRoundCornerTop:{objectName:"shape",propertyName:"tabRoundCornerTop"},tabRoundCornerBottom:{objectName:"shape",propertyName:"tabRoundCornerBottom"}},shapeCustomRectangle:{rectangleRoundedCurveLeftTop:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveRightBottom"},rectangleRoundedCurveCustomStyle:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeBottom"},tabCutCornerSnipSizeCustomStyle:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeCustomStyle"},tabCutCornerSnipSizeLeftTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeLeftTop"},tabCutCornerSnipSizeRightTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeRightTop"},tabCutCornerSnipSizeLeftBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeLeftBottom"},tabCutCornerSnipSizeRightBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeRightBottom"},tileShape:{objectName:"shapeCustomRectangle",propertyName:"tileShape"}},shadow:{show:{objectName:"shadow",propertyName:"show"},color:{objectName:"shadow",propertyName:"color"},transparency:{objectName:"shadow",propertyName:"transparency"},shadowBlur:{objectName:"shadow",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadow",propertyName:"shadowPositionPreset"},angle:{objectName:"shadow",propertyName:"angle"},shadowDistance:{objectName:"shadow",propertyName:"shadowDistance"}},glow:{show:{objectName:"glow",propertyName:"show"},color:{objectName:"glow",propertyName:"color"},transparency:{objectName:"glow",propertyName:"transparency"},shadowBlur:{objectName:"glow",propertyName:"shadowBlur"}},shadowCustom:{show:{objectName:"shadowCustom",propertyName:"show"},color:{objectName:"shadowCustom",propertyName:"color"},transparency:{objectName:"shadowCustom",propertyName:"transparency"},shadowBlur:{objectName:"shadowCustom",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadowCustom",propertyName:"shadowPositionPreset"},angle:{objectName:"shadowCustom",propertyName:"angle"},shadowDistance:{objectName:"shadowCustom",propertyName:"shadowDistance"},position:{objectName:"shadowCustom",propertyName:"position"},shadowSpread:{objectName:"shadowCustom",propertyName:"shadowSpread"}},glowCustom:{show:{objectName:"glowCustom",propertyName:"show"},color:{objectName:"glowCustom",propertyName:"color"},transparency:{objectName:"glowCustom",propertyName:"transparency"},shadowBlur:{objectName:"glowCustom",propertyName:"shadowBlur"},glowPositionPreset:{objectName:"glowCustom",propertyName:"glowPositionPreset"},angle:{objectName:"glowCustom",propertyName:"angle"},glowDistance:{objectName:"glowCustom",propertyName:"glowDistance"},position:{objectName:"glowCustom",propertyName:"position"},glowSpread:{objectName:"glowCustom",propertyName:"glowSpread"}},accentBar:{show:{objectName:"accentBar",propertyName:"show"},position:{objectName:"accentBar",propertyName:"position"},color:{objectName:"accentBar",propertyName:"color"},transparency:{objectName:"accentBar",propertyName:"transparency"},width:{objectName:"accentBar",propertyName:"width"}},padding:{paddingSelection:{objectName:"padding",propertyName:"paddingSelection"},leftMargin:{objectName:"padding",propertyName:"leftMargin"},rightMargin:{objectName:"padding",propertyName:"rightMargin"},topMargin:{objectName:"padding",propertyName:"topMargin"},bottomMargin:{objectName:"padding",propertyName:"bottomMargin"}},value:{show:{objectName:"value",propertyName:"show"},fontColor:{objectName:"value",propertyName:"fontColor"},fontSize:{objectName:"value",propertyName:"fontSize"},fontFamily:{objectName:"value",propertyName:"fontFamily"},italic:{objectName:"value",propertyName:"italic"},bold:{objectName:"value",propertyName:"bold"},underline:{objectName:"value",propertyName:"underline"},text:{objectName:"value",propertyName:"text"},horizontalAlignment:{objectName:"value",propertyName:"horizontalAlignment"},transparency:{objectName:"value",propertyName:"transparency"},textWrap:{objectName:"value",propertyName:"textWrap"},labelDisplayUnits:{objectName:"value",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"value",propertyName:"labelPrecision"},customFormatString:{objectName:"value",propertyName:"customFormatString"},showBlankAs:{objectName:"value",propertyName:"showBlankAs"}},spacing:{verticalSpacing:{objectName:"spacing",propertyName:"verticalSpacing"}}},E=function(G){return G.Custom="custom",G.Top="top",G.TopLeft="topLeft",G.TopRight="topRight",G.Center="center",G.CenterLeft="centerLeft",G.CenterRight="centerRight",G.Bottom="bottom",G.BottomLeft="bottomLeft",G.BottomRight="bottomRight",G}({}),D=(0,i.s)([{value:E.Custom,displayName:G=>G.get("Custom")},{value:E.Top,displayName:G=>G.get("Top")},{value:E.TopLeft,displayName:G=>G.get("Visual_LabelPosition_TopLeft")},{value:E.TopRight,displayName:G=>G.get("Visual_LabelPosition_TopRight")},{value:E.Center,displayName:G=>G.get("Visual_TextAlignment_Center")},{value:E.CenterLeft,displayName:G=>G.get("Visual_TextAlignment_Left")},{value:E.CenterRight,displayName:G=>G.get("Visual_TextAlignment_Right")},{value:E.Bottom,displayName:G=>G.get("Bottom")},{value:E.BottomLeft,displayName:G=>G.get("Visual_LabelPosition_BottomLeft")},{value:E.BottomRight,displayName:G=>G.get("Visual_LabelPosition_BottomRight")}]),h=function(G){return G.OuterPosition="Outer",G.InnerPosition="Inner",G}({}),C=(0,i.s)([{value:h.OuterPosition,displayName:G=>G.get("Visual_DonutLabelPosition_Outside")},{value:h.InnerPosition,displayName:G=>G.get("Visual_DonutLabelPosition_Inside")}]),y={accentBar:"accentBar",calloutLayout:"calloutLayout",fill:"fill",fillCustom:"fillCustom",layout:"layout",label:"label",outline:"outline",padding:"padding",shape:"shape",shadow:"shadow",glow:"glow",shapeCustomRectangle:"shapeCustomRectangle",shadowCustom:"shadowCustom",spacing:"spacing",glowCustom:"glowCustom",value:"value",overFlow:"overFlow"},f={accentBarColor:"color",accentBarTransparency:"transparency",accentBarWidth:"width",alignBaselines:"alignBaselines",alignment:"alignment",arrowStemWidth:"arrowStemWidth",arrowheadSize:"arrowheadSize",bold:"bold",bottomMargin:"bottomMargin",calloutSize:"calloutSize",cellPadding:"cellPadding",chevronAngle:"chevronAngle",columnCount:"columnCount",columnPadding:"columnPadding",customFormatString:"customFormatString",customizePadding:"customizePadding",fillColor:"fillColor",fillImage:"image",fillTransparency:"transparency",fontColor:"fontColor",fontFamily:"fontFamily",fontSize:"fontSize",glowColor:"color",glowDistance:"glowDistance",glowPositionPreset:"glowPositionPreset",glowSpread:"glowSpread",glowTransparency:"transparency",heading:"heading",hexagonSlant:"hexagonSlant",horizontalAlignment:"horizontalAlignment",imageSplitTransparency:"imageSplitTransparency",imageTransparency:"imageTransparency",isocelesTriangleTipPosition:"isocelesTriangleTipPosition",italic:"italic",labelDisplayUnits:"labelDisplayUnits",labelPrecision:"labelPrecision",rectangleRoundedCurveCustomStyle:"rectangleRoundedCurveCustomStyle",rectangleRoundedCurve:"rectangleRoundedCurve",leftMargin:"leftMargin",matchValueAlignment:"matchValueAlignment",maxTiles:"maxTiles",octagonSnipSize:"octagonSnipSize",orientation:"orientation",outlineColor:"lineColor",outlineTransparency:"transparency",outlineWeight:"weight",OverFlowDirection:"overFlowDirection",OverFlowStyle:"overFlowStyle",paddingSelection:"paddingSelection",parallelogramSlant:"parallelogramSlant",position:"position",rectangleRoundedCurveLeftBottom:"rectangleRoundedCurveLeftBottom",rectangleRoundedCurveLeftTop:"rectangleRoundedCurveLeftTop",rectangleRoundedCurveRightBottom:"rectangleRoundedCurveRightBottom",rectangleRoundedCurveRightTop:"rectangleRoundedCurveRightTop",rightMargin:"rightMargin",rowCount:"rowCount",rowPadding:"rowPadding",shadowAngle:"angle",shadowBlur:"shadowBlur",shadowColor:"color",shadowDistance:"shadowDistance",shadowPositionPreset:"shadowPositionPreset",shadowSpread:"shadowSpread",shadowTransparency:"transparency",shapeRotation:"shapeAngle",shapeRounding:"roundEdge",show:"show",showBlankAs:"showBlankAs",speechBubbleHeight:"speechBubbleHeight",speechBubbleTailAngle:"speechBubbleTailAngle",speechBubbleTailPosition:"speechBubbleTailPosition",tabCutCornerSnipSizeBottom:"tabCutCornerSnipSizeBottom",tabCutCornerSnipSizeCustomStyle:"tabCutCornerSnipSizeCustomStyle",tabCutCornerSnipSizeLeftBottom:"tabCutCornerSnipSizeLeftBottom",tabCutCornerSnipSizeLeftTop:"tabCutCornerSnipSizeLeftTop",tabCutCornerSnipSizeRightBottom:"tabCutCornerSnipSizeRightBottom",tabCutCornerSnipSizeRightTop:"tabCutCornerSnipSizeRightTop",tabCutCornerSnipSizeTop:"tabCutCornerSnipSizeTop",tabCutCornerSnipSizeTopRight:"tabCutCornerSnipSizeTopRight",tabRoundCornerBottom:"tabRoundCornerBottom",tabRoundCornerTop:"tabRoundCornerTop",tabRoundCornerTopRight:"tabRoundCornerTopRight",text:"text",textWrap:"textWrap",tileShape:"tileShape",topMargin:"topMargin",transparency:"transparency",trapezoidSlant:"trapezoidSlant",underline:"underline",verticalSpacing:"verticalSpacing"},S_customizeLines="customizeLines",S_backgroundImage="backgroundImage",S_backgroundFillColor="backgroundFillColor",S_backgroundShow="backgroundShow",S_backgroundImageTransparency="backgroundImageTransparency",S_backgroundTransparency="backgroundTransparency",S_rectangleRoundedCurveCustomStyle="rectangleRoundedCurveCustomStyle",S_rectangleRoundedCurve="rectangleRoundedCurve",S_rectangleRoundedCurveLeftBottom="rectangleRoundedCurveLeftBottom",S_rectangleRoundedCurveLeftTop="rectangleRoundedCurveLeftTop",S_rectangleRoundedCurveRightBottom="rectangleRoundedCurveRightBottom",S_rectangleRoundedCurveRightTop="rectangleRoundedCurveRightTop",S_leftOuterMargin="leftOuterMargin",S_rightOuterMargin="rightOuterMargin",S_topOuterMargin="topOuterMargin",S_bottomOuterMargin="bottomOuterMargin",b={show:v.SP.show,[f.fillColor]:v.SP.fill,[f.fillTransparency]:v.SP.backgroundTransparency,[f.fillImage]:v.SP.image},V={show:v.SP.show,[f.fillColor]:v.SP.fill,[f.fillTransparency]:v.SP.backgroundTransparency,[f.fillImage]:v.SP.image,[f.imageTransparency]:v.SP.backgroundTransparency,[f.imageSplitTransparency]:{type:{bool:!0}}},M={show:v.SP.show,[f.outlineColor]:v.SP.outlineColor,[f.outlineTransparency]:v.SP.lineTransparency,[f.outlineWeight]:v.SP.outlineWeight},P={[f.tileShape]:{displayName:(0,a.D)("Visual_Shape"),type:{enumeration:p.N}},[f.shapeRounding]:{displayName:(0,a.D)("Visual_BasicShape_RoundEdges"),type:{integer:!0}},[f.arrowheadSize]:{displayName:(0,a.D)("Visual_Shape_ArrowheadSize"),type:{integer:!0}},[f.arrowStemWidth]:{displayName:(0,a.D)("Visual_Shape_ArrowStemWidth"),type:{integer:!0}},[f.chevronAngle]:{displayName:(0,a.D)("Visual_Angle"),type:{integer:!0}},[f.isocelesTriangleTipPosition]:{displayName:(0,a.D)("Visual_Shape_TriangleTipPosition"),type:{integer:!0}},[f.parallelogramSlant]:{displayName:(0,a.D)("Visual_Shape_Slant"),type:{integer:!0}},[f.trapezoidSlant]:{displayName:(0,a.D)("Visual_Shape_Slant"),type:{integer:!0}},[f.hexagonSlant]:{displayName:(0,a.D)("Visual_Shape_Slant"),type:{integer:!0}},[f.octagonSnipSize]:{displayName:(0,a.D)("Visual_Shape_OctagonSnipSize"),type:{integer:!0}},[f.speechBubbleHeight]:{displayName:(0,a.D)("Visual_Shape_ChatBubbleHeight"),type:{integer:!0}},[f.speechBubbleTailPosition]:{displayName:(0,a.D)("Visual_Shape_ChatTailPosition"),type:{enumeration:l.NW}},[f.speechBubbleTailAngle]:{displayName:(0,a.D)("Visual_Shape_ChatTailAngle"),type:{integer:!0}},[f.rectangleRoundedCurve]:{displayName:(0,a.D)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},[f.tabCutCornerSnipSizeTopRight]:{displayName:(0,a.D)("Visual_Shape_TabSnipSizeTopRight"),type:{integer:!0}},[f.tabCutCornerSnipSizeTop]:{displayName:(0,a.D)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},[f.tabCutCornerSnipSizeBottom]:{displayName:(0,a.D)("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}},[f.tabRoundCornerTopRight]:{displayName:(0,a.D)("Visual_Shape_TabRoundingTopRight"),type:{integer:!0}},[f.tabRoundCornerTop]:{displayName:(0,a.D)("Visual_Shape_TabRoundingTop"),type:{integer:!0}},[f.tabRoundCornerBottom]:{displayName:(0,a.D)("Visual_Shape_TabRoundingBottom"),type:{integer:!0}}},T={[f.tileShape]:{displayName:(0,a.D)("Visual_Shape"),type:{enumeration:p.N}},[f.rectangleRoundedCurveCustomStyle]:{displayName:(0,a.D)("Visual_CustomStyle"),type:{bool:!0}},[f.rectangleRoundedCurveLeftTop]:{displayName:(0,a.D)("Visual_CornerTopLeft"),type:{integer:!0}},[f.rectangleRoundedCurveRightTop]:{displayName:(0,a.D)("Visual_CornerTopRight"),type:{integer:!0}},[f.rectangleRoundedCurveLeftBottom]:{displayName:(0,a.D)("Visual_CornerBottomLeft"),type:{integer:!0}},[f.rectangleRoundedCurveRightBottom]:{displayName:(0,a.D)("Visual_CornerBottomRight"),type:{integer:!0}},[f.rectangleRoundedCurve]:{displayName:(0,a.D)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},[f.tabCutCornerSnipSizeTop]:{displayName:(0,a.D)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},[f.tabCutCornerSnipSizeCustomStyle]:{displayName:(0,a.D)("Visual_CustomStyle"),type:{bool:!0}},[f.tabCutCornerSnipSizeLeftTop]:{displayName:(0,a.D)("Visual_CornerTopLeft"),type:{integer:!0}},[f.tabCutCornerSnipSizeRightTop]:{displayName:(0,a.D)("Visual_CornerTopRight"),type:{integer:!0}},[f.tabCutCornerSnipSizeLeftBottom]:{displayName:(0,a.D)("Visual_CornerBottomLeft"),type:{integer:!0}},[f.tabCutCornerSnipSizeRightBottom]:{displayName:(0,a.D)("Visual_CornerBottomRight"),type:{integer:!0}},[f.tabCutCornerSnipSizeBottom]:{displayName:(0,a.D)("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}}},N={show:v.SP.show,[f.shadowColor]:v.SP.genericColor,[f.shadowTransparency]:v.SP.genericTransparency,[f.shadowBlur]:{displayName:(0,a.D)("Visual_DropShadow_Blur"),type:{numeric:!0}},[f.shadowPositionPreset]:{displayName:(0,a.D)("Visual_DropShadow_Preset"),type:{enumeration:D}},[f.shadowAngle]:{displayName:(0,a.D)("Visual_Angle"),type:{numeric:!0}},[f.shadowDistance]:{displayName:(0,a.D)("Distance"),type:{numeric:!0}}},w={show:v.SP.show,[f.glowColor]:v.SP.genericColor,[f.glowTransparency]:v.SP.genericTransparency,[f.shadowBlur]:{displayName:(0,a.D)("Visual_DropShadow_Blur"),type:{numeric:!0}}},I={show:v.SP.show,[f.shadowColor]:v.SP.genericColor,[f.shadowTransparency]:v.SP.genericTransparency,[f.shadowBlur]:{displayName:(0,a.D)("Visual_DropShadow_Blur"),type:{numeric:!0}},[f.shadowPositionPreset]:{displayName:(0,a.D)("Visual_DropShadow_Preset"),type:{enumeration:D}},[f.shadowAngle]:{displayName:(0,a.D)("Visual_Angle"),type:{numeric:!0}},[f.shadowDistance]:{displayName:(0,a.D)("Distance"),type:{numeric:!0}},[f.position]:{displayName:(0,a.D)("Offset"),type:{enumeration:C}},[f.shadowSpread]:{displayName:(0,a.D)("Visual_BubbleSize"),type:{numeric:!0}}},O={show:v.SP.show,[f.glowColor]:v.SP.genericColor,[f.glowTransparency]:v.SP.genericTransparency,[f.shadowBlur]:{displayName:(0,a.D)("Visual_DropShadow_Blur"),type:{numeric:!0}},[f.glowPositionPreset]:{displayName:(0,a.D)("Visual_DropShadow_Preset"),type:{enumeration:D}},[f.shadowAngle]:{displayName:(0,a.D)("Visual_Angle"),type:{numeric:!0}},[f.glowDistance]:{displayName:(0,a.D)("Distance"),type:{numeric:!0}},[f.position]:{displayName:(0,a.D)("Offset"),type:{enumeration:C}},[f.glowSpread]:{displayName:(0,a.D)("Visual_BubbleSize"),type:{numeric:!0}}},x={show:v.SP.show,[f.position]:{displayName:(0,a.D)("Visual_Position"),type:{enumeration:o.fF}},[f.accentBarColor]:v.SP.genericColor,[f.accentBarTransparency]:v.SP.genericTransparency,[f.accentBarWidth]:v.SP.width},j={[f.alignment]:{displayName:(0,a.D)("Visual_TextAlignment"),type:{formatting:{alignment:!0}}},[f.orientation]:{displayName:(0,a.D)("Visual_Arrangement"),type:{enumeration:c.w}},[f.rowCount]:{displayName:(0,a.D)("Small_Multiples_Layout_Rows"),type:{integer:!0}},[f.columnCount]:{displayName:(0,a.D)("Small_Multiples_Layout_Columns"),type:{integer:!0}},[f.maxTiles]:{displayName:(0,a.D)("Visual_Arrangement_CardsShown"),type:{integer:!0}},[f.cellPadding]:{displayName:(0,a.D)("Visual_Spacing_Between_Cards"),type:{integer:!0}},[f.customizePadding]:{displayName:(0,a.D)("Visual_Spacing_Customize"),type:{bool:!0}},[f.rowPadding]:{displayName:(0,a.D)("Visual_Arrangement_SpaceRows"),type:{integer:!0}},[f.columnPadding]:{displayName:(0,a.D)("Visual_Arrangement_SpaceColumns"),type:{integer:!0}},[f.calloutSize]:{displayName:(0,a.D)("Visual_CallOutSize"),type:{numeric:!0}},style:{displayName:(0,a.D)("Style"),type:{enumeration:m.N}},[S_backgroundFillColor]:v.SP.genericColor,[S_backgroundTransparency]:v.SP.backgroundTransparency,[S_backgroundShow]:v.SP.show,[S_backgroundImage]:v.SP.image,[S_backgroundImageTransparency]:{displayName:(0,a.D)("Visual_Image_Transparency"),type:{numeric:!0}},[S_rectangleRoundedCurveCustomStyle]:{displayName:(0,a.D)("Visual_Shape_CustomizeCorners"),type:{bool:!0}},[S_rectangleRoundedCurve]:{displayName:(0,a.D)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},[S_rectangleRoundedCurveLeftTop]:{displayName:(0,a.D)("Visual_CornerTopLeft"),type:{integer:!0}},[S_rectangleRoundedCurveRightTop]:{displayName:(0,a.D)("Visual_CornerTopRight"),type:{integer:!0}},[S_rectangleRoundedCurveLeftBottom]:{displayName:(0,a.D)("Visual_CornerBottomLeft"),type:{integer:!0}},[S_rectangleRoundedCurveRightBottom]:{displayName:(0,a.D)("Visual_CornerBottomRight"),type:{integer:!0}},[S_customizeLines]:{displayName:(0,a.D)("Customize_Lines_String"),type:{bool:!0}},...(0,v.ai)({strokePattern:"lineStyle",strokeTransparency:"lineTransparency",strokeWidth:"lineWidth",strokeColor:"lineColor"}),...(0,v.ai)({strokePattern:"gridlineStyle",strokeTransparency:"gridlineTransparency",strokeWidth:"gridlineWidth",strokeColor:"gridlineColor"}),...(0,v.ai)({strokePattern:"borderStyle",strokeTransparency:"borderTransparency",strokeWidth:"borderWidth",strokeColor:"borderColor"}),[S_leftOuterMargin]:{displayName:(0,a.D)("Visual_PaddingLeft"),type:{integer:!0}},[S_rightOuterMargin]:{displayName:(0,a.D)("Visual_PaddingRight"),type:{integer:!0}},[S_topOuterMargin]:{displayName:(0,a.D)("Visual_PaddingTop"),type:{integer:!0}},[S_bottomOuterMargin]:{displayName:(0,a.D)("Visual_PaddingBottom"),type:{integer:!0}}},U={[f.OverFlowStyle]:{displayName:(0,a.D)("Visual_OverFlow_Style"),type:{enumeration:d.N}},[f.OverFlowDirection]:{displayName:(0,a.D)("Visual_OverFlow_Direction"),type:{enumeration:n.N}}},F={[f.paddingSelection]:{displayName:(0,a.D)("Embed_Size"),type:{enumeration:s.NW}},[f.leftMargin]:{displayName:(0,a.D)("Visual_Margin_Left"),type:{integer:!0}},[f.rightMargin]:{displayName:(0,a.D)("Visual_Margin_Right"),type:{integer:!0}},[f.topMargin]:{displayName:(0,a.D)("Visual_Margin_Top"),type:{integer:!0}},[f.bottomMargin]:{displayName:(0,a.D)("Visual_Margin_Bottom"),type:{integer:!0}}},R={show:v.SP.show,...v.j,[f.horizontalAlignment]:v.SP.horizontalAlignment,[f.textWrap]:v.SP.textWrap,[f.labelDisplayUnits]:{...v.SP.labelDisplayUnits,type:{enumeration:t.N}},[f.labelPrecision]:v.SP.labelPrecision,[f.customFormatString]:{displayName:(0,a.D)("Visual_FormatCode"),description:(0,a.D)("Visual_FormatCode_Description"),type:{text:!0}},[f.showBlankAs]:v.SP.showBlankAs,[f.transparency]:v.SP.genericTransparency},B={show:v.SP.show,[f.text]:{displayName:(0,a.D)("Text"),type:{text:!0}},[f.heading]:{displayName:(0,a.D)("Visual_AzureMapsHeading"),type:{enumeration:u.RW}},...v.j,[f.position]:{displayName:(0,a.D)("Visual_Position"),type:{enumeration:r.N}},[f.transparency]:v.SP.genericTransparency,[f.textWrap]:v.SP.textWrap,[f.alignBaselines]:{displayName:(0,a.D)("Visual_AlignBaselines"),type:{bool:!0}},[f.matchValueAlignment]:{displayName:(0,a.D)("Visual_Alignment_MatchValue"),type:{bool:!0}},[f.horizontalAlignment]:v.SP.horizontalAlignment},A={[f.verticalSpacing]:{displayName:(0,a.D)("Visual_Spacing_Vertical"),type:{integer:!0}}},W={[y.fill]:{displayName:(0,a.D)("Visual_Fill"),properties:b},[y.fillCustom]:{displayName:(0,a.D)("Visual_Fill"),properties:V},[y.outline]:{displayName:(0,a.D)("Visual_Outline"),properties:M},[y.shape]:{displayName:(0,a.D)("Visual_Shape"),properties:P},[y.shadow]:{displayName:(0,a.D)("Visual_Shape_Shadow"),properties:N},[y.glow]:{displayName:(0,a.D)("Visual_Shape_Glow"),properties:w},[y.shapeCustomRectangle]:{displayName:(0,a.D)("Visual_Shape"),properties:T},[y.shadowCustom]:{displayName:(0,a.D)("Visual_Shape_Shadow"),properties:I},[y.glowCustom]:{displayName:(0,a.D)("Visual_Shape_Glow"),properties:O},[y.accentBar]:{displayName:(0,a.D)("Visual_Outline_AccentBar"),properties:x},[y.padding]:{displayName:(0,a.D)("Visual_Padding"),properties:F},[y.value]:{displayName:(0,a.D)("Role_DisplayName_Values"),properties:R},[y.label]:{displayName:(0,a.D)("Role_DisplayName_Label"),properties:B},[y.layout]:{displayName:(0,a.D)("Layout"),properties:j},[y.overFlow]:{displayName:(0,a.D)("Visual_OverFlow"),properties:U},[y.spacing]:{displayName:(0,a.D)("Visual_Spacing"),properties:A}}},605911:function(ve,z,e){e.d(z,{LX:function(){return c},qf:function(){return n},xG:function(){return s}});var a=e(924672),i=e(693029),r=e(319842),t=e(266092),o=e(993513),d=e(688464),n={group:"Group",details:"Details",values:"Values",gradient:"Gradient"};function c(p){return{dataRoles:[{name:"Group",kind:i.Ts.Grouping,displayName:(0,t.D)(p?.useModernFormatPane?"Role_DisplayName_Category":"Group"),description:(0,t.D)("Role_DisplayName_GroupTreemapDescription")},{name:"Details",kind:i.Ts.Grouping,displayName:(0,t.D)("Details")},{name:"Values",kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Values"),description:(0,t.D)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},!p?.cartesianConditionalFormatting&&{name:"Gradient",kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Gradient"),description:(0,t.D)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:i.gD.None},{name:"Tooltips",kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Tooltips"),description:(0,t.D)("Role_Tooltips_Description"),joinPredicate:i.gD.None}].filter(l=>l),objects:{general:{displayName:(0,t.D)("Visual_General"),properties:{formatString:o.SP.formatString}},legend:o.rg.legend,dataPoint:{displayName:(0,t.D)("Visual_DataPoint"),description:(0,t.D)("Visual_DataPointDescription"),properties:{fill:o.SP.defaultCategoryColor,fillRule:{displayName:(0,t.D)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Group"]}}}}},layout:{displayName:(0,t.D)("Layout"),properties:{tilingMethod:{displayName:(0,t.D)("Visual_Treemap_TilingMethod"),description:(0,t.D)("Visual_Treemap_TilingMethod_Description"),type:{enumeration:d.h}},innerPadding:{displayName:(0,t.D)("Visual_PaddingInner_Treemap"),description:(0,t.D)("Visual_PaddingInner_Treemap_Description"),type:{numeric:!0}},outerPadding:{displayName:(0,t.D)("Visual_PaddingOuter_Treemap"),description:(0,t.D)("Visual_PaddingOuter_Treemap_Description"),type:{numeric:!0}}}},labels:{displayName:(0,t.D)("Visual_DataPointsLabels"),description:(0,t.D)("Visual_DataPointsLabelsDescription"),properties:{show:o.SP.show,...o.Nq,labelDisplayUnits:o.SP.labelDisplayUnits,labelPrecision:o.SP.labelPrecision}},categoryLabels:{displayName:(0,t.D)("Visual_CategoryLabels"),description:(0,t.D)("Visual_CategoryLabelsDescription"),properties:{...o.Jk}}},dataViewMappings:[{conditions:[{Group:{max:1},Details:{max:0},Gradient:{max:1}},{Group:{max:1},Details:{min:1,max:1},Values:{max:1},Gradient:{max:0}}],categorical:{categories:{for:{in:"Group"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Details",select:[{bind:{to:"Values"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}}}}],supportsHighlight:!0,sorting:{custom:{},implicit:{clauses:[{role:"Values",direction:a.U.Descending}]}},drilldown:{roles:["Group"]},grouping:{groupingRules:[{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",kind:r.c.GroupInPlace},{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",groupSourceTargetRole:"Details",kind:r.c.Color},{condition:{Group:{min:1,max:1},Details:{min:0},Values:{min:1,max:1},Gradient:{min:1,max:1}},groupingTargetRole:"Group",kind:r.c.GroupInPlace}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}var s={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"}},layout:{tilingMethod:{objectName:"layout",propertyName:"tilingMethod"},innerPadding:{objectName:"layout",propertyName:"innerPadding"},outerPadding:{objectName:"layout",propertyName:"outerPadding"}}}},538915:function(ve,z,e){e.d(z,{B:function(){return c},S:function(){return n}});var a=e(236880),i=e(693029),r=e(319842),t=e(266092),o=e(429943),d=e(993513),n=(0,a.cM)(c().objects);function c(s){return{dataRoles:[{name:o.vu.category,kind:i.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_Category"),description:(0,t.D)("Role_DisplayName_CategoryWaterfallDescription")},{name:o.vu.breakdown,kind:i.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_BreakdownWaterfall"),description:(0,t.D)("Role_DisplayName_BreakdownWaterfallDescription")},{name:o.vu.y,kind:i.Ts.Measure,requiredTypes:[{numeric:!0},{integer:!0}],displayName:(0,t.D)(s?.useModernFormatPane?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),description:(0,t.D)("Role_DisplayName_ValuesDescription")},{name:o.vu.tooltips,kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Tooltips"),description:(0,t.D)("Role_Tooltips_Description"),joinPredicate:i.gD.None}],objects:{general:{displayName:(0,t.D)("Visual_General"),properties:{formatString:d.SP.formatString,responsive:d.SP.responsive,responsiveLegacy:d.SP.responsiveLegacy}},legend:d.rg.legend,categoryAxis:{displayName:(0,t.D)("Visual_XAxis"),properties:{show:d.SP.show,..._.omit(d.Vo,["axisType"]),..._.omit(d.po,["labelDisplayUnits","labelPrecision"]),...(0,d.Jx)("x")}},valueAxis:{displayName:(0,t.D)("Visual_YAxis"),properties:{show:d.SP.show,..._.omit(d.WI,["logAxisScale"]),...d.po,...(0,d.Jx)("y"),...d.hL,totalsEnabled:{displayName:(0,t.D)("Visual_Axis_Total"),description:(0,t.D)("Visual_Axis_TotalDescription"),type:{bool:!0}},switchAxisPosition:d.SP.switchAxisPosition}},labels:{displayName:(0,t.D)("Visual_DataPointsLabels"),description:(0,t.D)("Visual_DataPointsLabelsDescription"),properties:{show:d.SP.show,..._.omit(d.VO,["transparency","valueCustomFormatString","showBlankAs","enableValueDataLabel"]),labelOrientation:d.SP.labelOrientation,labelPosition:d.SP.labelPosition,labelDisplayUnits:d.SP.dataLabelDisplayUnits,...d.Ed}},plotArea:d.rg.plotArea,sentimentColors:{displayName:(0,t.D)("Waterfall_SentimentColors"),properties:{increaseFill:{displayName:(0,t.D)("Increase"),type:{fill:{solid:{color:!0}}}},decreaseFill:{displayName:(0,t.D)("Decrease"),type:{fill:{solid:{color:!0}}}},totalFill:{displayName:(0,t.D)("Waterfall_TotalLabel"),type:{fill:{solid:{color:!0}}}},otherFill:{displayName:(0,t.D)("Waterfall_OtherLabel"),type:{fill:{solid:{color:!0}}}}}},[o.wn.y1]:{displayName:(0,t.D)("Visual_Reference_Line_Y"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:i.i8.Analytics,properties:d.k4},breakdown:{displayName:(0,t.D)("Visual_Waterfall_Breakdown"),properties:{maxBreakdowns:{displayName:(0,t.D)("Visual_Waterfall_MaxBreakdown"),description:(0,t.D)("Visual_Waterfall_MaxBreakdown_Description"),type:{integer:!0}}}}},dataViewMappings:[{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{max:0}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}]}}},{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{min:1,max:1}}],matrix:{rows:{select:[{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{window:{count:30}}},columns:{for:{in:"Breakdown"},dataReductionAlgorithm:{top:{count:200}}},values:{select:[{bind:{to:"Y"}},{bind:{to:"Tooltips"}}]}}}],sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1}},groupingTargetRole:"Category",kind:r.c.GroupInPlace}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}},55684:function(ve,z,e){e.d(z,{GA:function(){return l},mV:function(){return s},wD:function(){return p},wt:function(){return c},ye:function(){return v}});var a=e(18122),i=e(111199),r=e(816030),t=e(429943),o=e(696793),d=e(878907),n=e(190593);function c(m,g,E,D,h){return!(h&&!D)&&(!!function(m){return m&&!_.isEmpty(m.values)}(D)||s(m,g,E))}function s(m,g,E){return!(!l(E)||!p(m,g))}function p(m,g){if(!m)return!0;var E=(0,r._W)(m,g);return null==E||E===d.G.scalar}function l(m){return!(0,o.AY)(m)}function v(m,g){if(!m||!m.metadata)return!1;var E;if(m.categorical&&m.categorical.categories&&(0,i.od)(m.categorical.categories)?E=m.categorical.categories.for.in:g&&(0,n.bV)(m)&&(E=(0,n.FL)(m).for.in),null==E)return!1;var C=E.items;if(_.isEmpty(C))return!1;var y=E.activeItems,f=C[0];if(!_.isEmpty(y)){if(y.length>1)return!1;var S=_.find(C,M=>M.queryName===y[0]);a.Y.assertValue(S,"active projection must be part of category items"),f=S}return!!s(m.metadata.objects,t.De.categoryAxis.axisType,f.type)}},696793:function(ve,z,e){e.d(z,{$Q:function(){return u},AA:function(){return d},AY:function(){return o},Ar:function(){return n},id:function(){return s},sl:function(){return c}});var a=e(18122),i=e(358719),r=e(153484),t=e(744774);function o(v){return!(!v||!(v.text||v.bool||v.misc?.barcode||v.geography?.postalCode))}function d(v){return v&&!v.invert}function n(v){return!(!v||!v.dateTime)}function c(v,m,g){a.Y.assertValue(v,"scale");var E=v(m)-v(g);return 0===E?0:E<0?Math.min(E,-1):Math.max(E,1)}function s(v,m,g,E){if(!g){var D=(0,i.eH)();D.update(m-v),g=D.displayUnit&&D.displayUnit.value||1}var h=(v||0)/g,C=(m||0)/g;if(E){var y=(0,r.s6)(E,!1,!1,!0).partsPerScale;h*=y,C*=y}return Math.max(p(h),p(C))}function p(v){if(0===v)return 0;v<0&&(v=-v);var m=Math.floor((0,t.YL)(v));if(m>=0){var D=5-(m+1);return D<=0?0:l(v,D)}return m<-5?5:-m-1+l(v/(0,t.eC)(m+1),5)}function l(v,m){var g=v.toFixed(m),E=g.indexOf(".");if(-1!==E)for(var D=g.length;D-- >E;)if("0"!==g[D])return D-E;return 0}function u(v,m,g){v.each(function(){var E=d3.select(this);g(E.node(),m)})}},885653:function(ve,z,e){e.d(z,{A:function(){return n}});var a=e(647132),i=e(527956),r=e(18122),t=e(816030),o=e(531093),d=e(369195);class n{constructor(s,p,l,u,v){this.style=v,this.colors=s,this.fillProp=p,this.defaultDataPointColor=l,this.defaultCategoryColor=u,this.defaultColorScale=this.colors.getNewColorScale()}static create(s,p,l,u){return new n(s.colorPalette.dataColors,p,l,u,s)}getColorForSeriesValue(s,p,l,u,v){return this.style&&this.style.isHighContrast?n.getHighContrastDataColor(this.style,u):this.getFillWithOptionalValidation(s,v)||this.getColorWithOptionalValidation(this.defaultDataPointColor,v)||this.getColorScaleForSeries(p).getColor(l).value}getColorScaleForSeries(s){return this.colors.getColorScaleByKey((0,d.SZ)(s||[]))}getColorForStaticSeries(s,p,l,u){if(this.style&&this.style.isHighContrast)return n.getHighContrastDataColor(this.style,l);var v=this.defaultColorScale.getColor(p).value;return this.getFillWithOptionalValidation(s,u)||this.getColorWithOptionalValidation(this.defaultDataPointColor,u)||v}getColorForMeasure(s,p,l,u){if(this.style&&this.style.isHighContrast)return n.getHighContrastDataColor(this.style,l);var v=this.defaultColorScale.getColor(p).value;return this.getFillWithOptionalValidation(s,u)||this.getColorWithOptionalValidation(this.defaultCategoryColor,u)||this.getColorWithOptionalValidation(this.defaultDataPointColor,u)||v}getColorForProperty(s,p,l,u){var v=this.style&&l&&n.getThemeColor(this.style,l);return this.getColorForPropertyWithDefaultColor(s,p,v,u)}hasColorForProperty(s,p,l){return(0,t.$N)(s,p,l)}getColorForPropertyWithDefaultColor(s,p,l,u){return this.style&&this.style.isHighContrast?l:(0,t.pM)(s,p,l,u)}getColorForPropertyName(s,p,l){var u=this.style&&l&&n.getThemeColor(this.style,l);return this.getColorForPropertyNameWithDefaultColor(s,p,u)}getColorForPropertyNameWithDefaultColor(s,p,l,u){var v=this.style&&this.style.isHighContrast,m=(0,o.a)(s,p,l,void 0,u);return u&&null===m?null:v?l:m}static getSentimentColor(s,p,l){return s.isHighContrast?n.getHighContrastDataColor(s,l):s.colorPalette.dataColors.getSentimentColors()[p].value}static getGradientColor(s,p,l){return s.isHighContrast?n.getHighContrastDataColor(s,l):s.colorPalette.dataColors.getGradientColors()[p].value}static getDataColorByIndex(s,p,l){return s.isHighContrast?n.getHighContrastDataColor(s,l):s.colorPalette.dataColors.getColorByIndex(p).value}static getThemeColor(s,p){return s.colorPalette[p].value}static getFillColor(s,p,l){return s.isHighContrast?n.getHighContrastDataColor(s,l):p&&p.solid&&p.solid.color}static normalizeSelector(s,p){return r.Y.assertAnyValue(s,"selector"),s&&(p||s.data)?{data:s.data}:s}static getHighContrastDataColor(s,p=i.DA){return s.colorPalette[p].value}getFillWithOptionalValidation(s,p){var l=this.fillProp&&(0,t.pM)(s,this.fillProp);return p&&l&&!(0,a.IO)(l)&&(l=void 0),l}getColorWithOptionalValidation(s,p){var l=s;return p&&s&&!(0,a.IO)(s)&&(l=void 0),l}}},386300:function(ve,z,e){e.d(z,{$o:function(){return n},A7:function(){return ft},B9:function(){return E},Fh:function(){return Fe},Fq:function(){return W},G3:function(){return m},HV:function(){return C},IQ:function(){return I},IY:function(){return N},NF:function(){return o},Nt:function(){return K},O_:function(){return M},Pi:function(){return B},Qj:function(){return R},SE:function(){return Qe},Sm:function(){return x},Te:function(){return q},Tg:function(){return g},UL:function(){return ne},WG:function(){return V},Xr:function(){return We},Xv:function(){return Y},_U:function(){return u},a2:function(){return He},bG:function(){return G},bz:function(){return h},c0:function(){return v},g3:function(){return A},gE:function(){return T},gV:function(){return O},iu:function(){return mt},k:function(){return k},mE:function(){return X},nh:function(){return D},qt:function(){return ye},rJ:function(){return w},rp:function(){return Q},w5:function(){return P},w6:function(){return L},yc:function(){return c},z2:function(){return p},zr:function(){return Te},zs:function(){return d}});var a=e(623670),i=e(615309),r=e(735553),t=e(512655),o=9,d=8,n=8,c=50,p=.3,u=6,v=8,m=8,g=50,E="0.00 %;-0.00 %;0.00 %",D=9,h=i.Hx.regularSecondary.css,C=i.Hx.regular.css,b="normal",V="foregroundNeutralSecondaryAlt",M="foregroundLight",P="backgroundDark",T=.9,N=4,w=2,I=4,O=4,x=2,R=void 0,B=void 0,A=void 0,W=void 0,G=void 0,K=15,q=0,ne=1,k=50,L=0,X=400,Y=-1,Q=1,Te=((0,t.tI)("labels"),(0,t.tI)("lines"),(0,t.tI)("data-labels"),(0,t.tI)("line-label"),(0,t.tI)("labelGraphicsContext")),He=(0,t.tI)("labelContainerGraphicsContext"),We=(0,t.tI)("labelBackgroundGraphicsContext"),ft=(0,t.tI)("labelSeriesGraphicsContext"),mt=(0,t.tI)("labelSeriesBackgroundGraphicsContext"),At="\u0591-\u07ff\u200f\u202b\u202e\ufb1d-\ufdfd\ufe70-\ufefc",Qe=new RegExp(`^[^${At}]*?[${At}]`),Fe={fontFamily:i.Hx.regularSecondary.css,fontSize:a.V4.fromPoint(D),fontWeight:b},ye={family:h,size:r.Z.createFromPt(D),weight:b,style:null,textDecoration:null}},625917:function(ve,z,e){e.d(z,{Hq:function(){return s},Kp:function(){return o},LF:function(){return d},ek:function(){return c}});var a=e(924672),i=e(18122),r=e(429943),t=e(702794);function o(p){return p&&p.categorical&&p.categorical.categories&&p.categorical.categories.length>1}function d(p){if(function(p){if(_.isEmpty(p))return!1;var l=_.some(p,u=>{var v=u.categorical;if(!v)return!1;if(!v.categories)return!1;var g=v.values;return!(!(g&&g.group&&g.group.by)||_.isEmpty(g.group.by.items))});return!l}(p))for(var u of p){if(!u.categorical)return;var v=u.categorical.categories;if(!v||!v.dataReductionAlgorithm||!v.dataReductionAlgorithm.window)return;v.dataReductionAlgorithm={window:{count:1e3}}}}function c(p){for(var l of(i.Y.assertNonEmpty(p,"mappings"),p))(0,t.Ax)(l.categorical.categories,{visitRole:v=>{var m=v.items;if(!_.isEmpty(m)&&!_.isEmpty(v.activeItems)){var g=_.filter(m,D=>_.includes(v.activeItems,D.queryName));for(var E of g)E.filteredToUniqueValueProperty=r.De.filters.filteredToUniqueValue}}})}function s(p,l,u=a.U.Ascending){var v=function(){if(!(g&&g.categorical&&g.categorical.categories&&g.metadata))return 0;var E=g.metadata.columns,D=g.categorical.categories;if(_.some(E,h=>void 0!==h.sort))return 0;(0,t.Ax)(D,{visitRole:(h,C)=>{if(_.includes(l,h.role)){var y=h.activeItems;if(!_.isEmpty(y)){var f=0,S=function(V){var M=_.find(E,P=>P.queryName===V);M&&(M.sort=u,M.sortOrder=f++)};for(var b of y)S(b)}}}})};for(var g of p)v()}},705728:function(ve,z,e){e.d(z,{A:function(){return r},n:function(){return i}});var a=e(18122),i=function(t){return t[t.Invalid=0]="Invalid",t[t.Enabled=1]="Enabled",t[t.Disabled=2]="Disabled",t}({});class r{constructor(o,d,n,c){this.matchObjectName=o,this.matchPropertyName=d,this.relatedTopLevelToggleValue=n,this.hasSelector=c,this.disabledBehaviorChanges=[],this.enabledBehaviorChanges=[]}onToggleDisabled(...o){return this.disabledBehaviorChanges.push(...o),this}onToggleEnabled(...o){return this.enabledBehaviorChanges.push(...o),this}getBehaviorChanges(o){switch(o){case i.Disabled:return this.disabledBehaviorChanges;case i.Enabled:return this.enabledBehaviorChanges;default:a.Y.assertNever(o)}}updateBehaviorChanges(o,d){switch(o){case i.Disabled:this.disabledBehaviorChanges.forEach(n=>n.updateChange(d));break;case i.Enabled:this.enabledBehaviorChanges.forEach(n=>n.updateChange(d));break;default:a.Y.assertNever(o)}}getToggleBehaviorType(o){return this.relatedTopLevelToggleValue&&!o.propertyValue?i.Disabled:!this.relatedTopLevelToggleValue&&o.propertyValue?i.Enabled:i.Invalid}isMatchingVisualObjectChange(o){return o.objectName===this.matchObjectName&&o.propertyName===this.matchPropertyName&&!!o.selector===this.hasSelector}}},731258:function(ve,z,e){e.d(z,{E:function(){return i}});var a=e(705728);class i extends a.A{constructor(t,o,d){super(t,o,d,!1)}static create(t,o){return new i(t.objectName,t.propertyName,o)}getChanges(t){if(this.isMatchingVisualObjectChange(t)){var o=this.getToggleBehaviorType(t);if(o!==a.n.Invalid)return this.updateBehaviorChanges(o,t),this.getBehaviorChanges(o)}return[]}}},101715:function(ve,z,e){e.d(z,{d:function(){return a}});class a{static getDataViewObjectsBehaviorChanges(r,t){var o=[];for(var d of r)for(var n of t)o.unshift(...n.getChanges(d));return o}static applyDataViewObjectsBehaviorChanges(r,t){var o=[...r];for(var d of t)o=d.applyChange(o);return o}}},783076:function(ve,z,e){e.d(z,{A:function(){return a}});class a{constructor(r,t,o){this.visualObjectChange=r,this.required=t,this.shouldInheritSelector=o}static createBooleanDataViewObjectChange(r,t,o){var d={...r,propertyValue:t,propertyType:{bool:!0}};return a.create(d,o)}static createRevertToDefaultDataViewObjectChange(r,t){return a.create({objectName:r,propertyName:"revertToDefault",propertyValue:void 0,propertyType:{bool:!0}},t)}static createColorDataViewObjectChange(r,t,o){var d={...r,propertyValue:{value:t},propertyType:{fill:{solid:{color:!0}}}};return a.create(d,o)}static createNumericDataViewObjectChange(r,t,o){var d={...r,propertyValue:t,propertyType:{numeric:!0}};return a.create(d,o)}static create(r,t){return t?.selector&&(r.selector=t.selector),new a(r,t?.required,t?.inheritSelector)}applyChange(r){return r.push(this.visualObjectChange),r}updateChange(r){this.shouldInheritSelector&&(this.visualObjectChange.selector=r.selector)}}},789327:function(ve,z,e){function a(r){if(r)return!!r.handled}function i(r){r&&(r.handled=!0)}e.d(z,{R:function(){return a},o:function(){return i}})},109632:function(ve,z,e){e.d(z,{B3:function(){return m},Bq:function(){return h},De:function(){return c},IL:function(){return l},Iv:function(){return s},o:function(){return u},q1:function(){return C},rA:function(){return E},sU:function(){return v}});var a=e(512655),i=e(18122),r=e(761297),t=e(623670),o=e(531093),d=e(60151),n=e(735553);function c(f,S,b,V,M){var P=p(f,S,b,V,M);return M?l(M,P):P}function s(f,S,b,V,M,P,T,N){var w=p(f,S,b,void 0),I=(0,d.r)(V,P),O=I;if(S.color){var x=b.getColorForPropertyName(f,S.color,M);O=N?l(I,{color:x}):l({color:x},I)}return T&&(O=l(T,O)),O?l(O,w):w}function p(f,S,b,V,M){i.Y.assertValue(S,"propertyNames");var P,T=S.weight&&(0,o._)(f,S.weight),N=S.style&&(0,o._)(f,S.style),w=S.underline&&(0,o._)(f,S.underline);if(S.size){var I=(0,o._)(f,S.size);null!=I&&(P=S.sizeInPixels?n.Z.createFromPx(+I):n.Z.createFromPt(+I))}if(S.bold){var O=(0,o._)(f,S.bold);O??M?.weight===a.HM?T=a.HM:!1===O&&(T=null)}if(S.italic){var U=(0,o._)(f,S.italic);U??M?.style===a.On?N=a.On:!1===U&&(N=null)}if(S.underline){var B=(0,o._)(f,S.underline);B??M?.textDecoration===a.wr?w=a.wr:!1===B&&(w=null)}return{color:S.color&&b.getColorForPropertyName(f,S.color,V),family:S.family&&(0,o._)(f,S.family),lineHeight:S.lineHeight&&(0,o._)(f,S.lineHeight),size:P,style:N,variant:S.variant&&(0,o._)(f,S.variant),weight:T,whiteSpace:S.whiteSpace&&(0,o._)(f,S.whiteSpace),textDecoration:w}}function l(f,S){i.Y.assertValue(f,"fontProperties");var b=(0,r.IL)(f);return S&&((S.color||null===S.color)&&(b.color=S.color),S.family&&(b.family=S.family),S.lineHeight&&(b.lineHeight=S.lineHeight),S.size&&(b.size=S.size),(S.style||null===S.style)&&(b.style=S.style),S.variant&&(b.variant=S.variant),(S.weight||null===S.weight)&&(b.weight=S.weight),S.whiteSpace&&(b.whiteSpace=S.whiteSpace),(S.textDecoration||null===S.textDecoration)&&(b.textDecoration=S.textDecoration)),b}function u(f,S,b){return i.Y.assertValue(f,"fontProperties"),b&&(f=D(f)),{text:S,fontFamily:f.family,fontSize:f.size?t.V4.toString(f.size.px):void 0,fontWeight:f.weight,fontStyle:f.style,fontVariant:f.variant,whiteSpace:f.whiteSpace}}function v(f){i.Y.assertValue(f,"fontProperties");var S={};return f.color&&(S.color=f.color),f.family&&(S["font-family"]=f.family),f.lineHeight&&(S["line-height"]=f.lineHeight),f.size&&(S["font-size"]=f.size?t.V4.toString(f.size.px):void 0),f.variant&&(S["font-variant"]=f.variant),f.whiteSpace&&(S["white-space"]=f.whiteSpace),S["font-weight"]=f.weight?f.weight:null,S["font-style"]=f.style?f.style:null,S["text-decoration"]=f.textDecoration?f.textDecoration:null,S}function m(f,S){return i.Y.assertValue(f,"fontProperties"),i.Y.assertValue(S,"element"),function(f,S){i.Y.assertValue(f,"fontProperties"),i.Y.assertValue(S,"style"),f.color&&(S.fill=f.color),f.family&&(S.fontFamily=f.family),f.lineHeight&&(S.lineHeight=f.lineHeight),f.size&&(S.fontSize=f.size?t.V4.toString(f.size.px):void 0),f.style&&(S.fontStyle=f.style),f.variant&&(S.fontVariant=f.variant),f.weight&&(S.fontWeight=f.weight),f.whiteSpace&&(S.whiteSpace=f.whiteSpace)}(f,S.style),S}function E(f){i.Y.assertValue(f,"fontProperties");var S={};return f.color&&(S.fill=f.color),f.family&&(S["font-family"]=f.family),f.lineHeight&&(S["line-height"]=f.lineHeight),f.size&&(S["font-size"]=f.size?t.V4.toString(f.size.px):void 0),f.variant&&(S["font-variant"]=f.variant),f.whiteSpace&&(S["white-space"]=f.whiteSpace),S["font-weight"]=f.weight?f.weight:null,S["font-style"]=f.style?f.style:null,S["text-decoration"]=f.textDecoration?f.textDecoration:null,S}function D(f,S=0){for(var b={},V=Object.getPrototypeOf({}),M=0;M<=S&&null!=f&&f!==V;M++)_.forOwn(f,(P,T)=>{void 0===b[T]&&(b[T]=P)}),f=Object.getPrototypeOf(f);return b}function h(f){return D(f,Number.MAX_VALUE)}function C(f){return{color:S=>f(S).color,"font-family":S=>f(S).family,"font-size":S=>f(S).size?t.V4.toString(f(S).size.px):void 0,"font-style":S=>f(S).style,"font-variant":S=>f(S).variant,"font-weight":S=>f(S).weight,"white-space":S=>f(S).whiteSpace,"text-decoration":S=>f(S).textDecoration}}},693602:function(ve,z,e){e.d(z,{Nk:function(){return d},PA:function(){return n},QE:function(){return o},cp:function(){return t},jw:function(){return i},ou:function(){return c},uL:function(){return r},vo:function(){return a}});var a=function(s){return s.Page="Page",s.Visual="Visual",s.General="Format_Label_General",s.Analytics="Analytics",s}({}),i=function(s){return s.AxisZoom="zoom",s.Background="background",s.Bars="bars",s.Breakdown="breakdown",s.CategoryAxis="categoryAxis",s.ExpansionIcon="expansionIcon",s.SelectionIcon="selectionIcon",s.ErrorBars="errorBars",s.Gridlines="gridlines",s.Layout="layout",s.Legend="legend",s.Lines="lines",s.LineStyles="lineStyles",s.ShadeArea="shadeArea",s.Markers="markers",s.PlotBackground="plotBackground",s.RibbonChart="ribbonChart",s.SentimentColors="sentimentColors",s.SmallMultiples="smallMultiples",s.SmallMultiplesLayout="smallMultiplesLayout",s.Subheader="subheader",s.ValueAxis="valueAxis",s.Y2Axis="y2Axis",s.Axis="axis",s.BlankRows="blankRows",s.Buttons="buttons",s.CalloutValue="calloutValue",s.CalloutValues="Visual_CallOutValues",s.Card="card",s.ColumnFormatting="columnFormatting",s.ColumnHeaders="columnHeaders",s.ColumnSubtotal="columnSubTotal",s.ColumnGrandTotal="columnTotal",s.Datapoint="datapoint",s.Date="date",s.FillColors="fillColors",s.Grid="grid",s.Hierarchy="hierarchy",s.Icons="icons",s.InputTextBox="inputTextBox",s.ImageHeight="imageHeight",s.Images="images",s.MapSettings="mapSettings",s.PercentBarLabel="percentBarLabel",s.Rotation="rotation",s.RowHeaders="rowHeaders",s.RowSubtotal="rowSubTotal",s.RowGrandTotal="rowTotal",s.Selection="selection",s.SlicerHeader="slicerHeader",s.SlicerSettings="slicerSettings",s.Slices="slices",s.Slider="slider",s.Sparklines="sparklines",s.StrokeColor="strokeColor",s.Target="target",s.TargetLabel="targetLabel",s.TrendAxis="trendAxis",s.UrlIcon="urlIcon",s.Values="values",s.MapControls="mapControls",s.Styles="styles",s.Controls="controls",s.DefaultStyle="defaultStyle",s.WorldWrap="worldWrap",s.ShowStylePicker="showStylePicker",s.ShowNavigationControls="showNavigationControls",s.ShowSelectionControl="showSelectionControl",s.GeocodingCulture="geocodingCulture",s.CategoryLabels="categoryLabels",s.Colors="colors",s.ConditionalFormatting="conditionalFormatting",s.Labels="labels",s.SeriesLabels="seriesLabels",s.Title="title",s.TotalLabels="totals",s.VisualPlaceholderCard="visualPlaceholderCard",s.Shape="shape",s.ShapeStyle="shapeStyle",s.ButtonStyle="buttonStyle",s.SizeAndStyle="sizeAndStyle",s.Style="style",s.Text="text",s.Accessibility="accessibility",s.Anomaly="anomaly",s.Forecast="forecast",s.PlotAreaShading="plotAreaShading",s.RatioLine="ratioLine",s.ReferenceLineMin="referenceLine-minLine",s.ReferenceLineMax="referenceLine-maxLine",s.ReferenceLineAverage="referenceLine-averageLine",s.ReferenceLineMedian="referenceLine-medianLine",s.ReferenceLinePercentile="referenceLine-percentileLine",s.TrendLine="trendLine",s.XAxisReferenceLine="xAxisReferenceLine",s.Y1AxisReferenceLine="y1AxisReferenceLine",s.ReferenceLine="referenceLine",s}({}),r=function(s){return s.AltTextRowHeaders="AltTextRowHeaders",s.AltTextColumnHeaders="AltTextColumnHeaders",s.AltTextValues="AltTextValues",s.ApplySettingsTo="applySettingsTo",s.Axis="axis",s.Background="background",s.Band="band",s.Bar="bar",s.Bars="bars",s.BlankAreas="blankAreas",s.Border="border",s.Breakdown="breakdown",s.CalloutValue="calloutValue",s.CategoryLabels="categoryLabels",s.CellElements="cellElements",s.Colors="colors",s.Columns="columns",s.DataLabels="labels-applySettingsTo-series",s.Datapoint="datapoint",s.Date="date",s.Default="default",s.DefaultColor="defaultColor",s.Detail="detail",s.Distance="distance",s.Divider="divider",s.ExpandCollapseButtons="expandCollapseButtons",s.Fill="fill",s.Gap="gap",s.Glow="glow",s.GridHorizontal="gridHorizontal",s.Gridlines="gridlines",s.GridVertical="gridVertical",s.Handles="handles",s.Horizontal="horizontal",s.Icon="icon",s.Icons="icons",s.Image="image",s.ImageHeight="imageHeight",s.Labels="labels",s.Layout="layout",s.Legend="legend",s.LeaderLine="leaderLine",s.Levels="levels",s.Lines="lines-applySettingsTo-series",s.Markers="markers",s.MarkersSeries="markers-applySettingsTo-series",s.Options="options",s.Outline="outline",s.Padding="padding",s.PendingChangesIcon="pendingChangesIcon",s.PercentBarLabel="percentBarLabel",s.PrimaryLine="primaryLine",s.Range="range",s.Rows="rows",s.rowWithReferenceText="rowWithReferenceText",s.SecondaryLine="secondaryLine",s.Selection="selection",s.SelectionIcon="selectionIcon",s.SeriesLabels="seriesLabels-applySettingsTo-series",s.ShadeArea="shadeArea",s.Shadow="shadow",s.Shape="shape",s.SizeAndStyle="sizeAndStyle",s.Spacing="spacing",s.Sparklines="sparklines",s.Style="style",s.SubTitle="subtitle",s.Target="target",s.Text="text",s.Title="title",s.Tooltip="tooltip",s.Totals="totals",s.TrendAxis="trendAxis",s.Type="type",s.UrlIcon="urlIcon",s.Values="values",s.ValuesScalar="valuesScalar",s.Vertical="vertical",s.VisualPlaceholderGroup="visualPlaceholderGroup",s.VisualBorder="visualBorder",s.Zoom="zoom",s.Anomaly="anomaly",s.ConfidenceBand="confidenceband",s.ConfidenceArea="confidenceArea",s.ConfidenceLine="confidenceLine",s.DataLabel="dataLabel",s.ExpectedRange="expectedrange",s.ForecastLine="forecastline",s.Line="line",s.Measure="measure",s.TooltipTitle="tooltipTitle",s}({}),t=function(s){return s.Area="area",s.Background="background",s.Bars="bars",s.Bubbles="bubbles",s.CalloutValue="callout-value",s.CalloutLabel="callout-label",s.Category="category",s.CategoryLabels="category-labels",s.Columns="columns",s.ColumnHeaders="columnHeaders",s.Controls="controls",s.DataLabels="data-labels",s.DecreaseFill="decrease-fill",s.Divider="divider",s.Fill="fill",s.GridCellSubheader="grid-cell-subheader",s.HorizontalGridlines="horizontal-gridlines",s.IncreaseFill="increase-fill",s.SecondaryHorizontalGridlines="secondary-horizontal-gridlines",s.LegendItems="legend-items",s.LegendTitle="legend-title",s.Lines="lines",s.Map="map",s.Markers="markers",s.MeasureValues="measure-values",s.OtherFill="other-fill",s.Ribbon="ribbon",s.RowHeaders="rowHeaders",s.Percents="percents",s.SeriesLabels="series-labels",s.Slices="slices",s.SmallMultiplesGridlines="small-multiples-gridlines",s.SubTitle="subtitle",s.SubTotalColumn="subtotal-column",s.SubTotalRow="subtotal-row",s.SubTotalRowLabels="subtotal-row-labels",s.Target="target",s.TargetLabel="target-label",s.Tile="tile",s.Title="title",s.Totals="totals",s.TotalColumn="total-column",s.TotalColumnLabels="total-column-labels",s.TotalFill="total-fill",s.TotalRow="total-row",s.TotalRowLabels="total-row-labels",s.TotalLabels="total-labels",s.Values="values",s.VerticalGridlines="vertical-gridlines",s.VisualArea="visual-area",s.XAxisTitle="x-axis-title",s.XAxisValues="x-axis-values",s.XAxisZoomSlider="x-axis-zoom-slider",s.Y1AxisTitle="y1-axis-title",s.Y1AxisValues="y1-axis-values",s.Y1AxisZoomSlider="y1-axis-zoom-slider",s.Y2AxisTitle="y2-axis-title",s.Y2AxisValues="y2-axis-values",s.Y2AxisZoomSlider="y2-axis-zoom-slider",s}({}),o=Object.freeze({[t.Background]:10,[t.Title]:20,[t.LegendTitle]:30,[t.LegendItems]:40,[t.Y1AxisTitle]:50,[t.Y1AxisValues]:60,[t.Y1AxisZoomSlider]:70,[t.Y2AxisTitle]:80,[t.Y2AxisValues]:90,[t.Y2AxisZoomSlider]:100,[t.XAxisValues]:110,[t.XAxisTitle]:120,[t.XAxisZoomSlider]:130,[t.HorizontalGridlines]:140,[t.VerticalGridlines]:150,[t.Lines]:1e3,[t.Markers]:1010,[t.Columns]:1020,[t.Bars]:1030,[t.DataLabels]:1040,[t.TotalLabels]:1050,[t.SeriesLabels]:1060,[t.CategoryLabels]:1070}),d=1e3,n=999999,c="#FFF"},994131:function(ve,z,e){e.d(z,{C5:function(){return h},FJ:function(){return v},Ps:function(){return l},Rc:function(){return g},U$:function(){return V},U8:function(){return u},Yz:function(){return y},bV:function(){return p},io:function(){return f},je:function(){return D},ke:function(){return M},s6:function(){return E},xS:function(){return C}});var a=e(647132),i=e(18122),r=e(283104),t=e(999904),o=e(757406),d=e(889953),n=d.Pe,c="dataPoint",s="fillRule";function p(F){if(F)for(var R in F){var B=F[R];for(var A in B.properties){var W=B.properties[A];if(W.type&&W.type[s])return W.rule}}}function l(F){if(F&&F.values&&F.values.grouped){var R=F.values.grouped();return(0,r.i3)(R,"Gradient")}return-1}function u(F){if(null==F)return null;var R=l(F);return-1===R?null:F.values[R]}function v(F){return l(F)>=0}function g(){return{diverging:!1,minColor:null,midColor:null,maxColor:null,minValue:void 0,midValue:void 0,maxValue:void 0,nullStrategy:n,nullColor:null}}function E(){return M()}function D(F,R,B){var G,K,A=(0,t.D8)(B,c,null),W=y(B);if(W)switch($.isNumeric(R)&&(G=void 0!==R?(0,o.gd)(+R):void 0),_.includes(["minColor","midColor","maxColor","nullColor"],F)&&(K=(0,o.yW)(R&&R.value,F)),F){case"minColor":!function(F,R){F.linearGradient2?F.linearGradient2.min.color=R:F.linearGradient3&&(F.linearGradient3.min.color=R)}(W,K);break;case"midColor":!function(F,R){F.linearGradient3&&(F.linearGradient3.mid.color=R)}(W,K);break;case"maxColor":!function(F,R){F.linearGradient2?F.linearGradient2.max.color=R:F.linearGradient3&&(F.linearGradient3.max.color=R)}(W,K);break;case"nullColor":!function(F,R){F.linearGradient2?F.linearGradient2.nullColoringStrategy.color=R:F.linearGradient3&&(F.linearGradient3.nullColoringStrategy.color=R)}(W,K);break;case"minValue":!function(F,R){F.linearGradient2?F.linearGradient2.min.value=R:F.linearGradient3&&(F.linearGradient3.min.value=R)}(W,G);break;case"midValue":!function(F,R){F.linearGradient3&&(F.linearGradient3.mid.value=R)}(W,G);break;case"maxValue":!function(F,R){F.linearGradient2?F.linearGradient2.max.value=R:F.linearGradient3&&(F.linearGradient3.max.value=R)}(W,G);break;case"nullStrategy":!function(F,R){F.linearGradient2?F.linearGradient2.nullColoringStrategy.strategy=R:F.linearGradient3&&(F.linearGradient3.nullColoringStrategy.strategy=R)}(W,R);break;case"diverging":W=R?{linearGradient3:_.assign({mid:{color:(0,o.yW)(null,"midColor")}},W.linearGradient2)}:{linearGradient2:W.linearGradient3},A.properties[s]=W;break;case"revertToDefault":W=E(),A.properties[s]=W;break;default:i.Y.assertFail(`updateFillRule - Unexpected propertyName: ${F}`)}}function h(F){return F?f(F):g()}function C(F){return F?function(F){var R,B,A,W,G,K,q,ne=n,k=void 0!==F.linearGradient3,L=F?.linearGradient2,X=F?.linearGradient3;L?(R=L.max?.color,B=L.min?.color,G=L.max?.value,q=L.min?.value,ne=L.nullColoringStrategy?.strategy,W=L.nullColoringStrategy?.color):X&&(R=X.max?.color,A=X.mid?.color,B=X.min?.color,G=X.max?.value,K=X.mid?.value,q=X.min?.value,ne=X.nullColoringStrategy?.strategy,W=X.nullColoringStrategy?.color);var Y={diverging:k,minColor:b(B),midColor:b(A),maxColor:b(R),nullStrategy:ne,nullColor:b(W)};return null!=q&&(Y.minValue=q),null!=K&&(Y.midValue=K),null!=G&&(Y.maxValue=G),Y}(F):g()}function y(F){return(0,t._W)(F,{objectName:c,propertyName:s},null)}function f(F){var R,B,A,W,G,K,q,Y,ne=n,L=F.linearGradient2,X=F.linearGradient3;if(L){R=L.max.color.value,B=L.min.color.value;var Q=L.max.value;Q&&(G=Q.value);var H=L.min.value;H&&(q=H.value),Y=L.nullColoringStrategy}else if(X){R=X.max.color.value,A=X.mid.color.value,B=X.min.color.value;var te=X.max.value;te&&(G=te.value);var ee=X.mid.value;ee&&(K=ee.value);var ue=X.min.value;ue&&(q=ue.value),Y=X.nullColoringStrategy}if(Y){ne=Y.strategy.value;var Te=Y.color;Te&&(W=Te.value)}var He={diverging:void 0!==F.linearGradient3,minColor:b(B),midColor:b(A),maxColor:b(R),nullStrategy:ne,nullColor:b(W)};return null!=q&&(He.minValue=q),null!=K&&(He.midValue=K),null!=G&&(He.maxValue=G),He}function b(F){if((0,a.Lo)(F))return F}function V(F,R){var B=[];return B.push(F.minColor||R.minColor.value),F.diverging&&B.push(F.midColor||R.midColor.value),B.push(F.maxColor||R.maxColor.value),B.join(",")}function M(F){var R=h(F),B={linearGradient2:{min:{color:(0,o.yW)(R.minColor,"minColor")},max:{color:(0,o.yW)(R.maxColor,"maxColor")},nullColoringStrategy:{strategy:(0,o.Qq)(R.nullStrategy)}}},A=B.linearGradient2;return null!=R.minValue&&(A.min.value=(0,o.gd)(R.minValue)),null!=R.maxValue&&(A.max.value=(0,o.gd)(R.maxValue)),R.nullStrategy===d.iQ&&(A.nullColoringStrategy.color=(0,o.yW)(R.nullColor,"nullColor")),B}},304408:function(ve,z,e){e.d(z,{Fz:function(){return F},Ls:function(){return T},Mr:function(){return V},P3:function(){return M},Pe:function(){return R},Qi:function(){return g},Qv:function(){return E},RS:function(){return l},Rs:function(){return j},TA:function(){return O},Td:function(){return v},UF:function(){return y},WZ:function(){return D},ZU:function(){return s},Zy:function(){return x},f2:function(){return m},in:function(){return N},ll:function(){return S},lm:function(){return f},qE:function(){return h},qS:function(){return u},qX:function(){return B},rT:function(){return P},sk:function(){return A},t9:function(){return I},zD:function(){return W}});var a=e(432262),i=e(495123),r=e(715068),t=e(995268),o=e(789327);function s(){var K=d3.event;return{x:K.clientX,y:K.clientY}}var p="keydown.clearCatcher";function l(K,q){K.on(p,()=>{var ne=d3.event;ne.keyCode===a.cK.cKeyCode&&ne.ctrlKey&&ne.shiftKey&&(q.handleClearSelection(),ne.preventDefault(),ne.stopPropagation())})}function u(K){K.on(p,null)}function v(K,q){m(K,q),P(K,q)}function m(K,q){K.on("click",ne=>{F(h(ne)?ne.data:ne,q)}),K.on("keydown.select",ne=>{var k=d3.event,L=k.keyCode;L!==a.cK.spaceKeyCode&&L!==a.cK.enterKeyCode||(F(h(ne)?ne.data:ne,q),k.preventDefault(),k.stopPropagation())},!0)}function g(K){K.on("click",null),K.on("keydown.select",null)}function E(K){K.on("contextmenu",null)}function D(K){g(K),E(K)}function h(K){return!!K.data}var C="keydown.dataPoint";function y(K,q,ne){K.on(C,()=>{var k=d3.event,L=k.keyCode;(L===a.cK.tabKeyCode||L===a.cK.leftArrowKeyCode||L===a.cK.rightArrowKeyCode||L===a.cK.upArrowKeyCode||L===a.cK.downArrowKeyCode)&&(O(X=>{k.preventDefault(),k.stopPropagation();var Y=S(X)?X.data:X;q.handleKeyDownEvent(ne,Y.categoryIndex,Y.seriesIndex,L,k.shiftKey)},void 0),d3.select(document.activeElement).dispatch("moveToolTipWithKeyboardAction",{bubbles:!0,cancelable:!1,detail:void 0}))})}function f(K){K.on(C,null)}function S(K){return!!K.data}var b="keydown.enterPlotArea";function V(K,q,ne){K.on(b,()=>{var k=d3.event,L=k.keyCode;if(L===a.cK.enterKeyCode)k.preventDefault(),k.stopPropagation(),q.goToFirstElement(ne);else if(L===a.cK.escKeyCode&&k.target!==K.node()){k.preventDefault(),k.stopPropagation();var X=K.node();i.C.focus(X)}})}function M(K){K.on(b,null)}function P(K,q){K.on("contextmenu",ne=>{U(h(ne)?ne.data:ne,q)})}function T(K,q,ne){(function(K,q,ne){K.on(q.node(),"click",()=>{O(k=>{F(h(k)?k.data:k,ne)},void 0)}),K.on(q.node(),"keydown.select",()=>{var L=d3.event.keyCode;(L===a.cK.spaceKeyCode||L===a.cK.enterKeyCode)&&O(X=>{F(h(X)?X.data:X,ne)},!0)},!0)})(K,q,ne),I(K,q,ne)}function N(K,q){K.on(q.node(),"click",()=>null),K.on(q.node(),"keydown.select",()=>null)}function I(K,q,ne){K.on(q.node(),"contextmenu",()=>{O(k=>{U(h(k)?k.data:k,ne)},void 0)})}function O(K,q){var ne=d3.event,L=d3.select(ne.target).datum();L&&(K(L),q&&(ne.preventDefault(),ne.stopPropagation()))}function x(K,q,ne,k){K.selectAll("use").remove(),K.append("use").attr("href",`#${t.f7}-${q}-${ne}`).style("pointer-events","none").attr("role",k??null).attr("aria-hidden",!0).style("fill","none")}function j(K){K.selectAll("use").remove()}function U(K,q){var ne=d3.event;if(!i.C.isCtrlOrMeta(ne)){ne.preventDefault(),(0,o.o)(ne);var k=s();q.handleContextMenu(K,k)}}function F(K,q){var ne=s(),k=d3.event;(function(K){K.selectionHandled=!0})(k),q.handleSelection(K,(0,i.t)(k),ne)}function R(K,q,ne){var k=G(K);q.length>1?ne.handleMultipleSelection(q,k,!0):ne.handleSelection(q[0],k,{x:K?.clientX,y:K?.clientY})}function B(K,q){var ne=d3.event;!i.C.isCtrlOrMeta(ne)&&!function(K){return!!K.selectionHandled}(ne)&&(!q||q?.(ne))&&K.handleClearSelection()}function A(K,q,ne){var k=G(K);ne.handleMultipleSelection(q,k,!0)}function W(K,q,ne){ne.handleMultipleSelection(K,q,!0)}function G(K){return i.C.isCtrlOrMeta(K)?r.v.Difference:K.shiftKey?r.v.Union:r.v.Single}},363844:function(ve,z,e){e.d(z,{JA:function(){return E},RD:function(){return i},t:function(){return g},y9:function(){return m}});var a=e(18122),i=function(D){return D[D.Small=0]="Small",D[D.Big=1]="Big",D}({}),r="powervisuals-glyph",t="big-kpi",o=["kpi-red","kpi-yellow","kpi-green"],d={kpiIconClass:"circle",statusValues:o},n={kpiIconClass:"",statusValues:["circle-x kpi-red","circle-exclamation kpi-yellow","circle-checkmark kpi-green"]},c={kpiIconClass:"traffic-light",statusValues:o},s={kpiIconClass:"",statusValues:["rhombus kpi-red","triangle kpi-yellow","circle kpi-green"]},p={kpiIconClass:"",statusValues:["circle-empty","circle-one-quarter","circle-half","circle-three-quarters","circle-full"]},l={"THREE CIRCLES COLORED":d,"TRAFFIC LIGHT - SINGLE":d,"THREE FLAGS COLORED":{kpiIconClass:"flag",statusValues:o},"ROAD SIGNS":n,"THREE SYMBOLS CIRCLED COLORED":n,"TRAFFIC LIGHT":c,"THREE TRAFFIC LIGHTS RIMMED COLORED":c,"THREE SYMBOLS UNCIRCLED COLORED":{kpiIconClass:"",statusValues:["x kpi-red","exclamation kpi-yellow","checkmark kpi-green"]},SHAPES:s,"SMILEY FACE":s,THERMOMETER:s,CYLINDER:s,"THREE SIGNS COLORED":s,"THREE STARS COLORED":{kpiIconClass:"star-stacked",statusValues:["star-empty","star-half-full","star-full"]},"FIVE BARS COLORED":{kpiIconClass:"bars-stacked",statusValues:["bars-zero","bars-one","bars-two","bars-three","bars-four"]},"FIVE BOXES COLORED":{kpiIconClass:"boxes-stacked",statusValues:["boxes-zero","boxes-one","boxes-two","boxes-three","boxes-four"]},"FIVE QUARTERS COLORED":p,"GAUGE - ASCENDING":p,"GAUGE - DESCENDING":{kpiIconClass:"",statusValues:["circle-full","circle-three-quarters","circle-half","circle-one-quarter","circle-empty"]},"STANDARD ARROW":{kpiIconClass:"",statusValues:["arrow-down","arrow-right-down","arrow-right","arrow-right-up","arrow-up"]},"VARIANCE ARROW":{kpiIconClass:"",statusValues:["arrow-down kpi-red","arrow-right kpi-yellow","arrow-up kpi-green"]},"STATUS ARROW - ASCENDING":{kpiIconClass:"",statusValues:["arrow-down kpi-red","arrow-right-down kpi-yellow","arrow-right kpi-yellow","arrow-right-up kpi-yellow","arrow-up kpi-green"]},"STATUS ARROW - DESCENDING":{kpiIconClass:"",statusValues:["arrow-up kpi-green","arrow-right-up kpi-yellow","arrow-right kpi-yellow","arrow-right-down kpi-yellow","arrow-down kpi-red"]}};function u(D,h){var C=parseFloat(h);if(D){var y=l[D.graphic.toUpperCase()];if(y&&!isNaN(C)){var f=y.statusValues;return D.normalizedFiveStateKpiRange&&5===f.length&&(C*=2),[y.kpiIconClass,f[C+(f.length>>1)]].join(" ").trim()}}}function v(D,h){if(D)return h===i.Big?[r,t,D].join(" "):[r,D].join(" ")}function m(D,h,C){return a.Y.assertValue(D,"kpi"),a.Y.assertValue(h,"value"),v(u(D,h),C)}function g(D,h,C){var y=D&&D.kpi;if(y){var f=u(y,h);if(f)return{caption:f,statusGraphic:y.graphic,class:v(f,C)}}}function E(D){return!(!D||!D.kpi)}},917177:function(ve,z,e){e.d(z,{fl:function(){return m},KS:function(){return v}});var r,t,a=e(18122),i=e(924256);window.globalMapControlLoaded=function(){a.Y.assertValue(r,"WaitForMSMapLoad"),r.resolve(void 0)};var l=e(816360);function v(D,h,C){return new E(D,h,C.bingMapControlUrl)}var m=(D,h)=>new E(D,h,"https://www.bing.com/api/maps/mapcontrol");class E{constructor(h,C,y){this.promiseFactory=h,this.loader=C,this.mapControlUrl=y,this.fallbackDomain="atlas.microsoft.com"}ensureMap(h){return function(D,h,C,y){if(r)return r.promise;var f=C=(0,i.LF)(C,{onscriptload:"globalMapControlLoaded",callback:"globalMapControlLoaded"},!0),S=(0,i.LT)(C),b=S.c||S.culture,V={};if(_.isEmpty(y)||(V.setLang=y),!_.isEmpty(b)){var M=b.split("-",2);V.setMkt=b,V.UR=M.length>1?M[1]:b,V.setLang=M[0]}return f=(0,i.LF)(C,V,!0),r=D.defer(),h.require({javascript:f}),r.promise}(this.promiseFactory,this.loader,this.mapControlUrl,h)}createMapControl(h,C){return new Microsoft.Maps.Map(h,C)}loadAzureMapScripts(h){return function(D,h,C){if(t)return t.promise;var y="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.js",f="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.css";return C&&(y="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.js",f="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.css"),t=D.defer(),h.require({javascript:y,css:[f]}).then(M=>{var P=window;P.atlas=P.atlas||M,P.atlas||t.reject("atlas module is empty"),Promise.all([h.require({javascript:"https://atlas.microsoft.com/sdk/javascript/spatial/0/atlas-spatial.min.js"}),h.require({javascript:"https://atlas.microsoft.com/sdk/javascript/drawing/0.1/atlas-drawing.min.js",css:["https://atlas.microsoft.com/sdk/javascript/drawing/0/atlas-drawing.min.css"]})]).then(()=>t.resolve(void 0)).catch(T=>t.reject(T))},M=>t.reject(M)),t.promise}(this.promiseFactory,this.loader,h)}loadShpJs(){return this.shpJs||(this.shpJs=this.loader.require({javascript:"https://atlas.microsoft.com/sdk/javascript/spatial/0/shpjs.min.js"})),this.shpJs}createAzureMapControl(h){var{element:C,azureMapsDataResidency:y,azureMapsEndpoint:f,isPublishToWebEmbedHost:S}=h;this.configureDefaultAzureMapsDomain(y,S,f);var b=this.getMapConstructorOptions(h);return this.createAzureMapControlCore(C,b)}configureDefaultAzureMapsDomain(h,C,y){if(h){var f=y.getDomainUrl$().getValue();if(!C)return void atlas.setDomain(f.azureMapsDomainUrl);atlas.setDomain(this.fallbackDomain)}}getMapConstructorOptions(h){var{locale:C,sasTokenCallback:y,azureMapsEndpoint:f,supportHeadlessRendering:S,progressiveLoading:b,defaultStyle:V,showLabels:M,renderWorldCopies:P,preserveDrawingBufferForExport:T,isPublishToWebEmbedHost:N}=h,w={language:C,style:V||l.Oy.GrayscaleLight,view:"Auto",disableTelemetry:!0,progressiveLoading:b,showLabels:M,renderWorldCopies:P};return(S||T)&&(w.preserveDrawingBuffer=!0),y?w.authOptions={authType:atlas.AuthenticationType.sas,getToken:y}:a.Y.assertFail("Azure Maps control requires a SAS token callback."),this.setRequestTransformForPublishToWeb(w,f,N),w}setRequestTransformForPublishToWeb(h,C,y){y&&(h.transformRequest=(f,S)=>{try{if(f.startsWith("blob:"))return{url:f};var b=new URL(f),V=`${this.normalizePath(b.pathname)}${b.search}`,M=C.resolveAzureMapsEndpoint(y,V),P=I=>this.isValidUrl(I)?{url:I}:void 0;return P(M)||P(`https://${this.fallbackDomain}${V}`)||(a.Y.assertFail("Failed to transform the Azure Maps endpoint URL. "),{url:f})}catch(I){return a.Y.assertFail(`Failed to transform the Azure Maps endpoint URL.${I} `),{url:f}}})}normalizePath(h){return`/${h}`.replace(/[/]{1,}/g,"/")}isValidUrl(h){try{var C=new URL(h);return!("https:"!==C.protocol||!C.host)}catch{return!1}}createAzureMapControlCore(h,C){return new atlas.Map(h,C)}isAzureMapSupported(){return atlas.isSupported(!1)}}},440015:function(ve,z,e){e.d(z,{eP:function(){return V},wi:function(){return b},Zz:function(){return M},No:function(){return P},e4:function(){return N},qS:function(){return T},HT:function(){return Oe},p1:function(){return g},rD:function(){return C},l0:function(){return m},hN:function(){return y},fl:function(){return O},v8:function(){return W},k6:function(){return I},Rq:function(){return x},PB:function(){return U},C1:function(){return F},nh:function(){return j},wB:function(){return s},K4:function(){return p},$8:function(){return A},TD:function(){return Fe},GS:function(){return Qe},t_:function(){return q},J_:function(){return X},Qi:function(){return ne},F$:function(){return u},Np:function(){return l},wF:function(){return Q},fd:function(){return Y},Jy:function(){return c},iY:function(){return Ee},zR:function(){return v},kF:function(){return At},Kn:function(){return ue},rP:function(){return n}});var a=e(18122),i=e(168676),t=e(422118);function n(he){if(he){var xe=he._v8Map&&he._v8Map._sizeHelper;xe&&_.isFunction(xe.pollSize)?xe.pollSize():a.Y.assertFail("Smooth resize animation hack not working because V8 map control pollSize function not found")}}function c(he){var xe=Microsoft.Maps.MapTypeId[he];return a.Y.assertValue(xe,"Map theme did not select a MapTypeId"),xe}var s={MaxBingRequest:6,MaxCacheSize:3e3,MaxCacheSizeOverflow:100,MaxPersistedSpace:24e5,MaxAge:43200,BingKey:"AoW85FdF-eTJavFmWhZjaQ970kwG1FuainbyVSlP5HglkbhVVIFOyNwlaQxAIj-S"},p=16;function l(he,xe){return he?u(he.latitude,he.longitude):xe}function u(he,xe){return isNaN(he)||isNaN(xe)||null==he||null==xe||he<-90||he>90||xe<-180||xe>180}function v(he){for(;he<-180;)he+=360;for(;he>180;)he-=360;return he}var m=-85.05112878,g=85.05112878,E=-180,D=180,C=23,y=1,f=11,b="foregroundDark",V={Address:"Address",City:"City",Continent:"Continent",CountryRegion:"Country",County:"County",Longitude:"Longitude",Latitude:"Latitude",Place:"Place",PostalCode:"PostalCode",StateOrProvince:"StateOrProvince"},M="mapLassoButton",P="mapLassoButtonHighContrast",T=`.${M}`,N="MapLassoButton",I=".NavBar_Container",O="NavBar_Button",x="NavButton_Icon",j="Rectangle_Select",U="plot-area",F=`.${U}`,R="NavBar_zoomIn",B="NavBar_zoomOut",A=`.${R}, .${B}`,W=`${T}, .${R}, #${B}`,G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-";function K(he,xe,Se){return Math.min(Math.max(he,xe),Se)}function q(){return ne(f)}function ne(he){return 23===he?2147483648:Math.floor(he)===he?256<<he:256*Math.pow(2,he)}function k(he,xe,Se){var Ae=xe/360,Ie=Math.sin(he*Math.PI/180),pe=-Math.log((1+Ie)/(1-Ie))/(4*Math.PI);if(!Se)return{x:Ae,y:pe};Se(Ae,pe)}function X(he,xe){switch(he){case V.Continent:case V.CountryRegion:return{level:0,maxPolygons:30,strokeWidth:0};case V.City:return{level:1,maxPolygons:5,strokeWidth:xe<200?6:0};default:return xe<100?{level:1,maxPolygons:5,strokeWidth:6}:xe<200?{level:0,maxPolygons:5,strokeWidth:6}:{level:0,maxPolygons:5,strokeWidth:0}}}function Y(he,xe,Se){var pe,Ae=Se&&Se.xAdjust,Ie=Se&&Se.unconstrained,Je=new Float64Array(he.length),Pe=(De,lt)=>{De+=.5,lt+=.5,De*=xe,lt*=xe,De+=.5,lt+=.5,Ae&&(De+=Ae*xe),Je[pe]=De,Je[pe+1]=lt};for(pe=0;pe<he.length;pe+=2){var Me=he[pe],Ge=he[pe+1];Ie||(Me=K(Me,m,g),Ge=K(Ge,E,D)),k(Me,Ge,Pe)}return Je}function Q(he,xe,Se,Ae){var Ie=Y(new Float64Array([he,xe]),ne(Se),Ae);return{x:Ie[0],y:Ie[1]}}function ue(he,xe,Se){var Ae=function(he,xe,Se){return function(he,xe){var Ae=Math.exp(4*-xe*Math.PI);return{latitude:180*Math.asin((Ae-1)/(Ae+1))/Math.PI,longitude:360*he}}((he-.5)/Se-.5,(xe-.5)/Se-.5)}(he,xe,ne(Se));return new Microsoft.Maps.Location(Ae.latitude,Ae.longitude)}function Te(he,xe){return Q(he.latitude,he.longitude,xe)}function He(he,xe){var Se=Te(he.getNorthwest(),xe),Ae=Te(he.getSoutheast(),xe);return new i.r(Se.x,Se.y,Ae.x-Se.x,Ae.y-Se.y)}function mt(he){var xe=function(he){for(var xe={latitude:-90,longitude:180},Se={latitude:90,longitude:-180},Ae=0;Ae<he.length;Ae+=2)xe.latitude=Math.max(he[Ae],xe.latitude),xe.longitude=Math.min(he[Ae+1],xe.longitude),Se.latitude=Math.min(he[Ae],Se.latitude),Se.longitude=Math.max(he[Ae+1],Se.longitude);return xe.longitude=K(xe.longitude,-180,180),Se.longitude=K(Se.longitude,-180,180),{top:xe.latitude,bottom:Se.latitude,left:xe.longitude,right:Se.longitude}}(he);return Microsoft.Maps.LocationRect.fromCorners(new Microsoft.Maps.Location(xe.top,xe.left),new Microsoft.Maps.Location(xe.bottom,xe.right))}function At(he){for(var xe=[],Se=0,Ae=0,Ie=0,Je=4294967296;Se<he.length;){for(var pe=0,Pe=0;;){if(Se>=he.length)return null;var Me=G.indexOf(he.charAt(Se++));if(-1===Me)return null;var Ge=(31&Me)*Math.pow(2,Pe);if(pe=(Ge/Je|pe/Je)*Je+((Ge%Je|pe%Je)>>>0),Pe+=5,Me<32)break}var It=Math.floor((Math.sqrt(8*pe+5)-1)/2);pe-=It*(It+1)/2;var Ot=Math.floor(pe),de=It-Ot,Ye=1e-5*(Ae+=de=de>>1^-(1&de));xe.push(K(1e-5*(Ie+=Ot=Ot>>1^-(1&Ot)),-90,90)),xe.push(Ye)}return new Float64Array(xe)}function Qe(he,xe){return xe&&(he?(xe.west<he.west&&(he.west=xe.west),xe.east>he.east&&(he.east=xe.east),xe.south<he.south&&(he.south=xe.south),xe.north>he.north&&(he.north=xe.north)):he={...xe}),he}function Fe(he){if(!_.isEmpty(he)){var xe=!1;for(var Se of he)Se.nativeBing&&!Se.geographic&&(Se.geographic=At(Se.nativeBing),Se.geographic&&(xe=!0));if(xe){var Ae=[];for(var Ie of he){var Je=Ie.geographic;if(Je){var pe=mt(Je);Ie.adjustedBounds={west:pe.getWest(),north:pe.getNorth(),east:pe.getEast(),south:pe.getSouth()},Ie.absoluteBounds=He(pe,f),Ae.push({location:Ie,bounds:pe,xAdjust:0})}}for(var Pe,Me=-1,Ge=0;Ge<Ae.length;++Ge){var De=Ae[Ge],lt=De.bounds.width*De.bounds.height;(-1===Me||lt>Pe)&&(Me=Ge,Pe=lt)}var ct=q(),vt=Ae[Me].bounds.getWest(),Vt=Ae[Me].bounds.getEast();for(var It of Ae){var Ot=It.bounds,de=Ot.getWest(),Ze=Ot.getEast();if(Ze<vt&&de+360-Vt<vt-Ze&&(It.xAdjust=1),de>Vt&&vt-(Ze-360)<de-Vt&&(It.xAdjust=-1),It.xAdjust){var le=360*It.xAdjust,me=It.location.adjustedBounds;me.west+=le,me.east+=le,It.location.absoluteBounds.left+=It.xAdjust*ct}}for(var Be of Ae){var Ke=Be.location,Xe=Ke.geographic;Xe&&(Ke.absolute||(Ke.absolute=Y(Xe,ct,{xAdjust:Be.xAdjust})))}}}}function Ee(he,xe,Se){var Ae=he.tryLocationToPixel(he.getCenter(),Microsoft.Maps.PixelReference.page);!function(he,xe,Se){var Ae=new Microsoft.Maps.Point(xe,Se),Ie=he.tryPixelToLocation(Ae,Microsoft.Maps.PixelReference.page);he.setView({center:Ie})}(he,Ae.x-xe,Ae.y-Se)}class Oe{constructor(){this._locationRect=new Microsoft.Maps.LocationRect(new Microsoft.Maps.Location(30,-30),60,60)}reCalc(xe,Se,Ae){var Ie=[this._locationRect.getNorthwest(),this._locationRect.getSoutheast()];if(!this._baseRect){var Je=Te(this._locationRect.getNorthwest(),11),pe=Te(this._locationRect.getSoutheast(),11);this._baseRect=new i.r(Je.x,Je.y,pe.x-Je.x,pe.y-Je.y)}var Pe=xe.tryLocationToPixel(Ie),Me=Pe[0].x+Se/2,Ge=Pe[0].y+Ae/2,De=xe.getZoom()-11,lt=Math.pow(2,De);this._currentRect=new i.r(Me,Ge,this._baseRect.width*lt,Pe[1].y-Pe[0].y)}get scale(){return this._baseRect?this._currentRect.width/this._baseRect.width:1}get transform(){var xe=this._baseRect,Se=this._currentRect,Ae=new t.dL;return Ae.translate(Se.left,Se.top),Ae.scale(Se.width/xe.width,Se.height/xe.height),Ae.translate(-xe.left,-xe.top),Ae}transformToString(xe){var Se=xe.matrix;return`matrix(${Se.m00} ${Se.m10} ${Se.m01} ${Se.m11} ${Se.m02} ${Se.m12})`}}},509985:function(ve,z,e){e.d(z,{C4:function(){return m},EJ:function(){return u},IG:function(){return p},Q1:function(){return E},xo:function(){return l}});var a=e(647132),i=e(512655),r=e(18122),t=e(495123),o=e(204687),d=e(701330),n=e(667690),c=1,s=2;function p(D){return u(D,d.F0)}function l(D){if((0,o.R)(D))return 0;switch(D){case o._Q.x:case o._Q.plus:case o._Q.lowerErrorBar:case o._Q.upperErrorBar:return c;case o._Q.shortDash:case o._Q.longDash:return s;default:r.Y.assertNever(D)}}function u(D,h){switch(D){case o._Q.circle:return`M 0 0 m ${-h} 0 a ${h} ${h} 0 1 0 ${2*h} 0 a ${h} ${h} 0 1 0 ${-2*h} 0`;case o._Q.square:return`M 0 0 m ${-h} ${-h} l ${2*h} 0 l 0 ${2*h} l ${-2*h} 0 z`;case o._Q.diamond:return`M 0 0 m ${-h} 0 l ${h} ${-h} l ${h} ${h} l ${-h} ${h} z`;case o._Q.triangle:var C=1.732;return`M 0 0 m ${-h} ${h/C} l ${h} ${-h*C} l ${h} ${h*C} z`;case o._Q.droplet:return r.Y.assert(()=>1===h,"Droplet marker path is hardcoded for r=1"),"M 1.123 -0.214 C 1.123 0.123 0.947 0.435 0.749 0.626 L 0.139 1.275 C 0.065 1.353 -0.059 1.353 -0.133 1.275 L -0.743 0.626 C -1.023 0.346 -1.117 0.118 -1.117 -0.214 C -1.117 -0.832 -0.615 -1.333 0.003 -1.333 C 0.621 -1.333 1.123 -0.832 1.123 -0.214 Z";case o._Q.x:return`M 0 0 m ${-h} ${-h} l ${2*h} ${2*h} m ${2*-h} 0 l ${2*h} ${2*-h}`;case o._Q.shortDash:return`M 0 0 l ${h} 0`;case o._Q.longDash:return`M 0 0 m ${-h} 0 l ${2*h} 0`;case o._Q.plus:return`M 0 0 m ${-h} 0 l ${2*h} 0 m ${-h} ${-h} l 0 ${2*h}`;case o._Q.lowerErrorBar:return`M 0 0 m 0 ${-h} l 0 ${2*h} m ${-h} 0 l ${2*h} 0`;case o._Q.upperErrorBar:return`M 0 0 m 0 ${h} l 0 ${2*-h} m ${-h} 0 l ${2*h} 0`;default:r.Y.assertNever(D)}}function m(D,h){return Object.assign((0,n.g)(D?.stroke,h),{display:D?.show?null:"none",fill:D?.color??null,"fill-opacity":(0,a.yS)(D?.transparency??0)})}var E=(()=>{class D{constructor(){this.uniqueIdentifier=_.uniqueId()}ensureMarkers(C,y,f){var S=y;C.selectAll("marker").data(S.filter(b=>b.show),b=>this.getMarkerId(b)).join(b=>b.append("marker").call(V=>V.append("path").classed(D.markerPath.class,!0))).attrs({id:b=>this.getMarkerId(b),markerUnits:"strokeWidth",refX:0,refY:0,viewBox:"-12 -12 24 24",markerHeight:b=>2*b.size,markerWidth:b=>2*b.size}).select(D.markerPath.selector).attr("d",b=>b.lineRadius?function(D,h,C){var y=(C+1)/(h/5);switch(D){case o._Q.x:return`M ${y},1 L 4,5 L 5,4 L 1,0 L 5,-4 L 4,-5 L 0,-1 L -4,-5 L-5,-4 L -1,0 L -5,4 L -4,5 L-${y},1`;case o._Q.shortDash:return`M ${y},1 L 5,1 L 5,-1 L -${y},-1 L -${y},1`;case o._Q.longDash:return`M ${y},1 L 5,1 L 5,-1 L -5,-1 L -5,1 L -${y},1`;case o._Q.plus:return`M ${y},1 L 5,1 L 5,-1, L1,-1 L1,-5 L-1,-5 L-1,-1 L-5,-1 L-5,1 L-${y},1`;default:return p(D)}}(b.shape,b.size,b.lineRadius):p(b.shape)).attr("transform",b=>b.rotation?`rotate(${b.rotation})`:null).styles(b=>m(b,f)).style("stroke-width",b=>{var V=(b.stroke?.strokeWidth??0)/(b.size/5);return"uncertainty"===b.markerType?b.lineRadius?V:l(b.shape):(0,o.R)(b.shape)?b.stroke?.strokeShow?V:0:l(b.shape)})}static getTotalMarkerSize(C){return this.sizeRatio*function(D){return D?.show?(D.size??0)+(D.stroke?.strokeShow?(D.stroke.strokeWidth??0)/2:0):0}(C)}getMarkerId(C){return`${C.markerType}-${C.key}-${this.uniqueIdentifier}`}getMarkerKey(C){return C.show?`url('${t.C.isSafari()||t.C.isIOSWebView()?window.location.href:""}#${this.getMarkerId(C)}')`:null}}return D.markerPath=(0,i.tI)("markerPath"),D.sizeRatio=10/12,D})()},701330:function(ve,z,e){e.d(z,{F0:function(){return o},Mr:function(){return t},mx:function(){return a}});var a={show:"markerShow",shape:"markerShape",size:"markerShapeSize",color:"markerColor",transparency:"markerTransparency",rotation:"markerRotation",strokeShow:"markerBorderShow",strokeColorMatch:"markerBorderColorMatchFill",strokeColor:"markerBorderColor",strokeTransparency:"markerBorderTransparency",strokeWidth:"markerBorderWidth"},t=["show","shape","color","size","transparency","rotation"],o=5},995268:function(ve,z,e){e.d(z,{E9:function(){return s},Mw:function(){return i},SL:function(){return t},f7:function(){return r},lv:function(){return d},p7:function(){return c},tZ:function(){return o},wh:function(){return n},x1:function(){return l},zs:function(){return p}});var a=e(615309),i="setFocusRing",r="currentFocusDataPoint",t=.4,o=1,d=2,n=2,c=6,s=n+2*c,p=a.Hx.regular.css;function l(u,v,m,g,E=o){return m&&g&&v?u?E:0:g&&!v||m&&!u?t*E:E}},667690:function(ve,z,e){e.d(z,{L:function(){return n},g:function(){return l}});var a=e(200367),i=e(477070),r=e(995268),t=e(18122),o=e(647132);function n(u){var v=u.strokeColor;return u.strokeTransparency&&v&&(v=(0,a.Pz)(v,(0,o.yS)(u.strokeTransparency))),`${u.strokeWidth}px ${u.strokePattern} ${v}`}function c(u){var v=u.strokeAutoScale?u.strokeWidth/2:1;switch(u.strokePattern){case i.Ng.dashed:return[5*v,5*v].join(",");case i.Ng.dotted:return[0,5*v].join(",");case i.Ng.solid:return null;case i.Ng.custom:return function(u){var E=u.substring(0,50).split(/[,\s]+/).map(Number),D=E.filter(h=>!isNaN(h)&&h>=0&&h<=50);return D.splice(8),D.length!==E.length||_.isEmpty(E)?[0]:E}(u.strokeDashArray??"").map(m=>m*v).join(",");default:return t.Y.assertNever(u.strokePattern),null}}function s(u){switch(u.strokePattern){case i.Ng.dashed:return null;case i.Ng.dotted:case i.Ng.solid:return i.H4.round;case i.Ng.custom:return u.strokeDashCap===i.H4.none?"butt":u.strokeDashCap;default:return t.Y.assertNever(u.strokePattern),null}}function l(u,v,m="single"){return u?.strokeShow?{stroke:u.strokeColor,"stroke-opacity":null!=u.strokeTransparency?(0,o.yS)(u.strokeTransparency):null,"stroke-width":(v?.isHighContrast?r.lv:u.strokeWidth)*("double"===m?2:1),"stroke-linejoin":u.strokeLineJoin,"stroke-dasharray":c(u),"stroke-linecap":s(u)}:{stroke:null}}},262011:function(ve,z,e){e.d(z,{O:function(){return a},Y:function(){return i}});var a=["strokeShow","strokeColorMatch","strokeColor","strokeTransparency","strokeWidth","strokePattern","strokeLineJoin","strokeDashArray","strokeDashCap","strokeAutoScale"];function i(r,t){return t}},147938:function(ve,z,e){e.d(z,{Fx:function(){return f},Pw:function(){return N},Q0:function(){return P},Yc:function(){return C},Z$:function(){return b},eI:function(){return V},mf:function(){return D},nZ:function(){return m},sX:function(){return S},t5:function(){return E},w1:function(){return j}});var a=e(371577),i=e(693602),r=e(242264),t=e(890741),o=e(789327),d=e(715068),n=e(168676),c=e(693029),s=e(512655),p=e(18122),u=(0,s.tI)("sub-selectable"),v="sub-selection-data",m=(0,s.tI)("direct-edit-placeholder"),g=(0,s.tI)("direct-edit-placeholder-outline"),E="format-mode",D=u.class,h=u.selector,C="data-sub-selection-display-name",y="data-sub-selection-hide-outline",f="data-sub-selection-object-name",S="data-sub-selection-alt-object-name",b="data-sub-selection-type",V="data-sub-selection-direct-edit",M="data-sub-selection-sub-selected",P="data-sub-selection-ui-anchor",N="data-sub-selection-restricting-element",w="data-helper-host";function O(U){return`${U}.htmlSubSelection`}function x(U,F){return F.closest(`[${w}]`)===U}class j{constructor(F){this.hostElement=F.hostElement,this.host=d3.select(F.hostElement),this.hostServices=F.hostServices,this.subSelectionRegionOutlines={},this.renderer=F.renderer,this.targetSource=F.targetSource,this.scale=F.scale,this.selectorCallback=F.selectorCallback,this.customOutlineCallback=F.customOutlineCallback,this.customElementCallback=F.customElementCallback,this.customElementRegionOutlineIdCallback=F.customElementRegionOutlineIdCallback,this.subSelectionMetadataCallback=F.subSelectionMetadataCallback,this.customScrollCallbacks=F.customScrollCallbacks,this.host.attr(w,!0)}static createHtmlSubselectionHelper(F){return new j(F)}setCustomOutlineCallback(F){this.customOutlineCallback=F}destroy(){this.removeEventHandlers(),this.hideAllOutlines()}setFormatMode(F){this.formatMode!==F&&(this.formatMode=F,F?this.attachEventHandlers():(this.removeEventHandlers(),this.hideAllOutlines()))}attachEventHandlers(){this.host.on(O("pointerover"),()=>{this.onPointerOver(d3.event)}),this.host.on(O("click"),()=>{this.onClick(d3.event)}),this.host.on(O("contextmenu"),()=>{this.onContextMenu(d3.event)})}onVisualScroll(){this.scrollDebounce||(this.onVisualScrollStart(),this.scrollDebounce=_.debounce(()=>this.onVisualScrollEnd(),100)),this.scrollDebounce()}onVisualScrollStart(){this.customScrollCallbacks?this.customScrollCallbacks.onScrollStart():this.scrollSubSelections||(this.hideAllOutlines(),this.scrollSubSelections=this.subSelections)}onVisualScrollEnd(){if(this.customScrollCallbacks)return this.customScrollCallbacks.onScrollEnd(),void(this.scrollDebounce=void 0);this.scrollSubSelections&&this.scrollSubSelections.length>0&&this.subSelect(this.scrollSubSelections[0]),this.scrollSubSelections=void 0,this.scrollDebounce=void 0}onPointerOver(F){if(!(0,o.R)(F)&&"format"===this.targetSource){this.clearHoveredOutline();var R=this.getSubSelectionSourceFromEvent(F);if(R&&R.subSelectionElement){if(0===this.updateCustomOutlinesFromSubSelections([R.visualSubSelection],a.br.Hover).length){var A=this.getSubSelectionElementsFromSubSelectionSource(R);A=A.filter(K=>{var q=d3.select(K);return!q.attr(M)&&"true"!==q.attr(y)}),this.updateOutlinesFromSubSelectionElements(A,a.br.Hover)}this.renderOutlines();var W=O("pointerleave"),G=d3.select(R.subSelectionElement);G.on(W,()=>{G.attr(M)||(this.clearHoveredOutline(),G.on(W,null))}),(0,o.o)(F)}}}clearHoveredOutline(){_.values(this.subSelectionRegionOutlines).filter(B=>B.visibility===a.br.Hover).forEach(B=>{this.subSelectionRegionOutlines[B.id]={...this.subSelectionRegionOutlines[B.id],visibility:a.br.None}}),this.renderOutlines()}onClick(F){this.subSelectFromEvent(F,!1)}onContextMenu(F){this.subSelectFromEvent(F,!0)}subSelectFromEvent(F,R){if(!(0,o.R)(F)&&"format"===this.targetSource){var B=this.getSubSelectionElementsFromEvent(F);(0,o.o)(F);var A={x:F.clientX,y:F.clientY};if(_.isEmpty(B))return void this.hostServices.onSelect({type:a.H6.FormattingSubSelection,selectionMode:d.v.Single,visualObjects:[],selectionOrigin:A});var W=B[0],G=d3.select(W).attr(f),K=this.getSubSelectionTypeFromElement(W),q=F.target,ne=this.getDisplayNameFromElement(W),k=this.selectorCallback?this.selectorCallback(W):{},L=this.createVisualSubSelectionForSingleObject({objectName:G,subSelectionType:K,displayName:ne,showUI:R,selectorsByColumn:k,selectionOrigin:A,target:q});this.scrollSubSelections=void 0,this.subSelect(L)}}getSubSelectionElementsFromEvent(F){var R=this.getSubSelectionSourceFromEvent(F);return this.getSubSelectionElementsFromSubSelectionSource(R)}getSubSelectionSourceFromEvent(F){var R=F.composedPath();if(R){var W,B=R.indexOf(this.hostElement),A=R.slice(0,B+1);for(var G of A)if(d3.select(G).classed(D)){W=G;break}if(W&&x(this.hostElement,W)){var q=this.selectorCallback?this.selectorCallback(W):{},ne=d3.select(W).attr(f),k=this.getDisplayNameFromElement(W),L=this.getSubSelectionTypeFromElement(W),X={x:F.clientX,y:F.clientY},Y=this.subSelectionMetadataCallback?this.subSelectionMetadataCallback(W):null;return{subSelectionElement:W,visualSubSelection:this.createVisualSubSelectionForSingleObject({objectName:ne,subSelectionType:L,displayName:k,showUI:!1,selectorsByColumn:q,selectionOrigin:X,metadata:Y})}}}}getSubSelectionElementsFromSubSelectionSource(F){if(!F)return[];var{visualSubSelection:R}=F;if(this.customElementCallback){var B=this.customElementCallback(R);if(!_.isEmpty(B))return B}var A=this.getSubSelectableElements(),{objectName:W,selectorsByColumn:G}=R.visualObjects[0],K=A.filter(ne=>ne.getAttribute(f)===W);if(this.selectorCallback){var q=ne=>this.selectorCallback(ne);K=K.filter(function(ne){return(0,t.Pv)(q(ne),G)})}return K}removeEventHandlers(){this.host.on(O("pointerover"),null),this.host.on(O("click"),null),this.host.on(O("contextmenu"),null)}subSelect(F){var R={type:a.H6.FormattingSubSelection,...F};this.hostServices.onSelecting(R),R.action!==c.Ii.None&&this.hostServices.onSelect(R)}isVisualObjectSubSelected(F){return!!(this.subSelections&&this.subSelections.length>0)&&!!this.subSelections.find(R=>R.visualObjects.find(B=>F.objectName===B.objectName&&(0,t.Pv)(F.selectorsByColumn,B.selectorsByColumn)))}updateElementOutline(F,R,B=void 0,A=!1){return this.updateElementOutlines([F],R,B,A)[0]}updateElementOutlines(F,R,B=void 0,A=!1){var W=_.groupBy(F,ne=>{var k=d3.select(ne);return this.getElementRegionOutlineId(k)}),G=Object.keys(W);for(var K of G){var q=this.getSubSelectionRegionOutline(K,W[K],R,B);this.subSelectionRegionOutlines[K]=q}return A||this.renderOutlines(),G}getSubSelectionRegionOutline(F,R,B,A){var W=[];for(var G of R){var K=this.getRectangleSubSelectionOutline(G,B,A),q=this.getRestrictionRect(G,r.$d.Clamp);q&&(K=this.getClampedOutline(K,q,G));var ne=this.getRestrictionRect(G,r.$d.Clip);ne&&(K=this.getClippedOutline(K,ne,G)),K.height>0&&K.width>0&&W.push(K)}var k={type:a.tI.Group,outlines:W};return null!=A&&(k.extendedProperties=A),{id:F,visibility:B,outline:k,source:this.targetSource}}traverseElementRestrictions(F,R,B){var A=F.closest(`[${N}="${B}"]`),W=R;if(A&&x(this.hostElement,A)){W||(W=new n.r(0,0,Number.MAX_VALUE,Number.MAX_VALUE));var G=A.getBoundingClientRect(),K=Math.max(G.top,W.top),q=Math.max(G.left,W.left),ne=Math.max(Math.min(G.bottom,W.top+W.height)-K,0),k=Math.max(Math.min(G.right,W.left+W.width)-q,0);W=new n.r(q,K,k,ne),W=this.traverseElementRestrictions(F.parentElement,W,B)}return W}getRestrictionRect(F,R){return this.traverseElementRestrictions(F,void 0,R)}applyElementRestriction(F,R){var B=j.getDataForElement(R);if(B&&B.outlineRestrictionOptions){var{margin:A,padding:W}=B.outlineRestrictionOptions,G=0,K=0,q=0,ne=0;if(A){var{top:k,left:L,right:X,bottom:Y}=A;G+=L,K+=k,q-=Y+k,ne-=L+X}if(W){var{top:Q,left:H,right:te,bottom:ee}=W;G-=H,K-=Q,q+=ee+Q,ne+=H+te}F.left+=G,F.top+=K,F.height+=q,F.width+=ne}return F}getClampedOutline(F,R,B){var A=this.applyElementRestriction(R,B),W=Math.max(F.x,A.left),G=Math.max(F.y,A.top),K=Math.min(F.x+F.width,A.left+A.width),q=Math.min(F.y+F.height,A.top+A.height);return{...F,x:W,y:G,height:q-G,width:K-W}}getClippedOutline(F,R,B){var A=this.applyElementRestriction(R,B);return{...F,clipPath:{type:a.tI.Rectangle,x:A.left,y:A.top,height:A.height,width:A.width}}}getRectangleSubSelectionOutline(F,R,B){var A=F.getBoundingClientRect(),{x:W,y:G,width:K,height:q}=A,ne=R!==a.br.None&&B?.visibleOutlineOffset?B.visibleOutlineOffset:0,k={height:q+2*ne,width:K+2*ne,x:W-ne,y:G-ne,type:a.tI.Rectangle};return F.hasAttribute(V)&&(k.directEdit=()=>{if(F.hasAttribute(V))return JSON.parse(F.getAttribute(V))}),k}updateRegionOutline(F,R=!1){this.updateRegionOutlines([F],R)}updateRegionOutlines(F,R=!1){for(var B of F)this.subSelectionRegionOutlines[B.id]=B;R||this.renderOutlines()}getElementsFromSubSelections(F){if(!F)return[];var R=[],B=this.getSubSelectableElements(),A=this.isElementSubSelected,W=this.selectorCallback;return d3.selectAll(B).each(function(){A(this,F,W)&&R.push(this)}),R}setSubSelectedStateDOM(F){if(F){var R=this.getSubSelectableElements(),B=this.isElementSubSelected,A=this.selectorCallback;d3.selectAll(R).attr(M,function(){return!!B(this,F,A)||null})}}isElementSubSelected(F,R,B){if(!R)return!1;var A=d3.select(F).attr(f),W=d3.select(F).attr(S);return R.some(K=>K.visualObjects?.some(q=>{var ne=!0;return B&&((0,t.Pv)(q.selectorsByColumn,B(F))||(ne=!1)),(q.objectName===A||q.objectName===W)&&ne}))}updateCustomOutlinesFromSubSelections(F,R=a.br.Active){var B=this,A=[];if(this.customOutlineCallback&&!_.isEmpty(F))for(var W of F){var G=this.customOutlineCallback(W);if(G&&G.length>0){var K=function(ne){p.Y.assert(()=>(ne.source??"format")===B.targetSource,"custom outline's source should match the current htmlSubSelectionHelper's targetSource");var k=B.subSelectionRegionOutlines[ne.id]?.visibility;(R!==a.br.Hover||k!==a.br.Active)&&B.setOutline(ne,R)};for(var q of G)K(q);A.push(W)}}return A}updateOutlinesFromSubSelectionElements(F,R=a.br.Active,B=void 0){var A=[];if(!_.isEmpty(F)){for(var W of F){var G=j.getDataForElement(W);if(G&&G.getRegionOutlines){var K=G.getRegionOutlines();for(var q of K){var ne=this.getRestrictionRect(W,r.$d.Clip);if(ne){var k=this.getClippedOutline(q.outline,ne,W);q={...q,outline:{...k,extendedProperties:B},source:this.targetSource}}this.setOutline(q,R)}}else A.push(W)}this.updateElementOutlines(A,R,B,!0)}}updateOutlinesFromSubSelections(F,R,B){R&&this.hideAllOutlines(!0),this.subSelections=F;var A=F?[...F]:[];this.setSubSelectedStateDOM(F);var W=this.updateCustomOutlinesFromSubSelections(F);W?.length>0&&_.remove(A,q=>W.find(ne=>_.isEqual(q,ne)));var K=this.getElementsFromSubSelections(A).filter(q=>"true"!==d3.select(q).attr(y));this.updateOutlinesFromSubSelectionElements(K),B||this.renderOutlines()}refreshOutlines(){this.updateOutlinesFromSubSelections(this.subSelections,!0,!1)}getLabelsFromSubSelections(F,R,B=" "){var A=this.getElementsFromSubSelections(F),W=[];for(var G of A){var K="";for(var q of R){var ne=G.attributes.getNamedItem(q);ne&&ne.value&&(K+=ne.value+B)}_.isEmpty(K)||W.push(K.trim())}return W}setOutline(F,R){var B={...F,visibility:R,id:F.id};this.subSelectionRegionOutlines[F.id]=B}static setDataForElement(F,R){$(F).data(v,R)}static getDataForElement(F){return $(F).data(v)}hideAllOutlines(F=!1){var R=this.subSelectionRegionOutlines,B=[];for(var A in R)B.push({...R[A],visibility:a.br.None});this.updateRegionOutlines(B,F)}getRegionOutline(F){return this.getRegionOutlines([F])[0]}getRegionOutlines(F){return F.map(R=>this.subSelectionRegionOutlines[R])}getAllOutlines(){return{...this.subSelectionRegionOutlines}}renderOutlines(){var F=_.values(this.subSelectionRegionOutlines);this.renderer.updateRegionOutlines(F)}addDirectEditPlaceholderOutlines(){var F=this.scale(),R=this.hostElement.getBoundingClientRect(),B=G=>{var K=G.getBoundingClientRect();return{left:(K.x-R.x)/F-1,top:(K.y-R.y)/F-1,width:K.width/F,height:K.height/F}},A=_.filter(_.map(this.hostElement.querySelectorAll(m.selector),G=>({element:G,bounds:B(G),outlineId:this.getElementRegionOutlineId(d3.select(G)),objectName:G.getAttribute(f),displayNameKey:G.getAttribute(C)})),G=>!!G.outlineId&&!!G.objectName),W=d3.select(this.hostElement).selectAll(`div.${g.class}`).data(A,G=>G.objectName);W.enter().append("div").classed(g.class,!0).attr("data-testid",G=>`direct-edit-placeholder-outline-${G.objectName}`).style("position","absolute").style("border","1px black dashed").style("cursor","text").on("click",G=>{d3.event.stopImmediatePropagation();var K={visualObjects:[{objectName:G.objectName,selectorsByColumn:{}}],subSelectionType:r.RV.Text,selectionOrigin:{x:d3.event.x,y:d3.event.y},immediateDirectEdit:G.outlineId,displayName:G.displayNameKey&&this.hostServices.getLocalizedString(G.displayNameKey)};this.subSelect(K)}).merge(W).style("width",G=>`${G.bounds.width}px`).style("height",G=>`${G.bounds.height}px`).style("left",G=>`${G.bounds.left}px`).style("top",G=>`${G.bounds.top}px`),W.exit().remove()}getElementRegionOutlineId(F){var R=this.customElementRegionOutlineIdCallback?this.customElementRegionOutlineIdCallback(F.node()):F.attr(f),B="";if(this.selectorCallback){var A=this.selectorCallback(F.node()),W=(0,t.j9)(A);W&&(B=(0,t.i7)(W))}return""!==B?`${R}___${B}`:R}getAllSubSelectables(F){var R=this.getSubSelectableElements(),A=_.uniqWith(R,(L,X)=>L.getAttribute(f)===X.getAttribute(f)&&(!this.selectorCallback||(0,t.Pv)(this.selectorCallback(L),this.selectorCallback(X)))),W=A;F&&(W=A.filter(L=>{var X=this.getSubSelectionTypeFromElement(L);return Number(X)===F}));var G=W.map(L=>{var X=L.getBoundingClientRect();return{x:X.x+X.width/2,y:X.y+X.height/2}}),q=_.orderBy(Array.from(Array(G.length).keys()),L=>G[L].y,["asc"]),ne={currentSeriesMultiplier:0};return q.map(L=>this.createSubSelectionFromElement(W[L],!1,void 0,ne,G[L]))}getNextSubSelectable(F,R){var B=this.getAllSubSelectables();if(B.length){var W,A=_.orderBy(B,["focusOrder"],["asc"]);if(!F)return R?_.last(A):_.first(A);var G=_.findIndex(A,q=>_.isEqual(F,q));if(G>-1){var K=R?G-1:G+1;K>-1&&K<A.length&&(W=A[K])}return W}}createVisualSubSelectionForSingleObject(F){var{objectName:R,subSelectionType:B,displayName:A,showUI:W,selectorsByColumn:G,selectionOrigin:K,focusOrder:q,metadata:ne,target:k}=F,{top:L}=k?.getBoundingClientRect()??{top:0};return{visualObjects:[{objectName:R,selectorsByColumn:G??{}}],showUI:W,displayName:A,subSelectionType:B,selectionOrigin:K&&B in[r.RV.Text,r.RV.NumericText]?{...K,offset:{x:0,y:-1*(K?.y-L)}}:K,target:k,...ne?{metadata:ne}:{},...q?{focusOrder:q}:{}}}createSubSelectionFromElement(F,R,B,A,W){var G=F.getAttribute(f);p.Y.assert(()=>!!G,"createVisualSubSelectionFromElement should not be called on an element that is not subselectable");var K={};this.selectorCallback&&(K=this.selectorCallback(F));var q=this.getSelectorKey(K);q&&void 0===A[q]&&(A[q]=A.currentSeriesMultiplier,A.currentSeriesMultiplier++);var ne=this.getSubSelectionFocusOrder(G,A[q]),k=this.getSubSelectionTypeFromElement(F),L=this.getDisplayNameFromElement(F),X=W;return B&&(X={x:B.clientX,y:B.clientY}),this.createVisualSubSelectionForSingleObject({objectName:G,subSelectionType:k,displayName:L,showUI:R,selectorsByColumn:K,selectionOrigin:X,focusOrder:ne})}getDisplayNameFromElement(F){var R=F.getAttribute(C);if(R)R=this.hostServices.getLocalizedString(R);else{var B=j.getDataForElement(F);B?.getDisplayName?R=B.getDisplayName():p.Y.assertFail("getAllSubSelectables - custom jquery data getDisplayName should be defined if no attribute is added to DOMElement")}return R}getSubSelectionTypeFromElement(F){var R=F.getAttribute(b);if(R)return Number(R);p.Y.assertFail("getAllSubSelectables - DOMElement should have type")}getSelectorKey(F){var R=(0,t.Pl)((0,t.j9)(F));return _.isEmpty(R)?"":JSON.stringify(R)}getSubSelectionFocusOrder(F,R){var B=i.QE[F];return B?(void 0!==R&&(B+=R*i.Nk),B):i.PA}getSubSelectableElements(){var F=this.hostElement;return this.host.selectAll(h).filter(function(){return x(F,this)}).nodes()}}},60151:function(ve,z,e){e.d(z,{r:function(){return i}});var a=e(735553);function i(r,t,o){if(r&&r.textClasses){var d=r.textClasses[t];if(d){var n=d.fontSize&&a.Z.createFromPt(+d.fontSize);return{color:o?void 0:d.color&&d.color.value,family:d.fontFace,size:n,weight:d.fontWeight}}}return{}}},703428:function(ve,z,e){e.d(z,{B:function(){return t},Z:function(){return r}});var a=e(495123),i=e(944190),r=(()=>{class o{}return o.highlightedValueDisplayNameResourceKey="Tooltip_HighlightedValueDisplayName",o})();function t(o,d,n){var p={x:o.left+o.width/2,y:o.top+o.height/2},l=d,u=p;if(typeof window<"u"&&window.visualViewport&&(a.C.isSafari()||a.C.isIOSWebView())){var v=window.visualViewport;1!==v.scale&&(l=v,u={x:p.x-v.offsetLeft,y:p.y-v.offsetTop})}var m=l.width/2,g=l.height/2,E=n?.showAboveClickedArea||u.y>=g;return u.x<m?E?i.h.BottomLeft:i.h.TopLeft:E?i.h.BottomRight:i.h.TopRight}},610849:function(ve,z,e){e.d(z,{E:function(){return i},L:function(){return a}});var a={opacity:1,scale:1,animationDuration:250,offsetX:0,offsetY:0,touchOptimized:!1,adjustXLeftSideOfScreen:0,adjustXRightSideOfScreen:0},i={opacity:.87,scale:1,animationDuration:0,offsetY:30,offsetX:30,touchOptimized:!0,adjustXLeftSideOfScreen:27,adjustXRightSideOfScreen:10}},944190:function(ve,z,e){e.d(z,{h:function(){return a}});var a=function(i){return i[i.TopLeft=0]="TopLeft",i[i.TopRight=1]="TopRight",i[i.BottomRight=2]="BottomRight",i[i.BottomLeft=3]="BottomLeft",i}({})},482034:function(ve,z,e){e.d(z,{X:function(){return f}});var a=e(512655),i=e(495123),r=e(703428),t=e(610849),o=e(944190),d=(0,a.tI)("tooltip-container"),n=(0,a.tI)("tooltip-content"),c=(0,a.tI)("arrow"),s=(0,a.tI)("hide-arrow"),p=(0,a.tI)("small-touch-screen"),l=(0,a.tI)("large-touch-screen"),u=(0,a.tI)("truncate-tooltip-height"),v=(0,a.tI)("heightened-header"),m=(0,a.tI)("themeableElement"),g=(0,a.tI)("tooltip-light");function f(b,V){return new S(b,V)}class S{constructor(V,M){this.isTooltipVisible=!1,this.tooltipScaleFactor=1,this.rootElement=V,this.originalTooltipOptions=$.extend({},t.L,M),this.tooltipOptions=this.originalTooltipOptions}isVisible(){return this.isTooltipVisible}isTouchOptimized(){return!!this.tooltipOptions.touchOptimized}setTestScreenSize(V,M){this.customScreenWidth=V,this.customScreenHeight=M}show(V,M){var P,T,N,w;this.isTooltipVisible=!0,this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),V&&(P=(0,r.B)(V,this.getScreenBounds(),this.tooltipOptions),w={x:V.left+(T=V.width>>1),y:V.top+(N=V.height>>1)}),this.tooltipContainer.style("display","").transition().duration(0),this.tooltipContainer.style("opacity",this.tooltipOptions.opacity),V&&this.setPositionAndSize(V,P,T,N,w,M)}classed(V,M){this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),this.tooltipContainer.classed(V.class,M)}move(V,M){var P,T,N;this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),P=(0,r.B)(V,this.getScreenBounds(),this.tooltipOptions),this.setPositionAndSize(V,P,T=V.width>>1,N=V.height>>1,{x:V.left+T,y:V.top+N},M)}updateContent(V){this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),this.tooltipContainer.select(n.selector).remove(),V&&($(V).addClass(n.class),this.tooltipContainer.node().appendChild(V))}hide(){this.isTooltipVisible&&(this.isTooltipVisible=!1,this.tooltipContainer.transition().duration(this.tooltipOptions.animationDuration).style("opacity",0).on("end",function(){this.style.display="none"}))}destroy(){this.tooltipContainer&&(this.tooltipContainer.remove(),this.tooltipContainer=null,this.isTooltipVisible=!1)}setTooltipAppearanceOptions(V){this.tooltipOptions=Object.keys(V).length>0?$.extend({},this.tooltipOptions,V):$.extend({},this.originalTooltipOptions,V)}attachPointerEnterCallback(V){this.onPointerEnter=V}attachPointerLeaveCallback(V){this.onPointerLeave=V}createTooltipContainer(V){var M=d3.select(V).append("div").classed(d.class,!0).classed(m.class,!0);return M.append("div").classed(c.class,!0),M.style("display","none"),M.on("pointerenter.callback",()=>this.onPointerEnter&&this.onPointerEnter()),M.on("pointerleave.callback",()=>this.onPointerLeave&&this.onPointerLeave()),M}getTooltipContainerBounds(){var V;return"none"===this.tooltipContainer.style("display")?(this.tooltipContainer.style("display",""),V=this.tooltipContainer.node().getBoundingClientRect(),this.tooltipContainer.style("display","none")):V=this.tooltipContainer.node().getBoundingClientRect(),{height:V.height/this.tooltipScaleFactor,width:V.width/this.tooltipScaleFactor}}get tooltipScale(){return this.tooltipOptions.scale||1}updateTooltipPosition(V,M,P,T,N,w){var I=this.getTooltipContainerBounds(),O=0,x=0,j=this.tooltipOptions.adjustXLeftSideOfScreen,U=this.tooltipOptions.adjustXRightSideOfScreen,F=this.tooltipOptions.hideArrow?0:(w?3:7)*this.tooltipScale,R=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:2,B=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:3,A=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:w?.5:1,W=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:w?2.5:1;return this.tooltipOptions.offsetPosition&&(j=0,U=0,O+=M===o.h.TopLeft||M===o.h.BottomLeft?this.tooltipOptions.offsetX:-this.tooltipOptions.offsetX,x+=M===o.h.TopLeft||M===o.h.TopRight?this.tooltipOptions.offsetY:-this.tooltipOptions.offsetY),M===o.h.TopLeft?(O+=B*F+P-j,x-=R*W*F+T):M===o.h.TopRight?(O-=R*A*F+I.width+P-U,x-=R*W*F+T):M===o.h.BottomLeft?(O+=B*F+P-j,x-=I.height-R*W*F+T):M===o.h.BottomRight&&(O-=R*A*F+I.width+P-U,x-=I.height-R*W*F+T),{x:N.x+O,y:N.y+x}}setPositionAndSize(V,M,P,T,N,w){N=this.updateTooltipPosition(V,M,P,T,N,w);var I=this.widenTooltipIfNeeded(N);this.setTooltipContainerAttributes(M,I,!!I.width),this.tooltipContainer.style("width",I.width?`${I.width}px`:""),this.setArrowPosition(M)}widenTooltipIfNeeded(V){var M={left:V.x,top:V.y,width:void 0,height:void 0};if(this.shouldWidenTooltip()){M.left=8;var P=this.getScreenBounds().width;M.width=P-16}return M}setTooltipContainerAttributes(V,M,P){var T=this.getTooltipContainerBounds(),N=this.getScreenBounds(),w=this.shouldWidenTooltip(),I=T.width,O=T.height,x=N.width,j=N.height,R=M.left,B=M.top;this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition&&(R=M.left>=0?M.left:5,B=M.top>=0?M.top:5);var A=x-R-I,W=j-B-O;if(this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition){A<0&&(A=x-(R-=Math.abs(A)+5)-I+5);var G=this.getScreenBounds().width<=540?35:5;W<G&&(B-=G-W,W=G)}var L,X,K=!1,q=!1,ne=V===o.h.TopLeft||V===o.h.TopRight,k=V===o.h.TopLeft||V===o.h.BottomLeft,Y={left:null,top:null,right:null,bottom:null};k?(K=!0,Y.left=R,X=R):(q=!0,Y.right=A,X=A),ne?(Y.top=B,L=B):(Y.bottom=W,L=W),P&&(Y.left=R),Y=this.calculateVisualViewportAdjustment(Y);var Q={height:(O+10)*this.tooltipScale,width:(w?I:I+10)*this.tooltipScale},H=Q.width+X>x,te=Q.height+L>j;this.tooltipScaleFactor=this.tooltipScale,(H||te)&&(this.tooltipScaleFactor*=this.calculateScaleFactor(Q,N,X,L)),this.tooltipContainer.classed("left",K).classed("right",q).classed(g.class,this.tooltipOptions.useLightColors).classed(p.class,this.isSmallTouchScreen()).classed(l.class,this.isLargeTouchScreen()).classed(u.class,this.isTruncateTooltipHeight()).classed(v.class,this.heightenedHeader()).styles(Object.fromEntries(Object.entries(Y).map(([ee,ue])=>[ee,null!==ue?`${ue}px`:null]))).style("transform",`scale(${this.tooltipScaleFactor})`).style("transform-origin",`${ne?"top":"bottom"} ${k?"left":"right"}`)}calculateVisualViewportAdjustment(V){if(!i.C.isSafari()&&!i.C.isIOSWebView()||!window.visualViewport)return V;var M=window.visualViewport;if(1===M.scale)return V;var P={...V};return null!==V.left&&(P.left=V.left+M.offsetLeft),null!==V.top&&(P.top=V.top+M.offsetTop),null!==V.right&&(P.right=V.right-M.offsetLeft),null!==V.bottom&&(P.bottom=V.bottom-M.offsetTop),P}calculateScaleFactor(V,M,P,T){return Math.min((M.width-P)/V.width,(M.height-T)/V.height)}setArrowPosition(V){var P,M=this.getArrowElement();P=V===o.h.TopLeft?"top left":V===o.h.TopRight?"top right":V===o.h.BottomLeft?"bottom left":"bottom right",M.attr("class","arrow").classed(P,!0).classed(s.class,this.tooltipOptions.hideArrow)}shouldWidenTooltip(){return this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition&&this.getScreenBounds().width<=540}isSmallTouchScreen(){if(!this.tooltipOptions.touchOptimized)return!1;var V=this.getScreenBounds();return V.width<=540||V.height<=450}isLargeTouchScreen(){return this.tooltipOptions.touchOptimized&&!this.isSmallTouchScreen()}isTruncateTooltipHeight(){return!!this.tooltipOptions.touchOptimized&&this.getScreenBounds().height<=620}heightenedHeader(){return!this.tooltipOptions.offsetPosition}getArrowElement(){return this.tooltipContainer.select(c.selector)}getScreenBounds(){return{width:this.customScreenWidth||window.innerWidth,height:this.customScreenHeight||window.innerHeight}}}},422118:function(ve,z,e){e.d(z,{dL:function(){return a}});class a{constructor(c){this.matrix=c||{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0}}applyToPoint(c){if(!c)return c;var s=this.matrix;return{x:s.m00*c.x+s.m01*c.y+s.m02,y:s.m10*c.x+s.m11*c.y+s.m12}}applyToRect(c){if(!c)return c;var s=c.left,p=c.top,l=this.matrix,v=0!==l.m01||0!==l.m10;if(!v&&1===l.m00&&1===l.m11)return{left:s+l.m02,top:p+l.m12,width:c.width,height:c.height};var E,D,h,C,m=c.left+c.width,g=c.top+c.height;if(v){var y=l.m00*s+l.m01*p+l.m02,f=l.m10*s+l.m11*p+l.m12,S=l.m00*s+l.m01*g+l.m02,b=l.m10*s+l.m11*g+l.m12,V=l.m00*m+l.m01*p+l.m02,M=l.m10*m+l.m11*p+l.m12,P=l.m00*m+l.m01*g+l.m02,T=l.m10*m+l.m11*g+l.m12;E=Math.min(y,S,V,P),D=Math.max(y,S,V,P),h=Math.min(f,b,M,T),C=Math.max(f,b,M,T)}else{var N=l.m00*s+l.m02,w=l.m11*p+l.m12,I=l.m00*m+l.m02,O=l.m11*g+l.m12;E=Math.min(N,I),D=Math.max(N,I),h=Math.min(w,O),C=Math.max(w,O)}return{left:E,top:h,width:D-E,height:C-h}}translate(c,s){if(0!==c||0!==s){var p=function(n,c){return{m00:1,m01:0,m02:n,m10:0,m11:1,m12:c}}(c,s);this.matrix=d(this.matrix,p),this._inverse=null}}scale(c,s){if(1!==c||1!==s){var p=function(n,c){return{m00:n,m01:0,m02:0,m10:0,m11:c,m12:0}}(c,s);this.matrix=d(this.matrix,p),this._inverse=null}}rotate(c){if(0!==c){var s=function(n){var c=n,s=Math.sin(c),p=Math.cos(c);return{m00:p,m01:-s,m02:0,m10:s,m11:p,m12:0}}(c);this.matrix=d(this.matrix,s),this._inverse=null}}add(c){c&&(this.matrix=d(this.matrix,c.matrix),this._inverse=null)}getInverse(){return this._inverse||(this._inverse=new a({m00:(n=this.matrix).m11*(s=1/(n.m00*n.m11-n.m01*n.m10)),m01:-n.m01*s,m02:(n.m01*n.m12-n.m02*n.m11)*s,m10:-n.m10*s,m11:n.m00*s,m12:-(n.m00*n.m12-n.m10*n.m02)*s})),this._inverse;var n,s}}function d(n,c){return{m00:n.m00*c.m00+n.m01*c.m10,m01:n.m00*c.m01+n.m01*c.m11,m02:n.m00*c.m02+n.m01*c.m12+n.m02,m10:n.m10*c.m00+n.m11*c.m10,m11:n.m10*c.m01+n.m11*c.m11,m12:n.m10*c.m02+n.m11*c.m12+n.m12}}},735553:function(ve,z,e){e.d(z,{Z:function(){return r}});var a=e(18122),i=e(623670);class r{static createFromPt(o,d){return a.Y.assert(()=>_.isFinite(o),"pt is not a number"),d&&(o=_.round(o,d)),new r(o,i.V4.fromPointToPixel(o))}static createFromPx(o,d){return a.Y.assert(()=>_.isFinite(o),"px is not a number"),d&&(o=_.round(o,d)),new r(i.V4.toPoint(o),o)}static createFromElement(o){var d=o.css("font-size");return _.isEmpty(d)?void 0:r.createFromCSS(d)}static createFromCSS(o,d){if(a.Y.assertValue(o,"fontSizeCSS"),"inherit"!==o){var n=o.slice(-2).toLowerCase();a.Y.assert(()=>"pt"===n||"px"===n,"expected an absolute size");var c=parseFloat(o.slice(0,-2));switch(a.Y.assert(()=>!isNaN(c),"value is NaN"),n){case"px":return r.createFromPx(c,d);case"pt":return r.createFromPt(c,d);default:a.Y.assertFail(`Can not convert unit '${n}' to a FontSize`)}}}constructor(o,d){this.pt=o,this.px=d}equals(o){return this.pt===o.pt&&this.px===o.px}}},799660:function(ve,z,e){e.d(z,{$b:function(){return s},Ay:function(){return c},D8:function(){return n},SZ:function(){return u},UY:function(){return m},cA:function(){return v},ft:function(){return l},fv:function(){return D},q6:function(){return g},wY:function(){return p}});var a=e(647132),i=e(236880),r=e(429943),t=e(613552),o=e(693602),d=e(18122);function n(){return{solid:{color:"#FFF"}}}function c(){return 50}function s(){return!1}function p(){return{color:{solid:{color:"#FFF"}},transparency:50,show:!1}}function l(h,C){var y=r.De.plotArea;return new i.lb(new i.lO(o.jw.PlotBackground),"Visual_Plot_Background",[y.image,y.transparency],C).addGroup(void 0,f=>f.addSimpleSlice("image",new i.Wd({descriptor:y.image,value:h&&h.image}).build()).addSimpleSlice("transparency",i.pB.getTransparencySliderBuilder({descriptor:y.transparency,value:h?.transparency??50,localize:C}).build(),S=>S.withDisabled(!h||!h.image||!h.image?.name&&!h.image?.url))).build()}function u(h,C,y){var f=h?.image?.url;if(f){var b,S=C.children(".background-image");switch(0===S.length&&(C.prepend('<div class="background-image"></div>'),(S=C.children(".background-image")).css("position","absolute")),h.image.scaling){case t.hB.normal:b={"background-size":"","background-position":"50% 50%"};break;case t.hB.fit:b={"background-size":"100% 100%","background-position":""};break;case t.hB.fill:b={"background-size":"100%","background-position":"50% 50%"};break;default:b={"background-size":"","background-position":"50% 50%"}}S.css({...b,width:y.width,height:y.height,"margin-left":y.left,"margin-top":y.top,"background-image":`url(${f})`,"background-repeat":"no-repeat",opacity:(0,a.yS)(h.transparency)})}else v(C)}function v(h){h?.children(".background-image").remove()}function m(h,C,y,f,S){0!==h.length&&h.css({filter:`brightness(${E(S)}) contrast(${E(f)}) saturate(${E(C)}) blur(${y/10}px) `})}function g(h){0!==h.length&&h.css({filter:"none"})}function E(h){if(h<-100||h>100)throw new Error("Input must be between -100 and 100");return(h+100)/200*2}function D(h,C){switch(h){case t.y5.fit:return"contain";case t.y5.fill:return"cover";case t.y5.normal:return"auto "+(void 0===C?"auto":`${C}px`);case t.y5.stretch:return"100% 100%";default:return d.Y.assertNever(h),""}}},261962:function(ve,z,e){e.d(z,{E$:function(){return u},GD:function(){return c},Ts:function(){return l},g1:function(){return n},gz:function(){return s},wY:function(){return p}});var a=e(493434),i=e(995268),r=e(527956),t=e(885653),o="#000",d=!1,n=0,c=1;function s(v,m){return`${(0,a.Vf)(v)?m:0}px ${(0,a.A8)(v)?m:0}px ${(0,a.Rh)(v)?m:0}px ${(0,a.nh)(v)?m:0}px`}function p(){return{color:{solid:{color:o}},show:d,radius:n,width:c}}function l(v){if(v.isHighContrast)return{visible:!0,color:t.A.getThemeColor(v,r.q6),width:i.lv}}function u(v,m){m?.visible&&v.style("stroke",m.color).style("stroke-width",m.width)}},155980:function(ve,z,e){e.d(z,{$1:function(){return i},kb:function(){return r},ri:function(){return t},sT:function(){return a}});var a="Slider_Degree",i="Numeric_Pixel",r="Slider_Weight",t="Slider_Percent"},290408:function(ve,z,e){e.d(z,{Ao:function(){return p},bB:function(){return s},yb:function(){return c}});var a=e(18122),i=e(747767),r=e(890741),t=e(999904),o=e(827431),d=e(877723);function c(l,u){if(_.isEmpty(l))return[];a.Y.assertValue(u,"objectDescriptors");var v=[],m=function(E){for(var D in E.objects){var h=E.objects[D]&&E.objects[D].formattingProperties;if(!_.isEmpty(h))for(var C of h){var y={objectName:D,propertyName:C},f=(0,o.D0)(u,y),S=void 0;E.allowOverrideSubtotalMatching&&(a.Y.assert(()=>(0,r.EU)(E.selector),"allowOverrideSubtotalMatching is only supported for Wildcard Selectors"),S=!0),f&&v.push({selector:E.selector,allowOverrideSubtotalMatching:S,altStaticSelector:E.altStaticSelector,propertyId:y,propertyDescriptor:f,containerName:E.containerName})}}};for(var g of l)m(g);return v}function s(l,u){return l===u||null==l&&null==u||!l==!u&&void 0===l.altStaticSelector==(void 0===u.altStaticSelector)&&!!l.allowOverrideSubtotalMatching==!!u.allowOverrideSubtotalMatching&&l.containerName===u.containerName&&_.isEqual(l.propertyDescriptor,u.propertyDescriptor)&&_.isEqual(l.propertyId,u.propertyId)&&(0,r.aI)(l.selector,u.selector)}function p(l,u){if(!u.allowOverrideSubtotalMatching)return(0,t._W)(l,u.propertyId,u.selector);a.Y.assert(()=>(0,r.EU)(u.selector),"allowOverrideSubtotalMatching is only supported for Wildcard Selectors");var v=[(0,d.vt)(i._.InstancesOnly),(0,d.vt)(i._.TotalsOnly),(0,d.vt)(i._.InstancesAndTotals)];for(var m of v){var g={data:[m],metadata:u.selector.metadata,id:u.selector.id},E=(0,t._W)(l,u.propertyId,g);if(E)return u.selector=g,E}}},995312:function(ve,z,e){e.d(z,{nf:function(){return i},ug:function(){return r}});var a=e(246484);function i(){return{scrolling:{enabled:!1},selection:{enabled:!1},sorting:{enabled:!1,showActiveSortIcon:!0},columnResizing:{enabled:!1},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0,expandCollapse:{buttonsOption:a.B.NonInteractive},showAsTableNativeMenuEnabled:!1}}function r(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!0,tooltipsEnabled:!0,expandCollapse:{buttonsOption:a.B.Interactive},showAsTableNativeMenuEnabled:!1}}},698997:function(ve,z,e){function a(){return{scrolling:{enabled:!1},selection:{enabled:!1},sorting:{enabled:!1,showActiveSortIcon:!0},columnResizing:{enabled:!1},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0}}function i(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!0,tooltipsEnabled:!0}}e.d(z,{nf:function(){return a},ug:function(){return i}})},737889:function(ve,z,e){e.d(z,{EY:function(){return D},TF:function(){return h},dD:function(){return y},dJ:function(){return f},iK:function(){return S},kP:function(){return l},mI:function(){return C}});var a=e(124500),i=e(527956),r=e(18122),t=e(615309),o=e(454840),d=e(816030),n=e(885653),c=e(493434),s=e(964363),p=e(479612),l='"',u=function(b){return b.unsafeTextContent="unsafeTextContent",b.safeTextContent="safeTextContent",b.attributeValue="attribute",b.codeOnly="codeOnly",b}({}),v=(()=>{class b{constructor(M,P,T,N,w,I){this.objectName=M,this.propertyName=P,this.defaultValue=T,this.usage=N,this.fallbackProperties=I,this.getterFunction=w||d._W}getValue(M,P=!1,T,N,w,I){var O=this.getterFunction(M,this,this.defaultValue,w);if(w&&void 0===O&&(O=this.getValue(M,P)),T&&!T(M,this,w)&&!_.isNil(N)&&(O=N),void 0===O&&(_.isEmpty(this.fallbackProperties)||this.fallbackProperties.forEach((x,j)=>{O=x.getValue(M,P,void 0,void 0,I&&I[j])})),!P&&"string"==typeof O)switch(this.usage){case u.attributeValue:O=O.replace(b.AttributeDelimiter,l+l);break;case u.unsafeTextContent:O=(0,o.o4)(O);break;case u.codeOnly:case u.safeTextContent:break;default:r.Y.assertNever(this.usage)}return O}setInstanceProperty(M,P,T,N,w){var I=this.getValue(P,!0,T,N,w);return M&&M.properties&&(M.properties[this.propertyName]=I),I}setInstanceValidValues(M,P){M.validValues||(M.validValues={}),M.validValues[this.propertyName]=P}}return b.AttributeDelimiter=new RegExp(l,"g"),b})(),m="foregroundNeutralLight",E="foregroundNeutralSecondary",D=c.JL.Bottom,h=c.JL.Nil,C=c.JL.Right,y=c.JL.Top,f=c.JL.Nil,S=(()=>{class b{constructor(M){this.colorHelper=n.A.create(M);var P=(T,N,w,I)=>this.colorHelper.getColorForProperty(T,N,w,I);this.PropGridVerticalColor=new v(b.ObjectGrid,"gridVerticalColor",m,u.attributeValue,P),this.PropGridHorizontalColor=new v(b.ObjectGrid,"gridHorizontalColor",m,u.attributeValue,P),this.PropGridOutlineColor=new v(b.ObjectGrid,"outlineColor","foregroundNeutralTertiaryAlt",u.attributeValue,P),this.PropRowsOutlineColor=new v(b.ObjectRowHeaders,"outlineColor",void 0,u.attributeValue,P),this.PropColumnsOutlineColor=new v(b.ObjectColumnHeaders,"outlineColor",void 0,u.attributeValue,P),this.PropValuesOutlineColor=new v(b.ObjectValues,"outlineColor",void 0,u.attributeValue,P),this.PropTotalOutlineColor=new v(b.ObjectTotal,"outlineColor",void 0,u.attributeValue,P),this.PropBlankRowsBlankRowColor=new v(b.ObjectBlankRows,"blankRowColor",void 0,u.attributeValue,P),this.PropBlankRowsBorderColor=new v(b.ObjectBlankRows,"borderColor",void 0,u.attributeValue,P),this.PropColumnsFontColor=new v(b.ObjectColumnHeaders,"fontColor",E,u.attributeValue,P),this.PropColumnsBackColor=new v(b.ObjectColumnHeaders,"backColor",void 0,u.attributeValue,P),this.PropRowsFontColor=new v(b.ObjectRowHeaders,"fontColor",E,u.attributeValue,P),this.PropRowsBackColor=new v(b.ObjectRowHeaders,"backColor",void 0,u.attributeValue,P),this.PropRowsExpandCollapseButtonsColor=new v(b.ObjectRowHeaders,"expandCollapseButtonsColor",void 0,u.attributeValue,P),this.PropValuesFontColor=new v(b.ObjectValues,"fontColor",void 0,u.attributeValue,P),this.PropValuesFontColorPrimary=new v(b.ObjectValues,"fontColorPrimary",i.q6,u.attributeValue,P),this.PropValuesFontColorSecondary=new v(b.ObjectValues,"fontColorSecondary",i.q6,u.attributeValue,P),this.PropValuesBackColor=new v(b.ObjectValues,"backColor",void 0,u.attributeValue,P),this.PropValuesBackColorPrimary=new v(b.ObjectValues,"backColorPrimary",void 0,u.attributeValue,P),this.PropValuesBackColorSecondary=new v(b.ObjectValues,"backColorSecondary",void 0,u.attributeValue,P),this.PropTotalFontColor=new v(b.ObjectTotal,"fontColor",i.q6,u.attributeValue,P),this.PropTotalBackColor=new v(b.ObjectTotal,"backColor",void 0,u.attributeValue,P),this.PropSubTotalsFontColor=new v(b.ObjectSubTotals,"fontColor",void 0,u.attributeValue,P),this.PropSubTotalsBackColor=new v(b.ObjectSubTotals,"backColor",void 0,u.attributeValue,P),this.PropGrandTotalFontColor=new v(b.ObjectTotal,"fontColor",void 0,u.attributeValue,P),this.PropGrandTotalBackColor=new v(b.ObjectTotal,"backColor",void 0,u.attributeValue,P),this.PropColumnGrandTotalFontColor=new v(b.ObjectColumnTotal,"fontColor",void 0,u.attributeValue,P),this.PropColumnGrandTotalBackColor=new v(b.ObjectColumnTotal,"backColor",void 0,u.attributeValue,P),this.PropRowGrandTotalFontColor=new v(b.ObjectRowTotal,"fontColor",void 0,u.attributeValue,P),this.PropRowGrandTotalBackColor=new v(b.ObjectRowTotal,"backColor",void 0,u.attributeValue,P),this.PropColumnFormattingFontColor=new v(b.ObjectColumnFormatting,"fontColor",void 0,u.attributeValue,P),this.PropColumnFormattingBackColor=new v(b.ObjectColumnFormatting,"backColor",void 0,u.attributeValue,P)}}return b.ObjectGeneral="general",b.ObjectGrid="grid",b.ObjectBlankRows="blankRows",b.ObjectColumnHeaders="columnHeaders",b.ObjectRowHeaders="rowHeaders",b.ObjectValues="values",b.ObjectTotal="total",b.ObjectColumnTotal="columnTotal",b.ObjectRowTotal="rowTotal",b.ObjectSubTotals="subTotals",b.ObjectColumnFormatting="columnFormatting",b.ObjectColumnWidth="columnWidth",b.ObjectSparklines="sparklines",b.ObjectAccessibility="accessibility",b.PropColumnFormatString=new v(b.ObjectGeneral,"formatString",void 0,u.codeOnly),b.PropGeneralTableTotals=new v(b.ObjectGeneral,"totals",!0,u.codeOnly),b.PropGeneralMatrixRowSubtotals=new v(b.ObjectGeneral,"rowSubtotals",!0,u.codeOnly),b.PropGeneralMatrixColumnSubtotals=new v(b.ObjectGeneral,"columnSubtotals",!0,u.codeOnly),b.PropGeneralAutoSizeColumns=new v(b.ObjectGeneral,"autoSizeColumnWidth",!0,u.attributeValue),b.PropGeneralTextSize=new v(b.ObjectGeneral,"textSize",8,u.attributeValue),b.PropGeneralMatrixLayout=new v(b.ObjectGeneral,"layout",void 0,u.codeOnly),b.PropGridPivotTableTextSize=new v(b.ObjectGrid,"textSize",8,u.attributeValue),b.PropGridVertical=new v(b.ObjectGrid,"gridVertical",!1,u.codeOnly),b.PropGridVerticalWeight=new v(b.ObjectGrid,"gridVerticalWeight",1,u.attributeValue),b.PropGridHorizontalTable=new v(b.ObjectGrid,"gridHorizontal",!0,u.codeOnly),b.PropGridHorizontalMatrix=new v(b.ObjectGrid,"gridHorizontal",!1,u.codeOnly),b.PropGridHorizontalWeight=new v(b.ObjectGrid,"gridHorizontalWeight",1,u.attributeValue),b.PropGridRowPadding=new v(b.ObjectGrid,"rowPadding",0,u.attributeValue),b.PropGridOutlineStyle=new v(b.ObjectGrid,"outlineStyle",void 0,u.codeOnly),b.PropGridOutlineWeight=new v(b.ObjectGrid,"outlineWeight",1,u.attributeValue),b.PropGridImageHeight=new v(b.ObjectGrid,"imageHeight",75,u.attributeValue),b.PropGridImageWidth=new v(b.ObjectGrid,"imageWidth",void 0,u.attributeValue,void 0,[b.PropGridImageHeight]),b.PropBlankRowsShowBlankRows=new v(b.ObjectBlankRows,"showBlankRows",!1,u.attributeValue),b.PropBlankRowsTransparency=new v(b.ObjectBlankRows,"blankRowTransparency",0,u.attributeValue),b.PropBlankRowsShowBorder=new v(b.ObjectBlankRows,"showBorder",!1,u.attributeValue),b.PropBlankRowsBorderPosition=new v(b.ObjectBlankRows,"borderPosition",void 0,u.attributeValue),b.PropBlankRowsBorderTransparency=new v(b.ObjectBlankRows,"borderTransparency",0,u.attributeValue),b.PropBlankRowsBorderWidth=new v(b.ObjectBlankRows,"borderWidth",1,u.attributeValue),b.PropColumnsFontFamily=new v(b.ObjectColumnHeaders,"fontFamily",t.Hx.regular.css,u.attributeValue),b.PropColumnsOutline=new v(b.ObjectColumnHeaders,"outline",c.yk,u.codeOnly),b.PropColumnsOutlineStyle=new v(b.ObjectColumnHeaders,"outlineStyle",void 0,u.codeOnly),b.PropColumnsNewVisualOutline=new v(b.ObjectColumnHeaders,"outline",void 0,u.codeOnly),b.PropColumnsAlignment=new v(b.ObjectColumnHeaders,"alignment",p.D.auto,u.codeOnly),b.PropColumnsAlignmentTitle=new v(b.ObjectColumnHeaders,"titleAlignment",p.D.auto,u.codeOnly,null,[b.PropColumnsAlignment]),b.PropColumnPivotTableAutoSizeColumns=new v(b.ObjectColumnHeaders,"autoSizeColumnWidth",!0,u.codeOnly),b.PropColumnsWordWrap=new v(b.ObjectColumnHeaders,"wordWrap",!1,u.codeOnly),b.PropColumnsOutlineWeight=new v(b.ObjectColumnHeaders,"outlineWeight",void 0,u.attributeValue),b.PropColumnsUrlIcon=new v(b.ObjectColumnHeaders,"urlIcon",!1,u.codeOnly),b.PropColumnsFontSize=new v(b.ObjectColumnHeaders,"fontSize",void 0,u.attributeValue,void 0,[b.PropGridPivotTableTextSize]),b.PropColumnsBold=new v(b.ObjectColumnHeaders,"bold",!1,u.codeOnly),b.PropColumnsItalic=new v(b.ObjectColumnHeaders,"italic",!1,u.codeOnly),b.PropColumnsUnderline=new v(b.ObjectColumnHeaders,"underline",!1,u.codeOnly),b.PropRowsSteppedLayout=new v(b.ObjectRowHeaders,"stepped",!0,u.codeOnly),b.PropRowsSteppedLayoutIndentation=new v(b.ObjectRowHeaders,"steppedLayoutIndentation",10,u.attributeValue),b.PropRowsFontFamily=new v(b.ObjectRowHeaders,"fontFamily",t.Hx.regular.css,u.attributeValue),b.PropRowsOutline=new v(b.ObjectRowHeaders,"outline",c.X_,u.codeOnly),b.PropRowsPivotTableOutline=new v(b.ObjectRowHeaders,"outline",void 0,u.codeOnly),b.PropRowsOutlineStyle=new v(b.ObjectRowHeaders,"outlineStyle",void 0,u.codeOnly),b.PropRowsAlignment=new v(b.ObjectRowHeaders,"alignment",p.D.auto,u.codeOnly),b.PropRowsWordWrap=new v(b.ObjectRowHeaders,"wordWrap",!1,u.codeOnly),b.PropRowsOutlineWeight=new v(b.ObjectRowHeaders,"outlineWeight",void 0,u.attributeValue),b.PropRowsUrlIcon=new v(b.ObjectRowHeaders,"urlIcon",!1,u.codeOnly),b.PropRowsFontSize=new v(b.ObjectRowHeaders,"fontSize",void 0,u.attributeValue,void 0,[b.PropGridPivotTableTextSize]),b.PropRowsShowExpandCollapseButtons=new v(b.ObjectRowHeaders,"showExpandCollapseButtons",!1,u.codeOnly),b.PropRowsExpandCollapseButtonsSize=new v(b.ObjectRowHeaders,"expandCollapseButtonsSize",void 0,u.attributeValue,void 0,[b.PropRowsFontSize]),b.PropRowsBold=new v(b.ObjectRowHeaders,"bold",!1,u.codeOnly),b.PropRowsItalic=new v(b.ObjectRowHeaders,"italic",!1,u.codeOnly),b.PropRowsUnderline=new v(b.ObjectRowHeaders,"underline",!1,u.codeOnly),b.PropRowsExpandCompositeHierarchy=new v(b.ObjectRowHeaders,"expandCompositeHierarchy",!1,u.codeOnly),b.PropRowsRepeatRowHeaders=new v(b.ObjectRowHeaders,"repeatRowHeaders",!1,u.codeOnly),b.PropRowsLegacyStyleDisabled=new v(b.ObjectRowHeaders,"legacyStyleDisabled",!1,u.codeOnly),b.PropValuesFontFamily=new v(b.ObjectValues,"fontFamily",t.Hx.regular.css,u.attributeValue),b.PropValuesBandedRowHeaders=new v(b.ObjectValues,"bandedRowHeaders",!0,u.codeOnly),b.PropValuesOutline=new v(b.ObjectValues,"outline",c.dv,u.codeOnly),b.PropValuesOutlineStyle=new v(b.ObjectValues,"outlineStyle",void 0,u.codeOnly),b.PropValuesNewVisualOutline=new v(b.ObjectValues,"outline",void 0,u.codeOnly),b.PropValuesUrlIcon=new v(b.ObjectValues,"urlIcon",!1,u.codeOnly),b.PropValuesWordWrap=new v(b.ObjectValues,"wordWrap",!1,u.codeOnly),b.PropValuesOutlineWeight=new v(b.ObjectValues,"outlineWeight",void 0,u.attributeValue),b.PropValuesOnRow=new v(b.ObjectValues,"valuesOnRow",!1,u.attributeValue),b.PropValuesFontSize=new v(b.ObjectValues,"fontSize",void 0,u.attributeValue,void 0,[b.PropGridPivotTableTextSize]),b.PropValuesIcon=new v(b.ObjectValues,"icon",void 0,u.attributeValue),b.PropValuesWebURL=new v(b.ObjectValues,"webURL",void 0,u.attributeValue),b.PropValuesBold=new v(b.ObjectValues,"bold",!1,u.codeOnly),b.PropValuesItalic=new v(b.ObjectValues,"italic",!1,u.codeOnly),b.PropValuesUnderline=new v(b.ObjectValues,"underline",!1,u.codeOnly),b.PropTotalTableExTotals=new v(b.ObjectTotal,"totals",!0,u.codeOnly),b.PropTotalTableExTotalLabel=new v(b.ObjectTotal,"label",null,u.safeTextContent),b.PropTotalOutline=new v(b.ObjectTotal,"outline",c.G7,u.codeOnly),b.PropTotalTableExOutline=new v(b.ObjectTotal,"outline",void 0,u.codeOnly),b.PropTotalOutlineStyle=new v(b.ObjectTotal,"outlineStyle",void 0,u.codeOnly),b.PropTotalOutlineWeight=new v(b.ObjectTotal,"outlineWeight",void 0,u.attributeValue),b.PropTotalFontFamily=new v(b.ObjectTotal,"fontFamily",void 0,u.attributeValue,void 0,[b.PropValuesFontFamily]),b.PropTotalFontSize=new v(b.ObjectTotal,"fontSize",void 0,u.attributeValue,void 0,[b.PropValuesFontSize]),b.PropTotalBold=new v(b.ObjectTotal,"bold",!0,u.codeOnly),b.PropTotalItalic=new v(b.ObjectTotal,"italic",!1,u.codeOnly),b.PropTotalUnderline=new v(b.ObjectTotal,"underline",!1,u.codeOnly),b.PropSubTotalsPivotTableRowSubtotals=new v(b.ObjectSubTotals,"rowSubtotals",!0,u.codeOnly),b.PropSubTotalsPivotTableRowSubtotalsLabel=new v(b.ObjectSubTotals,"rowSubtotalsLabel",null,u.safeTextContent),b.PropSubTotalsPivotTableRowSubtotalsPerLevel=new v(b.ObjectSubTotals,"perRowLevel",!1,u.codeOnly),b.PropSubTotalsPivotTableColumnSubtotals=new v(b.ObjectSubTotals,"columnSubtotals",!0,u.codeOnly),b.PropSubTotalsPivotTableColumnSubtotalsLabel=new v(b.ObjectSubTotals,"columnSubtotalsLabel",null,u.safeTextContent),b.PropSubTotalsPivotTableColumnSubtotalsPerLevel=new v(b.ObjectSubTotals,"perColumnLevel",!1,u.codeOnly),b.PropSubTotalsPivotTableLevelSubtotalEnabled=new v(b.ObjectSubTotals,"levelSubtotalEnabled",!0,u.codeOnly),b.PropSubTotalsPivotTableLevelSubtotalLabel=new v(b.ObjectSubTotals,"levelSubtotalLabel",null,u.safeTextContent),b.PropSubTotalsPivotTableRowSubtotalsPosition=new v(b.ObjectSubTotals,"rowSubtotalsPosition",void 0,u.codeOnly,(V,M,P)=>b.PropGeneralMatrixLayout.getValue(V)===a.$.Tabular?s.sQ:(0,d._W)(V,M,P)??(b.PropRowsSteppedLayout.getValue(V)?s.Mn:s.sQ)),b.PropSubTotalsApplyToHeaders=new v(b.ObjectSubTotals,"applyToHeaders",!1,u.codeOnly),b.PropSubTotalsFontFamily=new v(b.ObjectSubTotals,"fontFamily",void 0,u.attributeValue,void 0,[b.PropValuesFontFamily]),b.PropSubTotalsFontSize=new v(b.ObjectSubTotals,"fontSize",void 0,u.attributeValue,void 0,[b.PropValuesFontSize]),b.PropSubTotalsBold=new v(b.ObjectSubTotals,"bold",!0,u.codeOnly),b.PropSubTotalsItalic=new v(b.ObjectSubTotals,"italic",!1,u.codeOnly),b.PropSubTotalsUnderline=new v(b.ObjectSubTotals,"underline",!1,u.codeOnly),b.PropGrandTotalApplyToHeaders=new v(b.ObjectTotal,"applyToHeaders",!1,u.codeOnly),b.PropGrandTotalFontFamily=new v(b.ObjectTotal,"fontFamily",void 0,u.attributeValue,void 0,[b.PropSubTotalsFontFamily]),b.PropGrandTotalFontSize=new v(b.ObjectTotal,"fontSize",void 0,u.attributeValue,void 0,[b.PropSubTotalsFontSize]),b.PropGrandTotalBold=new v(b.ObjectTotal,"bold",!0,u.codeOnly),b.PropGrandTotalItalic=new v(b.ObjectTotal,"italic",!1,u.codeOnly),b.PropGrandTotalUnderline=new v(b.ObjectTotal,"underline",!1,u.codeOnly),b.PropColumnGrandTotalApplyToHeaders=new v(b.ObjectColumnTotal,"applyToHeaders",!1,u.codeOnly),b.PropColumnGrandTotalFontFamily=new v(b.ObjectColumnTotal,"fontFamily",void 0,u.attributeValue,void 0,[b.PropSubTotalsFontFamily]),b.PropColumnGrandTotalFontSize=new v(b.ObjectColumnTotal,"fontSize",void 0,u.attributeValue,void 0,[b.PropSubTotalsFontSize]),b.PropColumnGrandTotalBold=new v(b.ObjectColumnTotal,"bold",!0,u.codeOnly),b.PropColumnGrandTotalItalic=new v(b.ObjectColumnTotal,"italic",!1,u.codeOnly),b.PropColumnGrandTotalUnderline=new v(b.ObjectColumnTotal,"underline",!1,u.codeOnly),b.PropRowGrandTotalApplyToHeaders=new v(b.ObjectRowTotal,"applyToHeaders",!1,u.codeOnly),b.PropRowGrandTotalFontFamily=new v(b.ObjectRowTotal,"fontFamily",void 0,u.attributeValue,void 0,[b.PropSubTotalsFontFamily]),b.PropRowGrandTotalFontSize=new v(b.ObjectRowTotal,"fontSize",void 0,u.attributeValue,void 0,[b.PropSubTotalsFontSize]),b.PropRowGrandTotalBold=new v(b.ObjectRowTotal,"bold",!0,u.codeOnly),b.PropRowGrandTotalItalic=new v(b.ObjectRowTotal,"italic",!1,u.codeOnly),b.PropRowGrandTotalUnderline=new v(b.ObjectRowTotal,"underline",!1,u.codeOnly),b.PropColumnFormattingDisplayUnits=new v(b.ObjectColumnFormatting,"labelDisplayUnits",1,u.codeOnly,d._W),b.PropColumnFormattingPrecision=new v(b.ObjectColumnFormatting,"labelPrecision",void 0,u.codeOnly,d._W),b.PropColumnFormattingAlignment=new v(b.ObjectColumnFormatting,"alignment",p.D.auto,u.codeOnly),b.PropColumnFormattingStyleHeader=new v(b.ObjectColumnFormatting,"styleHeader",!1,u.codeOnly),b.PropColumnFormattingStyleValues=new v(b.ObjectColumnFormatting,"styleValues",!0,u.codeOnly),b.PropColumnFormattingStyleSubtotals=new v(b.ObjectColumnFormatting,"styleSubtotals",!0,u.codeOnly),b.PropColumnFormattingDataBars=new v(b.ObjectColumnFormatting,"dataBars",void 0,u.codeOnly),b.PropColumnFormattingStyleTotal=new v(b.ObjectColumnFormatting,"styleTotal",!1,u.codeOnly),b.PropColumnWidthValue=new v(b.ObjectColumnWidth,"value",void 0,u.attributeValue),b.PropAltTextValue=new v(b.ObjectAccessibility,"altTextColumns",void 0,u.attributeValue),b.ProprowWithReferenceText=new v(b.ObjectAccessibility,"rowWithReferenceText",void 0,u.attributeValue),b.PropUnfrozenRowHeaders=new v(b.ObjectRowHeaders,"unfrozen",!1,u.codeOnly),b})()},581868:function(ve,z,e){e.d(z,{XP:function(){return W},YD:function(){return F},h:function(){return j}});var a=e(647132),i=e(512655),r=e(18122),t=e(615309),o=e(649738),d=e(315818),n=e(851556),c=e(363844),s=e(509985),p=e(109632),l=e(701330),u=e(667690),v=e(735553),m=e(204687),g=(0,i.tI)("tooltip-container"),E=(0,i.tI)("tooltip-light"),D=(0,i.tI)("tooltip-content-container"),h=(0,i.tI)("tooltip-data-container"),C=(0,i.tI)("tooltip-icon-cell"),y=(0,i.tI)("tooltip-line-icon"),f=(0,i.tI)("tooltip-marker-icon"),S=(0,i.tI)("tooltip-header"),b=(0,i.tI)("tooltip-subheader"),V=(0,i.tI)("tooltip-footer"),M=(0,i.tI)("tooltip-discoverabilityText"),P=(0,i.tI)("tooltip-rows-container"),T=(0,i.tI)("tooltip-row"),N=(0,i.tI)("tooltip-title-cell"),w=(0,i.tI)("tooltip-value-cell"),I=(0,i.tI)("tooltip-kpi-cell"),O=(0,i.tI)("arrow"),x=v.Z.createFromPt(9),j={titleFontProperties:{color:"#C8C8C8",family:t.Hx.regular.css,size:x,weight:"700"},valueFontProperties:{color:"#EAEAEA",family:t.Hx.semibold.css,size:x,weight:"700"},actionFontProperties:{color:"#EAEAEA",family:t.Hx.regular.css,size:v.Z.createFromPx(10)},background:{solid:{color:"#333333"}},transparency:5},F=31;class W{constructor(){}create(K){var q=$("<div>").get(0);return(this.container=d3.select(q).classed(D.class,!0)).append("div").classed(h.class,!0).style("direction","ltr").attrs({tabindex:"0",focusable:"true",role:"dialog","aria-modal":"false",ariaLabel:K||null}),q}update(K){if(K.style??(K.style=j),r.Y.assert(()=>!!K.style.titleFontProperties,"Title Font Properties Should Be Defined"),r.Y.assert(()=>!!K.style.valueFontProperties,"Value Font Properties Should Be Defined"),!_.isEqual(K,this.currentData)&&(this.currentData=K,this.textTitleFontProperty=(0,p.o)(K.style.titleFontProperties),this.textValueFontProperty=(0,p.o)(K.style.valueFontProperties),this.container.data)){var q=this.buildViewModel(K);this.dataContainer||(this.dataContainer=this.container.select(h.selector));var ne=this.dataContainer,k=this.currentData.style;ne.selectAll(b.selector).remove(),ne.selectAll(S.selector).remove(),ne.selectAll(P.selector).remove(),ne.selectAll(T.selector).remove(),ne.selectAll(V.selector).remove(),ne.selectAll(M.selector).remove(),ne.selectAll(b.selector).data(_.filter([q.subheader],Y=>!!Y)).join(Y=>Y.append("div").attr("class",b.class)).text(q.subheader).styles((0,p.q1)(()=>k.valueFontProperties)),ne.selectAll(S.selector).data(_.filter([q.header],Y=>!!Y)).join(Y=>Y.append("div").attr("class",S.class).attr("role","heading")).text(q.header).styles((0,p.q1)(()=>k.valueFontProperties)),this.updateTooltipRows(ne,q.rows),ne.selectAll(M.selector).data(_.filter([q.discoverabilityText],Y=>!!Y)).join(Y=>Y.append("div").attr("class",M.class)).text(q.discoverabilityText).styles(k.discoverabilityFontProperties?(0,p.q1)(()=>k.discoverabilityFontProperties):{}),ne.selectAll(V.selector).data(_.filter([q.footer],Y=>!!Y)).join(Y=>Y.append("div").attr("class",V.class)).text(q.footer);var L=d3.select(g.selector),X=L.selectAll(O.selector);if(W.isFieldListTooltip())return this.container.styles({"background-color":null,"font-family":null,opacity:null}),void X.styles({"border-right-color":null,"border-left-color":null,opacity:null});X.styles({"border-right-color":k.background?.solid.color,"border-left-color":k.background?.solid.color,opacity:(0,a.yS)(k.transparency)}),L.selectAll(D.selector).attr("aria-live","polite").styles({"background-color":k.background?.solid.color,opacity:(0,a.yS)(k.transparency)}),L.select(h.selector).selectAll(N.selector).styles((0,p.q1)(()=>k.titleFontProperties)),L.select(h.selector).selectAll(w.selector).styles((0,p.q1)(()=>k.valueFontProperties))}}static isFieldListTooltip(){var K=d3.select(g.selector);return K.node()&&K.classed(E.class)}setFocus(){this.dataContainer.node().focus()}updateTooltipRows(K,q){K.selectAll(T.selector).remove(),K.selectAll(P.selector).remove();var k=K.append("div").attrs({class:P.class,role:"list"}).selectAll(T.selector).data(q).join(te=>te.append("div").attr("role","listitem").classed(T.class,!0)),L=te=>!!te?.line,X=te=>(0,d.AR)(L(te)?F/2:5,8,5/l.F0);function Y(te,ee,ue){te.selectAll("div").data(Te=>Te).join(Te=>Te.append("div")).text(Te=>o.N.getTailoredTextOrDefault({...ee,text:Te},ue))}k.selectAll(C.selector).data(te=>_.filter([te.icon],ee=>void 0!==ee)).join(te=>te.append("div").classed(C.class,!0).call(ee=>ee.append("svg").attr("height","15px").style("overflow","visible").call(ue=>{ue.append("path").classed(y.class,!0),ue.append("path").classed(f.class,!0)}))).style("max-width",te=>`${L(te)?F:13}px`).call(te=>{te.selectAll("svg").attr("width",ee=>L(ee)?F:"100%"),te.selectAll(y.selector).attrs({transform:X,d:ee=>L(ee)?"M 0 0 M -"+F/2+" 0 L "+F/2+" 0":null}).styles(ee=>(0,u.g)(ee?.line)),te.selectAll(f.selector).attrs({transform:X,d:ee=>(0,s.IG)(ee?.marker?.shape||m._Q.circle)}).styles(ee=>(0,s.C4)(ee?.marker,void 0))}),Y(k.selectAll(N.selector).data(te=>_.filter([te.displayNameRows],ee=>!!ee)).join(te=>te.append("div").classed(N.class,!0)),this.textTitleFontProperty,260),Y(k.selectAll(w.selector).data(te=>_.filter([te.valueRows],ee=>!_.isEmpty(ee))).join(te=>te.append("div").classed(w.class,!0)),this.textValueFontProperty,260),k.selectAll(I.selector).data(te=>_.filter([te.kpiValue],ee=>!!ee)).join(te=>te.append("div").styles({"vertical-align":"middle",margin:0})).attr("class",te=>`${I.class} ${(0,c.y9)(te.metadata,te.value)}`),k.each(function(te){var ee=te.extraPadding;null!=ee&&d3.selectAll(this.children).style("padding-top","top"===ee?"5px":null).style("padding-bottom","bottom"===ee?"5px":null)})}updateOptions(K){if(this.dataContainer){var q=K.dataContainerWidth;this.dataContainer.style("width",null!=q?`${q}px`:"")}}buildViewModel(K){var q=K.items,ne=_.chain(q).filter(H=>this.isValidDataItem(H)).map(H=>this.buildRowViewModel(H,K.style.titleFontProperties.color)).value();this.distributeRows(ne,K.bounds);var k=_.head(q),L=_.last(q),X=_.some(ne,H=>H.icon),Y=_.some(ne,H=>H.valueRows||H.kpiValue);if(X||Y)for(var Q of ne)X&&void 0===Q.icon&&(Q.icon=null),Y&&void 0===Q.valueRows&&null==Q.kpiValue&&(Q.valueRows=[]);return{footer:L?.footer,hasIcons:X,hasValues:Y,header:k?.header,subheader:k?.subheader,rows:ne,discoverabilityText:K.discoverabilityText}}buildRowViewModel(K,q){var ne=K.marker?.shape===m._Q.lowerErrorBar,k=K.marker?.shape===m._Q.upperErrorBar;return q&&(ne||k)&&(K.marker.color=q),r.Y.assert(()=>!(K.kpiValue&&K.value),"Should not have a `value` and a `kpiValue`"),{displayNameRows:[K.displayName],icon:K.marker?.color?{line:K.line,marker:K.marker}:void 0,kpiValue:K.kpiValue,valueRows:null==K.value||K.kpiValue?void 0:[K.value],extraPadding:K.marker?.color?k?"top":ne?"bottom":void 0:void 0}}isValidDataItem(K){return K?null!=K.displayName&&"string"!=typeof K.displayName?(r.Y.assertFail("Tooltip datapoint displayName must be a string"),!1):null==K.value||"string"==typeof K.value||(r.Y.assertFail("Tooltip datapoint value must be a string"),!1):(r.Y.assertFail("Tooltip datapoint must not be null/undefined"),!1)}getRowHeight(){return Math.max(o.N.estimateSvgTextHeight(this.textTitleFontProperty),o.N.estimateSvgTextHeight(this.textValueFontProperty))}distributeRows(K,q){for(var ne=this,X=q.height/this.getRowHeight(),Y=0,Q=[],H=[],te=[],ee=[],ue=function(){var Qe=K[Te];r.Y.assert(()=>1===Qe.displayNameRows.length,"Expected `displayNameRows` to have 1 row"),r.Y.assert(()=>null==Qe.valueRows||1===Qe.valueRows.length,"Expected `valueRows` to be `undefined` or have 1 row");var we,ye=te[Te]=(0,n.cA)(Qe.displayNameRows[0],ne.textTitleFontProperty,o.N.measureSvgTextWidth,260,X,null,!1,!0);null!=Qe.valueRows&&(we=ee[Te]=(0,n.cA)(Qe.valueRows[0],ne.textValueFontProperty,o.N.measureSvgTextWidth,260,X,null,!1,!0));var Oe=Math.max(ye.length,we?we.length:0);Q.push(Oe),Y+=Oe},Te=0;Te<K.length;Te++)ue();if(Y<=X)H=Q;else for(var He=X-K.length,We=0;We<K.length;We++)H[We]=1+Math.round(Math.max(He,0)*(Q[We]/X));for(var ft=0;ft<K.length;ft++){var mt=K[ft];mt.displayNameRows=this.getRows(te[ft],H[ft]),ee[ft]&&(mt.valueRows=this.getRows(ee[ft],H[ft]))}}getRows(K,q){return K.length>q+1?K[q-1]+=K[q]+"\u2026":K.length>q&&(K[q-1]+=K[q]),K.slice(0,q)}}},860114:function(ve,z,e){e.d(z,{DV:function(){return D},Iu:function(){return v},d5:function(){return m},p1:function(){return g}});var s,a=e(440015),i=e(389713),r=e(233390),t=e(65346),o=e(698326),d="G";class c{constructor(C,y,f){this.maxMemoryCacheSize=C,this.maxMemoryCacheSizeOverflow=y,this.localStorageCache=f,this.geocodeCache={},this.geocodeCacheCount=0,this.localStorageCache=f}clear(C,y){var f=this;return(0,r.A)(function*(){C&&y.isSupported()&&(yield y.clear()),(0,t.IL)(d),f.geocodeCache={},f.geocodeCacheCount=0})()}getCoordinates(C,y,f,S){var b=this;return(0,r.A)(function*(){var V=C.getKey(),M=b.geocodeCache[V];if(M)return++M.hitCount,M.coordinate;var P=void 0;if(f&&S.isSupported()&&(P=yield S.get(V)),!P&&(!f||!S.isSupported()||b.isBingQuery(C))&&(P=b.localStorageCache.getData(V)),P)return y&&y.logFirstQueryHit(C),b.registerInMemory(V,P,y,f,S),P;void 0===M&&(y&&y.logFirstQueryMiss(C),b.markPendingInMemory(V))})()}getCoordinatesMemoryOnly(C,y){var f=C.getKey(),S=this.geocodeCache[f];if(S)return++S.hitCount,S.coordinate}registerCoordinates(C,y,f,S,b){var V=this;return(0,r.A)(function*(){V.registerInMemory(C,y,f,S,b);var M=c.getCoordinateToCache(y);S&&b.isSupported()?yield b.set(C,M,()=>f.logGeocodeCacheLimitExceeded(!0)):V.localStorageCache.setData(C,M,()=>f.logGeocodeCacheLimitExceeded(!1))})()}markPendingInMemory(C){this.geocodeCache[C]=null}registerInMemory(C,y,f,S,b){var V=this.geocodeCache,M=this.maxMemoryCacheSize,P=M+this.maxMemoryCacheSizeOverflow;if(this.geocodeCacheCount>=P){f&&f.disableFirstQueryLogging();var T=Object.keys(V),N=T.length;if(T.sort((x,j)=>{var U=V[x],F=V[j];return(F?F.hitCount:0)-(U?U.hitCount:0)}),N<2*P)for(var w=M-1;w<N;w++)V[T[w]]=void 0;else{for(var I={},O=M-1;O-- >0;)I[T[O]]=V[T[O]];V=this.geocodeCache=I}this.geocodeCacheCount=M}S&&b.isSupported()&&null==y&&(y={latitude:void 0,longitude:void 0}),V[C]={coordinate:y,hitCount:1},++this.geocodeCacheCount}isBingQuery(C){return C instanceof o.nR||C instanceof o.fd||C instanceof o.Vj}static getCoordinateToCache(C){var y=C?.locations;if(!y||!c.hasRuntimeBoundaryData(y))return C;var f={latitude:C.latitude,longitude:C.longitude,locations:_.map(y,S=>({nativeBing:S.nativeBing}))};return C.entityType&&(f.entityType=C.entityType),f}static hasRuntimeBoundaryData(C){for(var y of C)for(var f in y)if("nativeBing"!==f)return!0;return!1}}function u(){return s||(s=new c(a.wB.MaxCacheSize,a.wB.MaxCacheSizeOverflow,(0,t.bq)(d,i.OJ,a.wB.MaxPersistedSpace,a.wB.MaxAge))),s}function v(h,C,y,f){return h.getKey()?u().getCoordinates(h,C,y,f):Promise.resolve(void 0)}function m(h,C){if(h.getKey())return u().getCoordinatesMemoryOnly(h,C)}function g(h,C,y,f,S){return h?u().registerCoordinates(h,C,y,f,S):Promise.resolve(void 0)}function D(h,C){return u().clear(h,C)}},389713:function(ve,z,e){e.d(z,{$C:function(){return u},AX:function(){return y},CJ:function(){return v},Dq:function(){return V},J6:function(){return p},KV:function(){return c},OJ:function(){return l},P1:function(){return C},R2:function(){return T},Wt:function(){return t},Wu:function(){return r},XH:function(){return m},bE:function(){return d},eA:function(){return f},g3:function(){return i},gR:function(){return g},gU:function(){return M},oG:function(){return D},q7:function(){return E},sw:function(){return s},vH:function(){return h},vb:function(){return b},yX:function(){return P},zp:function(){return o}}),e(440015);var i={Continent:"Continent",Sovereign:"Sovereign",CountryRegion:"CountryRegion",AdminDivision1:"AdminDivision1",AdminDivision2:"AdminDivision2",PopulatedPlace:"PopulatedPlace",Postcode:"Postcode",Postcode1:"Postcode1",Neighborhood:"Neighborhood",Address:"Address"},r=function(N){return N.UpHierarchy="UpHierarchy",N.Ambiguous="Ambiguous",N}({}),t=function(N){return N[N.Geocode=0]="Geocode",N[N.Geoboundary=1]="Geoboundary",N[N.Geopoint=2]="Geopoint",N[N.BatchGeocode=3]="BatchGeocode",N[N.GeocodeAzureMaps=4]="GeocodeAzureMaps",N[N.GeolocationAzureMaps=5]="GeolocationAzureMaps",N[N.GeoboundaryAzureMaps=6]="GeoboundaryAzureMaps",N[N.BatchGeocodeAzureMaps=7]="BatchGeocodeAzureMaps",N}({}),o=function(N){return N.GetGeocoding="/geocode",N.GetGeocodingBatch="/geocode:batch",N.GetPolygon="/search/polygon",N.GetIPToLocation="/geolocation",N}({}),d="2023-06-01",c="multigeocode",s=100,p=30,l="4",u="https://platform.bing.com/geo/spatial/v1/public/Geodata",v="https://dev.virtualearth.net/REST/v1/Locations",m="/public/azuremaps",g="https://atlas.microsoft.com",E=`${g}${o.GetGeocoding}`,D=`${g}${o.GetGeocodingBatch}`,h=`${g}${o.GetPolygon}`,C=`${g}${o.GetIPToLocation}`,y={adminDistrict:"AdminDistrict",locality:"Locality",postalCode:"PostalCode",addressLine:"AddressLine",countryRegion:"CountryRegion"},f={AdminDistrict:"adminDistrict",Locality:"locality",PostalCode:"postalCode",AddressLine:"addressLine",CountryRegion:"countryRegion"},b={Sovereign:"countryRegion",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},V={Sovereign:"countryRegion",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},M={Continent:"continent",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict2",AdminDivision3:"adminDistrict3",PopulatedPlace:"locality",Postcode1:"postalCode",Postcode2:"postalCode2",Postcode3:"postalCode3",Postcode4:"postalCode4",Neighborhood:"neighborhood"},P=function(N){return N.EmptyResult="Geocode result is empty.",N}({}),T=function(N){return N.Small="small",N.Medium="medium",N.Large="large",N.Huge="huge",N}({})},64820:function(ve,z,e){e.d(z,{Nv:function(){return p},WG:function(){return l},Y0:function(){return n},YZ:function(){return s},ZG:function(){return u},_W:function(){return t},no:function(){return m},y1:function(){return d},yx:function(){return v}});var a=e(223431),i=e(495123),r=e(389713);function t(){return function(E){switch(E.toLowerCase()){case"fr":return"fr-FR";case"de":return"de-DE";case"da":return"da-DK";case"es":return"es-ES";case"it":return"it-IT";case"nl":return"nl-BE";case"af":case"am":case"ar-sa":case"as":case"az-atn":case"be":case"bg":case"bn-bd":case"bn-in":case"bs":case"ca":case"ca-es-valencia":case"cs":case"cy":case"de-de":case"el":case"en-gb":case"en-us":case"es-es":case"es-us":case"es-mx":case"et":case"eu":case"fa":case"fi":case"fil-latn":case"fr-fr":case"fr-ca":case"ga":case"gd-latn":case"gl":case"gu":case"ha-latn":case"he":case"hi":case"hr":case"hu":case"hy":case"id":case"ig-latn":case"is":case"it-it":case"ja":case"ka":case"kk":case"km":case"kn":case"ko":case"kok":case"ku-arab":case"ky-cyrl":case"lb":case"lt":case"lv":case"mi-latn":case"mk":case"ml":case"mn-cyrl":case"mr":case"ms":case"mt":case"nb":case"ne":case"nl-be":case"nn":case"nso":case"or":case"pa":case"pa-arab":case"pl":case"prs-arab":case"pt-br":case"pt-pt":case"qut-latn":case"quz":case"ro":case"ru":case"rw":case"sd-arab":case"si":case"sk":case"sl":case"sq":case"sr-cryl-ba":case"sr-cryl-rs":case"sr-latn-rs":case"sv":case"sw":case"ta":case"te":case"tg-cyrl":case"th":case"ti":case"tk-latn":case"tn":case"tr":case"tt-cyrl":case"ug-arab":case"uk":case"ur":case"uz-latn":case"vi":case"wo":case"xh":case"yo-latn":case"zh-hans":case"zh-hant":case"zh-cn":case"zu":return E;default:return null}}(i.C.getLanguage())}function d(E){return!c(E,r.Wu.UpHierarchy)}function n(E){return!c(E,r.Wu.Ambiguous)}function c(E,D){return _.some(E,h=>h===D)}function s(E){for(var D=5276,h=0;h<E.length;h++)D=(D<<5)-D+E.charCodeAt(h),D|=0;return Math.abs(D)}function p(E){switch(E=E.toUpperCase()){case"ZH-HANS":case"ZH-HANT":return"CN"}var D=E.split("-",2);return D.length>1?D[1]:""}function l(E){a.Cn.information("georequest",void 0,E)}function u(E,D){a.Cn.error(`geocoding IndexedDB ${E} failure`,!0,void 0,D)}function v(E){return E?E.getAllResponseHeaders():void 0}var m=function(E){return E.Init="init",E.Get="get",E.Set="set",E.Clear="clear",E}({})},810469:function(ve,z,e){e.d(z,{L:function(){return r},w:function(){return i}});var a=e(698326);function i(t,o,d){t&&(o instanceof a.nR?t.logGeocodeImmediate(o,d):o instanceof a.Vj?t.logGeocodeBoundaryImmediate(o,d):o instanceof a.Vl?t.logAzureMapsGeocodeImmediate(o):o instanceof a.hC&&t.logAzureMapsGeocodeBoundaryImmediate(o))}function r(t,o,d,n,c,s){t&&(o instanceof a.nR?(t.logGeocodeResult(o,d,n,c),t.logBatchTelemetry(o)):o instanceof a.Vj?t.logGeocodeBoundaryResult(o,d,n,c):o instanceof a.Vl?(t.logAzureMapsGeocodeResult(o,d,n,c,s),t.logBatchTelemetry(o)):o instanceof a.hC?t.logAzureMapsGeocodeBoundaryResult(o,d,n,c,s):o instanceof a.AZ&&t.logAzureMapsGeolocationResult(o,d,n,c,s))}},732354:function(ve,z,e){e.d(z,{L:function(){return a}});var a=(()=>{class i{static setMapsAjaxCall(t){i.MapsAjaxCall=t}}return i.MapsAjaxCall=$.ajax,i})()},733085:function(ve,z,e){e.d(z,{M:function(){return C},o:function(){return h}});var a=e(233390),i=e(18122),r=e(392601),t=e(371577),o=e(698326),d=e(860114),n=e(924256),c=e(947973),s=e(440015),p=e(389713),l=e(810469),u=e(732354),v=e(64820);class m{constructor(f,S,b){this.baseUrl=f,this.credentials=S,this.entries=[],this.activeEntries=[],this.inDequeue=!1,this.geocodeRetryOptions=b.geocodeRetryOptions,this.tryIndexedDB=b.tryIndexedDB,this.indexedDBService=b.indexedDBService,this.instanceId=b.instanceId,this.queueName=b.queueName}getInstanceId(){return this.instanceId}getQueueName(){return this.queueName}reset(){var f=this.dequeueTimeout;for(var S of(f&&(this.dequeueTimeout=void 0,clearTimeout(f)),this.entries.concat(this.activeEntries)))this.cancel(S);this.entries=[],this.activeEntries=[]}enqueue(f){var S={item:f};this.entries.push(S),f.deferred.always(()=>{this.cancel(S)}),this.dequeue()}dequeue(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeEntries.length<s.wB.MaxBingRequest;){var f=this.entries.shift();f.isCompleted||(this.geocodeRetryOptions?this.makeRequest(f,0,this.geocodeRetryOptions.initialRetryIntervalInMs):this.makeRequest(f))}}finally{this.inDequeue=!1}}scheduleDequeue(){!this.dequeueTimeout&&0!==this.entries.length&&(this.dequeueTimeout=setTimeout(()=>{this.dequeueTimeout=void 0,this.dequeue()}))}cancel(f){if(!f.jsonp){var S=f.request;S&&(f.request=null,S.abort())}this.complete(f,{error:new Error("cancelled")})}complete(f,S,b){var V=!1;if(!f.isCompleted&&(f.isCompleted=!0,f.item.deferred.state()===r.h[r.h.pending])){var M=this.tryIndexedDB&&this.indexedDBService.isSupported(),P=!f.item.bypassCache&&!b;!S||S.error?M&&P&&S?.error?.message===p.yX.EmptyResult?(V=!0,(0,d.p1)(f.item.query.getKey(),void 0,f.item.logger,this.tryIndexedDB,this.indexedDBService).then(()=>{f.item.deferred.reject(S&&S.error||new Error("cancelled")),this.scheduleDequeue()},T=>{(0,v.ZG)(v.no.Set,{error:JSON.stringify(T)}),f.item.deferred.reject(S&&S.error||new Error("cancelled")),this.scheduleDequeue()})):f.item.deferred.reject(S&&S.error||new Error("cancelled")):P&&S?.coordinates?(V=!0,(0,d.p1)(f.item.query.getKey(),S.coordinates,f.item.logger,this.tryIndexedDB,this.indexedDBService).then(()=>{f.item.deferred.resolve(S.coordinates),this.scheduleDequeue()},T=>{M&&(0,v.ZG)(v.no.Set,{error:JSON.stringify(T)}),f.item.deferred.resolve(S.coordinates),this.scheduleDequeue()})):(S?.coordinates&&f.item.deferred.resolve(S.coordinates),S?.geolocation&&f.item.deferred.resolve(S.geolocation))}V||this.scheduleDequeue()}makeRequest(f,S,b){var V=!f.item.bypassCache&&(0,d.d5)(f.item.query,f.item.logger);if(V)return(0,l.w)(f.item.logger,f.item.query,V),void this.complete(f,{coordinates:V},!0);var M=f.item.query.getAjaxConfig();M.jsonp&&(f.jsonp=!0);var P=f.item.query.getHeaders&&f.item.query.getHeaders();_.isEmpty(P)||(M.headers=P);var T=f.item.query.getUrl(this.baseUrl);T?(this.activeEntries.push(f),f.request=u.L.MapsAjaxCall(T,M),f.request.always(()=>{_.pull(this.activeEntries,f)}),f.request.pipe((N,w,I)=>{var O;f.item.bypassCache&&(0,v.WG)({url:T,response:JSON.stringify(N)}),f.request=null;try{O=f.item.query.getResult(N)}catch(x){O={error:x}}(0,l.L)(f.item.logger,f.item.query,N,O,!1,(0,v.yx)(I)),this.complete(f,O)},N=>{if(f.item.bypassCache&&(0,v.WG)({url:T,error:JSON.stringify(N)}),this.shouldRetry(N?N.status:void 0,S)){var I=Math.random()*b+b;b*=2,setTimeout(()=>{S++,this.makeRequest(f,S,b)},I)}else{f.request=null;var O={error:new Error(N&&N.statusText||"cancelled")};(0,l.L)(f.item.logger,f.item.query,void 0,O,!1),this.complete(f,O)}})):this.complete(f,{error:new Error("Unsupported query.")})}shouldRetry(f,S){if(!this.geocodeRetryOptions)return!1;var{retryOnStatusCodes:b,maxRetryAttempts:V}=this.geocodeRetryOptions;return b.includes(f)&&S<V}}var g={};class h{constructor(f,S){this.useBatchGeocoding=f,this.bypassGeocodingCache=S}geocodeBaseUrl(f,S){switch(f){case p.Wt.GeocodeAzureMaps:return this.azureMapsGeocodingUrl(S);case p.Wt.BatchGeocodeAzureMaps:return this.azureMapsGeocodingBatchUrl(S);case p.Wt.GeoboundaryAzureMaps:return this.azureMapsBoundaryUrl(S);case p.Wt.Geoboundary:return this.bingSpatialDataUrl();case p.Wt.GeolocationAzureMaps:return this.azureMapsGeolocationUrl(S);default:return this.bingGeocodingUrl()}}setResolvedIsoCode(f){this.resolvedIsoCode=f}getResolvedIsoCode(){return this.resolvedIsoCode??""}geocodeQueueType(f){return f===t.fJ.AzureMaps?this.useBatchGeocoding()?p.Wt.BatchGeocodeAzureMaps:p.Wt.GeocodeAzureMaps:this.useBatchGeocoding()?p.Wt.BatchGeocode:p.Wt.Geocode}geocode(f,S,b,V,M,P,T){var N=S===t.fJ.AzureMaps;i.Y.assert(()=>N||M?.credentialType!==t.eO.SASToken,"SASToken credential type is only supported for Azure Maps");var w=this.geocodeQueueType(S),I=N?new o.Vl(this.azureMapsGeocodingUrl(M?.isPublishToWebHost??!1),f,!0,T,p.bE,this.getResolvedIsoCode(),M&&M.credentials,M&&M.credentialType,P):new o.nR(this.bingGeocodingUrl(),f,M&&M.credentials),O=(0,r.C)().defer();return this.geocodeCoreWithIpIsoCodeLookup(w,I,b,V,N,M,P).then(x=>O.resolve(x)).catch(x=>O.reject(x)),O.promise}geocodeBoundary(f,S,b,V,M,P){i.Y.assert(()=>S===t.fJ.AzureMaps||M?.credentialType!==t.eO.SASToken,"SASToken credential type is only supported for Azure Maps");var T=S===t.fJ.AzureMaps,{latitude:N,longitude:w,category:I="",levelOfDetail:O=2,maxGeoData:x=3,entityType:j}=f,U=T?p.Wt.GeoboundaryAzureMaps:p.Wt.Geoboundary,F=T?new o.hC(this.azureMapsBoundaryUrl(M?.isPublishToWebHost??!1),I,!0,P,this.getResolvedIsoCode(),p.bE,N,w,O,x,j,M&&M.credentials,M&&M.credentialType):new o.Vj(this.bingSpatialDataUrl(),N,w,I,O,x,j,M&&M.credentials),R=(0,r.C)().defer();return this.geocodeCoreWithIpIsoCodeLookup(U,F,b,V,T,M).then(B=>R.resolve(B)).catch(B=>R.reject(B)),R.promise}defaultTimeout(f=1e4){return new Promise((S,b)=>setTimeout(()=>b(new Error("Timeout exceeded")),f))}geocodePoint(f,S,b,V,M,P){var T=(0,r.C)().defer();return P={...P,timeout:P?.timeout??this.defaultTimeout()},this.geocodeCore(p.Wt.Geopoint,new o.fd(this.bingGeocodingUrl(),f,S,M??[],P?.credentials,P?.includeNeighborhood),b,V,P).then(N=>{_.isEmpty(N)?T.reject(new Error("Empty result")):T.resolve(N)}).catch(N=>{T.reject(N)}),T.promise}geolocation(f,S){i.Y.assert(()=>f===t.fJ.AzureMaps&&S?.credentialType===t.eO.SASToken,"geolocation is only supported for Azure Maps"),i.Y.assert(()=>S?.bypassCache??!1,"bypassCache should be set to true for geolocation");var b=(0,r.C)().defer(),V=this.getResolvedIsoCode();if(!_.isEmpty(V))return b.resolve({isoCode:V}),b.promise;S={...S,bypassCache:!0};var P=p.Wt.GeolocationAzureMaps,T=this.azureMapsGeolocationUrl(S?.isPublishToWebHost??!1),N=new o.AZ(T,p.bE,S?.credentials,S?.credentialType);return this.geocodeCore(P,N,!1,null,S).then(w=>{this.setResolvedIsoCode(w.isoCode),b.resolve(w)}).catch(w=>b.reject(w)),b.promise}tryGeocodeImmediate(f,S,b,V,M,P,T){var N=this;return(0,a.A)(function*(){if(!N.bypassGeocodingCache()){var w=S===t.fJ.AzureMaps?new o.Vl(N.azureMapsGeocodingUrl(M),f,!0,T,p.bE,N.getResolvedIsoCode(),void 0,t.eO.SASToken,P,M):new o.nR(N.bingGeocodingUrl(),f),I=N.bingGeocodingLogger(),O=yield(0,d.Iu)(w,I,b,V);return(0,l.w)(I,w,O),O}})()}tryGeocodeBoundaryImmediate(f,S,b,V,M,P){var T=this;return(0,a.A)(function*(){if(!T.bypassGeocodingCache()){var{latitude:N,longitude:w,category:I,levelOfDetail:O,maxGeoData:x=3,entityType:j}=f,U=S===t.fJ.AzureMaps?new o.hC(T.azureMapsBoundaryUrl(M),I,!0,P,T.getResolvedIsoCode(),p.bE,N,w,O,x,j):new o.Vj(T.bingSpatialDataUrl(),N,w,I,O,x,j),F=T.bingGeocodingLogger(),R=yield(0,d.Iu)(U,F,b,V);return(0,l.w)(F,U,R),R}})()}geocodeCoreWithIpIsoCodeLookup(f,S,b,V,M,P,T){var N=this;return(0,a.A)(function*(){var w=N.bingGeocodingLogger();if(M&&P?.credentialType===t.eO.SASToken&&P?.isPublishToWebHost&&_.isEmpty(N.getResolvedIsoCode()))try{yield N.initiateIpIsoCodeLookup(P??{},t.fJ.AzureMaps)}catch(O){w.logGeolocationMiss(O)}return yield N.geocodeCore(f,S,b,V,P,T)})()}geocodeCore(f,S,b,V,M,P){var T=$.Deferred();if(S.validate()){var N=this.bingGeocodingLogger(),w=null!=M?.bypassCache?M.bypassCache:this.bypassGeocodingCache(),I=!w&&(0,d.d5)(S,N);if(I)return(0,l.w)(N,S,I),T.resolve(I),T;var O=M?.timeout,x=f===p.Wt.BatchGeocode||f===p.Wt.BatchGeocodeAzureMaps,j=function(y,f,S,b,V,M,P,T,N){var w=y.toString()+f+(S||"");(y===p.Wt.BatchGeocode||y===p.Wt.BatchGeocodeAzureMaps)&&P&&(w+=P);var O=g[w];if(O)return O;var x=(0,n.L_)(f),j=x.queryParameters;switch("/"===(f=x.baseUrl)[f.length-1]&&(f=f.substring(0,f.length-1)),y){case p.Wt.BatchGeocodeAzureMaps:O=new c.o(f,S,{batchGeocodeCulture:P,batchSize:p.sw,batchRequest:U=>JSON.stringify({batchItems:_.map(U,F=>F.getEntity())}),batchHeaders:(U,F)=>{var R={"Accept-Language":F||(0,v._W)()};return i.Y.assert(()=>M===t.eO.SASToken,"Invalid Azure Maps credential type"),M===t.eO.SASToken&&(R.Authorization=`jwt-sas ${U}`),N&&(R["x-ms-internal-blockExtendedLocations"]="true"),R},batchQueryParameters:(U,F)=>({...j,"api-version":p.bE}),tryIndexedDB:b,indexedDBService:V,instanceId:T,queueName:w,geocodeRetryOptions:{maxRetryAttempts:3,initialRetryIntervalInMs:1e3,retryOnStatusCodes:[429]}});break;case p.Wt.BatchGeocode:O=new c.o(`${f}/${p.KV}`,S,{batchGeocodeCulture:P,batchSize:p.J6,batchRequest:U=>JSON.stringify({GeocodeEntities:_.map(U,F=>F.getEntity())}),batchHeaders:(U,F)=>({}),batchQueryParameters:(U,F)=>({...j,culture:F||(0,v._W)(),output:"json",key:U}),tryIndexedDB:b,indexedDBService:V,instanceId:T,queueName:w});break;case p.Wt.GeocodeAzureMaps:case p.Wt.GeoboundaryAzureMaps:case p.Wt.GeolocationAzureMaps:O=new m(f,S,{tryIndexedDB:b,indexedDBService:V,instanceId:T,queueName:w,geocodeRetryOptions:{maxRetryAttempts:3,initialRetryIntervalInMs:1e3,retryOnStatusCodes:[429]}});break;default:O=new m(f,S,{tryIndexedDB:b,indexedDBService:V,instanceId:T,queueName:w})}return g[w]=O,O}(f,this.geocodeBaseUrl(f,M?.isPublishToWebHost??!1),M?.credentials,b,V,M?.credentialType,x&&S.getCulture?S.getCulture():void 0,M?.instanceId,P),U={timeout:O,geocoder:this,query:S,deferred:T,logger:this.bingGeocodingLogger(),bypassCache:w};return j.enqueue(U),N&&N.collectBatchQueue(j),O&&O.finally(()=>{U.deferred.state()===r.h[r.h.pending]&&U.deferred.reject()}),T}T.reject()}initiateIpIsoCodeLookup(f,S){var b=this;return(0,a.A)(function*(){if(!f?.isPublishToWebHost)return Promise.resolve();i.Y.assert(()=>S===t.fJ.AzureMaps||f?.credentialType!==t.eO.SASToken,"Ip IsoCode lookup is only supported for Azure Maps"),f.bypassCache=!0,yield b.geolocation(S,f)})()}}class C extends h{constructor(f=()=>!1,S=()=>!1,b){super(f,S),this.logger=b}bingSpatialDataUrl(){return p.$C}bingGeocodingUrl(){return p.CJ}bingGeocodingLogger(){return this.logger}azureMapsGeocodingUrl(){return p.q7}azureMapsGeocodingBatchUrl(f){return f?p.q7:p.oG}azureMapsBoundaryUrl(){return p.vH}azureMapsGeolocationUrl(){return p.P1}}},698326:function(ve,z,e){e.d(z,{hC:function(){return S},Vl:function(){return h},AZ:function(){return b},Vj:function(){return f},fd:function(){return y},nR:function(){return D}});var a=e(18122),i=e(924256),r=e(371577),t=e(440015),o=e(389713),d=e(64820),s=u(undefined,[[t.eP.Continent,o.g3.Continent],[t.eP.CountryRegion,o.g3.Sovereign],[t.eP.StateOrProvince,o.g3.AdminDivision1],[t.eP.County,o.g3.AdminDivision2],[t.eP.City,o.g3.PopulatedPlace],[t.eP.PostalCode,o.g3.Postcode],[t.eP.Address,o.g3.Address]]),p=u(undefined,[[t.eP.CountryRegion,o.g3.CountryRegion],[t.eP.StateOrProvince,o.g3.AdminDivision1],[t.eP.County,o.g3.AdminDivision2],[t.eP.City,o.g3.PopulatedPlace],[t.eP.PostalCode,o.g3.Postcode1]]);function u(V,M){return P=>(V||function(V,M){M.forEach(([P,T])=>{V[P.toLowerCase()]=T})}(V={},M),P&&V[P.toLowerCase()]||"")}var g={[o.CJ]:"G",[o.$C]:"S",[o.q7]:"AG",[o.vH]:"AS"};class E{constructor(M,P,T,N,w,I){this.location=M,this.usingAzureMapsBackend=T,this.azureMapsDataResidency=N,this.azureMapsBlockExtendedLocations=w,this.azureMapsIsPublishToWebHost=I,P&&(T&&N&&!I&&(P=this.removeRegion(P)),this.key=((P=g[P]||P)+";"+_.map(this.location.components,O=>(O.query||"")+"/"+(O.category||"")).join("&")).toLowerCase(),M.culture&&(this.key+=`&c=${M.culture}`),T&&w&&(this.key+="&bEL"))}removeRegion(M){return a.Y.assert(()=>!!M&&M.indexOf("atlas.microsoft.com")>0,`should be a valid azure maps url, but received ${M}`),M.slice(0,8)+M.slice(M.indexOf("atlas.microsoft.com"))}getKey(){return this.key}getAjaxConfig(){return{type:"GET",dataType:"jsonp",jsonp:"jsonp"}}}var D=(()=>{class V extends E{constructor(P,T,N){super(T,P),this.credentials=N}getCulture(){return this.location.culture}getBingEntity(){return s(_.last(this.location.components).category)}validate(){return null!=this.getEntity()}getEntity(){var P=this.getGeocodingParameters();if(_.some(P,j=>!j.key)){var T=_.chain(P).map(j=>j.value).filter(j=>j).reverse().value().join(", ");return T?{Query:T}:void 0}var N={Address:{}},w=N.Address;for(var I of P){var O=I.value;if(!O||!(O=O.trim()))return;var x=I.key;"adminDistrict"===x&&w.AdminDistrict?w.AdminDistrict=I.value+", "+w.AdminDistrict:w[o.AX[x]]=I.value}return N}getUrl(P){var T={key:this.credentials||t.wB.BingKey},N=this.getEntity();if(N){var w=N.Address;if(w)for(var I in w)T[o.eA[I]]=w[I];else T.q=N.Query;var O=this.location.culture||(0,d._W)();return O&&(T.c=O),T.maxRes="10",(0,i.LF)(P,T,!0)}}getGeocodingParameters(){var P=this.location.components;return P.length>=2&&P[0].category===t.eP.Continent&&P[1].category===t.eP.CountryRegion&&(P=_.tail(P)),_.map(P,N=>{var w=s(N.category),I="";w in o.vb&&(I=o.vb[w]);var O=N.query;return w===o.g3.Sovereign&&O&&(O=V.Iso3166Substitutions[O]||O),{key:I,value:O}})}isGeneralQuery(){return _.some(this.getGeocodingParameters(),P=>!P.key)}getResult(P){var T=this.isGeneralQuery(),N=C(P,O=>this.locationQuality(O,T));if(N){var w=N.point.coordinates;return{coordinates:{latitude:w&&w[0],longitude:w&&w[1],entityType:N.entityType}}}return{error:new Error(o.yX.EmptyResult)}}shouldDoFullGeocoding(P){var T=P&&P.resourceSets&&P.resourceSets[0]&&P.resourceSets[0].resources&&P.resourceSets[0].resources[0];if(!T||(0,d.Y0)(T.matchCodes))return!1;var N=this.getBingEntity().toLowerCase(),w=T.entityType&&T.entityType.toLowerCase();return"admindivision1"===N&&"admindivision2"===w||"admindivision2"===N&&"admindivision1"===w}extractSingleResult(P,T){return P&&P.resourceSets&&P.resourceSets.length>T?{resourceSets:[P.resourceSets[T]]}:void 0}locationQuality(P,T){if(!T&&P.matchCodes&&!(0,d.y1)(P.matchCodes))return-1;var N=0;if(1===this.location.components.length&&this.location.components[0].category===t.eP.CountryRegion){var w=P.address&&P.address.countryRegionIso2;if(w){var I=this.location.components[0].query.toLowerCase();2===I.length&&I===w.toLowerCase()&&(N+=2)}}return P.entityType&&P.entityType.toLowerCase()===this.getBingEntity().toLowerCase()&&(N+=1),N}}return V.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF",SA:"Saudi Arabia"},V})(),h=(()=>{class V extends E{constructor(P,T,N,w,I,O,x,j=r.eO.SASToken,U,F){super(T,P,N,w,U,!!F),this.location=T,this.usingAzureMapsBackend=N,this.azureMapsDataResidency=w,this.apiVersion=I,this.isoCode=O,this.credentials=x,this.credentialType=j,this.blockExtendedLocations=U,this.isPublishToWebHost=F,a.Y.assert(()=>j===r.eO.SASToken||!!x,"credentials must be provided when using Azure Maps SAS Token")}getCulture(){return this.location.culture}validate(){return null!=this.getEntity()}getEntity(){var P=this.getGeocodingParameters();if(_.some(P,x=>!x.key)){var T=_.chain(P).map(x=>x.value).filter(x=>x).reverse().value().join(", ");return T?{query:T}:void 0}var N={};for(var w of P){var I=w.value;if(!I||!(I=I.trim()))return;var O=w.key;"adminDistrict"===O&&N.adminDistrict?N.adminDistrict=w.value+", "+N.adminDistrict:N[O]=w.value}return N}getUrl(P){var T={},N=this.getEntity();if(!_.isEmpty(N)){for(var w in N)T[w]=N[w];return T.top="10",T["api-version"]=this.apiVersion,(0,i.LF)(P,T,!0)}}getGeocodingParameters(){var P=this.location.components;return P.length>=2&&P[0].category===t.eP.Continent&&P[1].category===t.eP.CountryRegion&&(P=_.tail(P)),_.map(P,N=>{var w=s(N.category),I="";w in o.Dq&&(I=o.Dq[w]);var O=N.query;return w===o.g3.Sovereign&&O&&(O=V.Iso3166Substitutions[O]||O),{key:I,value:O}})}isGeneralQuery(){return _.some(this.getGeocodingParameters(),P=>!P.key)}getResult(P){var N,T=P&&!_.isEmpty(P.features)&&P.features;if(Array.isArray(T)){var w=_.chain(T).map(j=>({feature:j,value:this.locationQuality(j,this.isGeneralQuery())})).filter(j=>j.value>=0).maxBy(j=>j.value).value();N=w&&w.feature}if(N){var I=N.geometry,O=N.properties;return{coordinates:{latitude:I&&I.coordinates[1],longitude:I&&I.coordinates[0],entityType:O&&O.type}}}return{error:new Error(o.yX.EmptyResult)}}extractSingleResult(P,T){return P&&P.batchItems&&P.batchItems.length>T?P.batchItems[T]:void 0}getBingEntity(){return s(_.last(this.location.components).category)}locationQuality(P,T){if(!T&&P.properties&&P.properties.matchCodes&&!(0,d.y1)(P.properties.matchCodes))return-1;var N=0;if("High"===P.properties?.confidence&&(N+=3),1===this.location.components.length&&this.location.components[0].category===t.eP.CountryRegion){var w=P.properties&&P.properties.address&&P.properties.address.countryRegion&&P.properties.address.countryRegion.ISO;if(w){var I=this.location.components[0].query.toLowerCase();2===I.length&&I===w.toLowerCase()&&(N+=2)}}return P.properties&&P.properties.type&&P.properties.type.toLowerCase()===this.getBingEntity().toLowerCase()&&(N+=1),N}getHeaders(){a.Y.assert(()=>this.credentialType===r.eO.SASToken,"Invalid Azure Maps credential type");var P={Authorization:`jwt-sas ${this.credentials}`},T=this.getCulture()||(0,d._W)();return T&&(P["Accept-Language"]=T),_.isEmpty(this.isoCode)||(P.Locale=this.isoCode),this.blockExtendedLocations&&(P["x-ms-internal-blockExtendedLocations"]="true"),P}getAjaxConfig(){return{type:"GET",dataType:"json"}}}return V.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF"},V})();function C(V,M){var P=V&&!_.isEmpty(V.resourceSets)&&V.resourceSets[0].resources;if(Array.isArray(P)){var T=_.chain(P).map(N=>({location:N,value:M(N)})).filter(N=>N.value>=0).maxBy(N=>N.value).value();return T&&T.location}}class y extends E{constructor(M,P,T,N,w,I=!1){super({components:[{query:[P,T].join(),category:"Point"}]}),this.credentials=w,this.latitude=P,this.longitude=T,this.entities=N,this.includeNeighborhood=I}validate(){return!0}getUrl(M){a.Y.assert(()=>this.entities.every(w=>!!_.findKey(o.g3,I=>I===w)),"All entities should match one of the allowed BingEntities");var P=(0,i.L_)(M),T=_.endsWith(P.baseUrl,"/")?P.baseUrl:P.baseUrl+"/";T+=[this.latitude,this.longitude].join();var N={key:this.credentials||t.wB.BingKey,include:"ciso2"};return _.isEmpty(this.entities)||(N.includeEntityTypes=this.entities.join()),this.includeNeighborhood&&(N.inclnb="1"),(0,i.LF)(T,N,!0)}getResult(M){var P=C(M,O=>-1===this.entities.indexOf(O.entityType)?0:1);if(P){var T=P.point.coordinates,N=P.address||{};return{coordinates:{latitude:T[0],longitude:T[1],addressLine:N.addressLine,locality:N.locality,neighborhood:N.neighborhood,adminDistrict:N.adminDistrict,adminDistrict2:N.adminDistrict2,formattedAddress:N.formattedAddress,postalCode:N.postalCode,countryRegionIso2:N.countryRegionIso2,countryRegion:N.countryRegion,landmark:N.landmark,name:P.name}}}return{coordinates:null}}}class f extends E{constructor(M,P,T,N,w,I=3,O,x){super({components:[{query:[P,T,w,I].join(",")+(O!==p(N)?","+O:""),category:N}]},M),this.credentials=x,this.latitude=P,this.longitude=T,this.levelOfDetail=w,this.maxGeoData=I,this.entityType=O}getBingEntity(){return p(_.last(this.location.components).category)}validate(){return!(!this.entityType&&!this.getBingEntity())}getUrl(M){var P=this.entityType||this.getBingEntity();if(!P)return null;var{baseUrl:T,queryParameters:N}=(0,i.L_)(M);N||(N={});var w=N.c||N.culture,I=w||"",O=w&&(0,d.Nv)(w)||"";return N.key=this.credentials||t.wB.BingKey,N.$format="json",N.SpatialFilter="GetBoundary("+[this.latitude,this.longitude,this.levelOfDetail,"'"+P+"'",1,0,"'"+I+"'","'"+O+"'"].join(", ")+")",delete N.c,delete N.culture,(0,i.LF)(T,N,!0)}getResult(M){var P=M;if(P&&P.d&&Array.isArray(P.d.results)&&P.d.results.length>0){var N=P.d.results[0].Primitives;if(N&&N.length>0){var w={latitude:this.latitude,longitude:this.longitude,locations:[]};N.sort((F,R)=>F.Shape.length<R.Shape.length?1:F.Shape.length>R.Shape.length?-1:0);for(var I=Math.min(N.length,this.maxGeoData),O=0;O<I;O++)for(var j=N[O].Shape.split(","),U=1;U<j.length;U++)w.locations.push({nativeBing:j[U]});return{coordinates:w}}}return{error:new Error(o.yX.EmptyResult)}}}class S extends E{constructor(M,P,T,N,w,I,O,x,j,U=3,F,R,B=r.eO.SASToken){super({components:[{query:[O,x,j,U].join(",")+(F!==p(P)?","+F:""),category:P}]},M,T,N),this.isoCode=w,this.apiVersion=I,this.latitude=O,this.longitude=x,this.levelOfDetail=j,this.maxGeoData=U,this.entityType=F,this.credentials=R,this.credentialType=B,a.Y.assert(()=>B===r.eO.SASToken||!!R,"credentials must be provided when using Azure Maps SAS Token")}getBingEntity(){return p(_.last(this.location.components).category)}getResolution(){switch(this.levelOfDetail){case 3:return o.R2.Huge;case 2:return o.R2.Large;case 1:return o.R2.Medium;default:return o.R2.Small}}validate(){return!(!this.entityType&&!this.getBingEntity())}getUrl(M){var P,T=this.entityType??this.getBingEntity();if(""!==T&&T in o.gU&&(P=o.gU[T]),!P)return null;var w={coordinates:`${this.longitude},${this.latitude}`,view:"Auto",resultType:P,resolution:`${this.getResolution()}`,"api-version":this.apiVersion};return(0,i.LF)(M,w,!0)}getResult(M){var P=M;if(P&&P.geometry&&Array.isArray(P.geometry.geometries)&&P.geometry.geometries.length>0){var T=P.geometry.geometries,N=(w,I)=>w+I.length;return T.sort((w,I)=>{var O=w.coordinates.reduce(N,0);return I.coordinates.reduce(N,0)-O}),this.maxGeoData<T.length&&(T=T.slice(0,this.maxGeoData)),{coordinates:{latitude:this.latitude,longitude:this.longitude,geoJsonPolygons:T}}}return{error:new Error("Azure Maps Geo-boundary result is empty.")}}getHeaders(){var M;a.Y.assert(()=>this.credentialType===r.eO.SASToken,"Invalid Azure Maps credential type"),this.credentialType===r.eO.SASToken&&(M={Authorization:`jwt-sas ${this.credentials}`}),_.isEmpty(this.isoCode)||(M.Locale=this.isoCode),M.Accept="application/json";var P=(0,d._W)();return P&&(M["Accept-Language"]=P),M}getAjaxConfig(){return{type:"GET",dataType:"json"}}}class b extends E{constructor(M,P,T,N=r.eO.SASToken){super({components:[]},M,!0),this.apiVersion=P,this.credentials=T,this.credentialType=N,a.Y.assert(()=>N===r.eO.SASToken||!!T,"credentials must be provided when using Azure Maps SAS Token")}validate(){return!0}getUrl(M){return(0,i.LF)(M,{"api-version":this.apiVersion},!0)}getResult(M){return M?.countryRegion?{geolocation:{isoCode:M.countryRegion.isoCode}}:{error:new Error("Azure Maps Geo-location result is empty.")}}getHeaders(){return a.Y.assert(()=>this.credentialType===r.eO.SASToken,"Invalid Azure Maps credential type"),{Accept:"application/json",Authorization:`jwt-sas ${this.credentials}`}}getAjaxConfig(){return{type:"GET",dataType:"json"}}}},947973:function(ve,z,e){e.d(z,{o:function(){return p}});var a=e(18122),i=e(392601),r=e(924256),t=e(440015),o=e(389713),d=e(860114),n=e(810469),c=e(64820),s=e(732354);class p{constructor(u,v,m){this.baseUrl=u,this.credentials=v,this.entries=[],this.activeEntries=[],this.activeBatches=0,this.maxEntries=0,this.processedBatchQueries=new Set,this.inDequeue=!1,this.culture=m.batchGeocodeCulture,this.batchSize=m.batchSize,this.batchRequest=m.batchRequest,this.batchHeaders=m.batchHeaders,this.batchQueryParameters=m.batchQueryParameters,this.geocodeRetryOptions=m.geocodeRetryOptions,this.tryIndexedDB=m.tryIndexedDB,this.indexedDBService=m.indexedDBService,this.instanceId=m.instanceId,this.queueName=m.queueName}getInstanceId(){return this.instanceId}getQueueName(){return this.queueName}getGeocodeBatchSize(){return this.batchSize}getEntryCount(){return this.maxEntries}getProcessedBatches(){return this.processedBatchQueries?Array.from(this.processedBatchQueries).map(u=>u.split(",").length):[]}setGeocodeBatchSize(u){a.Y.assert(()=>u>0&&_.isInteger(u),"Invalid geocode batch size"),this.batchSize=u}reset(){var u=this.dequeueTimeout;for(var v of(u&&(this.dequeueTimeout=void 0,clearTimeout(u)),this.entries.concat(this.activeEntries)))this.cancel(v);this.entries=[],this.activeEntries=[]}enqueue(u){var v={item:u};this.entries.push(v);var m=this.entries.length+this.activeEntries.length;m>this.maxEntries&&(this.maxEntries=m),u.deferred.always(()=>{this.cancel(v)}),this.inDequeue||this.entries.length<this.batchSize||this.activeBatches>=t.wB.MaxBingRequest?this.scheduleDequeue():(this.dequeueTimeout&&(clearTimeout(this.dequeueTimeout),this.dequeueTimeout=void 0),this.dequeue())}addProcessedBatch(u){var v=u.map(m=>m.item.query.getKey()).sort().toString();this.processedBatchQueries.add(v)}dequeue(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeBatches<t.wB.MaxBingRequest;){for(var u=[];0!==this.entries.length&&u.length<this.batchSize;){var v=this.entries.shift();if(!v.isCompleted){var m=!v.item.bypassCache&&(0,d.d5)(v.item.query,v.item.logger);m?((0,n.w)(v.item.logger,v.item.query,m),this.complete(v,{coordinates:m},!0)):u.push(v)}}u.length&&(this.geocodeRetryOptions?this.makeRequest(u,0,this.geocodeRetryOptions.initialRetryIntervalInMs):this.makeRequest(u),this.addProcessedBatch(u))}}finally{this.inDequeue=!1}}scheduleDequeue(){!this.dequeueTimeout&&0!==this.entries.length&&(this.dequeueTimeout=setTimeout(()=>{this.dequeueTimeout=void 0,this.dequeue()}))}cancel(u){var v=u.batch;if(v){var m=v.request;m&&--v.uncancelledCount<=0&&(v.request=null,m.abort())}this.complete(u,{error:new Error("cancelled")})}complete(u,v,m){var g=!1;if(!u.isCompleted&&(u.isCompleted=!0,u.item.deferred.state()===i.h[i.h.pending])){var E=this.tryIndexedDB&&this.indexedDBService.isSupported(),D=!u.item.bypassCache&&!m;!v||v.error?E&&D&&v?.error?.message===o.yX.EmptyResult?(g=!0,(0,d.p1)(u.item.query.getKey(),void 0,u.item.logger,this.tryIndexedDB,this.indexedDBService).then(()=>{u.item.deferred.reject(v&&v.error||new Error("cancelled")),this.scheduleDequeue()},h=>{(0,c.ZG)(c.no.Set,{error:JSON.stringify(h)}),u.item.deferred.reject(v&&v.error||new Error("cancelled")),this.scheduleDequeue()})):u.item.deferred.reject(v&&v.error||new Error("cancelled")):D&&v.coordinates?(g=!0,(0,d.p1)(u.item.query.getKey(),v.coordinates,u.item.logger,this.tryIndexedDB,this.indexedDBService).then(()=>{u.item.deferred.resolve(v.coordinates),this.scheduleDequeue()},h=>{E&&(0,c.ZG)(c.no.Set,{error:JSON.stringify(h)}),u.item.deferred.resolve(v.coordinates),this.scheduleDequeue()})):u.item.deferred.resolve(v.coordinates)}g||this.scheduleDequeue()}makeRequest(u,v,m){var g=this;if(!_.isEmpty(u)){var E={type:"POST",dataType:"json",contentType:"application/json",data:this.batchRequest(u.map(V=>V.item.query))},D=this.batchHeaders&&this.batchHeaders(this.credentials,this.culture);_.isEmpty(D)||(E.headers=D);var h=this.batchQueryParameters(this.credentials,this.culture),C=(0,r.LF)(this.baseUrl,h),y={uncancelledCount:u.length,request:s.L.MapsAjaxCall(C,E)};for(var f of u)f.batch=y,this.activeEntries.push(f);++this.activeBatches;var S=y.request;S.always(()=>{for(var V of(--this.activeBatches,u))_.pull(this.activeEntries,V)});var b=_.head(u).item.bypassCache;S.pipe((V,M,P)=>{b&&(0,c.WG)({url:C,request:E.data,response:JSON.stringify(V)});for(var T=function(){var w=u[N];w.batch=null;var O,I=w.item,x=I.query.extractSingleResult&&I.query.extractSingleResult(V,N);if(I.geocoder&&I.query.shouldDoFullGeocoding&&I.query.shouldDoFullGeocoding(x))I.geocoder.geocodeCore(o.Wt.Geocode,I.query,g.tryIndexedDB,g.indexedDBService,{bypassCache:!0,timeout:I.timeout}).then(j=>{O={coordinates:j}},j=>{O={error:j}}).done(()=>{g.complete(w,O)});else{if(x)try{O=I.query.getResult(x)}catch(j){O={error:j}}else O={error:new Error("no data")};(0,n.L)(I.logger,I.query,x,O,!0,(0,c.yx)(P)),g.complete(w,O)}},N=0;N<u.length;++N)T()},V=>{if(b&&(0,c.WG)({url:C,request:E.data,error:JSON.stringify(V)}),this.shouldRetry(V?V.status:void 0,v)){var P=Math.random()*m+m;m*=2,setTimeout(()=>{v++,this.makeRequest(u,v,m)},P)}else for(var T of u){T.batch=null;var N={error:new Error(V&&V.statusText||"cancelled")};(0,n.L)(T.item.logger,T.item.query,void 0,N,!0),this.complete(T,N)}})}}shouldRetry(u,v){if(!this.geocodeRetryOptions)return!1;var{retryOnStatusCodes:m,maxRetryAttempts:g}=this.geocodeRetryOptions;return m.includes(u)&&v<g}}},620455:function(ve,z,e){e.d(z,{U:function(){return a}});var a={actionButton:"actionButton",animatedNumber:"animatedNumber",areaChart:"areaChart",barChart:"barChart",basicShape:"basicShape",shape:"shape",card:"card",cardVisual:"cardVisual",multiRowCard:"multiRowCard",clusteredBarChart:"clusteredBarChart",clusteredColumnChart:"clusteredColumnChart",columnChart:"columnChart",donutChart:"donutChart",funnel:"funnel",gauge:"gauge",hundredPercentStackedBarChart:"hundredPercentStackedBarChart",hundredPercentStackedColumnChart:"hundredPercentStackedColumnChart",image:"image",lineChart:"lineChart",lineStackedColumnComboChart:"lineStackedColumnComboChart",lineClusteredColumnComboChart:"lineClusteredColumnComboChart",map:"map",filledMap:"filledMap",azureMap:"azureMap",ribbonChart:"ribbonChart",shapeMap:"shapeMap",treemap:"treemap",pieChart:"pieChart",realTimeLineChart:"realTimeLineChart",scatterChart:"scatterChart",stackedAreaChart:"stackedAreaChart",hundredPercentStackedAreaChart:"hundredPercentStackedAreaChart",table:"table",matrix:"matrix",tableEx:"tableEx",pivotTable:"pivotTable",accessibleTable:"accessibleTable",slicer:"slicer",advancedSlicerVisual:"advancedSlicerVisual",textSlicer:"textSlicer",listSlicer:"listSlicer",pageNavigator:"pageNavigator",bookmarkNavigator:"bookmarkNavigator",filterSlicer:"filterSlicer",textbox:"textbox",aiNarratives:"aiNarratives",waterfallChart:"waterfallChart",scriptVisual:"scriptVisual",pythonVisual:"pythonVisual",kpi:"kpi",keyDriversVisual:"keyDriversVisual",decompositionTreeVisual:"decompositionTreeVisual",qnaVisual:"qnaVisual",scorecard:"scorecard",rdlVisual:"rdlVisual",dataQueryVisual:"dataQueryVisual",debugVisual:"debugVisual",heatMap:"heatMap"}},960417:function(ve,z,e){e.d(z,{NH:function(){return u},U1:function(){return m},WY:function(){return v}});var a=e(18122),i=e(392601),r=e(868237),t=e(693029),o=e(371577),d=e(358719),n=e(733085),c=e(95006),s=e(703428),p={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},l={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",Restatement_Comma:"{0}, {1}",Restatement_CompoundAnd:"{0} and {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",RichTextbox_Link_DefaultText:"Link",RichTextbox_Link_ToolTip:"Insert link",TableTotalLabel:"Total",ListJoin_Separator:", ",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",Waterfall_BreakdownDifferenceTooltip:"Difference in {0}",Waterfall_OtherLabel:"Other",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories",Increase:"Increase",MultiColumn_Join_Separator:",",NamePattern_Bracket:"{0} ({1})",Decrease:"Decrease",Waterfall_TotalLabel:"Total",SelectAll:"Select All",Visual_Quarter_Abbreviated:"Qtr {0}",All:"All",NamePattern_Colon:"{0}: {1}",Visual_LabelText_Value:"Value",Visual_Legend:"Legend",Visual_Plot:"Plot Area",Role_DisplayName_MinValue:"Minimum value",Role_DisplayName_MaxValue:"Maximum value",KpiValueFieldListDisplayName:"Value",Visual_KPI_Goal_Title:"Goal",Of:"of",Slicer_Restatement_Multiple:"Multiple Selected",DQP_Disabled_Blank:"DQP_Disabled_Blank",DQP_Disabled_SelectAll:"DQP_Disabled_SelectAll",DateSlicer_InputTextHint:"Enter date in {0} format",Slicer_Range_Hint:"Range {0} to {1}",Start_Date:"Start date",End_Date:"End date",FieldListProperty_Collapsed:"Collapsed",FieldListProperty_Expanded:"Expanded"};function u(){return new n.M}class v{constructor(){this.instanceId=void 0}static initialize(){(0,d.rL)(v.createLocaleOptions()),s.Z.localizationOptions=v.createTooltipLocaleOptions(),(0,c.mO)(v.createDataViewTransformLocalizationOptions())}static createLocaleOptions(){return{null:l.NullValue,true:l.BooleanTrue,false:l.BooleanFalse,NaN:l.NaNValue,infinity:l.InfinityValue,negativeInfinity:l.NegativeInfinityValue,beautify:E=>v.beautify(E),describe:E=>v.describeUnit(E),restatementComma:l.Restatement_Comma,restatementCompoundAnd:l.Restatement_CompoundAnd,restatementCompoundOr:l.Restatement_CompoundOr}}static createTooltipLocaleOptions(){return{highlightedValueDisplayName:l.Tooltip_HighlightedValueDisplayName}}static createDataViewTransformLocalizationOptions(){return{quarterPrefix:l.Visual_Quarter_Abbreviated}}getLocalizedString(E,...D){return l[E]}alertScreenReader(E){}alertWithDebounce(E,D){}requestFocus(){}onDragStart(){}getVisualLinkProperties(){}canSelect(){return!1}onSelecting(E){E.action=t.Ii.Selection}onSelect(){}onSwitchFocusModeState(){}canExpandCollapse(E){return!1}setNodeExpansionState(E){}setLevelExpansionState(E){}setCanDrill(E){}onContextMenu(){}loadMoreData(){}loadWindow(E){}setShouldDeferData(){}fetchMoreData(E){return!0}persistProperties(E){}onCustomSort(E){}getViewMode(){return t.nE.View}getEditMode(){return t.WF.Default}setWarnings(E){}getWarnings$(){}setToolbar(E){}shouldRetainSelection(){return!1}geocoder(){return u()}geolocation(){a.Y.assertFail("Not being called anywhere")}promiseFactory(){return(0,i.C)()}visualCapabilitiesChanged(){}ignoreDefaultFilter(){}getIdentityDisplayNames(E){}setIdentityDisplayNames(E){}drill(E){}setFilterExpressionMetadata(E){}getFilterExpressionMetadata(){}dropdown(){}tooltips(){}telemetry(){}authenticationService(){}localStorageService(){}acquireAADTokenService(){}eventService(){}licenseManagerService(){}decompositionService(){}locale(){return navigator.language}allowInteractions(){return!0}loader(){return(0,r.Yw)(this.promiseFactory(),void 0,null)}getUIComponentFactory(){return null}applyJsonFilter(E,D,h,C){return!0}applyIdentityFilter(E,D,h,C){return!0}launchUrl(E){}refreshHostData(){}sendSelectionIdsToHost(E){}getJSONFilter(E,D){return this.promiseFactory().reject()}onHyperlinkClick(E,D){}visualTimeSynchronization(){}isVisualEnabled(){return this.promiseFactory().resolve(!0)}isVisualLoading(){return this.promiseFactory().resolve(!1)}dataMultiSelectMode(){return o.fv.Single}networkAvailability(){}downloadService(){}setAriaMetadata(E){}artifactService(){}getSectionsMetadata$(){}getBookmarksMetadata$(){}onNotifyLicense(E){}onClearLicenseNotification(){}onNotifyFeatureBlocked(E){}getSubSelectionService(){}webAccessService(){}getAzureMapToken(){}azureMapsEndpoint(){}geocoderIndexedDB(){}triggerUpdate(){}azureMapsHostEnvironment(){return{isPublishToWebHost:!1,isScreenshotExportHost:!1}}localStorageV2Service(){}aiNarrativesService(){}dateTimeFormatService(){}visualExportService(){}visualHostSubSelectionService(){}annotations(){}static beautify(E){var D=p[E];return D?((0,d.lw)(D),l[D]||E):E}static describeUnit(E){var D=-1===E?"Auto":E.toString(),h=l["DisplayUnitSystem_E"+D+"_Title"],C=E<=0?"{0}":l["DisplayUnitSystem_E"+D+"_LabelFormat"];if(h||C)return{title:h,format:C}}}var m=new v},837585:function(ve,z,e){e.d(z,{aL:function(){return C},mM:function(){return p},p8:function(){return l},pl:function(){return D},qb:function(){return h},sM:function(){return s},v:function(){return v},xR:function(){return c}});var a=e(18122),i=e(432262),r=e(693029),t=e(715068),o=e(371577),d=e(890741),n=e(573740);function c(S,b){return new D(S,b)}function s(S,b="rect"){var V=S.select(`${b}.clearCatcher`);return V.empty()&&(V=S.append(b).classed("clearCatcher",!0).attr("width","100%").attr("height","100%")),V}function p(S,b="rect"){var V=S.select(`${b}.clearCatcher`);V.empty()||V.style("pointer-events","none")}function l(S,b="rect"){var V=S.select(`${b}.clearCatcher`);V.empty()||V.style("pointer-events","auto")}function v(S){if(_.isEmpty(S))return!1;for(var b=0,V=S.length;b<V;b++)if(S[b].selected)return!0;return!1}class m{constructor(b,V,M,P,T){this.dataPoints=b,this.behavior=V,this.key=M,this.hasSelection=P,this.matchPartialIdentities=T}render(){this.behavior.renderSelection(this.hasSelection())}}function g(S,b){return _.find(S,V=>!V.identity.highlight&&b.identity.includes(V.identity,!0))}class E{constructor(b,V){this.selectionStateManager=b,this.pointSources={},V&&(this.identityComparisonCache={containsComparisonCache:{},equalsComparisonCache:{}})}findNonHightlightDataPoint(b){for(var V of this.getSelectablePointSources()){var M=g(V.dataPoints,b);if(M)return M}}applySelectionStateToDataPoints(b){this.updateSelectableDataPointsBySelectedIds(b,void 0,this.identityComparisonCache)}syncSelectionState(b){this.getSelectablePointSources(b).forEach(V=>{this.updateSelectableDataPointsBySelectedIds(V.dataPoints,V.matchPartialIdentities,this.identityComparisonCache)})}clearDataPointSelection(){this.applyToAllSelectableDataPoints(b=>b.selected=!1)}render(){this.getSelectablePointSources().forEach(b=>{b.render()})}bind(b,V,M,P){var T,N=!1;P&&(P.isAxis||P.isLabels||P.isLegend||P.useSelectableDataPointForHasSelection)?T=()=>!!b&&v(b):(T=()=>this.selectionStateManager.getSelectionSize()>0,N=!0),this.isHierarchicalAxis=P&&P.isHierarchicalAxis,this.selectionStateManager.amendDecomposedSelection(!this.isHierarchicalAxis),this.pointSources[M]=new m(b,V,M,T,N),this.clearComparisonCache()}hasSelectionForSource(b){return v(this.pointSources[b]?.dataPoints)}clearComparisonCache(){this.identityComparisonCache&&(this.identityComparisonCache={containsComparisonCache:{},equalsComparisonCache:{}})}applyToAllSelectableDataPoints(b){this.getSelectablePointSources().forEach(V=>{if(V.dataPoints)for(var M of V.dataPoints)b(M)})}updateSelectableDataPointsBySelectedIds(b,V=!1,M){_.isEmpty(b)||this.selectionStateManager.updateDatapointAgainstSelectedIds(b,V,this.isHierarchicalAxis,M)}getSelectablePointSources(b){if(b){var V=this.pointSources[b];return V?[V]:[]}return _.map(Object.keys(this.pointSources),M=>this.pointSources[M])}}var D=(()=>{class S{constructor(V,M){a.Y.assertValue(V,"hostServices"),this.hostService=V,this.dataPointNavigationManager=new f,this.categoryAxisNavigationManager=new f,this.selectionStateManager=new y,this.dataPointManager=new E(this.selectionStateManager,M.interactivityServiceCaching)}bind(V,M,P,T){T&&T.overrideSelectionFromData&&this.takeSelectionStateFromDataPoints(V),this.isHierarchicalAxis=T&&T.isHierarchicalAxis;var N=T?T.pointSourceKey:"";this.dataPointManager.bind(V,M,N,T),T&&T.navigationOptions&&(T.isAxis?this.categoryAxisNavigationManager.update(M,T.navigationOptions,N):this.dataPointNavigationManager.update(M,T.navigationOptions,N),T.navigationOptions.focusElement&&M.renderFocus(T.navigationOptions.focusElement)),M.bindEvents(P,this,T&&T.isAxis?{dataPointNavigationManager:this.categoryAxisNavigationManager,pointSourceKey:N}:{dataPointNavigationManager:this.dataPointNavigationManager,pointSourceKey:N},this.formatMode),this.syncSelectionState(T&&T.pointSourceKey)}clearSelection(){this.clearSelectionInternal(),this.renderAll()}clearSelectionInternal(){this.clearSelectionState(),this.dataPointManager.clearDataPointSelection()}applySelectionStateToData(V){return this.dataPointManager.applySelectionStateToDataPoints(V),this.hasSelection()}hasSelection(){return this.selectionStateManager.getSelectionSize()>0}hasSelectionForSource(V){return this.dataPointManager.hasSelectionForSource(V)}static getVisualObjects(V){return _.map(V,M=>({objectName:S.dataPointObjectName,selectorsByColumn:M.getSelectorsByColumn()}))}handleSelection(V,M,P){var T;(a.Y.assertValue(V,"dataPoint"),V)&&(V.specificIdentity?T=V.specificIdentity.getSelectorsByColumn():(!V.identity&&V.lazyIdentity&&(V.identity=V.lazyIdentity()),V.identity&&(T=V.identity.getSelectorsByColumn())),this.hostService.dataMultiSelectMode()===o.fv.Multiple&&M===t.v.Single&&(M=t.v.Difference),this.runInTransaction(()=>{var I;V.identity&&this.select(V,M),I=V.specificIdentity?[{objectName:S.dataPointObjectName,selectorsByColumn:T}]:S.getVisualObjects(this.selectionStateManager.getSelectionIds());var O={type:o.H6.DataPointSelection,visualObjects:I,isCtrlOrMetaKey:M===t.v.Difference,isShiftKey:M===t.v.Union,isLassoSelect:!1,position:P};return _.isEmpty(T)||this.hostService.onSelecting(O),O},M,!1,!V.identity))}handleMultipleSelection(V,M,P,T){this.runInTransaction(()=>{this.selectMultiple(V,M);var w={type:o.H6.DataPointSelection,visualObjects:S.getVisualObjects(this.selectionStateManager.getSelectionIds()),isCtrlOrMetaKey:!!P||M===t.v.Difference,isShiftKey:M===t.v.Union,isLassoSelect:P,position:T};return this.hostService.onSelecting(w),w},M,P,!1)}runInTransaction(V,M,P,T){var w,N=!1;this.selectionStateManager.beginTransaction();try{var I=V();I.action!==r.Ii.Selection&&I.action?this.selectionStateManager.rollback():(this.selectionStateManager.commit(),N=!0,w=I.selectionLimitInfo,this.syncSelectionState())}catch{this.selectionStateManager.rollback()}finally{N&&(T?this.handleClearSelection():(this.sendSelectionToHost(M,P,w),this.renderAll()))}}handleContextMenu(V,M){this.sendContextMenuToHost(V,M)}handleClearSelection(){this.hostService.dataMultiSelectMode()===o.fv.Single&&(this.clearSelection(),this.sendSelectionToHost(t.v.Single,!1,{existingSelectionLength:0,newSelectionLength:0,allowed:!0}))}restoreSelection(V){return this.clearSelection(),this.selectionStateManager.restoreSelection(V,this.isHierarchicalAxis),this.syncSelectionState(),this.renderAll(),this.hasSelection()}renderAll(){this.dataPointManager.render()}clearSelectionState(){this.selectionStateManager.clearSelectionState()}selectMultiple(V,M){for(var P of((M===t.v.Single||M===t.v.Intersection)&&this.clearSelectionState(),V)){var T=P.identity;T.highlight||(M===t.v.Union||M===t.v.Single?this.addId(T):M===t.v.Difference?P.selected?this.removeId(T):this.addId(T):M===t.v.Intersection&&P.selected&&this.addId(T))}}updateSelectionState(V,M,P,T){T||this.clearSelectionInternal(),V.selected?T&&M===t.v.Difference&&this.removeId(P):(this.addId(P),T&&(P.hasIdentity()?this.removeSelectionIdsWithOnlyMeasures():this.removeSelectionIdsExceptOnlyMeasures()))}select(V,M){V.identity&&V.identity.highlight&&(V=this.dataPointManager.findNonHightlightDataPoint(V),a.Y.assertValue(V,"Expected to find a non-highlight data point"));var P=V.identity;if(P){var T=this.getSelectionIds(),N=this.hostService.canSelect(S.createSelectEventArgs(T,M));switch(M){case t.v.Single:!V.selected||T.length>1||1===T.length&&!T[0].equals(P)?(this.clearSelectionInternal(),this.addId(P)):V.selected?this.removeId(P):this.addId(P);break;case t.v.Difference:case t.v.Union:this.updateSelectionState(V,M,P,N);break;case t.v.Intersection:a.Y.assertFail("single selection does not have intersection implemented");break;default:a.Y.assertFail("no such multiSelectMode")}}}removeId(V){this.selectionStateManager.removeId(V,this.isHierarchicalAxis)}addId(V){this.selectionStateManager.addId(V,this.isHierarchicalAxis)}getSelectionIds(){return this.selectionStateManager.getSelectionIds()}sendContextMenuToHost(V,M){var P=this.hostService;if(P.onContextMenu){var T,N,w;V.specificIdentity?T=V.specificIdentity:V.identity&&(T=V.identity),w=this.selectionStateManager.isIdSelected(T),N=!T||w?this.getSelectionIds():[T];var I=[];for(var O of N){var x=O.getSelectorsByColumn();_.isEmpty(x)||I.push(x)}_.isEmpty(I)||P.onContextMenu({data:I,position:M})}}sendSelectionToHost(V,M,P){var T=this.hostService;if(T.onSelect){var N=S.createSelectEventArgs(this.getSelectionIds(),V,M,P);T.onSelect(N)}}static createSelectEventArgs(V,M,P,T){var N=!1;_.isEmpty(V)||(N=V[0].getSelector()&&!V[0].getSelectorsByColumn());var w=_.chain(V).filter(O=>O.hasIdentity()),I={type:o.H6.DataPointSelection,visualObjects:w.map(O=>({objectName:S.dataPointObjectName,selectorsByColumn:O.getSelectorsByColumn()})).value(),selectionMode:M,isLassoSelect:P,selectionLimitInfo:T};return N&&(I.selectors=w.map(O=>O.getSelector()).value()),I}takeSelectionStateFromDataPoints(V){for(var M of(a.Y.assertValue(V,"dataPoints"),this.clearSelectionState(),V))M.selected&&this.addId(M.identity)}syncSelectionState(V){this.dataPointManager.syncSelectionState(V)}removeSelectionIdsWithOnlyMeasures(){this.filterSelection(V=>V.hasIdentity())}removeSelectionIdsExceptOnlyMeasures(){this.filterSelection(V=>!V.hasIdentity())}filterSelection(V){this.selectionStateManager.filterSelection(V)}setFormatMode(V){this.formatMode=V,V&&this.handleClearSelection()}setSubSelectionHelper(V){this.subSelectionHelper=V}getSubSelectionHelper(){return this.subSelectionHelper}}return S.dataPointObjectName="dataPoint",S})(),h=function(S){return S[S.CategoryFirst=0]="CategoryFirst",S[S.SeriesFirst=1]="SeriesFirst",S[S.CategoryOnly=2]="CategoryOnly",S[S.SeriesOnly=3]="SeriesOnly",S}({}),C=function(S){return S[S.NextCategory=0]="NextCategory",S[S.PreviousCategory=1]="PreviousCategory",S[S.NextSeries=2]="NextSeries",S[S.PreviousSeries=3]="PreviousSeries",S}({});class y{constructor(){this.clearSelectionState()}beginTransaction(){a.Y.assert(()=>void 0===this.previousSelectedIds,"previousSelectedIds"),this.previousSelectedIds=_.clone(this.selectedIds),this.previousDecomposedSelectedIds=_.clone(this.decomposedSelectedIds),this.previousSelectionIdSize=this.selectionIdSize}commit(){a.Y.assertValue(this.previousSelectedIds,"previousSelectedIds"),this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0}rollback(){a.Y.assertValue(this.previousSelectedIds,"previousSelectedIds"),this.selectedIds=this.previousSelectedIds,this.decomposedSelectedIds=this.previousDecomposedSelectedIds,this.selectionIdSize=this.previousSelectionIdSize,this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0}isIdSelected(b){var V=this.selectedIds[b?.getKeyWithoutHighlight()];return this.selectionIdSize>1&&V&&V.equals(b)}clearSelectionState(){this.selectedIds={},this.decomposedSelectedIds={},this.selectionIdSize=0}restoreSelection(b,V){_.forEach(b,M=>{var P=n.M3.fromSelectorsByColumn(M);this.addId(P,V)})}addId(b,V){this.addDecomposedId(b,!V);var M=!!this.selectedIds[b.getKeyWithoutHighlight()];this.selectedIds[b.getKeyWithoutHighlight()]=b,M||(this.selectionIdSize=void 0!==this.selectionIdSize?this.selectionIdSize+1:1)}addDecomposedId(b,V){var M=b.getDecomposedKeys(V);if(M)for(var P of M){var T=this.decomposedSelectedIds[P];_.isArray(T)?_.some(T,N=>N.equals(b))||T.push(b):this.decomposedSelectedIds[P]=[b]}}amendDecomposedSelection(b){this.decomposedSelectedIds={};var V=_.values(this.selectedIds);for(var M of V)this.addDecomposedId(M,b)}removeId(b,V){var M=O=>{var x=O.getKeyWithoutHighlight(),j=this.selectedIds[x];j&&j.includes(b)&&(delete this.selectedIds[x],this.selectionIdSize--)};M(b);var P=O=>{if(O)for(var x=O.length-1;x>-1;x--){var j=O[x];b.includes(j)&&(O.splice(x,1),M(j))}},T=b.getDecomposedKeys(!V);if(T)for(var N of T){var w=this.decomposedSelectedIds[N];P(w),_.isEmpty(w)&&delete this.decomposedSelectedIds[N]}var I=this.decomposedSelectedIds[d.Rf];I&&I.length&&(P(I),_.isEmpty(I)&&delete this.decomposedSelectedIds[d.Rf])}getSelectionSize(){return this.selectionIdSize}getSelectionIds(){return _.values(this.selectedIds)}filterSelection(b){this.selectedIds=_.pickBy(this.selectedIds,b);var V={};_.forEach(this.decomposedSelectedIds,(M,P)=>{var T=_.filter(M,b);T&&!_.isEmpty(T)&&(V[P]=T)}),this.decomposedSelectedIds=V}updateDatapointAgainstSelectedIds(b,V,M,P){var T=!_.isEmpty(this.selectedIds),N=!_.isEmpty(this.decomposedSelectedIds);if(T||N)for(var I of b)I.selected=this.checkDatapointAgainstSelectedIds(I,V,M,T,N,P);else for(var w of b)w.selected=!1}checkDatapointAgainstSelectedIds(b,V,M,P,T,N){if(P){var w=b.identity?.getKeyWithoutHighlight();if(w){var I=this.selectedIds[w];if(I&&I.includes(b.identity,!0,V,N))return!0}}if(T){var O=b.identity?.getDecomposedKeys(!M);if(O)for(var x of O){var j=this.decomposedSelectedIds[x];if(j)for(var U of j)if(U&&U.includes(b.identity,!0,V,N))return!0}var F=this.decomposedSelectedIds[d.Rf];if(!_.isEmpty(F))for(var R of F)if(R&&R.includes(b.identity,!0,V))return!0}return!1}}class f{constructor(){this.behaviors={},this.helpers={}}update(b,V,M){this.behaviors[M]=b,this.navigationStrategy=V.navigationStrategy,this.helpers[M]=V.helper}goToFirstElement(b){var V=this.helpers[b].getFirstElement().element;V&&this.behaviors[b].renderFocus(V)}isEmpty(b){return!this.behaviors[b]||_.isEmpty(this.helpers[b])}handleKeyDownEvent(b,V,M,P,T){var N,w=this.helpers[b];switch(P){case i.cK.tabKeyCode:var I=this.navigationStrategy;I===h.CategoryFirst||I===h.SeriesOnly?N=w.getNextDataPoint(V,M,T?C.PreviousSeries:C.NextSeries):I===h.SeriesFirst||I===h.CategoryOnly?N=w.getNextDataPoint(V,M,T?C.PreviousCategory:C.NextCategory):a.Y.assertFail("Unknown DataPointNavigationStrategy in DataPointNavigationManager.handleKeyDownEvent");break;case i.cK.leftArrowKeyCode:N=w.getNextDataPoint(V,M,C.PreviousCategory);break;case i.cK.rightArrowKeyCode:N=w.getNextDataPoint(V,M,C.NextCategory);break;case i.cK.upArrowKeyCode:N=w.getNextDataPoint(V,M,w.validateDirection?.(C.NextSeries)??C.NextSeries);break;case i.cK.downArrowKeyCode:N=w.getNextDataPoint(V,M,w.validateDirection?.(C.PreviousSeries)??C.PreviousSeries);break;default:a.Y.assertFail("Unsupported key code received by DataPointNavigationManager.handleKeyDownEvent")}this.behaviors[b].renderFocus(N.element)}}},484242:function(ve,z,e){e.d(z,{R:function(){return n}});var a=e(454840),i=e(266092),r=e(757406),t=e(985503),o=e(997665);function d(c,s){var p=(0,o.ip)(c,s);return p?{grid:[{properties:{outlineColor:(0,t.GG)(p.outlineColor),outlineWeight:(0,r.nd)(a.n4.valueOrDefault(p.outlineWeight,o.dy)),gridVertical:(0,r.zM)(p.gridVerticalEnabledMatrix),gridVerticalColor:(0,t.GG)(p.gridColor),gridVerticalWeight:(0,r.nd)(a.n4.valueOrDefault(p.gridVerticalWeight,o.Ph)),gridHorizontal:(0,r.zM)(p.gridHorizontalEnabledMatrix),gridHorizontalColor:(0,t.GG)(p.gridColor),gridHorizontalWeight:(0,r.nd)(a.n4.valueOrDefault(p.gridHorizontalWeight,o.pM)),rowPadding:(0,r.nd)(p.rowPadding)}}],columnHeaders:[{properties:{outline:(0,r.Qq)(a.n4.valueOrDefault(p.outlineModeColumnHeaders,o.Kx)),fontColor:(0,t.GG)(p.fontColorHeaders),backColor:(0,t.GG)(p.backColorHeaders)}}],rowHeaders:[{properties:{outline:(0,r.Qq)(a.n4.valueOrDefault(p.outlineModeRowHeaders,o.Kz)),fontColor:(0,t.GG)(p.fontColorHeaders),backColor:(0,t.GG)(p.backColorHeaders)}}],values:[{properties:{outline:(0,r.Qq)(a.n4.valueOrDefault(p.outlineModeValues,o.FD)),fontColorPrimary:(0,t.GG)(p.fontColorValues1),backColorPrimary:(0,t.GG)(p.backColorValues1),fontColorSecondary:(0,t.GG)(p.fontColorValues2),backColorSecondary:(0,t.GG)(p.backColorValues2)}}],subTotals:[{properties:{fontColor:void 0,backColor:void 0}}],total:[{properties:{fontColor:(0,t.GG)(p.fontColorTotals),backColor:(0,t.GG)(p.backColorTotals),applyToHeaders:(0,r.zM)(!1)}}]}:{}}function n(){return{sectionTitle:(0,i.D)("Visual_Matrix_StylePreset_SectionTitle"),sliceTitle:(0,i.D)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:o.NV,presets:{[o.NV]:{name:o.NV,displayName:(0,i.D)("None"),evaluate:c=>d(o.NV,c)},[o.Ul]:{name:o.Ul,displayName:(0,i.D)("Visual_Table_StylePreset_Minimal"),evaluate:c=>d(o.Ul,c)},[o.F5]:{name:o.F5,displayName:(0,i.D)("Visual_Table_StylePreset_BoldHeader"),evaluate:c=>d(o.F5,c)},[o.b4]:{name:o.b4,displayName:(0,i.D)("Visual_Table_StylePreset_AlternatingRows"),evaluate:c=>d(o.b4,c)},[o.nd]:{name:o.nd,displayName:(0,i.D)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:c=>d(o.nd,c)},[o.XD]:{name:o.XD,displayName:(0,i.D)("Visual_Table_StylePreset_FlashyRows"),evaluate:c=>d(o.XD,c)},[o.ny]:{name:o.ny,displayName:(0,i.D)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:c=>d(o.ny,c)},[o.$h]:{name:o.$h,displayName:(0,i.D)("Visual_Table_StylePreset_Sparse"),evaluate:c=>d(o.$h,c)},[o.cg]:{name:o.cg,displayName:(0,i.D)("Visual_Table_StylePreset_Condensed"),evaluate:c=>d(o.cg,c)}}}}},752025:function(ve,z,e){e.d(z,{Q:function(){return n}});var a=e(454840),i=e(266092),r=e(757406),t=e(985503),o=e(997665);function d(c,s,p){var l=(0,o.ip)(c,s);if(!l)return{};var u=[{properties:{fontColor:(0,t.GG)(l.fontColorSubtotalsRow),backColor:(0,t.GG)(l.backColorSubtotalsRow)},selector:{id:"Row"}},{properties:{fontColor:void 0,backColor:void 0},selector:{id:"Column"}}];return{grid:[{properties:{outline:void 0,outlineColor:(0,t.GG)(l.outlineColor),outlineWeight:(0,r.nd)(a.n4.valueOrDefault(l.outlineWeight,o.dy)),gridVertical:(0,r.zM)(l.gridVerticalEnabledMatrix),gridVerticalColor:(0,t.GG)(l.gridColor),gridVerticalWeight:(0,r.nd)(a.n4.valueOrDefault(l.gridVerticalWeight,o.Ph)),gridHorizontal:(0,r.zM)(l.gridHorizontalEnabledMatrix),gridHorizontalColor:(0,t.GG)(l.gridColor),gridHorizontalWeight:(0,r.nd)(a.n4.valueOrDefault(l.gridHorizontalWeight,o.pM)),rowPadding:(0,r.nd)(l.rowPadding)}}],columnHeaders:[{properties:{outline:(0,r.Qq)(a.n4.valueOrDefault(l.outlineModeColumnHeaders,o.KB)),outlineStyle:(0,r.nd)(a.n4.valueOrDefault(l.outlineModeColumnHeaders,o.RZ)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,t.GG)(l.fontColorHeaders),backColor:(0,t.GG)(l.backColorHeaders)}}],rowHeaders:[{properties:{outline:(0,r.Qq)(a.n4.valueOrDefault(l.outlineModeRowHeaders,o.A8)),outlineStyle:(0,r.nd)(a.n4.valueOrDefault(l.outlineModeRowHeaders,o.ji)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,t.GG)(l.fontColorHeaders),backColor:(0,t.GG)(l.backColorHeaders),applyAlternation:(0,r.zM)(!0)}}],values:[{properties:{outline:(0,r.Qq)(a.n4.valueOrDefault(l.outlineModeValues,o.PY)),outlineStyle:(0,r.nd)(a.n4.valueOrDefault(l.outlineModeValues,o.i8)),outlineColor:void 0,outlineWeight:void 0,fontColorPrimary:(0,t.GG)(l.fontColorValues1),backColorPrimary:(0,t.GG)(l.backColorValues1),fontColorSecondary:(0,t.GG)(l.fontColorValues2),backColorSecondary:(0,t.GG)(l.backColorValues2)}}],subTotals:u,total:[{properties:{fontColor:(0,t.GG)(l.fontColorTotals),backColor:(0,t.GG)(l.backColorTotals),applyToHeaders:(0,r.zM)(!1)}}],rowTotal:[{properties:{fontColor:(0,t.GG)(l.fontColorTotals),backColor:(0,t.GG)(l.backColorTotals),applyToHeaders:(0,r.zM)(!1)}}],columnTotal:[{properties:{fontColor:(0,t.GG)(l.fontColorTotals),backColor:(0,t.GG)(l.backColorTotals),applyToHeaders:(0,r.zM)(!1)}}]}}function n(c){return{sectionTitle:(0,i.D)("Visual_Matrix_StylePreset_SectionTitle"),sliceTitle:(0,i.D)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:o.yB,presets:{[o.yB]:{name:o.yB,displayName:(0,i.D)("Default"),evaluate:s=>d(o.yB,s)},[o.NV]:{name:o.NV,displayName:(0,i.D)("None"),evaluate:s=>d(o.NV,s)},[o.Ul]:{name:o.Ul,displayName:(0,i.D)("Visual_Table_StylePreset_Minimal"),evaluate:s=>d(o.Ul,s)},[o.F5]:{name:o.F5,displayName:(0,i.D)("Visual_Table_StylePreset_BoldHeader"),evaluate:s=>d(o.F5,s)},[o.b4]:{name:o.b4,displayName:(0,i.D)("Visual_Table_StylePreset_AlternatingRows"),evaluate:s=>d(o.b4,s),isDeprecated:!0},[o.b]:{name:o.b,displayName:(0,i.D)("Visual_Table_StylePreset_AlternatingRowsNew"),evaluate:s=>d(o.b,s)},[o.nd]:{name:o.nd,displayName:(0,i.D)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:s=>d(o.nd,s)},[o.XD]:{name:o.XD,displayName:(0,i.D)("Visual_Table_StylePreset_FlashyRows"),evaluate:s=>d(o.XD,s)},[o.ny]:{name:o.ny,displayName:(0,i.D)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:s=>d(o.ny,s)},[o.$h]:{name:o.$h,displayName:(0,i.D)("Visual_Table_StylePreset_Sparse"),evaluate:s=>d(o.$h,s)},[o.cg]:{name:o.cg,displayName:(0,i.D)("Visual_Table_StylePreset_Condensed"),evaluate:s=>d(o.cg,s)}}}}},448611:function(ve,z,e){e.d(z,{S:function(){return n}});var a=e(454840),i=e(266092),r=e(757406),t=e(985503),o=e(997665);function d(c,s){var p=(0,o.ip)(c,s);return p?{grid:[{properties:{outlineColor:(0,t.GG)(p.outlineColor),outlineWeight:(0,r.nd)(a.n4.valueOrDefault(p.outlineWeight,o.dy)),gridVertical:(0,r.zM)(p.gridVerticalEnabledTable),gridVerticalColor:(0,t.GG)(p.gridColor),gridVerticalWeight:(0,r.nd)(a.n4.valueOrDefault(p.gridVerticalWeight,o.Ph)),gridHorizontal:(0,r.zM)(p.gridHorizontalEnabledTable),gridHorizontalColor:(0,t.GG)(p.gridColor),gridHorizontalWeight:(0,r.nd)(a.n4.valueOrDefault(p.gridHorizontalWeight,o.pM)),rowPadding:(0,r.nd)(p.rowPadding)}}],columnHeaders:[{properties:{outline:(0,r.Qq)(a.n4.valueOrDefault(p.outlineModeColumnHeaders,o.Kx)),fontColor:(0,t.GG)(p.fontColorHeaders),backColor:(0,t.GG)(p.backColorHeaders)}}],values:[{properties:{outline:(0,r.Qq)(a.n4.valueOrDefault(p.outlineModeValues,o.FD)),fontColorPrimary:(0,t.GG)(p.fontColorValues1),backColorPrimary:(0,t.GG)(p.backColorValues1),fontColorSecondary:(0,t.GG)(p.fontColorValues2),backColorSecondary:(0,t.GG)(p.backColorValues2)}}],total:[{properties:{outline:(0,r.Qq)(a.n4.valueOrDefault(p.outlineModeTotals,o.RT)),fontColor:(0,t.GG)(p.fontColorTotals),backColor:(0,t.GG)(p.backColorTotals)}}]}:{}}function n(){return{sectionTitle:(0,i.D)("Visual_Table_StylePreset_SectionTitle"),sliceTitle:(0,i.D)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:o.NV,presets:{[o.NV]:{name:o.NV,displayName:(0,i.D)("None"),evaluate:c=>d(o.NV,c)},[o.Ul]:{name:o.Ul,displayName:(0,i.D)("Visual_Table_StylePreset_Minimal"),evaluate:c=>d(o.Ul,c)},[o.F5]:{name:o.F5,displayName:(0,i.D)("Visual_Table_StylePreset_BoldHeader"),evaluate:c=>d(o.F5,c)},[o.b4]:{name:o.b4,displayName:(0,i.D)("Visual_Table_StylePreset_AlternatingRows"),evaluate:c=>d(o.b4,c)},[o.nd]:{name:o.nd,displayName:(0,i.D)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:c=>d(o.nd,c)},[o.XD]:{name:o.XD,displayName:(0,i.D)("Visual_Table_StylePreset_FlashyRows"),evaluate:c=>d(o.XD,c)},[o.ny]:{name:o.ny,displayName:(0,i.D)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:c=>d(o.ny,c)},[o.$h]:{name:o.$h,displayName:(0,i.D)("Visual_Table_StylePreset_Sparse"),evaluate:c=>d(o.$h,c)},[o.cg]:{name:o.cg,displayName:(0,i.D)("Visual_Table_StylePreset_Condensed"),evaluate:c=>d(o.cg,c)}}}}},325876:function(ve,z,e){e.d(z,{f:function(){return n}});var a=e(454840),i=e(266092),r=e(757406),t=e(985503),o=e(997665);function d(c,s,p){var l=(0,o.ip)(c,s);return l?{grid:[{properties:{outline:void 0,outlineColor:(0,t.GG)(l.outlineColor),outlineWeight:(0,r.nd)(a.n4.valueOrDefault(l.outlineWeight,o.dy)),gridVertical:(0,r.zM)(l.gridVerticalEnabledTable),gridVerticalColor:(0,t.GG)(l.gridColor),gridVerticalWeight:(0,r.nd)(a.n4.valueOrDefault(l.gridVerticalWeight,o.Ph)),gridHorizontal:(0,r.zM)(l.gridHorizontalEnabledTable),gridHorizontalColor:(0,t.GG)(l.gridColor),gridHorizontalWeight:(0,r.nd)(a.n4.valueOrDefault(l.gridHorizontalWeight,o.pM)),rowPadding:(0,r.nd)(l.rowPadding)}}],columnHeaders:[{properties:{outline:(0,r.Qq)(a.n4.valueOrDefault(l.outlineModeColumnHeaders,o.KB)),outlineStyle:(0,r.nd)(a.n4.valueOrDefault(l.outlineModeColumnHeaders,o.RZ)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,t.GG)(l.fontColorHeaders),backColor:(0,t.GG)(l.backColorHeaders)}}],values:[{properties:{outline:(0,r.Qq)(a.n4.valueOrDefault(l.outlineModeValues,o.PY)),outlineStyle:(0,r.nd)(a.n4.valueOrDefault(l.outlineModeValues,o.i8)),outlineColor:void 0,outlineWeight:void 0,fontColorPrimary:(0,t.GG)(l.fontColorValues1),backColorPrimary:(0,t.GG)(l.backColorValues1),fontColorSecondary:(0,t.GG)(l.fontColorValues2),backColorSecondary:(0,t.GG)(l.backColorValues2)}}],total:[{properties:{outline:(0,r.Qq)(a.n4.valueOrDefault(l.outlineModeTotals,o.Rr)),outlineStyle:(0,r.nd)(a.n4.valueOrDefault(l.outlineModeTotals,o.QJ)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,t.GG)(l.fontColorTotals),backColor:(0,t.GG)(l.backColorTotals)}}]}:{}}function n(c){return{sectionTitle:(0,i.D)("Visual_Table_StylePreset_SectionTitle"),sliceTitle:(0,i.D)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:o.yB,presets:{[o.yB]:{name:o.yB,displayName:(0,i.D)("Default"),evaluate:s=>d(o.yB,s)},[o.NV]:{name:o.NV,displayName:(0,i.D)("None"),evaluate:s=>d(o.NV,s)},[o.Ul]:{name:o.Ul,displayName:(0,i.D)("Visual_Table_StylePreset_Minimal"),evaluate:s=>d(o.Ul,s)},[o.F5]:{name:o.F5,displayName:(0,i.D)("Visual_Table_StylePreset_BoldHeader"),evaluate:s=>d(o.F5,s)},[o.b4]:{name:o.b4,displayName:(0,i.D)("Visual_Table_StylePreset_AlternatingRows"),evaluate:s=>d(o.b4,s),isDeprecated:!0},[o.b]:{name:o.b,displayName:(0,i.D)("Visual_Table_StylePreset_AlternatingRowsNew"),evaluate:s=>d(o.b,s)},[o.nd]:{name:o.nd,displayName:(0,i.D)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:s=>d(o.nd,s)},[o.XD]:{name:o.XD,displayName:(0,i.D)("Visual_Table_StylePreset_FlashyRows"),evaluate:s=>d(o.XD,s)},[o.ny]:{name:o.ny,displayName:(0,i.D)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:s=>d(o.ny,s)},[o.$h]:{name:o.$h,displayName:(0,i.D)("Visual_Table_StylePreset_Sparse"),evaluate:s=>d(o.$h,s)},[o.cg]:{name:o.cg,displayName:(0,i.D)("Visual_Table_StylePreset_Condensed"),evaluate:s=>d(o.cg,s)}}}}},997665:function(ve,z,e){e.d(z,{$h:function(){return O},A8:function(){return s},F5:function(){return M},FD:function(){return D},KB:function(){return c},Kx:function(){return t},Kz:function(){return v},NV:function(){return S},PY:function(){return l},Ph:function(){return n},QJ:function(){return E},RT:function(){return g},RZ:function(){return o},Rr:function(){return p},Ul:function(){return V},XD:function(){return w},b:function(){return T},b4:function(){return P},cg:function(){return x},dy:function(){return u},i8:function(){return h},ip:function(){return j},ji:function(){return m},nd:function(){return N},ny:function(){return I},pM:function(){return d},yB:function(){return b}});var a=e(647132),i=e(18122),r=e(737889),t=r.iK.PropColumnsOutline.defaultValue,o=r.iK.PropColumnsOutlineStyle.defaultValue,d=r.iK.PropGridHorizontalWeight.defaultValue,n=r.iK.PropGridVerticalWeight.defaultValue,c=r.iK.PropColumnsNewVisualOutline.defaultValue,s=r.iK.PropRowsPivotTableOutline.defaultValue,p=r.iK.PropTotalTableExOutline.defaultValue,l=r.iK.PropValuesNewVisualOutline.defaultValue,u=r.iK.PropGridOutlineWeight.defaultValue,v=r.iK.PropRowsOutline.defaultValue,m=r.iK.PropRowsOutlineStyle.defaultValue,g=r.iK.PropTotalOutline.defaultValue,E=r.iK.PropTotalOutlineStyle.defaultValue,D=r.iK.PropValuesOutline.defaultValue,h=r.iK.PropValuesOutlineStyle.defaultValue,C=0,y=3,f=6,S="None",b="Default",V="Minimal",M="BoldHeader",P="AlternatingRows",T="AlternatingRowsNew",N="ContrastAlternatingRows",w="FlashyRows",I="BoldHeaderFlashyRows",O="Sparse",x="Condensed";function j(U,F){var R=F.colorPalette.background.value,B=F.colorPalette.foreground.value,A=F.colorPalette.tableAccent.value,G=new r.iK(F);switch(U){case S:return{outlineColor:G.PropGridOutlineColor.getValue(null),gridColor:G.PropGridVerticalColor.getValue(null),gridVerticalEnabledTable:r.iK.PropGridVertical.defaultValue,gridVerticalEnabledMatrix:r.iK.PropGridVertical.defaultValue,gridHorizontalEnabledTable:r.iK.PropGridHorizontalTable.defaultValue,gridHorizontalEnabledMatrix:r.iK.PropGridHorizontalMatrix.defaultValue,rowPadding:r.iK.PropGridRowPadding.defaultValue,fontColorHeaders:G.PropColumnsFontColor.getValue(null),backColorHeaders:G.PropColumnsBackColor.getValue(null),fontColorValues1:G.PropValuesFontColorPrimary.getValue(null),backColorValues1:G.PropValuesBackColorPrimary.getValue(null),fontColorValues2:G.PropValuesFontColorSecondary.getValue(null),backColorValues2:G.PropValuesBackColorSecondary.getValue(null),fontColorTotals:G.PropTotalFontColor.getValue(null),backColorTotals:G.PropTotalBackColor.getValue(null)};case b:return{outlineColor:A=F.colorPalette.tableAccent.value,gridColor:(0,a.j$)(B=F.colorPalette.foreground.value,.12,R=F.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:r.iK.PropGridHorizontalTable.defaultValue,gridHorizontalEnabledMatrix:r.iK.PropGridHorizontalMatrix.defaultValue,rowPadding:1,fontColorHeaders:B,backColorHeaders:R,fontColorValues1:B,backColorValues1:R,fontColorValues2:B,backColorValues2:(0,a.j$)(B,.08,R),fontColorTotals:void 0,backColorTotals:void 0};case V:return{outlineColor:A,gridColor:(0,a.j$)(B,.12,R),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:y,fontColorHeaders:B,backColorHeaders:R,fontColorValues1:B,backColorValues1:R,fontColorValues2:B,backColorValues2:R,fontColorTotals:B,backColorTotals:R};case M:return{outlineColor:A=F.colorPalette.tableAccent.value,gridColor:(0,a.j$)(B=F.colorPalette.foreground.value,.12,R=F.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:y,backColorHeaders:B,fontColorHeaders:R,fontColorValues1:B,backColorValues1:R,fontColorValues2:B,backColorValues2:R,fontColorTotals:B,backColorTotals:R};case P:return{outlineColor:A=F.colorPalette.tableAccent.value,gridColor:(0,a.j$)(B=F.colorPalette.foreground.value,.12,R=F.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:y,fontColorHeaders:R,backColorHeaders:B,fontColorValues1:B,backColorValues1:R,fontColorValues2:B,backColorValues2:(0,a.j$)(B,.08,R),fontColorTotals:R,backColorTotals:B};case T:return{outlineColor:A=F.colorPalette.tableAccent.value,gridColor:(0,a.j$)(B=F.colorPalette.foreground.value,.12,R=F.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:y,fontColorHeaders:R,backColorHeaders:B,fontColorValues1:B,backColorValues1:R,fontColorValues2:B,backColorValues2:(0,a.j$)(B,.08,R),fontColorTotals:R,backColorTotals:B,backColorSubtotalsRow:null,fontColorSubtotalsRow:null};case N:return{outlineColor:A=F.colorPalette.tableAccent.value,gridColor:(0,a.j$)(B=F.colorPalette.foreground.value,.12,R=F.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:y,fontColorHeaders:R,backColorHeaders:B,fontColorValues1:R,backColorValues1:(0,a.j$)(B,.75,R),fontColorValues2:B,backColorValues2:(0,a.j$)(B,.25,R),fontColorTotals:R,backColorTotals:B};case w:return{outlineColor:B=F.colorPalette.foreground.value,gridColor:R=F.colorPalette.background.value,gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:y,fontColorHeaders:B,backColorHeaders:R,fontColorValues1:B,backColorValues1:(0,a.j$)(A=F.colorPalette.tableAccent.value,.4,R),fontColorValues2:B,backColorValues2:(0,a.j$)(A,.8,R),fontColorTotals:B,backColorTotals:R};case I:return{outlineColor:R=F.colorPalette.background.value,gridColor:R,gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:y,fontColorHeaders:R,backColorHeaders:B=F.colorPalette.foreground.value,fontColorValues1:B,backColorValues1:(0,a.j$)(A=F.colorPalette.tableAccent.value,.4,R),fontColorValues2:B,backColorValues2:(0,a.j$)(A,.8,R),fontColorTotals:R,backColorTotals:B};case O:return{outlineColor:A=F.colorPalette.tableAccent.value,gridColor:(0,a.j$)(B=F.colorPalette.foreground.value,.2,R=F.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:f,fontColorHeaders:R,backColorHeaders:B,fontColorValues1:B,backColorValues1:R,fontColorValues2:B,backColorValues2:R,fontColorTotals:R,backColorTotals:B};case x:return{outlineColor:A=F.colorPalette.tableAccent.value,gridColor:(0,a.j$)(B=F.colorPalette.foreground.value,.2,R=F.colorPalette.background.value),gridVerticalEnabledTable:!0,gridVerticalEnabledMatrix:!0,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:C,fontColorHeaders:R,backColorHeaders:B,fontColorValues1:B,backColorValues1:R,fontColorValues2:B,backColorValues2:R,fontColorTotals:R,backColorTotals:B};default:return void i.Y.assertFail("Attempt to get Tablix style elements with invalid preset name ["+U+"].")}}},500920:function(ve,z,e){e.d(z,{C:function(){return r},i:function(){return i}});var a=e(904143),i=function(t){return t.blank="blank",t.leftArrow="leftArrow",t.rightArrow="rightArrow",t.back="back",t.reset="reset",t.information="information",t.help="help",t.qna="qna",t.insights="insights",t.bookmarks="bookmarks",t.custom="custom",t.applyAllSlicers="applyAllSlicers",t.clearAllSlicers="clearAllSlicers",t.spinner="spinner",t}({}),r=(0,a.s)([{value:i.blank,displayName:t=>t.get("ReportAppBar_Blank")},{value:i.leftArrow,displayName:t=>t.get("Generic_LeftArrow")},{value:i.rightArrow,displayName:t=>t.get("Generic_RightArrow")},{value:i.back,displayName:t=>t.get("Generic_Back")},{value:i.reset,displayName:t=>t.get("Reset")},{value:i.help,displayName:t=>t.get("Generic_Help")},{value:i.information,displayName:t=>t.get("ReportAppBar_InfoIcon")},{value:i.qna,displayName:t=>t.get("Generic_Qna")},{value:i.bookmarks,displayName:t=>t.get("Generic_Bookmark")},{value:i.applyAllSlicers,displayName:t=>t.get("ReportAppBar_ApplyAllSlicers")},{value:i.clearAllSlicers,displayName:t=>t.get("ReportAppBar_ClearAllSlicers")},{value:i.custom,displayName:t=>t.get("Custom")},{value:i.spinner,displayName:t=>t.get("Spinner")}])},336382:function(ve,z,e){e.d(z,{B:function(){return r},Z:function(){return i}});var a=e(904143),i=function(t){return t.showBoth="showBoth",t.showTitleOnly="showTitleOnly",t.showUnitOnly="showUnitOnly",t}({}),r=(0,a.s)([{value:i.showTitleOnly,displayName:t=>t.get("Visual_Axis_ShowTitleOnly")},{value:i.showUnitOnly,displayName:t=>t.get("Visual_Axis_ShowUnitOnly")},{value:i.showBoth,displayName:t=>t.get("Visual_Axis_ShowBoth")}])},878907:function(ve,z,e){e.d(z,{G:function(){return i},z:function(){return r}});var a=e(904143),i=function(t){return t.scalar="Scalar",t.categorical="Categorical",t.both="Both",t}({}),r=(0,a.s)([{value:i.scalar,displayName:t=>t.get("Visual_Axis_Scalar")},{value:i.categorical,displayName:t=>t.get("Visual_Axis_Categorical")}])},243569:function(ve,z,e){e.d(z,{IG:function(){return n},NW:function(){return c},UE:function(){return o},YC:function(){return i},n7:function(){return r},n8:function(){return t},zX:function(){return d}});var a=e(904143),i="rectangle",r="oval",t="line",o="arrow",d="triangle",n="arrowbutton",c=(0,a.s)([{value:i,displayName:s=>s.get("ReportAppBar_ShapeRectangle")},{value:r,displayName:s=>s.get("ReportAppBar_ShapeOval")},{value:t,displayName:s=>s.get("Visual_Shape_Line")},{value:o,displayName:s=>s.get("ReportAppBar_ShapeArrow")},{value:d,displayName:s=>s.get("ReportAppBar_ShapeTriangle")},{value:n,displayName:"arrowbutton"}])},249584:function(ve,z,e){e.d(z,{C4:function(){return c},CM:function(){return o},Fl:function(){return i},NW:function(){return s},d8:function(){return r},hF:function(){return t},j7:function(){return p},j8:function(){return d},zQ:function(){return n}});var a=e(904143),i="aerial",r="canvasDark",t="canvasLight",o="grayscale",d="road",n=d,c=r,s=(0,a.s)([{value:i,displayName:l=>l.get("Visual_MapThemeAerial")},{value:r,displayName:l=>l.get("Visual_MapThemeDark")},{value:t,displayName:l=>l.get("Visual_MapThemeLight")},{value:o,displayName:l=>l.get("Visual_MapThemeGrayScale")},{value:d,displayName:l=>l.get("Visual_MapThemeRoad")}]);function p(l){return l===i||l===r}},213569:function(ve,z,e){e.d(z,{K3:function(){return o},L2:function(){return r},NW:function(){return n},We:function(){return t},ZY:function(){return d}});var a=e(904143),i="pixels",r="meters",t=i,o=200,d=4e6,n=(0,a.s)([{value:i,displayName:c=>c.get("Generic_Pixels")},{value:r,displayName:c=>c.get("Visual_MapUnitMeters")}])},477241:function(ve,z,e){e.d(z,{O:function(){return r},U:function(){return i}});var a=e(904143),i=function(t){return t.Top="Top",t.Bottom="Bottom",t.TopAndBottom="TopAndBottom",t}({}),r=(0,a.s)([{value:i.Top,displayName:t=>t.get("Top")},{value:i.Bottom,displayName:t=>t.get("Bottom")},{value:i.TopAndBottom,displayName:t=>t.get("Top_And_Bottom")}])},837431:function(ve,z,e){e.d(z,{q:function(){return i},r:function(){return r}});var a=e(904143),i=function(t){return t.below="below",t.right="right",t}({}),r=(0,a.s)([{value:i.below,displayName:t=>t.get("Visual_CallOutRelative_Below")},{value:i.right,displayName:t=>t.get("Visual_CallOutRelative_Right")}])},372071:function(ve,z,e){e.d(z,{N:function(){return r},y:function(){return i}});var a=e(904143),i=function(t){return t.BelowValue="belowValue",t.AboveValue="aboveValue",t}({}),r=(0,a.s)([{value:i.BelowValue,displayName:t=>t.get("CardVisualPositioning_BelowValue")},{value:i.AboveValue,displayName:t=>t.get("CardVisualPositioning_AboveValue")}])},474800:function(ve,z,e){e.d(z,{Kl:function(){return r},Us:function(){return t},fW:function(){return i}});var a=e(904143),i=function(o){return o.fill="fill",o.line="line",o.fillLine="fillLine",o}({}),r=(0,a.s)([{value:i.fill,displayName:o=>o.get("Visual_Confidence_Band_Style_Fill")},{value:i.line,displayName:o=>o.get("Visual_Confidence_Band_Style_Line")},{value:"none",displayName:o=>o.get("None")}]),t=(0,a.s)([{value:i.fill,displayName:o=>o.get("Visual_Confidence_Band_Style_Fill")},{value:i.line,displayName:o=>o.get("Visual_Confidence_Band_Style_Line")},{value:i.fillLine,displayName:o=>o.get("Visual_Confidence_Band_Style_LineFill")}])},423688:function(ve,z,e){e.d(z,{IM:function(){return t},Ie:function(){return i},w5:function(){return r}});var a=e(904143),i="custom",r="fieldName",t=(0,a.s)([{value:i,displayName:o=>o.get("Custom")},{value:r,displayName:o=>o.get("StreamingDataflow_FieldName")}])},917174:function(ve,z,e){e.d(z,{P:function(){return r},p:function(){return i}});var a=e(904143),i=function(t){return t.Percent="Percent of total",t.Custom="Custom",t}({}),r=(0,a.s)([{value:i.Percent,displayName:t=>t.get("Visual_LabelStyle_Percent")},{value:i.Custom,displayName:t=>t.get("Custom")}])},352915:function(ve,z,e){e.d(z,{N:function(){return i}});var i=(0,e(904143).s)([{value:0,displayName:r=>r.get("DisplayUnitSystem_EAuto_Title")},{value:1,displayName:r=>r.get("DisplayUnitSystem_E0_Title")},{value:1e3,displayName:r=>r.get("DisplayUnitSystem_E3_Title")},{value:1e6,displayName:r=>r.get("DisplayUnitSystem_E6_Title")},{value:1e9,displayName:r=>r.get("DisplayUnitSystem_E9_Title")},{value:1e12,displayName:r=>r.get("DisplayUnitSystem_E12_Title")},{value:-1,displayName:r=>r.get("Custom")}])},114172:function(ve,z,e){e.d(z,{NW:function(){return o},on:function(){return r},qZ:function(){return i}});var a=e(904143),i="auto",r="on",o=(0,a.s)([{value:i,displayName:d=>d.get("Visual_Auto")},{value:r,displayName:d=>d.get("ToggleSwitchOn")},{value:"off",displayName:d=>d.get("ToggleSwitchOff")}])},933627:function(ve,z,e){e.d(z,{NW:function(){return d},c_:function(){return t},dJ:function(){return o},nx:function(){return r},qY:function(){return i}});var a=e(904143),i="outside",r="inside",t="preferOutside",o="preferInside",d=(0,a.s)([{value:i,displayName:n=>n.get("Visual_DonutLabelPosition_Outside")},{value:r,displayName:n=>n.get("Visual_DonutLabelPosition_Inside")},{value:t,displayName:n=>n.get("Visual_DonutLabelPosition_PreferOutside")},{value:o,displayName:n=>n.get("Visual_DonutLabelPosition_PreferInside")}])},406087:function(ve,z,e){e.d(z,{FS:function(){return o},QL:function(){return r},a8:function(){return d},eY:function(){return n},vL:function(){return t},yO:function(){return i}});var a=e(904143),i=2,r=4,t=8,o=function(c){return c[c.category=i]="category",c[c.data=r]="data",c[c.percent=t]="percent",c[c.categoryAndData=i|r]="categoryAndData",c[c.categoryAndPercent=i|t]="categoryAndPercent",c[c.dataAndPercent=r|t]="dataAndPercent",c[c.categoryAndDataAndPercent=i|r|t]="categoryAndDataAndPercent",c}({}),d=function(c){return c.category="Category",c.data="Data",c.percent="Percent of total",c.categoryAndData="Both",c.categoryAndPercent="Category, percent of total",c.dataAndPercent="Data value, percent of total",c.categoryAndDataAndPercent="Category, data value, percent of total",c}({}),n=(0,a.s)([{value:d.category,displayName:c=>c.get("Visual_LabelStyle_Category")},{value:d.data,displayName:c=>c.get("Visual_LabelStyle_DataValue")},{value:d.percent,displayName:c=>c.get("Visual_LabelStyle_Percent")},{value:d.categoryAndData,displayName:c=>c.get("Visual_LabelStyle_CategoryAndData")},{value:d.categoryAndPercent,displayName:c=>c.get("Visual_LabelStyle_CategoryAndPercent")},{value:d.dataAndPercent,displayName:c=>c.get("Visual_LabelStyle_DataAndPercent")},{value:d.categoryAndDataAndPercent,displayName:c=>c.get("Visual_LabelStyle_CategoryAndDataAndPercent")}])},843025:function(ve,z,e){e.d(z,{G:function(){return i},O:function(){return r}});var a=e(904143),i=function(t){return t.absolute="absolute",t.relativeNumeric="relativeNumeric",t.relativePercentage="relativePercentage",t.range="range",t}({}),r=(0,a.s)([{value:i.absolute,displayName:t=>t.get("Visual_Absolute")},{value:i.relativeNumeric,displayName:t=>t.get("Visual_RelativeNumeric")},{value:i.relativePercentage,displayName:t=>t.get("Visual_RelativePercentage")},{value:i.range,displayName:t=>t.get("Visual_Axis_Range")}])},198961:function(ve,z,e){e.d(z,{FS:function(){return o},RW:function(){return t},US:function(){return n},Yo:function(){return d},ir:function(){return r}});var a=e(904143),r=4,t=8,o=function(c){return c[c.data=2]="data",c[c.percentOfFirst=r]="percentOfFirst",c[c.percentOfPrevious=t]="percentOfPrevious",c[c.dataAndPercentOfFirst=2|r]="dataAndPercentOfFirst",c[c.dataAndPercentOfPrevious=2|t]="dataAndPercentOfPrevious",c}({}),d=function(c){return c.data="Data",c.percentOfFirst="Percent of first",c.percentOfPrevious="Percent of previous",c.dataAndPercentOfFirst="Data, percent of first",c.dataAndPercentOfPrevious="Data, percent of previous",c}({}),n=(0,a.s)([{value:d.data,displayName:c=>c.get("Visual_LabelStyle_DataValue")},{value:d.percentOfFirst,displayName:c=>c.get("Funnel_PercentOfFirst")},{value:d.percentOfPrevious,displayName:c=>c.get("Funnel_PercentOfPrevious")},{value:d.dataAndPercentOfFirst,displayName:c=>c.get("Visual_LabelStyle_DataAndPercentOfFirst")},{value:d.dataAndPercentOfPrevious,displayName:c=>c.get("Visual_LabelStyle_DataAndPercentOfPrevious")}])},466229:function(ve,z,e){e.d(z,{NW:function(){return y},_g:function(){return i},sW:function(){return h},wD:function(){return C},yB:function(){return r}});var a=e(904143),i={v1_0:"1.0",v2_0:"2.0"},r="",t="de-de",o="en-GB",d="en-US",n="es-ES",c="fr-FR",s="it-it",u="nl-BE",v="pt-BR",g="zh-Hans",E="zh-Hant",D=[{value:r,version:i.v1_0},{value:t,version:i.v2_0},{value:o,version:i.v2_0},{value:d,version:i.v2_0},{value:n,version:i.v2_0},{value:c,version:i.v2_0},{value:s,version:i.v2_0},{value:"ja",version:i.v1_0},{value:"ko",version:i.v2_0},{value:u,version:i.v2_0},{value:v,version:i.v2_0},{value:"ru",version:i.v2_0},{value:g,version:i.v2_0},{value:E,version:i.v2_0}];function h(f){return _.findIndex(D,S=>S.value===f)>=0}function C(f,S){var b=_.find(D,V=>V.value===f);return!!b&&b.version===S}var y=(0,a.s)([{value:r,displayName:f=>f.get("Visual_Auto")},{value:t,displayName:f=>f.get("Visual_MapGeocodingCulture_DE")},{value:o,displayName:f=>f.get("Visual_MapGeocodingCulture_ENGB")},{value:d,displayName:f=>f.get("Visual_MapGeocodingCulture_ENUS")},{value:n,displayName:f=>f.get("Visual_MapGeocodingCulture_ES")},{value:c,displayName:f=>f.get("Visual_MapGeocodingCulture_FR")},{value:s,displayName:f=>f.get("Visual_MapGeocodingCulture_IT")},{value:"ja",displayName:f=>f.get("Visual_MapGeocodingCulture_JA")},{value:"ko",displayName:f=>f.get("Visual_MapGeocodingCulture_KO")},{value:u,displayName:f=>f.get("Visual_MapGeocodingCulture_NL")},{value:v,displayName:f=>f.get("Visual_MapGeocodingCulture_PT")},{value:"ru",displayName:f=>f.get("Visual_MapGeocodingCulture_RU")},{value:g,displayName:f=>f.get("Visual_MapGeocodingCulture_ZHS")},{value:E,displayName:f=>f.get("Visual_MapGeocodingCulture_ZHT")}])},475824:function(ve,z,e){e.d(z,{V:function(){return i},X:function(){return r}});var a=e(904143),i=function(t){return t.inner="inner",t.innerHorizontal="innerHorizontal",t.innerVertical="innerVertical",t.all="all",t}({}),r=(0,a.s)([{value:i.all,displayName:t=>t.get("All"),icon:{glyph:"border-all"}},{value:i.inner,displayName:t=>t.get("Border_Grid_Line_Type_Inner"),icon:{glyph:"border-inside"}},{value:i.innerHorizontal,displayName:t=>t.get("Border_Grid_Line_Type_Inner_Horizontal"),icon:{glyph:"border-inside-horizontal"}},{value:i.innerVertical,displayName:t=>t.get("Border_Grid_Line_Type_Inner_Vertical"),icon:{glyph:"border-inside-vertical"}}])},881605:function(ve,z,e){e.d(z,{Y:function(){return r},q:function(){return i}});var a=e(904143),i=function(t){return t.left="left",t.center="center",t.right="right",t}({}),r=(0,a.s)([{value:i.left,displayName:t=>t.get("Visual_TextAlignment_Left")},{value:i.center,displayName:t=>t.get("Visual_TextAlignment_Center")},{value:i.right,displayName:t=>t.get("Visual_TextAlignment_Right")}])},577440:function(ve,z,e){e.d(z,{G1:function(){return o},Gz:function(){return d},Ie:function(){return i},NW:function(){return n},kb:function(){return r},pG:function(){return t}});var a=e(904143),i="custom",r="left",t="right",o="above",d="below",n=(0,a.s)([{value:i,displayName:c=>c.get("Custom")},{value:r,displayName:c=>c.get("Visual_IconPlacement_Left")},{value:t,displayName:c=>c.get("Visual_IconPlacement_Right")},{value:o,displayName:c=>c.get("Visual_IconPlacement_Above")},{value:d,displayName:c=>c.get("Visual_IconPlacement_Below")}])},613552:function(ve,z,e){e.d(z,{KV:function(){return r},hB:function(){return i},lX:function(){return o},y5:function(){return t}});var a=e(904143),i=function(d){return d.normal="Normal",d.fit="Fit",d.fill="Fill",d}({}),r=(0,a.s)([{value:i.normal,displayName:d=>d.get("Visual_ImageScalingType_Fit")},{value:i.fit,displayName:d=>d.get("Visual_ImageScalingType_Stretch")},{value:i.fill,displayName:d=>d.get("Visual_ImageScalingType_Fill")}]),t=function(d){return d.fit="Fit",d.stretch="Stretch",d.fill="Fill",d.normal="Normal",d}({}),o=(0,a.s)([{value:t.fit,displayName:d=>d.get("Visual_ImageScalingType_Fit")},{value:t.stretch,displayName:d=>d.get("Visual_ImageScalingType_Stretch")},{value:t.fill,displayName:d=>d.get("Visual_ImageScalingType_Fill")},{value:t.normal,displayName:d=>d.get("Visual_TextAlignment_Center")}])},802053:function(ve,z,e){e.d(z,{Hq:function(){return r},fU:function(){return t},uh:function(){return o},yj:function(){return i}});var a=e(904143),i=function(d){return d.image="image",d.imageUrl="imageUrl",d}({}),r=(0,a.s)([{value:i.image,displayName:d=>d.get("Image")},{value:i.imageUrl,displayName:d=>d.get("Image_Url")}]),t=function(d){return d.image="image",d.imageUrl="imageUrl",d.imageData="imageData",d}({}),o=(0,a.s)([{value:t.image,displayName:d=>d.get("Visual_Image_Upload")},{value:t.imageUrl,displayName:d=>d.get("TenantSetting_PropertyPlaceHolder_URL")},{value:t.imageData,displayName:d=>d.get("Visual_Image_Select_From_Data")}])},595590:function(ve,z,e){e.d(z,{AG:function(){return r},NW:function(){return t},oh:function(){return i}});var a=e(904143),i="keyInfluencers",r="topProfiles",t=(0,a.s)([{value:i,displayName:()=>"keyInfluencers"},{value:r,displayName:()=>"topProfiles"}])},988473:function(ve,z,e){e.d(z,{NW:function(){return t},V8:function(){return r},ys:function(){return i}});var a=e(904143),i="absolute",r="relative",t=(0,a.s)([{value:i,displayName:o=>o.get("Visual_Absolute")},{value:r,displayName:o=>o.get("Visual_Relative")}])},637343:function(ve,z,e){e.d(z,{NW:function(){return t},Yw:function(){return i},tf:function(){return r}});var a=e(904143),i="Continuous",r="Categorical",t=(0,a.s)([{value:i,displayName:o=>o.get("Visual_Axis_Scalar")},{value:r,displayName:o=>o.get("Visual_Axis_Categorical")}])},273892:function(ve,z,e){e.d(z,{NW:function(){return t},U9:function(){return r},Vb:function(){return i}});var a=e(904143),i="impact",r="count",t=(0,a.s)([{value:i,displayName:o=>o.get("KeyDriver_SortType_Impact")},{value:r,displayName:o=>o.get("KeyDriver_SortType_Count")}])},469056:function(ve,z,e){e.d(z,{NW:function(){return t},gu:function(){return r},yj:function(){return i}});var a=e(904143),i="High is good",r="Low is good",t=(0,a.s)([{value:i,displayName:o=>o.get("Visual_KPI_DistanceDirection_Positive")},{value:r,displayName:o=>o.get("Visual_KPI_DistanceDirection_Negative")}])},233311:function(ve,z,e){e.d(z,{KN:function(){return r},NW:function(){return o},Uq:function(){return i},WP:function(){return t}});var a=e(904143),i="Value",r="Percent",t="Value, percent",o=(0,a.s)([{value:i,displayName:d=>d.get("Visual_LabelText_Value")},{value:r,displayName:d=>d.get("ConditionalFormattingDialog_Percent")},{value:t,displayName:d=>d.get("Visual_LabelStyle_Both")}])},589395:function(ve,z,e){e.d(z,{NW:function(){return t},gu:function(){return r},yj:function(){return i}});var a=e(904143),i="Positive",r="Negative",t=(0,a.s)([{value:i,displayName:o=>o.get("Visual_KPI_Direction_Positive")},{value:r,displayName:o=>o.get("Visual_KPI_Direction_Negative")}])},653660:function(ve,z,e){e.d(z,{P:function(){return i},Y:function(){return r}});var a=e(904143),i=function(t){return t.rows="rows",t.columns="columns",t}({}),r=(0,a.s)([{value:i.rows,displayName:t=>t.get("Small_Multiples_Layout_Rows")},{value:i.columns,displayName:t=>t.get("Small_Multiples_Layout_Columns")}])},167703:function(ve,z,e){e.d(z,{c:function(){return i},e:function(){return r}});var a=e(904143),i=function(t){return t.MultiLine="MultiLine",t.SingleLine="SingleLine",t}({}),r=(0,a.s)([{value:i.MultiLine,displayName:t=>t.get("Visual_LabelContentLayout_MultiLine")},{value:i.SingleLine,displayName:t=>t.get("Visual_LabelContentLayout_SingleLine")}])},416255:function(ve,z,e){e.d(z,{e:function(){return i},u:function(){return r}});var a=e(904143),i=function(t){return t.sentence="sentence",t.tabular="tabular",t}({}),r=(0,a.s)([{value:i.sentence,displayName:t=>t.get("Visual_LabelLayout_Sentence")},{value:i.tabular,displayName:t=>t.get("Visual_Tabular")}])},764314:function(ve,z,e){e.d(z,{$j:function(){return i},Fk:function(){return t},yy:function(){return r}});var a=e(904143),i=function(o){return o[o.Vertical=0]="Vertical",o[o.Horizontal=1]="Horizontal",o[o.Rotate90=2]="Rotate90",o[o.Stacked=3]="Stacked",o}({}),r=(0,a.s)([{value:i.Vertical,displayName:o=>o.get("Visual_Rotate270Degree")},{value:i.Horizontal,displayName:o=>o.get("Visual_LabelOrientation_Horizontal")},{value:i.Rotate90,displayName:o=>o.get("Visual_Rotate90Degree")},{value:i.Stacked,displayName:o=>o.get("Visual_RotateStacked")}]),t=(0,a.s)([{value:i.Vertical,displayName:o=>o.get("Visual_LabelOrientation_Vertical")},{value:i.Horizontal,displayName:o=>o.get("Visual_LabelOrientation_Horizontal")}])},97950:function(ve,z,e){e.d(z,{G:function(){return i},O:function(){return r}});var a=e(904143),i=function(t){return t.auto="Auto",t.insideEnd="InsideEnd",t.insideCenter="InsideCenter",t.outsideEnd="OutsideEnd",t.insideBase="InsideBase",t.above="Above",t.under="Under",t}({}),r=(0,a.s)([{value:i.auto,displayName:t=>t.get("Visual_Auto")},{value:i.insideEnd,displayName:t=>t.get("Visual_LabelPosition_InsideEnd")},{value:i.outsideEnd,displayName:t=>t.get("Visual_LabelPosition_OutsideEnd")},{value:i.insideCenter,displayName:t=>t.get("Visual_LabelPosition_InsideCenter")},{value:i.insideBase,displayName:t=>t.get("Visual_LabelPosition_InsideBase")},{value:i.above,displayName:t=>t.get("Visual_Reference_Line_Data_Label_Above")},{value:i.under,displayName:t=>t.get("Visual_Reference_Line_Data_Label_Under")}])},136211:function(ve,z,e){e.d(z,{W:function(){return i},s:function(){return r}});var a=e(904143),i=function(t){return t.left="Left",t.right="Right",t}({}),r=(0,a.s)([{value:i.left,displayName:t=>t.get("Visual_yAxis_Left")},{value:i.right,displayName:t=>t.get("Visual_yAxis_Right")}])},50743:function(ve,z,e){e.d(z,{N:function(){return r},k:function(){return i}});var a=e(904143),i=function(t){return t.Cards="Cards",t.Table="Table",t}({}),r=(0,a.s)([{value:i.Table,displayName:t=>t.get("Visual_Tabular")},{value:i.Cards,displayName:t=>t.get("Visual_Tiles")}])},855517:function(ve,z,e){e.d(z,{k:function(){return i},u:function(){return r}});var a=e(904143),i=function(t){return t.markerOnly="markerOnly",t.lineAndMarker="lineAndMarker",t.lineOnly="lineOnly",t.markerCircleDefault="markerCircleDefault",t}({}),r=(0,a.s)([{value:i.markerCircleDefault,displayName:t=>t.get("MarkerCircleDefault")},{value:i.markerOnly,displayName:t=>t.get("Marker")},{value:i.lineOnly,displayName:t=>t.get("Visual_Shape_Line")},{value:i.lineAndMarker,displayName:t=>t.get("Visual_LegendLineAndMarker")}])},415592:function(ve,z,e){e.d(z,{DU:function(){return c},HS:function(){return n},PA:function(){return i},fF:function(){return o},jT:function(){return d},kF:function(){return t},vu:function(){return r}});var a=e(904143),i=function(s){return s.Top="Top",s.Bottom="Bottom",s.Left="Left",s.Right="Right",s.TopCenter="TopCenter",s.BottomCenter="BottomCenter",s.LeftCenter="LeftCenter",s.RightCenter="RightCenter",s.TopRight="TopRight",s.BottomRight="BottomRight",s}({}),r=(0,a.s)([{value:i.Top,displayName:s=>s.get("Visual_LabelPosition_TopLeft")},{value:i.TopCenter,displayName:s=>s.get("Visual_LabelPosition_TopCenter")},{value:i.TopRight,displayName:s=>s.get("Visual_LabelPosition_TopRight")},{value:i.Left,displayName:s=>s.get("Visual_LegendPosition_TopLeftStacked")},{value:i.Right,displayName:s=>s.get("Visual_LegendPosition_TopRightStacked")},{value:i.LeftCenter,displayName:s=>s.get("Visual_LegendPosition_LeftCenter")},{value:i.RightCenter,displayName:s=>s.get("Visual_LegendPosition_RightCenter")},{value:i.Bottom,displayName:s=>s.get("Visual_LabelPosition_BottomLeft")},{value:i.BottomCenter,displayName:s=>s.get("Visual_LabelPosition_BottomCenter")},{value:i.BottomRight,displayName:s=>s.get("Visual_LabelPosition_BottomRight")}]),t=function(s){return s.top="Top",s.bottom="Bottom",s.left="Left",s.right="Right",s}({}),o=(0,a.s)([{value:t.left,displayName:s=>s.get("Visual_TextAlignment_Left")},{value:t.right,displayName:s=>s.get("Visual_TextAlignment_Right")},{value:t.bottom,displayName:s=>s.get("Bottom")},{value:t.top,displayName:s=>s.get("Top")}]),d=(0,a.s)([{value:t.left,displayName:s=>s.get("Visual_IconPlacement_Left")},{value:t.right,displayName:s=>s.get("Visual_IconPlacement_Right")},{value:t.bottom,displayName:s=>s.get("Visual_IconPlacement_Below")},{value:t.top,displayName:s=>s.get("Visual_IconPlacement_Above")}]),n=function(s){return s.top="Top",s.bottom="Bottom",s.left="Left",s.right="Right",s}({}),c=(0,a.s)([{value:n.left,displayName:s=>s.get("Visual_TextAlignment_Left")},{value:n.top,displayName:s=>s.get("Top")},{value:t.right,displayName:s=>s.get("Visual_TextAlignment_Right")},{value:t.bottom,displayName:s=>s.get("Bottom")}])},702962:function(ve,z,e){e.d(z,{JB:function(){return d},TV:function(){return i},ZV:function(){return n},lV:function(){return t},rv:function(){return r},vC:function(){return o}});var a=e(904143),i=function(c){return c.linear="linear",c.step="step",c.smooth="smooth",c}({}),r=(0,a.s)([{value:i.linear,displayName:c=>c.get("Visual_Axis_Linear")},{value:i.smooth,displayName:c=>c.get("Visual_SmoothLine")},{value:i.step,displayName:c=>c.get("Visual_StepLine")}]),t=function(c){return c.center="center",c.before="before",c.after="after",c}({}),o=(0,a.s)([{value:t.before,displayName:c=>c.get("Visual_Before")},{value:t.center,displayName:c=>c.get("Visual_Gradient_MidColor")},{value:t.after,displayName:c=>c.get("Visual_After")}]),d=function(c){return c.monotoneX="monotoneX",c.cardinal="cardinal",c}({}),n=(0,a.s)([{value:d.monotoneX,displayName:c=>c.get("Visual_LineInterp_Monotone")},{value:d.cardinal,displayName:c=>c.get("Visual_LineInterp_Cardinal")}])},715274:function(ve,z,e){e.d(z,{O:function(){return r},n:function(){return i}});var a=e(904143),i=function(t){return t.Flat="flat",t.Round="round",t}({}),r=(0,a.s)([{value:i.Flat,displayName:t=>t.get("Visual_StrokeCap_Flat")},{value:i.Round,displayName:t=>t.get("Visual_StrokeLineJoin_Round")}])},130939:function(ve,z,e){e.d(z,{U1:function(){return r},c3:function(){return i},hQ:function(){return t}});var a=e(904143),i=function(o){return o.magnitude="magnitude",o.dataRange="dataRange",o.auto="auto",o.deprecated="scatterDeprecated",o}({}),r=[{value:i.magnitude,displayName:o=>o.get("Visual_MarkerRangeType_Magnitude")},{value:i.dataRange,displayName:o=>o.get("Visual_MarkerRangeType_DataRange")},{value:i.auto,displayName:o=>o.get("Visual_Auto")}],t=(0,a.s)(r)},204687:function(ve,z,e){e.d(z,{M7:function(){return n},N0:function(){return s},R:function(){return d},_Q:function(){return o},d_:function(){return p},hU:function(){return i},n:function(){return c}});var a=e(904143),i=function(l){return l.circle="circle",l.square="square",l.diamond="diamond",l.triangle="triangle",l.droplet="droplet",l}({}),r=function(l){return l.x="x",l.shortDash="shortDash",l.longDash="longDash",l.plus="plus",l}({}),t=function(l){return l.upperErrorBar="upperErrorBar",l.lowerErrorBar="lowerErrorBar",l}({}),o={...i,...r,...t};function d(l){switch(l){case o.circle:case o.square:case o.diamond:case o.triangle:case o.droplet:return!0;default:return!1}}function n(l){return l!==o.circle}var c=[{value:o.circle,displayName:l=>l.get("Visual_MarkerShape_Circle"),label:l=>l.get("Visual_MarkerShape_Circle_Label")},{value:o.square,displayName:l=>l.get("Visual_MarkerShape_Square"),label:l=>l.get("Visual_MarkerShape_Square_Label")},{value:o.diamond,displayName:l=>l.get("Visual_MarkerShape_Diamond"),label:l=>l.get("Visual_MarkerShape_Diamond_Label")},{value:o.triangle,displayName:l=>l.get("Visual_MarkerShape_Triangle"),label:l=>l.get("Visual_MarkerShape_Triangle_Label")},{value:o.x,displayName:l=>l.get("Visual_MarkerShape_X"),label:l=>l.get("Visual_MarkerShape_X_Label")},{value:o.shortDash,displayName:l=>l.get("Visual_MarkerShape_ShortDash"),label:l=>l.get("Visual_MarkerShape_ShortDash_Label")},{value:o.longDash,displayName:l=>l.get("Visual_MarkerShape_LongDash"),label:l=>l.get("Visual_MarkerShape_LongDash_Label")},{value:o.plus,displayName:l=>l.get("Visual_MarkerShape_Plus"),label:l=>l.get("Visual_MarkerShape_Plus_Label")}],s=(0,a.s)([{value:o.circle,displayName:l=>l.get("Visual_MarkerShape_Circle"),label:l=>l.get("Visual_MarkerShape_Circle_Label")},{value:o.square,displayName:l=>l.get("Visual_MarkerShape_Square"),label:l=>l.get("Visual_MarkerShape_Square_Label")},{value:o.diamond,displayName:l=>l.get("Visual_MarkerShape_Diamond"),label:l=>l.get("Visual_MarkerShape_Diamond_Label")},{value:o.triangle,displayName:l=>l.get("Visual_MarkerShape_Triangle"),label:l=>l.get("Visual_MarkerShape_Triangle_Label")},{value:o.droplet,displayName:l=>l.get("Visual_MarkerShape_Droplet")}]),p=(0,a.s)(c)},551683:function(ve,z,e){e.d(z,{u:function(){return i},w:function(){return r}});var a=e(904143),i=function(t){return t[t.Grid=0]="Grid",t[t.Vertical=1]="Vertical",t[t.Horizontal=2]="Horizontal",t}({}),r=(0,a.s)([{value:i.Horizontal,displayName:t=>t.get("Slicer_Orientation_Horizontal")},{value:i.Vertical,displayName:t=>t.get("Slicer_Orientation_Vertical")},{value:i.Grid,displayName:t=>t.get("Visual_Grid")}])},493434:function(ve,z,e){e.d(z,{$O:function(){return c},A8:function(){return u},G7:function(){return o},Gt:function(){return p},JL:function(){return i},M4:function(){return d},NW:function(){return E},Nx:function(){return g},Rh:function(){return v},U0:function(){return s},Vf:function(){return l},X_:function(){return n},dv:function(){return r},nh:function(){return m},yk:function(){return t}});var a=e(904143),i=function(D){return D[D.Nil=0]="Nil",D[D.Top=1]="Top",D[D.Right=2]="Right",D[D.Bottom=4]="Bottom",D[D.Left=8]="Left",D}({}),r="None",t="BottomOnly",o="TopOnly",d="LeftOnly",n="RightOnly",c="TopBottom",s="LeftRight",p="Frame";function l(D){return"number"==typeof D?!!(D&i.Top):[o,c,p].some(h=>h===D)}function u(D){return"number"==typeof D?!!(D&i.Right):[n,s,p].some(h=>h===D)}function v(D){return"number"==typeof D?!!(D&i.Bottom):[t,c,p].some(h=>h===D)}function m(D){return"number"==typeof D?!!(D&i.Left):[d,s,p].some(h=>h===D)}var g=(0,a.s)([{value:i.Top,displayName:D=>D.get("Top")},{value:i.Bottom,displayName:D=>D.get("Bottom")},{value:i.Left,displayName:D=>D.get("Visual_TextAlignment_Left")},{value:i.Right,displayName:D=>D.get("Visual_TextAlignment_Right")}]),E=(0,a.s)([{value:r,displayName:D=>D.get("None")},{value:t,displayName:D=>D.get("Visual_Outline_bottom_only")},{value:o,displayName:D=>D.get("Visual_Outline_top_only")},{value:d,displayName:D=>D.get("Visual_Outline_LeftOnly")},{value:n,displayName:D=>D.get("Visual_Outline_RightOnly")},{value:c,displayName:D=>D.get("Visual_Outline_top_Bottom")},{value:s,displayName:D=>D.get("Visual_Outline_leftRight")},{value:p,displayName:D=>D.get("Visual_Outline_frame")}])},377435:function(ve,z,e){e.d(z,{N:function(){return r},Y:function(){return i}});var a=e(904143),i=function(t){return t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal",t}({}),r=(0,a.s)([{value:i.Horizontal,displayName:t=>t.get("Slicer_Orientation_Horizontal")},{value:i.Vertical,displayName:t=>t.get("Slicer_Orientation_Vertical")}])},686791:function(ve,z,e){e.d(z,{N:function(){return r},S:function(){return i}});var a=e(904143),i=function(t){return t[t.Paginated=0]="Paginated",t[t.Scroll=1]="Scroll",t}({}),r=(0,a.s)([{value:i.Scroll,displayName:t=>t.get("Visual_Scroll")},{value:i.Paginated,displayName:t=>t.get("Visual_Paginated")}])},73075:function(ve,z,e){e.d(z,{Ie:function(){return o},NW:function(){return s},Nd:function(){return d},Pu:function(){return n},Ts:function(){return c},U:function(){return i},qb:function(){return r},sc:function(){return t}});var a=e(904143),i="Wide",r="Normal",t="Narrow",o="Custom",d=6,n=12,c=20,s=(0,a.s)([{value:i,displayName:p=>p.get("Wide")},{value:r,displayName:p=>p.get("Normal")},{value:t,displayName:p=>p.get("Narrow")},{value:o,displayName:p=>p.get("Custom")}])},124500:function(ve,z,e){e.d(z,{$:function(){return i},R:function(){return r}});var a=e(904143),i=function(t){return t.Compact="Compact",t.Outline="Outline",t.Tabular="Tabular",t}({}),r=(0,a.s)([{value:i.Compact,displayName:t=>t.get("Visual_Compact")},{value:i.Outline,displayName:t=>t.get("Visual_Outline")},{value:i.Tabular,displayName:t=>t.get("Visual_Tabular")}])},999437:function(ve,z,e){e.d(z,{A:function(){return r},h:function(){return i}});var a=e(904143),i=function(t){return t.value="Value",t.name="Name",t.nameAndValue="ValueAndName",t}({}),r=(0,a.s)([{value:i.value,displayName:t=>t.get("Visual_LabelStyle_DataValue")},{value:i.name,displayName:t=>t.get("Name")},{value:i.nameAndValue,displayName:t=>t.get("Visual_LabelStyle_Both")}])},720424:function(ve,z,e){e.d(z,{A2:function(){return c},A5:function(){return r},FJ:function(){return o},Fh:function(){return s},Ib:function(){return n},Kh:function(){return t},SX:function(){return i},al:function(){return d}});var a=e(904143),i=function(p){return p.back="back",p.front="front",p}({}),r=function(p){return p.left="left",p.right="right",p}({}),t=function(p){return p.above="above",p.under="under",p}({}),o=function(p){return p.before="before",p.after="after",p.none="none",p}({}),d=(0,a.s)([{value:i.back,displayName:p=>p.get("Visual_Reference_Line_Behind")},{value:i.front,displayName:p=>p.get("Visual_Reference_Line_InFront")}]),n=(0,a.s)([{value:r.left,displayName:p=>p.get("Visual_Reference_Line_Data_Label_Left")},{value:r.right,displayName:p=>p.get("Visual_Reference_Line_Data_Label_Right")}]),c=(0,a.s)([{value:t.above,displayName:p=>p.get("Visual_Reference_Line_Data_Label_Above")},{value:t.under,displayName:p=>p.get("Visual_Reference_Line_Data_Label_Under")}]),s=(0,a.s)([{value:o.before,displayName:p=>p.get("Visual_Before")},{value:o.after,displayName:p=>p.get("Visual_After")},{value:o.none,displayName:p=>p.get("None")}])},16215:function(ve,z,e){e.d(z,{AL:function(){return u},Fm:function(){return E},Gx:function(){return d},QM:function(){return s},US:function(){return l},VS:function(){return v},YJ:function(){return p},_3:function(){return c},c$:function(){return n},dI:function(){return C},dv:function(){return t},f9:function(){return g},l5:function(){return m},w_:function(){return D},zt:function(){return h}});var a=e(18122),i=e(359317),r=e(904143),t="None",o="Seconds",d="Minutes",n="Hours",c="Days",s="Weeks",p="Calendar Weeks",l="Months",u="Calendar Months",v="Years",m="Calendar Years",g=(0,r.s)([{value:t,displayName:y=>y.get("Select")},{value:c,displayName:y=>y.get("TimeUnit_Days")},{value:s,displayName:y=>y.get("TimeUnit_Weeks")},{value:p,displayName:y=>y.get("Visual_SlicerPeriod_CalWeeks")},{value:l,displayName:y=>y.get("TimeUnit_Months")},{value:u,displayName:y=>y.get("Visual_SlicerPeriod_CalMonths")},{value:v,displayName:y=>y.get("TimeUnit_Years")},{value:m,displayName:y=>y.get("Visual_SlicerPeriod_CalYears")}]),E=(0,r.s)([{value:t,displayName:y=>y.get("Select")},{value:d,displayName:y=>y.get("TimeUnit_Minutes")},{value:n,displayName:y=>y.get("TimeUnit_Hours")}]),D=(0,r.s)([{value:t,displayName:y=>y.get("Select")},{value:c,displayName:y=>y.get("TimeUnit_Day")},{value:s,displayName:y=>y.get("TimeUnit_Week")},{value:l,displayName:y=>y.get("TimeUnit_Month")},{value:v,displayName:y=>y.get("TimeUnit_Year")}]),h=(0,r.s)([{value:t,displayName:y=>y.get("Select")},{value:d,displayName:y=>y.get("TimeUnit_Minute")},{value:n,displayName:y=>y.get("TimeUnit_Hour")}]);function C(y){if(null==y)return null;switch(y){case i.VR.Second:return o;case i.VR.Minute:return d;case i.VR.Hour:return n;case i.VR.Day:return c;case i.VR.Week:return s;case i.VR.CalendarWeek:return p;case i.VR.Month:return l;case i.VR.CalendarMonth:return u;case i.VR.Year:return v;case i.VR.CalendarYear:return m;default:return void a.Y.assertNever(y)}}},375356:function(ve,z,e){e.d(z,{HV:function(){return t},K2:function(){return o},NW:function(){return n},dI:function(){return c},ss:function(){return d}});var a=e(18122),i=e(359317),r=e(904143),t="Last",o="Next",d="This",n=(0,r.s)([{value:t,displayName:s=>s.get("Visual_SlicerRange_Last")},{value:o,displayName:s=>s.get("Visual_SlicerRange_Next")},{value:d,displayName:s=>s.get("Visual_SlicerRange_This")}]);function c(s){if(null==s)return null;switch(s){case i.Bn.Last:return t;case i.Bn.Current:return d;case i.Bn.Next:return o;default:return void a.Y.assertNever(s)}}},964363:function(ve,z,e){e.d(z,{Mn:function(){return i},NW:function(){return t},sQ:function(){return r}});var a=e(904143),i="Top",r="Bottom",t=(0,a.s)([{value:i,displayName:o=>o.get("Top")},{value:r,displayName:o=>o.get("Bottom")}])},919391:function(ve,z,e){e.d(z,{Dy:function(){return n},L1:function(){return i},NW:function(){return p},Ul:function(){return r},Uq:function(){return o},dU:function(){return d},j0:function(){return s},o$:function(){return c},vX:function(){return t}});var a=e(904143),i="Category",r="Series",t="Tooltips",o="Value",d="albersUsa",n="equirectangular",c="mercator",s="orthographic",p=(0,a.s)([{value:d,displayName:l=>l.get("Visual_ShapeMap_Projection_AlbersUsa")},{value:n,displayName:l=>l.get("Visual_ShapeMap_Projection_Equirectangular")},{value:c,displayName:l=>l.get("Visual_ShapeMap_Projection_Mercator")},{value:s,displayName:l=>l.get("Visual_ShapeMap_Projection_Orthographic")}])},782777:function(ve,z,e){e.d(z,{N:function(){return r},c:function(){return i}});var a=e(904143),i=function(t){return t.AccentBar="accentBar",t.Arrow="arrow",t.ArrowChevron="arrowChevron",t.ArrowPentagon="arrowPentagon",t.Heart="heart",t.Hexagon="hexagon",t.Line="line",t.Octagon="octagon",t.Oval="oval",t.Parallelogram="parallelogram",t.Pentagon="pentagon",t.Pill="pill",t.Rectangle="rectangle",t.RectangleRounded="rectangleRounded",t.RectangleRoundedByPixel="rectangleRoundedByPixel",t.TabCutCorner="tabCutCorner",t.TabCutTopCorners="tabCutTopCorners",t.TabCutTopCornersByPixel="tabCutTopCornersByPixel",t.TabRoundCorner="tabRoundCorner",t.TabRoundTopCorners="tabRoundTopCorners",t.Speechbubble="speechbubbleRectangle",t.Trapezoid="trapezoid",t.TriangleIsoc="triangleIsoc",t.TriangleRight="triangleRight",t}({}),r=(0,a.s)([{value:i.Arrow,displayName:t=>t.get("ReportAppBar_ShapeArrow")},{value:i.ArrowChevron,displayName:t=>t.get("Visual_Shape_ArrowChevron")},{value:i.ArrowPentagon,displayName:t=>t.get("Visual_Shape_ArrowPentagon")},{value:i.Heart,displayName:t=>t.get("Visual_Shape_Heart")},{value:i.Hexagon,displayName:t=>t.get("Visual_Shape_Hexagon")},{value:i.Line,displayName:t=>t.get("Visual_Shape_Line")},{value:i.Octagon,displayName:t=>t.get("Visual_Shape_Octagon")},{value:i.Oval,displayName:t=>t.get("ReportAppBar_ShapeOval")},{value:i.Parallelogram,displayName:t=>t.get("Visual_Shape_Parallelogram")},{value:i.Pentagon,displayName:t=>t.get("Visual_Shape_Pentagon")},{value:i.Pill,displayName:t=>t.get("Visual_Shape_Pill")},{value:i.Rectangle,displayName:t=>t.get("ReportAppBar_ShapeRectangle")},{value:i.RectangleRounded,displayName:t=>t.get("Visual_Shape_RectangleRounded")},{value:i.RectangleRoundedByPixel,displayName:t=>t.get("Visual_Shape_RectangleRounded")},{value:i.TabCutCorner,displayName:t=>t.get("Visual_Shape_TabCutCorner")},{value:i.TabCutTopCorners,displayName:t=>t.get("Visual_Shape_TabCutTopCorners")},{value:i.TabCutTopCornersByPixel,displayName:t=>t.get("Visual_Shape_TabCutTopCorners")},{value:i.TabRoundCorner,displayName:t=>t.get("Visual_Shape_TabRoundCorner")},{value:i.TabRoundTopCorners,displayName:t=>t.get("Visual_Shape_TabRoundTopCorners")},{value:i.Speechbubble,displayName:t=>t.get("Visual_Shape_SpeechBubble")},{value:i.Trapezoid,displayName:t=>t.get("Visual_Shape_Trapezoid")},{value:i.TriangleIsoc,displayName:t=>t.get("Visual_Shape_TriangleIsoc")},{value:i.TriangleRight,displayName:t=>t.get("Visual_Shape_TriangleRight")}])},439441:function(ve,z,e){e.d(z,{N:function(){return r},_:function(){return i}});var a=e(904143),i=function(t){return t[t.Chevron=0]="Chevron",t[t.PlusMinus=1]="PlusMinus",t[t.Caret=2]="Caret",t}({}),r=(0,a.s)([{value:i.Chevron,displayName:t=>t.get("Icon_Chevron")},{value:i.PlusMinus,displayName:t=>t.get("Icon_PlusMinus")},{value:i.Caret,displayName:t=>t.get("Icon_Caret")}])},92249:function(ve,z,e){e.d(z,{Bw:function(){return u},EJ:function(){return y},Ep:function(){return E},FF:function(){return v},HX:function(){return n},J0:function(){return p},KW:function(){return l},NW:function(){return m},Nu:function(){return h},Pl:function(){return o},Pp:function(){return s},Tq:function(){return d},VW:function(){return g},Wm:function(){return c},gM:function(){return t},l0:function(){return D},uS:function(){return C}});var a=e(18122),i=e(359317),r=e(904143),t="Before",o="After",d="Between",n="Basic",c="Dropdown",s="Relative",p="Single",l="RelativeTime",u="HorizontalList",v="VerticalList",m=(0,r.s)([{value:v,displayName:f=>f.get("Visual_SliderMode_VerticalList")},{value:u,displayName:f=>f.get("Tile_Generic")},{value:d,displayName:f=>f.get("Visual_SliderMode_Between")},{value:t,displayName:f=>f.get("Visual_Before")},{value:o,displayName:f=>f.get("Visual_After")},{value:n,displayName:f=>f.get("Visual_SliderMode_Basic")},{value:c,displayName:f=>f.get("Visual_SliderMode_Dropdown")},{value:s,displayName:f=>f.get("Visual_SliderMode_RelativeDate")},{value:p,displayName:f=>f.get("Visual_SliderMode_SingleVal")},{value:l,displayName:f=>f.get("Visual_SliderMode_RelativeTime")}]);function g(f){return f===t||f===d||f===o||f===p}function E(f){return f===t||f===d||f===o}function D(f){return f===s||f===l}function h(f){return f===n||f===c}function C(f){return!f||f===c||f===n||f===u||f===v}function y(f){switch(f){case l:return i.Z7.Time;case s:return i.Z7.Date;default:a.Y.assertFail(`The following slicer mode is not a relative filter: ${f}`)}}},533498:function(ve,z,e){e.d(z,{N:function(){return r},t:function(){return i}});var a=e(904143),i=function(t){return t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal",t}({}),r=(0,a.s)([{value:i.Vertical,displayName:t=>t.get("Slicer_Orientation_Vertical")},{value:i.Horizontal,displayName:t=>t.get("Slicer_Orientation_Horizontal")}])},800640:function(ve,z,e){e.d(z,{H:function(){return i},Z:function(){return r}});var a=e(904143),i=function(t){return t.auto="auto",t.custom="custom",t}({}),r=(0,a.s)([{value:i.auto,displayName:t=>t.get("Visual_Auto")},{value:i.custom,displayName:t=>t.get("Custom")}])},226339:function(ve,z,e){e.d(z,{Y:function(){return i},j:function(){return r}});var a=e(904143),i=function(t){return t.line="line",t.column="column",t}({}),r=(0,a.s)([{value:i.line,displayName:t=>t.get("Visual_Shape_Line")},{value:i.column,displayName:t=>t.get("Column")}])},21141:function(ve,z,e){e.d(z,{I:function(){return i},e:function(){return r}});var a=e(904143),i=function(t){return t[t.all=1]="all",t[t.highest=2]="highest",t[t.lowest=4]="lowest",t[t.first=8]="first",t[t.last=16]="last",t[t.negative=32]="negative",t[t.isolated=128]="isolated",t}({}),r=(0,a.s)([{value:i.all,displayName:t=>t.get("Sparkline_Formatting_MarkerType_All")},{value:i.highest,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Highest")},{value:i.lowest,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Lowest")},{value:i.first,displayName:t=>t.get("Sparkline_Formatting_MarkerType_First")},{value:i.last,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Last")},{value:i.negative,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Negative")},{value:i.isolated,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Isolated")}])},734343:function(ve,z,e){e.d(z,{KT:function(){return d},NW:function(){return p},ZZ:function(){return i},_O:function(){return s},_g:function(){return r},eY:function(){return o},j9:function(){return n},jr:function(){return t},lc:function(){return c}});var a=e(904143),i="bottomLeft",r="bottomRight",t="rightDown",o="rightUp",d="topRight",n="topLeft",c="leftUp",s="leftDown",p=(0,a.s)([{value:i,displayName:l=>l.get("Visual_LabelPosition_BottomLeft")},{value:r,displayName:l=>l.get("Visual_LabelPosition_BottomRight")},{value:t,displayName:l=>l.get("Visual_Shape_ChatPosition_RightDown")},{value:o,displayName:l=>l.get("Visual_Shape_ChatPosition_RightUp")},{value:d,displayName:l=>l.get("Visual_LabelPosition_TopRight")},{value:n,displayName:l=>l.get("Visual_LabelPosition_TopLeft")},{value:c,displayName:l=>l.get("Visual_Shape_ChatPosition_LeftUp")},{value:s,displayName:l=>l.get("Visual_Shape_ChatPosition_LeftDown")}])},133420:function(ve,z,e){e.d(z,{Ag:function(){return v},BK:function(){return t},CX:function(){return g},DE:function(){return i},DL:function(){return u},NW:function(){return E},Ql:function(){return l},_9:function(){return c},e8:function(){return o},ek:function(){return n},kc:function(){return r},lZ:function(){return m},pB:function(){return d},t8:function(){return s},wl:function(){return p}});var a=e(904143),i="australia.states.topo",r="austria.states.topo",t="brazil.states.topo",o="canada.provinces.topo",d="france.regions.v2.topo",n="germany.states.topo",c="ireland.counties.v2.topo",s="italy.regions.topo",p="mexico.states.topo",l="netherlands.provinces.topo",u="uk.countries.topo",v="usa.states.topo",m="france.regions.topo",g="ireland.counties.topo",E=(0,a.s)([{value:i,displayName:D=>D.get("Visual_ShapeMap_StandardMaps_AustraliaStates")},{value:r,displayName:D=>D.get("Visual_ShapeMap_StandardMaps_AustriaStates")},{value:t,displayName:D=>D.get("Visual_ShapeMap_StandardMaps_BrazilStates")},{value:o,displayName:D=>D.get("Visual_ShapeMap_StandardMaps_CanadaProvinces")},{value:d,displayName:D=>D.get("Visual_ShapeMap_StandardMaps_FranceRegions")},{value:m,displayName:D=>D.get("Visual_ShapeMap_StandardMaps_FranceRegionsOld")},{value:n,displayName:D=>D.get("Visual_ShapeMap_StandardMaps_GermanyStates")},{value:c,displayName:D=>D.get("Visual_ShapeMap_StandardMaps_IrelandCounties")},{value:g,displayName:D=>D.get("Visual_ShapeMap_StandardMaps_IrelandCountiesOld")},{value:s,displayName:D=>D.get("Visual_ShapeMap_StandardMaps_ItalyRegions")},{value:p,displayName:D=>D.get("Visual_ShapeMap_StandardMaps_MexicoStates")},{value:l,displayName:D=>D.get("Visual_ShapeMap_StandardMaps_NetherlandsProvinces")},{value:u,displayName:D=>D.get("Visual_ShapeMap_StandardMaps_UkCountries")},{value:v,displayName:D=>D.get("Visual_ShapeMap_StandardMaps_UsaStates")}])},450128:function(ve,z,e){e.d(z,{D:function(){return r},z:function(){return i}});var a=e(904143),i=function(t){return t.miter="miter",t.round="round",t.bevel="bevel",t}({}),r=(0,a.s)([{value:i.miter,displayName:t=>t.get("Visual_StrokeLineJoin_Miter")},{value:i.round,displayName:t=>t.get("Visual_StrokeLineJoin_Round")},{value:i.bevel,displayName:t=>t.get("Visual_StrokeLineJoin_Bevel")}])},477070:function(ve,z,e){e.d(z,{FF:function(){return c},Ft:function(){return p},H4:function(){return n},J$:function(){return o},Ng:function(){return r},Rm:function(){return d},Te:function(){return i},WZ:function(){return s}});var a=e(904143),i=function(l){return l.dashed="dashed",l.solid="solid",l.dotted="dotted",l}({}),r=function(l){return l.dashed="dashed",l.solid="solid",l.dotted="dotted",l.custom="custom",l}({}),t={[r.solid]:"Visual_LineStyle_Solid",[r.dashed]:"Visual_LineStyle_Dashed",[r.dotted]:"Visual_LineStyle_Dotted",[r.custom]:"Custom"},o=(0,a.s)([{value:i.solid,displayName:l=>l.get(t.solid)},{value:i.dashed,displayName:l=>l.get(t.dashed)},{value:i.dotted,displayName:l=>l.get(t.dotted)}]),d=(0,a.s)([{value:r.solid,displayName:l=>l.get(t.solid)},{value:r.dashed,displayName:l=>l.get(t.dashed)},{value:r.dotted,displayName:l=>l.get(t.dotted)},{value:r.custom,displayName:l=>l.get(t.custom)}]),n=function(l){return l.none="none",l.round="round",l.square="square",l}({}),c=(0,a.s)([{value:n.none,displayName:l=>l.get("Visual_StrokeCap_Flat")},{value:n.round,displayName:l=>l.get("Visual_StrokeLineJoin_Round")},{value:n.square,displayName:l=>l.get("Visual_StrokeCap_Square")}]),s="5 5 0 5",p=n.round},479612:function(ve,z,e){e.d(z,{D:function(){return i},O:function(){return r}});var a=e(904143),i=function(t){return t.auto="Auto",t.left="Left",t.center="Center",t.right="Right",t}({}),r=(0,a.s)([{value:i.auto,displayName:t=>t.get("Visual_TextAlignment_Auto")},{value:i.left,displayName:t=>t.get("Visual_TextAlignment_Left")},{value:i.center,displayName:t=>t.get("Visual_TextAlignment_Center")},{value:i.right,displayName:t=>t.get("Visual_TextAlignment_Right")}])},511681:function(ve,z,e){e.d(z,{Q:function(){return i},k:function(){return r}});var a=e(904143),i=function(t){return t.SeriesName="Series name",t.Custom="Custom",t}({}),r=(0,a.s)([{value:i.SeriesName,displayName:t=>t.get("Visual_Label_TitleLabelContent_SeriesName")},{value:i.Custom,displayName:t=>t.get("Custom")}])},236562:function(ve,z,e){e.d(z,{RW:function(){return t},di:function(){return r},p$:function(){return o}});var a=e(904143),i=e(18122),r=function(n){return n.Normal="Normal",n.Heading2="Heading2",n.Heading3="Heading3",n.Heading4="Heading4",n.Heading5="Heading5",n.Heading6="Heading6",n}({}),t=(0,a.s)([{value:r.Normal,displayName:n=>n.get("Normal")},{value:r.Heading2,displayName:n=>n.get("Heading_2")},{value:r.Heading3,displayName:n=>n.get("Heading_3")},{value:r.Heading4,displayName:n=>n.get("Heading_4")},{value:r.Heading5,displayName:n=>n.get("Heading_5")},{value:r.Heading6,displayName:n=>n.get("Heading_6")}]);function o(n){switch(n){case r.Normal:return"p";case r.Heading2:return"h2";case r.Heading3:return"h3";case r.Heading4:return"h4";case r.Heading5:return"h5";case r.Heading6:return"h6";default:return i.Y.assertNever(n),"p"}}},688464:function(ve,z,e){e.d(z,{b:function(){return i},h:function(){return r}});var a=e(904143),i=function(t){return t.resquarify="stableSquarified",t.squarify="squarified",t.binary="binary",t.alternating="alternating",t.alternating2="alternating2",t}({}),r=(0,a.s)([{value:i.resquarify,displayName:t=>t.get("Visual_Treemap_TilingMethod_Squarified")},{value:i.binary,displayName:t=>t.get("Visual_Treemap_TilingMethod_Binary")},{value:i.alternating,displayName:t=>t.get("Visual_Treemap_TilingMethod_Alternating")}])},842519:function(ve,z,e){e.d(z,{G0:function(){return r},WO:function(){return t},sx:function(){return i}});var a=e(904143),i=function(o){return o.top="top",o.middle="middle",o.bottom="bottom",o}({}),r=function(o){return o.top="top",o.bottom="bottom",o}({}),t=(0,a.s)([{value:r.top,displayName:o=>o.get("Top")},{value:r.bottom,displayName:o=>o.get("Bottom")}])},464714:function(ve,z,e){e.d(z,{G:function(){return i},J:function(){return a}});var a=(()=>{class r{get code(){return r.code}getMessages(o){return{message:o.get("Visual_Error_SelectionNotShownMessage"),title:o.get("Visual_Error_SelectionNotShownKey"),detail:o.get("Visual_Error_SelectionNotShownValue")}}}return r.code="OnRestoreSelectionNotSupportedWarning",r})();class i{constructor(t,o,d){this.titleKey=o,this.detailKey=d,this._code=t}get code(){return this._code}getMessages(t){return{message:this.titleKey,title:this.titleKey,detail:this.detailKey}}}},460866:function(ve,z,e){e.d(z,{$Xk:function(){return qa},E_l:function(){return Ra},GZu:function(){return Da},I1Z:function(){return pi},JWj:function(){return _i},Jy9:function(){return ri},LSR:function(){return Oa},PTS:function(){return Ma},PTv:function(){return ha},Tof:function(){return ei},VwN:function(){return E},WAD:function(){return Wa},WOF:function(){return Ba},WXu:function(){return Ca},WmV:function(){return gi},Wpu:function(){return Xa},XdG:function(){return Ia},a6U:function(){return ti},a7X:function(){return Si},aRR:function(){return Ti},bVV:function(){return ja},b_K:function(){return Ja},cpo:function(){return At},dMi:function(){return Pr},g6o:function(){return ye},heU:function(){return Qa},ixK:function(){return Qe},jOV:function(){return ur},pld:function(){return si},s_E:function(){return Za},tlE:function(){return Fa},uSy:function(){return Fe},vCx:function(){return xa},vPZ:function(){return Pa},xNm:function(){return Aa},xh7:function(){return ka},xvF:function(){return $a},zxO:function(){return yi}});var a=e(876082),E="me",At="Report",Qe="Dashboard",Fe="NavModel",ye="3621b8c8-250a-4f7f-82f0-0aa5064e7c02",Aa="; ",Qa="browserLanguage",Xa=function(za){return za.EntityAlreadyExists="PowerBIEntityAlreadyExists",za.QuotaExceeded="PromotedContentQuotaExceeded",za}({}),Ia="PowerBIUserQuotaExceeded",$a="PowerBIGroupQuotaExceeded",Ra=5,xa=260,Pa="OverwriteNonLocalPackageWithLocalFileError",Ja="InformationProtectionInsufficientUsageRights",Oa="ReportWithDisplayNameForTheModelExists",Za="MoreThanOneDuplicateReportFoundError",Ca="ReplaceOriginalReportForPowerBICompanionNotSupported",qa="PowerBIModelNotFoundException",Da="MipClientNoPolicy",ei="MipClientUnauthorizedUser",Ba="MissingMandatorySensitivityLabelException",ti="ModelDiagramLayoutSizeTooBig",Fa={type:a.U.Global,name:"updateUrlAndAcquireApp"},Pr="dismissed",ri="clicked",Wa=9e6,ja=216e5,Ma="https://go.microsoft.com/fwlink/?linkid=844603",ha="pbi-glyph-my-apps",ka="pbi-glyph-gauge",si="pbi-glyph-barchart",ur="pbi-glyph-rdl-report",gi="pbi-glyph-database",Ti="pbi-glyph-collections",yi="pbi-glyph-rocket",_i="pbi-glyph-trophy2",Si=200,pi={InformationProtectionPublishingProtectedPbixFromCloudNotSupported:{errorMessage:"EimInformationProtection_PublishingProtectedPbixIsNotSupportedFromCloud_Message",buttonText:"PBI_Button_Label_Close"},InformationProtectionInsufficientUsageRights:{errorMessage:"UploadLocalFile_InformationProtectionInsufficientUsageRightsError",buttonText:void 0},MipClientUnauthorizedUser:{errorMessage:"EimInformationProtection_UnauthorizedToThisProtectedPbix_DialogMessage",buttonText:void 0}}},962702:function(ve,z,e){e.d(z,{bd:function(){return r},e0:function(){return i}});var a=function(t){return t[t.SharingWithInvalidDomain=0]="SharingWithInvalidDomain",t[t.SharingWithBlockedDomain=1]="SharingWithBlockedDomain",t[t.ExceededMaxOneTimeEmailCount=2]="ExceededMaxOneTimeEmailCount",t}({});function i(t,o,d){o.emailValidationError=o.emailValidationWarning="",o.showSecurityGroupUpgradeAccount=!1;var n=t.promiseFactory.defer();return t.domainHelperService.getVerifiedDomains().then(c=>{var s={},p={},l=null,u="",v=0,m=0,g=t.licenseEnforcementService.supportsGroups();if(o&&o.emailsList){var E=o.emailsList.inputUserList,D=d.maxNumberOfEmailsAllowedAtATime;D>0&&E.length>D&&(o.emailValidationError=t.localizationService.format("MaxOneTimeEmailCountReached",[D]),l=a.ExceededMaxOneTimeEmailCount,u=`User entered ${E.length} email addresses`);var h=!1;for(var C of E){if(C.userPrincipalName){var f=C.userPrincipalName.split("@")[1].toLowerCase();c.verifiedDomains[f.toUpperCase()]||(s[f]=f,v++),c.blockedDomains[f.toUpperCase()]&&(p[f]=f,m++)}C.isSecurityGroup&&!g&&(h=!0)}var S="",b=0;for(var V in s)b++,S+=V+", ";var M="",P=0;for(var T in p)P++,M+=T+", ";h&&(o.showSecurityGroupUpgradeAccount=!0),_.endsWith(S,", ")&&(S=S.substring(0,S.length-2)),_.endsWith(M,", ")&&(M=M.substring(0,M.length-2)),!d.disableExternalSharingValidationForEmailSubscriptions&&!t.featureSwitchService.featureSwitches.externalSharingEnabled&&b>0?(o.emailValidationError=t.localizationService.format("Sharing_ExternalSharingDisabled"),l=a.SharingWithInvalidDomain,u=S):!d.disableExternalSharingValidationForEmailSubscriptions&&d.shouldBlockExternalDomains&&b>0?(o.emailValidationError=t.localizationService.format("Sharing_EmailDomainNotInTenant"),l=a.SharingWithInvalidDomain,u=S):d.shouldBlockConsumerDomains&&P>0?(o.emailValidationError=t.localizationService.format("Sharing_BlockedDomains",[M]),l=a.SharingWithBlockedDomain,u=M):b>0&&(o.emailValidationWarning=t.localizationService.format("Sharing_ExternalOrganization",[S]))}_.isEmpty(o.emailValidationError)?n.resolve({externalEmailCount:v,consumerEmailCount:m}):n.reject({errorReason:u,errorType:l})},c=>{n.reject(null)}),n.promise}function r(t){return new RegExp("^([!#$%&'*+/=?^{|}~\\w\\-\\.\\u00c0-\\uffff]{1,64}@[\\w\\-\\.\\u00c0-\\uffff]{1,253}\\.\\w{1,63})$").test(t)}},346538:function(ve,z,e){e.d(z,{t:function(){return a}});class a{constructor(r){this.contract=r}}},676198:function(ve,z,e){e.d(z,{$0:function(){return p},$R:function(){return ia},$_:function(){return s},AX:function(){return le},Ag:function(){return Be},Al:function(){return ra},C3:function(){return Nr},Cd:function(){return fe},Cw:function(){return At},De:function(){return t},Eh:function(){return aa},F1:function(){return Xe},Fw:function(){return ut},GL:function(){return zt},HH:function(){return je},Iu:function(){return n},J9:function(){return N},JB:function(){return we},JL:function(){return Er},K:function(){return nt},Kc:function(){return l},L$:function(){return rt},LF:function(){return it},O$:function(){return vt},OI:function(){return fr},OL:function(){return Ge},PH:function(){return mr},Q8:function(){return be},Rn:function(){return r},S1:function(){return Zr},Sw:function(){return o},UR:function(){return Qr},Uj:function(){return q},V1:function(){return Oe},VT:function(){return Yr},Wb:function(){return Cr},Wi:function(){return I},XT:function(){return i},Xh:function(){return ke},Xx:function(){return Nt},ZE:function(){return wr},_D:function(){return ar},bI:function(){return or},d8:function(){return te},dr:function(){return Je},eG:function(){return Kt},fq:function(){return Q},fr:function(){return ct},hh:function(){return ft},hy:function(){return J},iD:function(){return pt},ix:function(){return Pe},j8:function(){return S},lh:function(){return A},mR:function(){return v},mm:function(){return V},oG:function(){return He},pH:function(){return k},pK:function(){return Ae},qQ:function(){return Ce},qm:function(){return Qt},qr:function(){return Lr},rr:function(){return ie},s0:function(){return tt},sF:function(){return xe},si:function(){return It},tb:function(){return st},tp:function(){return d},u6:function(){return dr},uO:function(){return P},vp:function(){return xt},w2:function(){return y},wr:function(){return u},yd:function(){return X},zG:function(){return lt}});var a=e(285264),i=function(ht){return ht.Report="Report",ht.QnA="QnA",ht.Exploration="Exploration",ht.Dashboard="Dashboard",ht.Workbook="Workbook",ht.Insights="Insights",ht.Widget="Widget",ht}({}),r=function(ht){return ht.App="App",ht.Owned="Owned",ht.Shared="Shared",ht.Unknown="Unknown",ht}({}),t=function(ht){return ht.NavigatorBarManageStorage="NavigatorBarManageStorage",ht.DirectUrl="DirectUrl",ht}({}),o=function(ht){return ht.Group="Group",ht.Personal="Personal",ht}({}),d=function(ht){return ht.DeleteOwnedModel="DeleteOwnedModel",ht.DeleteOwnedWorkbook="DeleteOwnedWorkbook",ht.RemoveSharedItem="RemoveSharedItem",ht}({}),n=function(ht){return ht.Unknown="Unknown",ht.AddDashboard="AddDashboard",ht.ShareDashboard="ShareDashboard",ht.AcceptInvitation="AcceptInvitation",ht.AddTile="AddTile",ht.ReportSaveAs="ReportSaveAs",ht.OpenDataset="OpenDataset",ht.GetData="GetData",ht.PublishContentPack="PublishContentPack",ht.UpdateContentPack="UpdateContentPack",ht.PersonalizeContentPack="PersonalizeContentPack",ht.CreateStreamingDataset="CreateStreamingDataset",ht.AppAutoInstall="AppAutoInstall",ht.PersonalizeApp="PersonalizeApp",ht}({}),s=function(ht){return ht.Report="Report",ht.Dashboard="Dashboard",ht.ReportV2="ReportV2",ht.DashboardV2="DashboardV2",ht.Workspace="Workspace",ht}({}),p=function(ht){return ht.UnifiedNotificationPane="UnifiedNotificationPane",ht}({}),l=function(ht){return ht.OpenTile="OpenTile",ht}({}),u=function(ht){return ht.Dashboard="Dashboard",ht.OrgApp="OrgApp",ht.Report="Report",ht.Workbook="Workbook",ht.RdlReport="RdlReport",ht}({}),v=function(ht){return ht.Normal="Normal",ht.EmailSubscription="EmailSubscription",ht.SubscribeOthers="SubscribeOthers",ht.Commenting="Commenting",ht.DDAlert="DDAlert",ht.SmartAlerts="SmartAlerts",ht.CopyVisualImage="CopyVisualImage",ht.Invalid="Invalid",ht}({}),g="PBI.Navigation.Toggle",D=(a.Xi[g]=(0,a.Vp)(g),"DashboardTileMenuAction"),C=(a.Xi[D]=(0,a.Vp)(D),"PBI.Dashboard.ClaimInvitation"),y=a.Xi[C]=(0,a.Vp)(C),f="PBI.Dashboard.ClaimInvitationRedirectToMobileLandingPage",S=a.Xi[f]=(0,a.Vp)(f),b="PBI.Dashboard.DeleteDashboard",V=a.Xi[b]=(0,a.Vp)(b),M="PBI.Dashboard.DeleteTile",P=a.Xi[M]=(0,a.Vp)(M),T="PBI.Dashboard.TileLayoutChanged",N=a.Xi[T]=(0,a.Vp)(T),w="PBI.Dashboard.InFocusWorkbook",I=a.Xi[w]=(0,a.Vp)(w),O="PBI.Dashboard.OpenDashboard",j=(a.Xi[O]=(0,a.Vp)(O,{shouldLogStartEnd:!0,logExpAssignment:!0}),"PBI.Dashboard.LockedTilesDisplayed"),F=(a.Xi[j]=(0,a.Vp)(j),"PBI.Dashboard.LoadDashboardTileVisual"),B=(a.Xi[F]=(0,a.Vp)(F),"PBI.Dashboard.PinTile"),A=a.Xi[B]=(0,a.Vp)(B),W="PBI.Dashboard.InitializeContainer",K=(a.Xi[W]=(0,a.Vp)(W),"PBI.Dashboard.SettingGroupChanged"),q=a.Xi[K]=(0,a.Vp)(K),ne="PBI.Dashboard.RenameDashboard",k=a.Xi[ne]=(0,a.Vp)(ne),L="PBI.Dashboard.ViewWorkbook",X=a.Xi[L]=(0,a.Vp)(L,{logExpAssignment:!0}),Y="PBI.Dashboard.EditWorkbook",Q=a.Xi[Y]=(0,a.Vp)(Y),H="PBI.Dashboard.WorkbookViewedExternallyDueToAnError",te=a.Xi[H]=(0,a.Vp)(H),ee="PBI.Dashboard.UpdateActiveDashboard",Te=(a.Xi[ee]=(0,a.Vp)(ee),"PBI.Dashboard.RefreshTileData"),He=a.Xi[Te]=(0,a.Vp)(Te),We="PBI.Dashboard.RefreshDashboardTiles",ft=a.Xi[We]=(0,a.Vp)(We),mt="PBI.Groups.SwitchGroup",At=a.Xi[mt]=(0,a.Vp)(mt),Qe="PBI.Folders.GetWorkspaceFolders",ye=(a.Xi[Qe]=(0,a.Vp)(Qe),"PBI.Dashboard.ShowGettingStartedPopup"),we=a.Xi[ye]=(0,a.Vp)(ye),Ee="PBI.Dashboard.WorkbookClickScheduleRefresh",Oe=a.Xi[Ee]=(0,a.Vp)(Ee),he="PBI.Dashboard.WorkbookClickRefreshNow",xe=a.Xi[he]=(0,a.Vp)(he),Se="PBI.Dashboard.ClickPersonalize",Ae=a.Xi[Se]=(0,a.Vp)(Se,{logExpAssignment:!0}),Ie="PBI.Dashboard.ContentPackDirty",Je=a.Xi[Ie]=(0,a.Vp)(Ie),pe="PBI.Dashboard.FirstUse",Pe=a.Xi[pe]=(0,a.Vp)(pe),Me="PBI.Dashboard.InFocusModeSelected",Ge=a.Xi[Me]=(0,a.Vp)(Me),De="PBI.Dashboard.SaveDashboardSettings",lt=a.Xi[De]=(0,a.Vp)(De),ct="PBI.Dashboard.GetDashboardSettings",vt=a.Xi[ct]=(0,a.Vp)(ct),Vt="PBI.Dashboard.TestDataSourceConnection",It=a.Xi[Vt]=(0,a.Vp)(Vt),Ot="PBI.Dashboard.LoadTileData",Ze=(a.Xi[Ot]=(0,a.Vp)(Ot),"PBI.App.InitialAppLoad"),qe=(a.Xi[Ze]=(0,a.Vp)(Ze,{shouldLogStartEnd:!0,logExpAssignment:!0}),"PBI.GroupEditor.GetGroupMembers"),ut=a.Xi[qe]=(0,a.Vp)(qe),et="PBI.GroupEditor.UserLeaveGroup",le=a.Xi[et]=(0,a.Vp)(et),me="PBI.Quota.OpenManageStoragePage",Be=a.Xi[me]=(0,a.Vp)(me),Ke="PBI.Quota.StorageUsage",Xe=a.Xi[Ke]=(0,a.Vp)(Ke),re="PBI.Quota.ManageStorageDelete",fe=a.Xi[re]=(0,a.Vp)(re),ae="PBI.Quota.Exceeded",tt=a.Xi[ae]=(0,a.Vp)(ae),ot="PBI.Quota.AccessCustomizedProperties",rt=a.Xi[ot]=(0,a.Vp)(ot),Re="PBI.Privacy.InitializeSettingsModel",J=a.Xi[Re]=(0,a.Vp)(Re),ce="PBI.Privacy.SaveSettingsModel",Ce=a.Xi[ce]=(0,a.Vp)(ce),ze="PBI.Settings.TakeoverDatasources",it=a.Xi[ze]=(0,a.Vp)(ze),yt="PBI.Settings.LoadSettingsData",Nt=a.Xi[yt]=(0,a.Vp)(yt),Lt="PBI.QRCode.QRCodeDialogShown",zt=a.Xi[Lt]=(0,a.Vp)(Lt),Yt="PBI.QRCode.ShortUrlCreated",Qt=a.Xi[Yt]=(0,a.Vp)(Yt),sr="PBI.QRCode.ShortUrlFailed",je=a.Xi[sr]=(0,a.Vp)(sr),Tt="PBI.QRCode.QRCodeReportDialogShown",Kt=a.Xi[Tt]=(0,a.Vp)(Tt),nr="PBI.QRCode.ReportShortUrlCreated",ar=a.Xi[nr]=(0,a.Vp)(nr),$e="PBI.Dashboard.AddWidget",pt=a.Xi[$e]=(0,a.Vp)($e),Ut="PBI.DataAlerts.TileBadgeClicked",er=(a.Xi[Ut]=(0,a.Vp)(Ut),"PBI.DataAlerts.NotificationAction"),or=a.Xi[er]=(0,a.Vp)(er),vr="PBI.UsageMetrics.Http.GetPackage",mr=a.Xi[vr]=(0,a.Vp)(vr),Mr="PBI.UsageMetrics.Http.UsageReportUpgrade",Lr=a.Xi[Mr]=(0,a.Vp)(Mr),Ur="PBI.UserNotifications.LinkClicked",Yr=a.Xi[Ur]=(0,a.Vp)(Ur,{logExpAssignment:!0}),Kr="PBI.Dashboard.RegisterAndLoadResourcePackages",Gr=(a.Xi[Kr]=(0,a.Vp)(Kr),"PBI.Dashboard.LoadDashboard"),Or=(a.Xi[Gr]=(0,a.Vp)(Gr),"PBI.Dashboard.RegisterAndLoadResourcePackagesForReportTiles"),ra=a.Xi[Or]=(0,a.Vp)(Or),Xr="PBI.ArtifactNotFound",aa=a.Xi[Xr]=(0,a.Vp)(Xr),jr="PBI.AppModel.InitializeContentProviders",Cr=a.Xi[jr]=(0,a.Vp)(jr),Ir="PBI.NPS.ShowDialog",ia=a.Xi[Ir]=(0,a.Vp)(Ir),Rr="PBI.Dashboard.LoadTileVisualTimedOut",Tr=(a.Xi[Rr]=(0,a.Vp)(Rr),"PBI.Dashboard.AddDashboard"),Zr=a.Xi[Tr]=(0,a.Vp)(Tr,{logExpAssignment:!0}),na="PBI.UsageMetrics.ViewUsageMetricsReport",Nr=a.Xi[na]=(0,a.Vp)(na),br="PBI.PersistentState.Reset",Qr=a.Xi[br]=(0,a.Vp)(br),kr="PBI.Theming.SaveTheme",wr=a.Xi[kr]=(0,a.Vp)(kr),Pt="PBI.Dashboard.GetResourcePackageItem",nt=a.Xi[Pt]=(0,a.Vp)(Pt),_e="PBI.Apps.GuestUserWithNoAccessError",ke=a.Xi[_e]=(0,a.Vp)(_e),dt="PBI.Tutorial.Close",xt=a.Xi[dt]=(0,a.Vp)(dt),Ht="PBI.Landing.BindToPowerViewReport",dr=a.Xi[Ht]=(0,a.Vp)(Ht),Sr="PBI.UsageMetrics.UpdateNewReportSetting",fr=a.Xi[Sr]=(0,a.Vp)(Sr),Zt="PBI.ChangeDetectionMeasure.LongPollError",Er=a.Xi[Zt]=(0,a.Vp)(Zt),Le="PBI.ChangeDetectionMeasure.GetCDMConfigError",be=a.Xi[Le]=(0,a.Vp)(Le),Z="PBI.ChangeDetectionMeasure.GetConceptualSchemaError",ie=a.Xi[Z]=(0,a.Vp)(Z),Ue="PBI.Dashboard.RealtimeModelLoad",st=a.Xi[Ue]=(0,a.Vp)(Ue)},511163:function(ve,z,e){e.d(z,{$:function(){return o},x:function(){return t}});var a=e(200367),i=e(512655),r=e(924256);function t(d,n=!1){if(d&&d.tiles){if(n)return{[i.FI]:d.tiles.background,[i.N6]:d.tiles.color,[i.Fx]:d.tiles.opacity};var c=(0,a.ND)(d.tiles.background,d.tiles.opacity);return{[i.FI]:c,[i.N6]:d.tiles.color}}}function o(d){if(d){var n=d.tiles?d.tiles[i.N6]:i.Yu,c={[i.FI]:d.background,[i.N6]:n};return(0,r.VP)(d.backgroundImage)?(c[i.Vr]=`url(${d.backgroundImage})`,c[i.lM]=i.Zq):c[i.Vr]=i.eU,c}}},96673:function(ve,z,e){e.d(z,{AA:function(){return f},C_:function(){return r},E2:function(){return d},EK:function(){return S},LY:function(){return C},T1:function(){return l},TL:function(){return u},UE:function(){return n},UZ:function(){return P},YV:function(){return p},fL:function(){return t},gO:function(){return c},gj:function(){return i},li:function(){return D},m1:function(){return g},mJ:function(){return s},ml:function(){return v},oX:function(){return y},pl:function(){return m},t8:function(){return h},zR:function(){return M},ze:function(){return E},zm:function(){return o},zp:function(){return V}});var a=e(709190),i="esriVisual",r="esriVisual_TEST",t="Visio_PBI_CV_D7C10B1A_506B_4123_878E_39E8698FD30A",o="VisioDF_PBI_CV_D7C10B1A_506B_4123_878E_39E8698FD30A",d="PowerApps_PBI_CV_C29F1DCC_81F5_4973_94AD_0517D44CC06A",n="PowerApps_PBI_CV_C29F1DCC_81F5_4973_94AD_0517D44CC06A_TEST",c="PBI_CV_EB3A4088_75C5_4746_9D8B_255A7B7ECD6C",s="MapboxVisual_TEST",p="PBI_CV_0157F990_CDD5_4FEC_8488_7262B9195669",l="FlowVisual_C29F1DCC_81F5_4973_94AD_0517D44CC06A",u="FlowVisual_C29F1DCC_81F5_4973_94AD_0517D44CC06A_TEST",v="vPMenu6454E8C4E1BD492A83084AB46B0C248B",m="vPMenu6454E8C4E1BD492A83084AB46B0C248B_TEST",g="SmartFilterBySQLBI1458262140626",E="_OrgStore",D="1.2.0",h=[i,r,t,o,d,n,c,p,s,l,u,v,m,g],C="Esri is not supported in Embedded scenario.",y="CV_Warning_Code",f=70,S=2e3,V="SharedResources",M=[];M[a.X.RegisteredResources]="RegisteredResources",M[a.X.SharedResources]=V;var P={};P[a.X.RegisteredResources]=!0,P[a.X.SharedResources]=!0},360010:function(ve,z,e){e.d(z,{M:function(){return i},N:function(){return a}});var a=function(r){return r[r.Error=0]="Error",r[r.Blocked=1]="Blocked",r[r.HelpLinkOnly=2]="HelpLinkOnly",r}({}),i=function(r){return r[r.None=0]="None",r[r.References=1]="References",r[r.Relationships=2]="Relationships",r[r.Filters=3]="Filters",r[r.ScriptVisualsNotEnabled=4]="ScriptVisualsNotEnabled",r[r.PythonVisualsNotEnabled=5]="PythonVisualsNotEnabled",r[r.DataSourceSettings=6]="DataSourceSettings",r[r.QueryCacheMiss=7]="QueryCacheMiss",r[r.VisualCalculationsEditingNotSupported=8]="VisualCalculationsEditingNotSupported",r[r.CalculationGroupApplyToSparklineText=9]="CalculationGroupApplyToSparklineText",r[r.BingMapVisualDeprecated=10]="BingMapVisualDeprecated",r}({})},261959:function(ve,z,e){e.d(z,{H:function(){return r},q:function(){return i}});var a=e(876082),i={type:a.U.Global,name:"reloadEmptyVisuals"},r={type:a.U.Global,name:"applyPendingChanges"}},92644:function(ve,z,e){e.d(z,{YT:function(){return r},gH:function(){return t}});var r="ShapeMap",t=function(o){return o[o.CustomVisualJavascript=0]="CustomVisualJavascript",o[o.CustomVisualsCss=1]="CustomVisualsCss",o[o.CustomVisualScreenshot=2]="CustomVisualScreenshot",o[o.CustomVisualIcon=3]="CustomVisualIcon",o[o.CustomVisualWatermark=4]="CustomVisualWatermark",o[o.CustomVisualMetadata=5]="CustomVisualMetadata",o[o.Image=100]="Image",o[o.ShapeMap=200]="ShapeMap",o[o.CustomTheme=201]="CustomTheme",o[o.BaseTheme=202]="BaseTheme",o[o.DashboardTheme=203]="DashboardTheme",o[o.DashboardBaseTheme=204]="DashboardBaseTheme",o[o.HighContrastTheme=205]="HighContrastTheme",o[o.AppNavigation=206]="AppNavigation",o[o.AppTheme=207]="AppTheme",o[o.AppBaseTheme=208]="AppBaseTheme",o}({})},570917:function(ve,z,e){e.d(z,{d:function(){return s}});var a=e(38361),i=e(30918),r=e(18122),t=e(960418),o=e(77379),d=e(708599),n=e(590801),c=e(170737);function s(l,u,v,m,g){return new p(l,u,v,m,g)}class p{constructor(u,v,m,g,E){this.approvedResourceService=v,this.telemetryService=m,this.featureSwitchService=g,this.onlyApprovedForServerRenderResources=E,this.locale=u&&u.locale,this.promiseFactory=u.promiseFactory}loadTrustedResourcePackages(u){return r.Y.assertFail("Not supported"),this.promiseFactory.reject()}loadResourcePackages(u){r.Y.assertValue(u,"resourcePackages");var v=[];for(var m of u)v.push(this.loadResourcePackage(m));return this.promiseFactory.all(v)}loadResourcePackage(u){r.Y.assertValue(u,"resourcePackage");var v=(m,g,E,D,h)=>{this.telemetryService.logEvent(o.bO,{visualType:u.name,fileName:m,isClientGenerated:!!h,start:E,end:D,parentId:this.telemetryService.root.id,isError:!0,errorSource:a.gf.PowerBI,errorCode:g})};return this.approvedResourceService.loadApprovedResourcesMetadata(this.promiseFactory,this.onlyApprovedForServerRenderResources).catch(m=>this.promiseFactory.reject(m)).then(()=>{var m=[];return this.approvedResourceService.isApprovedResource(u.name)?(m.push(this.loadResourcesWithVisualApi(u,v)),this.promiseFactory.all(m)):this.promiseFactory.reject("Visual is not an approved visual")})}loadResourcePackageItem(u,v){return r.Y.assertFail("Not supported"),this.promiseFactory.reject()}loadSharedResource(u){return r.Y.assertFail("Not supported"),this.promiseFactory.reject()}loadVisualPlugins(u){r.Y.assertValue(u,"resourcePackages");var v=[];if(u)for(var m of u)v.push(this.loadVisualPlugin(m));return this.promiseFactory.all(v)}loadVisualPlugin(u){r.Y.assertValue(u,"resourcePackage");var v=this.promiseFactory.defer();return u&&u.items&&u.items.length>0?this.loadResourcePackage(u).then(()=>{var m=i.q[u.name];m?(m.iconUrl=(0,n.z8)(u.name),v.resolve(m)):v.reject("Unable to load visual plugin from resource package: "+u.name)}).catch(()=>{v.reject("failed to resolve all promises")}):v.resolve(null),v.promise}destroy(){}loadResourcesWithVisualApi(u,v){var m=this.promiseFactory.defer(),g=(new Date).toISOString(),E=this.featureSwitchService?!!this.featureSwitchService.featureSwitches.consumePublicCvsWithoutRps:void 0;return this.approvedResourceService.getCustomVisualPbivizJson(u.name).then(D=>{var h=(new Date).toISOString();this.handleLoadResourceResponse(D.data,u),this.telemetryService.logEvent(o.Q7,{visualType:u.name,fileName:this.approvedResourceService.customVisualJsonUrlBuilder(u.name),isClientGenerated:!!u.isPublic,consumePublicCvsWithoutRps:E,start:g,end:h,parentId:this.telemetryService.root.id,isError:!1,errorSource:a.gf.PowerBI}),m.resolve(null)},D=>{var h=JSON.stringify(D),C=(new Date).toISOString();v(this.approvedResourceService.customVisualJsonUrlBuilder(u.name),h,g,C,u.isPublic),m.reject(h)}),m.promise}handleLoadResourceResponse(u,v){v.items&&v.items[0]&&(v.items[0].content=JSON.stringify(u));var m=(0,c.u)(u,this.locale,t.m.AppSource);m&&(m.isDeprecated=this.approvedResourceService.isDeprecated(v.name),m.approvedForNoIframe=this.approvedResourceService.isApprovedForNoIframe(v.name)),(0,d.s)(m);var g=i.q[m.name];g&&(m.favoriteId=g.favoriteId,m.isOutOfBox=g.isOutOfBox),i.q[m.name]=m}}},534611:function(ve,z,e){e.d(z,{p:function(){return p}});var a=e(77379),i=e(96673),r=e(38361),t=e(710834),o=e(404192),d=e(44303),n=e(23634),c=e(839826),s=window;function p(u,v,m,g,E){return new l(u,v,m,g,E)}class l{constructor(v,m,g,E,D){this.featureSwitchService=v,this.httpService=m,this.options=E,this.telemetryService=D,this.trustedVisuals=i.t8,this.resourcesRetryCount=5,this.legacy="legacy",this.gradualExposureFSPrefix="customVisualsGradualExposure",this.approvedResourceJsonInProccess=!1,this.customVisualsEndpointPromise=g.getCustomVisualsEndpointAsync()}getCustomVisualPbivizJson(v){var m=this.customVisualJsonUrlBuilder(v);return this.httpService.get(m,{responseType:"json",timeout:c.bj,retryCount:this.resourcesRetryCount,logRetries:!0,addRequestIdToRetries:!0})}getCustomVisualVersion(v){var m=this.getCompatibleVisualVersion(v);return m?m.version:null}getCustomVisualApiVersion(v){var m=this.getCompatibleApiVersion(v);return m&&m!==this.legacy?m:null}customVisualJsonUrlBuilder(v){var m=this.getCompatibleVisualVersion(v);if(m)return this.customVisualsEndpoint+"/"+v+"."+m.version+"."+m.hash+".pbiviz.json"}getVisualIdFromAssetId(v){for(var m in this.approvedVisuals)if(this.approvedVisuals[m]&&this.approvedVisuals[m].assetId===v)return m;return null}isApprovedVisualsDefined(){return!!this.approvedVisuals}isApprovedResource(v){return!!this.approvedVisuals&&!!this.approvedVisuals[v]}isApprovedResourceByAssetId(v){return!!this.approvedVisualsAssetIds&&!!this.approvedVisualsAssetIds[v]}isApprovedResourceServerRender(v){var m=this.getCompatibleVisualVersion(v);return this.isApprovedResource(v)&&!!m&&!!m.approvedForServerRender}isApprovedForNoIframe(v){if(this.onlyApprovedForServerRenderResources||(0,n.hU)())return!1;var m=this.getCompatibleVisualVersion(v);return!!m&&!!m.approvedForNoIframe}isTrustedResource(v){return!!_.find(this.trustedVisuals,m=>m===v)}addTrustedVisual(v){this.isTrustedResource(v)||this.trustedVisuals.push(v)}isDeprecated(v){var m=this.getCompatibleVisualVersion(v);return this.isApprovedResource(v)&&!!m&&(!!m.isDeprecated||m.apiVersion&&(0,d.lt)(m.apiVersion,i.li))}usesExternalResourcesInAirGappedEnv(v){var m=this.getCompatibleVisualVersion(v);return this.featureSwitchService.featureSwitches.restrictServiceOutboundFlowsEnabled&&m&&m.usesExternalResources}canUseLocalStorage(v){if(this.onlyApprovedForServerRenderResources)return!1;var m=this.getCompatibleVisualVersion(v);return!(!m||!this.isApprovedResource(v))&&m.canUseLocalStorage}removeApprovedResource(v){this.approvedVisuals&&(this.approvedVisuals[v]=void 0)}getCdnEnvEndpointName(v){var m=(0,o.BG)()||c.jM;return this.featureSwitchService.featureSwitches.appStoreCdnOverride&&(m=c.a6),v+m}loadApprovedResourcesMetadata(v,m){return this.approvedResourceJsonInProccess||(this.approvedResourceJsonRequest=v.defer(),this.approvedResourceJsonInProccess=!0,(m?"boolean"==typeof m?v.resolve(m):m:v.resolve(!1)).then(E=>{if(E&&(this.onlyApprovedForServerRenderResources=!!E),this.approvedVisuals)return this.setApprovedResources(),this.approvedResourceJsonRequest.resolve(null),this.approvedResourceJsonRequest.promise;var D=this.options?.isApprovedLoadingDisabled()??v.resolve(!1);v.allSettled([this.featureSwitchService.getFeatureSwitches(),D,this.customVisualsEndpointPromise]).then(h=>{this.approvedResourcesDisabled=h[1].value,this.customVisualsEndpoint=h[2].value}).finally(()=>{if(this.approvedResourcesDisabled)this.approvedResourceJsonRequest.reject("approvedResourcesDisabled is true in an unsupported environment for loading metadata");else{var h=(new Date).toISOString();this.httpService.get(this.customVisualsEndpoint+"/approvedResources.json",{responseType:"json",timeout:c.bj,retryCount:this.resourcesRetryCount,logRetries:!0,addRequestIdToRetries:!0}).then(y=>{var f=(new Date).toISOString();this.telemetryService&&this.telemetryService.logEvent(a.J5,{endpoint:this.customVisualsEndpoint,allEndpointDown:!1,start:h,end:f,parentId:this.telemetryService.root.id,isError:!1,errorSource:r.gf.PowerBI}),this.setApprovedResources(y.data),this.approvedResourceJsonRequest.resolve(null),this.approvedResourceJsonInProccess=!1},y=>{var f=(new Date).toISOString();this.telemetryService&&this.telemetryService.logEvent(a.J5,{endpoint:this.customVisualsEndpoint,allEndpointDown:!0,start:h,end:f,parentId:this.telemetryService.root.id,isError:!0,errorSource:r.gf.PowerBI,errorCode:JSON.stringify(y)}),this.approvedResourceJsonRequest.reject(JSON.stringify(y)),this.approvedResourceJsonInProccess=!1})}})})),this.approvedResourceJsonRequest.promise}cdnUrlBuilder(v,m,g){var E=this.getCompatibleApiVersion(m);return E?this.getCdnEnvEndpointName(v)+"/"+E+"/"+m+g:this.getCdnEnvEndpointName(v)+"/"+m+g}getTrustedResources(){return this.trustedVisuals}hasApi(v){var m=this.getCompatibleVisualVersion(v);return!!(m&&this.approvedVisuals&&m&&m.apiVersion&&m.apiVersion!==this.legacy)}getTelemetryUsageLimit(v){var m=this.getCompatibleVisualVersion(v);return m&&this.isApprovedResource(v)&&m.telemetryUsageLimit||0}canRefreshHostData(v){var m=this.getCompatibleVisualVersion(v);return!(!m||!this.isApprovedResource(v))&&m.canRefreshHostData}canGetAADToken(v){var m=this.getCompatibleVisualVersion(v);return!(!m||this.blockedAccessToken(v))&&!!this.isApprovedResource(v)&&m.canGetAADToken}blockedAccessToken(v){if(this.options&&this.options.shouldBlockAccessToken())return this.telemetryService&&this.telemetryService.logEvent(a.J4,{visualType:v,reason:"Access Token does not exists in publishToWeb/PaasEmbed"}),!0;try{var D=JSON.parse(atob(s.powerBIAccessToken.split(".")[1])).scp;return!(D.indexOf("user_impersonation")>=0||D.indexOf("__Tokens.WAC")>=0||(this.telemetryService&&this.telemetryService.logEvent(a.J4,{visualType:v,reason:"Access Token is blocked due to insufficient scope"}),0))}catch{return!1}}canGetWACToken(v){var m=this.getCompatibleVisualVersion(v);return!(!m||this.blockedAccessToken(v))&&!!this.isApprovedResource(v)&&m.canGetWACToken}getAllApprovedForServerRenderResourcesTypes(){if(!this.approvedVisuals)return[];var v=Object.keys(this.approvedVisuals);return _.filter(v,g=>this.isApprovedResourceServerRender(g))}getPublicId(v){return this.isApprovedResource(v)&&this.approvedVisuals[v].assetId?this.approvedVisuals[v].assetId:null}isMsVisual(v){return!(!this.isApprovedResource(v)||!this.approvedVisuals[v].isMsVisual)}canManageAsyncUpdate(v){if(this.isApprovedResource(v)){var m=this.getCompatibleVisualVersion(v);if(m&&m.callsRenderingCompleted)return!0}return!1}getCompatibleApiVersion(v){var m=this;if(!this.isApprovedResource(v)||!this.approvedVisuals[v].allVersions)return null;var g=this.approvedVisuals[v].allVersions;g.sort((C,y)=>!C.apiVersion||y.apiVersion&&!(0,d.gt)(C.apiVersion,y.apiVersion)?1:-1);var D,E=function(C){if((0,t.IL)().some(y=>y.version===C.apiVersion)&&!m.shouldSkipVersion(C))return{v:C.apiVersion}};for(var h of g)if(D=E(h))return D.v;return this.legacy}shouldSkipVersion(v){return null!=v.gradualExposureFSNumber&&!this.featureSwitchService.featureSwitches[`${this.gradualExposureFSPrefix}${v.gradualExposureFSNumber}`]}getCompatibleVisualVersion(v){var m=this.getCompatibleApiVersion(v);if(m)for(var g of this.approvedVisuals[v].allVersions)if(g.apiVersion===m)return g;return null}setApprovedResources(v){if(v&&(this.approvedVisuals=v,this.approvedVisualsAssetIds=l.buildApprovedVisualsAssetIds(v)),this.onlyApprovedForServerRenderResources){var m=this.getAllApprovedForServerRenderResourcesTypes(),g=_.pick(this.approvedVisuals,m);this.approvedVisuals=g}}static buildApprovedVisualsAssetIds(v){return _.reduce(v,(g,E)=>(E.assetId&&(g[E.assetId]=!0),g),{})}}},913729:function(ve,z,e){e.d(z,{AM:function(){return m},d7:function(){return E}});var a=e(345562),i=e(709190),r=e(664148),t=e(30918),o=e(18122),d=e(223431),n=e(960418),c=e(92644),s=e(77379),p=e(554109),l=e(708599),u=e(590801),v=e(170737);function m(D,h,C){return new E(D,h,C||new g(D.promiseFactory))}class g{constructor(h){this.promiseFactory=h}get(h,C,y){return o.Y.assertFail("Referenced omitted sharedResourceItemProxy"),this.promiseFactory.reject()}getBlob(h,C,y){return o.Y.assertFail("Referenced omitted sharedResourceItemProxy"),this.promiseFactory.reject()}}var E=(()=>{class D{constructor(C,y,f){this.provider=y,this.sharedResourceItemProxy=f,this.promiseFactory=C&&C.promiseFactory,this.locale=C&&C.locale,this.telemetryV2Enabled=C&&C.telemetryV2Enabled}loadTrustedResourcePackages(C){return o.Y.assertFail("Not supported"),this.promiseFactory.reject()}loadResourcePackages(C){o.Y.assertValue(C,"resourcePackages");var y=[];for(var f of C)y.push(this.loadResourcePackage(f));return this.promiseFactory.all(y)}loadResourcePackage(C){o.Y.assertValue(C,"resourcePackage");var y=[];if(C&&C.items)for(var f of C.items)y.push(this.loadCustomVisualResourcePackageItem(f,C));return this.promiseFactory.all(y)}loadResourcePackageItem(C,y){var f=(0,p.AU)(C,y);return f?f.content?this.promiseFactory.resolve(f.content):this.loadBlob(C.id,C.name,f):(d.Cn.warning("loadResourcePackageItem: item not found in package"),this.promiseFactory.resolve(null))}loadSharedResource(C,y){return y===c.gH.Image?this.sharedResourceItemProxy.getBlob(null,(0,p.G3)(i.X.SharedResources),C,{retries:1}):this.sharedResourceItemProxy.get(null,(0,p.G3)(i.X.SharedResources),C,{retries:1})}loadVisualPlugin(C){o.Y.assertValue(C,"resourcePackage");var y=this.promiseFactory.defer();return C&&C.items&&C.items.length>0?this.loadResourcePackage(C).then(()=>{var f=t.q[C.name];f?(f.iconUrl=this.getIconUrl(C),y.resolve(f)):y.reject("Unable to load visual plugin from resource package")}).catch(()=>{y.reject("failed to resolve all promises")}):y.resolve(null),y.promise}destroy(){}loadVisualPlugins(C){o.Y.assertValue(C,"resourcePackages");var y=[];if(C)for(var f of C)y.push(this.loadVisualPlugin(f));return this.promiseFactory.all(y)}getIconUrl(C){var f=$("#css-"+C.name)[0],S=_.find(document.styleSheets,M=>M.ownerNode===f);if(!S)return"";for(var b=0;b<S.cssRules.length;b++){var V=S.cssRules[b];if(V.selectorText&&V.selectorText===".visual-icon."+C.name)return V.style.backgroundImage}return""}loadCustomVisualResourcePackageItem(C,y){switch(C.type){case c.gH.CustomVisualJavascript:return this.loadCustomVisualJS(y.id,y.name,C);case c.gH.CustomVisualsCss:return this.loadCustomVisualCss(y.id,y.name,C);case c.gH.CustomVisualMetadata:return this.loadCustomVisualMetadata(y.id,y.name,C)}}loadCustomVisualJS(C,y,f){var S=this.promiseFactory.defer();return f.content?((0,u.Sh)(y,f.content),S.resolve(f.content)):(o.Y.assertValue(this.provider,"resourceItemProxy is undefined"),this.provider.get(C,y,f.path,{retries:1}).then(b=>{(0,u.Sh)(y,b),f.content=b,this.transformPlugin(y).then(()=>S.resolve(b),V=>S.reject(V))}).catch(b=>{S.reject(b)})),S.promise}transformPlugin(C){var y=t.q[C];return y?((0,l.s)(y),this.promiseFactory.resolve()):this.promiseFactory.reject("Unable to load visual plugin from resource package: "+C)}loadCustomVisualCss(C,y,f){var S=this.promiseFactory.defer();return f.content?((0,u.iz)(y,f.content),S.resolve(f.content)):(o.Y.assertValue(this.provider,"resourceItemProxy is undefined"),this.provider.get(C,y,f.path,{retries:1}).then(b=>{(0,u.iz)(y,b),f.content=b,S.resolve(b)}).catch(b=>{S.reject(b)})),S.promise}loadCustomVisualMetadata(C,y,f){var S=this.promiseFactory.defer();try{f.content?S.resolve(this.createPlugin(y,f.content)):this.provider.get(C,y,f.path,{retries:1}).then(b=>{f.content=b,S.resolve(this.createPlugin(y,b))}).catch(b=>{S.reject(b)})}catch(b){S.reject(b)}return S.promise}createPlugin(C,y){o.Y.assertAnyValue(y,"pbivizJsonString");var f=y;"object"!=typeof y&&(f=JSON.parse(y));var S=(0,v.u)(f,this.locale,n.m.File);(0,l.s)(S);var b=t.q[S.name];return b&&!b.custom&&(S.custom=!1),b&&(S.favoriteId=b.favoriteId,S.isOutOfBox=b.isOutOfBox),t.q[S.name]=S,S}loadBlob(C,y,f){var S=this.promiseFactory.defer(this.telemetryV2Enabled);return f.contentBlob?S.resolve(f.contentBlob):f.promise?f.promise.then(b=>S.resolve(b)):(f.promise=this.provider.getBlob(C,y,f.path,{retries:1}),f.promise.then(b=>{f.contentBlob=b,S.resolve(b)}).catch(b=>{S.reject(b)}).finally(()=>{delete f.promise})),S.promise}}return(0,a.__decorate)([(0,r.Xr)(s.Qo),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,String]),(0,a.__metadata)("design:returntype",Object)],D.prototype,"loadResourcePackageItem",null),D})()},556686:function(ve,z,e){function a(d,n){var c=d.capabilities,s=i(d,n)||i(d,"en-US");return c&&s&&r(c,s),d}function i(d,n){var c=o(n);return d&&d.stringResources?d.stringResources[c]:null}function r(d,n){for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&("object"==typeof d[c]?r(d[c],n):"displayNameKey"===c&&d.displayName?d.displayName=t(n,d.displayNameKey)||d.displayName:"descriptionKey"===c&&d.description?d.description=t(n,d.descriptionKey)||d.description:"placeHolderTextKey"===c&&d.placeHolderText&&(d.placeHolderText=t(n,d.placeHolderTextKey)||d.placeHolderText))}function t(d,n){return d[n]}function o(d){return{ar:"ar-SA",bg:"bg-BG",ca:"ca-ES",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR","en-US":"en-US",es:"es-ES",et:"et-EE",eu:"eu-ES",fi:"fi-FI",fr:"fr-FR",gl:"gl-ES",he:"he-IL",hi:"hi-IN",hr:"hr-HR",hu:"hu-HU",id:"id-ID",it:"it-IT",ja:"ja-JP",kk:"kk-KZ",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ms:"ms-MY",no:"nb-NO",nl:"nl-NL",pl:"pl-PL",br:"pt-BR",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI","sr-Cyrl":"sr-Cyrl-RS","sr-Latn":"sr-Latn-RS",sv:"sv-SE",th:"th-TH",tr:"tr-TR",uk:"uk-UA",vi:"vi-VN","zh-Hans":"zh-CN","zh-Hant":"zh-TW"}[d]||d||navigator.language}e.d(z,{DD:function(){return i},JK:function(){return o},QW:function(){return a}})},675518:function(ve,z,e){e.d(z,{s:function(){return d}});var a=e(18122),i=e(209971),r=n=>{};class t{constructor(c,s,p,l,u){this.promiseFactory=c,this._queue=[],this._allowSameWindow=!1,this._incomingConnectMessages=[],this.handlers={message:[],error:[]},this.isFlushing=!1,this.windowMessageHandler=r,this.isDestroyed=!1,this._peerWindow=s,this._peerOrigin=p,this._handshakeNonce=u,this.deferredCache={},l?(this._channel=new MessageChannel,this._channel.port1.onmessage=v=>this.onMessageReceived(v),this.connectWithPeer(u)):(this.windowMessageHandler=v=>this.connectListener(v),window.addEventListener("message",this.windowMessageHandler))}get allowSameWindow(){return this._allowSameWindow}set allowSameWindow(c){this._allowSameWindow=c}get contentWindow(){return this._peerWindow}set contentWindow(c){for(var s of(a.Y.assertValue(c,"value"),this._peerWindow=c,this._incomingConnectMessages))if(this.processConnectMessage(s))break;this._incomingConnectMessages=[]}get queue(){return jQuery.extend([],this._queue)}connectWithPeer(c){this._peerWindow.postMessage({type:"connect",nonce:c},this._peerOrigin??"*",[this._channel.port2])}connectListener(c){this._peerWindow?this.processConnectMessage(c):this._incomingConnectMessages.push(c)}processConnectMessage(c){return!(c.source!==this._peerWindow||this._peerOrigin&&c.origin!==this._peerOrigin||"connect"!==c.data.type||c.data.nonce!==this._handshakeNonce||(this._peerPort=c.ports?.[0],this._peerPort.onmessage=s=>this.onMessageReceived(s),window.removeEventListener("message",this.windowMessageHandler),this._peerPort.postMessage({type:"connect_ack"}),this.flushQueue(),0))}postMessage(c){this._peerPort?this.sendMessage(c):this.queueMessage(c)}postMessageAsync(c){if(this.isDestroyed)return Promise.reject(new Error("New request after MessageChannelProxy destroyed"));var s=this.promiseFactory.defer(),p=this.createRandomString();return this.deferredCache[p]=s,c.id=p,this.postMessage(c),s.promise.finally(()=>{delete this.deferredCache[p]}),s.promise}queueMessage(c){this._queue.push(c)}on(c,s){a.Y.assertValue(c,"type"),a.Y.assertValue(s,"handler"),this.handlers[c]&&(this.handlers[c].indexOf(s)>-1||this.handlers[c].push(s))}off(c,s){if(a.Y.assertValue(c,"type"),this.handlers[c]){if(!s)return void(this.handlers[c].length=0);var p=this.handlers[c].indexOf(s);p>-1&&this.handlers[c].splice(p,1)}}flushQueue(){if(!this.isFlushing&&this.contentWindow&&this._peerPort){for(var c of(this.isFlushing=!0,this._queue))this.sendMessage(c);this._queue=[],this.isFlushing=!1}}sendMessage(c){var s=this.prepareMessage(c);this.contentWindow?this._peerPort&&this._peerPort.postMessage(s):a.Y.assertFail("contentWindow not set")}prepareMessage(c){var s;try{s=JSON.stringify(c)}catch(p){throw p}return s}onMessageReceived(c){if(this.allowSameWindow||c.source!==window){var s;try{s="string"==typeof c.data?JSON.parse(c.data):c.data}catch(m){s=null}if(s){if("connect_ack"===s.type)return this._peerPort=this._channel.port1,void this.flushQueue();var p=jQuery.isArray(s)?s:[s];for(var l of p){var u=void 0,v=0;try{"string"==typeof l?(u=JSON.parse(l),v=l.length):(u=l,v=c.data.length)}catch(m){u=null}if(!u)return;this.dispatchMessage(c,u,v)}}}}dispatchMessage(c,s,p){var l={message:s,source:c.source,origin:c.origin,packedSize:p};if(s.id&&(s.eventName===i.mG||s.result||s.error)){var u=this.deferredCache[s.id];return u?s.error?u.reject(s.error):u.resolve(s.result):void 0}var v=s.error?this.handlers.error:this.handlers.message;for(var m of v)this.invokeHandler(m,l)}invokeHandler(c,s){var p,l;s.message.id&&(l={id:s.message.id,eventName:i.mG,arguments:[]});try{p=c.call(null,s),l&&this.promiseFactory.when(p).then(u=>{l.result=u,this.postMessage(l)}).catch(u=>{l.error=u,this.postMessage(l)})}catch(u){l&&(l.error={message:u.message},this.postMessage(l))}}createRandomString(){return(Math.random()+1).toString(36).substring(7)}destroy(){this.isDestroyed=!0,Object.values(this.deferredCache).forEach(c=>{c.reject(new Error("MessageChannelProxy destroyed with in-flight requests"))}),this.deferredCache={},this.handlers.message.length=0,this.handlers.error.length=0,this.windowMessageHandler!==r&&(window.removeEventListener("message",this.windowMessageHandler),this.windowMessageHandler=r)}}var o=e(464472);function d(n,c,s,p,l,u){return n?new t(c,s,p,l,u):(0,o.Ev)(c,s)}},209971:function(ve,z,e){e.d(z,{R:function(){return a},aD:function(){return r},mG:function(){return t},wA:function(){return i}});var a="message",i="error",r="message",t="onMessageProxyAsyncComplete"},551617:function(ve,z,e){e.d(z,{X:function(){return t}});var a=e(18122),i=e(332603),r=e(981333);function t(d,n,c,s,p,l,u,v){return new o(d,n,s,p,l,u,c,v)}class o extends r.Nt{constructor(n,c,s,p,l,u,v,m){super(n,c,s,p,l,u),this.resourcePackagesService=v,this.resourcePackageResolver=m,this.resourcePackagesService.getAllPackages()}loadResourcePackage(n){var c=this;if(a.Y.assertValue(n,"resourcePackage"),n)return this.resourcePackageResolver(n).then(s=>{var p=[];if(s&&s.items&&!s.disabled){var l=function(v){var m=(0,i.Pu)(s,v.name,c,c.promiseFactory).then(g=>{v.content=g});p.push(m)};for(var u of s.items)l(u)}else if(!s||s.disabled)return this.resourcePackagesService.delete(n.name),null;return this.promiseFactory.all(p).then(()=>super.loadResourcePackage(s,!0))}).catch(()=>(this.resourcePackagesService.delete(n.name),null))}}},590801:function(ve,z,e){e.d(z,{Sh:function(){return i},iz:function(){return r},z8:function(){return d}});var a=e(44303);function i(s,p,l=!1,u=null){var v={major:1,minor:8,patch:0},m=document.createElement("script");m.innerHTML=l?u&&(0,a.gt)(u,v)||(0,a.eq)(u,v)?function(s){return`\n                (function(powerbi) {\n                    var window = this;\n\n                    //These 2 lines are needed to trick lodash into using this as global scope\n                    var self = this;\n                    self.Object = Object;\n\n                    //de-reference powerbi loaded modules\n                    var $, jQuery, _;\n                    window.jQuery = window.$ = undefined;\n                    window._ = undefined;\n\n                    ${s};\n\n                    //overwrite global variables with window values for PowerBI libraries\n                    $ = jQuery = window.$;\n                    _ = window._\n                }).call(\n                    //generate isolated clone of window object\n                    (function(w) {\n                        var wKeys = Object.getOwnPropertyNames(w);\n                        var nextW = w;\n                        while ((nextW = Object.getPrototypeOf(nextW))) {\n                            wKeys = wKeys.concat(Object.getOwnPropertyNames(nextW));\n                        }\n                        var newWindow = Object.create(w);\n                        //rebuild some of the window properties so they work correctly\n                        for (var i = 0; i < wKeys.length; i++) {\n                            try {\n                                var key = wKeys[i];\n                                var item = w[key];\n                                //rebind native functions to proper window context\n                                if (typeof item === 'function') {\n                                    if ((/\\{\\s*\\[native code\\]\\s*\\}/).test('' + Function.prototype.toString.call(item))) {\n                                        newWindow[key] = item.bind(w);\n                                        //remap prototype\n                                        newWindow[key].prototype = item.prototype;\n                                        //remap own properties\n                                        var fKeys = Object.getOwnPropertyNames(item);\n                                        for (var j = 0; j < fKeys.length; j++) {\n                                            var fKey = fKeys[j];\n                                            if(fKey === 'arguments' || fKey === 'caller') continue;\n                                            try {\n                                                newWindow[key][fKey] = item[fKey];\n                                            } catch (e) { /* catch protected function properties */}\n                                        }\n                                    }\n                                //map getters to proper context (needed for firefox only)\n                                } else if (typeof item === 'object') {\n                                \t\tif (key ==="window" || key === "self"){\n                                            Object.defineProperty(newWindow, key, {\n                                                get: (function(newWindow) {\n                                                    return function() {\n                                                        return newWindow;\n                                                    }\n                                                })(newWindow),\n                                                set: function() { }\n                                        });\n                                    } else {\n                                        Object.defineProperty(newWindow, key, {\n                                            get: (function(item) {\n                                                return function() {\n                                                    return item;\n                                                }\n                                            })(item),\n                                            set: function() { }\n                                        });\n                                    }\n                                } else if (typeof item === 'number' || typeof item === 'boolean' || typeof item === 'string') {\n                                      Object.defineProperty(newWindow, key, {\n                                          get: (function(w, keyString) {\n                                              return function() {\n                                                  return w[keyString];\n                                              }\n                                          })(w, key.toString()),\n                                          set: (function(w, keyString) {\n                                              return function(newValue) {\n                                                  w[keyString] = newValue;\n                                              }\n                                          })(w, key.toString())\n                                      });\n                                }\n                            } catch (e) { /* catch sandbox security exceptions */ }\n                        }\n                        return newWindow;\n                    })(window),\n                    powerbi || (powerbi = {})\n                );\n            `}(p):function(s){return`\n                (function(powerbi) {\n                    var window = this;\n\n                    //These 2 lines are needed to trick lodash into using this as global scope\n                    var self = this;\n                    self.Object = Object;\n\n                    //de-reference powerbi loaded modules\n                    var $, jQuery, _;\n                    window.jQuery = window.$ = undefined;\n                    window._ = undefined;\n\n                    ${s};\n\n                    //overwrite global variables with window values for PowerBI libraries\n                    $ = jQuery = window.$;\n                    _ = window._\n                }).call(\n                    //generate isolated clone of window object\n                    (function(w) {\n                        var wKeys = Object.getOwnPropertyNames(w);\n                        var nextW = w;\n                        while ((nextW = Object.getPrototypeOf(nextW))) {\n                            wKeys = wKeys.concat(Object.getOwnPropertyNames(nextW));\n                        }\n                        var newWindow = Object.create(w);\n                        //rebuild some of the window properties so they work correctly\n                        for (var i = 0; i < wKeys.length; i++) {\n                            try {\n                                var key = wKeys[i];\n                                var item = w[key];\n                                //rebind native functions to proper window context\n                                if (typeof item === 'function') {\n                                    if ((/\\{\\s*\\[native code\\]\\s*\\}/).test('' + Function.prototype.toString.call(item))) {\n                                        newWindow[key] = item.bind(w);\n                                        //remap prototype\n                                        newWindow[key].prototype = item.prototype;\n                                        //remap own properties\n                                        var fKeys = Object.getOwnPropertyNames(item);\n                                        for (var j = 0; j < fKeys.length; j++) {\n                                            var fKey = fKeys[j];\n                                            if(fKey === 'arguments' || fKey === 'caller') continue;\n                                            try {\n                                                newWindow[key][fKey] = item[fKey];\n                                            } catch (e) { /* catch protected function properties */}\n                                        }\n                                    }\n                                //map getters to proper context (needed for firefox only)\n                                } else if (typeof item === 'object') {\n                                    Object.defineProperty(newWindow, key, {\n                                        get: (function(item) {\n                                            return function() {\n                                                return item;\n                                            }\n                                        })(item),\n                                        set: function() { }\n                                    });\n                                }\n                            } catch (e) { /* catch sandbox security exceptions */ }\n                        }\n                        return newWindow;\n                    })(window),\n                    powerbi || (powerbi = {})\n                );\n            `}(p):p,m.id="js-"+s,m.setAttribute("name",s),document.body.appendChild(m)}function r(s,p){var l=$("<style></style>",{html:p,id:"css-"+s});l.attr("name",s),$("head").append(l)}function d(s){var l=$("#css-"+s)[0],u=_.find(document.styleSheets,g=>g.ownerNode===l);if(u&&u.cssRules)for(var v=0;v<u.cssRules.length;v++){var m=u.cssRules[v];if(m.selectorText&&_.includes(m.selectorText,s))return m.style.backgroundImage}return""}},839826:function(ve,z,e){e.d(z,{a6:function(){return t},bj:function(){return a},jM:function(){return r},t8:function(){return i}});var a=3e4,i="dev",r="prod",t="app-store"},932256:function(ve,z,e){e.d(z,{V:function(){return o}});var a=e(709190),i=e(18122),r=e(96673),t=e(554109);function o(){return new d}class d{constructor(){this.resourcePackageNameIdLookupTable={},this.packages=[{id:void 0,name:r.zp,type:a.X.SharedResources,items:[]}]}getAllPackages(){return this.packages}registerPackages(c){if(i.Y.assertValue(c,"packages"),c)for(var s of c)if(s.items&&0!==s.items.length&&(s.type!==a.X.OrganizationalStoreCustomVisual||!s.disabled)){this.resourcePackageNameIdLookupTable[s.id]=s.name;var p=(0,t.uN)(this.packages,s.type,s.name);if(p)(0,t.xD)(s)?(0,t.mU)(p,s):_.merge(p,s);else{var l=_.clone(s);l.items=_.clone(s.items),this.packages.push(l)}}}getPackage(c){return i.Y.assertValue(c,"name"),_.find(this.packages,s=>s.name===c)}delete(c){i.Y.assertValue(c,"name"),_.remove(this.packages,s=>s.name===c)}getPackageById(c){var s=this.resourcePackageNameIdLookupTable[c];return s&&this.getPackage(s)}clear(){this.packages=[],this.resourcePackageNameIdLookupTable={}}}},981333:function(ve,z,e){e.d(z,{Nt:function(){return b},fA:function(){return g}});var a=e(482458),i=e(788714),r=e(694398),t=e(44303),o=e(30918),d=e(18122),n=e(960418),c=e(96673),s=e(92644),p=e(332603),l=e(554109),u=e(708599),v=e(913729),m=e(170737);function g(V,M,P,T,N,w,I){return new b(V,M,P,T,N,w,I)}class b extends v.d7{constructor(M,P,T,N,w,I,O){super(M,N,null),d.Y.assertValue(M.promiseFactory,"promiseFactory"),d.Y.assertValue(P,"messageProxy"),d.Y.assertValue(T,"sandboxLoaderUri"),this.approvedResourceService=O,this.featureSwitchService=w,this.locale=M&&M.locale,this.promiseFactory=M.promiseFactory,this.frontEndUrl=I??"'self'",this.messageProxy=P,this.sandboxLoaderUri=T,this.provider=N,this.featureSwitchService.featureSwitches.cvDisableResourceLoaderIframe||this.initIFrame()}loadResourcePackage(M,P){return d.Y.assertValue((0,l.Ov)(M),"resourcePackage is for a custom visual"),this.loadVisualPlugin(M,P)}loadResourcePackages(M){d.Y.assertValue(M,"resourcePackages");var P=[];for(var T of M)P.push(this.loadResourcePackage(T));return this.promiseFactory.all(P)}loadTrustedResourcePackages(M){return d.Y.assertFail("Not supported"),this.promiseFactory.reject()}loadSharedResource(M){return d.Y.assertFail("Not supported"),this.promiseFactory.reject()}loadVisualPlugin(M,P){d.Y.assertValue(M,"resourcePackage");var T=this.promiseFactory.defer();return this.loadResourcesContent(M).then(N=>{if(N&&!_.isEmpty(N)){var w=_.keyBy(N,"type"),I=w[s.gH.CustomVisualMetadata];if(I)try{var j=(0,r.p)(I.content),U=(0,m.u)(j,this.locale,P?n.m.OrgStore:n.m.File);(0,u.s)(U);var F=o.q[U.name];F&&(U.favoriteId=F.favoriteId,U.isOutOfBox=F.isOutOfBox),U.developerModeVisual=M.developerModeVisual,U.apiVersion&&(0,t.lt)(U.apiVersion,c.li)&&(U.isDeprecated=!0),o.q[U.name]=U,T.resolve(U)}catch(R){T.reject(R)}else{if(!this.iframe)return d.Y.assertFail("Legacy visuals are not supported"),this.promiseFactory.reject();this.messageProxy.postMessageAsync({eventName:"loadVisualPluginWithContent",arguments:[{pluginName:M.name,mappedPluginContent:w}]}).then(R=>{var B=R,A=o.q[B.name];A&&!A.custom||(B.custom=!0,B.capabilities.objects=(0,a.iu)(B.capabilities.objects),(0,u.s)(B),this.approvedResourceService&&this.approvedResourceService.isApprovedVisualsDefined()&&(B.isDeprecated=!0),o.q[B.name]=B,T.resolve(B))}).catch(R=>{T.reject(R)})}}else T.resolve(null)}).catch(N=>{T.reject(N)}),T.promise}loadVisualPlugins(M){d.Y.assertValue(M,"resourcePackages");var P=[];if(M)for(var T of M)P.push(this.loadVisualPlugin(T));return this.promiseFactory.all(P)}destroy(){this.iframe&&(this.iframe.remove(),this.iframe=null,this.messageProxy.destroy(),this.messageProxy=null,this.contentWindow=null)}initIFrame(){var M=this.sandboxLoaderUri,P={};i.Y.getQueryStringValue("unmin")&&(P.unmin="1"),this.featureSwitchService.featureSwitches.cvEnableResourceLoaderCSP&&(P.csp=btoa(`default-src ${this.frontEndUrl} 'unsafe-inline'`)),M+=i.Y.rebuildQueryString(P),this.iframe=$('<iframe role="presentation" class="sandbox-resource-loader ng-hide" sandbox="allow-scripts"></iframe>').attr("src",M).one("load",()=>this.onIFrameLoad()).appendTo(document.body)}onIFrameLoad(){this.contentWindow=this.iframe[0].contentWindow,this.messageProxy.contentWindow=this.contentWindow,this.messageProxy.flushQueue()}loadResourcesContent(M){var P=[],T=M.id,N=M.name;for(var w of M.items)w.type!==s.gH.CustomVisualIcon&&P.push(this.loadResourceContent(T,N,w,M));return this.promiseFactory.all(P)}loadResourceContent(M,P,T,N){var w=this.promiseFactory.defer();return T.content?w.resolve(this.getItemContent(T.content,T)):this.provider.get(M,P,T.path).then(I=>{I?w.resolve(this.getItemContent(I,T)):M<0?w.reject("no blob content for client generated rps"):(0,p.Pu)(N,T.name,this,this.promiseFactory).then(O=>{w.resolve(this.getItemContent(O,T))})}).catch(I=>{w.reject(I)}),w.promise}getItemContent(M,P){var T=_.isString(M)?M:JSON.stringify(M);return P.content=P.type===s.gH.CustomVisualMetadata?T:void 0,{type:P.type,content:T}}}},275095:function(ve,z,e){e.d(z,{EX:function(){return s},RU:function(){return c},iu:function(){return n},lK:function(){return d}});var a=e(698244),i=e(690332),r=e(18122),t=e(266092),o=e(258480);function d(E){return r.Y.assertValue(E,"instances"),0===E.length?[]:_.map(E,p)}function n(E){return r.Y.assertValue(E,"instances"),0===E.length?[]:_.map(E,l)}function c(E,D){return r.Y.assertValue(E,"containers"),_.map(E,h=>({displayName:(0,t.M)(h.displayName,D)}))}function s(E){return r.Y.assertValue(E,"containers"),_.map(E,D=>({displayName:D.displayName}))}function p(E){return{objectName:E.objectName,displayName:E.displayName,properties:u(E.properties),selector:(0,a.Gq)(E.selector),altConstantValueSelector:(0,a.Gq)(E.altConstantValueSelector),validValues:E.validValues,containerIdx:E.containerIdx,propertyInstanceKind:E.propertyInstanceKind}}function l(E){return{objectName:E.objectName,displayName:E.displayName,properties:v(E.properties),selector:(0,a.BE)(E.selector),altConstantValueSelector:(0,a.BE)(E.altConstantValueSelector),validValues:E.validValues,containerIdx:E.containerIdx,propertyInstanceKind:E.propertyInstanceKind}}function u(E){var D={};for(var h in E)D[h]=m(E[h]);return D}function v(E){var D={};for(var h in E)D[h]=g(E[h]);return D}function m(E){return E instanceof o.b0?i.F3.serializeFilter(E):void 0===E?null:E}function g(E){return E&&E.From&&E.Where?i.F3.deserializeFilter(E):E}},591287:function(ve,z,e){e.d(z,{iu:function(){return t},lK:function(){return r}});var a=e(698244),i=e(18122);function r(n){return i.Y.assertValue(n,"repetitions"),_.isEmpty(n)?[]:_.map(n,o)}function t(n){return i.Y.assertValue(n,"repetitions"),_.isEmpty(n)?[]:_.map(n,d)}function o(n){var c={selector:(0,a.Gq)(n.selector),altStaticSelector:(0,a.Gq)(n.altStaticSelector),objects:n.objects};return void 0!==n.allowOverrideSubtotalMatching&&(c.allowOverrideSubtotalMatching=n.allowOverrideSubtotalMatching),c}function d(n){var c={selector:(0,a.BE)(n.selector),altStaticSelector:(0,a.BE)(n.altStaticSelector),objects:n.objects};return void 0!==n.allowOverrideSubtotalMatching&&(c.allowOverrideSubtotalMatching=n.allowOverrideSubtotalMatching),c}},427870:function(ve,z,e){e.d(z,{Ot:function(){return i},QW:function(){return o},bJ:function(){return r},bK:function(){return t}});var a=e(361298);function i(c){return{colorPalette:t(c.colorPalette),isHighContrast:c.isHighContrast,icons:c.icons}}function r(c){return{colorPalette:o(c.colorPalette),isHighContrast:c.isHighContrast,icons:c.icons}}function t(c){return{dataColors:d(c.dataColors),foreground:c.foreground,foregroundLight:c.foregroundLight,foregroundDark:c.foregroundDark,foregroundNeutralLight:c.foregroundNeutralLight,foregroundNeutralDark:c.foregroundNeutralDark,foregroundNeutralSecondary:c.foregroundNeutralSecondary,foregroundNeutralSecondaryAlt:c.foregroundNeutralSecondaryAlt,foregroundNeutralSecondaryAlt2:c.foregroundNeutralSecondaryAlt2,foregroundNeutralTertiary:c.foregroundNeutralTertiary,foregroundNeutralTertiaryAlt:c.foregroundNeutralTertiaryAlt,foregroundSelected:c.foregroundSelected,foregroundButton:c.foregroundButton,background:c.background,backgroundLight:c.backgroundLight,backgroundNeutral:c.backgroundNeutral,backgroundDark:c.backgroundDark,hyperlink:c.hyperlink,tableAccent:c.tableAccent,visitedHyperlink:c.visitedHyperlink,mapPushpin:c.mapPushpin,shapeStroke:c.shapeStroke,disabledText:c.disabledText,selection:c.selection,separator:c.separator}}function o(c){return{dataColors:n(c.dataColors),foreground:c.foreground,foregroundLight:c.foregroundLight,foregroundDark:c.foregroundDark,foregroundNeutralLight:c.foregroundNeutralLight,foregroundNeutralDark:c.foregroundNeutralDark,foregroundNeutralSecondary:c.foregroundNeutralSecondary,foregroundNeutralSecondaryAlt:c.foregroundNeutralSecondaryAlt,foregroundNeutralSecondaryAlt2:c.foregroundNeutralSecondaryAlt2,foregroundNeutralTertiary:c.foregroundNeutralTertiary,foregroundNeutralTertiaryAlt:c.foregroundNeutralTertiaryAlt,foregroundSelected:c.foregroundSelected,foregroundButton:c.foregroundButton,background:c.background,backgroundLight:c.backgroundLight,backgroundNeutral:c.backgroundNeutral,backgroundDark:c.backgroundDark,hyperlink:c.hyperlink,visitedHyperlink:c.visitedHyperlink,mapPushpin:c.mapPushpin,shapeStroke:c.shapeStroke,disabledText:c.disabledText,tableAccent:c.tableAccent,selection:c.selection,separator:c.separator}}function d(c){return{colors:c.getAllColors(),sentimentColors:c.getSentimentColors(),gradientColors:c.getGradientColors()}}function n(c){return new a.ZB(c.colors,c.sentimentColors,c.gradientColors)}},439793:function(ve,z,e){e.d(z,{f:function(){return l},s:function(){return u}});var a=e(709190),i=e(38361),r=e(30918),t=e(18122),o=e(960418),d=e(96673),n=e(92644),c=e(77379),s=e(708599),p=e(170737);function l(m,g,E,D,h,C,y){return new v(m,g,E,D,h,C,y)}var u=".pbiviz.json";class v{constructor(g,E,D,h,C,y,f){this.approvedResourceService=E,this.resourcePackagesService=D,this.featureSwitchService=h,this.telemetryService=C,this.onlyApprovedForServerRenderResources=y,this.resourceLoaderInitOptions=f,this.locale=g&&g.locale,this.promiseFactory=g.promiseFactory}loadTrustedResourcePackages(g){var E=[];if(g&&g.length>0){var D=9999;for(var h of g)if(r.q[h])E.push(this.promiseFactory.resolve([r.q[h]]));else{var C={id:D++,name:h,type:a.X.CustomVisual,items:[{name:h,type:n.gH.CustomVisualMetadata,path:h+u}]};this.resourcePackagesService.registerPackages([C]),E.push(this.loadResourcePackage(C))}}return this.promiseFactory.all(E)}loadResourcePackages(g){t.Y.assertValue(g,"resourcePackages");var E=[];for(var D of g)E.push(this.loadResourcePackage(D));return this.promiseFactory.all(E)}loadResourcePackage(g){return t.Y.assertValue(g,"resourcePackage"),this.resourceLoaderInitOptions&&!this.resourceLoaderInitOptions.getApprovedResourcesEnabled()?this.promiseFactory.all([]):this.approvedResourceService.loadApprovedResourcesMetadata(this.promiseFactory,this.onlyApprovedForServerRenderResources).catch(D=>this.promiseFactory.reject(D)).then(()=>{var D=[];if(this.onlyApprovedForServerRenderResources&&!this.approvedResourceService.isApprovedResource(g.name))return this.promiseFactory.reject("Visual is not an approved visual");if(!this.approvedResourceService.hasApi(g.name))return this.promiseFactory.reject("The trusted visual does not have a supported API version for this client");var h=this.loadCustomVisualJson(g.name,g.isPublic);return h.catch(C=>this.promiseFactory.reject(C)),D.push(h),this.promiseFactory.all(D)})}loadResourcePackageItem(g,E){return t.Y.assertFail("Not supported"),this.promiseFactory.reject()}loadSharedResource(g){return t.Y.assertFail("Not supported"),this.promiseFactory.reject()}loadVisualPlugins(g){return t.Y.assertFail("Not supported"),this.promiseFactory.reject()}loadVisualPlugin(g){return t.Y.assertFail("Not supported"),this.promiseFactory.reject()}destroy(){}loadCustomVisualJson(g,E){var D=this.promiseFactory.defer(),h=(new Date).toISOString(),C=this.featureSwitchService?!!this.featureSwitchService.featureSwitches.consumePublicCvsWithoutRps:void 0;return this.approvedResourceService.getCustomVisualPbivizJson(g).then(y=>{var f=(new Date).toISOString();this.telemetryService.logEvent(c.Q7,{visualType:g,fileName:this.approvedResourceService.customVisualJsonUrlBuilder(g),isClientGenerated:!!E,consumePublicCvsWithoutRps:C,start:h,end:f,parentId:this.telemetryService.root.id,isError:!1,errorSource:i.gf.PowerBI});var S=this.handleLoadResourceResponse(y.data);D.resolve(S)},y=>{var f=(new Date).toISOString(),S=this.handleLoadResourceError(y,g,this.approvedResourceService.customVisualJsonUrlBuilder(g),h,f,E);D.reject(S),D.reject(y.data)}),D.promise}handleLoadResourceError(g,E,D,h,C,y){var f=JSON.stringify(g);return this.telemetryService.logEvent(c.bO,{visualType:E,fileName:D,isClientGenerated:!!y,start:h,end:C,parentId:this.telemetryService.root.id,isError:!0,errorSource:i.gf.PowerBI,errorCode:f}),f}handleLoadResourceResponse(g){var E;try{E=(0,p.u)(g,this.locale,o.m.AppSource)}catch{return null}E.custom=!0,E.isDeprecated=this.approvedResourceService.isDeprecated(E.name),(E.name===d.gj||E.name===d.E2||E.name===d.T1&&this.featureSwitchService.featureSwitches.powerAutomateNativeVisual)&&(E.custom=!1);var D=r.q[E.name];return D&&(E.favoriteId=D.favoriteId,E.isOutOfBox=D.isOutOfBox),(0,s.s)(E),r.q[E.name]=E,E}}},498566:function(ve,z,e){e.d(z,{G:function(){return i}});var a=e(18122);class i{constructor(t){this.promiseFactory=t,a.Y.assertValue(t,"promiseFactory"),this.promiseFactory=t}loadResourcePackage(t){return this.promiseFactory.resolve()}loadResourcePackages(t){return this.promiseFactory.resolve()}loadTrustedResourcePackages(t){return this.promiseFactory.resolve()}loadResourcePackageItem(t,o){return this.promiseFactory.resolve()}loadSharedResource(t){return this.promiseFactory.resolve()}loadVisualPlugin(t){return this.promiseFactory.resolve(null)}loadVisualPlugins(t){return this.promiseFactory.resolve()}destroy(){}}},703976:function(ve,z,e){e.d(z,{D:function(){return n},W:function(){return d}});var a=e(141295),i=e(38361),r=e(18122),t=e(96673),o=e(77379),d=function(s){return s[s.NotRequired=0]="NotRequired",s[s.Declined=1]="Declined",s[s.Approved=2]="Approved",s}({});function n(s,p){return new c(s,p)}class c{constructor(p,l){this.promiseFactory=p,this.telemetryService=l,this.cachedConsentMap={},this.visualConsentOptionsMap={}}registerVisualConsent(p,l){r.Y.assertValue(l,"VisualConsentService: registerVisualConsent was called with missing options object"),r.Y.assert(()=>!this.visualConsentOptionsMap[p],"VisualConsentService: registerVisual was already called for visual "+p),this.visualConsentOptionsMap[p]=l,this.telemetryService.logEvent(o.YZ,{visualType:p,parentId:this.telemetryService.root.id,isError:!1,errorSource:i.gf.PowerBI}),this.loadConsentAsync(p)}hasConsent(p){return this.cachedConsentMap[p]}setConsent(p,l){if(!this.isConsentRequiringVisual(p))return this.promiseFactory.reject("Visual type does not require consent");this.cachedConsentMap[p]=l;var u=this.visualConsentOptionsMap[p]&&this.visualConsentOptionsMap[p].consentPersistencyProvider;return this.telemetryService.logEvent(o.RF,{visualType:p,userConsent:l,parentId:this.telemetryService.root.id,isError:!1,errorSource:i.gf.PowerBI}),u?u.saveConsent(l):this.promiseFactory.reject("No persistencyProvider was set for visual "+p)}getConsent(p){var l=this,u=[];p=_.uniq(p),this.telemetryService.logEvent(o.b0,{visualTypes:p.join(", "),parentId:this.telemetryService.root.id,isError:!1,errorSource:i.gf.PowerBI});var v=function(g){if(!l.isConsentRequiringVisual(g))return u.push(l.promiseFactory.resolve({visualType:g,consent:d.NotRequired})),1;u.push(l.loadConsentAsync(g).then(D=>D?l.promiseFactory.resolve({visualType:g,consent:d.Approved}):l.showConsentDialog(g)))};for(var m of p)v(m);return this.promiseFactory.allSettled(u).then(g=>_.map(_.filter(g,E=>E.type===a.f.Success),E=>E.value))}isConsentRequiringVisual(p){return!!this.visualConsentOptionsMap[p]}loadConsentAsync(p){if(r.Y.assertValue(this.visualConsentOptionsMap[p],"VisualConsentService.getConsentAsync: Visual type is not registered for consent"),void 0!==this.cachedConsentMap[p])return this.promiseFactory.resolve(this.cachedConsentMap[p]);var l=this.visualConsentOptionsMap[p]&&this.visualConsentOptionsMap[p].consentPersistencyProvider;return l?l.loadConsent().then(u=>(this.cachedConsentMap[p]=u,this.promiseFactory.resolve(u))).catch(u=>{if(u!==t.LY)return this.promiseFactory.reject(u)}):this.promiseFactory.reject("VisualConsentService.getConsentAsync: Missing consentPersistencyProvider for visual "+p)}showConsentDialog(p){if(!this.isConsentRequiringVisual(p))return this.promiseFactory.reject("VisualConsentService.showConsentDialog: Visual type does not require consent");var l=this.visualConsentOptionsMap[p]&&this.visualConsentOptionsMap[p].consentDialogProvider;return l?l.showConsentDialog().then(u=>(this.setConsent(p,u),this.promiseFactory.resolve({visualType:p,consent:u?d.Approved:d.Declined}))).catch(u=>this.promiseFactory.reject(u)):this.promiseFactory.reject("VisualConsentService.showConsentDialog: Missing consentDialogProvider for visual "+p)}}},368631:function(ve,z,e){function a(){return new i}e.d(z,{d:function(){return a}});class i{constructor(){this.listeners=[]}associate(t,o){for(var d of this.listeners)d.onInstanceAssociated(t,o)}subscribeToInstanceIdAssociation(t){_.includes(this.listeners,t)||this.listeners.push(t)}}},583953:function(ve,z,e){e.d(z,{CH:function(){return c},QV:function(){return n},Z9:function(){return d}});var a=e(30918),i=e(18122),r=e(96673),t=e(77379),o=e(219712);class d{constructor(){this.visualPlugins={},this.loadedVisualPlugins={}}getLoadedPlugins(){return _.map(this.loadedVisualPlugins,p=>p)}getLoadedPlugin(p){return this.loadedVisualPlugins[p]}hasPlugin(p){return!!this.visualPlugins[p]}loadPlugin(p,l){if(l){var u=this.visualPlugins[p];(null==u||!0===u.custom||l.developerModeVisual)&&(this.visualPlugins[p]=l)}this.loadedVisualPlugins[p]=this.visualPlugins[p]}unloadPlugin(p){delete this.loadedVisualPlugins[p]}}function n(s,p,l,u,v,m){i.Y.assertValue(p,"promiseFactory"),i.Y.assertValue(u,"resourcePackage");var g=p.defer();if(u.name===r.E2&&!u.isPublic)return g.resolve(null),g.promise;if(!v&&s.hasPlugin(u.name))s.loadPlugin(u.name),g.resolve(null);else if(!v&&a.q[u.name])s.loadPlugin(u.name,a.q[u.name]),g.resolve(null);else if(_.isEmpty(u.items))g.reject("Resource package does not contain any items");else{var E;i.Y.assertValue(l,"resourceLoader"),m&&(E=m.startEvent(t.oO,{resourcePackageName:u.name})),l.loadResourcePackage(u).catch(D=>{i.Y.assertFail("Custom visual "+u.name+" failed to load: "+D)}).finally(()=>{var D=a.q[u.name];D?(D.iconUrl||(D.iconUrl=(0,o.s)(u.name)),s.loadPlugin(D.name,D),g.resolve(null),E&&E.resolve()):(g.reject("Unable to load visual plugin from resource package"),E&&E.reject())})}return g.promise}function c(s,p){for(var l of(i.Y.assertValue(s,"storage"),i.Y.assertValue(p,"plugins"),p))s.loadPlugin(l.name,l)}},219712:function(ve,z,e){e.d(z,{Ne:function(){return T},s:function(){return w}});var a=e(816360),i=e(687655),r=e(228603),t=e(55128),o=e(638761),d=e(436151),n=e(795273),c=e(383251),s=e(64589),p=e(955111),l=e(976319),u=e(50053),v=e(807779),m=e(262422),g=e(708589),E=e(223303),D=e(354233),h=e(917334),C=e(390864),y=e(605911),f=e(538915),S=e(620455),b=e(761297),V=e(993491),M=e(371577);function T(I,O,x,j){return function(I,O,x,j){var U=(0,b.IL)(I);return U.create=O,U.createES6=x,j&&j(U),U}(I,O,j,U=>function(I,O){if(O)switch(I.name){case S.U.scatterChart:I.capabilities=(0,v.X6)(O);break;case S.U.areaChart:I.capabilities=(0,p.Hx)(!1,!0,O);break;case S.U.lineChart:I.capabilities=(0,p.Hx)(!1,!1,O);break;case S.U.stackedAreaChart:case S.U.hundredPercentStackedAreaChart:I.capabilities=(0,p.Hx)(!0,!0,O);break;case S.U.waterfallChart:I.capabilities=(0,f.B)(O);break;case S.U.lineStackedColumnComboChart:I.capabilities=(0,r.p)(!0,O);break;case S.U.lineClusteredColumnComboChart:I.capabilities=(0,r.p)(!1,O);break;case S.U.columnChart:case S.U.hundredPercentStackedColumnChart:I.capabilities=(0,i.LH)(!1,!0,!1,O);break;case S.U.barChart:case S.U.hundredPercentStackedBarChart:I.capabilities=(0,i.LH)(!0,!0,!1,O);break;case S.U.clusteredBarChart:I.capabilities=(0,i.LH)(!0,!1,!1,O);break;case S.U.clusteredColumnChart:I.capabilities=(0,i.LH)(!1,!1,!1,O);break;case S.U.ribbonChart:I.capabilities=(0,i.LH)(!1,!0,!0,O);break;case S.U.pivotTable:I.capabilities=(0,u.h)(O);break;case S.U.filledMap:I.capabilities=(0,d.Vy)(O);break;case S.U.azureMap:I.capabilities=(0,a.mD)(O);break;case S.U.map:I.capabilities=(0,l.$J)(O);break;case S.U.donutChart:case S.U.pieChart:I.capabilities=(0,o.du)(O);break;case S.U.kpi:I.capabilities=(0,s.Ve)(O);break;case S.U.funnel:I.capabilities=(0,n.$w)(O);break;case S.U.shapeMap:I.capabilities=(0,m.a)(O);break;case S.U.table:I.capabilities=(0,D.J)(O);break;case S.U.tableEx:I.capabilities=(0,h.o)(O);break;case S.U.treemap:I.capabilities=(0,y.LX)(O);break;case S.U.slicer:I.capabilities=(0,g.ts)(O);break;case S.U.keyDriversVisual:I.capabilities=(0,c.RH)();break;case S.U.decompositionTreeVisual:I.capabilities=t.oo;break;case S.U.advancedSlicerVisual:I.capabilities=(0,E.LO)(M.$F.Tile,O);break;case S.U.cardVisual:I.capabilities=(0,V.l$)(O);break;case S.U.textSlicer:I.capabilities=(0,C.qR)(O);break;case S.U.listSlicer:I.capabilities=(0,E.LO)(M.$F.List,O)}}(U,x))}function w(I){var x=$("#css-"+I)[0],j=_.find(document.styleSheets,R=>R.ownerNode===x);if(j&&j.cssRules)for(var U=0;U<j.cssRules.length;U++){var F=j.cssRules[U];if(F.selectorText&&F.selectorText===".visual-icon."+I)return F.style.backgroundImage}return""}},700751:function(ve,z,e){e.d(z,{Q:function(){return t},T:function(){return r}});var a=e(540673),i=e(30918);function r(o){return!!i.q[o]}function t(o,d,n,c,s,p,l){var u;s&&s.isRunning()&&(u=s.createChildActivity({name:a.n.VisualContainerModuleLoad}));var v=()=>{var g=d.getPlugin(o);return g&&g.module?g.createES6&&!g.module.css?(u&&u.resolve(),Promise.resolve(g)):n.require({javascript:g.createES6?void 0:g.module.javascript,css:g.module.css}).then(()=>(u&&u.resolve(),g),()=>(u&&u.reject(),null)):(u&&(g?u.resolve():u.reject()),Promise.resolve(g))};if(l){var m=l.ensureCustomVisual(o);if(m)return m.then(v)}return v()}},725919:function(ve,z,e){e.d(z,{IK:function(){return c},bL:function(){return s},g4:function(){return d},yF:function(){return n}});var a=e(798553),i=e(334734),r=e(620455),t=["play","subview","smallMultiple"],o=new a.d(()=>({[r.U.card]:!0,[r.U.gauge]:!0,[r.U.image]:!0,[r.U.kpi]:!0,[r.U.textbox]:!0}));function d(p,l){return p?!!p.custom:!_.includes(t,l)}function n(p){return p&&p.capabilities&&p.capabilities.dataViewMappings&&!!(0,i.Ol)(p.capabilities.dataViewMappings)}function c(p,l){return"pythonVisual"===p||!(!l||!l.scriptVisualEnabled)}function s(p){return!!p&&!!o.getValue()[p.name]}},170737:function(ve,z,e){e.d(z,{u:function(){return V}});var a=e(140318),i=e(702794),r=e(18122),t=e(111199),o=e(531093),d=e(693029),n=e(343872),c=15,s=3e4,p=1,l=2e3;function D(M){return!!(M&&M.propertyIdentifier&&M.propertyIdentifier.objectName&&M.propertyIdentifier.propertyName)}class f{constructor(P){this.expectedContext=P,this._items=[]}get items(){return this._items}visitRole(P,T){T===this.expectedContext&&this._items.push(...P.items||[])}static fromMatrixRows(P){if(!P.rows)return[];var T=new this(i.Oc.MatrixRowsGroup);return(0,i.ms)(P.rows,T),T.items}static fromMatrixColumns(P){if(!P.columns)return[];var T=new this(i.Oc.MatrixColumnsGroup);return(0,i._y)(P.columns,T),T.items}}function S(M,P){var T;if(P)return M&&(T=M[P.propertyIdentifier.objectName]),(0,o._)(T,P.propertyIdentifier.propertyName,P.defaultValue)}var b=e(556686);function V(M,P,T){r.Y.assertAnyValue(M,"pbivizjson"),r.Y.assertAnyValue(M.content,"content"),r.Y.assertAnyValue(M.content.iconBase64,"iconBase64"),M=P?(0,b.QW)(M,P):M;var N=P?(0,b.DD)(M,P):null,w=(0,b.DD)(M,"en-US"),O={name:M.visual.guid,apiVersion:M.apiVersion,class:M.visual.visualClassName,displayName:M.visual.displayName,capabilities:M.capabilities,custom:!0,iconUrl:'url("'+M.content.iconBase64+'")',content:M.content,version:M.visual.version,create:()=>null,customizeQuery:x=>null,localizationResources:N||w?{enUSStrings:w,localizedStrings:N}:null,supportUrl:M.visual.supportUrl,source:T,publisher:M.author?M.author.name:void 0};return M.capabilities&&(M.capabilities.subtotals||M.capabilities.dataReductionCustomization)&&(O.customizeQuery=x=>function(M,P){P&&P.subtotals&&P.subtotals.matrix&&function(M){return M&&function(M){return M&&D(M.columnSubtotals)&&D(M.columnSubtotalsPerLevel)&&D(M.levelSubtotalEnabled)&&D(M.rowSubtotals)&&D(M.rowSubtotalsPerLevel)}(M.matrix)}(P.subtotals)&&function(M,P){r.Y.assert(()=>!!M,"options not defined"),r.Y.assert(()=>!!M.dataViewMappings,"dataViewMappings not defined");var T=M.dataViewMappings[0];if(T&&T.matrix&&T.metadata){var N=T.matrix;(function(M,P,T){var N=M.metadata.objects,w=M.metadata.columns,I=f.fromMatrixRows(P),O=S(N,T.rowSubtotals),x=S(N,T.rowSubtotalsPerLevel),j=a.y.After;if(null!=T.rowSubtotalsType&&S(N,T.rowSubtotalsType)===d.Zx.Top&&(j=a.y.Before),!_.isEmpty(I)){var F=function(B){var A=_.find(w,G=>G.queryName===B.queryName);if(!A)return 1;var W=S(A.objects,T.levelSubtotalEnabled);B.subtotalType=!O||x&&!W?a.y.None:j};for(var R of I)F(R)}})(T,N,P),function(M,P,T){var N=M.metadata.objects,w=M.metadata.columns,I=f.fromMatrixColumns(P),O=S(N,T.columnSubtotals),x=S(N,T.columnSubtotalsPerLevel);if(!_.isEmpty(I)){var j=function(F){var R=_.find(w,A=>A.queryName===F.queryName);if(!R)return 1;var B=S(R.objects,T.levelSubtotalEnabled);F.subtotalType=!O||x&&!B?a.y.None:a.y.After};for(var U of I)j(U)}}(T,N,P)}}(M,P.subtotals.matrix),P&&P.dataReductionCustomization&&function(M,P){var T=M?.dataViewMappings?.[0],N=T?.metadata?.objects,w=(0,t.my)(M.dataViewMappings),I=function(M,P,T){var N=!0;if(!P||!P.dataReductionCustomization)return!1;switch(M){case n.k.Matrix:if(T.matrix){var w=S(P,T.matrix.rowCount),I=S(P,T.matrix.columnCount);void 0!==w&&(N=N&&w>=c&&w<=s),void 0!==I&&(N=N&&I>=p&&I<=l)}break;case n.k.Table:if(T.table){var O=S(P,T.table.rowCount);void 0!==O&&(N=N&&O>=c&&O<=s)}break;case n.k.Categorical:if(T.categorical){var x=S(P,T.categorical.categoryCount),j=S(P,T.categorical.groupedValuesCount);void 0!==x&&(N=N&&x>=c&&x<=s),void 0!==j&&(N=N&&j>=p&&j<=l)}}return N}(w,N,P);if(I)switch(w){case n.k.Matrix:var O=S(N,P.matrix.rowCount),x=S(N,P.matrix.columnCount),j=T.matrix?.columns?.dataReductionAlgorithm,U=T.matrix?.rows?.dataReductionAlgorithm;x&&j&&(j[(0,t.Y5)(j)].count=x),O&&U&&(U[(0,t.Y5)(U)].count=O);break;case n.k.Table:var B=S(N,P.table.rowCount),A=T?.table?.rows?.dataReductionAlgorithm;B&&A&&(A[(0,t.Y5)(A)].count=B);break;case n.k.Categorical:var G=S(N,P.categorical.categoryCount),K=S(N,P.categorical.groupedValuesCount),q=T?.categorical?.values?.group?.dataReductionAlgorithm,ne=T?.categorical?.categories?.dataReductionAlgorithm;K&&q&&(q[(0,t.Y5)(q)].count=K),G&&ne&&(ne[(0,t.Y5)(ne)].count=G)}}(M,P.dataReductionCustomization)}(x,M.capabilities)),O}},464472:function(ve,z,e){e.d(z,{Ev:function(){return t}});var a=e(18122),i=e(454840),r=e(209971);function t(d,n){return new o(d,n)}class o{constructor(n,c){this.promiseFactory=n,this._queue=[],this._allowSameWindow=!1,this.handlers={message:[],error:[]},this.isFlushing=!1,this.isDestroyed=!1,c&&(this._contentWindow=c),this.deferredCache={},this.windowMessageHandler=s=>this.onMessageReceived(s.originalEvent),$(window).on(r.aD,this.windowMessageHandler)}get allowSameWindow(){return this._allowSameWindow}set allowSameWindow(n){this._allowSameWindow=n}get contentWindow(){return this._contentWindow}set contentWindow(n){a.Y.assertValue(n,"value"),this._contentWindow=n}get queue(){return jQuery.extend([],this._queue)}postMessage(n){this.contentWindow?this.sendMessage(n):this.queueMessage(n)}postMessageAsync(n){if(this.isDestroyed)return Promise.reject(new Error("New request after WindowMessageProxy destroyed"));var c=this.promiseFactory.defer(),s=this.createRandomString();return this.deferredCache[s]=c,n.id=s,this.postMessage(n),c.promise.finally(()=>{delete this.deferredCache[s]}),c.promise}queueMessage(n,c){void 0===c&&(c=this._queue.length);var s=this.prepareMessage(n);this._queue.splice(c,0,s)}on(n,c){a.Y.assertValue(n,"type"),a.Y.assertValue(c,"handler"),this.handlers[n]&&(this.handlers[n].indexOf(c)>-1||this.handlers[n].push(c))}off(n,c){if(a.Y.assertValue(n,"type"),this.handlers[n]){if(!c)return void(this.handlers[n].length=0);var s=this.handlers[n].indexOf(c);s>-1&&this.handlers[n].splice(s,1)}}flushQueue(){this.isFlushing||!this.contentWindow||(this.isFlushing=!0,this.contentWindow.postMessage&&this.contentWindow.postMessage(this._queue,"*"),this._queue.length=0,this.isFlushing=!1)}sendMessage(n){var c=this.prepareMessage(n);this.contentWindow?this.contentWindow.postMessage&&this.contentWindow.postMessage(c,"*"):a.Y.assertFail("contentWindow not set")}prepareMessage(n){var c;try{c=JSON.stringify(n)}catch(s){throw c=null,i.n4.ensureError(s)}return c}onMessageReceived(n){if(this.allowSameWindow||n.source!==window){var c;try{c="string"==typeof n.data?JSON.parse(n.data):n.data}catch(v){c=null}if(c){var s=jQuery.isArray(c)?c:[c];for(var p of s){var l=void 0,u=void 0;try{"string"==typeof p?(l=JSON.parse(p),u=p.length):(l=p,u=n.data.length)}catch(v){l=null}if(!l)return;this.dispatchMessage(n,l,u)}}}}dispatchMessage(n,c,s){var p={message:c,source:n.source,origin:n.origin,packedSize:s};if(c.id&&(c.eventName===r.mG||c.result||c.error)){var l=this.deferredCache[c.id];return l?c.error?l.reject(c.error):l.resolve(c.result):void 0}var u=c.error?this.handlers.error:this.handlers.message;for(var v of u)this.invokeHandler(v,p)}invokeHandler(n,c){var s,p;c.message.id&&(p={id:c.message.id,eventName:r.mG,arguments:[]});try{s=n.call(null,c),p&&this.promiseFactory.when(s).then(l=>{p.result=l,this.postMessage(p)}).catch(l=>{p.error=l,this.postMessage(p)})}catch(l){p&&(p.error={message:l.message},this.postMessage(p))}}createRandomString(){return(Math.random()+1).toString(36).substring(7)}destroy(){this.isDestroyed=!0,Object.values(this.deferredCache).forEach(n=>{n.reject(new Error("WindowMessageProxy destroyed with in-flight requests"))}),this.deferredCache={},this.handlers.message.length=0,this.handlers.error.length=0,$(window).off(r.aD,this.windowMessageHandler),this.windowMessageHandler=null}}},77379:function(ve,z,e){e.d(z,{Ah:function(){return l},GU:function(){return T},J4:function(){return j},J5:function(){return n},JM:function(){return ne},Mx:function(){return k},Q7:function(){return o},Qo:function(){return I},RF:function(){return g},RY:function(){return G},Se:function(){return f},Ve:function(){return X},Vo:function(){return F},Y6:function(){return A},YZ:function(){return v},Y_:function(){return Y},b0:function(){return D},bD:function(){return w},bO:function(){return r},bm:function(){return W},iE:function(){return M},iL:function(){return K},oF:function(){return C},oO:function(){return s},q5:function(){return B},yV:function(){return b},z3:function(){return L}});var a=e(285264),i="PBI.ApprovedResource.FailLoaded",r=a.Xi[i]=(0,a.Vp)(i),t="PBI.ApprovedResource.SuccessfulLoad",o=a.Xi[t]=(0,a.Vp)(t),d="PBI.ApprovedResource.EndpointDown",n=a.Xi[d]=(0,a.Vp)(d),c="PBI.ApproveResource.LoadResourcePackage",s=a.Xi[c]=(0,a.Vp)(c),p="PBI.AppSourceResource.EndpointDown",l=a.Xi[p]=(0,a.Vp)(p),u="PBI.VisualConsent.Register",v=a.Xi[u]=(0,a.Vp)(u),m="PBI.VisualConsent.Set",g=a.Xi[m]=(0,a.Vp)(m),E="PBI.VisualConsent.Get",D=a.Xi[E]=(0,a.Vp)(E),h="PBI.VisualEvent.DownloadContentEvent",C=a.Xi[h]=(0,a.Vp)(h),y="PBI.TrustedVisual.Load",f=a.Xi[y]=(0,a.Vp)(y),S="PBI.TrustedVisual.GetConsent",b=a.Xi[S]=(0,a.Vp)(S),V="PBI.VisualAuthentication.GetResourceUrl",M=a.Xi[V]=(0,a.Vp)(V),P="PBI.VisualAuthentication.GetAADToken",T=a.Xi[P]=(0,a.Vp)(P),N="PBI.VisualAuthentication.GetWACToken",w=a.Xi[N]=(0,a.Vp)(N),I="PBI.LocalResource.LoadResourcePackageItem",x=(a.Xi[I]=(0,a.Vp)(I),"PBI.VisualAuthentication.BlockAccessToken"),j=a.Xi[x]=(0,a.Vp)(x),U="PBI.AdminControl.Initialized",F=a.Xi[U]=(0,a.Vp)(U),R="PBI.Pbiviz.UnzipFailed",B=a.Xi[R]=(0,a.Vp)(R),A="PBI.CustomVisualsLicense.LicensesLoaded",W=a.Xi[A]=(0,a.Vp)(A),G="PBI.CustomVisualsLicense.GetServicePlansCalled",K=a.Xi[G]=(0,a.Vp)(G),q="PBI.CustomVisualsLicense.PrefetchServicePlansCalled",ne=a.Xi[q]=(0,a.Vp)(q),k="PBI.VisualEvent.LocalStorageV2Event",L=a.Xi[k]=(0,a.Vp)(k),X="PBI.VisualEvent.AcquireAADToken",Y=a.Xi[X]=(0,a.Vp)(X)},667759:function(ve,z,e){function a(t,o){return r(t,o,!1)}function i(t,o){return r(t,o,!0)}function r(t,o,d){if(void 0!==t){var n=o.defer(),c=new FileReader;return c.onload=function(){n.resolve(c.result)},c.onerror=function(){n.reject(c.error)},d?c.readAsText(t):c.readAsDataURL(t),n.promise}}e.d(z,{S:function(){return i},g:function(){return a}})},534629:function(ve,z,e){e.d(z,{Ax:function(){return u},DJ:function(){return m},Dc:function(){return s},Fh:function(){return h},Ht:function(){return g},I0:function(){return V},PO:function(){return n},aL:function(){return v},bA:function(){return f},bO:function(){return E},gH:function(){return S},sX:function(){return D},wF:function(){return b},wh:function(){return y}});var l,a=e(77379),i=e(96673),r=e(827431),t=e(44303),o=e(620455),d=e(936409),n={objectName:"general",propertyName:"filter"},c=function(M){return M[M.FeatureIsDisabled=0]="FeatureIsDisabled",M[M.AllCustomVisualsAreEnabled=1]="AllCustomVisualsAreEnabled",M[M.AllCustomVisualsAreDisabled=2]="AllCustomVisualsAreDisabled",M[M.NonCertifiedCustomVisualsAreDisabled=3]="NonCertifiedCustomVisualsAreDisabled",M[M.FailedEvaluatingState=4]="FailedEvaluatingState",M}({}),s=function(M){return M[M.Unclassified=0]="Unclassified",M[M.NonCertifiedCustomVisual=1]="NonCertifiedCustomVisual",M[M.NonCdnCustomVisual=2]="NonCdnCustomVisual",M[M.CertifiedCustomVisual=3]="CertifiedCustomVisual",M[M.OrganizationalStore=4]="OrganizationalStore",M[M.Native=5]="Native",M}({}),p=[i.gj,i.E2,i.T1];function u(M,P,T){if(void 0===l)try{if(!(P&&M&&M.featureSwitches&&M.featureSwitches.customVisualsTenantSwitch))return l=c.FeatureIsDisabled;P.logChildEvent(T&&T.event,a.Vo,{AdminControlState:c[l=M.featureSwitches.customVisualsTenantEnabled?M.featureSwitches.certifiedCustomVisualsTenantEnabled?c.NonCertifiedCustomVisualsAreDisabled:c.AllCustomVisualsAreEnabled:c.AllCustomVisualsAreDisabled]})}catch{l=c.FailedEvaluatingState}return l}function v(M,P,T,N,w,I,O){return I||O?C(P,!0,I,O,T,N,w):C(P,M.featureSwitches.customVisualsTenantSwitch,!M.featureSwitches.customVisualsTenantEnabled,M.featureSwitches.certifiedCustomVisualsTenantEnabled,T,N,w)}function m(M){return!(!M||!M.capabilities)&&(M.custom?M.apiVersion&&(0,t.gt)(M.apiVersion,"3.5.0")&&M.capabilities.supportsEmptyDataView:M.capabilities.supportsEmptyDataView)}function g(M){return!(!M||!M.apiVersion)&&(0,t.ge)(M.apiVersion,"2.0.0")}function E(M,P){return P||M.featureSwitches.customVisualsTenantSwitch&&!M.featureSwitches.customVisualsTenantEnabled}function D(M){return M&&_.endsWith(M,i.ze)}function h(M){return p.includes(M)}function C(M,P,T,N,w,I,O){return!(!P||M===i.gj||h(M)||D(M)||O)&&(!!T||!(!N||w.isApprovedResourceServerRender(M))&&(!I||w.isApprovedVisualsDefined()))}function y(M,P,T){return T?D(P)?s.OrganizationalStore:M.isApprovedVisualsDefined()?M.isApprovedResourceServerRender(P)?s.CertifiedCustomVisual:M.isApprovedResource(P)?s.NonCertifiedCustomVisual:s.NonCdnCustomVisual:s.Unclassified:s.Native}function f(M){switch(M){case d.b.AllowScripts:return"allow-scripts";case d.b.AllowPopups:return"allow-popups";case d.b.AllowSameOrigin:return"allow-same-origin";case d.b.AllowForms:return"allow-forms";case d.b.AllowTopNavigationByUserActivation:return"allow-top-navigation-by-user-activation";case d.b.AllowDownloads:return"allow-downloads"}}function S(M){return M&&M===o.U.debugVisual}function b(M,P){return P?M.substring(0,M.lastIndexOf("_DEBUG")):M}function V(M){var P=(0,r.D0)(M.objects,n),T=P?.type;return!(!T||!T.filter||T.filter.selfFilter)}},332603:function(ve,z,e){e.d(z,{Ae:function(){return h},OM:function(){return b},Pu:function(){return y},Pz:function(){return S},SA:function(){return E},dQ:function(){return g},gB:function(){return m},qF:function(){return C},xq:function(){return D}});var a=e(540673),i=e(709190),r=e(698244),t=e(18122),o=e(223431),d=e(924256),n=e(999904),c=e(757406),s=e(5371),p=e(423427),l=e(92644),u=e(667759),v=e(554109);function m(P,T,N,w,I,O){if(t.Y.assertValue(I,"promiseFactory"),!P)return I.resolve(null);var x=M(P,T,O),j=[];for(var U of x){var F=U.getRefValue();j.push(D(F,N(),w,I,{itemTypeFromReference:U.itemType}))}return I.all(j).then(()=>x)}function g(P,T,N,w,I,O,x){if(t.Y.assertValue(I,"promiseFactory"),!P)return I.resolve(null);var j=(0,r.Eo)(P,T,void 0,!1),U=(0,r.EP)(j,T),F=M(U,T),R=[],B=function(G){var K=G.getRefValue(),q=null!=x&&x.isRunning()?x.createChildActivity({name:a.n.ResourcePackageItemsLoad,resourceType:K.packageType}):void 0,ne=D(K,N,w,I,{usePersistableFormat:O,itemTypeFromReference:G.itemType}).then(k=>{G.setRefValue(k),q&&q.resolve()}).catch(k=>{q&&q.reject(k)});R.push(ne)};for(var A of F)B(A);var W=I.defer();return I.all(R).then(()=>W.resolve(U)),W.promise}function E(P,T){return!!P&&M(P,T).length>0}function D(P,T,N,w,I){return C(T,{packageType:P.packageType,packageName:P.packageName,itemName:P.itemName},N,w,I).then(x=>null==x?(0,c.gN)():(0,c.Qq)(x),x=>(0,c.gN)())}function h(P){return t.Y.assertValue(P,"getLoadAndResolveErrorReason: No reason given"),P?"string"==typeof P?P:null!=P.status?P.status.toString():P.stack?P.stack.toString():P.message?P.message.toString():"Unknown reason":"No reason given"}function C(P,T,N,w,I){var O=(0,v.uN)(P,T.packageType,T.packageName);if(!O){var x;if(T.packageType===i.X.SharedResources&&I&&null!=(x=I.itemTypeFromReference)){var j=(0,v.hq)(T.itemName,x);return N.loadSharedResource(j,x).then(U=>{if(x===l.gH.Image){if(!(U instanceof Blob))throw new Error("Missed handling of non-blob shared resource image when there is no shared resource package");return U.arrayBuffer().then(F=>`data:${U.type};base64,${btoa(String.fromCharCode.apply(null,new Uint8Array(F)))}`)}return _.isString(U)||(U=JSON.stringify(U)),U}).catch(U=>{o.Cn.error(`Error loading shared resource from app ${j} ${h(U)}`,!1)})}return o.Cn.error(`Missing resource package ${T.packageType}`,!0),w.resolve()}return y(O,T.itemName,N,w,I)}function y(P,T,N,w,I){var O=I&&I.usePersistableFormat,x=I&&I.itemTypeFromReference;if(t.Y.assertValue(P,"resource package should exist"),!P)return w.reject(new Error("loadAndResolveContent: no package"));var U,j=(0,v.AU)(P,T);if(!j&&P.type===i.X.SharedResources&&x&&P&&x&&(j=(0,v.P8)(T,x),P.items.push(j)),t.Y.assertValue(j&&j.path,"resourcePackageReferenceLoader.loadAndResolveContent -\n                In order to load the content of a resource package, the resource package item should exist and have a path"),!j||null==j.path&&null==j.content&&null==j.contentBlob&&null==j.promise)return o.Cn.error(`Missing resource item or path !resourcePackageItem=${!j}, resourcePackageItem.path=${j&&j.path}`,!0),w.resolve();if(P.type===i.X.SharedResources){var F=j.content;U=F?w.resolve(F):j.promise?j.promise:j.promise=N.loadSharedResource(j.path,j.type).finally(()=>{delete j.promise}).then(B=>B instanceof Blob?j.contentBlob=B:(_.isString(B)||(B=JSON.stringify(B)),j.content=B),B=>{throw o.Cn.error(`Error loading shared resource from app ${j.path} ${h(B)}`,!1),B})}else U=N.loadResourcePackageItem(P,T);var R=w.defer();return U.then(()=>{(function(P,T,N,w,I){var O=null;if(T){var x=I??T.type,j=x===l.gH.ShapeMap,U=x===l.gH.BaseTheme||x===l.gH.CustomTheme||x===l.gH.HighContrastTheme,F=P.type===i.X.OrganizationalStoreCustomVisual||P.type===i.X.CustomVisual,R=T.content;if(R)(j||U)&&(0,d.V0)(R)&&(R=(0,d.e6)((0,d.Hr)(R))),O=R;else if(T.contentBlob){if(P.type===i.X.SharedResources&&T.type===l.gH.Image||w||j||F||U){var B=N.defer();return(j||F||U?u.S:u.g)(T.contentBlob,N).then(W=>B.resolve(W),W=>B.resolve(null)),B.promise}T.contentBlobUrl||(T.contentBlobUrl=window.URL.createObjectURL(T.contentBlob)),O=T.contentBlobUrl}}return N.resolve(O)})(P,j,w,O,x).then(B=>R.resolve(B))}).catch(B=>R.reject(B)),R.promise}function f(P,T,N,w){if(N){var I=(0,v.uN)(N,i.X.RegisteredResources);return I?T.loadResourcePackageItem(I,w):P.reject(new Error("loadRegisteredResource: no RegisteredResources package"))}return P.reject(new Error("loadRegisteredResource: no packages"))}function S(P,T,N,w){return f(P,T,N,w).then(O=>(t.Y.assert(()=>O instanceof Blob||null==O||"string"==typeof O,"resource item content expected to be Blob or string"),O instanceof Blob?(0,u.g)(O,P):("string"==typeof O&&!(0,d.V0)(O)&&(O=(0,d.Xn)(O)),O)))}function b(P,T,N,w){return f(P,T,N,w).then(O=>(t.Y.assert(()=>O instanceof Blob||null==O||"string"==typeof O,"resource item content expected to be Blob or string"),O instanceof Blob?(0,u.S)(O,P):O)).then(O=>{try{"string"==typeof O&&(0,d.V0)(O)&&(O=(0,d.e6)((0,d.Hr)(O)))}catch(x){throw o.Cn.error(`Error decoding registeredResource: ${JSON.stringify(x)}`,!!x.stack),x}return O})}function M(P,T,N){t.Y.assertValue(P,"definitions");var w=[];return(0,n.bY)({definitions:P,descriptors:T,visitor:(I,O,x,j,U)=>{var F=j&&j.geoJson&&1===U.length&&"content"===U[0];if(F){var R=O;if(R.type.kind===s.Ez.Constant&&R.name.kind===s.Ez.Constant&&R.content.kind===s.Ez.Constant&&R.type.value===p.ue){var A=R.name.value;"string"==typeof A&&null==R.content.value&&(N&&N(A,l.gH.ShapeMap),I=(0,c.SC)((0,v.G3)(i.X.SharedResources),i.X.SharedResources,A),R.content=I)}}if(I instanceof c.HM){var G={getRefValue:()=>O[x],setRefValue:K=>{O[x]=K}};F&&(G.itemType=l.gH.ShapeMap),w.push(G)}}}),w}},554109:function(ve,z,e){e.d(z,{AU:function(){return v},Fk:function(){return D},G3:function(){return m},J:function(){return p},Ov:function(){return E},P8:function(){return n},by:function(){return u},hq:function(){return d},mU:function(){return g},qT:function(){return c},uN:function(){return l},xD:function(){return s}});var a=e(709190),i=e(18122),r=e(96673),t=e(92644),o={};function d(C,y){return o[y](C)}function n(C,y,f){return{type:y,path:d(C,y),name:C,content:f}}function c(C){return _.keyBy(_.filter(C,y=>s(y)),y=>y.name)}function s(C){return i.Y.assertValue(C,"resourcePackage should exist in order to verify if it's a static resource"),i.Y.assertValue(C.type,"resourcePackageType should exist in order to verify if it's a static resource"),!!r.UZ[C.type]}function p(C,y,f){i.Y.assert(()=>_.isArray(C),"resourcePackages should be an array"),f=m(y,f);var S=l(C,y,f);return S||C.push(S={id:void 0,name:f,type:y,items:[]}),S}function l(C,y,f){return i.Y.assert(()=>null==C||_.isArray(C),"Resource packages should be: null, undefined or an array"),f=m(y,f),_.find(C,S=>S.type===y&&S.name===f)}function u(C,y,f,S){return v(l(C,y,S),f)}function v(C,y){return i.Y.assertAnyValue(C,"It's possible it doesn't exist, lodash returns undefined for us."),_.find(C&&C.items,f=>f.name===y)}function m(C,y){var f=r.zR[C]||y;return i.Y.assertValue(f,"Invalid package name for resource package"),f}function g(C,y){for(var f of(i.Y.assert(()=>s(C),"mergeStaticResourcePackages - package1 should be a static resource."),i.Y.assert(()=>s(y),"mergeStaticResourcePackages - package2 should be a static resource."),i.Y.assert(()=>C.type===y.type,"In order to merge resource packages, their types should be equal"),i.Y.assert(()=>C.name===y.name,"In order to merge resource packages, their names should be equal"),null==C.id&&null!=y.id&&(C.id=y.id),y.items)){var S=v(C,f.name);S?h(S,f):C.items.push(f)}}function E(C){return C&&(C.type===a.X.CustomVisual||C.type===a.X.OrganizationalStoreCustomVisual)}function D(C){return _.chain(C).filter(y=>E(y)).map(y=>y.name).uniq().value()}function h(C,y){i.Y.assert(()=>C.name===y.name,"In order to merge resource package items, their names should be equal"),i.Y.assertAnyValue(C.path===y.path,"Usually if the names are equal it must mean that paths are equal,\n                however, there are 2 cases where this is not true:\n                1.- The items are different and we are doing a bad merge:\n                    Ridiculously unlikely and can only happen if 2 items have the same name and same random suffix of 53 random bits, converted to base 10\n                2.- A report was imported into powerbi more than once: \n                    Every time we import we generate a unique path, which means that paths are guaranteed to be different, but names and content are the same\n                Given that is way more likely to win the lottery twice in a lifetime than #1 happening and #2 is perfectly fine we don't care if paths differ.\n            "),i.Y.assert(()=>C.type===y.type,"In order to merge resource package items, their types should be equal"),null==C.id&&null!=y.id&&(C.id=y.id),!C.content&&y.content&&(C.content=y.content),!C.contentBlob&&y.contentBlob&&(C.contentBlob=y.contentBlob),!C.contentBlobUrl&&y.contentBlobUrl&&(C.contentBlobUrl=y.contentBlobUrl),!C.content&&!C.contentBlob&&!C.promise&&y.promise&&(C.promise=y.promise),i.Y.assert(()=>!C.content||!C.contentBlob,"A resource package item can't have content and contentBlob at the same time.")}o[t.gH.BaseTheme]=C=>`BaseThemes/${C}.json`,o[t.gH.CustomTheme]=C=>`BuiltInThemes/${C}.json`,o[t.gH.HighContrastTheme]=C=>`HighContrastThemes/${C}.json`,o[t.gH.Image]=C=>`Images/${C}`,o[t.gH.ShapeMap]=C=>`Shapemaps/${C}.json`},710834:function(ve,z,e){e.d(z,{HJ:function(){return hr},UW:function(){return qr},I2:function(){return la},IL:function(){return yr},Un:function(){return Br}});var a=e(233390),i=e(345562),r=e(693029);function t(oe){var Ve=oe.type||r.YL.Data;return Ve&r.YL.Resize&&oe.resizeMode===r.OJ.Resized&&(Ve|=r.YL.ResizeEnd),Ve}var n={version:"1.0.0",overloads:(oe,Ve)=>({update:se=>{oe.update&&oe.update({viewport:se.viewport,dataViews:se.dataViews,viewMode:se.viewMode,type:t(se)})},destroy:()=>{oe.destroy&&oe.destroy()},enumerateObjectInstances:se=>oe.enumerateObjectInstances&&oe.enumerateObjectInstances(se)||[]}),hostAdapter:oe=>({})},c=e(361298),s=e(573740);function p(oe,Ve){for(var se=Ve.split("."),gt=se.shift();gt;){if(!oe||null==oe[gt])return!1;oe=oe[gt],gt=se.shift()}return!0}var l=e(934087),m={version:"1.1.0",overloads:(oe,Ve)=>({update:se=>{if(oe.update){var gt={viewport:se.viewport,dataViews:se.dataViews,viewMode:se.viewMode,type:t(se)},Bt=oe.constructor.__transform__;_.isFunction(Bt)?oe.update(gt,Bt(gt.dataViews)):oe.update(gt)}}}),hostAdapter:oe=>({createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new l.Y({hostServices:oe.host}),colors:p(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():c.SU.getDefaultColors()})},g=e(230788),h={version:"1.2.0",overloads:(oe,Ve)=>({update:se=>{if(oe.update){var gt={viewport:se.viewport,dataViews:se.dataViews,viewMode:se.viewMode,type:t(se)};Ve.colorPalette.reset();var Bt=oe.constructor.__transform__;_.isFunction(Bt)?oe.update(gt,Bt(gt.dataViews)):oe.update(gt)}}}),hostAdapter:oe=>{var Ve=p(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():c.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new l.Y({hostServices:oe.host}),colorPalette:(0,g.r)(Ve),persistProperties:se=>oe.host.persistProperties(se)}}},C=e(497760),f={version:"1.3.0",hostAdapter:oe=>{var Ve=p(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():c.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new l.Y({hostServices:oe.host}),colorPalette:(0,g.r)(Ve),persistProperties:se=>oe.host.persistProperties(se),tooltipService:(0,C.N)({hostServices:oe.host})}}},b={version:"1.4.0",hostAdapter:oe=>{var Ve=p(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():c.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new l.Y({hostServices:oe.host}),colorPalette:(0,g.r)(Ve),persistProperties:se=>oe.host.persistProperties(se),tooltipService:(0,C.N)({hostServices:oe.host}),locale:oe.host.locale()}}},M={version:"1.5.0",hostAdapter:oe=>{var Ve=p(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():c.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new l.Y({hostServices:oe.host}),colorPalette:(0,g.r)(Ve),persistProperties:se=>oe.host.persistProperties(se),tooltipService:(0,C.N)({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive}}},N={version:"1.6.0",overloads:(oe,Ve)=>({update:se=>{if(oe.update){var gt={viewport:se.viewport,dataViews:se.dataViews,viewMode:se.viewMode,editMode:se.editMode,type:t(se)};Ve.colorPalette.reset();var Bt=oe.constructor.__transform__;_.isFunction(Bt)?oe.update(gt,Bt(gt.dataViews)):oe.update(gt)}}}),hostAdapter:oe=>{var Ve=p(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():c.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new l.Y({hostServices:oe.host}),colorPalette:(0,g.r)(Ve),persistProperties:se=>oe.host.persistProperties(se),tooltipService:(0,C.N)({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive}}},w=e(705140),O={version:"1.7.0",hostAdapter:oe=>{var Ve=p(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():c.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new l.Y({hostServices:oe.host}),colorPalette:(0,g.r)(Ve),persistProperties:se=>oe.host.persistProperties(se),tooltipService:(0,C.N)({hostServices:oe.host}),telemetry:(0,w.vs)({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt)=>{if(se){var Xt=[];Xt.push(se),oe.host.applyJsonFilter(Xt,gt,Bt)}else oe.host.applyJsonFilter(null,gt,Bt)}}}},j={version:"1.8.0",hostAdapter:oe=>{var Ve=p(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():c.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new l.Y({hostServices:oe.host}),colorPalette:(0,g.r)(Ve),persistProperties:se=>oe.host.persistProperties(se),tooltipService:(0,C.N)({hostServices:oe.host}),telemetry:(0,w.vs)({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt,Xt)=>{if(se){var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData()}}};function U(oe){return new F(oe)}class F{constructor(Ve){this.hostServices=Ve.hostServices,this.authenticationService=this.hostServices&&this.hostServices.authenticationService&&this.hostServices.authenticationService(),this.promiseFactory=this.hostServices.promiseFactory()}getResourceUrl(){return this.authenticationService?this.authenticationService.getResourceUrl():this.promiseFactory.reject()}getAADAuthenticationToken(){return this.authenticationService?this.authenticationService.getAADAuthenticationToken():this.promiseFactory.reject()}getAADToken(){return this.authenticationService?this.authenticationService.getAADToken():this.promiseFactory.reject()}getWACToken(Ve,se){return this.authenticationService?this.authenticationService.getWACToken(Ve,se):this.promiseFactory.reject()}getSignedInAccessToken(){return this.promiseFactory.reject()}getClusterInfo(){return this.promiseFactory.reject()}}var B={version:"1.9.0",hostAdapter:oe=>{var Ve=p(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():c.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new l.Y({hostServices:oe.host}),colorPalette:(0,g.r)(Ve),persistProperties:se=>oe.host.persistProperties(se),tooltipService:(0,C.N)({hostServices:oe.host}),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt,Xt)=>{if(se){var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData()}}};class A{constructor(Ve){this.localizationResources=Ve}getDisplayName(Ve){var se=this.localizationResources;return se&&se.localizedStrings&&Object.prototype.hasOwnProperty.call(se.localizedStrings,Ve)?se.localizedStrings[Ve]:se&&se.enUSStrings&&Object.prototype.hasOwnProperty.call(se.enUSStrings,Ve)?se.enUSStrings[Ve]:Ve}}var G={version:"1.10.0",hostAdapter:oe=>{var Ve=p(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():c.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new l.Y({hostServices:oe.host}),colorPalette:(0,g.r)(Ve),persistProperties:se=>oe.host.persistProperties(se),tooltipService:(0,C.N)({hostServices:oe.host}),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt,Xt)=>{if(se){var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources)}}},q={version:"1.11.0",hostAdapter:oe=>{var Ve=p(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():c.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>{var se=oe.host;return se.selectionManager=new l.Y({hostServices:se}),se.selectionManager},colorPalette:(0,g.r)(Ve),persistProperties:se=>oe.host.persistProperties(se),tooltipService:(0,C.N)({hostServices:oe.host}),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt,Xt)=>{if(se){var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources)}}},L={version:"1.12.0",overloads:(oe,Ve)=>({update:se=>{if(oe.update){var gt={viewport:se.viewport,dataViews:se.dataViews,viewMode:se.viewMode,editMode:se.editMode,operationKind:se.operationKind,type:t(se)};Ve.colorPalette.reset();var Bt=oe.constructor.__transform__;_.isFunction(Bt)?oe.update(gt,Bt(gt.dataViews)):oe.update(gt)}}}),hostAdapter:oe=>{var Ve=oe.host,se=p(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():c.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>(Ve.selectionManager=new l.Y({hostServices:Ve}),Ve.selectionManager),colorPalette:(0,g.r)(se),persistProperties:gt=>oe.host.persistProperties(gt),tooltipService:(0,C.N)({hostServices:oe.host}),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(gt,Bt,Xt,tr)=>{if(gt){var Fr=[];Fr.push(gt),oe.host.applyJsonFilter(Fr,Bt,Xt,tr)}else oe.host.applyJsonFilter(null,Bt,Xt,tr)},launchUrl:gt=>oe.host.launchUrl(gt),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:()=>Ve.fetchMoreData()}}},Y={version:"1.13.0",hostAdapter:oe=>{var Ve=oe.host;return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>(Ve.selectionManager=new l.Y({hostServices:Ve}),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:(0,C.N)({hostServices:oe.host}),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt,Xt)=>{if(se){var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:()=>Ve.fetchMoreData()}}},Q=e(291010),H="2.0.0",ee={version:H,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=H,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=new l.Y({hostServices:Ve,apiVersion:H}),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:(0,C.N)({hostServices:oe.host}),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt,Xt)=>{if(se){var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:()=>Ve.fetchMoreData()}}},ue="2.1.0",We={version:ue,overloads:(oe,Ve)=>({update:se=>{if(oe.update){var gt={viewport:se.viewport,dataViews:se.dataViews,viewMode:se.viewMode,editMode:se.editMode,operationKind:se.operationKind,type:t(se),jsonFilters:se.jsonFilters};Ve.colorPalette.reset();var Bt=oe.constructor.__transform__;_.isFunction(Bt)?oe.update(gt,Bt(gt.dataViews)):oe.update(gt)}}}),hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=ue,{createSelectionIdBuilder:()=>Ve.createSelectionIdBuilder(),createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(ue),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt,Xt)=>{if(se){var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:()=>Ve.fetchMoreData()}}},ft="2.2.0",At={version:ft,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=ft,{createSelectionIdBuilder:()=>Ve.createSelectionIdBuilder(),createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(ft),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt,Xt)=>{if(se){var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:()=>Ve.fetchMoreData()}}};function Qe(oe){return new Fe(oe)}class Fe{constructor(Ve){this.eventService=Ve&&Ve.eventService&&Ve.eventService()}renderingStarted(Ve){this.eventService&&this.eventService.renderingStarted(Ve)}renderingFinished(Ve){this.eventService&&this.eventService.renderingFinished(Ve)}renderingFailed(Ve,se){this.eventService&&this.eventService.renderingFailed(Ve,se)}}var ye=e(371577);function we(oe){return new Ee(oe)}class Ee{constructor(Ve){this.storageService=Ve&&Ve.localStorageService&&Ve.localStorageService(),this.promiseFactory=Ve.promiseFactory()}status(){return null!=this.storageService?this.storageService.getStorageStatus():this.promiseFactory.resolve(ye.QC.NotSupported)}get(Ve){return null!=this.storageService&&Ve?this.storageService.getStorageData(Ve):this.promiseFactory.reject()}set(Ve,se){return null!=this.storageService&&Ve&&se?this.storageService.setStorageData(Ve,se):this.promiseFactory.reject()}remove(Ve){null!=this.storageService&&Ve&&this.storageService.removeStorageData(Ve)}}var Oe="2.3.0",Se={version:Oe,overloads:(oe,Ve)=>({update:se=>{if(oe.update){var gt={viewport:se.viewport,dataViews:se.dataViews,viewMode:se.viewMode,editMode:se.editMode,operationKind:se.operationKind,jsonFilters:se.jsonFilters,type:t(se),updateId:se.updateId};Ve.colorPalette.reset();var Bt=oe.constructor.__transform__;_.isFunction(Bt)?oe.update(gt,Bt(gt.dataViews)):oe.update(gt)}}}),hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Oe,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Oe),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:()=>Ve.fetchMoreData(),storageService:we(Ve),eventService:Qe(Ve)}}},Ae="2.4.0",Je={version:Ae,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Ae,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Ae),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:()=>Ve.fetchMoreData(),storageService:we(Ve),eventService:Qe(Ve)}}},pe="2.5.0",Me={version:pe,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=pe,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(pe),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:()=>Ve.fetchMoreData(),storageService:we(Ve),eventService:Qe(Ve)}}},Ge="2.6.0",ct={version:Ge,overloads:(oe,Ve)=>({update:se=>{if(oe.update){var gt={viewport:se.viewport,dataViews:se.dataViews,viewMode:se.viewMode,editMode:se.editMode,isInFocus:!!se.isInFocus,operationKind:se.operationKind,jsonFilters:se.jsonFilters,type:t(se),updateId:se.updateId};Ve.colorPalette.reset();var Bt=oe.constructor.__transform__;_.isFunction(Bt)?oe.update(gt,Bt(gt.dataViews)):oe.update(gt)}}}),hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Ge,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Ge),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:()=>Ve.fetchMoreData(),storageService:we(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se)}}},vt="3.2.0",It={version:vt,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=vt,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(vt),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:()=>Ve.fetchMoreData(),storageService:we(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv}}},Ot="3.3.0",Ze={version:Ot,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Ot,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Ot),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:()=>Ve.fetchMoreData(),storageService:we(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv}}},Ye="3.4.0",ut={version:Ye,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Ye,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Ye),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv}}},et="3.5.0",me={version:et,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=et,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(et),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv}}},Be="3.6.0",Xe={version:Be,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Be,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Be),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv}}},re="3.7.0",ae={version:re,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=re,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(re),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt)}}},tt="3.8.0",rt={version:tt,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=tt,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(tt),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt)}}};function Re(oe){return new J(oe)}class J{constructor(Ve){this.downloadService=Ve&&Ve.downloadService&&Ve.downloadService(),this.promiseFactory=Ve.promiseFactory()}exportStatus(){return null!=this.downloadService?this.downloadService.getExportStatus():this.promiseFactory.resolve(ye.QC.NotSupported)}exportVisualsContent(Ve,se,gt,Bt){return null!=this.downloadService?this.downloadService.exportVisualsContent(Ve,se,gt,Bt).then(Xt=>Xt.downloadCompleted):this.promiseFactory.reject()}exportVisualsContentExtended(Ve,se,gt,Bt){return null!=this.downloadService?this.downloadService.exportVisualsContent(Ve,se,gt,Bt):this.promiseFactory.reject()}}var ce="3.9.0",ze={version:ce,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=ce,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(ce),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt)}}},it="4.0.0",Nt={version:it,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=it,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(it),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt)}}},Lt="4.1.0",Yt={version:Lt,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Lt,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Lt),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt)}}},Qt="4.2.0",je={version:Qt,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Qt,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Qt),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt)}}},Tt="4.3.0",nr={version:Tt,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Tt,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Tt),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt)}}};function ar(oe){return new $e(oe)}class $e{constructor(Ve){this.licenseManagerService=Ve&&Ve.licenseManagerService&&Ve.licenseManagerService(),this.promiseFactory=Ve.promiseFactory()}getAvailableServicePlans(){return this.licenseManagerService?this.licenseManagerService.getAvailableServicePlans():this.promiseFactory.reject()}notifyLicenseRequired(Ve){return this.licenseManagerService?this.licenseManagerService.notifyLicenseRequired(Ve):this.promiseFactory.reject()}notifyFeatureBlocked(Ve){return this.licenseManagerService?this.licenseManagerService.notifyFeatureBlocked(Ve):this.promiseFactory.reject()}clearLicenseNotification(){return this.licenseManagerService?this.licenseManagerService.clearLicenseNotification():this.promiseFactory.reject()}}var pt="4.4.0",$t={version:pt,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=pt,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(pt),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt),licenseManager:ar(Ve)}}},er="4.5.0",vr={version:er,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=er,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(er),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt),licenseManager:ar(Ve)}}};function mr(oe){return new Mr(oe)}class Mr{constructor(Ve){this.webAccessService=Ve&&Ve.webAccessService&&Ve.webAccessService(),this.promiseFactory=Ve.promiseFactory()}webAccessStatus(Ve){return null!=this.webAccessService?this.webAccessService.getWebAccessStatus(Ve):this.promiseFactory.resolve(ye.QC.NotSupported)}}var Lr="4.6.0",Yr={version:Lr,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Lr,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Lr),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt),licenseManager:ar(Ve),webAccessService:mr(Ve)}}},Kr="4.7.0",Gr={version:Kr,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Kr,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Kr),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt),licenseManager:ar(Ve),webAccessService:mr(Ve),drill:se=>Ve.drill(se)}}},Wr="5.0.0",ra={version:Wr,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Wr,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Wr),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt),licenseManager:ar(Ve),webAccessService:mr(Ve),drill:se=>Ve.drill(se)}}},Xr="5.1.0",jr={version:Xr,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Xr,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Xr),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt),licenseManager:ar(Ve),webAccessService:mr(Ve),drill:se=>Ve.drill(se),applyCustomSort:se=>Ve.applyCustomSort(se)}}},Cr="5.2.0",ia={version:Cr,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Cr,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Cr),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt),licenseManager:ar(Ve),webAccessService:mr(Ve),drill:se=>Ve.drill(se),applyCustomSort:se=>Ve.applyCustomSort(se)}}},Rr="5.3.0",Tr={version:Rr,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Rr,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Rr),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt),licenseManager:ar(Ve),webAccessService:mr(Ve),drill:se=>Ve.drill(se),applyCustomSort:se=>Ve.applyCustomSort(se)}}},Zr="5.4.0",Nr={version:Zr,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Zr,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Zr),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt),licenseManager:ar(Ve),webAccessService:mr(Ve),drill:se=>Ve.drill(se),applyCustomSort:se=>Ve.applyCustomSort(se)}}};function br(oe){return new Qr(oe)}class Qr{constructor(Ve){this.storageV2Service=Ve&&Ve.localStorageV2Service&&Ve.localStorageV2Service(),this.promiseFactory=Ve.promiseFactory()}status(){return null!=this.storageV2Service?this.storageV2Service.getStorageStatus():this.promiseFactory.resolve(ye.QC.NotSupported)}get(Ve){return null!=this.storageV2Service&&Ve?this.storageV2Service.getStorageData(Ve):this.promiseFactory.reject()}set(Ve,se){return null!=this.storageV2Service&&Ve&&se?this.storageV2Service.setStorageData(Ve,se):this.promiseFactory.reject()}remove(Ve){null!=this.storageV2Service&&Ve&&this.storageV2Service.removeStorageData(Ve)}}var kr="5.5.0",Pt={version:kr,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=kr,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(kr),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt),licenseManager:ar(Ve),webAccessService:mr(Ve),drill:se=>Ve.drill(se),applyCustomSort:se=>Ve.applyCustomSort(se),storageV2Service:br(Ve)}}};function nt(oe){return new _e(oe)}class _e{constructor(Ve){this.acquireAADTokenService=Ve&&Ve.acquireAADTokenService&&Ve.acquireAADTokenService(),this.promiseFactory=Ve.promiseFactory()}acquireAADToken(){return null!=this.acquireAADTokenService?this.acquireAADTokenService.acquireAADToken():this.promiseFactory.reject()}acquireAADTokenstatus(){return null!=this.acquireAADTokenService?this.acquireAADTokenService.getAcquireAADTokenStatus():this.promiseFactory.resolve(ye.QC.NotSupported)}}var ke="5.6.0",xt={version:ke,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=ke,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(ke),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt),licenseManager:ar(Ve),webAccessService:mr(Ve),drill:se=>Ve.drill(se),applyCustomSort:se=>Ve.applyCustomSort(se),storageV2Service:br(Ve),acquireAADTokenService:nt(Ve)}}},Ht="5.7.0",Sr={version:Ht,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Ht,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Ht),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt),licenseManager:ar(Ve),webAccessService:mr(Ve),drill:se=>Ve.drill(se),applyCustomSort:se=>Ve.applyCustomSort(se),storageV2Service:br(Ve),acquireAADTokenService:nt(Ve),setCanDrill:se=>Ve.setCanDrill(se)}}};function fr(oe){return new Zt(oe)}class Zt{constructor(Ve){this.subSelectionService=Ve?.visualHostSubSelectionService?.()}subSelect(Ve){this.subSelectionService&&this.subSelectionService.subSelect(Ve)}updateRegionOutlines(Ve){this.subSelectionService&&this.subSelectionService.updateRegionOutlines(Ve)}}var Er="5.8.0",Z={version:Er,overloads:(oe,Ve)=>({update:se=>{if(oe.update){var gt={viewport:se.viewport,dataViews:se.dataViews,viewMode:se.viewMode,editMode:se.editMode,isInFocus:!!se.isInFocus,operationKind:se.operationKind,jsonFilters:se.jsonFilters,type:t(se),updateId:se.updateId,subSelections:se.subSelections,formatMode:se.formatMode};Ve.colorPalette.reset();var Bt=oe.constructor.__transform__;_.isFunction(Bt)?oe.update(gt,Bt(gt.dataViews)):oe.update(gt)}},getSubSelectionStyles:se=>{if(oe.visualOnObjectFormatting&&_.isFunction(oe.visualOnObjectFormatting.getSubSelectionStyles))return oe.visualOnObjectFormatting.getSubSelectionStyles(se)},getSubSelectionShortcuts:(se,gt)=>{if(oe.visualOnObjectFormatting&&_.isFunction(oe.visualOnObjectFormatting.getSubSelectionShortcuts))return oe.visualOnObjectFormatting.getSubSelectionShortcuts(se,gt)},getSubSelectables:se=>{if(oe.visualOnObjectFormatting&&oe.visualOnObjectFormatting.getSubSelectables&&_.isFunction(oe.visualOnObjectFormatting.getSubSelectables))return oe.visualOnObjectFormatting.getSubSelectables(se)}}),hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Er,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Er),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt),licenseManager:ar(Ve),webAccessService:mr(Ve),drill:se=>Ve.drill(se),applyCustomSort:se=>Ve.applyCustomSort(se),storageV2Service:br(Ve),acquireAADTokenService:nt(Ve),setCanDrill:se=>Ve.setCanDrill(se),subSelectionService:fr(Ve)}}},ie=e(968830);class Ue{compareCustomVisualOpaqueIdentities(Ve,se){return(0,ie.aI)(Ve,se)}}var st="5.9.0",kt="5.10.0",lr="5.11.0",Mt="5.12.0",Ne=[n,m,h,f,b,M,N,O,j,B,G,q,L,Y,ee,We,At,Se,Je,Me,ct,It,Ze,ut,me,Xe,ae,rt,ze,Nt,Yt,je,nr,$t,vr,Yr,Gr,ra,jr,ia,Tr,Nr,Pt,xt,Sr,Z,{version:st,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=st,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(st),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt),licenseManager:ar(Ve),webAccessService:mr(Ve),drill:se=>Ve.drill(se),applyCustomSort:se=>Ve.applyCustomSort(se),storageV2Service:br(Ve),acquireAADTokenService:nt(Ve),setCanDrill:se=>Ve.setCanDrill(se),subSelectionService:fr(Ve),createOpaqueUtils:()=>new Ue}}},{version:kt,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=kt,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(kt),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),storageService:we(Ve),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt),licenseManager:ar(Ve),webAccessService:mr(Ve),drill:se=>Ve.drill(se),applyCustomSort:se=>Ve.applyCustomSort(se),storageV2Service:br(Ve),acquireAADTokenService:nt(Ve),setCanDrill:se=>Ve.setCanDrill(se),subSelectionService:fr(Ve),createOpaqueUtils:()=>new Ue}}},{version:lr,hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=lr,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(lr),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt),licenseManager:ar(Ve),webAccessService:mr(Ve),drill:se=>Ve.drill(se),applyCustomSort:se=>Ve.applyCustomSort(se),storageV2Service:br(Ve),acquireAADTokenService:nt(Ve),setCanDrill:se=>Ve.setCanDrill(se),subSelectionService:fr(Ve),createOpaqueUtils:()=>new Ue}}},{version:Mt,overloads:(oe,Ve)=>({update:se=>{if(oe.update){var gt={viewport:se.viewport,dataViews:se.dataViews,viewMode:se.viewMode,editMode:se.editMode,isInFocus:!!se.isInFocus,operationKind:se.operationKind,jsonFilters:se.jsonFilters,type:t(se),updateId:se.updateId,subSelections:se.subSelections,formatMode:se.formatMode,pendingChanges:se.pendingChanges};Ve.colorPalette.reset();var Bt=oe.constructor.__transform__;_.isFunction(Bt)?oe.update(gt,Bt(gt.dataViews)):oe.update(gt)}}}),hostAdapter:oe=>{var Ve=oe.host;return Ve.apiVersion=Mt,{createSelectionIdBuilder:()=>new Q.r,createSelectionManager:()=>(Ve.selectionManager=Ve.createSelectionManager(Mt),Ve.selectionManager),colorPalette:(0,g.E)(oe.style),persistProperties:se=>oe.host.persistProperties(se),tooltipService:Ve.createTooltipService(),telemetry:(0,w.vs)({hostServices:oe.host}),authenticationService:U({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(se,gt,Bt,Xt)=>{if(se)if(Array.isArray(se))oe.host.applyJsonFilter(se,gt,Bt,Xt);else{var tr=[];tr.push(se),oe.host.applyJsonFilter(tr,gt,Bt,Xt)}else oe.host.applyJsonFilter(null,gt,Bt,Xt)},launchUrl:se=>oe.host.launchUrl(se),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new A(oe.localizationResources),fetchMoreData:se=>Ve.fetchMoreData(se),downloadService:Re(Ve),eventService:Qe(Ve),switchFocusModeState:se=>Ve.switchFocusModeState(se),hostEnv:oe.hostEnv,openModalDialog:(se,gt,Bt)=>Ve.openModalDialog(se,gt,Bt),displayWarningIcon:(se,gt)=>Ve.displayWarningIcon(se,gt),licenseManager:ar(Ve),webAccessService:mr(Ve),drill:se=>Ve.drill(se),applyCustomSort:se=>Ve.applyCustomSort(se),storageV2Service:br(Ve),acquireAADTokenService:nt(Ve),setCanDrill:se=>Ve.setCanDrill(se),subSelectionService:fr(Ve),createOpaqueUtils:()=>new Ue}}}],at=e(18122),St=e(761297),Ct=e(534629);class Rt{constructor(Ve,se){this.wrappedVisual=Ve,this.run=se,at.Y.assertValue(se,"run must be defined in VisualOutsideZoneAdapter"),Ve.update&&(this.update=gt=>this.apply(this.wrappedVisual.update,gt)),Ve.onResizing&&(this.onResizing=(gt,Bt)=>{this.apply(this.wrappedVisual.onResizing,gt,Bt)}),Ve.onDataChanged&&(this.onDataChanged=gt=>{this.apply(this.wrappedVisual.onDataChanged,gt)}),Ve.onSelectionStateChanged&&(this.onSelectionStateChanged=gt=>{this.apply(()=>this.wrappedVisual.onSelectionStateChanged(gt))})}init(Ve){return this.apply(this.wrappedVisual.init,Ve)}destroy(){this.apply(this.wrappedVisual.destroy)}onViewModeChanged(Ve){this.apply(this.wrappedVisual.onViewModeChanged,Ve)}onClearSelection(){this.apply(this.wrappedVisual.onClearSelection)}onPaste(Ve){this.apply(this.wrappedVisual.onPaste,Ve)}onRestoreSelection(Ve){return this.apply(this.wrappedVisual.onRestoreSelection,Ve)}canResizeTo(Ve){return this.apply(this.wrappedVisual.canResizeTo,Ve)}enumerateObjectInstances(Ve){return this.apply(this.wrappedVisual.enumerateObjectInstances,Ve)}enumerateObjectInstancesAsync(Ve){return this.apply(this.wrappedVisual.enumerateObjectInstancesAsync,Ve)}enumerateObjectRepetition(){return this.apply(this.wrappedVisual.enumerateObjectRepetition)}enumerateObjectRepetitionAsync(){return this.apply(this.wrappedVisual.enumerateObjectRepetitionAsync)}visualHasMethod(Ve){return this.apply(this.wrappedVisual.visualHasMethod,Ve)}unwrap(){var Ve=this.wrappedVisual;return Ve.unwrap?Ve.unwrap():Ve}get sandbox(){return this.wrappedVisual?.sandbox}getTelemetryInformation(){return this.apply(this.wrappedVisual.getTelemetryInformation)}getFormattingModel(){return this.apply(this.wrappedVisual.getFormattingModel)}getFormattingModelAsync(){return this.apply(this.wrappedVisual.getFormattingModelAsync)}resolveFormattingPlaceholder(Ve){return this.run(()=>this.wrappedVisual.resolveFormattingPlaceholder(Ve))}getSubSelectionStyles(Ve){return this.run(()=>this.wrappedVisual.getSubSelectionStyles(Ve))}getSubSelectionShortcuts(Ve,se){return this.run(()=>this.wrappedVisual.getSubSelectionShortcuts(Ve,se))}getSubSelectables(Ve){return this.run(()=>this.wrappedVisual.getSubSelectables(Ve))}getNextSubSelectable(Ve,se){return this.run(()=>this.wrappedVisual.getNextSubSelectable(Ve,se))}getSubSelectionStylesAsync(Ve){return this.run(()=>this.wrappedVisual.getSubSelectionStylesAsync(Ve))}getSubSelectionShortcutsAsync(Ve,se){return this.run(()=>this.wrappedVisual.getSubSelectionShortcutsAsync(Ve,se))}getSubSelectablesAsync(Ve){return this.run(()=>this.wrappedVisual.getSubSelectablesAsync(Ve))}onDataViewObjectChanged(Ve,se){return this.apply(this.wrappedVisual.onDataViewObjectChanged,Ve,se)}apply(Ve,...se){var gt=this.wrappedVisual;return this.run(()=>Ve.apply(gt,se))}}var jt=e(34481),qt=e(540673);class ir{constructor(Ve){this.wrappedVisual=Ve,Ve.update&&(this.update=se=>this.trackVisualTime(()=>this.wrappedVisual.update(se),()=>se&&se.parentContextActivity?se.parentContextActivity.createChildActivity({name:qt.n.VisualUpdate}):void 0)),Ve.onResizing&&(this.onResizing=(se,gt)=>{this.trackVisualTime(()=>this.wrappedVisual.onResizing(se,gt))}),Ve.onDataChanged&&(this.onDataChanged=se=>{this.trackVisualTime(()=>this.wrappedVisual.onDataChanged(se))}),Ve.onSelectionStateChanged&&(this.onSelectionStateChanged=se=>{this.trackVisualTime(()=>this.wrappedVisual.onSelectionStateChanged(se))})}init(Ve){if(this.wrappedVisual.init)return this.trackVisualTime(()=>this.wrappedVisual.init(Ve))}destroy(){this.wrappedVisual.destroy&&this.trackVisualTime(()=>this.wrappedVisual.destroy())}onViewModeChanged(Ve){this.wrappedVisual.onViewModeChanged&&this.trackVisualTime(()=>this.wrappedVisual.onViewModeChanged(Ve))}onClearSelection(){this.wrappedVisual.onClearSelection&&this.trackVisualTime(()=>this.wrappedVisual.onClearSelection())}onPaste(Ve){this.wrappedVisual.onPaste&&this.trackVisualTime(()=>this.wrappedVisual.onPaste(Ve))}onRestoreSelection(Ve){return!!this.wrappedVisual.onRestoreSelection&&this.trackVisualTime(()=>this.wrappedVisual.onRestoreSelection(Ve))}canResizeTo(Ve){if(this.wrappedVisual.canResizeTo)return this.trackVisualTime(()=>this.wrappedVisual.canResizeTo(Ve))}enumerateObjectInstances(Ve){if(this.wrappedVisual.enumerateObjectInstances)return this.trackVisualTime(()=>this.wrappedVisual.enumerateObjectInstances(Ve))}enumerateObjectRepetition(){if(this.wrappedVisual.enumerateObjectRepetition)return this.trackVisualTime(()=>this.wrappedVisual.enumerateObjectRepetition())}enumerateObjectInstancesAsync(Ve){return this.visualAdapter.enumerateObjectInstancesAsync?this.trackVisualTime(()=>this.visualAdapter.enumerateObjectInstancesAsync(Ve)):Promise.resolve(this.enumerateObjectInstances(Ve))}enumerateObjectRepetitionAsync(){return this.visualAdapter.enumerateObjectRepetitionAsync?this.trackVisualTime(()=>this.visualAdapter.enumerateObjectRepetitionAsync()):Promise.resolve(this.enumerateObjectRepetition())}get sandbox(){return this.visualAdapter&&this.visualAdapter.sandbox}get visualAdapter(){return this.wrappedVisual}unwrap(){var Ve=this.wrappedVisual;return Ve.unwrap?Ve.unwrap():Ve}visualHasMethod(Ve){var se=this.wrappedVisual;return se&&se.visualHasMethod(Ve)}getTelemetryInformation(){if(this.wrappedVisual.getTelemetryInformation)return this.trackVisualTime(()=>this.wrappedVisual.getTelemetryInformation())}getFormattingModel(){if(this.wrappedVisual.getFormattingModel)return this.trackVisualTime(()=>this.wrappedVisual.getFormattingModel())}getFormattingModelAsync(){return this.visualAdapter.getFormattingModelAsync?this.trackVisualTime(()=>this.visualAdapter.getFormattingModelAsync()):Promise.resolve(this.getFormattingModel())}resolveFormattingPlaceholder(Ve){if(this.wrappedVisual.resolveFormattingPlaceholder)return this.trackVisualTime(()=>this.wrappedVisual.resolveFormattingPlaceholder(Ve))}getSubSelectionStyles(Ve){if(this.wrappedVisual.getSubSelectionStyles)return this.trackVisualTime(()=>this.wrappedVisual.getSubSelectionStyles(Ve))}getSubSelectionShortcuts(Ve,se){if(this.wrappedVisual.getSubSelectionShortcuts)return this.trackVisualTime(()=>this.wrappedVisual.getSubSelectionShortcuts(Ve,se))}getSubSelectables(Ve){if(this.wrappedVisual.getSubSelectables)return this.trackVisualTime(()=>this.wrappedVisual.getSubSelectables(Ve))}getNextSubSelectable(Ve,se){if(this.wrappedVisual.getNextSubSelectable)return this.trackVisualTime(()=>this.wrappedVisual.getNextSubSelectable(Ve,se))}getSubSelectionStylesAsync(Ve){return this.wrappedVisual.getSubSelectionStylesAsync?this.trackVisualTime(()=>this.wrappedVisual.getSubSelectionStylesAsync(Ve)):Promise.resolve(this.getSubSelectionStyles(Ve))}getSubSelectionShortcutsAsync(Ve,se){return this.wrappedVisual.getSubSelectionShortcutsAsync?this.trackVisualTime(()=>this.wrappedVisual.getSubSelectionShortcutsAsync(Ve,se)):Promise.resolve(this.getSubSelectionShortcuts(Ve))}getSubSelectablesAsync(Ve){return this.wrappedVisual.getSubSelectablesAsync?this.trackVisualTime(()=>this.wrappedVisual.getSubSelectablesAsync(Ve)):Promise.resolve(this.getSubSelectables(Ve))}onDataViewObjectChanged(Ve,se){if(this.wrappedVisual.onDataViewObjectChanged)return this.trackVisualTime(()=>this.wrappedVisual.onDataViewObjectChanged(Ve,se))}trackVisualTime(Ve,se){var gt=se&&se();try{return Ve()}finally{gt&&gt.resolve()}}}var cr,gr=[];function hr(){return function(oe,Ve,se){Object.defineProperty(se.value,"approvedMessage",{value:!0})}}function yr(){return gr}function Br(oe,Ve){return oe&&(oe=new ir(oe),Ve&&(oe=new Rt(oe,Ve))),oe}function la(oe,Ve,se,gt,Bt,Xt,tr){var Fr=new qr(oe,Ve,se,gt,Bt,tr),ya=Br(Fr,Xt);return new jt.r(ya,oe,se,gt,Fr.isPluginInError,tr)}Ne.forEach(oe=>function(oe){yr().push(oe)}(oe));var qr=(()=>{class oe{constructor(se,gt,Bt,Xt,tr,Fr){this.plugin=se,this.creator=gt,this.promiseFactory=Bt,this.telemetryService=Xt,this.module=tr,this.certifiedEventsService=Fr,this.initialized=!1,this.destroyed=!1,this.isPluginInError=!1,at.Y.assertValue(se,"plugin"),at.Y.assertValue(gt||this.plugin.createES6,"creator"),at.Y.assertValue(Bt,"promiseFactory"),at.Y.assertAnyValue(this.telemetryService,"telemetryService"),at.Y.assertAnyValue(tr,"module"),at.Y.assertAnyValue(this.certifiedEventsService,"certifiedEventsService");var ya=se.apiVersion,pa=this.getVersionIndex(ya);ya?pa>-1?(this.apiVersionIndex=pa,this.legacy=!1):(at.Y.assertFail("The API version '"+ya+"' is invalid."),this.isPluginInError=!0):this.legacy=!0}init(se){var gt=this;return(0,a.A)(function*(){return gt.initializedPromise=gt.initImpl(se),gt.initializedPromise})()}initImpl(se){var gt=this;return(0,a.A)(function*(){if(at.Y.assert(()=>!gt.initialized,"Unexpected `init` after already initialized"),at.Y.assertValue(se.element,"options.element"),at.Y.assertValue(se.host,"options.host"),se.element.empty(),se=(0,St.IL)(se),gt.legacy){var Bt={module:gt.module,featureSwitches:se.featureSwitches};if(gt.plugin.createES6){if(gt.visual=yield gt.plugin.createES6(Bt),gt.destroyed)return}else gt.visual=gt.creator(Bt);if(yield gt.visualLegacy.init(se),gt.destroyed)return}else{var Xt=gt.host=gr[gt.apiVersionIndex].hostAdapter(se),tr={element:se.element.get(0),host:Xt,module:gt.module,featureSwitches:se.featureSwitches};if(gt.plugin.createES6){if(gt.visual=yield gt.plugin.createES6(tr),gt.destroyed)return}else gt.visual=gt.creator(tr);gt.overloadMethods()}gt.initialized=!0})()}update(se){var gt=this;return(0,a.A)(function*(){at.Y.assertValue(()=>gt.initialized,"Expected `init` before `update`");var Bt=gt.initializedPromise;if(yield gt.initializedPromise,at.Y.assert(()=>gt.initializedPromise===Bt,"Unexpected re-initialize during update"),!gt.destroyed&&gt.initialized)if(gt.plugin.systemVisual||((se=(0,St.IL)(se)).visualDefinitionData=void 0,se.dataTransforms=void 0),(se.type&r.YL.Resize)===r.YL.Resize&&gt.visualHasMethod("onResizing")){if(gt.plugin.custom&&gt.visualHasMethod("update")&&(yield gt.visualLegacy.update(se),gt.destroyed))return;gt.onResizing(se.viewport,se.resizeMode)}else if(gt.visualHasMethod("update")){if(yield gt.visualLegacy.update(se),gt.destroyed)return}else(!se.type||se.type&r.YL.Data)&&gt.onDataChanged(_.pick(se,["dataViews","operationKind"])),se.type&r.YL.ViewMode&&gt.onViewModeChanged(se.viewMode)})()}destroy(){this.visualHasMethod("destroy")&&this.visualLegacy.destroy(),this.initialized=!1,this.destroyed=!0}enumerateObjectInstances(se){if(this.visualHasMethod("enumerateObjectInstances"))return this.visualLegacy.enumerateObjectInstances(se)}enumerateObjectRepetition(){if(this.visualHasMethod("enumerateObjectRepetition"))return this.visualLegacy.enumerateObjectRepetition()}enumerateObjectInstancesAsync(se){return this.visualHasMethod("enumerateObjectInstancesAsync")?this.visualAdapter.enumerateObjectInstancesAsync(se):this.promiseFactory.resolve(this.enumerateObjectInstances(se))}enumerateObjectRepetitionAsync(){return this.visualHasMethod("enumerateObjectRepetitionAsync")?this.visualAdapter.enumerateObjectRepetitionAsync():this.promiseFactory.resolve(this.enumerateObjectRepetition())}get sandbox(){return this.visualAdapter&&this.visualAdapter.sandbox}onResizing(se,gt){this.visualHasMethod("onResizing")&&this.visualLegacy.onResizing(se,gt)}onDataChanged(se){this.visualHasMethod("onDataChanged")&&this.visualLegacy.onDataChanged(se)}onViewModeChanged(se){this.visualHasMethod("onViewModeChanged")&&this.visualLegacy.onViewModeChanged(se)}onSelectionStateChanged(se){this.visualHasMethod("onSelectionStateChanged")&&this.visualLegacy.onSelectionStateChanged(se)}onClearSelection(){this.visualHasMethod("onClearSelection")&&this.visualLegacy.onClearSelection()}onPaste(se){this.visualHasMethod("onPaste")&&this.visualLegacy.onPaste(se)}onRestoreSelection(se){if(this.visualHasMethod("onRestoreSelection"))return this.visualLegacy.onRestoreSelection(se)}canResizeTo(se){if(this.visualHasMethod("canResizeTo"))return this.visualLegacy.canResizeTo(se)}unwrap(){return this.visual}getTelemetryInformation(){if(this.visualHasMethod("getTelemetryInformation"))return this.visualLegacy.getTelemetryInformation()}getFormattingModel(){if(this.visualHasMethod("getFormattingModel"))return this.visualAdapter.getFormattingModel()}getFormattingModelAsync(){return this.visualHasMethod("getFormattingModelAsync")?this.visualAdapter.getFormattingModelAsync():this.promiseFactory.resolve(this.getFormattingModel())}resolveFormattingPlaceholder(se){if(this.visualHasMethod("resolveFormattingPlaceholder"))return this.visualLegacy.resolveFormattingPlaceholder(se)}getSubSelectionStyles(se){if(this.visualHasMethod("getSubSelectionStyles"))return this.visualAdapter.getSubSelectionStyles(se)}getSubSelectionShortcuts(se,gt){if(this.visualHasMethod("getSubSelectionShortcuts"))return this.visualAdapter.getSubSelectionShortcuts(se,gt)}getSubSelectables(se){if(this.visualHasMethod("getSubSelectables"))return this.visualAdapter.getSubSelectables(se)}getNextSubSelectable(se,gt){if(this.visualHasMethod("getNextSubSelectable"))return this.visualAdapter.getNextSubSelectable(se,gt)}getSubSelectionStylesAsync(se){return this.visualHasMethod("getSubSelectionStylesAsync")?this.visualAdapter.getSubSelectionStylesAsync(se):this.promiseFactory.resolve(this.getSubSelectionStyles(se))}getSubSelectionShortcutsAsync(se,gt){return this.visualHasMethod("getSubSelectionShortcutsAsync")?this.visualAdapter.getSubSelectionShortcutsAsync(se,gt):this.promiseFactory.resolve(this.getSubSelectionShortcuts(se,gt))}getSubSelectablesAsync(se){return this.visualHasMethod("getSubSelectablesAsync")?this.visualAdapter.getSubSelectablesAsync(se):this.promiseFactory.resolve(this.getSubSelectables(se))}onDataViewObjectChanged(se,gt){if(this.visualHasMethod("onDataViewObjectChanged"))return this.visualAdapter.onDataViewObjectChanged(se,gt)}get visualNew(){if(!this.legacy)return this.visual}get visualLegacy(){if(this.legacy)return this.visual}get visualAdapter(){return this.visual}visualHasMethod(se){var gt=this.legacy?this.visualLegacy:this.visualNew;return(0,Ct.gH)(this.plugin.name)?gt&&_.isFunction(gt[se])&&gt.visualHasMethod(se):gt&&_.isFunction(gt[se])}getVersionIndex(se){if(se)for(var gt=yr().length,Bt=0;Bt<gt;Bt++)if(yr()[Bt].version===se)return Bt;return-1}overloadMethods(){var se=this.getCompiledOverloads();for(var gt in se)this[gt]=se[gt]}getCompiledOverloads(){for(var se={},gt=this.apiVersionIndex,Bt=this.visualNew,Xt=0;Xt<=gt;Xt++){var tr=yr()[Xt].overloads;_.isFunction(tr)&&_.assign(se,tr(Bt,this.host))}return se}}return(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"enumerateObjectInstancesAsync",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"enumerateObjectRepetitionAsync",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Number]),(0,i.__metadata)("design:returntype",void 0)],oe.prototype,"onResizing",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],oe.prototype,"onDataChanged",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",void 0)],oe.prototype,"onViewModeChanged",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Boolean]),(0,i.__metadata)("design:returntype",void 0)],oe.prototype,"onSelectionStateChanged",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],oe.prototype,"onClearSelection",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],oe.prototype,"onPaste",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",Boolean)],oe.prototype,"canResizeTo",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"getTelemetryInformation",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"getFormattingModelAsync",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",["function"==typeof(cr=typeof TFormattingPlaceholder<"u"&&TFormattingPlaceholder)?cr:Object]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"resolveFormattingPlaceholder",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"getSubSelectionStyles",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,String]),(0,i.__metadata)("design:returntype",Array)],oe.prototype,"getSubSelectionShortcuts",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",Array)],oe.prototype,"getSubSelectables",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Boolean]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"getNextSubSelectable",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"getSubSelectionStylesAsync",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,String]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"getSubSelectionShortcutsAsync",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",Object)],oe.prototype,"getSubSelectablesAsync",null),(0,i.__decorate)([hr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,Number]),(0,i.__metadata)("design:returntype",Array)],oe.prototype,"onDataViewObjectChanged",null),oe})()},708599:function(ve,z,e){e.d(z,{s:function(){return d}});var a=e(693029),i=e(266092),r=e(904143),t=["displayName","description","placeHolderText"],o={get:h=>h,getOptional:h=>h,format:h=>h};function d(h){h.apiVersion?function(h){!function(h){h&&(function(h){for(var C in h){var y=h[C];if(y){var f=y.properties;if(f)for(var S in f){var b=f[S];if(b){var V=b.type;V&&V.enumeration&&(V.enumeration=(0,r.s)(V.enumeration))}}}}}(h.objects),function(h){for(var C in h){var y=h[C];y&&y.kind&&(y.kind=u(y.kind.toString()))}}(h.dataRoles),function(h){for(var C in h){var y=h[C];if(y){var f=y.conditions;if(f)for(var S in f){var b=f[S];if(b)for(var V in b){var M=b[V];M&&M.kind&&(b[V].kind=u(M.kind.toString()))}}}}}(h.dataViewMappings))}(h.capabilities)}(h):function(h){!function(h){h&&(function(h){for(var C in h){var y=h[C];if(y){var f=(y=h[C]=_.mapValues(y,D)).properties;if(f)for(var S in f){var b=f[S];if(b){var V=(b=f[S]=_.mapValues(b,D)).type;if(V&&V.enumeration&&_.isFunction(V.enumeration.members)){var M=V.enumeration.members().map(P=>_.mapValues(P,D));V.enumeration=(0,r.s)(M)}}}}}}(h.objects),function(h){for(var C in h){var y=h[C];y&&(h[C]=_.mapValues(y,D))}}(h.dataRoles))}(h.capabilities)}(h)}function u(h){switch(h.toLowerCase()){case"grouping":case a.Ts.Grouping.toString():return a.Ts.Grouping;case"measure":case a.Ts.Measure.toString():return a.Ts.Measure;case"groupingormeasure":case a.Ts.GroupingOrMeasure.toString():return a.Ts.GroupingOrMeasure}}function D(h,C){return _.isString(h)||-1===_.indexOf(t,C)?h:(0,i.M)(h,o)}},34481:function(ve,z,e){e.d(z,{A:function(){return p},r:function(){return s}});var a=e(233390),i=e(470451),r=e(617710),t=e(776346),o=e(38361),d=e(865429),n=e(223431),c=e(44303);class s{constructor(u,v,m,g,E,D,h){this.wrappedVisual=u,this.visualPlugin=v,this.promiseFactory=m,this.telemetryService=g,this.isPluginInError=E,this.certifiedEventsService=D,this.silent=h,this.initCalled=!1,this.visualLoadStartTime=(0,d.t)(),this.startTimeISO=(new Date).toISOString()}init(u){if(this.initCalled=!0,u&&u.host&&u.host.telemetry){var v=u.host.telemetry();this.visualName=v&&v.visualName,this.instanceId=v&&v.instanceId}if(this.wrappedVisual.init)return this.executeSafelyAsync(()=>this.wrappedVisual.init(u))}checkInit(){return!!this.initCalled||(n.Cn.assertFail("Another visual method was called before init"),!1)}destroy(){this.wrappedVisual.destroy&&this.executeSafely(()=>this.wrappedVisual.destroy())}update(u){var v=this;if(this.checkInit(),this.wrappedVisual.update)return this.executeSafelyAsync((0,a.A)(function*(){if(yield v.wrappedVisual.update(u),v.telemetryService&&v.startTimeISO&&v.visualPlugin.custom){var{version:m,apiVersion:g}=v.visualPlugin,E=(new Date).toISOString();v.telemetryService.logEvent(t.o0,{name:v.visualPlugin.name,apiVersion:g,custom:!!v.visualPlugin.custom,visualVersion:m,visualName:v.visualName,instanceId:v.instanceId,start:v.startTimeISO,end:E,isError:v.isPluginInError,errorSource:o.gf.User}),v.startTimeISO=null,v.visualLoadStartTime&&(v.certifiedEventsService?.logTimedStandardizedFeatureEvent({activityAttributes:{apiMajorVersion:g&&(0,c.x6)(g)?.major,apiMinorVersion:g&&(0,c.x6)(g)?.minor,visualMajorVersion:m&&(0,c.x6)(m)?.major,visualMinorVersion:m&&(0,c.x6)(m)?.minor},activityName:t.NW,correlationId:v.telemetryService?.root?.id,operationEndTime:(0,d.t)(),operationStartTime:v.visualLoadStartTime,visualId:v.visualPlugin.name}),v.visualLoadStartTime=null)}}))}onResizing(u,v){this.checkInit(),this.wrappedVisual.onResizing&&this.executeSafely(()=>this.wrappedVisual.onResizing(u,v))}onDataChanged(u){this.checkInit(),this.wrappedVisual.onDataChanged&&this.executeSafely(()=>this.wrappedVisual.onDataChanged(u))}onViewModeChanged(u){this.checkInit(),this.wrappedVisual.onViewModeChanged&&this.executeSafely(()=>this.wrappedVisual.onViewModeChanged(u))}onSelectionStateChanged(u){this.checkInit(),this.wrappedVisual.onSelectionStateChanged&&this.executeSafely(()=>this.wrappedVisual.onSelectionStateChanged(u))}onClearSelection(){this.checkInit(),this.wrappedVisual.onClearSelection&&this.executeSafely(()=>this.wrappedVisual.onClearSelection())}onPaste(u){this.checkInit(),this.wrappedVisual.onPaste&&this.executeSafely(()=>this.wrappedVisual.onPaste(u))}onRestoreSelection(u){return this.checkInit(),!!this.wrappedVisual.onRestoreSelection&&this.executeSafely(()=>this.wrappedVisual.onRestoreSelection(u))}canResizeTo(u){if(this.checkInit(),this.wrappedVisual.canResizeTo)return this.executeSafely(()=>this.wrappedVisual.canResizeTo(u))}enumerateObjectInstances(u){if(this.checkInit(),this.wrappedVisual.enumerateObjectInstances)return this.executeSafely(()=>this.wrappedVisual.enumerateObjectInstances(u))}enumerateObjectRepetition(){if(this.checkInit(),this.wrappedVisual.enumerateObjectRepetition)return this.executeSafely(()=>this.wrappedVisual.enumerateObjectRepetition())}enumerateObjectInstancesAsync(u){return this.checkInit(),this.visualAdapter.enumerateObjectInstancesAsync?this.executeSafely(()=>this.visualAdapter.enumerateObjectInstancesAsync(u)):this.promiseFactory.resolve(this.enumerateObjectInstances(u))}enumerateObjectRepetitionAsync(){return this.checkInit(),this.visualAdapter.enumerateObjectRepetitionAsync?this.executeSafely(()=>this.visualAdapter.enumerateObjectRepetitionAsync()):this.promiseFactory.resolve(this.enumerateObjectRepetition())}get sandbox(){return this.visualAdapter&&this.visualAdapter.sandbox}get visualAdapter(){return this.wrappedVisual}unwrap(){var u=this.wrappedVisual;return u.unwrap?u.unwrap():u}visualHasMethod(u){var v=this.wrappedVisual;return v&&v.visualHasMethod(u)}getTelemetryInformation(){if(this.checkInit(),this.wrappedVisual.getTelemetryInformation)return this.executeSafely(()=>this.wrappedVisual.getTelemetryInformation())}getFormattingModel(){if(this.checkInit(),this.wrappedVisual.getFormattingModel)return this.executeSafely(()=>this.wrappedVisual.getFormattingModel())}getFormattingModelAsync(){return this.checkInit(),this.visualAdapter.getFormattingModelAsync?this.executeSafely(()=>this.visualAdapter.getFormattingModelAsync()):this.promiseFactory.resolve(this.getFormattingModel())}resolveFormattingPlaceholder(u){if(this.checkInit(),this.wrappedVisual.resolveFormattingPlaceholder)return this.executeSafely(()=>this.wrappedVisual.resolveFormattingPlaceholder(u))}getSubSelectionStyles(u){if(this.checkInit(),this.wrappedVisual.getSubSelectionStyles)return this.executeSafely(()=>this.wrappedVisual.getSubSelectionStyles(u))}getSubSelectionShortcuts(u,v){if(this.checkInit(),this.wrappedVisual.getSubSelectionShortcuts)return this.executeSafely(()=>this.wrappedVisual.getSubSelectionShortcuts(u,v))}getSubSelectables(u){if(this.checkInit(),this.wrappedVisual.getSubSelectables)return this.executeSafely(()=>this.wrappedVisual.getSubSelectables(u))}getNextSubSelectable(u,v){if(this.checkInit(),this.wrappedVisual.getNextSubSelectable)return this.executeSafely(()=>this.wrappedVisual.getNextSubSelectable(u,v))}getSubSelectionStylesAsync(u){return this.checkInit(),this.wrappedVisual.getSubSelectionStylesAsync?this.executeSafely(()=>this.wrappedVisual.getSubSelectionStylesAsync(u)):this.promiseFactory.resolve(this.getSubSelectionStyles(u))}getSubSelectionShortcutsAsync(u,v){return this.checkInit(),this.wrappedVisual.getSubSelectionShortcutsAsync?this.executeSafely(()=>this.wrappedVisual.getSubSelectionShortcutsAsync(u,v)):this.promiseFactory.resolve(this.getSubSelectionShortcuts(u,v))}getSubSelectablesAsync(u){return this.checkInit(),this.wrappedVisual.getSubSelectablesAsync?this.executeSafely(()=>this.wrappedVisual.getSubSelectablesAsync(u)):this.promiseFactory.resolve(this.getSubSelectables(u))}onDataViewObjectChanged(u,v){if(this.checkInit(),this.visualAdapter.onDataViewObjectChanged)return this.executeSafely(()=>this.wrappedVisual.onDataViewObjectChanged(u,v))}executeSafely(u){try{return u()}catch(v){this.telemetryService&&this.logVisualExceptionEvent(v)}}executeSafelyAsync(u){var v=this;return(0,a.A)(function*(){try{return yield u()}catch(m){v.telemetryService&&v.logVisualExceptionEvent(m)}})()}logVisualExceptionEvent(u){p(u,this.visualPlugin,this.visualName,this.instanceId,this.telemetryService,this.certifiedEventsService)}}function p(l,u,v,m,g,E){var D=!!u?.custom,{version:h,apiVersion:C}=u||{};g.logEvent(t.ir,{visualType:u.name,isCustom:D,apiVersion:C,visualName:v,instanceId:m,isDeprecated:!!u.isDeprecated,source:l.fileName,lineNumber:l.lineNumber,columnNumber:l.columnNumber,message:D?void 0:(0,r.qd)(l),stack:D?void 0:(0,r.lO)(l)}),D&&E?.logStandardizedFeatureEvent({activityAttributes:{apiMajorVersion:C&&(0,c.x6)(C)?.major,apiMinorVersion:C&&(0,c.x6)(C)?.minor,visualMajorVersion:h&&(0,c.x6)(h)?.major,visualMinorVersion:h&&(0,c.x6)(h)?.minor,isDeprecated:!!u?.isDeprecated},activityName:t.jr,activityStatus:i.A.Failed,correlationId:g?.root?.id,visualId:u?.name})}},230788:function(ve,z,e){function a(o){return new r(o)}function i(o){return new t(o)}e.d(z,{E:function(){return i},r:function(){return a}});class r{constructor(d){this.colorPalette={},this.colorIndex=0,this.colors=d}getColor(d){var n=this.colorPalette[d];if(n)return n;var c=this.colors;return n=this.colorPalette[d]=c[this.colorIndex++],this.colorIndex>=c.length&&(this.colorIndex=0),n}reset(){return this.colorIndex=0,this.colorPalette={},this}}class t extends r{constructor(d){var n=d.colorPalette.dataColors;super(n.getAllColors()),this.isHighContrast=d.isHighContrast,this.foreground=d.colorPalette.foreground,this.foregroundLight=d.colorPalette.foregroundLight,this.foregroundDark=d.colorPalette.foregroundDark,this.foregroundNeutralLight=d.colorPalette.foregroundNeutralLight,this.foregroundNeutralDark=d.colorPalette.foregroundNeutralDark,this.foregroundNeutralSecondary=d.colorPalette.foregroundNeutralSecondary,this.foregroundNeutralSecondaryAlt=d.colorPalette.foregroundNeutralSecondaryAlt,this.foregroundNeutralSecondaryAlt2=d.colorPalette.foregroundNeutralSecondaryAlt2,this.foregroundNeutralTertiary=d.colorPalette.foregroundNeutralTertiary,this.foregroundNeutralTertiaryAlt=d.colorPalette.foregroundNeutralTertiaryAlt,this.foregroundSelected=d.colorPalette.foregroundSelected,this.foregroundButton=d.colorPalette.foregroundButton,this.background=d.colorPalette.background,this.backgroundLight=d.colorPalette.backgroundLight,this.backgroundNeutral=d.colorPalette.backgroundNeutral,this.backgroundDark=d.colorPalette.backgroundDark,this.hyperlink=d.colorPalette.hyperlink,this.visitedHyperlink=d.colorPalette.visitedHyperlink,this.mapPushpin=d.colorPalette.mapPushpin,this.shapeStroke=d.colorPalette.shapeStroke;var c=n.getSentimentColors();this.bad=c.bad,this.neutral=c.neutral,this.good=c.good;var s=n.getGradientColors();this.minimum=s.minColor,this.center=s.midColor,this.maximium=s.maxColor,this.null=s.nullColor,this.negative=c.bad,this.positive=c.good,this.selection=d.colorPalette.selection,this.separator=d.colorPalette.separator}}},934087:function(ve,z,e){e.d(z,{Y:function(){return d}});var a=e(291010),i=e(44303),r=e(715068),t=e(371577),o=e(890741);class d{constructor(c,s=!1){this.dataPointObjectName="dataPoint",this.filterPropertyIdentifier={objectName:"general",propertyName:"filter"},this.hostServices=c.hostServices,this.apiVersion=c.apiVersion,this.selectedIds=[],this.promiseFactory=this.hostServices.promiseFactory(),this.noIframe=s}select(c,s=!1){var p=this.promiseFactory.defer();return c?(c instanceof Array||(c=[c]),this.hostServices.shouldRetainSelection()?this.sendSelectionToHost(c,s):(this.selectInternal(c,s),this.sendSelectionToHost(this.selectedIds,s)),p.resolve(this.selectedIds),p.promise):(p.reject(),p.promise)}showContextMenu(c,s,p){var l=this.promiseFactory.defer();return c||(c={}),this.sendContextMenuToHost(c,s,p),l.resolve(null),l.promise}toggleExpandCollapse(c,s){var p=this.promiseFactory.defer();return this.sendExpandCollapseToHost(c,!0===s),p.resolve(null),p.promise}hasSelection(){return this.selectedIds.length>0}clear(){var c=this.promiseFactory.defer();return this.selectedIds=[],this.sendSelectionToHost([]),c.resolve(null),c.promise}getSelectionIds(){return this.selectedIds}setSelectionIds(c){this.selectedIds=c}sendSelectionToHost(c,s){if(this.noIframe||!this.apiVersion||(0,i.lt)(this.apiVersion,"2.0.0")){var p=this.dataPointObjectName,l={type:t.H6.DataPointSelection,visualObjects:_.chain(c).filter(v=>v.hasIdentity()).map(v=>({objectName:p,selectorsByColumn:v.getSelectorsByColumn()})).value(),selectors:void 0,selectionMode:s?r.v.Difference:r.v.Single},u=!1;_.isEmpty(c)||(u=c[0].getSelector()&&!c[0].getSelectorsByColumn()),u&&(l.selectors=_.chain(c).filter(v=>v.hasIdentity()).map(v=>v.getSelector()).value()),this.hostServices.onSelect(l)}else this.hostServices.sendSelectionIdsToHost(this.prepareCustomVisualSelectEventArgs(c,s))}sendContextMenuToHost(c,s,p){c&&s&&this.hostServices.customVisualOnContextMenu({data:[c],position:s,dataRoles:p?[p]:void 0})}sendExpandCollapseToHost(c,s){c&&null!=c.nodeIsCollapsed&&this.hostServices.customVisualOnExpandCollapse({data:c,entireLevel:s})}selectInternal(c,s){c.length<1||(c.length>1?this.selectedIds=s?c.filter(p=>!this.selectedIds.some(l=>l.equals(p))).concat(this.selectedIds.filter(p=>!c.some(l=>l.equals(p)))):c:d.containsSelection(this.selectedIds,c[0])?this.selectedIds=s?this.selectedIds.filter(p=>!c[0].equals(p)):this.selectedIds.length>1?c:[]:s?this.selectedIds.push(c[0]):this.selectedIds=c)}static containsSelection(c,s){return c.some(p=>s.equals(p))}static getSelectorsByColumn(c){return c&&c[0]instanceof a.r?c:_(c).filter(s=>s&&s.hasIdentity).map(s=>s.getSelectorsByColumn()).compact().value()}static createChangeForFilterProperty(c,s){var p={},l={objectName:c.objectName,selector:void 0,properties:p};return null==s?(p[c.propertyName]={},{remove:[l]}):(p[c.propertyName]=s,{merge:[l]})}getFilterFromSelectors(){if(this.hasSelection()){var c=_.chain(this.selectedIds).filter(s=>s.hasIdentity()).map(s=>s.getSelector()).value();return(0,o.ss)(c,!1)}}prepareCustomVisualSelectEventArgs(c,s){var p={selectionIds:[],multiSelect:s};if(c&&c[0]&&(c[0].dataMap||c[0].measures))for(var l of c)p.selectionIds.push(l);return p}applySelectionFilter(){this.hostServices.persistProperties(d.createChangeForFilterProperty(this.filterPropertyIdentifier,this.getFilterFromSelectors()))}registerOnSelectCallback(c){this.onSelectCallback=c}invokeOnSelectCallback(c){_.isFunction(this.onSelectCallback)&&this.onSelectCallback(c)}}},705140:function(ve,z,e){e.d(z,{e:function(){return d},oL:function(){return o},vs:function(){return r}});var a=e(18122),i=e(693029);function r(n){return new t(n)}class t{constructor(c){this.hostServices=c.hostServices,this.telemetryService=this.hostServices&&this.hostServices.telemetry&&this.hostServices.telemetry(),this.instanceId=this.telemetryService&&this.telemetryService.instanceId}trace(c,s){this.telemetryService&&this.telemetryService.trace(c,s)}}function o(n){switch(n){case i.Zf.Error:return"VisualEventError";case i.Zf.Trace:return"VisualEventTrace";case i.Zf.RenderStarted:return"VisualEventRenderStarted";case i.Zf.RenderCompleted:return"VisualEventRenderCompleted";default:return void a.Y.assertFail("Unknown VisualEventType: "+n)}}function d(n){switch(n){case"VisualEventError":return i.Zf.Error;case"VisualEventTrace":return i.Zf.Trace;case"VisualEventRenderStarted":return i.Zf.RenderStarted;case"VisualEventRenderCompleted":return i.Zf.RenderCompleted;default:return void a.Y.assertFail("Unknown VisualEventType: "+n)}}},497760:function(ve,z,e){e.d(z,{N:function(){return i}});var a=e(934087);function i(t){return new r(t)}class r{constructor(o){this.hostServices=o.hostServices,this.tooltipService=this.hostServices.tooltips()}enabled(){return this.tooltipService&&this.tooltipService.enabled()}show(o){if(this.enabled()){var d={coordinates:o.coordinates,dataItems:o.dataItems,isTouchEvent:o.isTouchEvent,identities:a.Y.getSelectorsByColumn(o.identities)};this.tooltipService.show(d)}}move(o){if(this.enabled()){var d={coordinates:o.coordinates,dataItems:o.dataItems,isTouchEvent:o.isTouchEvent,identities:a.Y.getSelectorsByColumn(o.identities)};this.tooltipService.move(d)}}hide(o){this.enabled()&&this.tooltipService.hide(o)}}},521780:function(ve,z,e){e.d(z,{CE:function(){return t},Rr:function(){return r},Tm:function(){return d}});var a=e(18122),i=e(890741);function r(n){var s=null!=n.data||null!=n.selectors,p=_.some(n.visualObjects,l=>l.selectorsByColumn&&l.selectorsByColumn.metadata&&!_.isArray(l.selectorsByColumn.metadata));return s||p}function t(n){var c;if(n.data2)c=n.data2;else{if(n.selectors||n.data)return a.Y.assertFail("A visual is using selectors instead of selectorsByColumn.  Some features may not work as expected."),_.map(n.selectors||n.data,l=>function(n){if(n){var c={};return c[""]=n.data,{dataMap:c,metadata:[n.metadata]}}}(l));if(!n.visualObjects)return[];c=_.map(n.visualObjects,l=>l.selectorsByColumn)}for(var s of c){var p=s.metadata;p&&!_.isArray(p)&&(s.metadata=[p])}return c}function d(n){return null!=n.selectors?n.selectors:n.data?n.data:n.visualObjects?_.map(n.visualObjects,c=>(0,i.j9)(c.selectorsByColumn)):n.data}},97643:function(ve,z,e){e.d(z,{K8:function(){return s},x3:function(){return p}});var a=e(18122),i=e(454840),r=e(839826);var c=window;function s(v){return l(v,window.resourceLoaderUrl||"/explore/resourcePackageItem/",!0===c.resourceLoaderIncludePackageId)}function p(v){var m=v.getAbsoluteUri("/sharedresources");return l(v,m,!1)}function l(v,m,g){return a.Y.assertValue(v,"httpService"),a.Y.assertValue(m,"uri"),a.Y.assertValue(g,"includePackageIdInUri"),new u(v,m,g)}class u{constructor(m,g,E){this.httpService=m,this.uri=g,this.includePackageIdInUri=E}get(m,g,E,D){var h=this.uri;this.includePackageIdInUri&&(h=this.uri+m+"/");var C=i.n4.urlCombine(h,_.map(E.split("/"),f=>encodeURIComponent(f)).join("/")),y=this.httpService.powerbiRequestOptions();return y.timeout=r.bj,y.responseType="text",D&&null!=D.retries&&(y.retryCount=D.retries),this.httpService.get(C,y).then(f=>f.data)}getBlob(m,g,E,D){var h=this.uri;this.includePackageIdInUri&&(h=this.uri+m+"/");var C=i.n4.urlCombine(h,encodeURIComponent(E)),y=this.httpService.powerbiRequestOptions();return y.responseType=i.YQ,D&&null!=D.retries&&(y.retryCount=D.retries),this.httpService.get(C,y).then(f=>f.data)}}},714629:function(ve,z,e){e.d(z,{a:function(){return l}});var a=e(345562),i=e(710834),r=e(705140),t=e(18122),o=e(209971),d=e(534629),n=e(998416),c=e(776346),s=e(693029);function l(m,g,E,D,h,C,y,f,S){return t.Y.assertValue(m,"messageProxy"),new v(m,g,E,D,h,C,y,f,S)}var v=(()=>{class m{constructor(E,D,h,C,y,f,S,b,V=15e3){this.messageProxy=E,this.telemetryService=D,this.certifiedEventsService=h,this.approvedResourcesService=C,this.featureSwitchService=y,this.isDebugVisual=f,this.promiseFactory=S,this.privilegeService=b,this.updateTimeOut=V,this.telemetryEventsPayloadLimit=4096,this.methodQueue=[],this.isSandboxReady=!1,this.isVisualReady=!1,this.telemetryUsageCount=0,t.Y.assertValue(E,"messageProxy"),this.deferredCache={},this.messageProxy.on(o.R,M=>this.onMessageReceived(M)),this.messageProxy.on(o.wA,M=>this.onMessageError(M))}get plugin(){return this._plugin}get isDebug(){return this.isDebugVisual}init(E,D){this.visualDelegate=E,D&&(this._plugin=D,this.isSandboxReady=!0)}setPluginReadyHandler(E){this.pluginReadyHandler=E}logEvent(...E){if(!this.telemetryService)return null;var h,D=E.shift();return h="string"==typeof D?this.getEventFactory(D):D,this.telemetryService.logEvent.apply(this.telemetryService,[h,...E])}logStandardizedFeatureEvent(E){E.correlationId=this.telemetryService.root?.id,this.certifiedEventsService.logStandardizedFeatureEvent(E)}logTimedStandardizedFeatureEvent(E){E.correlationId=this.telemetryService.root?.id,this.certifiedEventsService.logTimedStandardizedFeatureEvent(E)}getEventFactory(E){switch(E){case"VisualEventError":return n.T2;case"VisualEventTrace":return n.MB;case"VisualException":return c.ir;case"VisualEventRenderStarted":return n.Ix;case"VisualEventRenderCompleted":return n.CM;case"VisualApiUsage":return c.o0;default:return void t.Y.assertFail("Unknown eventType: "+E)}}logVisualEvent(...E){var D=this.plugin.name;if(!1!==this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService&&(this.approvedResourcesService.isApprovedResource(D)||this.approvedResourcesService.isTrustedResource(D))){var[h,C,y]=E,f={visualType:D,instanceId:C instanceof Object?C.instanceId:C};y=C instanceof Object?C.payload:y;var S=(0,r.e)(h);switch(S){case s.Zf.RenderStarted:case s.Zf.RenderCompleted:if(!this.featureSwitchService.featureSwitches.customVisualsPerformanceTelemetry)return;y="";break;case s.Zf.Trace:case s.Zf.Error:var b=this.approvedResourcesService.getTelemetryUsageLimit(D);if(this.telemetryUsageCount>=b)return;this.telemetryUsageCount++,this.telemetryUsageCount===b&&this.telemetryService.logEvent(n.sf,f),y=y?y.substring(0,this.telemetryEventsPayloadLimit):"";break;default:return void t.Y.assertFail("Invalid visual event type: "+S)}return this.logEvent.apply(this,[h,{...f,payload:y}])}}ready(E){t.Y.assertValue(E,"proxyInitOptions"),this.contentWindow=E,this.messageProxy.contentWindow=E,this.isSandboxReady&&this.flushCallStack(),this.messageProxy.flushQueue(),this.isVisualReady=!0}update(E){if((this.featureSwitchService.featureSwitches.cvAssumeAsyncUpdate||this.approvedResourcesService.canManageAsyncUpdate(this.plugin.name))&&E.updateId){var h=this.promiseFactory.defer();this.deferredCache[E.updateId]=h;var C=setTimeout(()=>{h.resolve(null),this.telemetryService.logEvent(n.LV,{visualType:this.plugin.name,timeOut:this.updateTimeOut,parentId:this.telemetryService.root.id})},this.updateTimeOut);E.updateCallBack=()=>h.resolve(null);var y=this.invoke("update",[E]);return y&&y.catch(f=>h.reject(f)),h.promise.catch(f=>f).finally(()=>{clearTimeout(C),E.updateId&&delete this.deferredCache[E.updateId]}),h.promise}return this.invoke("update",[E]),Promise.resolve(void 0)}invoke(E,D){if(t.Y.assertValue(E,"eventName"),this.isSandboxReady)return this.execute(E,D);this.methodQueue.push({methodName:E,arguments:D})}postMessage(E,D){this.messageProxy.postMessage({eventName:E,arguments:D})}postMessageAsync(E,D){return this.messageProxy.postMessageAsync({eventName:E,arguments:D})}onPluginReady(){this.pluginReadyHandler&&this.pluginReadyHandler(),!this.isSandboxReady&&(this.flushCallStack(),this.isSandboxReady=!0)}destroy(){this.messageProxy.off(o.R),this.messageProxy.off(o.wA),this.messageProxy.destroy(),this.contentWindow=null}execute(E,D){if(_.isFunction(this.visualDelegate[E]))return this.visualDelegate[E].apply(this.visualDelegate,D);this.postMessage(E,D)}flushCallStack(){for(;this.methodQueue.length>0;){var E=this.methodQueue.shift();this.execute(E.methodName,E.arguments)}this.isVisualReady&&this.messageProxy.flushQueue()}onMessageReceived(E){if(this.validateMessageSource(E)){var D=()=>{this.telemetryService.logEvent(n.ud,{visualType:this._plugin.name,environment:this.visualDelegate.getHostEnvString(),privilege:"postMessage",status:"Rejected",parameters:E.message.eventName})},h=this[E.message.eventName];if("function"==typeof h)return h.approvedMessage?h.apply(this,E.message.arguments):D();if(this.visualDelegate)return"function"==typeof(h=this.visualDelegate[E.message.eventName])&&h.approvedMessage?h.apply(this.visualDelegate,E.message.arguments):D()}}onMessageError(E){this.validateMessageSource(E)&&E.message&&E.message.error&&!_.isEqual(E.message,this.lastErrorMessage)&&(this.telemetryService.logEvent(c.z9,{visualName:this._plugin.name,debugErrorInfo:E.message.error.eventName+";"+E.message.error.message}),this.lastErrorMessage=_.cloneDeep(E.message))}refreshHostData(){(this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canRefreshHostData(this.plugin.name))&&this.visualDelegate.refreshHostData()}getResourceUrl(E){var D=(0,d.wF)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(D)?this.visualDelegate.getResourceUrl(D,E):this.postMessage("handleGetResourceUrlResult",[{payload:"Visual ["+D+"] is not authorized.",isError:!0,promiseId:E}])}getAADAuthenticationToken(E){var D=(0,d.wF)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(D)?this.visualDelegate.getAADAuthenticationToken(D,E):this.postMessage("handleGetAADAuthenticationTokenResult",[{payload:"Visual ["+D+"] is not authorized.",isError:!0,promiseId:E}])}getAADToken(E){var D=(0,d.wF)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(D)?this.visualDelegate.getAADToken(D,E):this.postMessage("handleGetAADTokenResult",[{payload:"Visual ["+D+"] is not authorized.",isError:!0,promiseId:E}])}getWACToken(E){var D=(0,d.wF)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetWACToken(D)?this.visualDelegate.getWACToken(E.resourceSiteUrl,E.resourceEtag,D,E.promiseId):this.postMessage("handleGetWACTokenResult",[{payload:"Visual ["+D+"] is not authorized.",isError:!0,promiseId:E.promiseId}])}renderingStarted(E,D){this.renderEventStartTime=(new Date).toISOString(),this.telemetryService.logEvent(n.ou,{visualType:this.plugin.name,instanceId:E,start:this.renderEventStartTime,end:this.renderEventStartTime,parentId:this.telemetryService.root.id})}renderingFinished(E,D){if(this.deferredCache[D]&&this.deferredCache[D].resolve(null),void 0!==this.renderEventStartTime){var h=(new Date).toISOString();this.telemetryService.logEvent(n.mv,{visualType:this.plugin.name,instanceId:E,start:this.renderEventStartTime,end:h,parentId:this.telemetryService.root.id}),this.renderEventStartTime=void 0}}renderingFailed(E,D,h){this.deferredCache[D]&&this.deferredCache[D].reject(h),void 0!==this.renderEventStartTime&&(this.telemetryService.logEvent(n.Qz,{visualType:this.plugin.name,instanceId:E,parentId:this.telemetryService.root.id}),this.renderEventStartTime=void 0)}getWebAccessStatus(E,D){var h=this.privilegeService.getWebAccessStatus(this.plugin,E);this.postMessage("handleGetWebAccessStatus",[{promiseId:D,status:h}])}validateMessageSource(E){return!!this.featureSwitchService.featureSwitches.cvMessageChannel||!!E.source&&!!this.contentWindow&&this.contentWindow===E.source}}return(0,a.__decorate)([(0,i.HJ)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",Object)],m.prototype,"logEvent",null),(0,a.__decorate)([(0,i.HJ)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],m.prototype,"logStandardizedFeatureEvent",null),(0,a.__decorate)([(0,i.HJ)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],m.prototype,"logTimedStandardizedFeatureEvent",null),(0,a.__decorate)([(0,i.HJ)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",Object)],m.prototype,"logVisualEvent",null),(0,a.__decorate)([(0,i.HJ)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[]),(0,a.__metadata)("design:returntype",void 0)],m.prototype,"onPluginReady",null),(0,a.__decorate)([(0,i.HJ)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[]),(0,a.__metadata)("design:returntype",void 0)],m.prototype,"refreshHostData",null),(0,a.__decorate)([(0,i.HJ)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Number]),(0,a.__metadata)("design:returntype",void 0)],m.prototype,"getResourceUrl",null),(0,a.__decorate)([(0,i.HJ)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Number]),(0,a.__metadata)("design:returntype",void 0)],m.prototype,"getAADAuthenticationToken",null),(0,a.__decorate)([(0,i.HJ)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Number]),(0,a.__metadata)("design:returntype",void 0)],m.prototype,"getAADToken",null),(0,a.__decorate)([(0,i.HJ)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],m.prototype,"getWACToken",null),(0,a.__decorate)([(0,i.HJ)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[String,String]),(0,a.__metadata)("design:returntype",void 0)],m.prototype,"renderingStarted",null),(0,a.__decorate)([(0,i.HJ)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[String,String]),(0,a.__metadata)("design:returntype",void 0)],m.prototype,"renderingFinished",null),(0,a.__decorate)([(0,i.HJ)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[String,String,String]),(0,a.__metadata)("design:returntype",void 0)],m.prototype,"renderingFailed",null),(0,a.__decorate)([(0,i.HJ)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[String,Number]),(0,a.__metadata)("design:returntype",void 0)],m.prototype,"getWebAccessStatus",null),m})()},297034:function(ve,z,e){e.d(z,{b:function(){return i}});var a=e(233390);function i(){return new r}class r{constructor(){this.suppressAnimations=!1}deferRenderOperation(o,d){return(0,a.A)(function*(){var n=$.Deferred();return setTimeout(()=>{d(),n.resolve()}),n.promise()})()}clearOperationsQueue(){}}},844015:function(ve,z,e){e.d(z,{o:function(){return o}});var a=e(431575),i=e(18122),r=e(725919),t=e(710834),o=(c,s)=>{i.Y.assertValue(c,"options");var p=c.promiseFactory.defer(s),l=c.visualPlugin;if(c.visualSandbox&&function(c){var s=c.visualPlugin,p=c.featureSwitches||{},l=c.approvedResourceService;return!!s&&(!!(c.approvedResourceService&&c.approvedResourceService.isTrustedResource&&c.approvedResourceService.isTrustedResource(s.name))||!(!(0,r.g4)(s)||!p.approvedResourcesDisabled&&!s.apiVersion&&l&&l.isApprovedResource(s.name))&&p.sandboxVisualsEnabled)}(c)){var u=c.visualSandbox.getVisualPlugin(l,c.telemetryService,c.isDebugVisual);u.createES6?u.createES6().then(v=>p.resolve(v)):u.create?p.resolve((0,t.Un)(u.create(),c.run)):p.reject("either create or createES6 must be defined")}else l.module?l.createES6&&!l.module.css?p.resolve((0,t.I2)(l,l.create,c.promiseFactory,c.telemetryService,void 0,c.run,c.certifiedEventsService)):c.moduleLoader.require({javascript:l.createES6?void 0:l.module.javascript,css:l.module.css}).then(v=>p.resolve((0,t.I2)(l,l.create,c.promiseFactory,c.telemetryService,v,c.run,c.certifiedEventsService)),v=>p.reject(v)):p.resolve((0,t.I2)(l,l.create,c.promiseFactory,c.telemetryService,void 0,c.run,c.certifiedEventsService));return(0,a.L)(p)}},905772:function(ve,z,e){e.d(z,{z:function(){return t}});var a=e(390552),i=e(20593),r=e(998416);function t(d,n,c){return new o(d,n,c)}class o{constructor(n,c,s){this.telemetryService=n,this.visualPlugin=c,this.localizationService=s}logWarnings(n,c){if(!_.isEmpty(n))for(var s of n)s instanceof a.E&&this.logDsrLimitsWarning(s,c)}logDsrLimitsWarning(n,c){var v,m,g,s=n.limits,p=n.getDetails(this.localizationService).message,l=n.code,u=c.type;s.Primary&&(v=this.getLimitString(n.limits.Primary)),s.Secondary&&(m=this.getLimitString(n.limits.Secondary)),s.Intersection&&(g=this.getLimitString(n.limits.Intersection));var E=c.dataViews,D=c&&c.data&&c.data.isFirstSegment,h=D||_.some(E,O=>O&&O.metadata&&O.metadata.segment);if(!h||!1!==D)for(var C of E)if(C&&C.categorical){var y=_.head(C.categorical.categories),f=0;y&&(f=y.values&&y.values.length||0);var S=C.categorical.values&&C.categorical.values.grouped(),b=S&&S.length||0,V=!(!C.categorical.values||!C.categorical.values.source),M=this.visualPlugin.capabilities(c.type),P=M&&M.drilldown&&_.head(M.drilldown.roles),T=!1,N=c.dataTransforms;P&&N&&(T=_.filter(N.selects,O=>O.roles&&O.roles[P]).length>1);var w=void 0,I=this.visualPlugin.getPlugin(c.type);I&&I.getAdditionalTelemetry&&(w=JSON.stringify(I.getAdditionalTelemetry(C))),this.telemetryService.logEvent(r.Ai,{errorCode:l,targetVisualType:u,primaryDataReduction:v,secondaryDataReduction:m,intersectionDataReduction:g,primaryCount:f,secondaryCount:b,hasCategoryHierarchy:T,hasDynamicSeries:V,visualTelemetry:w,isSegmented:h,message:p})}}getLimitString(n){switch(n.Type){case i.gT.Top:return"Top:"+n.Count;case i.gT.Bottom:return"Bottom:"+n.Count;case i.gT.Sample:return"Sample:"+n.Count}}}},998416:function(ve,z,e){e.d(z,{Ai:function(){return te},BH:function(){return q},C9:function(){return W},CM:function(){return d},D:function(){return Y},E3:function(){return A},HI:function(){return F},IJ:function(){return X},Ix:function(){return t},LV:function(){return m},MB:function(){return E},MT:function(){return R},Nt:function(){return w},Ow:function(){return T},Qz:function(){return u},T2:function(){return h},TM:function(){return U},Wm:function(){return I},YK:function(){return V},ZY:function(){return S},at:function(){return i},fu:function(){return x},is:function(){return Q},mv:function(){return p},ou:function(){return c},p3:function(){return B},qi:function(){return P},r6:function(){return G},sf:function(){return y},ud:function(){return k},z9:function(){return N}});var a=e(285264),i=function(ee){return ee.PublishToWeb="PublishToWeb",ee.ReportServer="ReportServer",ee.ExportAPI="ExportAPI",ee.PaaSEmbed="PaaSEmbed",ee.FSDisabled="FSDisabled",ee}({}),r="PBI.VisualEvent.RenderStarted",t=a.Xi[r]=(0,a.Vp)(r),o="PBI.VisualEvent.RenderCompleted",d=a.Xi[o]=(0,a.Vp)(o),n="PBI.VisualEvent.RenderingStarted",c=a.Xi[n]=(0,a.Vp)(n),s="PBI.VisualEvent.RenderingCompleted",p=a.Xi[s]=(0,a.Vp)(s),l="PBI.VisualEvent.RenderingFailed",u=a.Xi[l]=(0,a.Vp)(l),v="PBI.VisualEvent.UpdateTimeOut",m=a.Xi[v]=(0,a.Vp)(v),g="PBI.VisualEvent.Trace",E=a.Xi[g]=(0,a.Vp)(g),D="PBI.VisualEvent.Error",h=a.Xi[D]=(0,a.Vp)(D),C="PBI.VisualEvent.ReachedTelemetryUsageLimit",y=a.Xi[C]=(0,a.Vp)(C),f="PBI.VisualEvent.LaunchURL",S=a.Xi[f]=(0,a.Vp)(f),b="PBI.VisualEvent.DownloadContentValidationFailed",V=a.Xi[b]=(0,a.Vp)(b),M="PBI.VisualEvent.DownloadContent",P=a.Xi[M]=(0,a.Vp)(M),T="PBI.VisualEvent.GetAvailableServicePlans",N=a.Xi[T]=(0,a.Vp)(T),w="PBI.VisualEvent.LicenseIsUnsupportedEnv",I=a.Xi[w]=(0,a.Vp)(w),O="PBI.VisualEvent.LicenseServiceIsUndefined",x=a.Xi[O]=(0,a.Vp)(O),j="PBI.VisualEvent.ServicePlansResponseIsUndefined",U=a.Xi[j]=(0,a.Vp)(j),F="PBI.VisualEvent.NotifyLicenseRequired",R=a.Xi[F]=(0,a.Vp)(F),B="PBI.VisualEvent.ClearLicenseNotification",A=a.Xi[B]=(0,a.Vp)(B),W="PBI.VisualEvent.NotifyLicenseFeatureBlocked",G=a.Xi[W]=(0,a.Vp)(W),K="PBI.VisualEvent.Privileges",q=a.Xi[K]=(0,a.Vp)(K),ne="PBI.VisualEvent.Privileges.Violation",k=a.Xi[ne]=(0,a.Vp)(ne),L="PBI.VisualEvent.ExternalMigration.UndefinedGet",X=a.Xi[L]=(0,a.Vp)(L),Y="PBI.VisualEvent.CapabilitiesTelemetry",Q=a.Xi[Y]=(0,a.Vp)(Y),H="PBI.DsrDataLimitsWarning",te=a.Xi[H]=(0,a.Vp)(H)},933729:function(ve,z,e){e.d(z,{T:function(){return n}});var a=e(709190),i=e(944419),r=e(18122),t=e(223431),o=e(92644),d=e(332603);class n{static cloneThemeCollection(s){return _.clone(s)}static loadHighContrastTheme(s,p,l,u,v){return v&&!l.isThemeLoaded(v)?n.loadTheme(a.X.SharedResources,s,p,l,u,v):s.resolve()}static loadThemeAndBaseTheme(s,p,l,u,v){try{var m=[],g=v.customTheme,E=v.baseTheme&&v.baseTheme.name;g&&g.name&&!l.isThemeLoaded(g.name)&&m.push(n.loadTheme(v.customTheme.type,s,p,l,u,g.name,g.version,!0)),E&&!l.isThemeLoaded(E)&&m.push(n.loadTheme(v.baseTheme.type,s,p,l,u,E));var D=s.defer();return s.all(m).finally(()=>{var h=!0;g&&g.name&&!l.isThemeLoaded(g.name)&&(h=!1,t.Cn.error("Error loading custom theme",!1)),E&&!l.isThemeLoaded(E)&&(h=!1,t.Cn.error("Error loading base theme",!1)),D.resolve(h)}),D.promise}catch(h){return t.Cn.error(`Error loading report theme - ${n.getLoadError(h)}`),s.resolve(!1)}}static loadTheme(s,p,l,u,v,m,g,E){return r.Y.assert(()=>s===a.X.RegisteredResources||s===a.X.SharedResources,"resource type should either be registered or shared"),s===a.X.RegisteredResources?n.loadRegisteredResourceTheme(p,l,u,v,m,g):s===a.X.SharedResources?n.loadSharedResourceTheme(m,v,u,l,p,g,E):void 0}static getLoadError(s){return(0,d.Ae)(s)}static loadRegisteredResourceTheme(s,p,l,u,v,m){return(0,d.OM)(s,p,u,v).then(g=>{n.resolveLoadedTheme(v,g,l,m)}).catch(g=>{t.Cn.error(`Error loading theme - ${n.getLoadError(g)}`)})}static loadSharedResourceTheme(s,p,l,u,v,m,g){return(0,d.qF)(p,{packageType:a.X.SharedResources,itemName:s},u,v,{itemTypeFromReference:g?o.gH.CustomTheme:o.gH.BaseTheme}).then(E=>{n.resolveLoadedTheme(s,E,l,m)}).catch(E=>{t.Cn.error(`Error loading base theme ${s} - ${n.getLoadError(E)}`)})}static resolveLoadedTheme(s,p,l,u){if(!l.isThemeLoaded(s)){var v=(0,i.G)(p);r.Y.assertValue(v,"ThemeUtils.resolveLoadedTheme - The loaded theme is invalid."),v&&l.addCustomTheme(s,v,u)}}}},465436:function(ve,z,e){e.d(z,{o:function(){return Pt}});var a=e(44303),i=e(18122),r=e(693029),t=e(573740),o=e(710834),d=e(960417),n=e(464714),c=e(392601),s=e(371577),p=e(96673),l=e(934087);class u{constructor(_e,ke,dt){this.powerbiHost=_e,this.visualHostTooltipService=dt,this.tooltipService=new v(ke,this.visualHostTooltipService)}onSelecting(_e){_e.action=r.Ii.Selection}onSelect(_e){this.powerbiHost&&this.powerbiHost.onSelect(_e)}persistProperties(_e){this.powerbiHost&&this.powerbiHost.persistProperties(_e)}tooltips(){return this.visualHostTooltipService}applyJsonFilter(_e,ke,dt,xt){this.powerbiHost.applyJsonFilter(_e,ke,dt,xt)}applyIdentityFilter(_e,ke,dt,xt){this.powerbiHost.applyIdentityFilter(_e,ke,dt,xt)}getJSONFilter(_e,ke){return this.promiseFactory().reject()}createSelectionIdBuilder(){return new t.tJ}createTooltipService(){return this.tooltipService}createSelectionManager(_e){return new l.Y({hostServices:this,apiVersion:_e},!0)}getLocalizedString(_e){return null}locale(){return navigator.language}loader(){return{require:()=>this.promiseFactory().reject()}}onSwitchFocusModeState(_e){this.powerbiHost&&this.powerbiHost.onSwitchFocusModeState(_e)}onDisplayWarningIcon(_e,ke){if(this.powerbiHost){var Ht=p.EK,dr=new n.G(p.oX,_e.substr(0,p.AA),ke.substr(0,Ht));this.powerbiHost.setWarnings([dr])}}loadMoreData(){}loadWindow(_e){}setShouldDeferData(){}fetchMoreData(_e){return!0}launchUrl(_e){}destroy(){}refreshHostData(){}onContextMenu(){}authenticationService(){return null}telemetry(){return null}localStorageService(){return null}eventService(){return null}licenseManagerService(){return null}acquireAADTokenService(){return null}visualTimeSynchronization(){return null}alertScreenReader(_e){}alertWithDebounce(_e,ke){}requestFocus(){}onDragStart(){}getVisualLinkProperties(){}canSelect(){return!1}canExpandCollapse(){return!1}setNodeExpansionState(_e){}setLevelExpansionState(_e){}setCanDrill(_e){}onCustomSort(_e){}getViewMode(){return r.nE.View}getEditMode(){return r.WF.Default}setWarnings(_e){}getWarnings$(){}setToolbar(_e){}shouldRetainSelection(){return!1}geocoder(){return(0,d.NH)()}geolocation(){i.Y.assertFail("Not being used anywhere")}promiseFactory(){return(0,c.C)()}ignoreDefaultFilter(){return!1}drill(_e){}getIdentityDisplayNames(_e){}setIdentityDisplayNames(_e){}setFilterExpressionMetadata(){}getFilterExpressionMetadata(){}getUIComponentFactory(){}onHyperlinkClick(_e,ke){}isVisualEnabled(){return this.promiseFactory().resolve(!0)}isVisualLoading(){return this.promiseFactory().resolve(!1)}dataMultiSelectMode(){return s.fv.Single}dropdown(){}networkAvailability(){}downloadService(){}setAriaMetadata(_e){}artifactService(){}getSectionsMetadata$(){}getBookmarksMetadata$(){}onNotifyLicense(_e){}onClearLicenseNotification(){}onNotifyFeatureBlocked(_e){}getSubSelectionService(){}webAccessService(){}getAzureMapToken(){}azureMapsEndpoint(){}geocoderIndexedDB(){}triggerUpdate(){}azureMapsHostEnvironment(){return{isPublishToWebHost:!1,isScreenshotExportHost:!1}}localStorageV2Service(){return null}dateTimeFormatService(){}visualExportService(){}visualHostSubSelectionService(){return null}annotations(){}enableLoadMoreData(_e){}}class v{constructor(_e,ke){i.Y.assert(()=>!!ke,"visualHostTooltip should be defined"),this.tooltipService=ke,this.element=_e}enabled(){return this.tooltipService&&this.tooltipService.enabled()}show(_e){if(this.enabled()){var ke={coordinates:this.fixCoordinates(_e.coordinates),dataItems:_e.dataItems,isTouchEvent:_e.isTouchEvent,identities:l.Y.getSelectorsByColumn(_e.identities)};this.tooltipService.show(ke)}}move(_e){if(this.enabled()){var ke={coordinates:this.fixCoordinates(_e.coordinates),dataItems:_e.dataItems,isTouchEvent:_e.isTouchEvent,identities:l.Y.getSelectorsByColumn(_e.identities)};this.tooltipService.move(ke)}}hide(_e){this.enabled()&&this.tooltipService.hide(_e)}fixCoordinates(_e){var ke=this.element.offset();return _e[0]=_e[0]+ke.left,_e[1]=_e[1]+ke.top,_e}}var g=e(233390),E=e(345562),h=(e(516048),e(21756)),C=e(776766),y=e(719763),f=e(913729),S=e(865429);class V{constructor(_e){this.windowMessageProxy=_e}logStandardizedFeatureEvent(_e){this.windowMessageProxy.postMessage({eventName:"logStandardizedFeatureEvent",arguments:[_e]})}logTimedStandardizedFeatureEvent(_e){this.windowMessageProxy.postMessage({eventName:"logTimedStandardizedFeatureEvent",arguments:[_e]})}startTimedStandardizedFeatureEvent(_e){return new M(this,_e)}}class M{constructor(_e,ke){this.certifiedEventsService=_e,this.event=_.cloneDeep(ke),this.event.operationStartTime=(0,S.t)()}setAttributes(_e){this.event.activityAttributes={..._e}}setAttribute(_e,ke){this.event.activityAttributes[_e]=ke}getAttributes(){return this.event.activityAttributes}complete(_e,ke){this.event.resultCode=ke,this.event.activityStatus=_e,this.event.operationEndTime=(0,S.t)(),this.certifiedEventsService.logTimedStandardizedFeatureEvent(this.event)}}var P=e(776346);class I{constructor(_e){this.windowMessageProxy=_e}getOpenActivityById(_e){}suspend(){}resume(){}flush(){}restart(){}stopActivity(_e,ke,dt){}startPerfEventDeprecated(_e,ke,...dt){return new O({info:{}})}logEvent(_e,ke){return i.Y.assert(()=>!_.isArray(ke),"Parameters has to be an object and instance of some telemetry factory arguments"),_e===P.o0?this.windowMessageProxy.postMessageAsync({eventName:"logEvent",arguments:["VisualApiUsage",ke]}):_e===P.ir?this.windowMessageProxy.postMessageAsync({eventName:"logEvent",arguments:["VisualException",ke]}):i.Y.assertFail("Unknown eventFactory name ["+_e+"]: sandboxTelemetryProxyService.ts#logEvent"),null}logTelemetryData(_e,ke,dt){return null}logChildEvent(_e,ke,...dt){}startActivity(_e,ke,...dt){return new O({info:{}})}startChildActivity(_e,ke,...dt){}startEvent(_e,...ke){return new O({info:{}})}startMonitoredActivity(_e,ke,dt){var Ht={info:{}};return{activityEvent:Ht,activityDeferred:new O(Ht)}}startChildEvent(_e,ke,...dt){return new O({info:{}})}logTrace(_e){}get sessionId(){}get appInstanceId(){}get root(){}setHostInfo(_e,ke){}getHostData(){}setExpAssignmentContext(_e){}}class O{constructor(_e){i.Y.assertValue(_e,"event"),this.event=_e,this.promise=new Promise((ke,dt)=>{this.onResolve=ke,this.onReject=dt})}resolve(){this.isEnded=!0,this.onResolve()}cancel(_e){return _e?this.resolve():this.reject({isCancelled:!0,errorCode:"non-ignorable cancellation of deferred telemety event"})}reject(_e){this.isEnded=!0,this.onReject()}isActive(){return!this.isEnded}}class j{constructor(){}getOpenActivityById(_e){}suspend(){}resume(){}flush(){}restart(){}stopActivity(_e,ke,dt){}startPerfEventDeprecated(_e,ke,...dt){return new O({info:{}})}logEvent(_e,...ke){return null}logTelemetryData(_e,ke,dt){return null}logChildEvent(_e,ke,...dt){}startActivity(_e,ke,...dt){return new O({info:{}})}startChildActivity(_e,ke,...dt){}startEvent(_e,...ke){return new O({info:{}})}startMonitoredActivity(_e,ke,dt){var Ht={info:{}};return{activityEvent:Ht,activityDeferred:new O(Ht)}}startChildEvent(_e,ke,...dt){return new O({info:{}})}logTrace(_e){}get sessionId(){}get appInstanceId(){}get root(){}setHostInfo(_e,ke){}getHostData(){}setExpAssignmentContext(_e){}}var U=e(291010),F=e(886334),R=e(95006),B=e(333129),A=e(427870),W=e(325818),G=e(482458),K=e(30918),q=e(92644),ne=e(590801),k=e(219712),L=e(464472),X=e(209971),Y=e(708599);function Q(){var nt=(0,c.C)(),ke={messageProxy:(0,L.Ev)(nt,window.parent),promiseFactory:nt,resourceProvider:{get:dt=>dt,getOptional:dt=>dt,format:dt=>dt}};return new H(ke)}class H{constructor(_e){i.Y.assertValue(_e.messageProxy,"messageProxy"),i.Y.assertValue(_e.promiseFactory,"promiseFactory"),this.messageProxy=_e.messageProxy,this.promiseFactory=_e.promiseFactory,this.resourceProvider=_e.resourceProvider,this.messageProxy.on(X.R,ke=>this.onMessageReceived(ke)),this.hostOrigin=new URL(window.location.href).origin}onMessageReceived(_e){if(_e.source===parent&&_e.origin===this.hostOrigin&&"loadVisualPluginWithContent"===_e.message.eventName)return this.loadVisualPluginWithContent.apply(this,_e.message.arguments)}loadVisualPluginWithContent(_e){var ke=this.promiseFactory.defer(),dt=_e.pluginName,xt=_e.mappedPluginContent,Ht=xt[q.gH.CustomVisualJavascript].content,dr=xt[q.gH.CustomVisualsCss].content;try{(0,ne.Sh)(dt,Ht),(0,ne.iz)(dt,dr);var Sr=K.q[dt];Sr.iconUrl=(0,k.s)(dt),Sr.content={js:Ht,css:dr,iconBase64:Sr.iconUrl},(0,Y.s)(Sr),Sr.capabilities.objects=(0,G.lK)(Sr.capabilities.objects,this.resourceProvider),ke.resolve(Sr)}catch(fr){ke.reject(fr)}return ke.promise}}function te(){if(!ee){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var nt=Q;window.powerbi.visualSandbox.createResourceLoaderHost=()=>nt(),ee=!0}}var ee=!1;te();var ue=e(761297),Te=e(788714),He=e(501285),We=e(999904),ft=e(341838),mt=e(476271),At=e(266092),Qe=e(358719),Fe=e(158649),ye=e(757406),we=e(639132),Ee=e(914348),Oe=e(870934),he=e(350410),xe=e(893613),Se=e(677792);function Ae(){return window.powerbi||(window.powerbi={}),window.powerbi}var Ge=e(230788),De=e(890741),lt=e(153484),ct=function(nt){return nt[nt.merge=0]="merge",nt[nt.remove=1]="remove",nt}({});var It=new Set(["powerbi.bab","powerbi.common.cultureInfo","powerbi.common.formattingLocale","powerbi.data.DataViewScopeIdentity","powerbi.ExtendedType","powerbi.extensibility.data","powerbi.extensibility.utils.axisType","powerbi.extensibility.utils.CartesianHelper","powerbi.extensibility.utils.chart.dataLabel","powerbi.extensibility.utils.chart.legend","powerbi.extensibility.utils.chart","powerbi.extensibility.utils.color","powerbi.extensibility.utils.ColumnUtil","powerbi.extensibility.utils.dataview.converterHelper","powerbi.extensibility.utils.dataview.DataRoleHelper","powerbi.extensibility.utils.dataview.DataViewObject","powerbi.extensibility.utils.dataview.DataViewObjects","powerbi.extensibility.utils.dataview.validationHelper","powerbi.extensibility.utils.dataview","powerbi.extensibility.utils.filter","powerbi.extensibility.utils.formatting.DateTimeUnit","powerbi.extensibility.utils.formatting.dateUtils","powerbi.extensibility.utils.formatting.DisplayUnitSystemType","powerbi.extensibility.utils.formatting.font","powerbi.extensibility.utils.formatting.numberFormat","powerbi.extensibility.utils.formatting.stringExtensions","powerbi.extensibility.utils.formatting.textMeasurementService","powerbi.extensibility.utils.formatting.TextProperties","powerbi.extensibility.utils.formatting.textUtil","powerbi.extensibility.utils.formatting.valueFormatter","powerbi.extensibility.utils.formatting.wordBreaker","powerbi.extensibility.utils.formatting","powerbi.extensibility.utils.interactivity.interactivityUtils","powerbi.extensibility.utils.interactivity","powerbi.extensibility.utils.MessageBox","powerbi.extensibility.utils.objects","powerbi.extensibility.utils.parser","powerbi.extensibility.utils.selection","powerbi.extensibility.utils.svg.CssConstants","powerbi.extensibility.utils.svg.shapes","powerbi.extensibility.utils.svg.touch","powerbi.extensibility.utils.svg","powerbi.extensibility.utils.telemetry","powerbi.extensibility.utils.test.dataViewBuilder","powerbi.extensibility.utils.test.helpers","powerbi.extensibility.utils.test.mocks","powerbi.extensibility.utils.test","powerbi.extensibility.utils.tooltip","powerbi.extensibility.utils.type.ArrayExtensions","powerbi.extensibility.utils.type.EnumExtensions","powerbi.extensibility.utils.type.ExtendedType","powerbi.extensibility.utils.type.JsonComparer","powerbi.extensibility.utils.type.LogicExtensions","powerbi.extensibility.utils.type.PixelConverter","powerbi.extensibility.utils.type.PrimitiveType","powerbi.extensibility.utils.type.Prototype","powerbi.extensibility.utils.type.RegExpExtensions","powerbi.extensibility.utils.type.StringExtensions","powerbi.extensibility.utils.type.TextSizeDefaults","powerbi.extensibility.utils.type.ValueUtil","powerbi.extensibility.utils.type","powerbi.extensibility.utils.yAxisPosition","powerbi.extensibility.utils","powerbi.extensibility.visual.Color","powerbi.extensibility.visual.FormatUtils","powerbi.extensibility.visual.LinkColorType","powerbi.extensibility.visual.LinkType","powerbi.extensibility.visual.Month","powerbi.extensibility.visual.PositionType","powerbi.extensibility.visual","powerbi.extensibility.visualApiVersions","powerbi.extensibility.VisualPlugin","powerbi.extensibility","powerbi.FilterAction","powerbi.formattingService._currentCulture","powerbi.formattingService._currentCultureSelector","powerbi.PrivilegeStatus","powerbi.reportServerHost","powerbi.SelectionIdBuilder","powerbi.session.userInfo","powerbi.session","powerbi.SortDirection","powerbi.VisualEventType","powerbi.VisualObjectInstance","powerbi.VisualObjectInstanceEnumerationObject","powerbi.visuals.DataEntrySlicers.Slicers.Page","powerbi.visuals.DataEntrySlicers.Slicers.URL","powerbi.visuals.DataEntrySlicers.Slicers","powerbi.visuals.DataEntrySlicers","powerbi.visuals.dataLabelUtils","powerbi.visuals.DateUtil","powerbi.visuals.DonutChart","powerbi.visuals.DonutChartWebBehavior","powerbi.visuals.filter","powerbi.visuals.plugins.debugVisual","powerbi.visuals.plugins","powerbi.visuals.SelectionIdBuilder","powerbi.visuals.valueFormatter","powerbi.VisualUpdateType.36"]);function de(nt,_e){var ke={get:(dt,xt)=>{var Ht=dt[xt],dr=`${nt}.${xt.toString()}`;return void 0===Ht?It.has(dr)||(function(nt){var ke=JSON.stringify({eventName:"onGlobalUndefinedGet",arguments:[nt]});window.parent.postMessage(ke,"*")}(dr),It.add(dr)):Ht&&"object"==typeof Ht&&_e>0&&(Ht=new Proxy(Ht,de(dr,_e-1))),Ht},set:(dt,xt,Ht)=>(dt[xt]=Ht,!0)};return ke}function Ye(){var nt;window.powerbi=(nt=(0,He.N0)(),new Proxy(nt,de("powerbi",3)))}var ut=e(675518),et=e(146066),le=e(988045),me=e(698244),Be=e(703428),Ke=e(275095),Xe=e(497760),re=e(521780);class ae{constructor(_e,ke,dt){this.messageProxy=_e,this.promiseFactory=ke,this.sandboxPromiseHandler=dt}acquireAADToken(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"acquireAADToken",arguments:[_e.id]}),_e.deferred.promise}getAcquireAADTokenStatus(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAcquireAADTokenStatus",arguments:[_e.id]}),_e.deferred.promise}}class ot{constructor(_e,ke,dt){i.Y.assertValue(_e,"messageProxy"),i.Y.assertValue(ke,"promiseFactory"),this.messageProxy=_e,this.promiseFactory=ke,this.sandboxPromiseHandler=dt}getResourceUrl(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getResourceUrl",arguments:[_e.id]}),_e.deferred.promise}getAADAuthenticationToken(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAADAuthenticationToken",arguments:[_e.id]}),_e.deferred.promise}getAADToken(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAADToken",arguments:[_e.id]}),_e.deferred.promise}getWACToken(_e,ke){var dt=this.sandboxPromiseHandler.CreatePromise2(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getWACToken",arguments:[{resourceEtag:ke,resourceSiteUrl:_e,promiseId:dt.id}]}),dt.deferred.promise}getSignedInAccessToken(){return this.promiseFactory.reject()}getClusterInfo(){return this.promiseFactory.reject()}}class Re{constructor(_e,ke,dt){i.Y.assertValue(_e,"messageProxy"),i.Y.assertValue(ke,"promiseFactory"),this.messageProxy=_e,this.promiseFactory=ke,this.sandboxPromiseHandler=dt}downloadFile(_e,ke,dt,xt){throw new Error("Not implemented")}getExportStatus(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"exportVisualsContentStatus",arguments:[_e.id]}),_e.deferred.promise}exportVisualsContent(_e,ke,dt,xt){var Ht=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return _e&&ke&&dt&&xt?this.messageProxy.postMessage({eventName:"exportVisualsContent",arguments:[_e,ke,dt,xt,Ht.id]}):Ht.deferred.reject(),Ht.deferred.promise}}class ce{constructor(_e,ke){this.messageProxy=_e,this.instanceId=ke,i.Y.assertValue(_e,"messageProxy")}renderingStarted(_e){this.messageProxy.postMessage({eventName:"renderingStarted",arguments:[this.instanceId,_e.updateId]})}renderingFinished(_e){this.messageProxy.postMessage({eventName:"renderingFinished",arguments:[this.instanceId,_e.updateId]})}renderingFailed(_e,ke){this.messageProxy.postMessage({eventName:"renderingFailed",arguments:[this.instanceId,_e.updateId,ke]})}}class ze{constructor(_e,ke,dt){this.messageProxy=_e,this.promiseFactory=ke,this.sandboxPromiseHandler=dt,i.Y.assertValue(_e,"messageProxy"),i.Y.assertValue(ke,"promiseFactory")}getAvailableServicePlans(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAvailableServicePlans",arguments:[_e.id]}),_e.deferred.promise}notifyLicenseRequired(_e){var ke=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"notifyLicenseRequired",arguments:[_e,ke.id]}),ke.deferred.promise}notifyFeatureBlocked(_e){var ke=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"notifyFeatureBlocked",arguments:[_e,ke.id]}),ke.deferred.promise}clearLicenseNotification(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"clearLicenseNotification",arguments:[_e.id]}),_e.deferred.promise}}class yt{constructor(_e,ke,dt){i.Y.assertValue(_e,"messageProxy"),i.Y.assertValue(ke,"promiseFactory"),this.messageProxy=_e,this.promiseFactory=ke,this.sandboxPromiseHandler=dt}getStorageStatus(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageStatus",arguments:[_e.id]}),_e.deferred.promise}getStorageData(_e){var ke=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageData",arguments:[_e,ke.id]}),ke.deferred.promise}setStorageData(_e,ke){var dt=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"setStorageData",arguments:[_e,ke,dt.id]}),dt.deferred.promise}removeStorageData(_e){this.messageProxy.postMessage({eventName:"removeStorageData",arguments:[_e]})}}class Lt{constructor(_e,ke,dt){i.Y.assertValue(_e,"messageProxy"),i.Y.assertValue(ke,"promiseFactory"),this.messageProxy=_e,this.promiseFactory=ke,this.sandboxPromiseHandler=dt}getStorageStatus(){var _e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageV2Status",arguments:[_e.id]}),_e.deferred.promise}getStorageData(_e){var ke=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageV2Data",arguments:[_e,ke.id]}),ke.deferred.promise}setStorageData(_e,ke){var dt=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"setStorageV2Data",arguments:[_e,ke,dt.id]}),dt.deferred.promise}removeStorageData(_e){this.messageProxy.postMessage({eventName:"removeStorageV2Data",arguments:[_e]})}}var zt=e(705140);class Qt{constructor(_e,ke){this.messageProxy=_e,i.Y.assertValue(_e,"messageProxy"),this.instanceId=ke}trace(_e,ke){this.messageProxy.postMessageAsync({eventName:"logVisualEvent",arguments:[(0,zt.oL)(_e),{instanceId:this.instanceId,payload:ke}]})}logStandardizedFeatureEvent(){}}class je{constructor(_e){i.Y.assertValue(_e,"messageProxy"),this.messageProxy=_e,this.rootElement=window.document.body}serializeIdentities(_e){return _e&&_e[0]instanceof U.r?_e:_e&&_(_e).map(dt=>(0,me.MG)(dt)).compact().value()}show(_e){var ke=_e&&{coordinates:_e.coordinates,dataItems:_e.dataItems,identities:this.serializeIdentities(_e.identities),isTouchEvent:_e.isTouchEvent};this.messageProxy.postMessage({eventName:"showTooltip",arguments:[ke]})}move(_e){var ke=_e&&{coordinates:_e.coordinates,dataItems:_e.dataItems,identities:this.serializeIdentities(_e.identities),isTouchEvent:_e.isTouchEvent};this.messageProxy.postMessage({eventName:"moveTooltip",arguments:[ke]})}hide(_e){this.messageProxy.postMessage({eventName:"hideTooltip",arguments:[_e]})}visible(){return!1}isTouchOptimized(){return!1}container(){return this.rootElement}enabled(){return!0}}class Kt{constructor(_e,ke,dt){i.Y.assertValue(_e,"messageProxy"),i.Y.assertValue(ke,"promiseFactory"),this.messageProxy=_e,this.promiseFactory=ke,this.sandboxPromiseHandler=dt}getWebAccessStatus(_e){var ke=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getWebAccessStatus",arguments:[_e,ke.id]}),ke.deferred.promise}}class ar{constructor(_e){i.Y.assertValue(_e,"messageProxy"),this.messageProxy=_e}subSelect(_e){_e&&this.messageProxy.postMessage({eventName:"subSelect",arguments:[_e]})}updateRegionOutlines(_e){_e&&this.messageProxy.postMessage({eventName:"updateRegionOutlines",arguments:[_e]})}}var $e={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},pt={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",Restatement_Comma:"{0}, {1}",Restatement_CompoundAnd:"{0} and {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Decrease:"Decrease",Increase:"Increase",Waterfall_TotalLabel:"Total",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"};class Ut{constructor(_e,ke){this.messageProxy=_e,this.sandboxPromiseHandler=ke,this.loadMoreDataEnabled=!0,i.Y.assertValue(_e,"messageProxy"),this.visualHostTooltipService=new je(_e),this.queryDictionary=Ut.parseUrlParameters(),this.authService=function(nt,_e,ke){return new ot(nt,_e,ke)}(_e,this.promiseFactory(),ke),this.storageService=function(nt,_e,ke){return new yt(nt,_e,ke)}(_e,this.promiseFactory(),ke),this.hostWebAccessService=function(nt,_e,ke){return new Kt(nt,_e,ke)}(_e,this.promiseFactory(),ke),this.contentDownloadService=function(nt,_e,ke){return new Re(nt,_e,ke)}(_e,this.promiseFactory(),ke),this.licensesManagerService=function(nt,_e,ke){return new ze(nt,_e,ke)}(_e,this.promiseFactory(),ke),this.acquireTokenService=function(nt,_e,ke){return new ae(nt,_e,ke)}(_e,this.promiseFactory(),ke),this.storageV2Service=function(nt,_e,ke){return new Lt(nt,_e,ke)}(_e,this.promiseFactory(),ke),this.hostSubSelectionService=new ar(_e),this.dialogPromiseFactory=this.promiseFactory()}initInstanceId(_e){this._instanceId=_e,this.telemetryService=function(nt,_e){return new Qt(nt,_e)}(this.messageProxy,_e),this.eventsService=function(nt,_e){return new ce(nt,_e)}(this.messageProxy,_e)}static initialize(){Be.Z&&(Be.Z.localizationOptions=Ut.createTooltipLocaleOptions())}static createLocaleOptions(){return{null:pt.NullValue,true:pt.BooleanTrue,false:pt.BooleanFalse,NaN:pt.NaNValue,infinity:pt.InfinityValue,negativeInfinity:pt.NegativeInfinityValue,beautify:_e=>Ut.beautify(_e),describe:_e=>Ut.describeUnit(_e),restatementComma:pt.Restatement_Comma,restatementCompoundAnd:pt.Restatement_CompoundAnd,restatementCompoundOr:pt.Restatement_CompoundOr}}static createTooltipLocaleOptions(){return{highlightedValueDisplayName:pt.Tooltip_HighlightedValueDisplayName}}getLocalizedString(_e){return pt[_e]}onSelecting(_e){_e.action=r.Ii.Selection}onSelect(_e){var ke;if((0,re.Rr)(_e)){var dt=_e;ke={data:(0,me.zl)(dt.data),data2:(0,me.MG)(dt.data2),selectors:(0,me.zl)(dt.selectors)}}else{var{type:xt,visualObjects:Ht}=_e;ke={type:xt,visualObjects:(0,me.fU)(Ht)}}this.messageProxy.postMessage({eventName:"onSelect",arguments:[ke]})}customVisualOnContextMenu(_e){this.messageProxy.postMessage({eventName:"onCustomVisualContextMenu",arguments:[_e]})}customVisualOnExpandCollapse(_e){this.messageProxy.postMessage({eventName:"onCustomVisualExpandCollapse",arguments:[_e]})}switchFocusModeState(_e){this.messageProxy.postMessage({eventName:"onSwitchFocusModeState",arguments:[_e]})}displayWarningIcon(_e,ke){null!=_e&&null!=ke&&this.messageProxy.postMessage({eventName:"onDisplayWarningIcon",arguments:[_e,ke]})}persistProperties(_e){var ke,dt=_e;ke=this.apiVersion&&((0,a.gt)(this.apiVersion,"2.0.0")||(0,a.eq)(this.apiVersion,"2.0.0"))?_e:dt.merge||dt.remove||dt.replace?{merge:dt.merge?(0,Ke.lK)(dt.merge):null,replace:dt.replace?(0,Ke.lK)(dt.replace):null,remove:dt.remove?(0,Ke.lK)(dt.remove):null}:(0,Ke.lK)(_e),this.messageProxy.postMessage({eventName:"persistProperties",arguments:[ke]})}sendSelectionIdsToHost(_e){this.messageProxy.postMessage({eventName:"transformCvSelectionIdsAndSelect",arguments:[_e]})}loadMoreData(){this.fetchMoreData(!0)}loadWindow(_e){}fetchMoreData(_e){return!!this.loadMoreDataEnabled&&(!1!==_e&&(_e=!0),this.messageProxy.postMessage({eventName:"loadMoreData",arguments:[_e]}),!0)}launchUrl(_e){this.messageProxy.postMessage({eventName:"launchUrl",arguments:[_e]})}setCanDrill(_e){this.messageProxy.postMessage({eventName:"setCanDrill",arguments:[_e]})}drill(_e){this.messageProxy.postMessage({eventName:"drill",arguments:[_e]})}openModalDialog(_e,ke,dt){var xt=this.sandboxPromiseHandler.CreatePromise(this.dialogPromiseFactory.defer());return this.messageProxy.postMessage({eventName:"openModalDialog",arguments:[_e,ke,dt,xt.id]}),xt.deferred.promise}tooltips(){return this.visualHostTooltipService}telemetry(){return this.telemetryService}authenticationService(){return this.authService}localStorageService(){return this.storageService}localStorageV2Service(){return this.storageV2Service}eventService(){return this.eventsService}licenseManagerService(){return this.licensesManagerService}acquireAADTokenService(){return this.acquireTokenService}visualTimeSynchronization(){return this.visualTimeSynchronizationService}networkAvailability(){return this.networkAvailabilityService}webAccessService(){return this.hostWebAccessService}visualHostSubSelectionService(){return this.hostSubSelectionService}getSectionsMetadata$(){}getBookmarksMetadata$(){}downloadService(){return this.contentDownloadService}artifactService(){}getQueryStringValue(_e){return this.queryDictionary&&this.queryDictionary[_e]}locale(){var _e=this.queryDictionary&&this.queryDictionary.locale;return i.Y.assert(()=>!!_e,"custom visual locale parameter is not valid"),_e||navigator.language}loader(){return{require:()=>this.promiseFactory().reject()}}applyJsonFilter(_e,ke,dt,xt){var Ht=[_e,ke,dt];return xt&&Ht.push(xt),this.messageProxy.postMessage({eventName:"applyJsonFilter",arguments:Ht}),!0}applyIdentityFilter(_e,ke,dt,xt){var Ht=[_e,ke,dt];return xt&&Ht.push(xt),this.messageProxy.postMessage({eventName:"applyIdentityFilter",arguments:Ht}),!0}getJSONFilter(_e,ke){return this.promiseFactory().reject()}static parseUrlParameters(_e=window.location.search){var ke={},dt=_e;if(dt&&"?"===dt.substr(0,1)){var xt=dt.substr(1).split("&");for(var Ht of xt){var dr=Ht&&Ht.split("=");dr&&2===dr.length&&(ke[decodeURIComponent(dr[0])]=decodeURIComponent(dr[1]))}}return ke}destroy(){this.messageProxy.destroy(),this.messageProxy=null}refreshHostData(){this.messageProxy.postMessage({eventName:"refreshHostData",arguments:null})}createSelectionIdBuilder(){return new U.r}createTooltipService(){return(0,Xe.N)({hostServices:this})}createSelectionManager(_e){return new l.Y({hostServices:this,apiVersion:_e})}applyCustomSort(_e){this.messageProxy.postMessage({eventName:"applyCustomSort",arguments:[_e]})}alertScreenReader(_e){}alertWithDebounce(_e,ke){}requestFocus(){}setShouldDeferData(){}onDragStart(){}onContextMenu(){}onSwitchFocusModeState(){}onDisplayWarningIcon(){}onClearCustomizedWarningIcon(){}getVisualLinkProperties(){}canSelect(){return!1}canExpandCollapse(_e){return!1}setNodeExpansionState(_e){}setLevelExpansionState(_e){}onCustomSort(_e){}getViewMode(){return r.nE.View}getEditMode(){return r.WF.Default}setWarnings(_e){}getWarnings$(){}setToolbar(_e){}shouldRetainSelection(){return!1}geocoder(){return(0,d.NH)()}geolocation(){i.Y.assertFail("Not being used anywhere")}promiseFactory(){return(0,c.C)()}ignoreDefaultFilter(){return!1}getIdentityDisplayNames(_e){}setIdentityDisplayNames(_e){}setFilterExpressionMetadata(){}getFilterExpressionMetadata(){}getUIComponentFactory(){}onHyperlinkClick(_e,ke){}isVisualEnabled(){return this.promiseFactory().resolve(!0)}isVisualLoading(){return this.promiseFactory().resolve(!1)}dataMultiSelectMode(){return s.fv.Single}dropdown(){}setAriaMetadata(_e){}onNotifyLicense(_e){}onClearLicenseNotification(){}onNotifyFeatureBlocked(_e){}getSubSelectionService(){}getAzureMapToken(){}azureMapsEndpoint(){}geocoderIndexedDB(){}triggerUpdate(){}azureMapsHostEnvironment(){return{isPublishToWebHost:!1,isScreenshotExportHost:!1}}dateTimeFormatService(){}visualExportService(){}annotations(){}get instanceId(){return this._instanceId}static beautify(_e){var ke=$e[_e];return ke&&pt[ke]||_e}static describeUnit(_e){var ke=-1===_e?"Auto":_e.toString(),dt=pt["DisplayUnitSystem_E"+ke+"_Title"],xt=_e<=0?"{0}":pt["DisplayUnitSystem_E"+ke+"_LabelFormat"];if(dt||xt)return{title:dt,format:xt}}enableLoadMoreData(_e){this.loadMoreDataEnabled=_e}}var er=e(814691),or=e(591287),vr=!1,Mr=function(nt){return nt.Click="click",nt.MouseUp="mouseup",nt.MSPointerUp="MSPointerUp",nt.PointerUp="pointerup",nt.Dblclick="dblclick",nt}({}),Lr=function(nt){return nt.Tap="tap",nt.TouchCancel="touchcancel",nt.Touchend="touchend",nt}({}),Ur=function(nt){return nt.KeyDown="keydown",nt}({}),Yr=function(nt){return nt.KeyDown="keydown",nt}({}),Kr=Object.values(Mr),Hr=Object.values(Lr),Gr=Object.values(Ur),Wr=Kr.concat(Hr),Or=Object.values(Yr),ra=["type","bubbles","which","buttons","button","ctrlKey","altKey","metaKey","shiftKey","x","y","clientX","clientY","pageX","pageY","movementX","movementY","layerX","layerY","changedTouches","keyCode","code","key","cancelable","composed"],Xr={Escape:[]},aa={Escape:[],y:["ctrlKey"],z:["ctrlKey"]},Cr=(()=>{class nt{constructor(ke){this.id=++nt.counter,this.deferred=ke}static getLastId(){return nt.counter}}return nt.counter=0,nt})(),Ir=(()=>{class nt{constructor(ke){this.id=++nt.counter,this.deferred=ke}static getLastId(){return nt.counter}}return nt.counter=0,nt})();class ia{constructor(){this.promises={},this.promises2={}}CreatePromise(_e){var ke=new Cr(_e);return this.promises[ke.id]=ke,ke}ResolvePromise(_e,ke){var dt=this.promises[_e];dt&&(dt.deferred.resolve(ke),this.promises[_e]=null)}RejectPromise(_e,ke){var dt=this.promises[_e];dt&&(dt.deferred.reject(ke),this.promises[_e]=null)}CreatePromise2(_e){var ke=new Ir(_e);return this.promises2[ke.id]=ke,ke}ResolvePromise2(_e,ke){var dt=this.promises2[_e];dt&&(dt.deferred.resolve(ke),this.promises2[_e]=null)}RejectPromise2(_e,ke){var dt=this.promises2[_e];dt&&(dt.deferred.reject(ke),this.promises2[_e]=null)}}function Rr(){return window.powerbi.visuals.plugins}function zr(nt){var ke=JSON.stringify({eventName:"onSecurityPolicyViolation",arguments:[nt.blockedURI,nt.violatedDirective,nt.originalPolicy]});window.parent.postMessage(ke,"*")}function Tr(nt,_e=!1){var ke=(0,c.C)(),dt=location.hash.slice(1);if(dt&&!dt.match(/^[\w-]{1,36}$/))throw"invalid nonce";var xt=(0,ut.s)(vr=!!dt,ke,parent,window.location.origin,!0,dt);Ut.initialize(),Te.Y.getQueryStringValue("pbiglobals")&&function(){var nt=(0,He.N0)();nt.FilterAction=ct,nt.VisualDataRoleKind=r.Ts,nt.VisualDataChangeOperationKind=r.YB,nt.VisualUpdateType=r.YL,nt.VisualPermissions=r.jU,nt.formattingService=lt.r9;var _e=function(){var nt=Ae();return nt.data||(nt.data={}),nt.data}();ye.EG&&(_e.SQExprBuilder={},_e.SQExprBuilder.entity=ye.EG,_e.SQExprBuilder.subqueryRef=ye.a_,_e.SQExprBuilder.namedQueryRef=ye.JP,_e.SQExprBuilder.columnRef=ye.sX,_e.SQExprBuilder.measureRef=ye.K6,_e.SQExprBuilder.nativeMeasure=ye.IW,_e.SQExprBuilder.nativeColumn=ye.Oi,_e.SQExprBuilder.aggregate=ye.QD,_e.SQExprBuilder.selectRef=ye.o4,_e.SQExprBuilder.percentile=ye.Ym,_e.SQExprBuilder.rangePercent=ye.Lg,_e.SQExprBuilder.arithmetic=ye.Bm,_e.SQExprBuilder.floor=ye.RI,_e.SQExprBuilder.scopedEval=ye.bg,_e.SQExprBuilder.filteredEval=ye.Ge,_e.SQExprBuilder.withRef=ye.IS,_e.SQExprBuilder.groupRef=ye.bR,_e.SQExprBuilder.hierarchy=ye.Sk,_e.SQExprBuilder.propertyVariationSource=ye.U7,_e.SQExprBuilder.hierarchyLevel=ye.Mw,_e.SQExprBuilder.transformTableRef=ye.CR,_e.SQExprBuilder.transformOutputRoleRef=ye.Cv,_e.SQExprBuilder.roleRef=ye.a3,_e.SQExprBuilder.summaryValueRef=ye.ft,_e.SQExprBuilder.allRolesRef=ye.G9,_e.SQExprBuilder.and=ye.Uo,_e.SQExprBuilder.between=ye.Tq,_e.SQExprBuilder.inValues=ye.eu,_e.SQExprBuilder.inTable=ye.Kd,_e.SQExprBuilder.or=ye.or,_e.SQExprBuilder.compare=ye.UD,_e.SQExprBuilder.conditional=ye.Jr,_e.SQExprBuilder.contains=ye.gR,_e.SQExprBuilder.exists=ye.t2,_e.SQExprBuilder.equal=ye.LC,_e.SQExprBuilder.not=ye.AU,_e.SQExprBuilder.startsWith=ye.w1,_e.SQExprBuilder.nullConstant=ye.gN,_e.SQExprBuilder.emptyString=ye.bQ,_e.SQExprBuilder.now=ye.tB,_e.SQExprBuilder.defaultValue=ye.Jh,_e.SQExprBuilder.anyValue=ye.mh,_e.SQExprBuilder.boolean=ye.zM,_e.SQExprBuilder.dateAdd=ye.El,_e.SQExprBuilder.dateTime=ye.KQ,_e.SQExprBuilder.dateSpan=ye.b5,_e.SQExprBuilder.decimal=ye._,_e.SQExprBuilder.double=ye.gd,_e.SQExprBuilder.integer=ye.nd,_e.SQExprBuilder.text=ye.Qq,_e.SQExprBuilder.typedConstant=ye.FT,_e.SQExprBuilder.fromRawValue=ye.G3,_e.SQExprBuilder.sparklineData=ye.yC,_e.SQExprBuilder.setAggregate=Ee.a,_e.SQExprBuilder.removeAggregate=xe.s,_e.SQExprBuilder.setPercentOfGrandTotal=we.p,_e.SQExprBuilder.removePercentOfGrandTotal=he.x,_e.SQExprBuilder.setPercentOfRoleTotal=Se.L,_e.SQExprBuilder.removePercentOfRoleTotal=Oe.L,_e.SQExprBuilder.removeEntityVariables=ye.bY,_e.SQExprBuilder.setVisualCalcExpression=ye.is,_e.SQExprBuilder.fillRule=ye.Kf,_e.SQExprBuilder.themeDataColor=ye.Bg,_e.SQExprBuilder.resourcePackageItem=ye.SC,_e.SQExprBuilder.discretize=ye.z,_e.SQExprBuilder.member=ye.Dc,_e.SQExprBuilder.color=ye.yW,_e.SQExprBuilder.nativeVisualCalc=ye.zy,_e.SQExprBuilder.fieldExpr=Fe.to,_e.SQExprBuilder.fromColumnAggr=Fe.cu,_e.SQExprBuilder.fromColumn=Fe.fq,_e.SQExprBuilder.fromGroupingColumnAggr=Fe.Xq,_e.SQExprBuilder.fromGroupingColumn=Fe.O7,_e.SQExprBuilder.fromEntity=Fe.Oj,_e.SQExprBuilder.fromEntityAggr=Fe.R3,_e.SQExprBuilder.fromColumnHierarchyVariation=Fe.D2,_e.SQExprBuilder.fromColumnHierarchyLevelVariation=Fe.Vm,_e.SQExprBuilder.fromColumnSubquery=Fe.li,_e.SQExprBuilder.fromColumnAggrSubquery=Fe.kf,_e.SQExprBuilder.fromColumnTransformRef=Fe.ah,_e.SQExprBuilder.fromHierarchyLevelAggr=Fe.$Q,_e.SQExprBuilder.fromHierarchyLevel=Fe.yt,_e.SQExprBuilder.fromHierarchy=Fe.gl,_e.SQExprBuilder.fromArithmetic=Fe.xA,_e.SQExprBuilder.fromConstant=Fe.hu,_e.SQExprBuilder.fromSparklineData=Fe.Sg,_e.SQExprBuilder.fromNativeVisualCalc=Fe.Hu),_e.Selector={},_e.Selector.AllEncompasingKey=De.Rf,_e.Selector.isScopeIdentity=De.fF,_e.Selector.isScopeWildcard=De.rh,_e.Selector.isScopeTotal=De.pB,_e.Selector.isRoleWildcard=De.jG,_e.Selector.isWildcard=De.z2,_e.Selector.isWildcardSelector=De.EU,_e.Selector.toScopeIdentities=De.uR,_e.Selector.getScopeIdentities=De.Bz,_e.Selector.filterFromSelector=De.ss,_e.Selector.filterFromSelectorsByColumn=De.sJ,_e.Selector.filterExprsFromSelectors=De.$B,_e.Selector.hasIdentities=De.Dj,_e.Selector.equals=De.aI,_e.Selector.equalsDataArray=De.XJ,_e.Selector.equalsSelectorsByColumn=De.Pv,_e.Selector.equalsSelectorsByColumnArray=De.Sn,_e.Selector.equalsData=De.mu,_e.Selector.getKey=De.i7,_e.Selector.getDecomposedKeys=De.kH,_e.Selector.containsWildcard=De.Ac,_e.Selector.hasRoleWildcard=De.zP,_e.Selector.convertSelectorsByColumnToSelector=De.j9,_e.Selector.getSelectorTargetExpr=De.is,_e.Selector.normalizeSelector=De.Pl,_e.Selector.clone=De.o8,_e.SQCompareExpr=ye.j_,_e.createDataViewScopeIdentity=mt.UQ,_e.createDisplayNameGetter=At.D,_e.DataViewObjectDefinitions={},_e.DataViewObjectDefinitions.allPropertiesAreEqual=We.lj,_e.DataViewObjectDefinitions.clone=We.o8,_e.DataViewObjectDefinitions.cloneDefinitions=We.GO,_e.DataViewObjectDefinitions.deleteObjectDefinition=We.gr,_e.DataViewObjectDefinitions.deleteProperties=We.DS,_e.DataViewObjectDefinitions.deleteProperty=We.BJ,_e.DataViewObjectDefinitions.encodePropertyValue=We.TK,_e.DataViewObjectDefinitions.ensure=We.D8,_e.DataViewObjectDefinitions.extend=We.X$,_e.DataViewObjectDefinitions.getDataBoundExprs=ft.TW,_e.DataViewObjectDefinitions.getDataBoundExprsAndValueRef=ft.yR,_e.DataViewObjectDefinitions.getObjectDefinition=We.lY,_e.DataViewObjectDefinitions.getObjectDefinitions=We.ep,_e.DataViewObjectDefinitions.getPropertyContainer=We.pG,_e.DataViewObjectDefinitions.getUnequalProperties=We.V4,_e.DataViewObjectDefinitions.getValue=We._W,_e.DataViewObjectDefinitions.getValueFormatting=We.xr,_e.DataViewObjectDefinitions.isEmpty=We.Im,_e.DataViewObjectDefinitions.isObjectPropertySQExpr=We.ui,_e.DataViewObjectDefinitions.isObjectPropertySQExprWithContext=We.JZ,_e.DataViewObjectDefinitions.isPropertyDefinition=We.hg,_e.DataViewObjectDefinitions.moveProperty=We.F4,_e.DataViewObjectDefinitions.propertiesAreEqual=We.Y2,_e.DataViewObjectDefinitions.reduce=We.TS,_e.DataViewObjectDefinitions.setValue=We.KY,_e.DataViewObjectDefinitions.setValueFormatting=We.pR,_e.DataViewObjectDefinitions.updateSelector=We.rZ,_e.DataViewObjectDefinitions.visitPropertyDefinitions=We.po,_e.DataViewObjectDefinitions.visitPropertyExprs=We.bY;var ke=function(){var nt=Ae();return nt.extensibility||(nt.extensibility={}),nt.extensibility}();ke.createColorPalette=Ge.r,ke.createExtendedColorPalette=Ge.E,ke.getVisualApiVersions=o.IL,ke.visualApiVersions=(0,o.IL)();var dt=(0,He.qV)();dt.buildValueDetailsForColumnValue=t.qs,dt.SelectionId=t.M3,dt.SelectionIdBuilder=t.tJ;var xt=function(){var nt=(0,He.qV)();return nt.valueFormatter||(nt.valueFormatter={}),nt.valueFormatter}();xt.beautifyTrace=Qe.lw,xt.allowFormatBeautificationTraced=Qe.z$,xt.getLocalizedString=Qe.ZM,xt.getFormatMetadata=Qe.lg,xt.setLocaleOptions=Qe.rL,xt.createDefaultFormatter=Qe.i8,xt.create=Qe.vt,xt.format=Qe.GP,xt.formatVariantMeasureValueWithDataPointObjects=Qe._s,xt.createDisplayUnitSystem=Qe.eH,xt.getDisplayUnits=Qe.W9,xt.getFormatString=Qe.Bq,xt.getDefaultFormatString=Qe.gQ,xt.getLabelPrecision=Qe.jp,xt.getFormatStringWithDataPointObjects=Qe.p9,xt.formatListAnd=Qe.$4,xt.formatListOr=Qe.be}(),(0,He.qV)().plugins={},Ye();var dr={promiseFactory:ke},Sr=function(nt){return new I(nt)}(xt),fr=function(nt){return new V(nt)}(xt),Zt=new ia,Er=function(nt,_e){return i.Y.assertValue(nt,"messageProxy"),new Ut(nt,_e)}(xt,Zt),Z={$element:nt,hostServices:Er,hostServicesControl:Er,dataProxy:Zr(ke),promiseFactory:ke,messageProxy:xt,resourceLoader:(0,f.AM)(dr,null),resourceProvider:{get:Ue=>Ue,getOptional:Ue=>Ue,format:Ue=>Ue},telemetryProxyService:Sr,certifiedEventsProxyService:fr,instanceId:"",sandboxPromiseHandler:Zt},ie=Er.getQueryStringValue("cspiframe");return xt.contentWindow=ie?window.parent.parent:window.parent,new Nr(Z,_e)}function Zr(nt){var _e=new j,dt={promiseFactory:()=>nt},xt=(0,y.H)((0,C.w$)({dsr:{name:"dsr",reader:Ht=>new W.Z(Ht,{execute:()=>nt.reject()},_e,{dsrV2:!1},null,void 0,void 0)}},{}),dt);return(0,F.bu)(nt,xt,_e)}function na(nt,_e,ke){var Ht,dt=nt.content,xt=nt.hasBeenInjected||Rr()&&Rr().hasOwnProperty(nt.name)&&Rr()[nt.name].hasBeenInjected;return(!_e||!xt)&&((0,ne.Sh)(nt.name,dt.js,ke,nt.apiVersion),(0,ne.iz)(nt.name,dt.css)),!nt.apiVersion||(0,a.lt)(nt.apiVersion,{major:3,minor:0,patch:0})?(i.Y.assertValue(Rr()[nt.name],"Visual does not have a plugin"),Ht=Rr()[nt.name]):(i.Y.assertValue(window[nt.name],"Visual does not have a plugin"),Ht=window[nt.name].default),nt.apiVersion&&(Ht.iconUrl=nt.iconUrl,Ht.capabilities=nt.capabilities,Ht.localizationResources=nt.localizationResources,Ht.isDeprecated=nt.isDeprecated,Ht.version=nt.version),_e&&(Ht.hasBeenInjected=!0,Ht.approvedForNoIframe=!0,Rr()[nt.name]=Ht),Ht}var Nr=(()=>{class nt{constructor(ke,dt=!1){this.isolate=dt,this.isVisualInitialized=!1,this.messageQueue=[],this.formatMode=!1,this.relayUIEventListener=xt=>{var Ht=_.pick(xt.originalEvent,ra);this.messageProxy.postMessage({eventName:"onRelayUIEvent",arguments:[Ht]})},this.relayKeyboardEventListener=xt=>{var Ht=_.pick(xt.originalEvent,ra);this.isSupportedKeyBoardEvent(xt.originalEvent)&&this.messageProxy.postMessage({eventName:"onRelayUIEvent",arguments:[Ht]})},this.container=ke.$element,this.hostServices=ke.hostServices,this.hostServicesControl=ke.hostServicesControl,this.dataProxy=ke.dataProxy,this.promiseFactory=ke.promiseFactory,this.messageProxy=ke.messageProxy,this.resourceLoader=ke.resourceLoader,this.resourceProvider=ke.resourceProvider,this.telemetryProxyService=ke.telemetryProxyService,this.certifiedEventsProxyService=ke.certifiedEventsProxyService,this.sandboxPromiseHandler=ke.sandboxPromiseHandler,this.aggregatedDataViewSize=0,this.dataViewSerializer=new le.T,this.skipRedundantResize=!1,this.hostOrigin=new URL(window.location.href).origin,this.messageProxy.on(X.R,xt=>this.onMessageReceived(xt))}get visual(){return this._visual}init(ke){this.hostServices.initInstanceId(ke.instanceId),this.hostServicesControl.initInstanceId(ke.instanceId),this.style=(0,A.bJ)(ke.style);var dt={animation:ke.animation,element:this.container,host:this.hostServices,interactivity:ke.interactivity,style:this.style,viewport:ke.viewport,localizationResources:this.plugin.localizationResources,hostEnv:ke.hostEnv,dataMultiSelectMode:ke.dataMultiSelectMode};return this.featureSwitches=ke.featureSwitches,this.skipRedundantResize=this.featureSwitches&&this.featureSwitches.cvSkipExtraResize,this.attachRelayUIEventListener(),this.attachWindowResizeListener(),this.visual.init(dt)}destroy(){this.detachRelayUIEventListener(),this.detachWindowResizeListener(),this.detachFormatModeRelayUIEventListener(),this.messageProxy.off(X.R),this.messageProxy.destroy(),this.visual&&this.visual.destroy&&this.visual.destroy()}categoriesExists(ke){return!!(ke&&ke.dataViews&&ke.dataViews.length>0&&ke.dataViews[0].categorical&&ke.dataViews[0].categorical.categories&&ke.dataViews[0].categorical.categories.length>0&&ke.dataViews[0].categorical.categories[0]&&ke.dataViews[0].categorical.categories[0].values)}getHostCategoriesValues(ke,dt,xt){try{if(ke){if(xt)for(var Ht=0;Ht<ke.length;Ht++)ke[Ht]&&(ke[Ht]=new Date(ke[Ht]));dt.dataViews[0].categorical.categories[0].values=ke}}catch(dr){this.sendError(dr)}return dt}update(ke){var xt,dt=ke.message.arguments[0];if(this.formatMode!==!!dt.formatMode&&(this.formatMode=dt.formatMode,this.handleAttachingEventListeners()),this.plugin&&this.plugin.apiVersion&&!(0,a.lt)(this.plugin.apiVersion,"2.0.0")){this.stringifiedDataView=dt.serializedDataView?dt.serializedDataView.stringifiedDataView:null;var Ht=!(!this.plugin.capabilities.expandCollapse||!this.plugin.capabilities.dataViewMappings[0].matrix),dr=dt.serializedDataView?[this.dataViewSerializer.deserializeDataView(dt.serializedDataView,(0,a.gt)(this.plugin.apiVersion,"3.5.9"),Ht,[],(0,a.ge)(this.plugin.apiVersion,"5.3.0"))]:[];this.formatMode&&this.reCreateSelectionIds(dt.subSelections);var Sr=this.lastVisualUpdateOptions={dataViews:dr,suppressAnimations:dt.suppressAnimations,viewMode:dt.viewMode,editMode:dt.editMode,viewport:dt.viewport,type:dt.type,operationKind:r.YB.Create,resizeMode:dt.resizeMode,isInFocus:dt.isInFocus,jsonFilters:dt.jsonFilters?dt.jsonFilters:null,updateId:dt.updateId,formatMode:dt.formatMode,subSelections:dt.subSelections,pendingChanges:dt.pendingChanges};this.plugin&&this.plugin.apiVersion&&!(0,a.lt)(this.plugin.apiVersion,"3.5.0")?(this.onRestoreCvSelectionIds(dt.selections,!(0,a.gt)(this.plugin.apiVersion,"2.4.0")),this.fixUpdateOptionsAndUpdateVisual(Sr,ke,dt)):(this.fixUpdateOptionsAndUpdateVisual(Sr,ke,dt),this.onRestoreCvSelectionIds(dt.selections,!(0,a.gt)(this.plugin.apiVersion,"2.4.0")))}else dt.dataTransforms&&(xt=B.R.deserializeDataViewTransformActions(dt.dataTransforms,this.plugin.capabilities||{})),this.transformDataViewSource(dt.dataViewSource,xt,!0).then(fr=>{var Zt=this.lastVisualUpdateOptions={dataViews:fr.dataViews,suppressAnimations:dt.suppressAnimations,viewMode:dt.viewMode,editMode:dt.editMode,viewport:dt.viewport,type:dt.type,operationKind:r.YB.Create,resizeMode:dt.resizeMode,isInFocus:dt.isInFocus,jsonFilters:dt.jsonFilters?dt.jsonFilters:null,updateId:dt.updateId};this.visualHasNullFilter(xt)&&this.onRestoreSelection(null),this.fixUpdateOptionsAndUpdateVisual(Zt,ke,dt)}).catch(fr=>this.sendError(fr))}visualHasNullFilter(ke){if(this.plugin?.capabilities?.objects?.general?.properties?.filter){var dt=ke?.objects?.general;if(dt&&dt.length>0&&dt[0]?.properties&&!dt[0].properties.filter)return!0}return!1}updateWithCachedData(ke){var xt,Ht,dr,dt=ke.message.arguments[0];if(this.plugin&&this.plugin.apiVersion&&!(0,a.lt)(this.plugin.apiVersion,"2.0.0")){if(this.lastVisualUpdateOptions.dataViews&&this.lastVisualUpdateOptions.dataViews[0]&&this.lastVisualUpdateOptions.dataViews[0].metadata){var Sr=this.lastVisualUpdateOptions.dataViews[0].metadata.segment;this.lastVisualUpdateOptions.dataViews[0].metadata=dt.dataViewMetadata?JSON.parse(dt.dataViewMetadata):void 0,this.lastVisualUpdateOptions.dataViews[0].metadata.segment=Sr}Ht=this.lastVisualUpdateOptions.dataViews,dr=!0}else dt.dataTransforms&&(xt=B.R.deserializeDataViewTransformActions(dt.dataTransforms,this.plugin.capabilities||{})),this.lastDataViewTransformApplyOptions.transforms=xt,Ht=(0,R.Bb)(this.lastDataViewTransformApplyOptions).dataViews;var fr=this.lastVisualUpdateOptions={dataViews:Ht,suppressAnimations:dt.suppressAnimations,viewMode:dt.viewMode,editMode:dt.editMode,viewport:dt.viewport,type:dt.type,operationKind:r.YB.Create,resizeMode:dt.resizeMode,isInFocus:dt.isInFocus,jsonFilters:dt.jsonFilters?dt.jsonFilters:null,updateId:dt.updateId,formatMode:dt.formatMode,subSelections:dt.subSelections,pendingChanges:dt.pendingChanges};this.fixUpdateOptionsAndUpdateVisual(fr,ke,dt,dr)}loadResourcePackage(ke){i.Y.assertValue(ke,"resourcePackage"),this.resourceLoader.loadVisualPlugin(ke).then(dt=>{this.plugin=dt,this.createAdapter()}).catch(()=>{var dt=new Error("Unable to load plugin, resource package id: "+ke.id);return this.sendError(dt)})}createAdapter(){var ke=this.plugin;if(this.container.addClass("visual-"+ke.name),this._visual=(0,o.I2)(ke,ke.create,this.promiseFactory,this.telemetryProxyService,void 0,void 0,this.certifiedEventsProxyService),!ke||!this.visual){var dt=new Error("Unable to create visual from plugin "+ke.name);return this.sendError(dt)}this.flushQueue(),this.isVisualInitialized=!0,this.sendSandboxReady()}loadWithoutResourcePackage(ke){if(this.plugin)this.sendError(new Error("Plugin is already loaded"));else{var xt=ke.apiVersion?this.isolate&&(0,a.lt)(ke.apiVersion,"3.0.0"):this.isolate;this.plugin=na(ke,!1,xt),(0,Y.s)(this.plugin),this.createAdapter()}}enumerateObjectInstances(ke){if(this.visual.enumerateObjectInstances){var dt=this.visual.enumerateObjectInstances(ke);if(dt){var xt=dt,Ht=this.plugin&&this.plugin.apiVersion&&!(0,a.lt)(this.plugin.apiVersion,"2.0.0");return xt&&xt.instances?Ht?{instances:xt.instances,containers:xt.containers}:{instances:(0,Ke.lK)(xt.instances),containers:xt.containers?(0,Ke.RU)(xt.containers,this.resourceProvider):null}:Ht?dt:(0,Ke.lK)(dt)}}}enumerateObjectRepetition(){if(this.visual.enumerateObjectRepetition){var ke=this.visual.enumerateObjectRepetition();return ke?(0,or.lK)(ke):void 0}}getFormattingModel(){return this.visual.getFormattingModel?.()}getSubSelectionStyles(ke){return this.reCreateSelectionIds(ke),this.visual.getSubSelectionStyles?.(ke)}getSubSelectionShortcuts(ke,dt){return this.reCreateSelectionIds(ke),this.visual.getSubSelectionShortcuts?.(ke,dt)}getSubSelectables(ke){return this.visual.getSubSelectables?.(ke)}focusVisualIframeWindow(){window.focus()}sendUpdateResult(){var ke=this.container.children("*").length;this.messageProxy.postMessage({eventName:"onUpdateResult",arguments:[ke]})}sendSandboxReady(){this.messageProxy.postMessage({eventName:"onPluginReady",arguments:[]})}flushQueue(){for(;this.messageQueue.length>0;){var ke=this.messageQueue.shift();this.executeMessage(ke)}}sendError(ke,dt){this.messageProxy.postMessage({eventName:"onError",arguments:[],error:{id:dt?dt.id:null,eventName:dt?dt.eventName:null,name:ke.name,message:ke.message,pluginName:this.plugin.name}})}sendErrorMessage(ke,dt){this.messageProxy.postMessage({eventName:"onError",arguments:[],error:{eventName:ke,message:dt,pluginName:this.plugin.name}})}onMessageReceived(ke){if(this.isVisualInitialized||"loadResourcePackage"===ke.message.eventName||"loadWithoutResourcePackage"===ke.message.eventName)return this.executeMessage(ke);this.messageQueue.push(ke)}validateSandboxHostMessage(ke){var xt=this[ke.message.eventName];return xt?"function"!=typeof xt?{error:"not a function"}:xt.approvedMessage?{ok:!0}:{error:"unapproved type"}:{error:"undefined method"}}validateVisualMessage(ke){var dt=ke.message;if(!this.visual)return{error:"unset visual"};var xt=this.visual[dt.eventName];return xt?"function"!=typeof xt?{error:"not a function"}:o.UW.prototype[dt.eventName].approvedMessage?{ok:!0}:{error:"unapproved type"}:{error:"undefined method"}}executeMessage(ke){var xt,Ht,dt=ke.message,dr="SandboxHost.executeMessage rejected message:";if(!vr){if(ke.source!==window&&ke.source.parent===window)return;if(ke.source!==this.messageProxy.contentWindow)return this.sendErrorMessage(dt.eventName,`${dr} invalid source`);if(ke.origin!==this.hostOrigin)return this.sendErrorMessage(dt.eventName,`${dr} invalid origin`)}try{if((xt=this.validateSandboxHostMessage(ke)).ok)return"update"===dt.eventName||"updateWithCachedData"===dt.eventName||"handleLoadMoreDataResult"===dt.eventName?this[dt.eventName].call(this,ke):this[dt.eventName].apply(this,dt.arguments);if((Ht=this.validateVisualMessage(ke)).ok)return this.visual[dt.eventName].apply(this.visual,dt.arguments)}catch(Sr){return void this.sendError(Sr,dt)}this.sendErrorMessage(dt.eventName,`${dr} ${xt?.error}, ${Ht?.error}`)}reCreateSelectionIds(ke){ke&&ke.forEach(dt=>{var xt=dt.customVisualObjects[0].selectionId;dt.customVisualObjects[0].selectionId=xt&&new U.r(xt.dataMap,xt.measures)})}transformDataViewSource(ke,dt,xt){var Ht=this.promiseFactory.defer();return(ke?this.createDataView(ke):this.promiseFactory.resolve({dataView:null})).then(Sr=>{var fr=(0,R.Bb)(this.lastDataViewTransformApplyOptions={prototype:Sr.dataView,objectDescriptors:this.plugin.capabilities?this.plugin.capabilities.objects:void 0,dataViewMappings:this.plugin.capabilities?this.plugin.capabilities.dataViewMappings:void 0,dataRoles:this.plugin.capabilities?this.plugin.capabilities.dataRoles:void 0,drillCapabilities:this.plugin.capabilities&&this.plugin.capabilities.drilldown,expandCollapseCapabilties:this.plugin.capabilities&&this.plugin.capabilities.expandCollapse,transforms:dt,colorAllocatorFactory:(0,h.r)(),bypassConcatenation:xt,visualStyle:this.style,keepAllMetadataColumnsCapability:!!this.plugin.capabilities&&this.plugin.capabilities.keepAllMetadataColumns,featureSwitches:this.featureSwitches}).dataViews;Ht.resolve({dataViews:fr})}).catch(Sr=>this.sendError(Sr)),Ht.promise}createDataView(ke){i.Y.assertValue(ke,"dataViewSource");var dt=this.promiseFactory.defer();return this.dataProxy.execute({type:ke.type,query:{dataSources:null,command:ke.data}}).then(Ht=>{var Sr=(0,er.yB)(Ht&&Ht.dataReaderResult?Ht.dataReaderResult.dataView:null,this.plugin.capabilities?this.plugin.capabilities.dataViewMappings:null);dt.resolve({dataView:Sr.dataView})}).catch(Ht=>this.sendError(Ht)),dt.promise}attachWindowResizeListener(){$(window).on("resize",this.windowResizeListener.bind(this)),$(window).trigger("resize")}detachWindowResizeListener(){$(window).off("resize")}windowResizeListener(){if(this.lastVisualUpdateOptions){var ke=$(window).height(),dt=$(window).width();if(!(this.skipRedundantResize&&this.lastVisualUpdateOptions.viewport&&this.lastVisualUpdateOptions.viewport.width&&this.lastVisualUpdateOptions.viewport.height&&Math.abs(dt-this.lastVisualUpdateOptions.viewport.width)<=1&&Math.abs(ke-this.lastVisualUpdateOptions.viewport.height)<=1)){var xt=(0,ue.IL)(this.lastVisualUpdateOptions);xt.viewport={width:dt,height:ke,scale:this.lastVisualUpdateOptions.viewport.scale},xt.type=r.YL.Resize,xt.resizeMode=r.OJ.Resizing,this.visual.update(xt)}}}attachRelayUIEventListener(){$(window).on(Gr.join(" "),this.relayKeyboardEventListener),this.container.on(Wr.join(" "),this.relayUIEventListener)}detachRelayUIEventListener(){$(window).off(Gr.join(" "),this.relayKeyboardEventListener),this.container.off(Wr.join(" "),this.relayUIEventListener)}attachFormatModeRelayUIEventListener(){$(window).on(Or.join(" "),this.relayKeyboardEventListener)}detachFormatModeRelayUIEventListener(){$(window).off(Or.join(" "),this.relayKeyboardEventListener)}handleAttachingEventListeners(){this.formatMode?(this.detachRelayUIEventListener(),this.attachFormatModeRelayUIEventListener()):(this.detachFormatModeRelayUIEventListener(),this.attachRelayUIEventListener())}isSupportedKeyBoardEvent(ke){var dt=this.formatMode?aa:Xr;return ke.key in dt&&_.every(dt[ke.key],Ht=>Ht in ke&&ke[Ht])}handleLoadMoreDataResult(ke){var dt=this;return(0,g.A)(function*(){var xt=ke.message.arguments[1];if(dt.plugin&&dt.plugin.apiVersion&&!(0,a.lt)(dt.plugin.apiVersion,"2.0.0")){var Ht=ke.message.arguments[0],dr=ke.message.arguments[2];if(Ht&&dt.stringifiedDataView!==Ht.stringifiedDataView){dt.stringifiedDataView=Ht.stringifiedDataView;var Sr=!(!dt.plugin.capabilities.expandCollapse||!dt.plugin.capabilities.dataViewMappings[0].matrix),fr=[dt.dataViewSerializer.deserializeDataView(Ht,(0,a.gt)(dt.plugin.apiVersion,"3.5.9"),Sr,dr,(0,a.ge)(dt.plugin.apiVersion,"5.3.0"))];dt.lastVisualUpdateOptions.type=r.YL.Data,xt?((0,et.Jn)(dt.lastVisualUpdateOptions.dataViews[0],fr[0]),dt.lastVisualUpdateOptions.operationKind=r.YB.Append,yield dt.aggregateDataViewSizeAndUpdateVisual(ke.packedSize)):(dt.lastVisualUpdateOptions.dataViews[0]=fr[0],dt.lastVisualUpdateOptions.operationKind=r.YB.Segment,yield dt.visual.update(dt.lastVisualUpdateOptions))}}else{i.Y.assert(()=>dt.lastDataViewTransformApplyOptions&&!!dt.lastDataViewTransformApplyOptions.prototype,"Expected to have previous segment already");var Zt=ke.message.arguments[0],Er=Zt?Zt.dataReaderResult.dataView:null;Er&&(dt.lastVisualUpdateOptions.type=r.YL.Data,xt?((0,et.Jn)(dt.lastDataViewTransformApplyOptions.prototype,Er),dt.lastVisualUpdateOptions.dataViews=(0,R.Bb)(dt.lastDataViewTransformApplyOptions).dataViews,dt.lastVisualUpdateOptions.operationKind=r.YB.Append,yield dt.aggregateDataViewSizeAndUpdateVisual(ke.packedSize)):(dt.lastVisualUpdateOptions.dataViews[0]=Er,dt.lastVisualUpdateOptions.operationKind=r.YB.Segment,yield dt.visual.update(dt.lastVisualUpdateOptions)))}dt.messageProxy.postMessage({eventName:"stopProgressBar",arguments:[]})})()}aggregateDataViewSizeAndUpdateVisual(ke){var dt=this;return(0,g.A)(function*(){dt.aggregatedDataViewSize+=ke,dt.hostServicesControl.enableLoadMoreData(!(dt.aggregatedDataViewSize>=104857600)),yield dt.visual.update(dt.lastVisualUpdateOptions)})()}handleGetResourceUrlResult(ke){ke.isError?this.sandboxPromiseHandler.RejectPromise(ke.promiseId,ke.payload):this.sandboxPromiseHandler.ResolvePromise(ke.promiseId,ke.payload)}handleGetAADAuthenticationTokenResult(ke){ke.isError?this.sandboxPromiseHandler.RejectPromise(ke.promiseId,ke.payload):this.sandboxPromiseHandler.ResolvePromise(ke.promiseId,ke)}handleGetAADTokenResult(ke){ke.isError?this.sandboxPromiseHandler.RejectPromise(ke.promiseId,ke.payload):this.sandboxPromiseHandler.ResolvePromise(ke.promiseId,ke.payload)}handleGetWACTokenResult(ke){ke.isError?this.sandboxPromiseHandler.RejectPromise2(ke.promiseId,ke.payload?ke.payload:""):this.sandboxPromiseHandler.ResolvePromise2(ke.promiseId,ke.wacToken)}handleGetStorageStatus(ke){this.sandboxPromiseHandler.ResolvePromise(ke.promiseId,ke.status)}handleGetStorageData(ke){ke.data?this.sandboxPromiseHandler.ResolvePromise(ke.promiseId,ke.data):this.sandboxPromiseHandler.RejectPromise(ke.promiseId)}handleSetStorageData(ke){ke.isError?this.sandboxPromiseHandler.RejectPromise(ke.promiseId):this.sandboxPromiseHandler.ResolvePromise(ke.promiseId,ke.freeSpace)}handleGetStorageV2Data(ke){ke.isError||!ke.data?this.sandboxPromiseHandler.RejectPromise(ke.promiseId):this.sandboxPromiseHandler.ResolvePromise(ke.promiseId,ke.data)}handleSetStorageV2Data(ke){ke.isError?this.sandboxPromiseHandler.RejectPromise(ke.promiseId):this.sandboxPromiseHandler.ResolvePromise(ke.promiseId,ke.resultInfo)}handleExportVisualsContentStatus(ke){void 0!==ke.status?this.sandboxPromiseHandler.ResolvePromise(ke.promiseId,ke.status):this.sandboxPromiseHandler.RejectPromise(ke.promiseId)}handleExportVisualsContent(ke){void 0!==ke.data?this.sandboxPromiseHandler.ResolvePromise(ke.promiseId,ke.data):this.sandboxPromiseHandler.RejectPromise(ke.promiseId)}handleGetWebAccessStatus(ke){void 0!==ke.status?this.sandboxPromiseHandler.ResolvePromise(ke.promiseId,ke.status):this.sandboxPromiseHandler.RejectPromise(ke.promiseId)}handleModalDialogResult(ke){ke.isError?this.sandboxPromiseHandler.RejectPromise(ke.promiseId,ke.data):this.sandboxPromiseHandler.ResolvePromise(ke.promiseId,ke.data)}handleAcquireAADTokenResult(ke){this.sandboxPromiseHandler.ResolvePromise(ke.promiseId,ke.data)}handleGetAcquireAADTokenStatus(ke){this.sandboxPromiseHandler.ResolvePromise(ke.promiseId,ke.status)}handleLicenseResult(ke){ke.licenseInfoResult?this.sandboxPromiseHandler.ResolvePromise(ke.promiseId,ke.licenseInfoResult):this.sandboxPromiseHandler.RejectPromise(ke.promiseId)}handleLicenseNotificationResult(ke){null==ke.licenseNotificationResult?this.sandboxPromiseHandler.RejectPromise(ke.promiseId):this.sandboxPromiseHandler.ResolvePromise(ke.promiseId,ke.licenseNotificationResult)}onRestoreSelection(ke){var dt=this.hostServices.selectionManager;if(dt)if(ke&&ke.selection){var xt=ke.selection.map(Ht=>t.M3.fromSelectorsByColumn((0,me.bZ)(Ht)));dt.setSelectionIds(xt),dt.invokeOnSelectCallback(xt)}else dt.setSelectionIds([]),dt.invokeOnSelectCallback([])}onRestoreCvSelectionIds(ke,dt=!0){var xt=this.hostServices.selectionManager;if(xt){var Ht=[];ke?(Ht=_.map(ke,dr=>new U.r(dr.serializedDataMap,dr.measures)),xt.setSelectionIds(Ht)):xt.setSelectionIds([]),dt&&xt.invokeOnSelectCallback(Ht)}}fixUpdateOptionsAndUpdateVisual(ke,dt,xt,Ht=!1){Ht||(ke=this.categoriesExists(ke)?this.getHostCategoriesValues(xt.categoriesValues,ke,xt.isCategoryDate):ke,this.hostServicesControl.enableLoadMoreData(!0),this.aggregatedDataViewSize=dt.packedSize),this.visual.update(ke),this.sendUpdateResult()}}return(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",Object)],nt.prototype,"init",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"destroy",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"update",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"updateWithCachedData",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"loadWithoutResourcePackage",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",Object)],nt.prototype,"enumerateObjectInstances",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[]),(0,E.__metadata)("design:returntype",Array)],nt.prototype,"enumerateObjectRepetition",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[]),(0,E.__metadata)("design:returntype",Object)],nt.prototype,"getFormattingModel",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Array]),(0,E.__metadata)("design:returntype",Object)],nt.prototype,"getSubSelectionStyles",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Array,String]),(0,E.__metadata)("design:returntype",Array)],nt.prototype,"getSubSelectionShortcuts",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Number]),(0,E.__metadata)("design:returntype",Array)],nt.prototype,"getSubSelectables",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"focusVisualIframeWindow",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",Promise)],nt.prototype,"handleLoadMoreDataResult",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"handleGetResourceUrlResult",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"handleGetAADAuthenticationTokenResult",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"handleGetAADTokenResult",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"handleGetWACTokenResult",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"handleGetStorageStatus",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"handleGetStorageData",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"handleSetStorageData",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"handleGetStorageV2Data",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"handleSetStorageV2Data",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"handleExportVisualsContentStatus",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"handleExportVisualsContent",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"handleGetWebAccessStatus",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"handleModalDialogResult",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"handleAcquireAADTokenResult",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"handleGetAcquireAADTokenStatus",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"handleLicenseResult",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"handleLicenseNotificationResult",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"onRestoreSelection",null),(0,E.__decorate)([(0,o.HJ)(),(0,E.__metadata)("design:type",Function),(0,E.__metadata)("design:paramtypes",[Array,Object]),(0,E.__metadata)("design:returntype",void 0)],nt.prototype,"onRestoreCvSelectionIds",null),nt})(),Qr=!1;!function(){if(!Qr){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var nt=Tr;window.powerbi.visualSandbox.createSandboxHost=(_e,ke=!1)=>nt(_e,ke),Qr=!0}}();var wr=!1;(function(){if(!wr){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var nt=zr;window.powerbi.visualSandbox.onSecurityPolicyViolation=_e=>nt(_e),wr=!0}})(),te();class Pt{constructor(_e){this.isolate=!0,this.promiseFactory=_e.promiseFactory,this.plugin=_e.plugin,this.tooltipService=_e.visualHostTooltip}init(_e){var ke=_e.host.tooltips();ke&&(this.tooltipService=ke),this.cvContainer=_e.element,this.loadWithoutResourcePackage(this.plugin),this.hostServices=function(nt,_e,ke){return new u(nt,_e,ke)}(_e.host,this.cvContainer,this.tooltipService),this.visual.init({animation:_e.animation,element:this.cvContainer,host:this.hostServices,interactivity:_e.interactivity,style:_e.style,viewport:_e.viewport,localizationResources:this.plugin.localizationResources})}update(_e){return this.visual.update({dataViews:_e.dataViews,suppressAnimations:_e.suppressAnimations,viewMode:_e.viewMode,editMode:_e.editMode,viewport:_e.viewport,type:_e.type,operationKind:r.YB.Create,resizeMode:_e.resizeMode,isInFocus:_e.isInFocus,jsonFilters:_e.jsonFilters?_e.jsonFilters:null})}enumerateObjectInstancesAsync(_e){var ke=this.promiseFactory.defer();if(this.visual.enumerateObjectInstances){var dt=this.visual.enumerateObjectInstances(_e);return dt&&dt.instances&&ke.resolve({instances:dt.instances,containers:dt.containers}),ke.resolve(dt),ke.promise}}enumerateObjectRepetitionAsync(){var _e=this.promiseFactory.defer(),ke=this.visual.enumerateObjectRepetition();return _e.resolve(ke),_e.promise}getFormattingModelAsync(){if(this.visual.getFormattingModel){var _e=this.promiseFactory.defer();return _e.resolve(this.visual.getFormattingModel()),_e.promise}}onRestoreSelection(_e){var ke=this.hostServices.selectionManager;if(ke){if(_e&&_e.selection){var dt=_e.selection.map(xt=>t.M3.fromSelectorsByColumn(xt));ke.setSelectionIds(dt),ke.invokeOnSelectCallback(dt)}return!0}}onClearSelection(){var _e=this.hostServices.selectionManager;_e&&(_e.setSelectionIds([]),_e.invokeOnSelectCallback([]))}loadWithoutResourcePackage(_e){var dt=_e.apiVersion?this.isolate&&(0,a.lt)(_e.apiVersion,"3.0.0"):this.isolate;this.plugin=na(_e,!0,dt),this.createAdapter()}visualHasMethod(_e){return _.isFunction(this[_e])}destroy(){this.hideTooltip(),this.visual.destroy&&this.visual.destroy(),this.cvContainer&&this.cvContainer.empty()}createAdapter(){i.Y.assertValue(this.plugin,"Visual does not have a plugin");var _e=this.plugin;this.visual=(0,o.I2)(_e,_e.create,this.promiseFactory,null),i.Y.assertValue(this.visual,"Unable to create visual from plugin ")}hideTooltip(){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide({immediately:!0,isTouchEvent:!1})}}},45289:function(ve,z,e){e.d(z,{A:function(){return m}});var a=e(454840),i=e(716192),r=e(18122),t=e(44303),o=e(556686),d=e(788714),n=e(923973),c=e(534629),s=e(698244),p=e(252265),l=e(998416);class u{constructor(h,C,y){this.proxy=h,this.plugin=C,this.telemetryService=y,this.firstUpdateMessageSent=!1,this.isPluginReady=!1,this.pluginReadyDeferred=new p.c,this.proxy.setPluginReadyHandler(()=>{this.isPluginReady=!0,this.pluginReadyDeferred.resolve()}),this.updateWithDataDeferred=new p.c,Promise.allSettled([this.pluginReadyDeferred.promise,this.updateWithDataDeferred.promise]).then(()=>{this.postUpdateMessage()})}update(h){if(this.firstUpdateMessageSent)return this.proxy.update(h);if(this.updateMessage){this.updateMessage.type|=h.type,h.dataViews?.length>0&&(this.updateMessage.dataViews=h.dataViews);var C=h,y=_.clone(this.updateMessage);for(var f in C)"type"!==f&&"dataViews"!==f&&void 0!==C[f]&&(y[f]=C[f]);this.updateMessage=y}else this.updateMessage=h,this.updateMessageSentDeferred=new p.c;return(0,n._x)(h,this.plugin)||this.updateWithDataDeferred.resolve(),this.updateMessageSentDeferred.promise}postUpdateMessage(){this.updateMessage&&this.proxy.update(this.updateMessage).then(()=>{this.updateMessage=void 0,this.firstUpdateMessageSent=!0,this.updateMessageSentDeferred.resolve()}).catch(h=>{this.updateMessage=void 0,this.firstUpdateMessageSent=!0,this.updateMessageSentDeferred.reject(h)})}destroy(){(!this.isPluginReady||!this.firstUpdateMessageSent)&&this.telemetryService&&this.telemetryService.logEvent(l.LV,{visualType:this.plugin.name,parentId:this.telemetryService.root.id}),this.updateMessage=void 0}}class m{constructor(h){this.iframeFeatureSwitches=["dsrV2","cvSkipExtraResize"],this.pluginName=h.plugin.name,this.proxy=h.proxy,this.featureSwitchService=h.featureSwitchService,this.visualSandboxUri=h.visualSandboxUri,this.frontEndUrl=h.frontEndUrl?h.frontEndUrl:"'self'",this.hostEnv=h.hostEnv,this.accessibilityUpperIndicator=null,this.accessibilityLowerIndicator=null,this.connectionNonce=h.connectionNonce;var C=_.map(h.sandboxProperties,M=>(0,c.bA)(M)).join(" "),y="";h.plugin.capabilities&&h.plugin.capabilities.supportsKeyboardFocus&&(y=" tabindex=0");var f="";this.featureSwitchService.featureSwitches.forceColorSchemeForIFrames||(f="color-scheme: auto;"),this.iframeHtml=`<iframe style="border:none;${f}" class="visual-sandbox empty-sandbox-visual" sandbox="${C}" name="visual-sandbox"${y} aria-label="${h.localizationService.get("CustomVisualIframeAriaLabel")}"></iframe>`,this.plugin=h.plugin,this.telemetryService=h.telemetryService,this.certifiedEventsService=h.certifiedEventsService,this.localizationService=h.localizationService,this.privilegeService=h.privilegeService;var S={urlLauncher:h.urlLauncher,visualHostTooltip:h.visualHostTooltip,hostEnv:h.hostEnv,dataMultiSelectMode:h.dataMultiSelectMode,sandboxPropertiesString:C,allowModalDialog:_.isFunction(h.openIFrameDialog),dialogSandboxUri:h.dialogSandboxUri,openIFrameDialog:h.openIFrameDialog,getEmbedHostType:h.getEmbedHostType},b=new n.XK(this.proxy,h.promiseFactory,this.telemetryService,this.certifiedEventsService,this.featureSwitchService,h.approvedResourcesService,h.visualsLicenseService,h.visualDownloadService,h.visualLocalStorageV2ProxyService,h.privilegeService,h.customVisualsTokenManagerService,S,h.instanceId);this.proxy.init(b,h.plugin);var V=window.powerbi.visuals.plugins[this.pluginName];r.Y.assertValue(V.content,"plugin content is undefined"),this.proxy.postMessage("loadWithoutResourcePackage",[V]),this.plugin.capabilities?.privileges&&this.telemetryService.logEvent(l.BH,{visualType:this.plugin.name,privileges:JSON.stringify(this.plugin.capabilities.privileges)})}get sandbox(){return!0}init(h){this.element=h.element,this.tooltipService=h.host.tooltips(),h.featureSwitches&&(!this.updateMessagesProcessor&&h.featureSwitches.cvAggregateUpdateMessages&&(0,t.ge)(this.plugin.apiVersion??"2.0.0","4.2.0")&&(this.updateMessagesProcessor=new u(this.proxy,this.plugin,this.telemetryService)),h.featureSwitches=this.filterFeatureSwitches(h.featureSwitches,this.iframeFeatureSwitches)),this.initializeContainerTimerId=window.setTimeout(()=>{this.initializeContainerTimerId=void 0,this.element&&this.initContainer(h.viewport)},0),this.proxy.invoke("init",[h])}update(h){return this.updateMessagesProcessor?this.updateMessagesProcessor.update(h):this.proxy.update(h)}enumerateObjectInstancesAsync(h){return this.proxy.invoke("enumerateObjectInstancesAsync",[h])}getFormattingModelAsync(){return this.proxy.invoke("getFormattingModelAsync",[])}getSubSelectionStylesAsync(h){return this.proxy.invoke("getSubSelectionStylesAsync",[h])}getSubSelectionShortcutsAsync(h,C){return this.proxy.invoke("getSubSelectionShortcutsAsync",[h,C])}getSubSelectablesAsync(h){return this.proxy.invoke("getSubSelectablesAsync",[h])}enumerateObjectRepetitionAsync(){return this.proxy.invoke("enumerateObjectRepetitionAsync",[])}onRestoreSelection(h){if(this.supportCustomVisualSelectionId())return this.proxy.invoke("onRestoreCvSelectionIds",[h]);var C=h.selection.map(y=>(0,s.MG)(y));return this.proxy.invoke("onRestoreSelection",[{selection:C}])}visualHasMethod(h){return _.isFunction(this[h])}destroy(){void 0!==this.initializeContainerTimerId&&window.clearTimeout(this.initializeContainerTimerId),this.container&&this.container.remove(),this.accessibilityUpperIndicator?.remove(),this.accessibilityLowerIndicator?.remove(),this.hideTooltip(),this.updateMessagesProcessor&&this.updateMessagesProcessor.destroy(),this.proxy.invoke("destroy",[])}hideTooltip(){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide({immediately:!0,isTouchEvent:!1})}initContainer(h){this.marker=(0,a.ni)(`customVisual:${this.pluginName}:initContainer`);var y=h.width,f=h.height;this.featureSwitchService.featureSwitches.useCvSandboxCspIframe?this.container=this.createCspIframe(y,f):(this.container=$(this.iframeHtml),this.initSandboxIframe(this.container,y,f)),this.plugin.capabilities?.supportsKeyboardFocus?this.initWithAccessibilityIndicators():this.element.empty().append(this.container)}createCspIframe(h,C){var f=`<html><head><meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src 'unsafe-inline'; frame-src 'self'"></head><body style="margin:0;overflow:hidden;">${this.iframeHtml}</body></html>`,S=$(document.createElement("iframe"));return S.attr({class:"visual-sandbox",srcdoc:f}),S.height(C),S.width(h),S.one("load",()=>{var M=$(S[0].contentWindow.document.querySelectorAll(".visual-sandbox"));this.initSandboxIframe(M,h,C)}),S}getCSP(){var h=void 0,C=this.privilegeService.getWebAccessParameters(this.plugin);if(null!==C&&!this.isAsterisk(C)){var y=C.join(" ");h=`default-src ${this.frontEndUrl} data: blob: 'unsafe-inline' 'unsafe-eval' ${y};`}return h}isAsterisk(h){return 1===h.length&&"*"===h[0]}initSandboxIframe(h,C,y){var f=this.generateIFrameUrl();h.attr({src:f}),h.height(y),h.width(C),h.one("load",()=>this.onIFrameLoad(h)),h.on("mouseout",()=>this.hideTooltip())}initAccessibilityIndicators(){var h={opacity:"0","z-index":"-1","max-width":"0","max-height":"0"};this.accessibilityUpperIndicator=$(document.createElement("div")),this.accessibilityLowerIndicator=$(document.createElement("div")),this.accessibilityUpperIndicator.css(h),this.accessibilityLowerIndicator.css(h),this.accessibilityUpperIndicator.attr("tabindex","0"),this.accessibilityLowerIndicator.attr("tabindex","0"),this.accessibilityUpperIndicator.on("focus",C=>this.handleIndicatorFocus(C)),this.accessibilityLowerIndicator.on("focus",C=>this.handleIndicatorFocus(C))}handleIndicatorFocus(h){h.preventDefault(),this.proxy.postMessage("focusVisualIframeWindow",[])}initWithAccessibilityIndicators(){this.initAccessibilityIndicators(),this.element.empty().append(this.accessibilityUpperIndicator),this.element.append(this.container),this.element.append(this.accessibilityLowerIndicator)}onIFrameLoad(h){this.proxy.ready(h[0].contentWindow),this.marker()}generateIFrameUrl(){r.Y.assert(()=>!!this.localizationService.currentLanguageLocale,"current language locale is not valid");var h=d.Y.clearAllQueriesFromUrl(this.visualSandboxUri),C={locale:(0,o.JK)(this.localizationService.currentLanguageLocale)};this.hostEnv===i.J1.Desktop&&(C.plugin=this.pluginName),d.Y.getQueryStringValue("unmin")&&(C.unmin="1"),this.featureSwitchService.featureSwitches.useCvSandboxCspIframe&&(C.cspiframe="1"),this.featureSwitchService.featureSwitches.emCVDisableGlobals||(C.pbiglobals="1");var y=this.getCSP();y&&(C.csp=btoa(y));var f=this.connectionNonce?`#${this.connectionNonce}`:"";return h+d.Y.rebuildQueryString(C)+f}filterFeatureSwitches(h,C){var y={};return h&&C&&(y=_.reduce(Object.keys(h),(f,S)=>(C.indexOf(S)>-1&&(f[S]=h[S]),f),{})),y}supportCustomVisualSelectionId(){return this.proxy.plugin?.apiVersion&&(0,t.ge)(this.proxy.plugin.apiVersion,"2.0.0")}}for(var E of["update","onStyleChanged","onViewModeChanged","onEditModeChanged","onClearSelection","onSelectObject","canResizeTo"])(D=>{m.prototype[D]||(m.prototype[D]=function(){return this.proxy.invoke(D,_.toArray(arguments))})})(E)},923973:function(ve,z,e){e.d(z,{g3:function(){return fe},ab:function(){return re},Dg:function(){return ae},XK:function(){return ot},_x:function(){return tt}});var a=e(233390),i=e(345562),r=e(609370),t=e(693602),o=e(371577),d=e(698244),n=e(242264);function c(rt,Re){if(Re)return rt.convertCVSelectionIdToPowerbiSelctionId(Re).getSelectorsByColumn()}function s(rt,Re){return Re&&0!==Re.length&&Re[0].objectName?_.map(Re,J=>({objectName:J.objectName,selectorsByColumn:c(rt,J.selectionId)})):[{objectName:t.cp.VisualArea,selectorsByColumn:{}}]}function p(rt,Re){if(Re){var J=[];return Re.forEach(ce=>{(function(rt){if(!rt||!rt.selectionOrigin||rt.selectionOrigin.x<0||rt.selectionOrigin.y<0)return!1;var Re=rt.customVisualObjects;return!(!Re||Re.some(J=>!J))})(ce)&&J.push({visualObjects:s(rt,ce.customVisualObjects),displayName:ce.displayName,subSelectionType:ce.subSelectionType,selectionOrigin:{x:ce.selectionOrigin.x,y:ce.selectionOrigin.y},showUI:ce.showUI,immediateDirectEdit:ce.immediateDirectEdit,metadata:ce.metadata,target:ce.target})}),J}}function g(rt,Re){Re.destinationInfo&&y(rt,Re.destinationInfo)}function D(rt,Re){C(rt,Re.relatedToggledFormattingIds),y(rt,Re)}function C(rt,Re){Re?.forEach(J=>{y(rt,J)})}function y(rt,Re){Re?.selector&&(Re.selector=function(rt,Re){return rt.deserializeOpaqueIdentity(Re),(0,d.BE)(Re)}(rt,Re.selector))}var b={[o.tI.Arc]:function(rt,Re){return!!(w(rt.center,Re)&&null!=rt.innerRadius&&null!=rt.outerRadius)&&(rt.innerRadius=rt.innerRadius*Re.scale,rt.outerRadius=rt.outerRadius*Re.scale,!O(rt)||M(rt.clipPath,Re))},[o.tI.Group]:void 0,[o.tI.Line]:T,[o.tI.Polygon]:T,[o.tI.Rectangle]:function(rt,Re){if(null!=rt.x&&null!=rt.y&&null!=rt.width&&null!=rt.height){var it=Re.fixCoordinates([rt.x,rt.y]);rt.x=it[0],rt.y=it[1],rt.width=rt.width*Re.scale,rt.height=rt.height*Re.scale;var yt=rt,Nt=yt.cVDirectEdit;return Nt&&(yt.directEdit=()=>Nt,delete yt.cVDirectEdit),!yt.clipPath||M(yt.clipPath,Re)}return!1}};function M(rt,Re){for(var J=[rt],ce=Re.loopLimit,Ce=!1,ze=0;J.length&&ze<ce;){var it=J.pop();if(Ce=!1,ze++,it){if(I(it)){it.outlines.forEach(Nt=>J.push(Nt));continue}Ce=(0,b[it.type])(it,Re)}if(!Ce)return!1}return Ce&&ze<ce}function T(rt,Re){for(var J of rt.points)if(!w(J,Re))return!1;return!O(rt)||M(rt.clipPath,Re)}function w(rt,Re){if(null!=rt.x&&null!=rt.y){var J=Re.fixCoordinates([rt.x,rt.y]);return rt.x=J[0],rt.y=J[1],!0}return!1}function I(rt){return rt&&rt.type===o.tI.Group}function O(rt){return!!rt.clipPath}var x=e(710834),j=e(478952),U=e(968830);function F(rt,Re){return{...rt,hierarchyData:rt.hierarchyData.map(ce=>R(ce,Re))}}function R(rt,Re){var J={identity:Re.getCustomVisualOpaqueIdentityByDataViewScopeIdentity(rt.identity),operator:rt.operator};return rt.children?.length&&(J.children=rt.children.map(ce=>R(ce,Re))),J}function B(rt,Re){return{...rt,hierarchyData:rt.hierarchyData.map(ce=>A(ce,Re))}}function A(rt,Re){if(!(0,U.Nn)(rt.identity))throw new Error("invalid CustomVisualOpaqueIdentity");var J={identity:Re.getDataViewScopeIdentityByCustomVisualOpaqueIdentity(rt.identity),value:Re.getDataViewValueByCustomVisualOpaqueIdentity(rt.identity),operator:rt.operator};return rt.children?.length&&(J.children=rt.children.map(ce=>A(ce,Re))),J}var W=e(21756),G=e(464472),K=e(464714),q=e(716192),ne=e(988045),k=e(291010),L=e(534629),X=e(664148),Y=e(95006),Q=e(333129),H=e(18122),te=e(521780);function ue(rt,Re){if(function(rt){return null!=rt?.control?.properties?.descriptor?.objectName}(rt)){var J=rt.control.properties;J.descriptor=Te(Re,J.descriptor)}else{var ce=rt?.control?.properties;Object.keys(ce).forEach(Ce=>{var ze=ce[Ce];ze.descriptor=Te(Re,ze.descriptor)})}}function Te(rt,Re){return rt.deserializeOpaqueIdentity(Re?.altConstantValueSelector),rt.deserializeOpaqueIdentity(Re?.selector),function(rt){return{...rt,selector:(0,d.BE)(rt.selector),altConstantValueSelector:(0,d.BE)(rt.altConstantValueSelector)}}(Re)}var ft=e(44303),mt=e(693029),At=e(477055),Qe=e(262273),Fe=e(816030),ye=e(65346),Oe=102400,xe=(0,ye.bq)("LVSTORAGE:","1",Oe,43200),Ie=new class{loadDictionary(Re,J,ce=!1){var Ce=this.getStorageKey(Re,J,ce),ze=xe.getData(Ce);return ze||(ze={}),ze}saveDictionary(Re,J,ce,Ce=!1){var ze=this.getStorageKey(Re,J,Ce);xe.setData(ze,_(ce).isEmpty()?void 0:ce)}getStorageKey(Re,J,ce){return ce?J:btoa((Re??"NA")+"|"+J)}getData(Re,J,ce){var Ce=null;try{var ze=this.loadDictionary(Re,J);Ce=atob(ze[btoa(ce)])}catch{Ce=this.getAndRemoveLegacyData(Re,J,ce)}return Ce}setData(Re,J,ce,Ce){try{var it=this.loadDictionary(Re,J);it[btoa(ce)]=btoa(Ce);var yt=JSON.stringify(it).length;return yt<=Oe&&this.saveDictionary(Re,J,it),Oe-yt}catch{}return 0}remove(Re,J,ce){try{var Ce=this.loadDictionary(Re,J);Ce[btoa(ce)]=void 0,this.saveDictionary(Re,J,Ce)}catch{}}getAndRemoveLegacyData(Re,J,ce){var Ce=this.loadDictionary("",J,!0),ze=Ce[ce];return void 0!==ze&&(Ce[ce]=void 0,this.saveDictionary("",J,Ce,!0),this.setData(Re,J,ce,ze)),ze}},Je=e(789327),pe=e(715068),Pe=e(111199),Me=e(209971),Ge=e(998416);class de{constructor(Re,J,ce,Ce){this.messageProxy=Re,this.telemetryService=J,this.plugin=ce,this.instanceId=Ce,this._modalDialogState=null,this._dialog=null,this._iframe=null,this._minDisplayDurationReached=!1,H.Y.assertValue(Re,"messageProxy"),setTimeout(()=>{this._minDisplayDurationReached=!0},2e3),this.messageProxy.on(Me.R,ze=>this.onMessageReceived(ze)),this.messageProxy.on(Me.wA,ze=>this.onMessageError(ze))}set dialog(Re){this._dialog=Re}set iframe(Re){this._iframe=Re}get modalDialogState(){return this._modalDialogState}postMessage(Re,J){this.messageProxy.postMessage({eventName:Re,arguments:J})}postMessageAsync(Re,J){return this.messageProxy.postMessageAsync({eventName:Re,arguments:J})}destroy(){this.messageProxy.off(Me.R),this.messageProxy.off(Me.wA),this.messageProxy.destroy(),this._dialog=null,this._iframe=null}onMessageReceived(Re){this.validateMessageSource(Re)&&(_.isFunction(this[Re.message.eventName])?this[Re.message.eventName].apply(this,Re.message.arguments):this.telemetryService.logEvent(Ge.T2,{visualType:this.plugin.name,instanceId:this.instanceId,payload:"invalid message"}))}onMessageError(Re){this.validateMessageSource(Re)&&Re.message&&Re.message.error&&this.telemetryService.logEvent(Ge.T2,{visualType:this.plugin.name,instanceId:this.instanceId,payload:Re.message.error})}onDialogSetState(Re){this._modalDialogState=Re}onDialogClose(Re,J){J&&(this._modalDialogState=J),this._dialog&&this._minDisplayDurationReached&&this._dialog.close(Re)}onDialogResize(Re,J){if(this._dialog){var ce=_.clamp(Re,200,Math.ceil(.9*window.innerWidth))+2,Ce=_.clamp(J,100,Math.ceil(.91*window.innerHeight-120))+2;this._dialog.resize(ce,Ce)}}validateMessageSource(Re){return H.Y.assertValue(Re,"message"),!(!Re.source||!this._iframe||this._iframe.contentWindow!==Re.source||!_.includes(["onDialogSetState","onDialogClose","onDialogResize"],Re.message.eventName))}}var Ze=e(454840),Ye=["txt","csv","json","tmplt","xml","pdf","xlsx"],ut=31457280;class et{constructor(Re,J,ce,Ce){this.visualDownloadService=Re,this.telemetryService=J,this.plugin=ce,this.instanceId=Ce}exportVisualsContent(Re,J,ce,Ce,ze){var it=J.split(".").pop();ce=ce.toLowerCase();var yt=this.getBlobSize(Re,ce);return this.validateContentSource(Re,J,ce,Ce,yt)?this.visualDownloadService.exportVisualsContent(Re,J,ce,Ce,this.plugin.name,yt).then(Nt=>(this.telemetryService.logEvent(Ge.qi,{isFileSaved:Nt.downloadCompleted,contentSize:yt,visualType:this.plugin.name,instanceId:this.instanceId,extension:it}),{promiseId:ze,data:Nt}),()=>({promiseId:ze,data:{downloadCompleted:!1,fileName:void 0}})):this.handleInvalidRequest(yt,it,ze)}validateContentSource(Re,J,ce,Ce,ze){var it=J.split(".").pop().toLowerCase(),yt=Ye.filter(Lt=>it===Lt).length>0,Nt=null===J.match(/[:/\\]/);return!(!Re||!ce||!Ce||!Nt||!yt||ze>ut)}getBlobSize(Re,J){if(!Re)return 0;if(Re.length>ut)return ut+1;var Ce=new Blob([Re],{type:Ze.mo});return Ce?"base64"===J?3*Ce.size/4:Ce.size:0}handleInvalidRequest(Re,J,ce){return this.telemetryService.logEvent(Ge.YK,{contentSize:Re,visualType:this.plugin.name,instanceId:this.instanceId,extension:J}),Promise.resolve({promiseId:ce,data:{downloadCompleted:!1}})}}var le=e(427870),me=function(rt){return rt[rt.AlreadyOpen=1]="AlreadyOpen",rt[rt.NotAllowed=2]="NotAllowed",rt[rt.BlockedByUser=3]="BlockedByUser",rt[rt.UnKnown=4]="UnKnown",rt}({}),Be=e(275095),Ke=e(591287),Xe=e(96673),re={[mt.Zb.General]:"icon",[mt.Zb.UnsupportedEnv]:"unsupported environment blocker",[mt.Zb.VisualIsBlocked]:"blocker"},fe={[q.J1.Web]:"Web",[q.J1.PublishToWeb]:"PublishToWeb",[q.J1.Desktop]:"Desktop",[q.J1.Embed]:"Embed",[q.J1.ReportServer]:"ReportServer",[q.J1.ExportReportHost]:"ExportReportHost",[q.J1.Mobile]:"Mobile",[q.J1.DashboardHost]:"DashboardHost",[q.J1.Unknown]:"Unknown"},ae={[o.QC.Allowed]:"Allowed",[o.QC.DisabledByAdmin]:"DisabledByAdmin",[o.QC.NotSupported]:"NotSupported",[o.QC.NotDeclared]:"NotDeclared"};function tt(rt,Re){if(rt.visualHasData&&(!rt.dataViews||0===rt.dataViews.length))return!0;var J=Re.capabilities;return rt.visualRequiresData&&rt.dataViews&&0===rt.dataViews.length&&!(J&&J.supportsLandingPage&&(J&&J.supportsEmptyDataView||rt.viewMode===mt.nE.Edit))}var ot=(()=>{class rt{constructor(J,ce,Ce,ze,it,yt,Nt,Lt,zt,Yt,Qt,sr,je){this.proxy=J,this.promiseFactory=ce,this.telemetryService=Ce,this.certifiedEventsService=ze,this.featureSwitchService=it,this.approvedResourcesService=yt,this.licenseService=Nt,this.visualDownloadService=Lt,this.visualLocalStorageV2ProxyService=zt,this.privilegeService=Yt,this.customVisualsTokenManagerService=Qt,this.visualSandboxOptions=sr,this.instanceId=je,this.canHandleLoadMoreData=!0,this.dataTransforms={},this.formatMode=!1,this.isFirstUpdate=!0,this.isDestroyed=!1,this.dataViewSerializer=new ne.T,this.visualSelections=[],this.asyncSerializer=new j.P}get sandbox(){return!0}init(J){this.visualHostServices=J.host,this.visualAdapterHostServices=J.visualAdapterHostServices,this.tooltipService=this.visualHostServices.tooltips(),this.featureSwitches=J.featureSwitches,this.tooltipService||(this.tooltipService=this.visualSandboxOptions.visualHostTooltip),this.element=J.element,this.resize(J.viewport),this.visualStyle=J.style;var ce=this.visualSandboxOptions?.hostEnv;this.isExportVisualsContentSupported=!!ce&&!!(ce&(q.J1.Web|q.J1.Desktop))&&!!J.interactivity?.isVisualInteractive,J.interactivity=J.interactivity||{},J.interactivity.allowModalDialog=this.visualSandboxOptions?.allowModalDialog&&J.interactivity.isVisualInteractive,this.initOptions=J;var Ce={animation:J.animation,interactivity:J.interactivity,viewport:J.viewport,style:(0,le.Ot)(J.style),featureSwitches:J.featureSwitches,hostEnv:this.visualSandboxOptions?this.visualSandboxOptions.hostEnv:void 0,instanceId:this.instanceId,dataMultiSelectMode:this.visualSandboxOptions&&this.visualSandboxOptions.dataMultiSelectMode&&this.visualSandboxOptions.dataMultiSelectMode()};this.proxy.postMessage("init",[Ce])}getHostEnvString(){return this.visualSandboxOptions?.hostEnv?fe[this.visualSandboxOptions.hostEnv]:"Undefined"}update(J){this.isFirstUpdate&&(this.isFirstUpdate=!1,this.logCapabilitiesTelemetry(J));var ce=this.promiseFactory.defer(),Ce=(ze,it)=>this.proxy.postMessageAsync(ze,it);return tt(J,this.proxy.plugin)?(J.updateCallBack&&J.updateCallBack(),ce.resolve(null),ce.promise):this.asyncSerializer.enqueue(()=>this.updateCore(J,Ce))}updateCore(J,ce){var Ce=this;return(0,a.A)(function*(){var ze,it,yt,Nt=[];if(Ce.formatMode=J.formatMode,(J.type&mt.YL.All)===mt.YL.All||(J.type&mt.YL.Resize)!==mt.YL.Resize||J.resizeMode===mt.OJ.Resized){var Lt=Ce.proxy&&Ce.proxy.plugin&&Ce.proxy.plugin.apiVersion;if(J.dataViews&&J.dataViews[0]&&(0,L.Ht)(Ce.proxy?.plugin)){H.Y.assert(()=>J.dataViews.length<=1,"Custom Visuals should only use one dataView");try{J?.dataViews[0]?.metadata?.columns&&(J.dataViews[0].metadata.columns=_.filter(J.dataViews[0].metadata.columns,nr=>nr.roles||""!==nr.displayName))}catch(nr){H.Y.assertFail("failed to filter columns: "+nr)}Ce.shouldUpdateWithCachedData(J)?yt=Ce.dataViewSerializer.serializeDataViewMetadata(J.dataViews[0]):it=Ce.dataViewSerializer.serializeDataViewForCv(J.dataViews[0],Ce.proxy.plugin.capabilities,!1,(0,ft.gt)(Lt,"3.5.9"),[],(0,ft.ge)(Lt,"5.3.0"),(0,ft.ge)(Lt,"5.9.0")),Nt=Ce.RestoreCvSelectionIds(Ce.visualSelections)}var Qt,zt=!!(J.dataViews&&J.dataViews.length>0&&J.dataViews[0].categorical&&J.dataViews[0].categorical.categories&&J.dataViews[0].categorical.categories.length>0&&J.dataViews[0].categorical.categories[0]&&J.dataViews[0].categorical.categories[0].values),Yt=[];zt&&(Yt=J.dataViews[0].categorical.categories[0].values,J.dataViews[0].categorical.categories[0].source&&J.dataViews[0].categorical.categories[0].source.type&&(Qt=J.dataViews[0].categorical.categories[0].source.type.dateTime));var je,sr=J?.dataViews?.[0]?.metadata?.objects,Tt=sr&&(0,Fe._W)(sr,L.PO);if(Tt)try{je=yield Ce.getJSONFilter(Tt)}catch{je=[]}else je=[];Ce.dataTransforms=J.dataTransforms;var Kt={dataViewSource:J.visualDefinitionData?J.visualDefinitionData.dataViewSource:null,dataTransforms:Q.R.serializeDataViewTransformActions(J.dataTransforms,Ce.proxy.plugin.capabilities.objects||{}),suppressAnimations:J.suppressAnimations,viewMode:J.viewMode,editMode:J.editMode,viewport:J.viewport,type:J.type,resizeMode:J.resizeMode,isInFocus:J.isInFocus,categoriesValues:zt?Yt:null,isCategoryDate:Qt,serializedDataView:it,jsonFilters:je,dataViewMetadata:yt,selections:Nt,updateId:J.updateId,formatMode:J.formatMode,subSelections:Ce.convertToCustomVisualSubSelections(J.subSelections),pendingChanges:J.pendingChanges};Ce.shouldUpdateWithCachedData(J)?(Ce.lastDataViewSource=Kt.dataViewSource,Kt.dataViewSource=null,ze=yield ce("updateWithCachedData",[Kt])):(Ce.lastDataViewSource=Kt.dataViewSource,ze=yield ce("update",[Kt]))}else J.updateCallBack&&J.updateCallBack();return window.setTimeout(()=>Ce.resize(J.viewport)),ze})()}getJSONFilter(J){var ce=this;return(0,a.A)(function*(){var Ce=yield ce.visualHostServices.getJSONFilter(J,ce.dataViewSerializer.identitiesArray);return _.map(Ce,ze=>ce.processGetJsonFilter(ze))})()}processGetJsonFilter(J){return J.filterType===At.FilterType.HierarchyIdentity?this.processGetHierarchyIdentityJsonFilter(J):J}processGetHierarchyIdentityJsonFilter(J){return F(J,this.dataViewSerializer)}logCapabilitiesTelemetry(J){var Tt,Kt,ce=this.proxy.plugin,Ce=ce?.capabilities,ze=J?.dataViews?.[0]?.metadata?.objects,it={sorting:{implicit:!!Ce?.sorting?.implicit,default:!!Ce?.sorting?.default,custom:!!Ce?.sorting?.custom},expandCollapse:zt(ze,Ce?.expandCollapse?.addDataViewFlags,!0),subTotals:{RowSubtotalType:{Top:zt(ze,Ce?.subtotals?.matrix?.rowSubtotalsType,mt.Zx.Top),Bottom:zt(ze,Ce?.subtotals?.matrix?.rowSubtotalsType,mt.Zx.Bottom)}}},yt=function Yt(je){var Tt=[],Kt=new Map(Object.entries(je));for(var nr of Object.keys(je)){var ar=Kt.get(nr);if("boolean"==typeof ar)ar&&Tt.push(nr);else{var $e=Yt(ar);$e.length&&Tt.push({[nr]:$e})}}return Tt}(it);if(yt.length){this.telemetryService.logEvent(Ge.is,{visualType:ce.name,existingCapabilities:JSON.stringify({apiVersion:ce.apiVersion,visualVersion:ce.version,existingTrackedCapabilities:yt})});var Lt={apiMajorVersion:ce.apiVersion&&(0,ft.x6)(ce.apiVersion)?.major,apiMinorVersion:ce.apiVersion&&(0,ft.x6)(ce.apiVersion)?.minor,visualMajorVersion:ce.version&&(0,ft.x6)(ce.version)?.major,visualMinorVersion:ce.version&&(0,ft.x6)(ce.version)?.minor};Tt=Lt,function sr(je,Tt,Kt=""){var nr=new Map(Object.entries(je));for(var ar of Object.keys(je)){var $e=nr.get(ar),pt=""!==Kt?Kt+"."+ar:ar;"boolean"==typeof $e?$e&&Tt.push(pt):sr($e,Tt,pt)}}(it,Kt=[]),Kt.forEach(nr=>{var ar=nr.split("."),$e=ar[0],pt=1===ar.length?ar[0]:ar.slice(1).join(".");Tt[$e]=Tt[$e]?Tt[$e]+", "+pt:pt}),this.certifiedEventsService.logStandardizedFeatureEvent({activityAttributes:{...Lt},activityName:Ge.D,correlationId:this.telemetryService.root?.id,visualId:ce.name})}function zt(je,Tt,Kt){var nr=!1;return Tt&&(nr=Tt.propertyIdentifier?(0,Fe._W)(je,Tt.propertyIdentifier,Tt.defaultValue)===Kt:Tt.defaultValue===Kt),nr}}getFormattingModelAsync(){return this.asyncSerializer.enqueue(()=>{var J=this.promiseFactory.defer();return this.proxy.postMessageAsync("getFormattingModel",[]).then(ce=>{var Ce=ce;if(!Ce)return J.resolve(null);var ze=function(rt,Re){return Re?.cards.forEach(J=>{J?.groups?.forEach(ce=>{ce?.slices?.forEach(Ce=>{ue(Ce,rt)}),ce?.container?.containerItems?.forEach(Ce=>{Ce?.slices?.forEach(ze=>{ue(ze,rt)}),Ce?.groups?.forEach(ze=>{ze?.slices?.forEach(it=>{ue(it,rt)})})})})}),Re}(this.dataViewSerializer,Ce);J.resolve(ze)}).catch(ce=>J.reject(ce)),J.promise})}getSubSelectionStylesAsync(J){return this.asyncSerializer.enqueue(()=>{var ce=this.promiseFactory.defer(),Ce=this.convertToCustomVisualSubSelections(J);return this.proxy.postMessageAsync("getSubSelectionStyles",[Ce]).then(ze=>{if(!ze)return ce.resolve(void 0);var it=function(rt,Re){if(Re)return function(rt){if(rt.type=rt.type??n.RV.None,rt.type===n.RV.Text||rt.type===n.RV.NumericText){var Re={label:"",reference:{objectName:"",propertyName:""}};"font"in rt&&(rt.font=rt.font??Re),rt.fontColor=rt.fontColor??Re}}(Re),Object.values(Re)?.forEach(J=>{y(rt,J?.reference)}),Re}(this.dataViewSerializer,ze);ce.resolve(it)}).catch(ze=>ce.reject(ze)),ce.promise})}getSubSelectionShortcutsAsync(J,ce){return this.asyncSerializer.enqueue(()=>{var Ce=this.promiseFactory.defer(),ze=this.convertToCustomVisualSubSelections(J);return this.proxy.postMessageAsync("getSubSelectionShortcuts",[ze,ce]).then(it=>{if(!it)return Ce.resolve(void 0);var yt=function(rt,Re){return Re?.forEach(J=>{if(J)switch(J.type){case n.P2.Reset:!function(rt,Re){C(rt,Re.relatedResetFormattingIds),C(rt,Re.excludedResetFormattingIds)}(rt,J);break;case n.P2.Toggle:D(rt,J);break;case n.P2.ConditionalFormatting:y(rt,J);break;case n.P2.Navigate:g(rt,J);break;case n.P2.SubMenu:!function(rt,Re){Re.shortcuts?.forEach(J=>{if(J)switch(J.type){case n.P2.Toggle:D(rt,J);break;case n.P2.Navigate:g(rt,J);break;case n.P2.ConditionalFormatting:y(rt,J)}})}(rt,J);break;case n.P2.SetValue:!function(rt,Re){Re.referencesAndValues?C(rt,Re.referencesAndValues):Re.referencesAndValues=[]}(rt,J)}}),Re}(this.dataViewSerializer,it);Ce.resolve(yt)}).catch(it=>Ce.reject(it)),Ce.promise})}getSubSelectablesAsync(J){return this.asyncSerializer.enqueue(()=>{var ce=this.promiseFactory.defer();return this.proxy.postMessageAsync("getSubSelectables",[J]).then(Ce=>{if(!Ce)return ce.resolve(void 0);var ze=p(this.dataViewSerializer,Ce);ce.resolve(ze)}).catch(Ce=>ce.reject(Ce)),ce.promise})}enumerateObjectInstancesAsync(J){return this.asyncSerializer.enqueue(()=>{var ce=this.promiseFactory.defer();return this.proxy.postMessageAsync("enumerateObjectInstances",[J]).then(Ce=>{var ze=Ce;if(!ze)return ce.resolve(null);if(ze.instances){var it;if((0,L.Ht)(this.proxy?.plugin)){var yt=this.dataViewSerializer.deserializeVisualObjectInstance(ze.instances);it=(0,Be.iu)(yt)}else it=(0,Be.iu)(ze.instances);var Nt={instances:it,containers:ze.containers?(0,Be.EX)(ze.containers):null};return ce.resolve(Nt)}(0,L.Ht)(this.proxy?.plugin)&&(Ce=this.dataViewSerializer.deserializeVisualObjectInstance(Ce));var Lt=(0,Be.iu)(Ce);ce.resolve(Lt)}).catch(Ce=>ce.reject(Ce)),ce.promise})}enumerateObjectRepetitionAsync(){return this.asyncSerializer.enqueue(()=>{var J=this.promiseFactory.defer();return this.proxy.postMessageAsync("enumerateObjectRepetition",[]).then(ce=>{if(!ce)return J.resolve(null);var ze=(0,Ke.iu)(ce);J.resolve(ze)}).catch(ce=>J.reject(ce)),J.promise})}onSelect(J){var ce;if((0,te.Rr)(J)){var Ce=J;ce={data:(0,d.mV)(Ce.data),data2:(0,d.bZ)(Ce.data2),selectors:(0,d.mV)(Ce.selectors)}}else{var{visualObjects:ze}=J;ce={type:o.H6.DataPointSelection,visualObjects:(0,d.kv)(ze)}}this.visualHostServices.onSelect(ce)}subSelect(J){if(this.formatMode&&J){var ce,Ce=p(this.dataViewSerializer,[J]);if(Ce&&Ce[0]){var ze=this.fixCoordinates([Ce[0].selectionOrigin.x,Ce[0].selectionOrigin.y]);if(ce={...Ce[0],type:o.H6.FormattingSubSelection,selectionOrigin:{x:ze[0],y:ze[1]}},this.visualHostServices.onSelect(ce),Ce[0].showUI){var it=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!0,button:2,clientX:ze[0],clientY:ze[1]});Ce[0].visualObjects[0].objectName!==t.cp.VisualArea&&(0,Je.o)(it),this.element.get(0).dispatchEvent(it)}}}}updateRegionOutlines(J){if(this.formatMode&&J){var Ce=function(rt,Re){for(var J=[],ce=Math.min(rt.length,Re.loopLimit),Ce=0;Ce<ce;Ce++)M(rt[Ce].outline,Re)&&J.push(rt[Ce]);return J}(J,{fixCoordinates:it=>this.fixCoordinates(it),loopLimit:1e5,scale:this.viewPortScale}),ze=this.visualHostServices.getSubSelectionService();ze?.updateRegionOutlines(Ce)}}convertToCustomVisualSubSelections(J){if(J){var ce=this.proxy?.plugin?.apiVersion;return J.map(Ce=>{var ze=Ce.visualObjects.map(it=>{var yt=it.selectorsByColumn&&this.dataViewSerializer.restoreIdentitiesIndexesFromSelectionId(it.selectorsByColumn,(0,ft.ge)(ce,"5.8.0"));return{objectName:it.objectName,selectionId:yt&&new k.r(yt.serializedDataMap,yt.measures)}});return{...Ce,visualObjects:[],customVisualObjects:ze}})}}transformCvSelectionIdsAndSelect(J){var ce;if(this.visualSelections=[],J.selectionIds)for(var Ce of(ce={type:o.H6.DataPointSelection,visualObjects:[]},J.selectionIds)){Ce=new k.r(Ce.dataMap,Ce.measures);var it=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(Ce).getSelectorsByColumn();ce.visualObjects.push({objectName:"dataPoint",selectorsByColumn:it}),this.visualSelections.push(it)}else ce={type:o.H6.DataPointSelection,visualObjects:[]};ce.selectionMode=J.multiSelect?pe.v.Difference:pe.v.Single,this.visualHostServices.onSelect(ce)}onRestoreCvSelectionIds(J){if(J.selection){var ce=this.RestoreCvSelectionIds(J.selection);return this.proxy.postMessage("onRestoreCvSelectionIds",[ce]),!0}}RestoreCvSelectionIds(J){this.visualSelections=J;var ce=[];for(var Ce of J)if(Ce){var ze=this.dataViewSerializer.restoreIdentitiesIndexesFromSelectionId(Ce);ze&&ce.push(ze)}return ce}onUpdateResult(J){this.element.children("iframe.visual-sandbox").toggleClass("empty-sandbox-visual",!J)}onRelayUIEvent(J){var ce=this.element.offset();if(null!=ce){var Ce;switch(J.type){case"click":case"mouseup":case"MSPointerUp":case"pointerup":case"dblclick":Ce=new MouseEvent(J.type,{screenX:J.screenX,screenY:J.screenY,clientX:J.clientX?J.clientX+ce.left:ce.left,clientY:J.clientY?J.clientY+ce.top:ce.top,ctrlKey:J.ctrlKey,shiftKey:J.shiftKey,altKey:J.altKey,metaKey:J.metaKey,buttons:J.buttons,relatedTarget:J.relatedTarget,bubbles:J.bubbles});break;case"tap":case"touchend":case"touchcancel":var Nt=J,Lt=this.createTouchList(Nt.touches,ce),zt=this.createTouchList(Nt.changedTouches,ce),Yt=this.createTouchList(Nt.targetTouches,ce);Ce=new TouchEvent(Nt.type,{touches:Lt,targetTouches:Yt,changedTouches:zt,view:window,ctrlKey:Nt.ctrlKey,shiftKey:Nt.shiftKey,altKey:Nt.altKey,metaKey:Nt.metaKey});break;case"keydown":Ce=new KeyboardEvent(J.type,{altKey:J.altKey,bubbles:J.bubbles,cancelable:J.cancelable,code:J.code,composed:J.composed,ctrlKey:J.ctrlKey,key:J.key,keyCode:J.keyCode,metaKey:J.metaKey,shiftKey:J.shiftKey});break;default:return}this.element.get(0).dispatchEvent(Ce)}}createTouchList(J,ce){var Ce=[];if(null==J)return Ce;for(var ze=0;ze<J.length;ze++){var it=J.item(ze),yt=new Touch({identifier:it.identifier,target:it.target,clientX:it.clientX?it.clientX+ce.left:ce.left,clientY:it.clientY?it.clientY+ce.top:ce.top,screenX:it.screenX,screenY:it.screenY,pageX:it.pageX?it.pageX+ce.left:ce.left,pageY:it.pageY?it.pageY+ce.top:ce.top,radiusX:it.radiusX,radiusY:it.radiusY,rotationAngle:it.rotationAngle,force:it.force});Ce.push(yt)}return Ce}persistProperties(J){var Ce,ce=J;ce.merge||ce.remove||ce.replace?(this.deserilizePersistedSelectors(ce),Ce={merge:ce.merge?(0,Be.iu)(ce.merge):null,remove:ce.remove?(0,Be.iu)(ce.remove):null,replace:ce.replace?(0,Be.iu)(ce.replace):null}):Ce=(0,Be.iu)(J),this.visualHostServices.persistProperties(Ce)}deserilizePersistedSelectors(J){var ce=Ce=>{Ce?.map(ze=>(this.dataViewSerializer.deserializeOpaqueIdentity(ze.selector),ze))};ce(J.merge),ce(J.remove),ce(J.replace)}applyJsonFilter(J,ce,Ce,ze){switch(J&&J.length>0&&J[0].filterType){case At.FilterType.Identity:return this.applyIdentityFilter(J,ce,Ce,ze);case At.FilterType.HierarchyIdentity:return this.applyHierarchyIdentityFilter(J,ce,Ce,ze);default:return this.visualHostServices.applyJsonFilter(J,ce,Ce,ze)}}applyHierarchyIdentityFilter(J,ce,Ce,ze,it){var yt=this.proxy.plugin.apiVersion;if(yt&&!(0,ft.lt)(yt,"5.9.0")){try{J[0]=B(J[0],this.dataViewSerializer)}catch{return void it({telemetryServiceArgs:{aborted:!0}})}this.visualHostServices.applyJsonFilter(J,ce,Ce,ze)}else it({telemetryServiceArgs:{aborted:!0,invalidApiVersion:!0}})}refreshHostData(){this.visualHostServices.refreshHostData()}setCanDrill(J,ce){this.featureSwitchService.featureSwitches.drillStateToggleable&&(ce({telemetryServiceArgs:{drillAllowed:J}}),this.visualHostServices.setCanDrill(J))}drill(J){!J?.roleName||!J?.drillType||this.visualHostServices.drill(J)}onCustomVisualContextMenu(J,ce){if(J&&J.data&&J.position&&J.data[0]){var yt,Ce=J.data[0],ze=new k.r(Ce.dataMap,Ce.measures,Ce.nodeIsCollapsed,Ce.nodeIndexes),it=this.proxy&&this.proxy.plugin&&this.proxy.plugin.capabilities&&this.proxy.plugin.capabilities;if(it&&it.expandCollapse){var Lt=this.getRowsRoles(it);Lt&&_.isEqual(Lt,J.dataRoles)&&(this.dataViewSerializer.sortSelectionIdAccordingToRows(ze)?(yt=this.dataViewSerializer.getNodeIndexOfSelectionId(ze),_.isEmpty(yt)&&(ce({telemetryServiceArgs:{expandCollapseAborted:!0}}),yt=void 0,J.dataRoles=void 0)):(ce({telemetryServiceArgs:{expandCollapseAborted:!0}}),J.dataRoles=void 0))}var Yt=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(ze),Qt=this.fixCoordinates([J.position.x,J.position.y]),sr=Yt.getSelectorsByColumn();this.visualHostServices.onContextMenu({data:sr?[sr]:void 0,nodeIndex:yt,position:{x:Qt[0],y:Qt[1]},copyArgs:J.copyArgs,dataRoles:J.dataRoles})}}onCustomVisualExpandCollapse(J,ce){var Ce=J&&J.data,ze=this.proxy&&this.proxy.plugin&&this.proxy.plugin.capabilities&&this.proxy.plugin.capabilities,it=this.getRowsRoles(ze);if(Ce&&null!=Ce.nodeIsCollapsed&&ze&&ze.expandCollapse&&it)if(this.dataViewSerializer.sortSelectionIdAccordingToRows(Ce)){var Lt=this.dataViewSerializer.getNodeIndexOfSelectionId(Ce);if(_.isEmpty(Lt))ce({telemetryServiceArgs:{aborted:!0}});else{var zt=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(Ce).getSelectorsByColumn();J.entireLevel?this.visualHostServices.setLevelExpansionState({data:zt,dataRoles:it,isCollapse:!Ce.nodeIsCollapsed,nodeIndex:Lt}):this.visualHostServices.setNodeExpansionState({data:zt,dataRoles:it,isCollapse:!Ce.nodeIsCollapsed,nodeIndex:Lt})}}else ce({telemetryServiceArgs:{aborted:!0}});else ce({telemetryServiceArgs:{aborted:!0}})}exportVisualsContentStatusInternal(){var J=this.privilegeService.getExportContentStatus(this.proxy.plugin);return J===o.QC.Allowed&&!this.isExportVisualsContentSupported&&(J=o.QC.NotSupported),J}exportVisualsContentStatus(J){var ce=this.exportVisualsContentStatusInternal();this.proxy.postMessage("handleExportVisualsContentStatus",[{status:ce,promiseId:J}])}exportVisualsContent(J,ce,Ce,ze,it,yt){var Nt=this.exportVisualsContentStatusInternal();Nt===o.QC.Allowed||Nt===o.QC.DisabledByAdmin?new et(this.visualDownloadService,this.telemetryService,this.proxy.plugin,this.instanceId).exportVisualsContent(J,this.proxy.plugin.name+"_"+ce,Ce,ze,it).then(je=>{this.proxy.postMessage("handleExportVisualsContent",[je])}):(yt({telemetryServiceArgs:{cvHostEnvironment:this.visualSandboxOptions?.hostEnv?fe[this.visualSandboxOptions.hostEnv]:"Undefined"}}),this.logPrivilegesViolation("ExportContent",Nt),this.proxy.postMessage("handleExportVisualsContent",[{data:{downloadCompleted:!1},promiseId:it}]))}onSwitchFocusModeState(J){this.visualHostServices.onSwitchFocusModeState(J)}onDisplayWarningIcon(J,ce,Ce){var yt=Xe.EK,Nt=new K.G(Xe.oX,J.substr(0,Xe.AA),ce.substr(0,yt));this.visualHostServices.setWarnings([Nt]),Ce({telemetryServiceArgs:{isCustom:this.proxy.plugin.custom}})}getRowsRoles(J){var ce=J&&J.dataViewMappings&&J.dataViewMappings[0]&&J.dataViewMappings[0].matrix&&J.dataViewMappings[0].matrix.rows;return ce?Pe.e1.fromMatrixRows(ce):void 0}fixCoordinates(J){if(/Edge\/\d./i.test(navigator.userAgent)&&$("body.fullScreen").length>0)return J;var ce=this.element.offset();return J[0]=J[0]*this.viewPortScale+ce.left,J[1]=J[1]*this.viewPortScale+ce.top,J}deserializeIdentities(J){if(J&&(0,L.Ht)(this.proxy?.plugin)){var ce=[];for(var Ce of J)ce.push(this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(Ce));return ce&&_(ce).map(yt=>yt.getSelectorsByColumn()).compact().value()}return J&&_(J).map(yt=>(0,d.bZ)(yt)).compact().value()}showTooltip(J){if(this.tooltipService&&this.tooltipService.enabled()){var ce=_.cloneDeep(J);ce.coordinates=this.fixCoordinates(ce.coordinates),ce.identities=this.deserializeIdentities(J.identities),this.tooltipService.show(ce)}}moveTooltip(J){if(this.tooltipService&&this.tooltipService.enabled()){var ce=_.cloneDeep(J);ce.coordinates=this.fixCoordinates(ce.coordinates),ce.identities=this.deserializeIdentities(J.identities),this.tooltipService.move(ce)}}hideTooltip(J){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide(J)}getAvailableServicePlans(J){if(this.telemetryService.logEvent(Ge.z9,{visualType:this.proxy.plugin.name}),this.logLicensingStandardizedFeatureEvent(Ge.Ow),this.licenseService){var ce=(0,L.wF)(this.proxy.plugin.name,this.proxy.isDebug);this.licenseService.getServicePlans(ce).then(ze=>{if(!ze)throw Error("servicePlansResponse is undefined");var{servicePlans:it,isLicenseInfoAvailable:yt,isLicenseUnsupported:Nt}=ze;this.proxy.postMessage("handleLicenseResult",[{promiseId:J,licenseInfoResult:{plans:it,isLicenseUnsupportedEnv:Nt,isLicenseInfoAvailable:yt}}])}).catch(()=>{this.telemetryService.logEvent(Ge.TM,{visualType:this.proxy.plugin.name}),this.proxy.postMessage("handleLicenseResult",[{promiseId:J,licenseInfoResult:void 0}])})}else this.telemetryService.logEvent(Ge.fu,{visualType:this.proxy.plugin.name}),this.proxy.postMessage("handleLicenseResult",[{promiseId:J,licenseInfoResult:void 0}])}acquireAADToken(J){var ce=this;return(0,a.A)(function*(){var Ce=yield ce.customVisualsTokenManagerService.acquireTokenForCustomVisual(ce.proxy.plugin,ce.proxy.isDebug),ze=ce.getAcquireAADTokenResult(Ce);ce.proxy.postMessage("handleAcquireAADTokenResult",[{promiseId:J,data:ze}])})()}getAcquireAADTokenResult(J){if(J){var{accessToken:ce,cloudName:Ce,expiresOn:ze,userId:it,tenantId:yt}=J;return{accessToken:ce,expiresOn:ze,userInfo:{userId:it,tenantId:yt},fabricInfo:{cloudName:Ce}}}return{accessToken:null}}getAcquireAADTokenStatus(J,ce){var Ce=this;return(0,a.A)(function*(){var ze=yield Ce.getAcquireAADTokenPrivilegeStatus(),it=ae[ze];ce({activityAttributesArgs:{status:it},telemetryServiceArgs:{status:it}}),Ce.proxy.postMessage("handleGetAcquireAADTokenStatus",[{promiseId:J,status:ze}])})()}getAcquireAADTokenPrivilegeStatus(){var J=this;return(0,a.A)(function*(){var ce=J.privilegeService.getAcquireAADTokenStatus(J.proxy.plugin);return ce!==o.QC.Allowed||(yield J.isAcquireAADTokenSupported())?ce:o.QC.NotSupported})()}isAcquireAADTokenSupported(){var J=this;return(0,a.A)(function*(){return J.isDebugOrApprovedResource()&&!!(yield J.privilegeService.getAcquireAADTokenAudience(J.proxy.plugin,J.proxy.isDebug))})()}isDebugOrApprovedResource(){return this.proxy.isDebug||this.approvedResourcesService.isApprovedResource(this.proxy.plugin.name)}notifyLicenseRequired(J,ce){var Ce=this;return(0,a.A)(function*(){var ze={promiseId:ce,licenseNotificationResult:void 0},it=yield Ce.licenseService.isLicenseUnsupportedEnv();null==J||it!==(J===mt.Zb.UnsupportedEnv)||J===mt.Zb.General&&Ce.visualHostServices.getViewMode()!==mt.nE.Edit?ze.licenseNotificationResult=!1:(Ce.visualHostServices.onNotifyLicense(J),ze.licenseNotificationResult=!0),Ce.proxy.postMessage("handleLicenseNotificationResult",[ze]);var yt=null==J?"null":re[J];Ce.telemetryService.logEvent(Ge.MT,{visualType:Ce.proxy.plugin.name,notificationType:yt,responseValue:ze.licenseNotificationResult}),Ce.logLicensingStandardizedFeatureEvent(Ge.HI,{notificationType:yt,responseValue:ze.licenseNotificationResult})})()}notifyFeatureBlocked(J,ce){var Ce=this;return(0,a.A)(function*(){var ze={promiseId:ce,licenseNotificationResult:void 0};(yield Ce.licenseService.isLicenseUnsupportedEnv())?ze.licenseNotificationResult=!1:(Ce.visualHostServices.onNotifyFeatureBlocked(J),ze.licenseNotificationResult=!0),Ce.proxy.postMessage("handleLicenseNotificationResult",[ze]),Ce.telemetryService.logEvent(Ge.r6,{visualType:Ce.proxy.plugin.name,responseValue:ze.licenseNotificationResult}),Ce.logLicensingStandardizedFeatureEvent(Ge.C9,{responseValue:ze.licenseNotificationResult})})()}clearLicenseNotification(J){var ce={promiseId:J,licenseNotificationResult:!0};this.visualHostServices.onClearLicenseNotification(),this.proxy.postMessage("handleLicenseNotificationResult",[ce]),this.telemetryService.logEvent(Ge.E3,{visualType:this.proxy.plugin.name,responseValue:ce.licenseNotificationResult}),this.logLicensingStandardizedFeatureEvent(Ge.p3,{responseValue:ce.licenseNotificationResult})}logLicensingStandardizedFeatureEvent(J,ce){this.certifiedEventsService.logStandardizedFeatureEvent({activityAttributes:ce,activityName:J,correlationId:this.telemetryService.root?.id,visualId:this.proxy.plugin.name})}loadMoreData(J,ce){var Ce=this;return(0,a.A)(function*(){var ze=Yt=>{ce({telemetryServiceArgs:{isError:!0,errorMessage:Yt}})},it=(Yt,Qt,sr,je)=>{try{Ce.proxy.postMessageAsync("handleLoadMoreDataResult",[Yt,Qt,sr]),je.performanceActivity?.resolve()}catch{ze("postMessage error while posting handleLoadMoreDataResult")}};if(Ce.canHandleLoadMoreData&&(void 0===J&&(J=!0),Ce.visualAdapterHostServices)){Ce.canHandleLoadMoreData=!1,Ce.visualAdapterHostServices.startProgressBar();try{var yt=yield Ce.visualAdapterHostServices.getNextDataSegment();if(Ce.proxy?.plugin&&(0,L.Ht)(Ce.proxy.plugin)&&yt?.result?.dataReaderResult?.dataView){H.Y.assert(()=>!!Ce.dataViewSerializer.identitiesArray,"identitiesArray should be defined because update was called");var Nt=Ce.proxy.plugin,Lt=yt.result.dataReaderResult.dataView;Lt=(0,Y.Bb)({prototype:Lt,objectDescriptors:Nt.capabilities?Nt.capabilities.objects:null,dataViewMappings:Nt.capabilities?Nt.capabilities.dataViewMappings:null,transforms:Ce.dataTransforms,colorAllocatorFactory:(0,W.r)(),dataRoles:Nt.capabilities?Nt.capabilities.dataRoles:null,drillCapabilities:Nt.capabilities&&Nt.capabilities.drilldown,expandCollapseCapabilties:Nt.capabilities&&Nt.capabilities.expandCollapse,visualStyle:Ce.visualStyle,keepAllMetadataColumnsCapability:!!Nt.capabilities&&Nt.capabilities.keepAllMetadataColumns,featureSwitches:Ce.featureSwitches}).dataViews[0];var zt=Ce.dataViewSerializer.serializeDataViewForCv(Lt,Nt.capabilities,!0,(0,ft.gt)(Nt.apiVersion,"3.5.9"),yt.secondToLastNodesIndex,(0,ft.ge)(Nt.apiVersion,"5.3.0"),(0,ft.ge)(Nt.apiVersion,"5.9.0"));Nt.capabilities&&Nt.capabilities.expandCollapse&&Ce.visualAdapterHostServices.mergeNewSegmentDataView(yt),it(zt,J,yt.secondToLastNodesIndex,yt)}else it(yt&&yt.result,J,void 0,yt)}catch(Yt){throw ze("General error in getNextDataSegment"),Ce.visualAdapterHostServices.stopProgressBar(),Yt}finally{Ce.canHandleLoadMoreData=!0}}})()}getResourceUrl(J,ce){this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getResourceUrl(J).then(Ce=>{this.proxy.postMessage("handleGetResourceUrlResult",[{payload:Ce,isError:!1,promiseId:ce}])}).catch(Ce=>{this.proxy.postMessage("handleGetResourceUrlResult",[{payload:Ce,isError:!0,promiseId:ce}])})}getAADAuthenticationToken(J,ce){this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getAADAuthenticationToken(J).then(Ce=>{this.proxy.postMessage("handleGetAADAuthenticationTokenResult",[{payload:Ce.payload,isError:!1,promiseId:ce,resourceUrl:Ce.resourceUrl}])}).catch(Ce=>{this.proxy.postMessage("handleGetAADAuthenticationTokenResult",[{payload:Ce,isError:!0,promiseId:ce}])})}getAADToken(J,ce){this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getAADToken(J).then(Ce=>{this.proxy.postMessage("handleGetAADTokenResult",[{payload:Ce,isError:!1,promiseId:ce}])}).catch(Ce=>{this.proxy.postMessage("handleGetAADTokenResult",[{payload:Ce,isError:!0,promiseId:ce}])})}getWACToken(J,ce,Ce,ze){this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getWACToken(J,ce,Ce).then(it=>{this.proxy.postMessage("handleGetWACTokenResult",[{payload:it.accessToken,wacToken:it,isError:!1,promiseId:ze}])}).catch(it=>{this.proxy.postMessage("handleGetWACTokenResult",[{payload:it,isError:!0,promiseId:ze}])})}launchUrl(J){this.visualSandboxOptions&&_.isFunction(this.visualSandboxOptions.urlLauncher)&&this.visualSandboxOptions.urlLauncher(J,this.proxy.plugin.name)}openModalDialog(J,ce,Ce,ze,it){var yt=$t=>{it({telemetryServiceArgs:{isError:!0,errorMessage:$t}})};if(!_.isFunction(this.visualSandboxOptions.openIFrameDialog)||!this.initOptions?.interactivity?.allowModalDialog||J.length>80||/[^0-9a-zA-Z_ \.]/.test(J))return yt("notAllowed"),void this.proxy.postMessage("handleModalDialogResult",[{promiseId:ze,isError:!0,data:{error:me.NotAllowed}}]);if(rt.dialogBlockedVisuals[this.proxy.plugin.name])return yt("blockedByUser"),void this.proxy.postMessage("handleModalDialogResult",[{promiseId:ze,isError:!0,data:{error:me.BlockedByUser}}]);ce.position&&ce.position.type===o.u7.RelativeToVisual&&([ce.position.left,ce.position.top]=this.fixCoordinates([ce.position.left,_.clamp(ce.position.top,0,ce.position.top)]));var zt=new de((0,G.Ev)(this.promiseFactory),this.telemetryService,this.proxy.plugin,this.instanceId),Yt=this.proxy.plugin.displayName,Qt=this.visualSandboxOptions.dialogSandboxUri,sr=this.visualSandboxOptions.sandboxPropertiesString,je=JSON.stringify(Ce),Tt=this.generateDialogScript(J,je),Kt=this.proxy.plugin.content.css;try{var pt=this.visualSandboxOptions.openIFrameDialog({title:Yt,subTitle:ce.title,iconUrl:this.proxy.plugin.iconUrl,size:ce.size,position:ce.position,actionButtons:ce.actionButtons,sandboxProperties:sr,iframeSrc:Qt,onIframeLoad:$t=>{if($t.contentWindow)try{zt.iframe=$t,$t.contentWindow.postMessage({messageType:"DialogContent",style:Kt,scriptContent:Tt},"*")}catch{yt("IframePostMessageError")}},onBlockRequest:$t=>{rt.dialogBlockedVisuals[this.proxy.plugin.name]=$t},onClose:$t=>{zt.dialog=null;var er={promiseId:ze,data:{actionId:$t,resultState:zt.modalDialogState}};try{this.proxy.postMessage("handleModalDialogResult",[er])}catch{yt("dialogResultPostMessageError")}zt.destroy()}});if(!pt)return yt("alreadyOpen"),void this.proxy.postMessage("handleModalDialogResult",[{promiseId:ze,isError:!0,data:{error:me.AlreadyOpen}}]);zt.dialog=pt}catch($t){throw yt("openIframeDialogError"),$t}}getLocalStorageStatusInternal(){var J=this.privilegeService.getLocalStorageStatus(this.proxy.plugin);return J===o.QC.Allowed&&(J=this.proxy.isDebug||this.proxy.plugin.developerModeVisual||this.approvedResourcesService.canUseLocalStorage(this.proxy.plugin.name)?o.QC.Allowed:o.QC.DisabledByAdmin),J}isLocalStoragePermitted(){var J=this.getLocalStorageStatusInternal(),ce=J===o.QC.Allowed;return ce||this.logPrivilegesViolation("LocalStorage",J),ce}getStorageStatus(J,ce){var ze={promiseId:J,status:this.getLocalStorageStatusInternal()};ce({telemetryServiceArgs:{isStatusCall:!0},activityAttributesArgs:{isStatusCall:!0}}),this.proxy.postMessage("handleGetStorageStatus",[ze])}getStorageData(J,ce){if(this.isLocalStoragePermitted()){var Ce=Ie.getData((0,Qe.ug)()?.puid,this.proxy.plugin.name,J);this.proxy.postMessage("handleGetStorageData",[{promiseId:ce,data:Ce}])}else this.proxy.postMessage("handleGetStorageData",[{promiseId:ce,data:null}])}setStorageData(J,ce,Ce){if(this.isLocalStoragePermitted()){var ze=Ie.setData((0,Qe.ug)()?.puid,this.proxy.plugin.name,J,ce);this.proxy.postMessage("handleSetStorageData",[{promiseId:Ce,freeSpace:ze,isError:ze<=0}])}else this.proxy.postMessage("handleSetStorageData",[{promiseId:Ce,freeSpace:0,isError:!0}])}removeStorageData(J){this.isLocalStoragePermitted()&&Ie.remove((0,Qe.ug)()?.puid,this.proxy.plugin.name,J)}getStorageV2Status(J,ce){var Ce=this;return(0,a.A)(function*(){var it={status:yield Ce.visualLocalStorageV2ProxyService.getStorageV2Status(Ce.proxy.plugin),promiseId:J};ce({telemetryServiceArgs:{isStatusCall:!0},activityAttributesArgs:{isStatusCall:!0}}),Ce.proxy.postMessage("handleGetStorageStatus",[it])})()}getStorageV2Data(J,ce){var Ce=this;return(0,a.A)(function*(){var ze=yield Ce.visualLocalStorageV2ProxyService.getStorageV2Data(J,Ce.proxy.plugin),it={promiseId:ce,...ze};Ce.proxy.postMessage("handleGetStorageV2Data",[it])})()}setStorageV2Data(J,ce,Ce){var ze=this;return(0,a.A)(function*(){var it=yield ze.visualLocalStorageV2ProxyService.setStorageV2Data(J,ce,ze.proxy.plugin),yt={promiseId:Ce,...it};ze.proxy.postMessage("handleSetStorageV2Data",[yt])})()}removeStorageV2Data(J){var ce=this;return(0,a.A)(function*(){ce.visualLocalStorageV2ProxyService.removeStorageV2Data(J,ce.proxy.plugin)})()}onSecurityPolicyViolation(J,ce,Ce){this.logPrivilegesViolation("WebAccess",this.privilegeService.getWebAccessStatus(this.proxy.plugin,J),`{"violatedDirective": "${ce}", "blockedURI": "${J}"}`)}onGlobalUndefinedGet(J){if(J.length>256||/[^0-9a-zA-Z_\.]/.test(J))H.Y.assert(()=>!1,"invalid property provided");else if(!J.startsWith(`powerbi.visuals.plugins.${this.proxy.plugin.name}`)){var Ce=`${this.proxy.plugin.name}:${J}`;rt.globalUndefinedGets.has(Ce)||(rt.globalUndefinedGets.add(Ce),this.logUndefinedGet(J))}}stopProgressBar(){this.visualAdapterHostServices&&this.visualAdapterHostServices.stopProgressBar()}onRestoreSelection(J){return this.proxy.postMessage("onRestoreSelection",[J]),!0}onClearSelection(){this.visualSelections=[],this.proxy.postMessage("onRestoreSelection",[])}destroy(){this.dataViewSerializer&&this.dataViewSerializer.flushIdentitiesArray(),this.isDestroyed=!0,this.proxy.postMessage("destroy",[]),this.proxy.destroy()}logPrivilegesViolation(J,ce,Ce){this.telemetryService.logEvent(Ge.ud,{visualType:this.proxy.plugin.name,environment:this.visualSandboxOptions?.hostEnv?fe[this.visualSandboxOptions.hostEnv]:"Undefined",privilege:J,status:ae[ce],parameters:Ce})}logUndefinedGet(J){this.telemetryService.logEvent(Ge.IJ,{visualType:this.proxy.plugin.name,property:J,emCVDisableGlobals:!!this.featureSwitchService.featureSwitches.emCVDisableGlobals})}resize(J){this.viewPortScale=J.scale,this.element&&!this.isDestroyed&&this.element.children().css({width:J.width,height:J.height})}shouldUpdateWithCachedData(J){return(!J.visualDefinitionData||!J.visualDefinitionData.dataViewSource||!this.lastDataViewSource)&&this.dataViewSerializer.flushIdentitiesArray(),J.visualDefinitionData&&J.visualDefinitionData.dataViewSource&&J.visualDefinitionData.dataViewSource===this.lastDataViewSource}generateDialogScript(J,ce){return this.proxy.plugin.content.js+`\nconst host = {\n                setResult: (result) => {\n                    const msg = JSON.stringify({ eventName: "onDialogSetState", arguments: [result] });\n                    parent.postMessage(msg, "*");\n                },\n                close: (actionId, result) => {\n                    const msg = JSON.stringify({ eventName: "onDialogClose", arguments: [actionId, result] });\n                    parent.postMessage(msg, "*");\n                }\n            };\n\n            const element = document.body;\n            const dialogConstructionOptions = { host: host, element: element };\n            ${this.proxy.plugin.name}.default.createModalDialog('${J}', dialogConstructionOptions, ${ce});\n\n            const msg = JSON.stringify( {eventName: "onDialogResize", arguments: [document.body.scrollWidth, document.body.scrollHeight] });\n            parent.postMessage(msg, "*");`}applyIdentityFilter(J,ce,Ce,ze){var it=J[0].target;if(!(0,ft.lt)(this.proxy&&this.proxy.plugin&&this.proxy.plugin.apiVersion,"3.9.0")){ze=it&&it.length>0?mt.Bs.merge:mt.Bs.remove;var Nt=this.dataViewSerializer.convertOpaqueIdentitiesToScopeIds(it);this.visualHostServices.applyIdentityFilter(Nt,ce,Ce,ze)}}applyCustomSort(J,ce){J&&J.sortDescriptors&&this.proxy?.plugin?.capabilities?.sorting?.custom?this.visualHostServices.onCustomSort({sortDescriptors:J.sortDescriptors,suppressAnnouncements:!0}):ce({telemetryServiceArgs:{aborted:!0}})}}return rt.dialogBlockedVisuals={},rt.globalUndefinedGets=new Set,(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"onSelect",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"subSelect",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"updateRegionOutlines",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"transformCvSelectionIdsAndSelect",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"onUpdateResult",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[UIEvent]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"onRelayUIEvent",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"persistProperties",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,String,String,Number]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"applyJsonFilter",null),(0,i.__decorate)([(0,X.JO)(r.Y.HierarchyIdentityFilter,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,String,String,Number,Function]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"applyHierarchyIdentityFilter",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.DynamicDrillControl,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Boolean,Function]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"setCanDrill",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"drill",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.ContextMenu,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Function]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"onCustomVisualContextMenu",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.ExpandCollapse,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Function]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"onCustomVisualExpandCollapse",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"exportVisualsContentStatus",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.DownloadAFileFromCV,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,String,String,String,Number,Function]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"exportVisualsContent",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Boolean]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"onSwitchFocusModeState",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.InformativeIcon,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,String,Function]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"onDisplayWarningIcon",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.ReportTooltips),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"showTooltip",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"moveTooltip",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"hideTooltip",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"getAvailableServicePlans",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.AcquireAADToken),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",Promise)],rt.prototype,"acquireAADToken",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.AcquireAADTokenStatus,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number,Function]),(0,i.__metadata)("design:returntype",Promise)],rt.prototype,"getAcquireAADTokenStatus",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number,Number]),(0,i.__metadata)("design:returntype",Promise)],rt.prototype,"notifyLicenseRequired",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Number]),(0,i.__metadata)("design:returntype",Promise)],rt.prototype,"notifyFeatureBlocked",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"clearLicenseNotification",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.FetchMoreData,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Boolean,Function]),(0,i.__metadata)("design:returntype",Promise)],rt.prototype,"loadMoreData",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"launchUrl",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.ModalDialog,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Object,Object,Number,Function]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"openModalDialog",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.LocalStorage,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number,Function]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"getStorageStatus",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.LocalStorage),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Number]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"getStorageData",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.LocalStorage),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,String,Number]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"setStorageData",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.LocalStorage),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"removeStorageData",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.LocalStorageV2,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number,Function]),(0,i.__metadata)("design:returntype",Promise)],rt.prototype,"getStorageV2Status",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.LocalStorageV2),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Number]),(0,i.__metadata)("design:returntype",Promise)],rt.prototype,"getStorageV2Data",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.LocalStorageV2),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,String,Number]),(0,i.__metadata)("design:returntype",Promise)],rt.prototype,"setStorageV2Data",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.LocalStorageV2),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String]),(0,i.__metadata)("design:returntype",Promise)],rt.prototype,"removeStorageV2Data",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,String,String]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"onSecurityPolicyViolation",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"onGlobalUndefinedGet",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"stopProgressBar",null),(0,i.__decorate)([(0,x.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,String,String,Number]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"applyIdentityFilter",null),(0,i.__decorate)([(0,x.HJ)(),(0,X.JO)(r.Y.CustomSorting,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Function]),(0,i.__metadata)("design:returntype",void 0)],rt.prototype,"applyCustomSort",null),rt})()},988045:function(ve,z,e){e.d(z,{T:function(){return c}});var a=e(18122),i=e(476271),r=e(573740),t=e(778122),o=e(534629),n="children";class c{constructor(){this.serializeDataViewFromScrathTimes=0,this.matrixIdentityToValueMapper=new Map,this.initializeFields()}serializeDataViewForCv(p,l,u,v,m,g=!1,E=!1){if(u||(this.initializeFields(),this.serializeDataViewFromScrathTimes=(this.serializeDataViewFromScrathTimes+1)%11617),p){p=this.filterDataViewsType(p,l),this.isExpandCollapseSupported=!!p.matrix&&!!l.expandCollapse,this.isExpandCollapseSupported&&(u&&(a.Y.assert(()=>!_.isEmpty(m),"lastNodeIndex should be defined and not empty when we load more data"),this.lastNodeIndex=m),p.matrix.rows.levels.forEach((y,f)=>{y.sources&&y.sources[0]&&y.sources[0].queryName&&(this.rowsLevel.length>f?this.rowsLevel[f]=y.sources[0].queryName:this.rowsLevel.push(y.sources[0].queryName))}));var D=this.getValueSource(p),h=this.getValueGroups(p);this.shouldShareIdentityIndexStrategy=g&&!!p.matrix,E&&(E=!!p.matrix&&(0,o.I0)(l));var C=JSON.stringify(p,(y,f)=>this.replacer(y,f,v,E));return a.Y.assert(()=>_.isEmpty(this.stackNodeIndex),"stackNodeIndex should be empty"),{valueSource:D,valueGroups:h,stringifiedDataView:C}}}serializeDataViewMetadata(p){return p.metadata?JSON.stringify(p.metadata,(l,u)=>this.replacer(l,u)):null}deserializeDataView(p,l,u=!1,v=[],m=!1){var g;return this.isExpandCollapseSupported=u,this.lastNodeIndex=v,g=l||this.isExpandCollapseSupported&&m?JSON.parse(p.stringifiedDataView,(E,D)=>this.deserializeDataViewHelper(E,D,m)):JSON.parse(p.stringifiedDataView),this.reconstructValuesGroups(g,p),this.reconstructValuesSource(g,p),g}convertOpaqueIdentitiesToScopeIds(p){var l=[];if(p&&p.length>0)for(var u of p){var v=this.replaceOpaqueIndexWithScopeIds(u);v&&(v.opaqueIdentity={identityIndex:u},l.push(v))}return l}getDataViewScopeIdentityByCustomVisualOpaqueIdentity(p){return this.replaceOpaqueIndexWithScopeIds(p.identityIndex)}convertCVSelectionIdToPowerbiSelctionId(p){var l=JSON.parse(JSON.stringify(p),(u,v)=>this.replaceOpaqueIdentitiesWithDataViewScopeIdentities(u,v));return r.M3.createWithSelectorForColumnAndMeasures(l.dataMap,l.measures)}restoreIdentitiesIndexesFromSelectionId(p,l){var u={serializedDataMap:{},measures:p.metadata};return _.map(p.dataMap,(m,g)=>{a.Y.assert(()=>m.length<=1,"dataMap can only have one selector per column"),u.serializedDataMap[g]=[{identityIndex:this.ensureIdentityIsMapped(m[0])}]}),u.serializedDataMap=l&&!p.dataMap?null:u.serializedDataMap,u}getNodeIndexOfSelectionId(p){var l=[];if(p&&p.dataMap){if(p.nodeIndexes?.length)return p.nodeIndexes;for(var u in p.dataMap){var v=_.first(p.dataMap[u]).identityIndex;null!=this.identityNodeIndexArray[v]&&l.push(this.identityNodeIndexArray[v])}}return l}sortSelectionIdAccordingToRows(p){if(!p||!p.dataMap)return!1;var l=Object.keys(p.dataMap),u=Object.keys(p.dataMap).sort((g,E)=>this.rowsLevel.indexOf(g)-this.rowsLevel.indexOf(E)),v=!_.isEmpty(u)&&!_.isEmpty(this.rowsLevel)&&u.length<=this.rowsLevel.length&&u.every((g,E)=>g===this.rowsLevel[E]);if(v){var m=p.nodeIndexes;m?.length&&m.length===l.length&&(p.nodeIndexes=Object.entries(m).sort(([g],[E])=>this.rowsLevel.indexOf(l[Number(g)])-this.rowsLevel.indexOf(l[Number(E)])).map(([,g])=>g)),p.dataMap=u.reduce((g,E)=>(g[E]=p.dataMap[E],g),{})}return v}deserializeVisualObjectInstance(p){return JSON.parse(JSON.stringify(p,(l,u)=>this.replaceOpaqueIdentities(u)))}deserializeOpaqueIdentity(p){p?.data&&(p.data=p.data.map(l=>this.replaceOpaqueIdentities(l)))}flushIdentitiesArray(){!this.identitiesArray||0===this.identitiesArray.length||this.identitiesArray.forEach(p=>{p.opaqueIdentity=void 0,p.serializeDataViewFromScrathTimes=void 0})}getCustomVisualOpaqueIdentityByDataViewScopeIdentity(p){return{identityIndex:this.ensureIdentityIsMapped(p)}}getDataViewValueByCustomVisualOpaqueIdentity(p){var{identityIndex:l}=p;if(l>=0)return this.matrixIdentityToValueMapper.get(l)}getValueGroups(p){if(p&&p.categorical&&p.categorical.values&&p.categorical.values.grouped){var l=p.categorical.values.grouped();return JSON.stringify(l,(u,v)=>this.replacer(u,v))}return null}getValueSource(p){return p&&p.categorical&&p.categorical.values&&p.categorical.values.source?p.categorical.values.source:null}deserializeDataViewHelper(p,l,u){if(l&&(u&&this.isExpandCollapseSupported&&!isNaN(parseInt(p,10))&&null!=l.identity?.identityIndex&&(l.nodeIndex=l.nodeIndex??parseInt(p,10)),p===n&&l instanceof Array)){if(u&&this.isExpandCollapseSupported&&!_.isEmpty(l)&&_.first(l).isMerge&&!_.isEmpty(this.lastNodeIndex))for(var v in l){var m=l[v];m.identity&&(m.nodeIndex=m.nodeIndex??Number(v),m.nodeIndex+=this.lastNodeIndex[m.level])}for(var g=0;g<l.length;g++)if(l[g]&&(l[g].isDate&&(l[g].value=new Date(l[g].value)),l[g].values))for(var E in l[g].values)l[g].values[E].isDate&&(l[g].values[E].value=new Date(l[g].values[E].value))}return l}replacer(p,l,u,v=!1){if(l){if(v&&l.levelValues&&this.isDataViewScopeIdentity(l.identity)&&this.valuesStack.push(l.levelValues?.[0]?.value),!this.shouldShareIdentityIndexStrategy&&this.isExpandCollapseSupported&&!isNaN(parseInt(p,10))&&l.identity&&this.isDataViewScopeIdentity(l.identity)&&(this.stackNodeIndex.push(parseInt(p,10)+this.getNodeIndexOffset(l)),l.needOffset&&delete l.needOffset),this.isDataViewScopeIdentity(l)){if(l.serializeDataViewFromScrathTimes===this.serializeDataViewFromScrathTimes&&l.opaqueIdentity&&null!=l.opaqueIdentity.identityIndex){if(this.stackNodeIndex.length){var m=this.stackNodeIndex.pop();null==this.identityNodeIndexArray[l.opaqueIdentity.identityIndex]&&(this.identityNodeIndexArray[l.opaqueIdentity.identityIndex]=m)}return{identityIndex:l.opaqueIdentity.identityIndex}}a.Y.assert(()=>_.isEmpty(this.lastNodeIndex)||!_.isEmpty(this.lastNodeIndex)&&null==l.opaqueIdentity,"The new segment's values should not have opaqueIdentity"),l.serializeDataViewFromScrathTimes=this.serializeDataViewFromScrathTimes;var g=-1;return this.shouldShareIdentityIndexStrategy&&(g=this.getIndexOfIdentity(l))>-1?(l.opaqueIdentity={identityIndex:g},this.valuesStack.pop()):(l.opaqueIdentity={identityIndex:this.identitiesArray.length},this.shouldShareIdentityIndexStrategy&&(this.identitiesIndexesMapper[l.key]=this.identitiesArray.length),this.valuesStack.length&&this.matrixIdentityToValueMapper.set(this.identitiesArray.length,this.valuesStack.pop()),this.identitiesArray.push(l)),this.stackNodeIndex.length&&(this.identityNodeIndexArray[l.opaqueIdentity.identityIndex]=this.stackNodeIndex.pop()),l.opaqueIdentity}if(l instanceof Array){var E=[];if(!this.shouldShareIdentityIndexStrategy&&this.isExpandCollapseSupported&&p===n&&l.length&&l[0].isMerge)for(var D of l)D.identity&&(D.needOffset=!0);if(u&&p===n)for(var h=0;h<l.length;h++)if(l[h]&&(l[h].value&&l[h].value instanceof Date&&(l[h].isDate=!0),l[h].values))for(var C in l[h].values)l[h].values[C].value&&l[h].values[C].value instanceof Date&&(l[h].values[C].isDate=!0);return E.push(...l||[]),E}if("object"==typeof l&&!this.dontNeedToClone(l)){var y={};for(var f in l)y[f]=l[f];return y}}return l}replaceOpaqueIdentities(p){if(p){var l=p.identityIndex;if(void 0!==l&&l>=0&&l<this.identitiesArray.length)return(0,t.V)(this.identitiesArray[p.identityIndex])}return p}getNodeIndexOffset(p){return this.isExpandCollapseSupported&&!_.isEmpty(this.lastNodeIndex)&&p.needOffset?(a.Y.assert(()=>p.level<this.lastNodeIndex.length,"node's level is too high"),this.lastNodeIndex[p.level]):0}getIndexOfIdentity(p){return this.shouldShareIdentityIndexStrategy?this.identitiesIndexesMapper[p.key]??-1:_.findIndex(this.identitiesArray,u=>(0,i.aI)(u,p))}ensureIdentityIsMapped(p){var l=this.getIndexOfIdentity(p);return-1===l&&(l=this.identitiesArray.length,this.shouldShareIdentityIndexStrategy&&(this.identitiesIndexesMapper[p.key]=l),this.identitiesArray.push(p)),l}replaceOpaqueIdentitiesWithDataViewScopeIdentities(p,l){return l&&void 0!==l.identityIndex?this.identitiesArray[l.identityIndex]:l}filterDataViewsType(p,l){return l.dataViewMappings&&(l.dataViewMappings[0].categorical||(p.categorical=null),l.dataViewMappings[0].matrix||(p.matrix=null),l.dataViewMappings[0].table||(p.table=null),l.dataViewMappings[0].tree||(p.tree=null),l.dataViewMappings[0].single||(p.single=null)),p}dontNeedToClone(p){return p._proto_===Object.prototype||p instanceof Date}isDataViewScopeIdentity(p){return!!(p&&p.expr&&p.key&&p.kind)}reconstructValuesSource(p,l){l&&l.valueSource&&(p.categorical.values.source=l.valueSource)}reconstructValuesGroups(p,l){p&&p.categorical&&p.categorical.values&&p.categorical.values[0]&&(p.categorical.values.grouped=function(){return JSON.parse(l.valueGroups)})}replaceOpaqueIndexWithScopeIds(p){return p>=0&&p<this.identitiesArray.length?this.identitiesArray[p]:null}initializeFields(){this.identitiesArray=[],this.identityNodeIndexArray={},this.stackNodeIndex=[],this.rowsLevel=[],this.lastNodeIndex=[],this.identitiesIndexesMapper={},this.shouldShareIdentityIndexStrategy=!1,this.matrixIdentityToValueMapper.clear(),this.valuesStack=[]}}},892784:function(ve){ve.exports={Q:"1.42"}},481041:function(ve){ve.exports={t:"5.66"}}}]),this.parseTimeMarkers=this.parseTimeMarkers||{},(marker=this.parseTimeMarkers["web.clients.js"]||{}).endEval=window.jsCommon&&window.jsCommon.performance&&window.jsCommon.performance.now?window.jsCommon.performance.now():Date.now(),marker.isExternal=!0;